(self["webpackChunkbili_up_show"]=self["webpackChunkbili_up_show"]||[]).push([[998],{1001:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var l,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=l):i&&(l=s?function(){i.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,l):[l]}return{exports:t,options:u}}n.d(e,{Z:function(){return r}})},5817:function(t,e,n){n(1439),n(7585),n(5315),n(7658),function(t,n){n(e)}(0,(function(t){"use strict";function e(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||((r=r||Array.prototype.slice.call(e,0,i))[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function n(t){return i(t,"Function")}var r={}.toString,i=function(t,e){return r.call(t)==="[object "+e+"]"},o=function(t){return Array.isArray?Array.isArray(t):i(t,"Array")},a=function(t){if("object"!=typeof(e=t)||null===e||!i(t,"Object"))return!1;var e;if(null===Object.getPrototypeOf(t))return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n},s=(Object.values,5);function l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)!function t(e,n,r,i){for(var l in r=r||0,i=i||s,n){var u;n.hasOwnProperty(l)&&(null!==(u=n[l])&&a(u)?(a(e[l])||(e[l]={}),r<i?t(e[l],u,r+1,i):e[l]=n[l]):o(u)?(e[l]=[],e[l]=e[l].concat(u)):void 0!==u&&(e[l]=u))}}(t,e[r]);return t}function u(t){return t}var c,f=function(t,e){var n=(e=void 0===e?{}:e).fontSize,r=e.fontFamily,o=e.fontWeight,a=e.fontStyle;e=e.fontVariant;return(c=c||document.createElement("canvas").getContext("2d")).font=[a,e,o,n+"px",r].join(" "),c.measureText(i(t,"String")?t:"").width};if(!n(f))throw new TypeError("Expected a function");new Map;var h="undefined"!=typeof Float32Array?Float32Array:Array;function d(){var t=new h(9);return h!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var p=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=(e=e[8],n[0]),h=n[1],d=n[2],p=n[3],v=n[4],g=n[5],y=n[6],m=n[7];n=n[8];return t[0]=f*r+h*a+d*u,t[1]=f*i+h*s+d*c,t[2]=f*o+h*l+d*e,t[3]=p*r+v*a+g*u,t[4]=p*i+v*s+g*c,t[5]=p*o+v*l+g*e,t[6]=y*r+m*a+n*u,t[7]=y*i+m*s+n*c,t[8]=y*o+m*l+n*e,t};function v(t,e,n){for(;t<e;)t+=2*Math.PI;for(;n<t;)t-=2*Math.PI;return t}function g(t,e,n,r,i){var o=t[0],a=(t=t[1],d());return o=[o,t],(t=a)[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=o[0],t[7]=o[1],t[8]=1,t}f=new h(3),h!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);class y{constructor(t){this.options=l({},this.getDefaultOptions()),this.update(t)}getOptions(){return this.options}update(t={}){this.options=l({},this.options,t),this.rescale(t)}rescale(t){}}function m(t,e,n){for(let r=0;r<e.length;r+=1)t.has(e[r])||t.set(n(e[r]),r)}function b(t){const{value:e,from:n,to:r,mapper:i,notFoundReturn:o}=t;let a=i.get(e);if(void 0===a){if(o)return o;a=n.push(e)-1,i.set(e,a)}return r[a%r.length]}function x(t){return t instanceof Date?t=>""+t:"object"==typeof t?t=>JSON.stringify(t):t=>t}class w extends y{constructor(t){super(t)}getDefaultOptions(){return{domain:[],range:[]}}map(t){return 0===this.domainIndexMap.size&&m(this.domainIndexMap,this.getDomain(),this.domainKey),b({value:this.domainKey(t),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(t){return 0===this.rangeIndexMap.size&&m(this.rangeIndexMap,this.getRange(),this.rangeKey),b({value:this.rangeKey(t),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(t){var[e]=this.options.domain,[n]=this.options.range;this.domainKey=x(e),this.rangeKey=x(n),this.rangeIndexMap?(t&&!t.range||this.rangeIndexMap.clear(),t&&!t.domain&&!t.compare||(this.domainIndexMap.clear(),this.sortedDomain=void 0)):(this.rangeIndexMap=new Map,this.domainIndexMap=new Map)}clone(){return new w(this.options)}getRange(){return this.options.range}getDomain(){var t,e;return this.sortedDomain||(({domain:t,compare:e}=this.options),this.sortedDomain=e?[...t].sort(e):t),this.sortedDomain}}function _(t){const e=t["domain"];var n=e.length;if(0===n)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};const{range:r,paddingOuter:i,paddingInner:o,flex:a=[],round:s,align:l}=t;t=a,c=e.length;var u=0<(u=c-t.length)?[...t,...new Array(u).fill(1)]:u<0?t.slice(0,c):t,[c,t]=r,f=(t=t-c,t/(2/n*i+1-1/n*o));const h=f*o/n;f-=n*h;const d=function(t){const e=Math.min(...t);return t.map((t=>t/e))}(u),p=f/d.reduce(((t,e)=>t+e));u=new Map(e.map(((t,e)=>(e=d[e]*p,[t,s?Math.floor(e):e]))));const v=new Map(e.map(((t,e)=>(e=d[e]*p+h,[t,s?Math.floor(e):e]))));f=Array.from(v.values()).reduce(((t,e)=>t+e)),c+=(t-(f-f/n*o))*l;let g=s?Math.round(c):c;const y=new Array(n);for(let b=0;b<n;b+=1){y[b]=(m=g,Math.round(1e12*m)/1e12);var m=e[b];g+=v.get(m)}return{valueBandWidth:u,valueStep:v,adjustedRange:y}}class O extends w{constructor(t){super(t)}getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:void 0,flex:[]}}clone(){return new O(this.options)}getStep(t){return void 0===this.valueStep?1:void 0===t?Array.from(this.valueStep.values())[0]:this.valueStep.get(t)}getBandWidth(t){return void 0===this.valueBandWidth?1:void 0===t?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(t)}getRange(){return this.adjustedRange}getPaddingInner(){var{padding:t,paddingInner:e}=this.options;return 0<t?t:e}getPaddingOuter(){var{padding:t,paddingOuter:e}=this.options;return 0<t?t:e}rescale(){super.rescale();var{align:t,domain:e,range:n,round:r,flex:i}=this.options,{adjustedRange:t,valueBandWidth:n,valueStep:r}=_({align:t,range:n,round:r,flex:i,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:e});this.valueStep=r,this.valueBandWidth=n,this.adjustedRange=t}}function C(t,...e){return e.reduce(((t,e)=>n=>t(e(n))),t)}function S(t,e){return e-t?n=>(n-t)/(e-t):t=>.5}const E=Math.sqrt(50),M=Math.sqrt(10),k=Math.sqrt(2);function T(t,e,n){return e=(e-t)/Math.max(0,n),t=Math.floor(Math.log(e)/Math.LN10),n=e/10**t,0<=t?(n>=E?10:n>=M?5:n>=k?2:1)*10**t:-(10**-t)/(n>=E?10:n>=M?5:n>=k?2:1)}const A=(t,e,n=5)=>{const r=[t,e];let i,o=0,a=r.length-1,s=r[o],l=r[a];return l<s&&([s,l]=[l,s],[o,a]=[a,o]),0<(i=T(s,l,n))?(s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i,i=T(s,l,n)):i<0&&(s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i,i=T(s,l,n)),0<i?(r[o]=Math.floor(s/i)*i,r[a]=Math.ceil(l/i)*i):i<0&&(r[o]=Math.ceil(s*i)/i,r[a]=Math.floor(l*i)/i),r};function L(t){return null!=t&&!Number.isNaN(t)}f={exports:{}};var P,R={exports:{}},I=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||0<=t.length&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))},j=Array.prototype.concat,N=Array.prototype.slice,B=R.exports=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];I(i)?e=j.call(e,N.call(i)):e.push(i)}return e},D=(B.wrap=function(t){return function(){return t(B(arguments))}},{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),F=R.exports,z=Object.hasOwnProperty,W=Object.create(null);for(P in D)z.call(D,P)&&(W[D[P]]=P);var H=f.exports={to:{},get:{}};function $(t,e,n){return Math.min(Math.max(e,t),n)}function G(t){return t=Math.round(t).toString(16).toUpperCase(),t.length<2?"0"+t:t}H.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=H.get.hsl(t),n="hsl";break;case"hwb":e=H.get.hwb(t),n="hwb";break;default:e=H.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},H.get.rgb=function(t){if(!t)return null;var e,n,r,i=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(r=e[2],e=e[1],n=0;n<3;n++){var o=2*n;i[n]=parseInt(e.slice(o,2+o),16)}r&&(i[3]=parseInt(r,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(r=(e=e[1])[3],n=0;n<3;n++)i[n]=parseInt(e[n]+e[n],16);r&&(i[3]=parseInt(r+r,16)/255)}else{if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/))for(n=0;n<3;n++)i[n]=parseInt(e[n+1],0);else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(e=t.match(/^(\w+)$/))?"transparent"===e[1]?[0,0,0,0]:z.call(D,e[1])?((i=D[e[1]])[3]=1,i):null:null;for(n=0;n<3;n++)i[n]=Math.round(2.55*parseFloat(e[n+1]))}e[4]&&(e[5]?i[3]=.01*parseFloat(e[4]):i[3]=parseFloat(e[4]))}for(n=0;n<3;n++)i[n]=$(i[n],0,255);return i[3]=$(i[3],0,1),i},H.get.hsl=function(t){if(!t)return null;var e;t=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);return t?(e=parseFloat(t[4]),[(parseFloat(t[1])%360+360)%360,$(parseFloat(t[2]),0,100),$(parseFloat(t[3]),0,100),$(isNaN(e)?1:e,0,1)]):null},H.get.hwb=function(t){if(!t)return null;var e;t=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);return t?(e=parseFloat(t[4]),[(parseFloat(t[1])%360+360)%360,$(parseFloat(t[2]),0,100),$(parseFloat(t[3]),0,100),$(isNaN(e)?1:e,0,1)]):null},H.to.hex=function(){var t=F(arguments);return"#"+G(t[0])+G(t[1])+G(t[2])+(t[3]<1?G(Math.round(255*t[3])):"")},H.to.rgb=function(){var t=F(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},H.to.rgb.percent=function(){var t=F(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},H.to.hsl=function(){var t=F(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},H.to.hwb=function(){var t=F(arguments),e="";return 4<=t.length&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},H.to.keyword=function(t){return W[t.slice(0,3)]};var V=f.exports;function U(t,e,n){let r=n;return r<0&&(r+=1),1<r&&--r,r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Y(t){if(t=V.get(t),!t)return null;var e,n,{model:t,value:r}=t;return"rgb"===t?r:"hsl"===t?(r=(t=r)[0]/360,e=t[1]/100,n=t[2]/100,t=t[3],0==e?[255*n,255*n,255*n,t]:[255*U(n=2*n-(e=n<.5?n*(1+e):n+e-n*e),e,r+1/3),255*U(n,e,r),255*U(n,e,r-1/3),t]):null}const q=(t,e)=>n=>t*(1-n)+e*n,X=(t,e)=>{if("number"==typeof t&&"number"==typeof e)return q(t,e);if("string"!=typeof t||"string"!=typeof e)return()=>t;{var n=t,r=e;const i=Y(n),o=Y(r);return null===i||null===o?i?()=>n:()=>r:t=>{const e=new Array(4);for(let c=0;c<4;c+=1){var n=i[c],r=o[c];e[c]=n*(1-t)+r*t}var[a,s,l,u]=e;return`rgba(${Math.round(a)}, ${Math.round(s)}, ${Math.round(l)}, ${u})`}}},K=(t,e)=>{const n=q(t,e);return t=>Math.round(n(t))},Z=(t,e,n)=>{let r,i,o=t,a=e;if(o===a&&0<n)return[o];let s=T(o,a,n);if(0===s||!Number.isFinite(s))return[];if(0<s){o=Math.ceil(o/s),a=Math.floor(a/s),i=new Array(r=Math.ceil(a-o+1));for(let t=0;t<r;t+=1)i[t]=(o+t)*s}else{s=-s,o=Math.ceil(o*s),a=Math.floor(a*s),i=new Array(r=Math.ceil(a-o+1));for(let t=0;t<r;t+=1)i[t]=(o+t)/s}return i},Q=(t,e,n)=>{var[t,r]=t,[e,i]=e;let o,a;return C(a=t<r?(o=S(t,r),n(e,i)):(o=S(r,t),n(i,e)),o)},J=(t,e,n)=>{const r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r);var a=t[0]>t[r],s=a?[...t].reverse():t,l=a?[...e].reverse():e;for(let u=0;u<r;u+=1)i[u]=S(s[u],s[u+1]),o[u]=n(l[u],l[u+1]);return e=>{var n=function(t,e,n,r,i){let o=n||0,a=r||t.length;const s=i||(t=>t);for(;o<a;){var l=Math.floor((o+a)/2);s(t[l])>e?a=l:o=l+1}return o}(t,e,1,r)-1,a=i[n];return C(o[n],a)(e)}},tt=(t,e,n,r)=>{const i=2<Math.min(t.length,e.length)?J:Q;return r=r?K:n,i(t,e,r)};class et extends y{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:q,tickCount:5}}map(t){return L(t)?this.output(t):this.options.unknown}invert(t){return L(t)?this.input(t):this.options.unknown}nice(){var t,e,n,r;this.options.nice&&([t,e,n,...r]=this.getTickMethodOptions(),this.options.domain=this.chooseNice()(t,e,n,...r))}getTicks(){const t=this.options["tickMethod"];var[e,n,r,...i]=this.getTickMethodOptions();return t(e,n,r,...i)}getTickMethodOptions(){var{domain:t,tickCount:e}=this.options;return[t[0],t[t.length-1],e]}chooseNice(){return A}rescale(){this.nice();var[t,e]=this.chooseTransforms();this.composeOutput(t,this.chooseClamp(t)),this.composeInput(t,e,this.chooseClamp(e))}chooseClamp(t){var{clamp:e,range:n}=this.options,n=(t=this.options.domain.map(t),Math.min(t.length,n.length));if(e){e=t[0],t=t[n-1];const r=t<e?t:e,i=t<e?e:t;return t=>Math.min(Math.max(r,t),i)}return u}composeOutput(t,e){const{domain:n,range:r,round:i,interpolate:o}=this.options;var a=tt(n.map(t),r,o,i);this.output=C(a,e,t)}composeInput(t,e,n){const{domain:r,range:i}=this.options;t=tt(i,r.map(t),q),this.input=C(e,n,t)}}class nt extends et{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:X,tickMethod:Z,tickCount:5}}chooseTransforms(){return[u,u]}clone(){return new nt(this.options)}}class rt extends O{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:void 0,paddingInner:1,paddingOuter:0}}constructor(t){super(t)}getPaddingInner(){return 1}clone(){return new rt(this.options)}update(t){super.update(t)}getPaddingOuter(){return this.options.padding}}function it(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}function ot(t,e,n,r,i){var o=new nt({range:[e,e+r]}),a=new nt({range:[n,n+i]});return{transform:function(t){var e=t[0];t=t[1];return[o.map(e),a.map(t)]},untransform:function(t){var e=t[0];t=t[1];return[o.invert(e),a.invert(t)]}}}function at(t,e,n,r,i){return(0,t[0])(e,n,r,i)}function st(t,e,n,r,i){return t[0]}function lt(t,e,n,r,i){var o=t[0],a=t[1],s=t[2],l=(t=t[3],new nt({range:[s,t]})),u=new nt({range:[o,a]}),c=1<(s=i/r)?1:s,f=1<s?1/s:1;return{transform:function(t){var e=t[0];t=t[1],e=u.map(e),t=l.map(t);return[t*Math.cos(e)*c*.5+.5,t*Math.sin(e)*f*.5+.5]},untransform:function(t){var e=t[0],n=(t=t[1],e=2*(e-.5)/c,t=2*(t-.5)/f,Math.sqrt(Math.pow(e,2)+Math.pow(t,2)));t=v(Math.atan2(t,e),o,a);return[u.invert(t),l.invert(n)]}}}function ut(t,e,n,r,i){return{transform:function(t){var e=t[0];return[t[1],e]},untransform:function(t){var e=t[0];return[t[1],e]}}}function ct(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return yt.apply(void 0,e([[-1,-1]],n,!1))}function ft(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return yt.apply(void 0,e([[-1,1]],n,!1))}function ht(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return yt.apply(void 0,e([[1,-1]],n,!1))}function dt(t,e,n,r,i){t=t[0];var o,a=d();return o=Math.sin(t),t=Math.cos(t),a[0]=t,a[1]=o,a[2]=0,a[3]=-o,a[4]=t,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a}function pt(t,e,n,r,i){var o=t[0],a=t[1],s=t[2],l=(t[3]-s)/(+a/(2*Math.PI)+1),u=l/(2*Math.PI),c=new nt({range:[s,s+.99*l]}),f=new nt({range:[o,a]}),h=1<(t=i/r)?1:t,d=1<t?1/t:1;return{transform:function(t){var e=t[0];t=t[1],e=f.map(e),t=c.map(t);return[Math.cos(e)*(u*e+t)*h*.5+.5,Math.sin(e)*(u*e+t)*d*.5+.5]},untransform:function(t){var e=t[0],n=(t=t[1],e=2*(e-.5)/h,t=2*(t-.5)/d,Math.sqrt(Math.pow(e,2)+Math.pow(t,2)));t=v(Math.atan2(t,e)+Math.floor(n/l)*Math.PI*2,o,a),e=n-u*t;return[f.invert(t),c.invert(e)]}}}function vt(t,e,n,r,i){var o=t[0],a=t[1],s=t[2],l=(t=t[3],new nt({range:[s,t]}));return{transform:function(t){for(var e=[],n=t.length,r=new rt({domain:new Array(n).fill(0).map((function(t,e){return e})),range:[o,a]}),i=0;i<n;i++){var s=t[i],u=r.map(i);s=l.map(s);e.push(u,s)}return e},untransform:function(t){for(var e=[],n=0;n<t.length;n+=2){var r=t[n+1];e.push(l.invert(r))}return e}}}R=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f=["January","February","March","April","May","June","July","August","September","October","November","December"];var gt=it(f,3),yt=(function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o,a=i[r];for(o in a)t[o]=a[o]}}({},{dayNamesShort:it(R,3),dayNames:R,monthNamesShort:gt,monthNames:f,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][3<t%10?0:(t-t%10!=10?1:0)*t%10]}}),function(t,e,n,r,i){var o=t[0],a=(t=t[1],d());return o=[o,t],(t=a)[0]=o[0],t[1]=0,t[2]=0,t[3]=0,t[4]=o[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t});function mt(t){return 1/Math.tan(t)}function bt(t,e,n,r,i){var o=mt(t[0]);return{transform:function(t){var e=t[0];t=t[1];return[e+t*o,t]},untransform:function(t){var e=t[0];t=t[1];return[e-t*o,t]}}}function xt(t,e,n,r,i){var o=mt(t[0]);return{transform:function(t){var e=t[0];return[e,t[1]+e*o]},untransform:function(t){var e=t[0];return[e,t[1]-e*o]}}}function wt(t,e,n,r,i){var o=t<e;i=(o?e-r:i-e)||i-r,r=o?-1:1;return r*i*(n+1)/(n+i/((t-e)*r))+e}function _t(t,e,n,r,i){var o=t<e;i=(o?e-r:i-e)||i-r;return i/(i*(n+1)/(t-e)-n*(o?-1:1))+e}function Ot(t,e,n){return n?new nt({range:[0,1],domain:[0,e]}).map(t):t}function Ct(t,e,n,r,i){var o=t[0],a=t[1],s=(t=t[2],Ot(o,r,void 0!==t&&t));return{transform:function(t){var e=t[0];t=t[1];return[wt(e,s,a,0,1),t]},untransform:function(t){var e=t[0];t=t[1];return[_t(e,s,a,0,1),t]}}}function St(t,e,n,r,i){var o=t[0],a=t[1],s=(t=t[2],Ot(o,i,void 0!==t&&t));return{transform:function(t){return[t[0],wt(t[1],s,a,0,1)]},untransform:function(t){return[t[0],_t(t[1],s,a,0,1)]}}}function Et(t,e,n,r,i){var o=t[0],a=t[1],s=t[2],l=t[3],u=(t=t[4],Ot(o,r,t=void 0!==t&&t)),c=Ot(a,i,t);return{transform:function(t){var e=t[0];t=t[1];return[wt(e,u,s,0,1),wt(t,c,l,0,1)]},untransform:function(t){var e=t[0];t=t[1];return[_t(e,u,s,0,1),_t(t,c,l,0,1)]}}}function Mt(t,e,n,r,i){var o=t[0],a=t[1],s=t[2],l=t[3],u=(t=void 0!==(t=t[4])&&t,new nt({range:[0,r]})),c=new nt({range:[0,i]}),f=t?o:u.map(o),h=t?a:c.map(a);return{transform:function(t){var e=t[0],n=(t=t[1],u.map(e)-f),r=c.map(t)-h,i=Math.sqrt(n*n+r*r);return s<i?[e,t]:(e=wt(i,0,l,0,s),t=Math.atan2(r,n),i=f+e*Math.cos(t),r=h+e*Math.sin(t),[u.invert(i),c.invert(r)])},untransform:function(t){var e=t[0],n=(t=t[1],u.map(e)-f),r=c.map(t)-h,i=Math.sqrt(n*n+r*r);return s<i?[e,t]:(e=_t(i,0,l,0,s),t=Math.atan2(r,n),i=f+e*Math.cos(t),r=h+e*Math.sin(t),[u.invert(i),c.invert(r)])}}}function kt(t){this.options={x:0,y:0,width:300,height:150,transformations:[]},this.transformers={cartesian:ot,translate:g,custom:at,matrix:st,polar:lt,transpose:ut,scale:yt,"shear.x":bt,"shear.y":xt,reflect:ct,"reflect.x":ft,"reflect.y":ht,rotate:dt,helix:pt,parallel:vt,fisheye:Et,"fisheye.x":Ct,"fisheye.y":St,"fisheye.circular":Mt},this.update(t)}kt.prototype.update=function(t){this.options=l({},this.options,t),this.recoordinate()},kt.prototype.clone=function(){return new kt(this.options)},kt.prototype.getOptions=function(){return this.options},kt.prototype.clear=function(){this.update({transformations:[]})},kt.prototype.getSize=function(){var t=this.options;return[t.width,t.height]},kt.prototype.getCenter=function(){var t=this.options,e=t.x,n=t.y;return[(2*e+t.width)/2,(2*n+t.height)/2]},kt.prototype.transform=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.options.transformations;return this.update({transformations:e(e([],r,!0),[e([],t,!0)],!1)}),this},kt.prototype.map=function(t){return this.output(t)},kt.prototype.invert=function(t){return this.input(t)},kt.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},kt.prototype.compose=function(t){for(var n=(t=void 0!==t&&t)?e([],this.options.transformations,!0).reverse():this.options.transformations,r=t?function(t){return t.untransform}:function(t){return t.transform},i=[],o=[],a=function(t,e){return o.push((e=void 0===e||e)?(n=t,function(t){for(var e=[],r=0;r<t.length-1;r+=2){var i=[t[r],t[r+1]];i=n(i);e.push.apply(e,i)}return e}):t);var n},s=0,l=n;s<l.length;s++){var c,f,h,d,p=l[s],v=p[0],g=(p=p.slice(1),this.transformers[v]);g&&(c=(d=this.options).x,f=d.y,h=d.width,d=d.height,g=g(e([],p,!0),c,f,h,d),(p=g)instanceof Float32Array||p instanceof Array?i.push(g):(i.length&&(a(this.createMatrixTransform(i,t)),i.splice(0,i.length)),a(r(g)||u,"parallel"!==v)))}return i.length&&a(this.createMatrixTransform(i,t)),function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t?e.reduce((function(t,e){return function(n){return e(t(n))}}),t):u}.apply(void 0,o)},kt.prototype.createMatrixTransform=function(t,e){var n,r,i,o,a,s,l,u,c,f,v,g,y=d();return e&&t.reverse(),t.forEach((function(t){return p(y,y,t)})),e&&(e=t=y,(g=new h(9))[0]=e[0],g[1]=e[1],g[2]=e[2],g[3]=e[3],g[4]=e[4],g[5]=e[5],g[6]=e[6],g[7]=e[7],g[8]=e[8],g=(e=g)[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=(e=e[8])*o-a*l,(v=g*u+n*(c=-e*i+a*s)+r*(f=l*i-o*s))&&(t[0]=u*(v=1/v),t[1]=(-e*n+r*l)*v,t[2]=(a*n-r*o)*v,t[3]=c*v,t[4]=(e*g-r*s)*v,t[5]=(-a*g+r*i)*v,t[6]=f*v,t[7]=(-l*g+n*s)*v,t[8]=(o*g-n*i)*v)),function(t){var e,n,r,i,o;t=[t[0],t[1],1];return r=y,i=(n=e=t)[0],o=n[1],n=n[2],e[0]=i*r[0]+o*r[3]+n*r[6],e[1]=i*r[1]+o*r[4]+n*r[7],e[2]=i*r[2]+o*r[5]+n*r[8],[t[0],t[1]]}},t.Coordinate=kt,Object.defineProperty(t,"__esModule",{value:!0})}))},2224:function(t,e,n){"use strict";n(7658);var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(t,e,n,r,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||t,o),l=i?i+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function l(t,e){0===--t._eventsCount?t._events=new o:delete t._events[e]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),u.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},u.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},u.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},u.prototype.emit=function(t,e,n,r,o,a){var s=i?i+t:t;if(!this._events[s])return!1;var l,u,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,r),!0;case 5:return c.fn.call(c.context,e,n,r,o),!0;case 6:return c.fn.call(c.context,e,n,r,o,a),!0}for(u=1,l=new Array(f-1);u<f;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var h,d=c.length;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(t,c[u].fn,void 0,!0),f){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,e);break;case 3:c[u].fn.call(c[u].context,e,n);break;case 4:c[u].fn.call(c[u].context,e,n,r);break;default:if(!l)for(h=1,l=new Array(f-1);h<f;h++)l[h-1]=arguments[h];c[u].fn.apply(c[u].context,l)}}return!0},u.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,n,r){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return l(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||l(this,o);else{for(var s=0,u=[],c=a.length;s<c;s++)(a[s].fn!==e||r&&!a[s].once||n&&a[s].context!==n)&&u.push(a[s]);u.length?this._events[o]=1===u.length?u[0]:u:l(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&l(this,e)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,t.exports=u},937:function(t,e,n){"use strict";n.d(e,{kL:function(){return L2}});var r={};n.r(r),n.d(r,{add:function(){return Lt},adjoint:function(){return K},clone:function(){return $},copy:function(){return G},create:function(){return H},determinant:function(){return Z},equals:function(){return Nt},exactEquals:function(){return jt},frob:function(){return At},fromQuat:function(){return mt},fromQuat2:function(){return ht},fromRotation:function(){return st},fromRotationTranslation:function(){return ft},fromRotationTranslationScale:function(){return gt},fromRotationTranslationScaleOrigin:function(){return yt},fromScaling:function(){return at},fromTranslation:function(){return ot},fromValues:function(){return V},fromXRotation:function(){return lt},fromYRotation:function(){return ut},fromZRotation:function(){return ct},frustum:function(){return bt},getRotation:function(){return vt},getScaling:function(){return pt},getTranslation:function(){return dt},identity:function(){return Y},invert:function(){return X},lookAt:function(){return Mt},mul:function(){return Bt},multiply:function(){return Q},multiplyScalar:function(){return Rt},multiplyScalarAndAdd:function(){return It},ortho:function(){return St},orthoNO:function(){return Ct},orthoZO:function(){return Et},perspective:function(){return wt},perspectiveFromFieldOfView:function(){return Ot},perspectiveNO:function(){return xt},perspectiveZO:function(){return _t},rotate:function(){return et},rotateX:function(){return nt},rotateY:function(){return rt},rotateZ:function(){return it},scale:function(){return tt},set:function(){return U},str:function(){return Tt},sub:function(){return Dt},subtract:function(){return Pt},targetTo:function(){return kt},translate:function(){return J},transpose:function(){return q}});var i={};n.r(i),n.d(i,{frequency:function(){return ew},id:function(){return nw},name:function(){return rw},weight:function(){return tw}});var o={};n.r(o),n.d(o,{area:function(){return bL},bottom:function(){return EL},bottomLeft:function(){return EL},bottomRight:function(){return EL},inside:function(){return EL},left:function(){return EL},outside:function(){return LL},right:function(){return EL},spider:function(){return RL},surround:function(){return jL},top:function(){return EL},topLeft:function(){return EL},topRight:function(){return EL}});var a={};n.r(a),n.d(a,{geoAlbers:function(){return Tq},geoAlbersUsa:function(){return Lq},geoAzimuthalEqualArea:function(){return jq},geoAzimuthalEqualAreaRaw:function(){return Iq},geoAzimuthalEquidistant:function(){return Bq},geoAzimuthalEquidistantRaw:function(){return Nq},geoConicConformal:function(){return $q},geoConicConformalRaw:function(){return Hq},geoConicEqualArea:function(){return kq},geoConicEqualAreaRaw:function(){return Mq},geoConicEquidistant:function(){return Yq},geoConicEquidistantRaw:function(){return Uq},geoEqualEarth:function(){return eX},geoEqualEarthRaw:function(){return tX},geoEquirectangular:function(){return Vq},geoEquirectangularRaw:function(){return Gq},geoGnomonic:function(){return rX},geoGnomonicRaw:function(){return nX},geoIdentity:function(){return iX},geoMercator:function(){return Fq},geoMercatorRaw:function(){return Dq},geoNaturalEarth1:function(){return aX},geoNaturalEarth1Raw:function(){return oX},geoOrthographic:function(){return lX},geoOrthographicRaw:function(){return sX},geoProjection:function(){return Oq},geoProjectionMutator:function(){return Cq},geoStereographic:function(){return cX},geoStereographicRaw:function(){return uX},geoTransverseMercator:function(){return hX},geoTransverseMercatorRaw:function(){return fX}});var s={};n.r(s),n.d(s,{interpolateBlues:function(){return oZ},interpolateBrBG:function(){return yK},interpolateBuGn:function(){return jK},interpolateBuPu:function(){return BK},interpolateCividis:function(){return gZ},interpolateCool:function(){return IZ},interpolateCubehelixDefault:function(){return PZ},interpolateGnBu:function(){return FK},interpolateGreens:function(){return sZ},interpolateGreys:function(){return uZ},interpolateInferno:function(){return VZ},interpolateMagma:function(){return GZ},interpolateOrRd:function(){return WK},interpolateOranges:function(){return vZ},interpolatePRGn:function(){return bK},interpolatePiYG:function(){return wK},interpolatePlasma:function(){return UZ},interpolatePuBu:function(){return VK},interpolatePuBuGn:function(){return $K},interpolatePuOr:function(){return OK},interpolatePuRd:function(){return YK},interpolatePurples:function(){return fZ},interpolateRainbow:function(){return NZ},interpolateRdBu:function(){return SK},interpolateRdGy:function(){return MK},interpolateRdPu:function(){return XK},interpolateRdYlBu:function(){return TK},interpolateRdYlGn:function(){return LK},interpolateReds:function(){return dZ},interpolateSinebow:function(){return zZ},interpolateSpectral:function(){return RK},interpolateTurbo:function(){return WZ},interpolateViridis:function(){return $Z},interpolateWarm:function(){return RZ},interpolateYlGn:function(){return JK},interpolateYlGnBu:function(){return ZK},interpolateYlOrBr:function(){return eZ},interpolateYlOrRd:function(){return rZ},schemeAccent:function(){return XX},schemeBlues:function(){return iZ},schemeBrBG:function(){return gK},schemeBuGn:function(){return IK},schemeBuPu:function(){return NK},schemeCategory10:function(){return qX},schemeDark2:function(){return KX},schemeGnBu:function(){return DK},schemeGreens:function(){return aZ},schemeGreys:function(){return lZ},schemeOrRd:function(){return zK},schemeOranges:function(){return pZ},schemePRGn:function(){return mK},schemePaired:function(){return ZX},schemePastel1:function(){return QX},schemePastel2:function(){return JX},schemePiYG:function(){return xK},schemePuBu:function(){return GK},schemePuBuGn:function(){return HK},schemePuOr:function(){return _K},schemePuRd:function(){return UK},schemePurples:function(){return cZ},schemeRdBu:function(){return CK},schemeRdGy:function(){return EK},schemeRdPu:function(){return qK},schemeRdYlBu:function(){return kK},schemeRdYlGn:function(){return AK},schemeReds:function(){return hZ},schemeSet1:function(){return tK},schemeSet2:function(){return eK},schemeSet3:function(){return nK},schemeSpectral:function(){return PK},schemeTableau10:function(){return rK},schemeYlGn:function(){return QK},schemeYlGnBu:function(){return KK},schemeYlOrBr:function(){return tZ},schemeYlOrRd:function(){return nZ}});n(7658);var l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},l(t,e)};function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var c=function(){return c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},c.apply(this,arguments)};function f(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function h(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function d(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return l([t,e])}}function l(s){if(n)throw new TypeError("Generator is already executing.");while(o&&(o=0,s[0]&&(a=0)),a)try{if(n=1,r&&(i=2&s[0]?r["return"]:s[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(l){s=[6,l],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}Object.create;function p(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function g(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var y=n(2224),m=y,b=(n(1439),n(7585),n(5315),1e-6),x="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function w(){var t=new x(3);return x!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function _(t){var e=new x(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function O(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function C(t,e,n){var r=new x(3);return r[0]=t,r[1]=e,r[2]=n,r}function S(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function E(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function M(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function k(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function T(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function A(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function L(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function P(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function R(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function I(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2];return t[0]=i*l-o*s,t[1]=o*a-r*l,t[2]=r*s-i*a,t}function j(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function N(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function B(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function D(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],l=e[1],u=e[2],c=i*u-o*l,f=o*s-r*u,h=r*l-i*s,d=i*h-o*f,p=o*c-r*h,v=r*f-i*c,g=2*a;return c*=g,f*=g,h*=g,d*=2,p*=2,v*=2,t[0]=s+c+d,t[1]=l+f+p,t[2]=u+h+v,t}function F(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(n-o)<=b*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=b*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=b*Math.max(1,Math.abs(i),Math.abs(s))}Math.hypot||(Math.hypot=function(){var t=0,e=arguments.length;while(e--)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var z=L,W=O;(function(){var t=w()})();function H(){var t=new x(16);return x!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function $(t){var e=new x(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function G(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function V(t,e,n,r,i,o,a,s,l,u,c,f,h,d,p,v){var g=new x(16);return g[0]=t,g[1]=e,g[2]=n,g[3]=r,g[4]=i,g[5]=o,g[6]=a,g[7]=s,g[8]=l,g[9]=u,g[10]=c,g[11]=f,g[12]=h,g[13]=d,g[14]=p,g[15]=v,g}function U(t,e,n,r,i,o,a,s,l,u,c,f,h,d,p,v,g){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=u,t[9]=c,t[10]=f,t[11]=h,t[12]=d,t[13]=p,t[14]=v,t[15]=g,t}function Y(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function q(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function X(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],g=e[14],y=e[15],m=n*s-r*a,b=n*l-i*a,x=n*u-o*a,w=r*l-i*s,_=r*u-o*s,O=i*u-o*l,C=c*v-f*p,S=c*g-h*p,E=c*y-d*p,M=f*g-h*v,k=f*y-d*v,T=h*y-d*g,A=m*T-b*k+x*M+w*E-_*S+O*C;return A?(A=1/A,t[0]=(s*T-l*k+u*M)*A,t[1]=(i*k-r*T-o*M)*A,t[2]=(v*O-g*_+y*w)*A,t[3]=(h*_-f*O-d*w)*A,t[4]=(l*E-a*T-u*S)*A,t[5]=(n*T-i*E+o*S)*A,t[6]=(g*x-p*O-y*b)*A,t[7]=(c*O-h*x+d*b)*A,t[8]=(a*k-s*E+u*C)*A,t[9]=(r*E-n*k-o*C)*A,t[10]=(p*_-v*x+y*m)*A,t[11]=(f*x-c*_-d*m)*A,t[12]=(s*S-a*M-l*C)*A,t[13]=(n*M-r*S+i*C)*A,t[14]=(v*b-p*w-g*m)*A,t[15]=(c*w-f*b+h*m)*A,t):null}function K(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],g=e[14],y=e[15];return t[0]=s*(h*y-d*g)-f*(l*y-u*g)+v*(l*d-u*h),t[1]=-(r*(h*y-d*g)-f*(i*y-o*g)+v*(i*d-o*h)),t[2]=r*(l*y-u*g)-s*(i*y-o*g)+v*(i*u-o*l),t[3]=-(r*(l*d-u*h)-s*(i*d-o*h)+f*(i*u-o*l)),t[4]=-(a*(h*y-d*g)-c*(l*y-u*g)+p*(l*d-u*h)),t[5]=n*(h*y-d*g)-c*(i*y-o*g)+p*(i*d-o*h),t[6]=-(n*(l*y-u*g)-a*(i*y-o*g)+p*(i*u-o*l)),t[7]=n*(l*d-u*h)-a*(i*d-o*h)+c*(i*u-o*l),t[8]=a*(f*y-d*v)-c*(s*y-u*v)+p*(s*d-u*f),t[9]=-(n*(f*y-d*v)-c*(r*y-o*v)+p*(r*d-o*f)),t[10]=n*(s*y-u*v)-a*(r*y-o*v)+p*(r*u-o*s),t[11]=-(n*(s*d-u*f)-a*(r*d-o*f)+c*(r*u-o*s)),t[12]=-(a*(f*g-h*v)-c*(s*g-l*v)+p*(s*h-l*f)),t[13]=n*(f*g-h*v)-c*(r*g-i*v)+p*(r*h-i*f),t[14]=-(n*(s*g-l*v)-a*(r*g-i*v)+p*(r*l-i*s)),t[15]=n*(s*h-l*f)-a*(r*h-i*f)+c*(r*l-i*s),t}function Z(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],h=t[11],d=t[12],p=t[13],v=t[14],g=t[15],y=e*a-n*o,m=e*s-r*o,b=e*l-i*o,x=n*s-r*a,w=n*l-i*a,_=r*l-i*s,O=u*p-c*d,C=u*v-f*d,S=u*g-h*d,E=c*v-f*p,M=c*g-h*p,k=f*g-h*v;return y*k-m*M+b*E+x*S-w*C+_*O}function Q(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],h=e[9],d=e[10],p=e[11],v=e[12],g=e[13],y=e[14],m=e[15],b=n[0],x=n[1],w=n[2],_=n[3];return t[0]=b*r+x*s+w*f+_*v,t[1]=b*i+x*l+w*h+_*g,t[2]=b*o+x*u+w*d+_*y,t[3]=b*a+x*c+w*p+_*m,b=n[4],x=n[5],w=n[6],_=n[7],t[4]=b*r+x*s+w*f+_*v,t[5]=b*i+x*l+w*h+_*g,t[6]=b*o+x*u+w*d+_*y,t[7]=b*a+x*c+w*p+_*m,b=n[8],x=n[9],w=n[10],_=n[11],t[8]=b*r+x*s+w*f+_*v,t[9]=b*i+x*l+w*h+_*g,t[10]=b*o+x*u+w*d+_*y,t[11]=b*a+x*c+w*p+_*m,b=n[12],x=n[13],w=n[14],_=n[15],t[12]=b*r+x*s+w*f+_*v,t[13]=b*i+x*l+w*h+_*g,t[14]=b*o+x*u+w*d+_*y,t[15]=b*a+x*c+w*p+_*m,t}function J(t,e,n){var r,i,o,a,s,l,u,c,f,h,d,p,v=n[0],g=n[1],y=n[2];return e===t?(t[12]=e[0]*v+e[4]*g+e[8]*y+e[12],t[13]=e[1]*v+e[5]*g+e[9]*y+e[13],t[14]=e[2]*v+e[6]*g+e[10]*y+e[14],t[15]=e[3]*v+e[7]*g+e[11]*y+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],h=e[9],d=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=f,t[9]=h,t[10]=d,t[11]=p,t[12]=r*v+s*g+f*y+e[12],t[13]=i*v+l*g+h*y+e[13],t[14]=o*v+u*g+d*y+e[14],t[15]=a*v+c*g+p*y+e[15]),t}function tt(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function et(t,e,n,r){var i,o,a,s,l,u,c,f,h,d,p,v,g,y,m,x,w,_,O,C,S,E,M,k,T=r[0],A=r[1],L=r[2],P=Math.hypot(T,A,L);return P<b?null:(P=1/P,T*=P,A*=P,L*=P,i=Math.sin(n),o=Math.cos(n),a=1-o,s=e[0],l=e[1],u=e[2],c=e[3],f=e[4],h=e[5],d=e[6],p=e[7],v=e[8],g=e[9],y=e[10],m=e[11],x=T*T*a+o,w=A*T*a+L*i,_=L*T*a-A*i,O=T*A*a-L*i,C=A*A*a+o,S=L*A*a+T*i,E=T*L*a+A*i,M=A*L*a-T*i,k=L*L*a+o,t[0]=s*x+f*w+v*_,t[1]=l*x+h*w+g*_,t[2]=u*x+d*w+y*_,t[3]=c*x+p*w+m*_,t[4]=s*O+f*C+v*S,t[5]=l*O+h*C+g*S,t[6]=u*O+d*C+y*S,t[7]=c*O+p*C+m*S,t[8]=s*E+f*M+v*k,t[9]=l*E+h*M+g*k,t[10]=u*E+d*M+y*k,t[11]=c*E+p*M+m*k,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function nt(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+u*r,t[5]=a*i+c*r,t[6]=s*i+f*r,t[7]=l*i+h*r,t[8]=u*i-o*r,t[9]=c*i-a*r,t[10]=f*i-s*r,t[11]=h*i-l*r,t}function rt(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-u*r,t[1]=a*i-c*r,t[2]=s*i-f*r,t[3]=l*i-h*r,t[8]=o*r+u*i,t[9]=a*r+c*i,t[10]=s*r+f*i,t[11]=l*r+h*i,t}function it(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+u*r,t[1]=a*i+c*r,t[2]=s*i+f*r,t[3]=l*i+h*r,t[4]=u*i-o*r,t[5]=c*i-a*r,t[6]=f*i-s*r,t[7]=h*i-l*r,t}function ot(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function at(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function st(t,e,n){var r,i,o,a=n[0],s=n[1],l=n[2],u=Math.hypot(a,s,l);return u<b?null:(u=1/u,a*=u,s*=u,l*=u,r=Math.sin(e),i=Math.cos(e),o=1-i,t[0]=a*a*o+i,t[1]=s*a*o+l*r,t[2]=l*a*o-s*r,t[3]=0,t[4]=a*s*o-l*r,t[5]=s*s*o+i,t[6]=l*s*o+a*r,t[7]=0,t[8]=a*l*o+s*r,t[9]=s*l*o-a*r,t[10]=l*l*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function lt(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ut(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ct(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ft(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,l=i+i,u=o+o,c=r*s,f=r*l,h=r*u,d=i*l,p=i*u,v=o*u,g=a*s,y=a*l,m=a*u;return t[0]=1-(d+v),t[1]=f+m,t[2]=h-y,t[3]=0,t[4]=f-m,t[5]=1-(c+v),t[6]=p+g,t[7]=0,t[8]=h+y,t[9]=p-g,t[10]=1-(c+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function ht(t,e){var n=new x(3),r=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=r*r+i*i+o*o+a*a;return f>0?(n[0]=2*(s*a+c*r+l*o-u*i)/f,n[1]=2*(l*a+c*i+u*r-s*o)/f,n[2]=2*(u*a+c*o+s*i-l*r)/f):(n[0]=2*(s*a+c*r+l*o-u*i),n[1]=2*(l*a+c*i+u*r-s*o),n[2]=2*(u*a+c*o+s*i-l*r)),ft(t,e,n),t}function dt(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function pt(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],l=e[8],u=e[9],c=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,a,s),t[2]=Math.hypot(l,u,c),t}function vt(t,e){var n=new x(3);pt(n,e);var r=1/n[0],i=1/n[1],o=1/n[2],a=e[0]*r,s=e[1]*i,l=e[2]*o,u=e[4]*r,c=e[5]*i,f=e[6]*o,h=e[8]*r,d=e[9]*i,p=e[10]*o,v=a+c+p,g=0;return v>0?(g=2*Math.sqrt(v+1),t[3]=.25*g,t[0]=(f-d)/g,t[1]=(h-l)/g,t[2]=(s-u)/g):a>c&&a>p?(g=2*Math.sqrt(1+a-c-p),t[3]=(f-d)/g,t[0]=.25*g,t[1]=(s+u)/g,t[2]=(h+l)/g):c>p?(g=2*Math.sqrt(1+c-a-p),t[3]=(h-l)/g,t[0]=(s+u)/g,t[1]=.25*g,t[2]=(f+d)/g):(g=2*Math.sqrt(1+p-a-c),t[3]=(s-u)/g,t[0]=(h+l)/g,t[1]=(f+d)/g,t[2]=.25*g),t}function gt(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],l=i+i,u=o+o,c=a+a,f=i*l,h=i*u,d=i*c,p=o*u,v=o*c,g=a*c,y=s*l,m=s*u,b=s*c,x=r[0],w=r[1],_=r[2];return t[0]=(1-(p+g))*x,t[1]=(h+b)*x,t[2]=(d-m)*x,t[3]=0,t[4]=(h-b)*w,t[5]=(1-(f+g))*w,t[6]=(v+y)*w,t[7]=0,t[8]=(d+m)*_,t[9]=(v-y)*_,t[10]=(1-(f+p))*_,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function yt(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],l=e[3],u=o+o,c=a+a,f=s+s,h=o*u,d=o*c,p=o*f,v=a*c,g=a*f,y=s*f,m=l*u,b=l*c,x=l*f,w=r[0],_=r[1],O=r[2],C=i[0],S=i[1],E=i[2],M=(1-(v+y))*w,k=(d+x)*w,T=(p-b)*w,A=(d-x)*_,L=(1-(h+y))*_,P=(g+m)*_,R=(p+b)*O,I=(g-m)*O,j=(1-(h+v))*O;return t[0]=M,t[1]=k,t[2]=T,t[3]=0,t[4]=A,t[5]=L,t[6]=P,t[7]=0,t[8]=R,t[9]=I,t[10]=j,t[11]=0,t[12]=n[0]+C-(M*C+A*S+R*E),t[13]=n[1]+S-(k*C+L*S+I*E),t[14]=n[2]+E-(T*C+P*S+j*E),t[15]=1,t}function mt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,l=i+i,u=n*a,c=r*a,f=r*s,h=i*a,d=i*s,p=i*l,v=o*a,g=o*s,y=o*l;return t[0]=1-f-p,t[1]=c+y,t[2]=h-g,t[3]=0,t[4]=c-y,t[5]=1-u-p,t[6]=d+v,t[7]=0,t[8]=h+g,t[9]=d-v,t[10]=1-u-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function bt(t,e,n,r,i,o,a){var s=1/(n-e),l=1/(i-r),u=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*l,t[10]=(a+o)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*u,t[15]=0,t}function xt(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}var wt=xt;function _t(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=i*o,t[14]=i*r*o):(t[10]=-1,t[14]=-r),t}function Ot(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(a+s),u=2/(i+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(a-s)*l*.5,t[9]=(i-o)*u*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function Ct(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*u,t[15]=1,t}var St=Ct;function Et(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=o*u,t[15]=1,t}function Mt(t,e,n,r){var i,o,a,s,l,u,c,f,h,d,p=e[0],v=e[1],g=e[2],y=r[0],m=r[1],x=r[2],w=n[0],_=n[1],O=n[2];return Math.abs(p-w)<b&&Math.abs(v-_)<b&&Math.abs(g-O)<b?Y(t):(c=p-w,f=v-_,h=g-O,d=1/Math.hypot(c,f,h),c*=d,f*=d,h*=d,i=m*h-x*f,o=x*c-y*h,a=y*f-m*c,d=Math.hypot(i,o,a),d?(d=1/d,i*=d,o*=d,a*=d):(i=0,o=0,a=0),s=f*a-h*o,l=h*i-c*a,u=c*o-f*i,d=Math.hypot(s,l,u),d?(d=1/d,s*=d,l*=d,u*=d):(s=0,l=0,u=0),t[0]=i,t[1]=s,t[2]=c,t[3]=0,t[4]=o,t[5]=l,t[6]=f,t[7]=0,t[8]=a,t[9]=u,t[10]=h,t[11]=0,t[12]=-(i*p+o*v+a*g),t[13]=-(s*p+l*v+u*g),t[14]=-(c*p+f*v+h*g),t[15]=1,t)}function kt(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=r[0],l=r[1],u=r[2],c=i-n[0],f=o-n[1],h=a-n[2],d=c*c+f*f+h*h;d>0&&(d=1/Math.sqrt(d),c*=d,f*=d,h*=d);var p=l*h-u*f,v=u*c-s*h,g=s*f-l*c;return d=p*p+v*v+g*g,d>0&&(d=1/Math.sqrt(d),p*=d,v*=d,g*=d),t[0]=p,t[1]=v,t[2]=g,t[3]=0,t[4]=f*g-h*v,t[5]=h*p-c*g,t[6]=c*v-f*p,t[7]=0,t[8]=c,t[9]=f,t[10]=h,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function Tt(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function At(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Lt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function Pt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function Rt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function It(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function jt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Nt(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],h=t[10],d=t[11],p=t[12],v=t[13],g=t[14],y=t[15],m=e[0],x=e[1],w=e[2],_=e[3],O=e[4],C=e[5],S=e[6],E=e[7],M=e[8],k=e[9],T=e[10],A=e[11],L=e[12],P=e[13],R=e[14],I=e[15];return Math.abs(n-m)<=b*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(r-x)<=b*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(i-w)<=b*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-_)<=b*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(a-O)<=b*Math.max(1,Math.abs(a),Math.abs(O))&&Math.abs(s-C)<=b*Math.max(1,Math.abs(s),Math.abs(C))&&Math.abs(l-S)<=b*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(u-E)<=b*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(c-M)<=b*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(f-k)<=b*Math.max(1,Math.abs(f),Math.abs(k))&&Math.abs(h-T)<=b*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(d-A)<=b*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(p-L)<=b*Math.max(1,Math.abs(p),Math.abs(L))&&Math.abs(v-P)<=b*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(g-R)<=b*Math.max(1,Math.abs(g),Math.abs(R))&&Math.abs(y-I)<=b*Math.max(1,Math.abs(y),Math.abs(I))}var Bt=Q,Dt=Pt;function Ft(){var t=new x(9);return x!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function zt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function Wt(t,e,n,r,i,o,a,s,l){var u=new x(9);return u[0]=t,u[1]=e,u[2]=n,u[3]=r,u[4]=i,u[5]=o,u[6]=a,u[7]=s,u[8]=l,u}function Ht(){var t=new x(4);return x!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function $t(t,e,n,r){var i=new x(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function Gt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Vt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a,t}function Ut(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}(function(){var t=Ht()})();function Yt(){var t=new x(4);return x!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function qt(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function Xt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],l=n[1],u=n[2],c=n[3];return t[0]=r*c+a*s+i*u-o*l,t[1]=i*c+a*l+o*s-r*u,t[2]=o*c+a*u+r*l-i*s,t[3]=a*c-r*s-i*l-o*u,t}function Kt(t,e,n,r){var i,o,a,s,l,u=e[0],c=e[1],f=e[2],h=e[3],d=n[0],p=n[1],v=n[2],g=n[3];return o=u*d+c*p+f*v+h*g,o<0&&(o=-o,d=-d,p=-p,v=-v,g=-g),1-o>b?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,l=Math.sin(r*i)/a):(s=1-r,l=r),t[0]=s*u+l*d,t[1]=s*c+l*p,t[2]=s*f+l*v,t[3]=s*h+l*g,t}function Zt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t}function Qt(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t}function Jt(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var o=Math.sin(e),a=Math.cos(e),s=Math.sin(n),l=Math.cos(n),u=Math.sin(r),c=Math.cos(r);return t[0]=o*l*c-a*s*u,t[1]=a*s*c+o*l*u,t[2]=a*l*u-o*s*c,t[3]=a*l*c+o*s*u,t}var te=$t,ee=Gt,ne=Xt,re=Vt;(function(){var t=w(),e=C(1,0,0),n=C(0,1,0)})(),function(){var t=Yt(),e=Yt()}(),function(){var t=Ft()}();function ie(){var t=new x(2);return x!=Float32Array&&(t[0]=0,t[1]=0),t}function oe(t,e){var n=new x(2);return n[0]=t,n[1]=e,n}function ae(t,e){return t[0]=e[0],t[1]=e[1],t}function se(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function le(t,e){return t[0]*e[0]+t[1]*e[1]}function ue(t,e){return t[0]===e[0]&&t[1]===e[1]}(function(){var t=ie()})();var ce={}.toString,fe=function(t,e){return ce.call(t)==="[object "+e+"]"},he=fe,de=function(t){return he(t,"Number")},pe=de;function ve(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var ge=function(t){return null===t||void 0===t},ye=ge,me=function(t){return he(t,"String")},be=function(t,e,n){return t<e?e:t>n?n:t},xe=be;var we=function(){return we=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},we.apply(this,arguments)};Object.create;function _e(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Oe={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function Ce(t){return Array.isArray(t)&&t.every((function(t){var e=t[0].toLowerCase();return Oe[e]===t.length-1&&"achlmqstvz".includes(e)}))}function Se(t){return Ce(t)&&t.every((function(t){var e=t[0];return e===e.toUpperCase()}))}function Ee(t){return Se(t)&&t.every((function(t){var e=t[0];return"ACLMQZ".includes(e)}))}var Me={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function ke(t){var e=t.pathValue[t.segmentStart],n=e.toLowerCase(),r=t.data;while(r.length>=Oe[n])if("m"===n&&r.length>2?(t.segments.push([e].concat(r.splice(0,2))),n="l",e="m"===e?"l":"L"):t.segments.push([e].concat(r.splice(0,Oe[n]))),!Oe[n])break}function Te(t){var e=t.index,n=t.pathValue,r=n.charCodeAt(e);return 48===r?(t.param=0,void(t.index+=1)):49===r?(t.param=1,void(t.index+=1)):void(t.err='[path-util]: invalid Arc flag "'+n[e]+'", expecting 0 or 1 at index '+e)}function Ae(t){return t>=48&&t<=57||43===t||45===t||46===t}function Le(t){return t>=48&&t<=57}function Pe(t){var e,n=t.max,r=t.pathValue,i=t.index,o=i,a=!1,s=!1,l=!1,u=!1;if(o>=n)t.err="[path-util]: Invalid path value at index "+o+', "pathValue" is missing param';else if(e=r.charCodeAt(o),43!==e&&45!==e||(o+=1,e=r.charCodeAt(o)),Le(e)||46===e){if(46!==e){if(a=48===e,o+=1,e=r.charCodeAt(o),a&&o<n&&e&&Le(e))return void(t.err="[path-util]: Invalid path value at index "+i+', "'+r[i]+'" illegal number');while(o<n&&Le(r.charCodeAt(o)))o+=1,s=!0;e=r.charCodeAt(o)}if(46===e){u=!0,o+=1;while(Le(r.charCodeAt(o)))o+=1,l=!0;e=r.charCodeAt(o)}if(101===e||69===e){if(u&&!s&&!l)return void(t.err="[path-util]: Invalid path value at index "+o+', "'+r[o]+'" invalid float exponent');if(o+=1,e=r.charCodeAt(o),43!==e&&45!==e||(o+=1),!(o<n&&Le(r.charCodeAt(o))))return void(t.err="[path-util]: Invalid path value at index "+o+', "'+r[o]+'" invalid integer exponent');while(o<n&&Le(r.charCodeAt(o)))o+=1}t.index=o,t.param=+t.pathValue.slice(i,o)}else t.err="[path-util]: Invalid path value at index "+o+', "'+r[o]+'" is not a number'}function Re(t){var e=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return 10===t||13===t||8232===t||8233===t||32===t||9===t||11===t||12===t||160===t||t>=5760&&e.includes(t)}function Ie(t){var e=t.pathValue,n=t.max;while(t.index<n&&Re(e.charCodeAt(t.index)))t.index+=1}function je(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function Ne(t){return 97===(32|t)}function Be(t){var e=t.max,n=t.pathValue,r=t.index,i=n.charCodeAt(r),o=Oe[n[r].toLowerCase()];if(t.segmentStart=r,je(i))if(t.index+=1,Ie(t),t.data=[],o){for(;;){for(var a=o;a>0;a-=1){if(!Ne(i)||3!==a&&4!==a?Pe(t):Te(t),t.err.length)return;t.data.push(t.param),Ie(t),t.index<e&&44===n.charCodeAt(t.index)&&(t.index+=1,Ie(t))}if(t.index>=t.max)break;if(!Ae(n.charCodeAt(t.index)))break}ke(t)}else ke(t);else t.err='[path-util]: Invalid path value "'+n[r]+'" is not a path command'}var De=function(){function t(t){this.pathValue=t,this.segments=[],this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return t}();function Fe(t){if(Ce(t))return[].concat(t);var e=new De(t);Ie(e);while(e.index<e.max&&!e.err.length)Be(e);return e.err?e.err:e.segments}function ze(t){if(Se(t))return[].concat(t);var e=Fe(t),n=0,r=0,i=0,o=0;return e.map((function(t){var e,a=t.slice(1).map(Number),s=t[0],l=s.toUpperCase();if("M"===s)return n=a[0],r=a[1],i=n,o=r,["M",n,r];if(s!==l)switch(l){case"A":e=[l,a[0],a[1],a[2],a[3],a[4],a[5]+n,a[6]+r];break;case"V":e=[l,a[0]+r];break;case"H":e=[l,a[0]+n];break;default:var u=a.map((function(t,e){return t+(e%2?r:n)}));e=[l].concat(u)}else e=[l].concat(a);var c=e.length;switch(l){case"Z":n=i,r=o;break;case"H":n=e[1];break;case"V":r=e[1];break;default:n=e[c-2],r=e[c-1],"M"===l&&(i=n,o=r)}return e}))}function We(t,e){var n=t[0],r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=t.slice(1).map(Number),l=t;if("TQ".includes(n)||(e.qx=null,e.qy=null),"H"===n)l=["L",t[1],i];else if("V"===n)l=["L",r,t[1]];else if("S"===n){var u=2*r-o,c=2*i-a;e.x1=u,e.y1=c,l=["C",u,c].concat(s)}else if("T"===n){var f=2*r-e.qx,h=2*i-e.qy;e.qx=f,e.qy=h,l=["Q",f,h].concat(s)}else if("Q"===n){var d=s[0],p=s[1];e.qx=d,e.qy=p}return l}function He(t){if(Ee(t))return[].concat(t);for(var e=ze(t),n=we({},Me),r=0;r<e.length;r+=1){e[r]=We(e[r],n);var i=e[r],o=i.length;n.x1=+i[o-2],n.y1=+i[o-1],n.x2=+i[o-4]||n.x1,n.y2=+i[o-3]||n.y1}return e}function $e(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return[r+(o-r)*n,i+(a-i)*n]}function Ge(t,e,n,r,i){var o=ve([t,e],[n,r]),a={x:0,y:0};if("number"===typeof i)if(i<=0)a={x:t,y:e};else if(i>=o)a={x:n,y:r};else{var s=$e([t,e],[n,r],i/o),l=s[0],u=s[1];a={x:l,y:u}}return{length:o,point:a,min:{x:Math.min(t,n),y:Math.min(e,r)},max:{x:Math.max(t,n),y:Math.max(e,r)}}}function Ve(t,e){var n=t.x,r=t.y,i=e.x,o=e.y,a=n*i+r*o,s=Math.sqrt((Math.pow(n,2)+Math.pow(r,2))*(Math.pow(i,2)+Math.pow(o,2))),l=n*o-r*i<0?-1:1,u=l*Math.acos(a/s);return u}function Ue(t,e,n,r,i,o,a,s,l,u){var c=Math.abs,f=Math.sin,h=Math.cos,d=Math.sqrt,p=Math.PI,v=c(n),g=c(r),y=(i%360+360)%360,m=y*(p/180);if(t===s&&e===l)return{x:t,y:e};if(0===v||0===g)return Ge(t,e,s,l,u).point;var b=(t-s)/2,x=(e-l)/2,w={x:h(m)*b+f(m)*x,y:-f(m)*b+h(m)*x},_=Math.pow(w.x,2)/Math.pow(v,2)+Math.pow(w.y,2)/Math.pow(g,2);_>1&&(v*=d(_),g*=d(_));var O=Math.pow(v,2)*Math.pow(g,2)-Math.pow(v,2)*Math.pow(w.y,2)-Math.pow(g,2)*Math.pow(w.x,2),C=Math.pow(v,2)*Math.pow(w.y,2)+Math.pow(g,2)*Math.pow(w.x,2),S=O/C;S=S<0?0:S;var E=(o!==a?1:-1)*d(S),M={x:E*(v*w.y/g),y:E*(-g*w.x/v)},k={x:h(m)*M.x-f(m)*M.y+(t+s)/2,y:f(m)*M.x+h(m)*M.y+(e+l)/2},T={x:(w.x-M.x)/v,y:(w.y-M.y)/g},A=Ve({x:1,y:0},T),L={x:(-w.x-M.x)/v,y:(-w.y-M.y)/g},P=Ve(T,L);!a&&P>0?P-=2*p:a&&P<0&&(P+=2*p),P%=2*p;var R=A+P*u,I=v*h(R),j=g*f(R),N={x:h(m)*I-f(m)*j+k.x,y:f(m)*I+h(m)*j+k.y};return N}function Ye(t,e,n,r,i,o,a,s,l,u,c){var f,h=c.bbox,d=void 0===h||h,p=c.length,v=void 0===p||p,g=c.sampleSize,y=void 0===g?30:g,m="number"===typeof u,b=t,x=e,w=0,_=[b,x,w],O=[b,x],C=0,S={x:0,y:0},E=[{x:b,y:x}];m&&u<=0&&(S={x:b,y:x});for(var M=0;M<=y;M+=1){if(C=M/y,f=Ue(t,e,n,r,i,o,a,s,l,C),b=f.x,x=f.y,d&&E.push({x:b,y:x}),v&&(w+=ve(O,[b,x])),O=[b,x],m&&w>=u&&u>_[2]){var k=(w-u)/(w-_[2]);S={x:O[0]*(1-k)+_[0]*k,y:O[1]*(1-k)+_[1]*k}}_=[b,x,w]}return m&&u>=w&&(S={x:s,y:l}),{length:w,point:S,min:{x:Math.min.apply(null,E.map((function(t){return t.x}))),y:Math.min.apply(null,E.map((function(t){return t.y})))},max:{x:Math.max.apply(null,E.map((function(t){return t.x}))),y:Math.max.apply(null,E.map((function(t){return t.y})))}}}function qe(t,e,n,r,i,o,a,s,l){var u=1-l;return{x:Math.pow(u,3)*t+3*Math.pow(u,2)*l*n+3*u*Math.pow(l,2)*i+Math.pow(l,3)*a,y:Math.pow(u,3)*e+3*Math.pow(u,2)*l*r+3*u*Math.pow(l,2)*o+Math.pow(l,3)*s}}function Xe(t,e,n,r,i,o,a,s,l,u){var c,f=u.bbox,h=void 0===f||f,d=u.length,p=void 0===d||d,v=u.sampleSize,g=void 0===v?10:v,y="number"===typeof l,m=t,b=e,x=0,w=[m,b,x],_=[m,b],O=0,C={x:0,y:0},S=[{x:m,y:b}];y&&l<=0&&(C={x:m,y:b});for(var E=0;E<=g;E+=1){if(O=E/g,c=qe(t,e,n,r,i,o,a,s,O),m=c.x,b=c.y,h&&S.push({x:m,y:b}),p&&(x+=ve(_,[m,b])),_=[m,b],y&&x>=l&&l>w[2]){var M=(x-l)/(x-w[2]);C={x:_[0]*(1-M)+w[0]*M,y:_[1]*(1-M)+w[1]*M}}w=[m,b,x]}return y&&l>=x&&(C={x:a,y:s}),{length:x,point:C,min:{x:Math.min.apply(null,S.map((function(t){return t.x}))),y:Math.min.apply(null,S.map((function(t){return t.y})))},max:{x:Math.max.apply(null,S.map((function(t){return t.x}))),y:Math.max.apply(null,S.map((function(t){return t.y})))}}}function Ke(t,e,n,r,i,o,a){var s=1-a;return{x:Math.pow(s,2)*t+2*s*a*n+Math.pow(a,2)*i,y:Math.pow(s,2)*e+2*s*a*r+Math.pow(a,2)*o}}function Ze(t,e,n,r,i,o,a,s){var l,u=s.bbox,c=void 0===u||u,f=s.length,h=void 0===f||f,d=s.sampleSize,p=void 0===d?10:d,v="number"===typeof a,g=t,y=e,m=0,b=[g,y,m],x=[g,y],w=0,_={x:0,y:0},O=[{x:g,y:y}];v&&a<=0&&(_={x:g,y:y});for(var C=0;C<=p;C+=1){if(w=C/p,l=Ke(t,e,n,r,i,o,w),g=l.x,y=l.y,c&&O.push({x:g,y:y}),h&&(m+=ve(x,[g,y])),x=[g,y],v&&m>=a&&a>b[2]){var S=(m-a)/(m-b[2]);_={x:x[0]*(1-S)+b[0]*S,y:x[1]*(1-S)+b[1]*S}}b=[g,y,m]}return v&&a>=m&&(_={x:i,y:o}),{length:m,point:_,min:{x:Math.min.apply(null,O.map((function(t){return t.x}))),y:Math.min.apply(null,O.map((function(t){return t.y})))},max:{x:Math.max.apply(null,O.map((function(t){return t.x}))),y:Math.max.apply(null,O.map((function(t){return t.y})))}}}function Qe(t,e,n){for(var r,i,o,a,s,l,u,c,f,h=He(t),d="number"===typeof e,p=[],v=0,g=0,y=0,m=0,b=[],x=[],w=0,_={x:0,y:0},O=_,C=_,S=_,E=0,M=0,k=h.length;M<k;M+=1)f=h[M],c=f[0],u="M"===c,p=u?p:[v,g].concat(f.slice(1)),u?(y=f[1],m=f[2],_={x:y,y:m},O=_,w=0,d&&e<.001&&(S=_)):"L"===c?(r=Ge(p[0],p[1],p[2],p[3],(e||0)-E),w=r.length,_=r.min,O=r.max,C=r.point):"A"===c?(i=Ye(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],(e||0)-E,n||{}),w=i.length,_=i.min,O=i.max,C=i.point):"C"===c?(o=Xe(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],(e||0)-E,n||{}),w=o.length,_=o.min,O=o.max,C=o.point):"Q"===c?(a=Ze(p[0],p[1],p[2],p[3],p[4],p[5],(e||0)-E,n||{}),w=a.length,_=a.min,O=a.max,C=a.point):"Z"===c&&(p=[v,g,y,m],s=Ge(p[0],p[1],p[2],p[3],(e||0)-E),w=s.length,_=s.min,O=s.max,C=s.point),d&&E<e&&E+w>=e&&(S=C),x.push(O),b.push(_),E+=w,l="Z"!==c?f.slice(-2):[y,m],v=l[0],g=l[1];return d&&e>=E&&(S={x:v,y:g}),{length:E,point:S,min:{x:Math.min.apply(null,b.map((function(t){return t.x}))),y:Math.min.apply(null,b.map((function(t){return t.y})))},max:{x:Math.max.apply(null,x.map((function(t){return t.x}))),y:Math.max.apply(null,x.map((function(t){return t.y})))}}}function Je(t,e){return Qe(t,void 0,we(we({},e),{bbox:!1,length:!0})).length}var tn=function(t){return Array.isArray?Array.isArray(t):he(t,"Array")},en=function(t){if(tn(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},nn=function(t){if(tn(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},rn=1e-5;function on(t,e,n){return void 0===n&&(n=rn),Math.abs(t-e)<n}var an=function(t,e){return(t%e+e)%e},sn=an;function ln(t,e,n){if(t[n].length>7){t[n].shift();var r=t[n],i=n;while(r.length)e[n]="A",t.splice(i+=1,0,["C"].concat(r.splice(0,6)));t.splice(n,1)}}function un(t){return Ee(t)&&t.every((function(t){var e=t[0];return"MC".includes(e)}))}function cn(t,e,n){var r=t*Math.cos(n)-e*Math.sin(n),i=t*Math.sin(n)+e*Math.cos(n);return{x:r,y:i}}function fn(t,e,n,r,i,o,a,s,l,u){var c,f,h,d,p,v=t,g=e,y=n,m=r,b=s,x=l,w=120*Math.PI/180,_=Math.PI/180*(+i||0),O=[];if(u)f=u[0],h=u[1],d=u[2],p=u[3];else{c=cn(v,g,-_),v=c.x,g=c.y,c=cn(b,x,-_),b=c.x,x=c.y;var C=(v-b)/2,S=(g-x)/2,E=C*C/(y*y)+S*S/(m*m);E>1&&(E=Math.sqrt(E),y*=E,m*=E);var M=y*y,k=m*m,T=(o===a?-1:1)*Math.sqrt(Math.abs((M*k-M*S*S-k*C*C)/(M*S*S+k*C*C)));d=T*y*S/m+(v+b)/2,p=T*-m*C/y+(g+x)/2,f=Math.asin(((g-p)/m*Math.pow(10,9)>>0)/Math.pow(10,9)),h=Math.asin(((x-p)/m*Math.pow(10,9)>>0)/Math.pow(10,9)),f=v<d?Math.PI-f:f,h=b<d?Math.PI-h:h,f<0&&(f=2*Math.PI+f),h<0&&(h=2*Math.PI+h),a&&f>h&&(f-=2*Math.PI),!a&&h>f&&(h-=2*Math.PI)}var A=h-f;if(Math.abs(A)>w){var L=h,P=b,R=x;h=f+w*(a&&h>f?1:-1),b=d+y*Math.cos(h),x=p+m*Math.sin(h),O=fn(b,x,y,m,i,0,a,P,R,[h,L,d,p])}A=h-f;var I=Math.cos(f),j=Math.sin(f),N=Math.cos(h),B=Math.sin(h),D=Math.tan(A/4),F=4/3*y*D,z=4/3*m*D,W=[v,g],H=[v+F*j,g-z*I],$=[b+F*B,x-z*N],G=[b,x];if(H[0]=2*W[0]-H[0],H[1]=2*W[1]-H[1],u)return H.concat($,G,O);O=H.concat($,G,O);for(var V=[],U=0,Y=O.length;U<Y;U+=1)V[U]=U%2?cn(O[U-1],O[U],_).y:cn(O[U],O[U+1],_).x;return V}function hn(t,e,n,r,i,o){var a=1/3,s=2/3;return[a*t+s*n,a*e+s*r,a*i+s*n,a*o+s*r,i,o]}var dn=function(t,e,n,r){var i=.5,o=$e([t,e],[n,r],i);return _e(_e([],o,!0),[n,r,n,r],!1)};function pn(t,e){var n,r=t[0],i=t.slice(1).map(Number),o=i[0],a=i[1],s=e.x1,l=e.y1,u=e.x,c=e.y;switch("TQ".includes(r)||(e.qx=null,e.qy=null),r){case"M":return e.x=o,e.y=a,t;case"A":return n=[s,l].concat(i),["C"].concat(fn(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9]));case"Q":return e.qx=o,e.qy=a,n=[s,l].concat(i),["C"].concat(hn(n[0],n[1],n[2],n[3],n[4],n[5]));case"L":return["C"].concat(dn(s,l,o,a));case"Z":return s===u&&l===c?["C",s,l,u,c,u,c]:["C"].concat(dn(s,l,u,c));default:}return t}function vn(t,e){if(void 0===e&&(e=!1),un(t)){var n=[].concat(t);return e?[n,[]]:n}for(var r,i,o=He(t),a=we({},Me),s=[],l="",u=o.length,c=[],f=0;f<u;f+=1){o[f]&&(l=o[f][0]),s[f]=l;var h=pn(o[f],a);o[f]=h,ln(o,s,f),u=o.length,"Z"===l&&c.push(f),r=o[f],i=r.length,a.x1=+r[i-2],a.y1=+r[i-1],a.x2=+r[i-4]||a.x1,a.y2=+r[i-3]||a.y1}return e?[o,c]:o}function gn(t,e){void 0===e&&(e=.5);var n=t.slice(0,2),r=t.slice(2,4),i=t.slice(4,6),o=t.slice(6,8),a=$e(n,r,e),s=$e(r,i,e),l=$e(i,o,e),u=$e(a,s,e),c=$e(s,l,e),f=$e(u,c,e);return[["C"].concat(a,u,f),["C"].concat(c,l,o)]}function yn(t){return t.map((function(t,e,n){var r,i=e&&n[e-1].slice(-2).concat(t.slice(1)),o=e?Xe(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],{bbox:!1}).length:0;return r=e?o?gn(i):[t,t]:[t],{s:t,ss:r,l:o}}))}function mn(t,e,n){var r=yn(t),i=yn(e),o=r.length,a=i.length,s=r.filter((function(t){return t.l})).length,l=i.filter((function(t){return t.l})).length,u=r.filter((function(t){return t.l})).reduce((function(t,e){var n=e.l;return t+n}),0)/s||0,c=i.filter((function(t){return t.l})).reduce((function(t,e){var n=e.l;return t+n}),0)/l||0,f=n||Math.max(o,a),h=[u,c],d=[f-o,f-a],p=0,v=[r,i].map((function(t,e){return t.l===f?t.map((function(t){return t.s})):t.map((function(t,n){return p=n&&d[e]&&t.l>=h[e],d[e]-=p?1:0,p?t.ss:[t.s]})).flat()}));return v[0].length===v[1].length?v:mn(v[0],v[1],f)}function bn(t,e,n,r,i,o,a,s){return 3*((s-e)*(n+i)-(a-t)*(r+o)+r*(t-i)-n*(e-o)+s*(i+t/3)-a*(o+e/3))/20}function xn(t){var e=0,n=0,r=0;return vn(t).map((function(t){var i;switch(t[0]){case"M":return e=t[1],n=t[2],0;default:var o=t.slice(1),a=o[0],s=o[1],l=o[2],u=o[3],c=o[4],f=o[5];return r=bn(e,n,a,s,l,u,c,f),i=t.slice(-2),e=i[0],n=i[1],r}})).reduce((function(t,e){return t+e}),0)}function wn(t){return xn(t)>=0}function _n(t){var e=t.slice(1).map((function(e,n,r){return n?r[n-1].slice(-2).concat(e.slice(1)):t[0].slice(1).concat(e.slice(1))})).map((function(t){return t.map((function(e,n){return t[t.length-n-2*(1-n%2)]}))})).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map((function(t){return["C"].concat(t.slice(2))})))}function On(t){return t.map((function(t){return Array.isArray(t)?[].concat(t):t}))}function Cn(t){var e=t.length,n=e-1;return t.map((function(r,i){return t.map((function(r,o){var a,s=i+o;return 0===o||t[s]&&"M"===t[s][0]?(a=t[s],["M"].concat(a.slice(-2))):(s>=e&&(s-=n),t[s])}))}))}function Sn(t,e){var n=t.length-1,r=[],i=0,o=0,a=Cn(t);return a.forEach((function(i,a){t.slice(1).forEach((function(r,i){o+=ve(t[(a+i)%n].slice(-2),e[i%n].slice(-2))})),r[a]=o,o=0})),i=r.indexOf(Math.min.apply(null,r)),a[i]}var En=function(t){return he(t,"Boolean")},Mn=En,kn=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e},Tn=function(t){return void 0===t},An=Tn;function Ln(t,e,n){return Qe(t,e,we(we({},n),{bbox:!1,length:!0})).point}function Pn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Rn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function In(){}var jn=.7,Nn=1/jn,Bn="\\s*([+-]?\\d+)\\s*",Dn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zn=/^#([0-9a-f]{3,8})$/,Wn=new RegExp("^rgb\\("+[Bn,Bn,Bn]+"\\)$"),Hn=new RegExp("^rgb\\("+[Fn,Fn,Fn]+"\\)$"),$n=new RegExp("^rgba\\("+[Bn,Bn,Bn,Dn]+"\\)$"),Gn=new RegExp("^rgba\\("+[Fn,Fn,Fn,Dn]+"\\)$"),Vn=new RegExp("^hsl\\("+[Dn,Fn,Fn]+"\\)$"),Un=new RegExp("^hsla\\("+[Dn,Fn,Fn,Dn]+"\\)$"),Yn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qn(){return this.rgb().formatHex()}function Xn(){return sr(this).formatHsl()}function Kn(){return this.rgb().formatRgb()}function Zn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=zn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Qn(e):3===n?new nr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Jn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Jn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Wn.exec(t))?new nr(e[1],e[2],e[3],1):(e=Hn.exec(t))?new nr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=$n.exec(t))?Jn(e[1],e[2],e[3],e[4]):(e=Gn.exec(t))?Jn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Vn.exec(t))?ar(e[1],e[2]/100,e[3]/100,1):(e=Un.exec(t))?ar(e[1],e[2]/100,e[3]/100,e[4]):Yn.hasOwnProperty(t)?Qn(Yn[t]):"transparent"===t?new nr(NaN,NaN,NaN,0):null}function Qn(t){return new nr(t>>16&255,t>>8&255,255&t,1)}function Jn(t,e,n,r){return r<=0&&(t=e=n=NaN),new nr(t,e,n,r)}function tr(t){return t instanceof In||(t=Zn(t)),t?(t=t.rgb(),new nr(t.r,t.g,t.b,t.opacity)):new nr}function er(t,e,n,r){return 1===arguments.length?tr(t):new nr(t,e,n,null==r?1:r)}function nr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function rr(){return"#"+or(this.r)+or(this.g)+or(this.b)}function ir(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function or(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function ar(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ur(t,e,n,r)}function sr(t){if(t instanceof ur)return new ur(t.h,t.s,t.l,t.opacity);if(t instanceof In||(t=Zn(t)),!t)return new ur;if(t instanceof ur)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new ur(a,s,l,t.opacity)}function lr(t,e,n,r){return 1===arguments.length?sr(t):new ur(t,e,n,null==r?1:r)}function ur(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function cr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Pn(In,Zn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:qn,formatHex:qn,formatHsl:Xn,formatRgb:Kn,toString:Kn}),Pn(nr,er,Rn(In,{brighter:function(t){return t=null==t?Nn:Math.pow(Nn,t),new nr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?jn:Math.pow(jn,t),new nr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rr,formatHex:rr,formatRgb:ir,toString:ir})),Pn(ur,lr,Rn(In,{brighter:function(t){return t=null==t?Nn:Math.pow(Nn,t),new ur(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?jn:Math.pow(jn,t),new ur(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new nr(cr(t>=240?t-240:t+120,i,r),cr(t,i,r),cr(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));Object.create;function fr(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function hr(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"===typeof SuppressedError&&SuppressedError;function dr(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function pr(t,e){var n=Math.min.apply(Math,hr([],fr(t),!1)),r=Math.min.apply(Math,hr([],fr(e),!1)),i=Math.max.apply(Math,hr([],fr(t),!1)),o=Math.max.apply(Math,hr([],fr(e),!1));return{x:n,y:r,width:i-n,height:o-r}}function vr(t,e,n){return Math.atan(-e/t*Math.tan(n))}function gr(t,e,n){return Math.atan(e/(t*Math.tan(n)))}function yr(t,e,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+t}function mr(t,e,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+e}function br(t,e,n,r,i,o,a){for(var s=vr(n,r,i),l=1/0,u=-1/0,c=[o,a],f=2*-Math.PI;f<=2*Math.PI;f+=Math.PI){var h=s+f;o<a?o<h&&h<a&&c.push(h):a<h&&h<o&&c.push(h)}for(f=0;f<c.length;f++){var d=yr(t,e,n,r,i,c[f]);d<l&&(l=d),d>u&&(u=d)}var p=gr(n,r,i),v=1/0,g=-1/0,y=[o,a];for(f=2*-Math.PI;f<=2*Math.PI;f+=Math.PI){var m=p+f;o<a?o<m&&m<a&&y.push(m):a<m&&m<o&&y.push(m)}for(f=0;f<y.length;f++){var b=mr(t,e,n,r,i,y[f]);b<v&&(v=b),b>g&&(g=b)}return{x:l,y:v,width:u-l,height:g-v}}var xr=1e-4;function wr(t,e,n,r,i,o){var a=-1,s=1/0,l=[n,r],u=20;o&&o>200&&(u=o/10);for(var c=1/u,f=c/10,h=0;h<=u;h++){var d=h*c,p=[i.apply(void 0,hr([],fr(t.concat([d])),!1)),i.apply(void 0,hr([],fr(e.concat([d])),!1))],v=dr(l[0],l[1],p[0],p[1]);v<s&&(a=d,s=v)}if(0===a)return{x:t[0],y:e[0]};if(1===a){var g=t.length;return{x:t[g-1],y:e[g-1]}}s=1/0;for(h=0;h<32;h++){if(f<xr)break;var y=a-f,m=a+f;p=[i.apply(void 0,hr([],fr(t.concat([y])),!1)),i.apply(void 0,hr([],fr(e.concat([y])),!1))],v=dr(l[0],l[1],p[0],p[1]);if(y>=0&&v<s)a=y,s=v;else{var b=[i.apply(void 0,hr([],fr(t.concat([m])),!1)),i.apply(void 0,hr([],fr(e.concat([m])),!1))],x=dr(l[0],l[1],b[0],b[1]);m<=1&&x<s?(a=m,s=x):f*=.5}}return{x:i.apply(void 0,hr([],fr(t.concat([a])),!1)),y:i.apply(void 0,hr([],fr(e.concat([a])),!1))}}function _r(t,e,n,r){return dr(t,e,n,r)}function Or(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}}function Cr(t,e,n,r,i,o){var a=[n-t,r-e];if(ue(a,[0,0]))return Math.sqrt((i-t)*(i-t)+(o-e)*(o-e));var s=[-a[1],a[0]];se(s,s);var l=[i-t,o-e];return Math.abs(le(l,s))}function Sr(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function Er(t,e,n,r){var i,o,a,s=-3*t+9*e-9*n+3*r,l=6*t-12*e+6*n,u=3*e-3*t,c=[];if(on(s,0))on(l,0)||(i=-u/l,i>=0&&i<=1&&c.push(i));else{var f=l*l-4*s*u;on(f,0)?c.push(-l/(2*s)):f>0&&(a=Math.sqrt(f),i=(-l+a)/(2*s),o=(-l-a)/(2*s),i>=0&&i<=1&&c.push(i),o>=0&&o<=1&&c.push(o))}return c}function Mr(t,e,n,r,i,o,a,s){for(var l=[t,a],u=[e,s],c=Er(t,n,i,a),f=Er(e,r,o,s),h=0;h<c.length;h++)l.push(Sr(t,n,i,a,c[h]));for(h=0;h<f.length;h++)u.push(Sr(e,r,o,s,f[h]));return pr(l,u)}function kr(t,e,n,r,i,o,a,s,l,u,c){return wr([t,n,i,a],[e,r,o,s],l,u,Sr,c)}function Tr(t,e,n,r,i,o,a,s,l,u,c){var f=kr(t,e,n,r,i,o,a,s,l,u,c);return dr(f.x,f.y,l,u)}function Ar(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=dr(r[0],r[1],i[0],i[1])}return e}function Lr(t){return Ar(t)}function Pr(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function Rr(t,e,n){var r=t+n-2*e;if(on(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}function Ir(t,e,n,r,i,o){var a=Rr(t,n,i)[0],s=Rr(e,r,o)[0],l=[t,i],u=[e,o];return void 0!==a&&l.push(Pr(t,n,i,a)),void 0!==s&&u.push(Pr(e,r,o,s)),pr(l,u)}function jr(t,e,n,r,i,o,a,s){return wr([t,n,i],[e,r,o],a,s,Pr)}function Nr(t,e,n,r,i,o,a,s){var l=jr(t,e,n,r,i,o,a,s);return dr(l.x,l.y,a,s)}"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self&&self;var Br={exports:{}};(function(t,e){(function(e,n){t.exports=n()})(0,(function(){function t(t,n,i,o,a){e(t,n,i||0,o||t.length-1,a||r)}function e(t,r,i,o,a){while(o>i){if(o-i>600){var s=o-i+1,l=r-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1),h=Math.max(i,Math.floor(r-l*c/s+f)),d=Math.min(o,Math.floor(r+(s-l)*c/s+f));e(t,r,h,d,a)}var p=t[r],v=i,g=o;n(t,i,r),a(t[o],p)>0&&n(t,i,o);while(v<g){n(t,v,g),v++,g--;while(a(t[v],p)<0)v++;while(a(t[g],p)>0)g--}0===a(t[i],p)?n(t,i,g):(g++,n(t,g,o)),g<=r&&(i=g+1),r<=g&&(o=g-1)}}function n(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function r(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function a(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,r,i){i||(i=y(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<n;o++){var a=t.children[o];l(i,t.leaf?r(a):a)}return i}function l(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function p(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function v(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function g(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function y(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(e,n,r,i,o){var a=[n,r];while(a.length)if(r=a.pop(),n=a.pop(),!(r-n<=i)){var s=n+Math.ceil((r-n)/i/2)*i;t(e,s,n,r,o),a.push(n,s,s,r)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,n=[];if(!g(t,e))return n;var r=this.toBBox,i=[];while(e){for(var o=0;o<e.children.length;o++){var a=e.children[o],s=e.leaf?r(a):a;g(t,s)&&(e.leaf?n.push(a):v(t,s)?this._all(a,n):i.push(a))}e=i.pop()}return n},i.prototype.collides=function(t){var e=this.data;if(!g(t,e))return!1;var n=[];while(e){for(var r=0;r<e.children.length;r++){var i=e.children[r],o=e.leaf?this.toBBox(i):i;if(g(t,o)){if(e.leaf||v(t,o))return!0;n.push(i)}}e=n.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=y([]),this},i.prototype.remove=function(t,e){if(!t)return this;var n,r,i,a=this.data,s=this.toBBox(t),l=[],u=[];while(a||l.length){if(a||(a=l.pop(),r=l[l.length-1],n=u.pop(),i=!0),a.leaf){var c=o(t,a.children,e);if(-1!==c)return a.children.splice(c,1),l.push(a),this._condense(l),this}i||a.leaf||!v(a,s)?r?(n++,a=r.children[n],i=!1):a=null:(l.push(a),u.push(n),n=0,r=a,a=a.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){var n=[];while(t)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},i.prototype._build=function(t,e,n,r){var i,o=n-e+1,s=this._maxEntries;if(o<=s)return i=y(t.slice(e,n+1)),a(i,this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),i=y([]),i.leaf=!1,i.height=r;var l=Math.ceil(o/s),u=l*Math.ceil(Math.sqrt(s));m(t,e,n,u,this.compareMinX);for(var c=e;c<=n;c+=u){var f=Math.min(c+u-1,n);m(t,c,f,l,this.compareMinY);for(var h=c;h<=f;h+=l){var d=Math.min(h+l-1,f);i.children.push(this._build(t,h,d,r-1))}}return a(i,this.toBBox),i},i.prototype._chooseSubtree=function(t,e,n,r){while(1){if(r.push(e),e.leaf||r.length-1===n)break;for(var i=1/0,o=1/0,a=void 0,s=0;s<e.children.length;s++){var l=e.children[s],u=f(l),c=d(t,l)-u;c<o?(o=c,i=u<i?u:i,a=l):c===o&&u<i&&(i=u,a=l)}e=a||e.children[0]}return e},i.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),i=[],o=this._chooseSubtree(r,this.data,e,i);o.children.push(t),l(o,r);while(e>=0){if(!(i[e].children.length>this._maxEntries))break;this._split(i,e),e--}this._adjustParentBBoxes(r,i,e)},i.prototype._split=function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=y(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},i.prototype._splitRoot=function(t,e){this.data=y([t,e]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,n){for(var r,i=1/0,o=1/0,a=e;a<=n-e;a++){var l=s(t,0,a,this.toBBox),u=s(t,a,n,this.toBBox),c=p(l,u),h=f(l)+f(u);c<i?(i=c,r=a,o=h<o?h:o):c===i&&h<o&&(o=h,r=a)}return r||n-e},i.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:c,o=this._allDistMargin(t,e,n,r),a=this._allDistMargin(t,e,n,i);o<a&&t.children.sort(r)},i.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var i=this.toBBox,o=s(t,0,e,i),a=s(t,n-e,n,i),u=h(o)+h(a),c=e;c<n-e;c++){var f=t.children[c];l(o,t.leaf?i(f):f),u+=h(o)}for(var d=n-e-1;d>=e;d--){var p=t.children[d];l(a,t.leaf?i(p):p),u+=h(a)}return u},i.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)l(e[r],t)},i.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children,n.splice(n.indexOf(t[e]),1)):this.clear():a(t[e],this.toBBox)},i}))})(Br);var Dr,Fr,zr=Br.exports;(function(t){t["GROUP"]="g",t["CIRCLE"]="circle",t["ELLIPSE"]="ellipse",t["IMAGE"]="image",t["RECT"]="rect",t["LINE"]="line",t["POLYLINE"]="polyline",t["POLYGON"]="polygon",t["TEXT"]="text",t["PATH"]="path",t["HTML"]="html",t["MESH"]="mesh"})(Dr||(Dr={})),function(t){t[t["ZERO"]=0]="ZERO",t[t["NEGATIVE_ONE"]=1]="NEGATIVE_ONE"}(Fr||(Fr={}));var Wr=function(){function t(){this.plugins=[]}return t.prototype.addRenderingPlugin=function(t){this.plugins.push(t),this.context.renderingPlugins.push(t)},t.prototype.removeAllRenderingPlugins=function(){var t=this;this.plugins.forEach((function(e){var n=t.context.renderingPlugins.indexOf(e);n>=0&&t.context.renderingPlugins.splice(n,1)}))},t}(),Hr=function(){function t(t){this.clipSpaceNearZ=Fr.NEGATIVE_ONE,this.plugins=[],this.config=c({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1},t)}return t.prototype.registerPlugin=function(t){var e=this.plugins.findIndex((function(e){return e===t}));-1===e&&this.plugins.push(t)},t.prototype.unregisterPlugin=function(t){var e=this.plugins.findIndex((function(e){return e===t}));e>-1&&this.plugins.splice(e,1)},t.prototype.getPlugins=function(){return this.plugins},t.prototype.getPlugin=function(t){return this.plugins.find((function(e){return e.name===t}))},t.prototype.getConfig=function(){return this.config},t.prototype.setConfig=function(t){Object.assign(this.config,t)},t}();function $r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Gr(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function Vr(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Ur(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function Yr(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function qr(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function Xr(t){return void 0===t?0:t>360||t<-360?t%360:t}function Kr(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),Array.isArray(t)&&3===t.length?_(t):pe(t)?C(t,e,n):C(t[0],t[1]||e,t[2]||n)}function Zr(t){return t*(Math.PI/180)}function Qr(t){return t*(180/Math.PI)}function Jr(t){return 360*t}function ti(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n,s=r*r,l=i*i,u=o*o,c=a+s+l+u,f=n*o-r*i;return f>.499995*c?(t[0]=Math.PI/2,t[1]=2*Math.atan2(r,n),t[2]=0):f<-.499995*c?(t[0]=-Math.PI/2,t[1]=2*Math.atan2(r,n),t[2]=0):(t[0]=Math.asin(2*(n*i-o*r)),t[1]=Math.atan2(2*(n*o+r*i),1-2*(l+u)),t[2]=Math.atan2(2*(n*r+i*o),1-2*(s+l))),t}function ei(t,e){var n,r,i=.5*Math.PI,o=v(pt(w(),e),3),a=o[0],s=o[1],l=o[2],u=Math.asin(-e[2]/a);return u<i?u>-i?(n=Math.atan2(e[6]/s,e[10]/l),r=Math.atan2(e[1]/a,e[0]/a)):(r=0,n=-Math.atan2(e[4]/s,e[5]/s)):(r=0,n=Math.atan2(e[4]/s,e[5]/s)),t[0]=n,t[1]=u,t[2]=r,t}function ni(t,e){return 16===e.length?ei(t,e):ti(t,e)}function ri(t,e,n,r,i){var o=Math.cos(t),a=Math.sin(t);return Wt(r*o,i*a,0,-r*a,i*o,0,e,n,1)}function ii(t,e,n,r,i,o,a,s){void 0===s&&(s=!1);var l,u,c=2*o/(n-e),f=2*o/(r-i),h=(n+e)/(n-e),d=(r+i)/(r-i);return s?(l=-a/(a-o),u=-a*o/(a-o)):(l=-(a+o)/(a-o),u=-2*a*o/(a-o)),t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=f,t[6]=0,t[7]=0,t[8]=h,t[9]=d,t[10]=l,t[11]=-1,t[12]=0,t[13]=0,t[14]=u,t[15]=0,t}function oi(t){var e=t[0],n=t[1],r=t[3],i=t[4],o=Math.sqrt(e*e+n*n),a=Math.sqrt(r*r+i*i),s=e*i-n*r;s<0&&(e<i?o=-o:a=-a),o&&(e*=1/o,n*=1/o),a&&(r*=1/a,i*=1/a);var l=Math.atan2(n,e),u=Qr(l);return[t[6],t[7],o,a,u]}var ai=H(),si=H(),li=Ht(),ui=[w(),w(),w()],ci=w();function fi(t,e,n,r,i,o){if(!hi(ai,t))return!1;if(G(si,ai),si[3]=0,si[7]=0,si[11]=0,si[15]=1,Math.abs(Z(si))<1e-8)return!1;var a=ai[3],s=ai[7],l=ai[11],u=ai[12],c=ai[13],f=ai[14],h=ai[15];if(0!==a||0!==s||0!==l){li[0]=a,li[1]=s,li[2]=l,li[3]=h;var d=X(si,si);if(!d)return!1;q(si,si),Ut(i,li,si)}else i[0]=i[1]=i[2]=0,i[3]=1;if(e[0]=u,e[1]=c,e[2]=f,di(ui,ai),n[0]=O(ui[0]),P(ui[0],ui[0]),r[0]=R(ui[0],ui[1]),pi(ui[1],ui[1],ui[0],1,-r[0]),n[1]=O(ui[1]),P(ui[1],ui[1]),r[0]/=n[1],r[1]=R(ui[0],ui[2]),pi(ui[2],ui[2],ui[0],1,-r[1]),r[2]=R(ui[1],ui[2]),pi(ui[2],ui[2],ui[1],1,-r[2]),n[2]=O(ui[2]),P(ui[2],ui[2]),r[1]/=n[2],r[2]/=n[2],I(ci,ui[1],ui[2]),R(ui[0],ci)<0)for(var p=0;p<3;p++)n[p]*=-1,ui[p][0]*=-1,ui[p][1]*=-1,ui[p][2]*=-1;return o[0]=.5*Math.sqrt(Math.max(1+ui[0][0]-ui[1][1]-ui[2][2],0)),o[1]=.5*Math.sqrt(Math.max(1-ui[0][0]+ui[1][1]-ui[2][2],0)),o[2]=.5*Math.sqrt(Math.max(1-ui[0][0]-ui[1][1]+ui[2][2],0)),o[3]=.5*Math.sqrt(Math.max(1+ui[0][0]+ui[1][1]+ui[2][2],0)),ui[2][1]>ui[1][2]&&(o[0]=-o[0]),ui[0][2]>ui[2][0]&&(o[1]=-o[1]),ui[1][0]>ui[0][1]&&(o[2]=-o[2]),!0}function hi(t,e){var n=e[15];if(0===n)return!1;for(var r=1/n,i=0;i<16;i++)t[i]=e[i]*r;return!0}function di(t,e){t[0][0]=e[0],t[0][1]=e[1],t[0][2]=e[2],t[1][0]=e[4],t[1][1]=e[5],t[1][2]=e[6],t[2][0]=e[8],t[2][1]=e[9],t[2][2]=e[10]}function pi(t,e,n,r,i){t[0]=e[0]*r+n[0]*i,t[1]=e[1]*r+n[1]*i,t[2]=e[2]*r+n[2]*i}var vi,gi=function(){function t(){this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return t.isEmpty=function(t){return!t||0===t.halfExtents[0]&&0===t.halfExtents[1]&&0===t.halfExtents[2]},t.prototype.update=function(t,e){$r(this.center,t),$r(this.halfExtents,e),Gr(this.min,this.center,this.halfExtents),Vr(this.max,this.center,this.halfExtents)},t.prototype.setMinMax=function(t,e){Vr(this.center,e,t),Ur(this.center,this.center,.5),Gr(this.halfExtents,e,t),Ur(this.halfExtents,this.halfExtents,.5),$r(this.min,t),$r(this.max,e)},t.prototype.getMin=function(){return this.min},t.prototype.getMax=function(){return this.max},t.prototype.add=function(e){if(!t.isEmpty(e))if(t.isEmpty(this))this.setMinMax(e.getMin(),e.getMax());else{var n=this.center,r=n[0],i=n[1],o=n[2],a=this.halfExtents,s=a[0],l=a[1],u=a[2],c=r-s,f=r+s,h=i-l,d=i+l,p=o-u,v=o+u,g=e.center,y=g[0],m=g[1],b=g[2],x=e.halfExtents,w=x[0],_=x[1],O=x[2],C=y-w,S=y+w,E=m-_,M=m+_,k=b-O,T=b+O;C<c&&(c=C),S>f&&(f=S),E<h&&(h=E),M>d&&(d=M),k<p&&(p=k),T>v&&(v=T),n[0]=.5*(c+f),n[1]=.5*(h+d),n[2]=.5*(p+v),a[0]=.5*(f-c),a[1]=.5*(d-h),a[2]=.5*(v-p),this.min[0]=c,this.min[1]=h,this.min[2]=p,this.max[0]=f,this.max[1]=d,this.max[2]=v}},t.prototype.setFromTransformedAABB=function(t,e){var n=this.center,r=this.halfExtents,i=t.center,o=t.halfExtents,a=e[0],s=e[4],l=e[8],u=e[1],c=e[5],f=e[9],h=e[2],d=e[6],p=e[10],v=Math.abs(a),g=Math.abs(s),y=Math.abs(l),m=Math.abs(u),b=Math.abs(c),x=Math.abs(f),w=Math.abs(h),_=Math.abs(d),O=Math.abs(p);n[0]=e[12]+a*i[0]+s*i[1]+l*i[2],n[1]=e[13]+u*i[0]+c*i[1]+f*i[2],n[2]=e[14]+h*i[0]+d*i[1]+p*i[2],r[0]=v*o[0]+g*o[1]+y*o[2],r[1]=m*o[0]+b*o[1]+x*o[2],r[2]=w*o[0]+_*o[1]+O*o[2],Gr(this.min,n,r),Vr(this.max,n,r)},t.prototype.intersects=function(t){var e=this.getMax(),n=this.getMin(),r=t.getMax(),i=t.getMin();return n[0]<=r[0]&&e[0]>=i[0]&&n[1]<=r[1]&&e[1]>=i[1]&&n[2]<=r[2]&&e[2]>=i[2]},t.prototype.intersection=function(e){if(!this.intersects(e))return null;var n=new t,r=Yr([0,0,0],this.getMin(),e.getMin()),i=qr([0,0,0],this.getMax(),e.getMax());return n.setMinMax(r,i),n},t.prototype.getNegativeFarPoint=function(t){return 273===t.pnVertexFlag?$r([0,0,0],this.min):272===t.pnVertexFlag?[this.min[0],this.min[1],this.max[2]]:257===t.pnVertexFlag?[this.min[0],this.max[1],this.min[2]]:256===t.pnVertexFlag?[this.min[0],this.max[1],this.max[2]]:17===t.pnVertexFlag?[this.max[0],this.min[1],this.min[2]]:16===t.pnVertexFlag?[this.max[0],this.min[1],this.max[2]]:1===t.pnVertexFlag?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]},t.prototype.getPositiveFarPoint=function(t){return 273===t.pnVertexFlag?$r([0,0,0],this.max):272===t.pnVertexFlag?[this.max[0],this.max[1],this.min[2]]:257===t.pnVertexFlag?[this.max[0],this.min[1],this.max[2]]:256===t.pnVertexFlag?[this.max[0],this.min[1],this.min[2]]:17===t.pnVertexFlag?[this.min[0],this.max[1],this.max[2]]:16===t.pnVertexFlag?[this.min[0],this.max[1],this.min[2]]:1===t.pnVertexFlag?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]},t}(),yi=function(){function t(t,e){this.distance=t||0,this.normal=e||C(0,1,0),this.updatePNVertexFlag()}return t.prototype.updatePNVertexFlag=function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)},t.prototype.distanceToPoint=function(t){return R(t,this.normal)-this.distance},t.prototype.normalize=function(){var t=1/W(this.normal);A(this.normal,this.normal,t),this.distance*=t},t.prototype.intersectsLine=function(t,e,n){var r=this.distanceToPoint(t),i=this.distanceToPoint(e),o=r/(r-i),a=o>=0&&o<=1;return a&&n&&j(n,t,e,o),a},t}();(function(t){t[t["OUTSIDE"]=4294967295]="OUTSIDE",t[t["INSIDE"]=0]="INSIDE",t[t["INDETERMINATE"]=2147483647]="INDETERMINATE"})(vi||(vi={}));var mi,bi,xi,wi=function(){function t(t){if(this.planes=[],t)this.planes=t;else for(var e=0;e<6;e++)this.planes.push(new yi)}return t.prototype.extractFromVPMatrix=function(t){var e=v(t,16),n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],g=e[13],y=e[14],m=e[15];E(this.planes[0].normal,o-n,u-a,d-c),this.planes[0].distance=m-p,E(this.planes[1].normal,o+n,u+a,d+c),this.planes[1].distance=m+p,E(this.planes[2].normal,o+r,u+s,d+f),this.planes[2].distance=m+g,E(this.planes[3].normal,o-r,u-s,d-f),this.planes[3].distance=m-g,E(this.planes[4].normal,o-i,u-l,d-h),this.planes[4].distance=m-y,E(this.planes[5].normal,o+i,u+l,d+h),this.planes[5].distance=m+y,this.planes.forEach((function(t){t.normalize(),t.updatePNVertexFlag()}))},t}(),_i=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y},t}(),Oi=function(){function t(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r,this.left=t,this.right=t+n,this.top=e,this.bottom=e+r}return t.prototype.toJSON=function(){},t}(),Ci="Method not implemented.",Si="Use document.documentElement instead.",Ei="Cannot append a destroyed element.";(function(t){t[t["ORBITING"]=0]="ORBITING",t[t["EXPLORING"]=1]="EXPLORING",t[t["TRACKING"]=2]="TRACKING"})(mi||(mi={})),function(t){t[t["DEFAULT"]=0]="DEFAULT",t[t["ROTATIONAL"]=1]="ROTATIONAL",t[t["TRANSLATIONAL"]=2]="TRANSLATIONAL",t[t["CINEMATIC"]=3]="CINEMATIC"}(bi||(bi={})),function(t){t[t["ORTHOGRAPHIC"]=0]="ORTHOGRAPHIC",t[t["PERSPECTIVE"]=1]="PERSPECTIVE"}(xi||(xi={}));var Mi,ki,Ti,Ai,Li,Pi={UPDATED:"updated"},Ri=2e-4,Ii=function(){function t(){this.clipSpaceNearZ=Fr.NEGATIVE_ONE,this.eventEmitter=new m,this.matrix=H(),this.right=C(1,0,0),this.up=C(0,1,0),this.forward=C(0,0,1),this.position=C(0,0,1),this.focalPoint=C(0,0,0),this.distanceVector=C(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=H(),this.projectionMatrixInverse=H(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=mi.EXPLORING,this.trackingMode=bi.DEFAULT,this.projectionMode=xi.PERSPECTIVE,this.frustum=new wi,this.orthoMatrix=H()}return t.prototype.isOrtho=function(){return this.projectionMode===xi.ORTHOGRAPHIC},t.prototype.getProjectionMode=function(){return this.projectionMode},t.prototype.getPerspective=function(){return this.jitteredProjectionMatrix||this.projectionMatrix},t.prototype.getPerspectiveInverse=function(){return this.projectionMatrixInverse},t.prototype.getFrustum=function(){return this.frustum},t.prototype.getPosition=function(){return this.position},t.prototype.getFocalPoint=function(){return this.focalPoint},t.prototype.getDollyingStep=function(){return this.dollyingStep},t.prototype.getNear=function(){return this.near},t.prototype.getFar=function(){return this.far},t.prototype.getZoom=function(){return this.zoom},t.prototype.getOrthoMatrix=function(){return this.orthoMatrix},t.prototype.getView=function(){return this.view},t.prototype.setEnableUpdate=function(t){this.enableUpdate=t},t.prototype.setType=function(t,e){return this.type=t,this.type===mi.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===mi.TRACKING&&void 0!==e&&this.setTrackingMode(e),this},t.prototype.setProjectionMode=function(t){return this.projectionMode=t,this},t.prototype.setTrackingMode=function(t){if(this.type!==mi.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=t,this},t.prototype.setWorldRotation=function(t){return this.rotateWorld=t,this._getAngles(),this},t.prototype.getViewTransform=function(){return X(H(),this.matrix)},t.prototype.getWorldTransform=function(){return this.matrix},t.prototype.jitterProjectionMatrix=function(t,e){var n=ot(H(),[t,e,0]);this.jitteredProjectionMatrix=Q(H(),n,this.projectionMatrix)},t.prototype.clearJitterProjectionMatrix=function(){this.jitteredProjectionMatrix=void 0},t.prototype.setMatrix=function(t){return this.matrix=t,this._update(),this},t.prototype.setFov=function(t){return this.setPerspective(this.near,this.far,t,this.aspect),this},t.prototype.setAspect=function(t){return this.setPerspective(this.near,this.far,this.fov,t),this},t.prototype.setNear=function(t){return this.projectionMode===xi.PERSPECTIVE?this.setPerspective(t,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,t,this.far),this},t.prototype.setFar=function(t){return this.projectionMode===xi.PERSPECTIVE?this.setPerspective(this.near,t,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,t),this},t.prototype.setViewOffset=function(t,e,n,r,i,o){return this.aspect=t/e,void 0===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.projectionMode===xi.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this},t.prototype.clearViewOffset=function(){return void 0!==this.view&&(this.view.enabled=!1),this.projectionMode===xi.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this},t.prototype.setZoom=function(t){return this.zoom=t,this.projectionMode===xi.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===xi.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this},t.prototype.setZoomByViewportPoint=function(t,e){var n=this.canvas.viewport2Canvas({x:e[0],y:e[1]}),r=n.x,i=n.y,o=this.roll;this.rotate(0,0,-o),this.setPosition(r,i),this.setFocalPoint(r,i),this.setZoom(t),this.rotate(0,0,o);var a=this.canvas.viewport2Canvas({x:e[0],y:e[1]}),s=a.x,l=a.y,u=C(s-r,l-i,0),c=R(u,this.right)/O(this.right),f=R(u,this.up)/O(this.up);return this.pan(-c,-f),this},t.prototype.setPerspective=function(t,e,n,r){var i;this.projectionMode=xi.PERSPECTIVE,this.fov=n,this.near=t,this.far=e,this.aspect=r;var o=this.near*Math.tan(Zr(.5*this.fov))/this.zoom,a=2*o,s=this.aspect*a,l=-.5*s;if(null===(i=this.view)||void 0===i?void 0:i.enabled){var u=this.view.fullWidth,c=this.view.fullHeight;l+=this.view.offsetX*s/u,o-=this.view.offsetY*a/c,s*=this.view.width/u,a*=this.view.height/c}return ii(this.projectionMatrix,l,l+s,o,o-a,t,this.far,this.clipSpaceNearZ===Fr.ZERO),tt(this.projectionMatrix,this.projectionMatrix,C(1,-1,1)),X(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this},t.prototype.setOrthographic=function(t,e,n,r,i,o){var a;this.projectionMode=xi.ORTHOGRAPHIC,this.rright=e,this.left=t,this.top=n,this.bottom=r,this.near=i,this.far=o;var s=(this.rright-this.left)/(2*this.zoom),l=(this.top-this.bottom)/(2*this.zoom),u=(this.rright+this.left)/2,c=(this.top+this.bottom)/2,f=u-s,h=u+s,d=c+l,p=c-l;if(null===(a=this.view)||void 0===a?void 0:a.enabled){var v=(this.rright-this.left)/this.view.fullWidth/this.zoom,g=(this.top-this.bottom)/this.view.fullHeight/this.zoom;f+=v*this.view.offsetX,h=f+v*this.view.width,d-=g*this.view.offsetY,p=d-g*this.view.height}return this.clipSpaceNearZ===Fr.NEGATIVE_ONE?St(this.projectionMatrix,f,h,p,d,i,o):Et(this.projectionMatrix,f,h,p,d,i,o),tt(this.projectionMatrix,this.projectionMatrix,C(1,-1,1)),X(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this},t.prototype.setPosition=function(t,e,n){void 0===e&&(e=this.position[1]),void 0===n&&(n=this.position[2]);var r=Kr(t,e,n);return this._setPosition(r),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this},t.prototype.setFocalPoint=function(t,e,n){void 0===e&&(e=this.focalPoint[1]),void 0===n&&(n=this.focalPoint[2]);var r=C(0,1,0);if(this.focalPoint=Kr(t,e,n),this.trackingMode===bi.CINEMATIC){var i=k(w(),this.focalPoint,this.position);t=i[0],e=i[1],n=i[2];var o=O(i),a=Qr(Math.asin(e/o)),s=90+Qr(Math.atan2(n,t)),l=H();rt(l,l,Zr(s)),nt(l,l,Zr(a)),r=N(w(),[0,1,0],l)}return X(this.matrix,Mt(H(),this.position,this.focalPoint,r)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this},t.prototype.getDistance=function(){return this.distance},t.prototype.getDistanceVector=function(){return this.distanceVector},t.prototype.setDistance=function(t){if(this.distance===t||t<0)return this;this.distance=t,this.distance<Ri&&(this.distance=Ri),this.dollyingStep=this.distance/100;var e=w();t=this.distance;var n=this.forward,r=this.focalPoint;return e[0]=t*n[0]+r[0],e[1]=t*n[1]+r[1],e[2]=t*n[2]+r[2],this._setPosition(e),this.triggerUpdate(),this},t.prototype.setMaxDistance=function(t){return this.maxDistance=t,this},t.prototype.setMinDistance=function(t){return this.minDistance=t,this},t.prototype.setAzimuth=function(t){return this.azimuth=Xr(t),this.computeMatrix(),this._getAxes(),this.type===mi.ORBITING||this.type===mi.EXPLORING?this._getPosition():this.type===mi.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},t.prototype.getAzimuth=function(){return this.azimuth},t.prototype.setElevation=function(t){return this.elevation=Xr(t),this.computeMatrix(),this._getAxes(),this.type===mi.ORBITING||this.type===mi.EXPLORING?this._getPosition():this.type===mi.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},t.prototype.getElevation=function(){return this.elevation},t.prototype.setRoll=function(t){return this.roll=Xr(t),this.computeMatrix(),this._getAxes(),this.type===mi.ORBITING||this.type===mi.EXPLORING?this._getPosition():this.type===mi.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},t.prototype.getRoll=function(){return this.roll},t.prototype._update=function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()},t.prototype.computeMatrix=function(){var t=qt(Yt(),[0,0,1],Zr(this.roll));Y(this.matrix);var e=qt(Yt(),[1,0,0],Zr((this.rotateWorld&&this.type!==mi.TRACKING||this.type===mi.TRACKING?1:-1)*this.elevation)),n=qt(Yt(),[0,1,0],Zr((this.rotateWorld&&this.type!==mi.TRACKING||this.type===mi.TRACKING?1:-1)*this.azimuth)),r=Xt(Yt(),n,e);r=Xt(Yt(),r,t);var i=mt(H(),r);this.type===mi.ORBITING||this.type===mi.EXPLORING?(J(this.matrix,this.matrix,this.focalPoint),Q(this.matrix,this.matrix,i),J(this.matrix,this.matrix,[0,0,this.distance])):this.type===mi.TRACKING&&(J(this.matrix,this.matrix,this.position),Q(this.matrix,this.matrix,i))},t.prototype._setPosition=function(t,e,n){this.position=Kr(t,e,n);var r=this.matrix;r[12]=this.position[0],r[13]=this.position[1],r[14]=this.position[2],r[15]=1,this._getOrthoMatrix()},t.prototype._getAxes=function(){S(this.right,Kr(Ut(Ht(),[1,0,0,0],this.matrix))),S(this.up,Kr(Ut(Ht(),[0,1,0,0],this.matrix))),S(this.forward,Kr(Ut(Ht(),[0,0,1,0],this.matrix))),P(this.right,this.right),P(this.up,this.up),P(this.forward,this.forward)},t.prototype._getAngles=function(){var t=this.distanceVector[0],e=this.distanceVector[1],n=this.distanceVector[2],r=O(this.distanceVector);if(0===r)return this.elevation=0,void(this.azimuth=0);this.type===mi.TRACKING||this.rotateWorld?(this.elevation=Qr(Math.asin(e/r)),this.azimuth=Qr(Math.atan2(-t,-n))):(this.elevation=-Qr(Math.asin(e/r)),this.azimuth=-Qr(Math.atan2(-t,-n)))},t.prototype._getPosition=function(){S(this.position,Kr(Ut(Ht(),[0,0,0,1],this.matrix))),this._getDistance()},t.prototype._getFocalPoint=function(){B(this.distanceVector,[0,0,-this.distance],zt(Ft(),this.matrix)),M(this.focalPoint,this.position,this.distanceVector),this._getDistance()},t.prototype._getDistance=function(){this.distanceVector=k(w(),this.focalPoint,this.position),this.distance=O(this.distanceVector),this.dollyingStep=this.distance/100},t.prototype._getOrthoMatrix=function(){if(this.projectionMode===xi.ORTHOGRAPHIC){var t=this.position,e=qt(Yt(),[0,0,1],-this.roll*Math.PI/180);yt(this.orthoMatrix,e,C((this.rright-this.left)/2-t[0],(this.top-this.bottom)/2-t[1],0),C(this.zoom,this.zoom,1),t)}},t.prototype.triggerUpdate=function(){if(this.enableUpdate){var t=this.getViewTransform(),e=Q(H(),this.getPerspective(),t);this.getFrustum().extractFromVPMatrix(e),this.eventEmitter.emit(Pi.UPDATED)}},t.prototype.rotate=function(t,e,n){throw new Error(Ci)},t.prototype.pan=function(t,e){throw new Error(Ci)},t.prototype.dolly=function(t){throw new Error(Ci)},t.prototype.createLandmark=function(t,e){throw new Error(Ci)},t.prototype.gotoLandmark=function(t,e){throw new Error(Ci)},t.prototype.cancelLandmarkAnimation=function(){throw new Error(Ci)},t}();function ji(t,e){if("function"!==typeof t||null!=e&&"function"!==typeof e)throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,r);return n.cache=a.set(o,s)||a,s};return n.cache=new(ji.Cache||Map),n}ji.Cache=Map,function(t){t[t["kUnknown"]=0]="kUnknown",t[t["kNumber"]=1]="kNumber",t[t["kPercentage"]=2]="kPercentage",t[t["kEms"]=3]="kEms",t[t["kPixels"]=4]="kPixels",t[t["kRems"]=5]="kRems",t[t["kDegrees"]=6]="kDegrees",t[t["kRadians"]=7]="kRadians",t[t["kGradians"]=8]="kGradians",t[t["kTurns"]=9]="kTurns",t[t["kMilliseconds"]=10]="kMilliseconds",t[t["kSeconds"]=11]="kSeconds",t[t["kInteger"]=12]="kInteger"}(Mi||(Mi={})),function(t){t[t["kUNumber"]=0]="kUNumber",t[t["kUPercent"]=1]="kUPercent",t[t["kULength"]=2]="kULength",t[t["kUAngle"]=3]="kUAngle",t[t["kUTime"]=4]="kUTime",t[t["kUOther"]=5]="kUOther"}(ki||(ki={})),function(t){t[t["kAll"]=0]="kAll",t[t["kNonNegative"]=1]="kNonNegative",t[t["kInteger"]=2]="kInteger",t[t["kNonNegativeInteger"]=3]="kNonNegativeInteger",t[t["kPositiveInteger"]=4]="kPositiveInteger"}(Ti||(Ti={})),function(t){t[t["kYes"]=0]="kYes",t[t["kNo"]=1]="kNo"}(Ai||(Ai={})),function(t){t[t["kYes"]=0]="kYes",t[t["kNo"]=1]="kNo"}(Li||(Li={}));var Ni,Bi=[{name:"em",unit_type:Mi.kEms},{name:"px",unit_type:Mi.kPixels},{name:"deg",unit_type:Mi.kDegrees},{name:"rad",unit_type:Mi.kRadians},{name:"grad",unit_type:Mi.kGradians},{name:"ms",unit_type:Mi.kMilliseconds},{name:"s",unit_type:Mi.kSeconds},{name:"rem",unit_type:Mi.kRems},{name:"turn",unit_type:Mi.kTurns}];(function(t){t[t["kUnknownType"]=0]="kUnknownType",t[t["kUnparsedType"]=1]="kUnparsedType",t[t["kKeywordType"]=2]="kKeywordType",t[t["kUnitType"]=3]="kUnitType",t[t["kSumType"]=4]="kSumType",t[t["kProductType"]=5]="kProductType",t[t["kNegateType"]=6]="kNegateType",t[t["kInvertType"]=7]="kInvertType",t[t["kMinType"]=8]="kMinType",t[t["kMaxType"]=9]="kMaxType",t[t["kClampType"]=10]="kClampType",t[t["kTransformType"]=11]="kTransformType",t[t["kPositionType"]=12]="kPositionType",t[t["kURLImageType"]=13]="kURLImageType",t[t["kColorType"]=14]="kColorType",t[t["kUnsupportedColorType"]=15]="kUnsupportedColorType"})(Ni||(Ni={}));var Di,Fi=function(t){return Bi.find((function(e){return e.name===t})).unit_type},zi=function(t){return t?"number"===t?Mi.kNumber:"percent"===t||"%"===t?Mi.kPercentage:Fi(t):Mi.kUnknown},Wi=function(t){switch(t){case Mi.kNumber:case Mi.kInteger:return ki.kUNumber;case Mi.kPercentage:return ki.kUPercent;case Mi.kPixels:return ki.kULength;case Mi.kMilliseconds:case Mi.kSeconds:return ki.kUTime;case Mi.kDegrees:case Mi.kRadians:case Mi.kGradians:case Mi.kTurns:return ki.kUAngle;default:return ki.kUOther}},Hi=function(t){switch(t){case ki.kUNumber:return Mi.kNumber;case ki.kULength:return Mi.kPixels;case ki.kUPercent:return Mi.kPercentage;case ki.kUTime:return Mi.kSeconds;case ki.kUAngle:return Mi.kDegrees;default:return Mi.kUnknown}},$i=function(t){var e=1;switch(t){case Mi.kPixels:case Mi.kDegrees:case Mi.kSeconds:break;case Mi.kMilliseconds:e=.001;break;case Mi.kRadians:e=180/Math.PI;break;case Mi.kGradians:e=.9;break;case Mi.kTurns:e=360;break}return e},Gi=function(t){switch(t){case Mi.kNumber:case Mi.kInteger:return"";case Mi.kPercentage:return"%";case Mi.kEms:return"em";case Mi.kRems:return"rem";case Mi.kPixels:return"px";case Mi.kDegrees:return"deg";case Mi.kRadians:return"rad";case Mi.kGradians:return"grad";case Mi.kMilliseconds:return"ms";case Mi.kSeconds:return"s";case Mi.kTurns:return"turn"}return""},Vi=function(){function t(){}return t.isAngle=function(t){return t===Mi.kDegrees||t===Mi.kRadians||t===Mi.kGradians||t===Mi.kTurns},t.isLength=function(t){return t>=Mi.kEms&&t<Mi.kDegrees},t.isRelativeUnit=function(t){return t===Mi.kPercentage||t===Mi.kEms||t===Mi.kRems},t.isTime=function(t){return t===Mi.kSeconds||t===Mi.kMilliseconds},t.prototype.toString=function(){return this.buildCSSText(Ai.kNo,Li.kNo,"")},t.prototype.isNumericValue=function(){return this.getType()>=Ni.kUnitType&&this.getType()<=Ni.kClampType},t}(),Ui=function(t){function e(e){var n=t.call(this)||this;return n.colorSpace=e,n}return u(e,t),e.prototype.getType=function(){return Ni.kColorType},e.prototype.to=function(t){return this},e}(Vi);(function(t){t[t["Constant"]=0]="Constant",t[t["LinearGradient"]=1]="LinearGradient",t[t["RadialGradient"]=2]="RadialGradient"})(Di||(Di={}));var Yi=function(t){function e(e,n){var r=t.call(this)||this;return r.type=e,r.value=n,r}return u(e,t),e.prototype.clone=function(){return new e(this.type,this.value)},e.prototype.buildCSSText=function(t,e,n){return n},e.prototype.getType=function(){return Ni.kColorType},e}(Vi),qi=function(t){function e(e){var n=t.call(this)||this;return n.value=e,n}return u(e,t),e.prototype.clone=function(){return new e(this.value)},e.prototype.getType=function(){return Ni.kKeywordType},e.prototype.buildCSSText=function(t,e,n){return n+this.value},e}(Vi),Xi=ji((function(t){return void 0===t&&(t=""),t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))})),Ki=function(t){return t.split("").map((function(t,e){return t.toUpperCase()===t?"".concat(0!==e?"-":"").concat(t.toLowerCase()):t})).join("")};function Zi(t){if(!t)throw new Error}function Qi(t){return"function"===typeof t}function Ji(t){return"symbol"===typeof t}var to={d:{alias:"path"},strokeDasharray:{alias:"lineDash"},strokeWidth:{alias:"lineWidth"},textAnchor:{alias:"textAlign"},src:{alias:"img"}},eo=ji((function(t){var e=Xi(t),n=to[e];return e=(null===n||void 0===n?void 0:n.alias)||e,e})),no=function(t,e){void 0===e&&(e="");var n="";return Number.isFinite(t)?(Zi(Number.isNaN(t)),n="NaN"):n=t>0?"infinity":"-infinity",n+e},ro=function(t){return Hi(Wi(t))},io=function(t){function e(e,n){void 0===n&&(n=Mi.kNumber);var r,i=t.call(this)||this;return r="string"===typeof n?zi(n):n,i.unit=r,i.value=e,i}return u(e,t),e.prototype.clone=function(){return new e(this.value,this.unit)},e.prototype.equals=function(t){var e=t;return this.value===e.value&&this.unit===e.unit},e.prototype.getType=function(){return Ni.kUnitType},e.prototype.convertTo=function(t){if(this.unit===t)return new e(this.value,this.unit);var n=ro(this.unit);if(n!==ro(t)||n===Mi.kUnknown)return null;var r=$i(this.unit)/$i(t);return new e(this.value*r,t)},e.prototype.buildCSSText=function(t,e,n){var r;switch(this.unit){case Mi.kUnknown:break;case Mi.kInteger:r=Number(this.value).toFixed(0);break;case Mi.kNumber:case Mi.kPercentage:case Mi.kEms:case Mi.kRems:case Mi.kPixels:case Mi.kDegrees:case Mi.kRadians:case Mi.kGradians:case Mi.kMilliseconds:case Mi.kSeconds:case Mi.kTurns:var i=-999999,o=999999,a=this.value,s=Gi(this.unit);if(a<i||a>o){var l=Gi(this.unit);r=!Number.isFinite(a)||Number.isNaN(a)?no(a,l):a+(l||"")}else r="".concat(a).concat(s)}return n+=r,n},e}(Vi),oo=new io(0,"px");new io(1,"px");var ao,so,lo=new io(0,"deg"),uo=function(t){function e(e,n,r,i,o){void 0===i&&(i=1),void 0===o&&(o=!1);var a=t.call(this,"rgb")||this;return a.r=e,a.g=n,a.b=r,a.alpha=i,a.isNone=o,a}return u(e,t),e.prototype.clone=function(){return new e(this.r,this.g,this.b,this.alpha)},e.prototype.buildCSSText=function(t,e,n){return n+"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")},e}(Ui),co=new qi("unset"),fo=new qi("initial"),ho=new qi("inherit"),po={"":co,unset:co,initial:fo,inherit:ho},vo=function(t){return po[t]||(po[t]=new qi(t)),po[t]},go=new uo(0,0,0,0,!0),yo=new uo(0,0,0,0),mo=ji((function(t,e,n,r){return new uo(t,e,n,r)}),(function(t,e,n,r){return"rgba(".concat(t,",").concat(e,",").concat(n,",").concat(r,")")})),bo=function(t,e){return void 0===e&&(e=Mi.kNumber),new io(t,e)},xo=new io(50,"%");(function(t){t[t["Standard"]=0]="Standard"})(ao||(ao={})),function(t){t[t["ADDED"]=0]="ADDED",t[t["REMOVED"]=1]="REMOVED",t[t["Z_INDEX_CHANGED"]=2]="Z_INDEX_CHANGED"}(so||(so={}));var wo,_o={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Oi(0,0,0,0)};function Oo(t){var e=t.type,n=t.value;return"hex"===e?"#".concat(n):"literal"===e?n:"rgb"===e?"rgb(".concat(n.join(","),")"):"rgba(".concat(n.join(","),")")}(function(t){t["COORDINATE"]="<coordinate>",t["COLOR"]="<color>",t["PAINT"]="<paint>",t["NUMBER"]="<number>",t["ANGLE"]="<angle>",t["OPACITY_VALUE"]="<opacity-value>",t["SHADOW_BLUR"]="<shadow-blur>",t["LENGTH"]="<length>",t["PERCENTAGE"]="<percentage>",t["LENGTH_PERCENTAGE"]="<length> | <percentage>",t["LENGTH_PERCENTAGE_12"]="[<length> | <percentage>]{1,2}",t["LENGTH_PERCENTAGE_14"]="[<length> | <percentage>]{1,4}",t["LIST_OF_POINTS"]="<list-of-points>",t["PATH"]="<path>",t["FILTER"]="<filter>",t["Z_INDEX"]="<z-index>",t["OFFSET_DISTANCE"]="<offset-distance>",t["DEFINED_PATH"]="<defined-path>",t["MARKER"]="<marker>",t["TRANSFORM"]="<transform>",t["TRANSFORM_ORIGIN"]="<transform-origin>",t["TEXT"]="<text>",t["TEXT_TRANSFORM"]="<text-transform>"})(wo||(wo={}));var Co=function(){var t={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},e="";function n(t){throw new Error(e+": "+t)}function r(){var t=i();return e.length>0&&n("Invalid input not EOF"),t}function i(){return b(o)}function o(){return a("linear-gradient",t.linearGradient,l)||a("repeating-linear-gradient",t.repeatingLinearGradient,l)||a("radial-gradient",t.radialGradient,f)||a("repeating-radial-gradient",t.repeatingRadialGradient,f)||a("conic-gradient",t.conicGradient,f)}function a(e,r,i){return s(r,(function(r){var o=i();return o&&(L(t.comma)||n("Missing comma before color stops")),{type:e,orientation:o,colorStops:b(x)}}))}function s(e,r){var i=L(e);if(i){L(t.startCall)||n("Missing (");var o=r(i);return L(t.endCall)||n("Missing )"),o}}function l(){return u()||c()}function u(){return A("directional",t.sideOrCorner,1)}function c(){return A("angular",t.angleValue,1)}function f(){var n,r,i=h();return i&&(n=[],n.push(i),r=e,L(t.comma)&&(i=h(),i?n.push(i):e=r)),n}function h(){var t=d()||p();if(t)t.at=g();else{var e=v();if(e){t=e;var n=g();n&&(t.at=n)}else{var r=y();r&&(t={type:"default-radial",at:r})}}return t}function d(){var t=A("shape",/^(circle)/i,0);return t&&(t.style=T()||v()),t}function p(){var t=A("shape",/^(ellipse)/i,0);return t&&(t.style=M()||v()),t}function v(){return A("extent-keyword",t.extentKeywords,1)}function g(){if(A("position",/^at/,0)){var t=y();return t||n("Missing positioning value"),t}}function y(){var t=m();if(t.x||t.y)return{type:"position",value:t}}function m(){return{x:M(),y:M()}}function b(e){var r=e(),i=[];if(r){i.push(r);while(L(t.comma))r=e(),r?i.push(r):n("One extra comma")}return i}function x(){var t=w();return t||n("Expected color definition"),t.length=M(),t}function w(){return O()||S()||C()||_()}function _(){return A("literal",t.literalColor,0)}function O(){return A("hex",t.hexColor,1)}function C(){return s(t.rgbColor,(function(){return{type:"rgb",value:b(E)}}))}function S(){return s(t.rgbaColor,(function(){return{type:"rgba",value:b(E)}}))}function E(){return L(t.number)[1]}function M(){return A("%",t.percentageValue,1)||k()||T()}function k(){return A("position-keyword",t.positionKeywords,1)}function T(){return A("px",t.pixelValue,1)||A("em",t.emValue,1)}function A(t,e,n){var r=L(e);if(r)return{type:t,value:r[n]}}function L(t){var n=/^[\n\r\t\s]+/.exec(e);n&&P(n[0].length);var r=t.exec(e);return r&&P(r[0].length),r}function P(t){e=e.substring(t)}return function(t){return e=t,r()}}();function So(t,e,n){var r=Zr(n.value),i=0,o=0,a=i+t/2,s=o+e/2,l=Math.abs(t*Math.cos(r))+Math.abs(e*Math.sin(r)),u=a-Math.cos(r)*l/2,c=s-Math.sin(r)*l/2,f=a+Math.cos(r)*l/2,h=s+Math.sin(r)*l/2;return{x1:u,y1:c,x2:f,y2:h}}function Eo(t,e,n,r,i){var o=n.value,a=r.value;n.unit===Mi.kPercentage&&(o=n.value/100*t),r.unit===Mi.kPercentage&&(a=r.value/100*e);var s=Math.max(ve([0,0],[o,a]),ve([0,e],[o,a]),ve([t,e],[o,a]),ve([t,0],[o,a]));return i&&(i instanceof io?s=i.value:i instanceof qi&&("closest-side"===i.value?s=Math.min(o,t-o,a,e-a):"farthest-side"===i.value?s=Math.max(o,t-o,a,e-a):"closest-corner"===i.value&&(s=Math.min(ve([0,0],[o,a]),ve([0,e],[o,a]),ve([t,e],[o,a]),ve([t,0],[o,a]))))),{x:o,y:a,r:s}}var Mo=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,ko=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,To=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Ao=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Lo(t){var e,n,r,i=t.length;t[i-1].length=null!==(e=t[i-1].length)&&void 0!==e?e:{type:"%",value:"100"},i>1&&(t[0].length=null!==(n=t[0].length)&&void 0!==n?n:{type:"%",value:"0"});for(var o=0,a=Number(t[0].length.value),s=1;s<i;s++){var l=null===(r=t[s].length)||void 0===r?void 0:r.value;if(!ye(l)&&!ye(a)){for(var u=1;u<s-o;u++)t[o+u].length={type:"%",value:"".concat(a+(Number(l)-a)*u/(s-o))};o=s,a=Number(l)}}}var Po={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},Ro=ji((function(t){var e;return e="angular"===t.type?Number(t.value):Po[t.value]||0,bo(e,"deg")})),Io=ji((function(t){var e=50,n=50,r="%",i="%";if("position"===(null===t||void 0===t?void 0:t.type)){var o=t.value,a=o.x,s=o.y;"position-keyword"===(null===a||void 0===a?void 0:a.type)&&("left"===a.value?e=0:"center"===a.value?e=50:"right"===a.value?e=100:"top"===a.value?n=0:"bottom"===a.value&&(n=100)),"position-keyword"===(null===s||void 0===s?void 0:s.type)&&("left"===s.value?e=0:"center"===s.value?n=50:"right"===s.value?e=100:"top"===s.value?n=0:"bottom"===s.value&&(n=100)),"px"!==(null===a||void 0===a?void 0:a.type)&&"%"!==(null===a||void 0===a?void 0:a.type)&&"em"!==(null===a||void 0===a?void 0:a.type)||(r=null===a||void 0===a?void 0:a.type,e=Number(a.value)),"px"!==(null===s||void 0===s?void 0:s.type)&&"%"!==(null===s||void 0===s?void 0:s.type)&&"em"!==(null===s||void 0===s?void 0:s.type)||(i=null===s||void 0===s?void 0:s.type,n=Number(s.value))}return{cx:bo(e,r),cy:bo(n,i)}})),jo=ji((function(t){var e;if(t.indexOf("linear")>-1||t.indexOf("radial")>-1){var n=Co(t);return n.map((function(t){var e=t.type,n=t.orientation,r=t.colorStops;Lo(r);var i=r.map((function(t){return{offset:bo(Number(t.length.value),"%"),color:Oo(t)}}));if("linear-gradient"===e)return new Yi(Di.LinearGradient,{angle:n?Ro(n):lo,steps:i});if("radial-gradient"===e&&(n||(n=[{type:"shape",value:"circle"}]),"shape"===n[0].type&&"circle"===n[0].value)){var o=Io(n[0].at),a=o.cx,s=o.cy,l=void 0;if(n[0].style){var u=n[0].style,c=u.type,f=u.value;l="extent-keyword"===c?vo(f):bo(f,c)}return new Yi(Di.RadialGradient,{cx:a,cy:s,size:l,steps:i})}}))}var r=t[0];if("("===t[1]||"("===t[2])if("l"===r){var i=Mo.exec(t);if(i){var o=(null===(e=i[2].match(Ao))||void 0===e?void 0:e.map((function(t){return t.split(":")})))||[];return[new Yi(Di.LinearGradient,{angle:bo(parseFloat(i[1]),"deg"),steps:o.map((function(t){var e=v(t,2),n=e[0],r=e[1];return{offset:bo(100*Number(n),"%"),color:r}}))})]}}else if("r"===r){var a=No(t);if(a){if(!me(a))return[new Yi(Di.RadialGradient,a)];t=a}}else if("p"===r)return Bo(t)}));function No(t){var e,n=ko.exec(t);if(n){var r=(null===(e=n[4].match(Ao))||void 0===e?void 0:e.map((function(t){return t.split(":")})))||[];return{cx:bo(50,"%"),cy:bo(50,"%"),steps:r.map((function(t){var e=v(t,2),n=e[0],r=e[1];return{offset:bo(100*Number(n),"%"),color:r}}))}}return null}function Bo(t){var e=To.exec(t);if(e){var n=e[1],r=e[2];switch(n){case"a":n="repeat";break;case"x":n="repeat-x";break;case"y":n="repeat-y";break;case"n":n="no-repeat";break;default:n="no-repeat"}return{image:r,repetition:n}}return null}function Do(t){return t&&!!t.image}function Fo(t){return t&&!ye(t.r)&&!ye(t.g)&&!ye(t.b)}var zo=ji((function(t){if(Do(t))return c({repetition:"repeat"},t);if(ye(t)&&(t=""),"transparent"===t)return yo;"currentColor"===t&&(t="black");var e=jo(t);if(e)return e;var n=Zn(t),r=[0,0,0,0];return null!==n&&(r[0]=n.r||0,r[1]=n.g||0,r[2]=n.b||0,r[3]=n.opacity),mo.apply(void 0,g([],v(r),!1))}));function Wo(t,e){if(Fo(t)&&Fo(e))return[[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],function(t){var e=t.slice();if(e[3])for(var n=0;n<3;n++)e[n]=Math.round(xe(e[n],0,255));return e[3]=xe(e[3],0,1),"rgba(".concat(e.join(","),")")}]}function Ho(t,e){if(ye(e))return bo(0,"px");if(e="".concat(e).trim().toLowerCase(),isFinite(Number(e))){if("px".search(t)>=0)return bo(Number(e),"px");if("deg".search(t)>=0)return bo(Number(e),"deg")}var n=[];e=e.replace(t,(function(t){return n.push(t),"U"+t}));var r="U("+t.source+")";return n.map((function(t){return bo(Number(e.replace(new RegExp("U"+t,"g"),"").replace(new RegExp(r,"g"),"*0")),t)}))[0]}var $o=ji((function(t){return Ho(new RegExp("px","g"),t)}));ji((function(t){return Ho(new RegExp("%","g"),t)}));var Go=function(t){return pe(t)||isFinite(Number(t))?bo(Number(t)||0,"px"):Ho(new RegExp("px|%|em|rem","g"),t)},Vo=ji((function(t){return Ho(new RegExp("deg|rad|grad|turn","g"),t)}));function Uo(t,e,n,r,i){void 0===i&&(i=0);var o="",a=t.value||0,s=e.value||0,l=ro(t.unit),u=t.convertTo(l),c=e.convertTo(l);return u&&c?(a=u.value,s=c.value,o=Gi(t.unit)):(io.isLength(t.unit)||io.isLength(e.unit))&&(a=Ko(t,i,n),s=Ko(e,i,n),o="px"),[a,s,function(t){return r&&(t=Math.max(t,0)),t+o}]}function Yo(t){var e=0;return t.unit===Mi.kDegrees?e=t.value:t.unit===Mi.kRadians?e=Qr(Number(t.value)):t.unit===Mi.kTurns&&(e=Jr(Number(t.value))),e}function qo(t,e){var n;return Array.isArray(t)?n=t.map((function(t){return Number(t)})):me(t)?n=t.split(" ").map((function(t){return Number(t)})):pe(t)&&(n=[t]),2===e?1===n.length?[n[0],n[0]]:[n[0],n[1]]:1===n.length?[n[0],n[0],n[0],n[0]]:2===n.length?[n[0],n[1],n[0],n[1]]:3===n.length?[n[0],n[1],n[2],n[1]]:[n[0],n[1],n[2],n[3]]}function Xo(t){return me(t)?t.split(" ").map((function(t){return Go(t)})):t.map((function(t){return Go(t.toString())}))}function Ko(t,e,n){if(0===t.value)return 0;if(t.unit===Mi.kPixels)return Number(t.value);if(t.unit===Mi.kPercentage&&n){var r=n.nodeName===Dr.GROUP?n.getLocalBounds():n.geometry.contentBounds;return t.value/100*r.halfExtents[e]*2}return 0}var Zo=function(t){return Ho(/deg|rad|grad|turn|px|%/g,t)},Qo=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function Jo(t){if(void 0===t&&(t=""),t=t.toLowerCase().trim(),"none"===t)return[];var e,n=/\s*([\w-]+)\(([^)]*)\)/g,r=[],i=0;while(e=n.exec(t)){if(e.index!==i)return[];if(i=e.index+e[0].length,Qo.indexOf(e[1])>-1&&r.push({name:e[1],params:e[2].split(" ").map((function(t){return Zo(t)||zo(t)}))}),n.lastIndex===t.length)return r}return[]}function ta(t){return t.toString()}var ea=ji((function(t){return"number"===typeof t?bo(t):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t)?bo(Number(t)):bo(0)}));function na(t,e){return[t,e,ta]}function ra(t,e){return function(n,r){return[n,r,function(n){return ta(xe(n,t,e))}]}}function ia(t,e){if(t.length===e.length)return[t,e,function(t){return t}]}function oa(t){return 0===t.parsedStyle.path.totalLength&&(t.parsedStyle.path.totalLength=Je(t.parsedStyle.path.absolutePath)),t.parsedStyle.path.totalLength}function aa(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r],o=i[0];if("C"===o||"A"===o||"Q"===o){e=!0;break}}return e}function sa(t){for(var e=[],n=[],r=[],i=0;i<t.length;i++){var o=t[i],a=o[0];"M"===a?(r.length&&(n.push(r),r=[]),r.push([o[1],o[2]])):"Z"===a?r.length&&(e.push(r),r=[]):r.push([o[1],o[2]])}return r.length>0&&n.push(r),{polygons:e,polylines:n}}function la(t,e){return t[0]===e[0]&&t[1]===e[1]}function ua(t,e){for(var n=[],r=[],i=[],o=0;o<t.length;o++){var a=t[o],s=a.currentPoint,l=a.params,u=a.prePoint,c=void 0;switch(a.command){case"Q":c=Ir(u[0],u[1],l[1],l[2],l[3],l[4]);break;case"C":c=Mr(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var f=a.arcParams;c=br(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:n.push(s[0]),r.push(s[1]);break}c&&(a.box=c,n.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height)),e&&("L"===a.command||"M"===a.command)&&a.prePoint&&a.nextPoint&&i.push(a)}n=n.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0})),r=r.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0}));var h=en(n),d=en(r),p=nn(n),v=nn(r);if(0===i.length)return{x:h,y:d,width:p-h,height:v-d};for(o=0;o<i.length;o++){a=i[o],s=a.currentPoint;var g=void 0;s[0]===h?(g=ca(a,e),h-=g.xExtra):s[0]===p&&(g=ca(a,e),p+=g.xExtra),s[1]===d?(g=ca(a,e),d-=g.yExtra):s[1]===v&&(g=ca(a,e),v+=g.yExtra)}return{x:h,y:d,width:p-h,height:v-d}}function ca(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),l=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!l||0===Math.sin(l)||on(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),c=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));u=u>Math.PI/2?Math.PI-u:u,c=c>Math.PI/2?Math.PI-c:c;var f={xExtra:Math.cos(l/2-u)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(c-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0};return f}function fa(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}ji((function(t){return me(t)?t.split(" ").map(ea):t.map(ea)}));var ha=function(t,e){var n=t.x*e.x+t.y*e.y,r=Math.sqrt((Math.pow(t.x,2)+Math.pow(t.y,2))*(Math.pow(e.x,2)+Math.pow(e.y,2))),i=t.x*e.y-t.y*e.x<0?-1:1,o=i*Math.acos(n/r);return o},da=function(t,e,n,r,i,o,a,s){e=Math.abs(e),n=Math.abs(n),r=sn(r,360);var l=Zr(r);if(t.x===a.x&&t.y===a.y)return{x:t.x,y:t.y,ellipticalArcAngle:0};if(0===e||0===n)return{x:0,y:0,ellipticalArcAngle:0};var u=(t.x-a.x)/2,c=(t.y-a.y)/2,f={x:Math.cos(l)*u+Math.sin(l)*c,y:-Math.sin(l)*u+Math.cos(l)*c},h=Math.pow(f.x,2)/Math.pow(e,2)+Math.pow(f.y,2)/Math.pow(n,2);h>1&&(e=Math.sqrt(h)*e,n=Math.sqrt(h)*n);var d=Math.pow(e,2)*Math.pow(n,2)-Math.pow(e,2)*Math.pow(f.y,2)-Math.pow(n,2)*Math.pow(f.x,2),p=Math.pow(e,2)*Math.pow(f.y,2)+Math.pow(n,2)*Math.pow(f.x,2),v=d/p;v=v<0?0:v;var g=(i!==o?1:-1)*Math.sqrt(v),y={x:g*(e*f.y/n),y:g*(-n*f.x/e)},m={x:Math.cos(l)*y.x-Math.sin(l)*y.y+(t.x+a.x)/2,y:Math.sin(l)*y.x+Math.cos(l)*y.y+(t.y+a.y)/2},b={x:(f.x-y.x)/e,y:(f.y-y.y)/n},x=ha({x:1,y:0},b),w={x:(-f.x-y.x)/e,y:(-f.y-y.y)/n},_=ha(b,w);!o&&_>0?_-=2*Math.PI:o&&_<0&&(_+=2*Math.PI),_%=2*Math.PI;var O=x+_*s,C=e*Math.cos(O),S=n*Math.sin(O),E={x:Math.cos(l)*C-Math.sin(l)*S+m.x,y:Math.sin(l)*C+Math.cos(l)*S+m.y,ellipticalArcStartAngle:x,ellipticalArcEndAngle:x+_,ellipticalArcAngle:O,ellipticalArcCenter:m,resultantRx:e,resultantRy:n};return E};function pa(t){for(var e=[],n=null,r=null,i=null,o=0,a=t.length,s=0;s<a;s++){var l=t[s];r=t[s+1];var u=l[0],c={command:u,prePoint:n,params:l,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(u){case"M":i=[l[1],l[2]],o=s;break;case"A":var f=ba(n,l);c.arcParams=f;break}if("Z"===u)n=i,r=t[o+1];else{var h=l.length;n=[l[h-2],l[h-1]]}r&&"Z"===r[0]&&(r=t[o],e[o]&&(e[o].prePoint=n)),c.currentPoint=n,e[o]&&la(n,e[o].currentPoint)&&(e[o].prePoint=c.prePoint);var d=r?[r[r.length-2],r[r.length-1]]:null;c.nextPoint=d;var p=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===u){var v=[l[1],l[2]];c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[n[0]-v[0],n[1]-v[1]]}else if("T"===u){var g=e[s-1];v=fa(g.currentPoint,p);"Q"===g.command?(c.command="Q",c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[n[0]-v[0],n[1]-v[1]]):(c.command="TL",c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===u){var y=[l[1],l[2]],m=[l[3],l[4]];c.startTangent=[p[0]-y[0],p[1]-y[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]],0===c.startTangent[0]&&0===c.startTangent[1]&&(c.startTangent=[y[0]-m[0],y[1]-m[1]]),0===c.endTangent[0]&&0===c.endTangent[1]&&(c.endTangent=[m[0]-y[0],m[1]-y[1]])}else if("S"===u){g=e[s-1],y=fa(g.currentPoint,p),m=[l[1],l[2]];"C"===g.command?(c.command="C",c.startTangent=[p[0]-y[0],p[1]-y[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]]):(c.command="SQ",c.startTangent=[p[0]-m[0],p[1]-m[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]])}else if("A"===u){var b=va(c,0),x=b.x,w=b.y,_=va(c,1,!1),O=_.x,C=_.y;c.startTangent=[x,w],c.endTangent=[O,C]}e.push(c)}return e}function va(t,e,n){void 0===n&&(n=!0);var r=t.arcParams,i=r.rx,o=void 0===i?0:i,a=r.ry,s=void 0===a?0:a,l=r.xRotation,u=r.arcFlag,c=r.sweepFlag,f=da({x:t.prePoint[0],y:t.prePoint[1]},o,s,l,!!u,!!c,{x:t.currentPoint[0],y:t.currentPoint[1]},e),h=da({x:t.prePoint[0],y:t.prePoint[1]},o,s,l,!!u,!!c,{x:t.currentPoint[0],y:t.currentPoint[1]},n?e+.005:e-.005),d=h.x-f.x,p=h.y-f.y,v=Math.sqrt(d*d+p*p);return{x:-d/v,y:-p/v}}function ga(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ya(t,e){return ga(t)*ga(e)?(t[0]*e[0]+t[1]*e[1])/(ga(t)*ga(e)):1}function ma(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(ya(t,e))}function ba(t,e){var n=e[1],r=e[2],i=sn(Zr(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],l=t[1],u=e[6],c=e[7],f=Math.cos(i)*(s-u)/2+Math.sin(i)*(l-c)/2,h=-1*Math.sin(i)*(s-u)/2+Math.cos(i)*(l-c)/2,d=f*f/(n*n)+h*h/(r*r);d>1&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var p=n*n*(h*h)+r*r*(f*f),v=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*n*h/r:0,y=n?v*-r*f/n:0,m=(s+u)/2+Math.cos(i)*g-Math.sin(i)*y,b=(l+c)/2+Math.sin(i)*g+Math.cos(i)*y,x=[(f-g)/n,(h-y)/r],w=[(-1*f-g)/n,(-1*h-y)/r],_=ma([1,0],x),O=ma(x,w);return ya(x,w)<=-1&&(O=Math.PI),ya(x,w)>=1&&(O=0),0===a&&O>0&&(O-=2*Math.PI),1===a&&O<0&&(O+=2*Math.PI),{cx:m,cy:b,rx:la(t,[u,c])?0:n,ry:la(t,[u,c])?0:r,startAngle:_,endAngle:_+O,xRotation:i,arcFlag:o,sweepFlag:a}}function xa(t,e,n){var r=e.parsedStyle,i=r.defX,o=void 0===i?0:i,a=r.defY,s=void 0===a?0:a;return t.reduce((function(t,e){var r="";if("M"===e[0]||"L"===e[0]){var i=C(e[1]-o,e[2]-s,0);n&&N(i,i,n),r="".concat(e[0]).concat(i[0],",").concat(i[1])}else if("Z"===e[0])r=e[0];else if("C"===e[0]){var a=C(e[1]-o,e[2]-s,0),l=C(e[3]-o,e[4]-s,0),u=C(e[5]-o,e[6]-s,0);n&&(N(a,a,n),N(l,l,n),N(u,u,n)),r="".concat(e[0]).concat(a[0],",").concat(a[1],",").concat(l[0],",").concat(l[1],",").concat(u[0],",").concat(u[1])}else if("A"===e[0]){var c=C(e[6]-o,e[7]-s,0);n&&N(c,c,n),r="".concat(e[0]).concat(e[1],",").concat(e[2],",").concat(e[3],",").concat(e[4],",").concat(e[5],",").concat(c[0],",").concat(c[1])}else if("Q"===e[0]){a=C(e[1]-o,e[2]-s,0),l=C(e[3]-o,e[4]-s,0);n&&(N(a,a,n),N(l,l,n)),r="".concat(e[0]).concat(e[1],",").concat(e[2],",").concat(e[3],",").concat(e[4],"}")}return t+r}),"")}function wa(t,e,n,r){return[["M",t,e],["L",n,r]]}function _a(t,e,n,r){var i=(-1+Math.sqrt(2))/3*4,o=t*i,a=e*i,s=n-t,l=n+t,u=r-e,c=r+e;return[["M",s,r],["C",s,r-a,n-o,u,n,u],["C",n+o,u,l,r-a,l,r],["C",l,r+a,n+o,c,n,c],["C",n-o,c,s,r+a,s,r],["Z"]]}function Oa(t,e){var n=t.map((function(t,e){return[0===e?"M":"L",t[0],t[1]]}));return e&&n.push(["Z"]),n}function Ca(t,e,n,r,i){if(i){var o=v(i,4),a=o[0],s=o[1],l=o[2],u=o[3],c=t>0?1:-1,f=e>0?1:-1,h=c+f!==0?1:0;return[["M",c*a+n,r],["L",t-c*s+n,r],s?["A",s,s,0,0,h,t+n,f*s+r]:null,["L",t+n,e-f*l+r],l?["A",l,l,0,0,h,t+n-c*l,e+r]:null,["L",n+c*u,e+r],u?["A",u,u,0,0,h,n,e+r-f*u]:null,["L",n,f*a+r],a?["A",a,a,0,0,h,c*a+n,r]:null,["Z"]].filter((function(t){return t}))}return[["M",n,r],["L",n+t,r],["L",n+t,r+e],["L",n,r+e],["Z"]]}function Sa(t,e){void 0===e&&(e=t.getLocalTransform());var n=[];switch(t.nodeName){case Dr.LINE:var r=t.parsedStyle,i=r.x1,o=void 0===i?0:i,a=r.y1,s=void 0===a?0:a,l=r.x2,u=void 0===l?0:l,c=r.y2,f=void 0===c?0:c;n=wa(o,s,u,f);break;case Dr.CIRCLE:var h=t.parsedStyle,d=h.r,p=void 0===d?0:d,y=h.cx,m=void 0===y?0:y,b=h.cy,x=void 0===b?0:b;n=_a(p,p,m,x);break;case Dr.ELLIPSE:var w=t.parsedStyle,_=w.rx,O=void 0===_?0:_,C=w.ry,S=void 0===C?0:C,E=w.cx,M=(m=void 0===E?0:E,w.cy);x=void 0===M?0:M;n=_a(O,S,m,x);break;case Dr.POLYLINE:case Dr.POLYGON:var k=t.parsedStyle.points;n=Oa(k.points,t.nodeName===Dr.POLYGON);break;case Dr.RECT:var T=t.parsedStyle,A=T.width,L=void 0===A?0:A,P=T.height,R=void 0===P?0:P,I=T.x,j=void 0===I?0:I,N=T.y,B=void 0===N?0:N,D=T.radius,F=D&&D.some((function(t){return 0!==t}));n=Ca(L,R,j,B,F&&D.map((function(t){return xe(t,0,Math.min(Math.abs(L)/2,Math.abs(R)/2))})));break;case Dr.PATH:var z=t.parsedStyle.path.absolutePath;n=g([],v(z),!1);break}if(n.length)return xa(n,t,e)}var Ea=function(t){if(""===t||Array.isArray(t)&&0===t.length)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var e;try{e=He(t)}catch(h){e=He(""),console.error("[g]: Invalid SVG Path definition: ".concat(t))}var n=aa(e),r=sa(e),i=r.polygons,o=r.polylines,a=pa(e),s=ua(a,0),l=s.x,u=s.y,c=s.width,f=s.height;return{absolutePath:e,hasArc:n,segments:a,polygons:i,polylines:o,totalLength:0,rect:{x:Number.isFinite(l)?l:0,y:Number.isFinite(u)?u:0,width:Number.isFinite(c)?c:0,height:Number.isFinite(f)?f:0}}},Ma=ji(Ea);function ka(t){return me(t)?Ma(t):Ea(t)}function Ta(t,e,n){var r=t.curve,i=e.curve;r&&0!==r.length||(r=vn(t.absolutePath,!1),t.curve=r),i&&0!==i.length||(i=vn(e.absolutePath,!1),e.curve=i);var o=[r,i];r.length!==i.length&&(o=mn(r,i));var a=wn(o[0])!==wn(o[1])?_n(o[0]):On(o[0]);return[a,Sn(o[1],a),function(t){return t}]}function Aa(t,e){var n;n=me(t)?t.split(" ").map((function(t){var e=v(t.split(","),2),n=e[0],r=e[1];return[Number(n),Number(r)]})):t;var r,i,o=[],a=0,s=Lr(n);n.forEach((function(t,e){n[e+1]&&(r=[0,0],r[0]=a/s,i=_r(t[0],t[1],n[e+1][0],n[e+1][1]),a+=i,r[1]=a/s,o.push(r))}));var l=Math.min.apply(Math,g([],v(n.map((function(t){return t[0]}))),!1)),u=Math.min.apply(Math,g([],v(n.map((function(t){return t[1]}))),!1));return e&&(e.parsedStyle.defX=l,e.parsedStyle.defY=u),{points:n,totalLength:s,segments:o}}function La(t,e){return[t.points,e.points,function(t){return t}]}var Pa=null;function Ra(t){return function(e){var n=0;return t.map((function(t){return t===Pa?e[n++]:t}))}}function Ia(t){return t}var ja={matrix:["NNNNNN",[Pa,Pa,0,0,Pa,Pa,0,0,0,0,1,0,Pa,Pa,0,1],Ia],matrix3d:["NNNNNNNNNNNNNNNN",Ia],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",Ra([Pa,Pa,new io(1)]),Ia],scalex:["N",Ra([Pa,new io(1),new io(1)]),Ra([Pa,new io(1)])],scaley:["N",Ra([new io(1),Pa,new io(1)]),Ra([new io(1),Pa])],scalez:["N",Ra([new io(1),new io(1),Pa])],scale3d:["NNN",Ia],skew:["Aa",null,Ia],skewx:["A",null,Ra([Pa,lo])],skewy:["A",null,Ra([lo,Pa])],translate:["Tt",Ra([Pa,Pa,oo]),Ia],translatex:["T",Ra([Pa,oo,oo]),Ra([Pa,oo])],translatey:["T",Ra([oo,Pa,oo]),Ra([oo,Pa])],translatez:["L",Ra([oo,oo,Pa])],translate3d:["TTL",Ia]};function Na(t){if(t=(t||"none").toLowerCase().trim(),"none"===t)return[];var e,n=/\s*(\w+)\(([^)]*)\)/g,r=[],i=0;while(e=n.exec(t)){if(e.index!==i)return[];i=e.index+e[0].length;var o=e[1],a=ja[o];if(!a)return[];var s=e[2].split(","),l=a[0];if(l.length<s.length)return[];for(var u=[],c=0;c<l.length;c++){var f=s[c],h=l[c],d=void 0;if(d=f?{A:function(t){return"0"===t.trim()?lo:Vo(t)},N:ea,T:Go,L:$o}[h.toUpperCase()](f):{a:lo,n:u[0],t:oo}[h],void 0===d)return[];u.push(d)}if(r.push({t:o,d:u}),n.lastIndex===t.length)return r}return[]}function Ba(t){var e,n,r,i;switch(t.t){case"rotatex":return i=Zr(Yo(t.d[0])),[1,0,0,0,0,Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1];case"rotatey":return i=Zr(Yo(t.d[0])),[Math.cos(i),0,-Math.sin(i),0,0,1,0,0,Math.sin(i),0,Math.cos(i),0,0,0,0,1];case"rotate":case"rotatez":return i=Zr(Yo(t.d[0])),[Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,1];case"rotate3d":e=t.d[0].value,n=t.d[1].value,r=t.d[2].value,i=Zr(Yo(t.d[3]));var o=e*e+n*n+r*r;if(0===o)e=1,n=0,r=0;else if(1!==o){var a=Math.sqrt(o);e/=a,n/=a,r/=a}var s=Math.sin(i/2),l=s*Math.cos(i/2),u=s*s;return[1-2*(n*n+r*r)*u,2*(e*n*u+r*l),2*(e*r*u-n*l),0,2*(e*n*u-r*l),1-2*(e*e+r*r)*u,2*(n*r*u+e*l),0,2*(e*r*u+n*l),2*(n*r*u-e*l),1-2*(e*e+n*n)*u,0,0,0,0,1];case"scale":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scalex":return[t.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaley":return[1,0,0,0,0,t.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scalez":return[1,0,0,0,0,1,0,0,0,0,t.d[0].value,0,0,0,0,1];case"scale3d":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,t.d[2].value,0,0,0,0,1];case"skew":var c=Zr(Yo(t.d[0])),f=Zr(Yo(t.d[1]));return[1,Math.tan(f),0,0,Math.tan(c),1,0,0,0,0,1,0,0,0,0,1];case"skewx":return i=Zr(Yo(t.d[0])),[1,0,0,0,Math.tan(i),1,0,0,0,0,1,0,0,0,0,1];case"skewy":return i=Zr(Yo(t.d[0])),[1,Math.tan(i),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return e=Ko(t.d[0],0,null)||0,n=Ko(t.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,n,0,1];case"translatex":return e=Ko(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,0,0,1];case"translatey":return n=Ko(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,n,0,1];case"translatez":return r=Ko(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,r,1];case"translate3d":return e=Ko(t.d[0],0,null)||0,n=Ko(t.d[1],0,null)||0,r=Ko(t.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,n,r,1];case"perspective":var h=Ko(t.d[0],0,null)||0,d=h?-1/h:0;return[1,0,0,0,0,1,0,0,0,0,1,d,0,0,0,1];case"matrix":return[t.d[0].value,t.d[1].value,0,0,t.d[2].value,t.d[3].value,0,0,0,0,1,0,t.d[4].value,t.d[5].value,0,1];case"matrix3d":return t.d.map((function(t){return t.value}))}}function Da(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15]]}function Fa(t){return 0===t.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:t.map(Ba).reduce(Da)}function za(t){var e=[0,0,0],n=[1,1,1],r=[0,0,0],i=[0,0,0,1],o=[0,0,0,1];return fi(Fa(t),e,n,r,i,o),[[e,n,r,o,i]]}var Wa=function(){function t(t,e){for(var n=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],r=0;r<4;r++)for(var i=0;i<4;i++)for(var o=0;o<4;o++)n[r][i]+=e[r][o]*t[o][i];return n}function e(t){return 0==t[0][2]&&0==t[0][3]&&0==t[1][2]&&0==t[1][3]&&0==t[2][0]&&0==t[2][1]&&1==t[2][2]&&0==t[2][3]&&0==t[3][2]&&1==t[3][3]}function n(n,r,i,o,a){for(var s=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],l=0;l<4;l++)s[l][3]=a[l];for(l=0;l<3;l++)for(var u=0;u<3;u++)s[3][l]+=n[u]*s[u][l];var c=o[0],f=o[1],h=o[2],d=o[3],p=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];p[0][0]=1-2*(f*f+h*h),p[0][1]=2*(c*f-h*d),p[0][2]=2*(c*h+f*d),p[1][0]=2*(c*f+h*d),p[1][1]=1-2*(c*c+h*h),p[1][2]=2*(f*h-c*d),p[2][0]=2*(c*h-f*d),p[2][1]=2*(f*h+c*d),p[2][2]=1-2*(c*c+f*f),s=t(s,p);var v=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];i[2]&&(v[2][1]=i[2],s=t(s,v)),i[1]&&(v[2][1]=0,v[2][0]=i[0],s=t(s,v)),i[0]&&(v[2][0]=0,v[1][0]=i[0],s=t(s,v));for(l=0;l<3;l++)for(u=0;u<3;u++)s[l][u]*=r[l];return e(s)?[s[0][0],s[0][1],s[1][0],s[1][1],s[3][0],s[3][1]]:s[0].concat(s[1],s[2],s[3])}return n}();function Ha(t){return t.toFixed(6).replace(".000000","")}function $a(t,e){var n,r;return t.decompositionPair!==e&&(t.decompositionPair=e,n=za(t)),e.decompositionPair!==t&&(e.decompositionPair=t,r=za(e)),null===n[0]||null===r[0]?[[!1],[!0],function(n){return n?e[0].d:t[0].d}]:(n[0].push(0),r[0].push(1),[n,r,function(t){var e=Va(n[0][3],r[0][3],t[5]),i=Wa(t[0],t[1],t[2],e,t[4]),o=i.map(Ha).join(",");return o}])}function Ga(t,e){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[r];return n}function Va(t,e,n){var r=Ga(t,e);r=xe(r,-1,1);var i=[];if(1===r)i=t;else for(var o=Math.acos(r),a=1*Math.sin(n*o)/Math.sqrt(1-r*r),s=0;s<4;s++)i.push(t[s]*(Math.cos(n*o)-r*a)+e[s]*a);return i}function Ua(t){return t.replace(/[xy]/,"")}function Ya(t){return t.replace(/(x|y|z|3d)?$/,"3d")}var qa=function(t,e){return"perspective"===t&&"perspective"===e||("matrix"===t||"matrix3d"===t)&&("matrix"===e||"matrix3d"===e)};function Xa(t,e,n){var r=!1;if(!t.length||!e.length){t.length||(r=!0,t=e,e=[]);for(var i=function(n){var r=t[n],i=r.t,o=r.d,a="scale"===i.substring(0,5)?1:0;e.push({t:i,d:o.map((function(t){return"number"===typeof t?bo(a):bo(a,t.unit)}))})},o=0;o<t.length;o++)i(o)}var a=[],s=[],l=[];if(t.length!==e.length){var u=$a(t,e);a=[u[0]],s=[u[1]],l=[["matrix",[u[2]]]]}else for(o=0;o<t.length;o++){var c=t[o].t,f=e[o].t,h=t[o].d,d=e[o].d,p=ja[c],v=ja[f],g=void 0;if(qa(c,f)){u=$a([t[o]],[e[o]]);a.push(u[0]),s.push(u[1]),l.push(["matrix",[u[2]]])}else{if(c===f)g=c;else if(p[2]&&v[2]&&Ua(c)===Ua(f))g=Ua(c),h=p[2](h),d=v[2](d);else{if(!p[1]||!v[1]||Ya(c)!==Ya(f)){u=$a(t,e);a=[u[0]],s=[u[1]],l=[["matrix",[u[2]]]];break}g=Ya(c),h=p[1](h),d=v[1](d)}for(var y=[],m=[],b=[],x=0;x<h.length;x++){u=Uo(h[x],d[x],n,!1,x);y[x]=u[0],m[x]=u[1],b.push(u[2])}a.push(y),s.push(m),l.push([g,b])}}if(r){var w=a;a=s,s=w}return[a,s,function(t){return t.map((function(t,e){var n=t.map((function(t,n){return l[e][1][n](t)})).join(",");return"matrix"===l[e][0]&&16===n.split(",").length&&(l[e][0]="matrix3d"),"matrix3d"===l[e][0]&&6===n.split(",").length&&(l[e][0]="matrix"),l[e][0]+"("+n+")"})).join(" ")}]}var Ka=ji((function(t){if(me(t)){if("text-anchor"===t)return[bo(0,"px"),bo(0,"px")];var e=t.split(" ");return 1===e.length&&("top"===e[0]||"bottom"===e[0]?(e[1]=e[0],e[0]="center"):e[1]="center"),2!==e.length?null:[Go(Za(e[0])),Go(Za(e[1]))]}return[bo(t[0]||0,"px"),bo(t[1]||0,"px")]}));function Za(t){return"center"===t?"50%":"left"===t||"top"===t?"0":"right"===t||"bottom"===t?"100%":t}var Qa=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:wo.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:wo.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:wo.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:wo.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:wo.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:wo.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:wo.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:wo.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:wo.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:wo.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:wo.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:wo.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:wo.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:wo.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:wo.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:wo.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:wo.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:wo.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:wo.FILTER},{n:"clipPath",syntax:wo.DEFINED_PATH},{n:"textPath",syntax:wo.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:wo.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:wo.TRANSFORM},{n:"transformOrigin",p:100,d:function(t){return t===Dr.CIRCLE||t===Dr.ELLIPSE?"center":t===Dr.TEXT?"text-anchor":"left top"},l:!0,syntax:wo.TRANSFORM_ORIGIN},{n:"anchor",p:99,d:function(t){return t===Dr.CIRCLE||t===Dr.ELLIPSE?"0.5 0.5":"0 0"},l:!0,syntax:wo.LENGTH_PERCENTAGE_12},{n:"cx",int:!0,d:"0",syntax:wo.COORDINATE},{n:"cy",int:!0,d:"0",syntax:wo.COORDINATE},{n:"cz",int:!0,d:"0",syntax:wo.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:wo.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:wo.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:wo.LENGTH_PERCENTAGE},{n:"x",int:!0,d:"0",syntax:wo.COORDINATE},{n:"y",int:!0,d:"0",syntax:wo.COORDINATE},{n:"z",int:!0,d:"0",syntax:wo.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:wo.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:wo.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:wo.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:wo.COORDINATE},{n:"y1",int:!0,l:!0,syntax:wo.COORDINATE},{n:"z1",int:!0,l:!0,syntax:wo.COORDINATE},{n:"x2",int:!0,l:!0,syntax:wo.COORDINATE},{n:"y2",int:!0,l:!0,syntax:wo.COORDINATE},{n:"z2",int:!0,l:!0,syntax:wo.COORDINATE},{n:"path",int:!0,l:!0,d:"",a:["d"],syntax:wo.PATH,p:50},{n:"points",int:!0,l:!0,syntax:wo.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:wo.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:wo.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:wo.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:wo.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:wo.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:wo.NUMBER,d:function(t){return t===Dr.PATH||t===Dr.POLYGON||t===Dr.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:wo.MARKER},{n:"markerEnd",syntax:wo.MARKER},{n:"markerMid",syntax:wo.MARKER},{n:"markerStartOffset",syntax:wo.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:wo.LENGTH,l:!0,int:!0,d:"0"}],Ja=Qa.filter((function(t){return!!t.l})).map((function(t){return t.n})),ts={},es=new WeakMap,ns=function(t,e){var n=es.get(t);return!n||0===n.length||n.includes(e)},rs=function(){function t(t){var e=this;this.runtime=t,Qa.forEach((function(t){e.registerMetadata(t)}))}return t.prototype.registerMetadata=function(t){g([t.n],v(t.a||[]),!1).forEach((function(e){ts[e]=t}))},t.prototype.unregisterMetadata=function(t){delete ts[t]},t.prototype.getPropertySyntax=function(t){return this.runtime.CSSPropertySyntaxFactory[t]},t.prototype.processProperties=function(t,e,n){var r=this;if(void 0===n&&(n={skipUpdateAttribute:!1,skipParse:!1,forceUpdateGeometry:!1,usedAttributes:[]}),!this.runtime.enableCSSParsing){Object.assign(t.attributes,e);var i=Object.keys(e),o=t.parsedStyle.clipPath,a=t.parsedStyle.offsetPath;t.parsedStyle=Object.assign(t.parsedStyle,e);var s=!!n.forceUpdateGeometry;if(!s)for(var l=0;l<Ja.length;l++)if(Ja[l]in e){s=!0;break}return e.fill&&(t.parsedStyle.fill=zo(e.fill)),e.stroke&&(t.parsedStyle.stroke=zo(e.stroke)),e.shadowColor&&(t.parsedStyle.shadowColor=zo(e.shadowColor)),e.filter&&(t.parsedStyle.filter=Jo(e.filter)),ye(e.radius)||(t.parsedStyle.radius=qo(e.radius,4)),ye(e.lineDash)||(t.parsedStyle.lineDash=qo(e.lineDash,2)),e.points&&(t.parsedStyle.points=Aa(e.points,t)),""===e.path&&(t.parsedStyle.path=c({},_o)),e.path&&(t.parsedStyle.path=ka(e.path),t.parsedStyle.defX=t.parsedStyle.path.rect.x,t.parsedStyle.defY=t.parsedStyle.path.rect.y),e.textTransform&&this.runtime.CSSPropertySyntaxFactory["<text-transform>"].calculator(null,null,{value:e.textTransform},t,null),e.clipPath&&this.runtime.CSSPropertySyntaxFactory["<defined-path>"].calculator("clipPath",o,e.clipPath,t,this.runtime),e.offsetPath&&this.runtime.CSSPropertySyntaxFactory["<defined-path>"].calculator("offsetPath",a,e.offsetPath,t,this.runtime),e.anchor&&(t.parsedStyle.anchor=qo(e.anchor,2)),e.transform&&(t.parsedStyle.transform=Na(e.transform)),e.transformOrigin&&(t.parsedStyle.transformOrigin=Ka(e.transformOrigin)),e.markerStart&&(t.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory["<marker>"].calculator(null,e.markerStart,e.markerStart,null,null)),e.markerEnd&&(t.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory["<marker>"].calculator(null,e.markerEnd,e.markerEnd,null,null)),e.markerMid&&(t.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory["<marker>"].calculator("",e.markerMid,e.markerMid,null,null)),(t.nodeName!==Dr.CIRCLE&&t.nodeName!==Dr.ELLIPSE||ye(e.cx)&&ye(e.cy))&&(t.nodeName!==Dr.RECT&&t.nodeName!==Dr.IMAGE&&t.nodeName!==Dr.GROUP&&t.nodeName!==Dr.HTML&&t.nodeName!==Dr.TEXT&&t.nodeName!==Dr.MESH||ye(e.x)&&ye(e.y)&&ye(e.z))&&(t.nodeName!==Dr.LINE||ye(e.x1)&&ye(e.y1)&&ye(e.z1)&&ye(e.x2)&&ye(e.y2)&&ye(e.z2))||this.runtime.CSSPropertySyntaxFactory["<coordinate>"].postProcessor(t,i),ye(e.zIndex)||this.runtime.CSSPropertySyntaxFactory["<z-index>"].postProcessor(t,i),e.path&&this.runtime.CSSPropertySyntaxFactory["<path>"].postProcessor(t,i),e.points&&this.runtime.CSSPropertySyntaxFactory["<list-of-points>"].postProcessor(t,i),ye(e.offsetDistance)||this.runtime.CSSPropertySyntaxFactory["<offset-distance>"].postProcessor(t,i),e.transform&&this.runtime.CSSPropertySyntaxFactory["<transform>"].postProcessor(t,i),void(s&&this.updateGeometry(t))}var u=n.skipUpdateAttribute,f=n.skipParse,h=n.forceUpdateGeometry,d=n.usedAttributes,p=h,v=Object.keys(e);v.forEach((function(n){var r;u||(t.attributes[n]=e[n]),!p&&(null===(r=ts[n])||void 0===r?void 0:r.l)&&(p=!0)})),f||v.forEach((function(e){t.computedStyle[e]=r.parseProperty(e,t.attributes[e],t)})),(null===d||void 0===d?void 0:d.length)&&(v=Array.from(new Set(v.concat(d)))),v.forEach((function(e){e in t.computedStyle&&(t.parsedStyle[e]=r.computeProperty(e,t.computedStyle[e],t))})),p&&this.updateGeometry(t),v.forEach((function(e){e in t.parsedStyle&&r.postProcessProperty(e,t,v)})),this.runtime.enableCSSParsing&&t.children.length&&v.forEach((function(e){e in t.parsedStyle&&r.isPropertyInheritable(e)&&t.children.forEach((function(t){t.internalSetAttribute(e,null,{skipUpdateAttribute:!0,skipParse:!0})}))}))},t.prototype.parseProperty=function(t,e,n){var r=ts[t],i=e;if((""===e||ye(e))&&(e="unset"),"unset"===e||"initial"===e||"inherit"===e)i=vo(e);else if(r){var o=r.k,a=r.syntax,s=a&&this.getPropertySyntax(a);o&&o.indexOf(e)>-1?i=vo(e):s&&s.parser&&(i=s.parser(e,n))}return i},t.prototype.computeProperty=function(t,e,n){var r=ts[t],i="g-root"===n.id,o=e;if(r){var a=r.syntax,s=r.inh,l=r.d;if(e instanceof qi){var u=e.value;if("unset"===u&&(u=s&&!i?"inherit":"initial"),"initial"===u)ye(l)||(e=this.parseProperty(t,Qi(l)?l(n.nodeName):l,n));else if("inherit"===u){var c=this.tryToResolveProperty(n,t,{inherited:!0});return ye(c)?void this.addUnresolveProperty(n,t):c}}var f=a&&this.getPropertySyntax(a);if(f&&f.calculator){var h=n.parsedStyle[t];o=f.calculator(t,h,e,n,this.runtime)}else o=e instanceof qi?e.value:e}return o},t.prototype.postProcessProperty=function(t,e,n){var r=ts[t];if(r&&r.syntax){var i=r.syntax&&this.getPropertySyntax(r.syntax),o=i;o&&o.postProcessor&&o.postProcessor(e,n)}},t.prototype.addUnresolveProperty=function(t,e){var n=es.get(t);n||(es.set(t,[]),n=es.get(t)),-1===n.indexOf(e)&&n.push(e)},t.prototype.tryToResolveProperty=function(t,e,n){void 0===n&&(n={});var r=n.inherited;if(r&&t.parentElement&&ns(t.parentElement,e)){var i=t.parentElement.parsedStyle[e];if("unset"===i||"initial"===i||"inherit"===i)return;return i}},t.prototype.recalc=function(t){var e=es.get(t);if(e&&e.length){var n={};e.forEach((function(e){n[e]=t.attributes[e]})),this.processProperties(t,n),es.delete(t)}},t.prototype.updateGeometry=function(t){var e=t.nodeName,n=this.runtime.geometryUpdaterFactory[e];if(n){var r=t.geometry;r.contentBounds||(r.contentBounds=new gi),r.renderBounds||(r.renderBounds=new gi);var i=t.parsedStyle,o=n.update(i,t),a=o.width,s=o.height,l=o.depth,u=void 0===l?0:l,c=o.offsetX,f=void 0===c?0:c,h=o.offsetY,d=void 0===h?0:h,p=o.offsetZ,v=void 0===p?0:p,g=[Math.abs(a)/2,Math.abs(s)/2,u/2],y=i,m=y.stroke,b=y.lineWidth,x=y.increasedLineWidthForHitTesting,w=y.shadowType,_=y.shadowColor,O=y.filter,C=void 0===O?[]:O,S=y.transformOrigin,E=i.anchor;e===Dr.TEXT?delete i.anchor:e===Dr.MESH&&(i.anchor[2]=.5);var M=[(1-2*(E&&E[0]||0))*a/2+f,(1-2*(E&&E[1]||0))*s/2+d,(1-2*(E&&E[2]||0))*g[2]+v];r.contentBounds.update(M,g);var k=e===Dr.POLYLINE||e===Dr.POLYGON||e===Dr.PATH?Math.SQRT2:.5,T=m&&!m.isNone;if(T){var A=((b||0)+(x||0))*k;g[0]+=A,g[1]+=A}if(r.renderBounds.update(M,g),_&&w&&"inner"!==w){var L=r.renderBounds,P=L.min,R=L.max,I=i,j=I.shadowBlur,N=I.shadowOffsetX,B=I.shadowOffsetY,D=j||0,F=N||0,z=B||0,W=P[0]-D+F,H=R[0]+D+F,$=P[1]-D+z,G=R[1]+D+z;P[0]=Math.min(P[0],W),R[0]=Math.max(R[0],H),P[1]=Math.min(P[1],$),R[1]=Math.max(R[1],G),r.renderBounds.setMinMax(P,R)}C.forEach((function(t){var e=t.name,n=t.params;if("blur"===e){var i=n[0].value;r.renderBounds.update(r.renderBounds.center,Vr(r.renderBounds.halfExtents,r.renderBounds.halfExtents,[i,i,0]))}else if("drop-shadow"===e){var o=n[0].value,a=n[1].value,s=n[2].value,l=r.renderBounds,u=l.min,c=l.max,f=u[0]-s+o,h=c[0]+s+o,d=u[1]-s+a,p=c[1]+s+a;u[0]=Math.min(u[0],f),c[0]=Math.max(c[0],h),u[1]=Math.min(u[1],d),c[1]=Math.max(c[1],p),r.renderBounds.setMinMax(u,c)}})),E=i.anchor;var V=a<0,U=s<0,Y=(V?-1:1)*(S?Ko(S[0],0,t):0),q=(U?-1:1)*(S?Ko(S[1],1,t):0);Y-=(V?-1:1)*(E&&E[0]||0)*r.contentBounds.halfExtents[0]*2,q-=(U?-1:1)*(E&&E[1]||0)*r.contentBounds.halfExtents[1]*2,t.setOrigin(Y,q),this.runtime.sceneGraphService.dirtifyToRoot(t)}},t.prototype.isPropertyInheritable=function(t){var e=ts[t];return!!e&&e.inh},t}(),is=function(){function t(){this.parser=Vo,this.parserWithCSSDisabled=null,this.mixer=na}return t.prototype.calculator=function(t,e,n,r){return Yo(n)},t}(),os=function(){function t(){}return t.prototype.calculator=function(t,e,n,r,i){return n instanceof qi&&(n=null),i.sceneGraphService.updateDisplayObjectDependency(t,e,n,r),"clipPath"===t&&r.forEach((function(t){0===t.childNodes.length&&i.sceneGraphService.dirtifyToRoot(t)})),n},t}(),as=function(){function t(){this.parser=zo,this.parserWithCSSDisabled=zo,this.mixer=Wo}return t.prototype.calculator=function(t,e,n,r){return n instanceof qi?"none"===n.value?go:yo:n},t}(),ss=function(){function t(){this.parser=Jo}return t.prototype.calculator=function(t,e,n){return n instanceof qi?[]:n},t}();function ls(t){var e=t.parsedStyle.fontSize;return ye(e)?null:e}var us=function(){function t(){this.parser=Go,this.parserWithCSSDisabled=null,this.mixer=na}return t.prototype.calculator=function(t,e,n,r,i){var o;if(pe(n))return n;if(!io.isRelativeUnit(n.unit))return n.value;var a=i.styleValueRegistry;if(n.unit===Mi.kPercentage)return 0;if(n.unit===Mi.kEms){if(r.parentNode){var s=ls(r.parentNode);if(s)return s*=n.value,s;a.addUnresolveProperty(r,t)}else a.addUnresolveProperty(r,t);return 0}if(n.unit===Mi.kRems){if(null===(o=null===r||void 0===r?void 0:r.ownerDocument)||void 0===o?void 0:o.documentElement){s=ls(r.ownerDocument.documentElement);if(s)return s*=n.value,s;a.addUnresolveProperty(r,t)}else a.addUnresolveProperty(r,t);return 0}},t}(),cs=function(){function t(){this.mixer=ia}return t.prototype.parser=function(t){var e,n=Xo(pe(t)?[t]:t);return e=1===n.length?[n[0],n[0]]:[n[0],n[1]],e},t.prototype.calculator=function(t,e,n){return n.map((function(t){return t.value}))},t}(),fs=function(){function t(){this.mixer=ia}return t.prototype.parser=function(t){var e,n=Xo(pe(t)?[t]:t);return e=1===n.length?[n[0],n[0],n[0],n[0]]:2===n.length?[n[0],n[1],n[0],n[1]]:3===n.length?[n[0],n[1],n[2],n[1]]:[n[0],n[1],n[2],n[3]],e},t.prototype.calculator=function(t,e,n){return n.map((function(t){return t.value}))},t}(),hs=H();function ds(t,e){var n=e.parsedStyle.defX||0,i=e.parsedStyle.defY||0;return e.resetLocalTransform(),e.setLocalPosition(n,i),t.forEach((function(t){var o=t.t,a=t.d;if("scale"===o){var s=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[1,1];e.scaleLocal(s[0],s[1],1)}else if("scalex"===o){s=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[1];e.scaleLocal(s[0],1,1)}else if("scaley"===o){s=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[1];e.scaleLocal(1,s[0],1)}else if("scalez"===o){s=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[1];e.scaleLocal(1,1,s[0])}else if("scale3d"===o){s=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[1,1,1];e.scaleLocal(s[0],s[1],s[2])}else if("translate"===o){var l=a||[oo,oo];e.translateLocal(l[0].value,l[1].value,0)}else if("translatex"===o){l=a||[oo];e.translateLocal(l[0].value,0,0)}else if("translatey"===o){l=a||[oo];e.translateLocal(0,l[0].value,0)}else if("translatez"===o){l=a||[oo];e.translateLocal(0,0,l[0].value)}else if("translate3d"===o){l=a||[oo,oo,oo];e.translateLocal(l[0].value,l[1].value,l[2].value)}else if("rotate"===o){var u=a||[lo];e.rotateLocal(0,0,Yo(u[0]))}else if("rotatex"===o){u=a||[lo];e.rotateLocal(Yo(u[0]),0,0)}else if("rotatey"===o){u=a||[lo];e.rotateLocal(0,Yo(u[0]),0)}else if("rotatez"===o){u=a||[lo];e.rotateLocal(0,0,Yo(u[0]))}else if("rotate3d"===o);else if("skew"===o){var c=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[0,0];e.setLocalSkew(Zr(c[0]),Zr(c[1]))}else if("skewx"===o){c=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[0];e.setLocalSkew(Zr(c[0]),e.getLocalSkew()[1])}else if("skewy"===o){c=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[0];e.setLocalSkew(e.getLocalSkew()[0],Zr(c[0]))}else if("matrix"===o){var f=v(a.map((function(t){return t.value})),6),h=f[0],d=f[1],p=f[2],y=f[3],m=f[4],b=f[5];e.setLocalTransform(U(hs,h,d,0,0,p,y,0,0,0,0,1,0,m+n,b+i,0,1))}else"matrix3d"===o&&(U.apply(r,g([hs],v(a.map((function(t){return t.value}))),!1)),hs[12]+=n,hs[13]+=i,e.setLocalTransform(hs))})),e.getLocalTransform()}var ps=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.postProcessor=function(t,e){var n,r,i;switch(t.nodeName){case Dr.CIRCLE:case Dr.ELLIPSE:var o=t.parsedStyle,a=o.cx,s=o.cy,l=o.cz;ye(a)||(n=a),ye(s)||(r=s),ye(l)||(i=l);break;case Dr.LINE:var u=t.parsedStyle,c=u.x1,f=u.x2,h=u.y1,d=u.y2,p=Math.min(c,f),g=Math.min(h,d);n=p,r=g,i=0;break;case Dr.RECT:case Dr.IMAGE:case Dr.GROUP:case Dr.HTML:case Dr.TEXT:case Dr.MESH:ye(t.parsedStyle.x)||(n=t.parsedStyle.x),ye(t.parsedStyle.y)||(r=t.parsedStyle.y),ye(t.parsedStyle.z)||(i=t.parsedStyle.z);break}t.nodeName!==Dr.PATH&&t.nodeName!==Dr.POLYLINE&&t.nodeName!==Dr.POLYGON&&(t.parsedStyle.defX=n||0,t.parsedStyle.defY=r||0);var y=!ye(n)||!ye(r)||!ye(i);if(y&&-1===e.indexOf("transform")){var m=t.parsedStyle.transform;if(m&&m.length)ds(m,t);else{var b=v(t.getLocalPosition(),3),x=b[0],w=b[1],_=b[2];t.setLocalPosition(ye(n)?x:n,ye(r)?w:r,ye(i)?_:i)}}},e}(us),vs=function(){function t(){}return t.prototype.calculator=function(t,e,n,r){n instanceof qi&&(n=null);var i=null===n||void 0===n?void 0:n.cloneNode(!0);return i&&(i.style.isMarker=!0),i},t}(),gs=function(){function t(){this.mixer=na,this.parser=ea,this.parserWithCSSDisabled=null}return t.prototype.calculator=function(t,e,n){return n.value},t}(),ys=function(){function t(){this.parser=ea,this.parserWithCSSDisabled=null,this.mixer=ra(0,1)}return t.prototype.calculator=function(t,e,n){return n.value},t.prototype.postProcessor=function(t){var e=t.parsedStyle,n=e.offsetPath,r=e.offsetDistance;if(n){var i=n.nodeName;if(i===Dr.LINE||i===Dr.PATH||i===Dr.POLYLINE){var o=n.getPoint(r);o&&(t.parsedStyle.defX=o.x,t.parsedStyle.defY=o.y,t.setLocalPosition(o.x,o.y))}}},t}(),ms=function(){function t(){this.parser=ea,this.parserWithCSSDisabled=null,this.mixer=ra(0,1)}return t.prototype.calculator=function(t,e,n){return n.value},t}(),bs=function(){function t(){this.parser=ka,this.parserWithCSSDisabled=ka,this.mixer=Ta}return t.prototype.calculator=function(t,e,n){return n instanceof qi&&"unset"===n.value?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Oi(0,0,0,0)}:n},t.prototype.postProcessor=function(t,e){if(t.parsedStyle.defX=t.parsedStyle.path.rect.x,t.parsedStyle.defY=t.parsedStyle.path.rect.y,t.nodeName===Dr.PATH&&-1===e.indexOf("transform")){var n=t.parsedStyle,r=n.defX,i=void 0===r?0:r,o=n.defY,a=void 0===o?0:o;t.setLocalPosition(i,a)}},t}(),xs=function(){function t(){this.parser=Aa,this.mixer=La}return t.prototype.postProcessor=function(t,e){if((t.nodeName===Dr.POLYGON||t.nodeName===Dr.POLYLINE)&&-1===e.indexOf("transform")){var n=t.parsedStyle,r=n.defX,i=n.defY;t.setLocalPosition(r,i)}},t}(),ws=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mixer=ra(0,1/0),e}return u(e,t),e}(us),_s=function(){function t(){}return t.prototype.calculator=function(t,e,n,r){return n instanceof qi?"unset"===n.value?"":n.value:"".concat(n)},t.prototype.postProcessor=function(t){t.nodeValue="".concat(t.parsedStyle.text)||""},t}(),Os=function(){function t(){}return t.prototype.calculator=function(t,e,n,r){var i=r.getAttribute("text");if(i){var o=i;"capitalize"===n.value?o=i.charAt(0).toUpperCase()+i.slice(1):"lowercase"===n.value?o=i.toLowerCase():"uppercase"===n.value&&(o=i.toUpperCase()),r.parsedStyle.text=o}return n.value},t}(),Cs={},Ss=0;function Es(t,e){if(t){var n="string"===typeof t?t:t.id||Ss++;Cs[n]&&Cs[n].destroy(),Cs[n]=e}}var Ms="undefined"!==typeof window&&"undefined"!==typeof window.document;function ks(t){return!!t.getAttribute}function Ts(t,e){var n=0,r=t.length;while(n<r){var i=n+r>>>1;As(t[i],e)<0?n=i+1:r=i}return n}function As(t,e){var n=Number(t.parsedStyle.zIndex),r=Number(e.parsedStyle.zIndex);if(n===r){var i=t.parentNode;if(i){var o=i.childNodes||[];return o.indexOf(t)-o.indexOf(e)}}return n-r}function Ls(t){var e,n=t;do{var r=null===(e=n.parsedStyle)||void 0===e?void 0:e.clipPath;if(r)return n;n=n.parentElement}while(null!==n);return null}var Ps="px";function Rs(t,e,n){Ms&&t.style&&(t.style.width=e+Ps,t.style.height=n+Ps)}function Is(t,e){if(Ms)return document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}function js(t){var e=Is(t,"width");return"auto"===e?t.offsetWidth:parseFloat(e)}function Ns(t){var e=Is(t,"height");return"auto"===e?t.offsetHeight:parseFloat(e)}var Bs=1,Ds={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};function Fs(t,e,n){var r=!1,i=!1,o=!!e&&!e.isNone,a=!!n&&!n.isNone;return"visiblepainted"===t||"painted"===t||"auto"===t?(r=o,i=a):"visiblefill"===t||"fill"===t?r=!0:"visiblestroke"===t||"stroke"===t?i=!0:"visible"!==t&&"all"!==t||(r=!0,i=!0),[r,i]}var zs=1,Ws=function(){return zs++},Hs="object"===typeof self&&self.self==self?self:"object"===typeof n.g&&n.g.global==n.g?n.g:{},$s=Date.now(),Gs=function(){return Hs.performance&&"function"===typeof Hs.performance.now?Hs.performance.now():Date.now()-$s},Vs={},Us=Date.now(),Ys=function(t){if("function"!==typeof t)throw new TypeError(t+" is not a function");var e=Date.now(),n=e-Us,r=n>16?0:16-n,i=Ws();return Vs[i]=t,Object.keys(Vs).length>1||setTimeout((function(){Us=e;var t=Vs;Vs={},Object.keys(t).forEach((function(e){return t[e](Gs())}))}),r),i},qs=function(t){delete Vs[t]},Xs=["","webkit","moz","ms","o"],Ks=function(t){return"string"!==typeof t?Ys:""===t?Hs["requestAnimationFrame"]:Hs[t+"RequestAnimationFrame"]},Zs=function(t){return"string"!==typeof t?qs:""===t?Hs["cancelAnimationFrame"]:Hs[t+"CancelAnimationFrame"]||Hs[t+"CancelRequestAnimationFrame"]},Qs=function(t,e){var n=0;while(void 0!==t[n]){if(e(t[n]))return t[n];n+=1}},Js=Qs(Xs,(function(t){return!!Ks(t)})),tl=Ks(Js),el=Zs(Js);Hs.requestAnimationFrame=tl,Hs.cancelAnimationFrame=el;var nl=function(){function t(){this.callbacks=[]}return t.prototype.getCallbacksNum=function(){return this.callbacks.length},t.prototype.tapPromise=function(t,e){this.callbacks.push(e)},t.prototype.promise=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Promise.all(this.callbacks.map((function(e){return e.apply(void 0,g([],v(t),!1))})))},t}(),rl=function(){function t(){this.callbacks=[]}return t.prototype.tapPromise=function(t,e){this.callbacks.push(e)},t.prototype.promise=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return h(this,void 0,void 0,(function(){var e,n,r,i;return d(this,(function(o){switch(o.label){case 0:return this.callbacks.length?[4,(i=this.callbacks)[0].apply(i,g([],v(t),!1))]:[3,6];case 1:e=o.sent(),n=0,o.label=2;case 2:return n<this.callbacks.length-1?(r=this.callbacks[n],[4,r(e)]):[3,5];case 3:e=o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,e];case 6:return[2,null]}}))}))},t}(),il=function(){function t(){this.callbacks=[]}return t.prototype.tap=function(t,e){this.callbacks.push(e)},t.prototype.call=function(){var t=arguments;this.callbacks.forEach((function(e){e.apply(void 0,t)}))},t}(),ol=function(){function t(){this.callbacks=[]}return t.prototype.tap=function(t,e){this.callbacks.push(e)},t.prototype.call=function(){if(this.callbacks.length){for(var t=arguments,e=this.callbacks[0].apply(void 0,t),n=0;n<this.callbacks.length-1;n++){var r=this.callbacks[n];e=r(e)}return e}return null},t}(),al=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],sl=/([\"\'])[^\'\"]+\1/;function ll(t){for(var e=t.fontSize,n=t.fontFamily,r=t.fontStyle,i=t.fontVariant,o=t.fontWeight,a=pe(e)&&"".concat(e,"px")||"16px",s=n.split(","),l=s.length-1;l>=0;l--){var u=s[l].trim();!sl.test(u)&&al.indexOf(u)<0&&(u='"'.concat(u,'"')),s[l]=u}return"".concat(r," ").concat(i," ").concat(o," ").concat(a," ").concat(s.join(","))}var ul=function(){function t(){this.parser=Na,this.parserWithCSSDisabled=Na,this.mixer=Xa}return t.prototype.calculator=function(t,e,n,r){return n instanceof qi?[]:n},t.prototype.postProcessor=function(t){var e=t.parsedStyle.transform;ds(e,t)},t}(),cl=function(){function t(){this.parser=Ka}return t}(),fl=function(){function t(){this.parser=ea}return t.prototype.calculator=function(t,e,n,r){return n.value},t.prototype.postProcessor=function(t){if(t.parentNode){var e=t.parentNode,n=e.renderable,r=e.sortable;n&&(n.dirty=!0),r&&(r.dirty=!0,r.dirtyReason=so.Z_INDEX_CHANGED)}},t}(),hl=function(){function t(){}return t.prototype.update=function(t,e){var n=t.r,r=2*n,i=2*n;return{width:r,height:i}},t}(),dl=function(){function t(){}return t.prototype.update=function(t,e){var n=t.rx,r=t.ry,i=2*n,o=2*r;return{width:i,height:o}},t}(),pl=function(){function t(){}return t.prototype.update=function(t){var e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=Math.min(e,r),a=Math.max(e,r),s=Math.min(n,i),l=Math.max(n,i),u=a-o,c=l-s;return{width:u,height:c}},t}(),vl=function(){function t(){}return t.prototype.update=function(t){var e=t.path,n=e.rect,r=n.width,i=n.height;return{width:r,height:i}},t}(),gl=function(){function t(){}return t.prototype.update=function(t){var e=t.points.points,n=Math.min.apply(Math,g([],v(e.map((function(t){return t[0]}))),!1)),r=Math.max.apply(Math,g([],v(e.map((function(t){return t[0]}))),!1)),i=Math.min.apply(Math,g([],v(e.map((function(t){return t[1]}))),!1)),o=Math.max.apply(Math,g([],v(e.map((function(t){return t[1]}))),!1)),a=r-n,s=o-i;return{width:a,height:s}},t}(),yl=function(){function t(){}return t.prototype.update=function(t,e){var n=t.img,r=t.width,i=void 0===r?0:r,o=t.height,a=void 0===o?0:o,s=i,l=a;return n&&!me(n)&&(s||(s=n.width,t.width=s),l||(l=n.height,t.height=l)),{width:s,height:l}},t}(),ml=function(){function t(t){this.globalRuntime=t}return t.prototype.isReadyToMeasure=function(t,e){var n=t.text,r=t.textAlign,i=t.textBaseline,o=t.fontSize,a=t.fontStyle,s=t.fontWeight,l=t.fontVariant,u=t.lineWidth;return n&&o&&a&&s&&l&&r&&i&&!ye(u)},t.prototype.update=function(t,e){var n,r,i=t.text,o=t.textAlign,a=t.lineWidth,s=t.textBaseline,l=t.dx,u=t.dy;if(!this.isReadyToMeasure(t,e))return t.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{width:0,height:0,x:0,y:0,offsetX:0,offsetY:0};var c=((null===(r=null===(n=null===e||void 0===e?void 0:e.ownerDocument)||void 0===n?void 0:n.defaultView)||void 0===r?void 0:r.getConfig())||{}).offscreenCanvas,f=this.globalRuntime.textService.measureText(i,t,c);t.metrics=f;var h=f.width,d=f.height,p=f.lineHeight,v=f.fontProperties,g=[h/2,d/2,0],y=[0,1],m=0;"center"===o||"middle"===o?(m=a/2,y=[.5,1]):"right"!==o&&"end"!==o||(m=a,y=[1,1]);var b=0;return"middle"===s?b=g[1]:"top"===s||"hanging"===s?b=2*g[1]:"alphabetic"===s?b=this.globalRuntime.enableCSSParsing?p-v.ascent:0:"bottom"!==s&&"ideographic"!==s||(b=0),l&&(m+=l),u&&(b+=u),t.anchor=[y[0],y[1],0],{width:2*g[0],height:2*g[1],offsetX:m,offsetY:b}},t}();function bl(t){return!!t.type}var xl,wl=function(){function t(e){this.eventPhase=t.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new _i,this.page=new _i,this.canvas=new _i,this.viewport=new _i,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layerX",{get:function(){return this.layer.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layerY",{get:function(){return this.layer.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageX",{get:function(){return this.page.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageY",{get:function(){return this.page.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.canvas.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.canvas.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasX",{get:function(){return this.canvas.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasY",{get:function(){return this.canvas.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewportX",{get:function(){return this.viewport.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewportY",{get:function(){return this.viewport.y},enumerable:!1,configurable:!0}),t.prototype.composedPath=function(){return!this.manager||this.path&&this.path[0]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path},Object.defineProperty(t.prototype,"propagationPath",{get:function(){return this.composedPath()},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0},t.prototype.stopImmediatePropagation=function(){this.propagationImmediatelyStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.initEvent=function(){},t.prototype.initUIEvent=function(){},t.prototype.clone=function(){throw new Error(Ci)},t}(),_l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.client=new _i,e.movement=new _i,e.offset=new _i,e.global=new _i,e.screen=new _i,e}return u(e,t),Object.defineProperty(e.prototype,"clientX",{get:function(){return this.client.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientY",{get:function(){return this.client.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"movementX",{get:function(){return this.movement.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"movementY",{get:function(){return this.movement.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetX",{get:function(){return this.offset.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetY",{get:function(){return this.offset.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalX",{get:function(){return this.global.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalY",{get:function(){return this.global.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenX",{get:function(){return this.screen.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenY",{get:function(){return this.screen.y},enumerable:!1,configurable:!0}),e.prototype.getModifierState=function(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)},e.prototype.initMouseEvent=function(){throw new Error(Ci)},e}(wl),Ol=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.height=0,e.isPrimary=!1,e}return u(e,t),e.prototype.getCoalescedEvents=function(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]},e.prototype.getPredictedEvents=function(){throw new Error("getPredictedEvents is not supported!")},e.prototype.clone=function(){return this.manager.clonePointerEvent(this)},e}(_l),Cl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.clone=function(){return this.manager.cloneWheelEvent(this)},e}(_l),Sl=function(t){function e(e,n){var r=t.call(this,null)||this;return r.type=e,r.detail=n,Object.assign(r,n),r}return u(e,t),e}(wl),El=":",Ml=function(){function t(){this.emitter=new m}return t.prototype.on=function(t,e,n){return this.addEventListener(t,e,n),this},t.prototype.addEventListener=function(t,e,n){var r=Mn(n)&&n||kn(n)&&n.capture,i=kn(n)&&n.once,o=Qi(e)?void 0:e,a=!1,s="";if(t.indexOf(El)>-1){var l=v(t.split(El),2),u=l[0],c=l[1];t=c,s=u,a=!0}if(t=r?"".concat(t,"capture"):t,e=Qi(e)?e:e.handleEvent,a){var f=e;e=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];(null===(t=e[0].target)||void 0===t?void 0:t.name)===s&&f.apply(void 0,g([],v(e),!1))}}return i?this.emitter.once(t,e,o):this.emitter.on(t,e,o),this},t.prototype.off=function(t,e,n){return t?this.removeEventListener(t,e,n):this.removeAllEventListeners(),this},t.prototype.removeAllEventListeners=function(){this.emitter.removeAllListeners()},t.prototype.removeEventListener=function(t,e,n){var r=Mn(n)&&n||kn(n)&&n.capture,i=Qi(e)?void 0:e;return t=r?"".concat(t,"capture"):t,e=Qi(e)?e:null===e||void 0===e?void 0:e.handleEvent,this.emitter.off(t,e,i),this},t.prototype.emit=function(t,e){this.dispatchEvent(new Sl(t,e))},t.prototype.dispatchEvent=function(t,e){var n,r,i;if(void 0===e&&(e=!1),!bl(t))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");if(i=this.document?this:this.defaultView?this.defaultView:null===(n=this.ownerDocument)||void 0===n?void 0:n.defaultView,i){if(t.manager=i.getEventService()||null,!t.manager)return!1;t.defaultPrevented=!1,t.path=[],e||(t.target=this),null===(r=t.manager)||void 0===r||r.dispatchEvent(t,t.type,e)}return!t.defaultPrevented},t}(),kl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shadow=!1,e.ownerDocument=null,e.isConnected=!1,e.baseURI="",e.childNodes=[],e.nodeType=0,e.nodeName="",e.nodeValue=null,e.parentNode=null,e}return u(e,t),e.isNode=function(t){return!!t.childNodes},Object.defineProperty(e.prototype,"textContent",{get:function(){var t,e,n="";this.nodeName===Dr.TEXT&&(n+=this.style.text);try{for(var r=p(this.childNodes),i=r.next();!i.done;i=r.next()){var o=i.value;o.nodeName===Dr.TEXT?n+=o.nodeValue:n+=o.textContent}}catch(a){t={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},set:function(t){var e=this;this.childNodes.slice().forEach((function(t){e.removeChild(t)})),this.nodeName===Dr.TEXT&&(this.style.text="".concat(t))},enumerable:!1,configurable:!0}),e.prototype.getRootNode=function(t){return void 0===t&&(t={}),this.parentNode?this.parentNode.getRootNode(t):t.composed&&this.host?this.host.getRootNode(t):this},e.prototype.hasChildNodes=function(){return this.childNodes.length>0},e.prototype.isDefaultNamespace=function(t){throw new Error(Ci)},e.prototype.lookupNamespaceURI=function(t){throw new Error(Ci)},e.prototype.lookupPrefix=function(t){throw new Error(Ci)},e.prototype.normalize=function(){throw new Error(Ci)},e.prototype.isEqualNode=function(t){return this===t},e.prototype.isSameNode=function(t){return this.isEqualNode(t)},Object.defineProperty(e.prototype,"parent",{get:function(){return this.parentNode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentElement",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this.childNodes.length>0?this.childNodes[0]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null},enumerable:!1,configurable:!0}),e.prototype.compareDocumentPosition=function(t){var n;if(t===this)return 0;var r=t,i=this,o=[r],a=[i];while(null!==(n=r.parentNode)&&void 0!==n?n:i.parentNode)r=r.parentNode?(o.push(r.parentNode),r.parentNode):r,i=i.parentNode?(a.push(i.parentNode),i.parentNode):i;if(r!==i)return e.DOCUMENT_POSITION_DISCONNECTED|e.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|e.DOCUMENT_POSITION_PRECEDING;var s=o.length>a.length?o:a,l=s===o?a:o;if(s[s.length-l.length]===l[0])return s===o?e.DOCUMENT_POSITION_CONTAINED_BY|e.DOCUMENT_POSITION_FOLLOWING:e.DOCUMENT_POSITION_CONTAINS|e.DOCUMENT_POSITION_PRECEDING;for(var u=s.length-l.length,c=l.length-1;c>=0;c--){var f=l[c],h=s[u+c];if(h!==f){var d=f.parentNode.childNodes;return d.indexOf(f)<d.indexOf(h)?l===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING:s===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING}}return e.DOCUMENT_POSITION_FOLLOWING},e.prototype.contain=function(t){return this.contains(t)},e.prototype.contains=function(t){var e=t;while(e&&this!==e)e=e.parentNode;return!!e},e.prototype.getAncestor=function(t){var e=this;while(t>0&&e)e=e.parentNode,t--;return e},e.prototype.forEach=function(t,e){void 0===e&&(e=!1),t(this)||(e?this.childNodes.slice():this.childNodes).forEach((function(e){e.forEach(t)}))},e.DOCUMENT_POSITION_DISCONNECTED=1,e.DOCUMENT_POSITION_PRECEDING=2,e.DOCUMENT_POSITION_FOLLOWING=4,e.DOCUMENT_POSITION_CONTAINS=8,e.DOCUMENT_POSITION_CONTAINED_BY=16,e.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,e}(Ml),Tl=2048,Al=function(){function t(t,e){var n=this;this.globalRuntime=t,this.context=e,this.emitter=new m,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=H(),this.tmpVec3=w(),this.onPointerDown=function(t){var e=n.createPointerEvent(t);if(n.dispatchEvent(e,"pointerdown"),"touch"===e.pointerType)n.dispatchEvent(e,"touchstart");else if("mouse"===e.pointerType||"pen"===e.pointerType){var r=2===e.button;n.dispatchEvent(e,r?"rightdown":"mousedown")}var i=n.trackingData(t.pointerId);i.pressTargetsByButton[t.button]=e.composedPath(),n.freeEvent(e)},this.onPointerUp=function(t){var e,r=performance.now(),i=n.createPointerEvent(t,void 0,void 0,n.context.config.alwaysTriggerPointerEventOnCanvas?n.rootTarget:void 0);if(n.dispatchEvent(i,"pointerup"),"touch"===i.pointerType)n.dispatchEvent(i,"touchend");else if("mouse"===i.pointerType||"pen"===i.pointerType){var o=2===i.button;n.dispatchEvent(i,o?"rightup":"mouseup")}var a=n.trackingData(t.pointerId),s=n.findMountedTarget(a.pressTargetsByButton[t.button]),l=s;if(s&&!i.composedPath().includes(s)){var u=s;while(u&&!i.composedPath().includes(u)){if(i.currentTarget=u,n.notifyTarget(i,"pointerupoutside"),"touch"===i.pointerType)n.notifyTarget(i,"touchendoutside");else if("mouse"===i.pointerType||"pen"===i.pointerType){o=2===i.button;n.notifyTarget(i,o?"rightupoutside":"mouseupoutside")}kl.isNode(u)&&(u=u.parentNode)}delete a.pressTargetsByButton[t.button],l=u}if(l){var c=n.clonePointerEvent(i,"click");c.target=l,c.path=[],a.clicksByButton[t.button]||(a.clicksByButton[t.button]={clickCount:0,target:c.target,timeStamp:r});var f=a.clicksByButton[t.button];f.target===c.target&&r-f.timeStamp<200?++f.clickCount:f.clickCount=1,f.target=c.target,f.timeStamp=r,c.detail=f.clickCount,(null===(e=i.detail)||void 0===e?void 0:e.preventClick)||(n.context.config.useNativeClickEvent||"mouse"!==c.pointerType&&"touch"!==c.pointerType||n.dispatchEvent(c,"click"),n.dispatchEvent(c,"pointertap")),n.freeEvent(c)}n.freeEvent(i)},this.onPointerMove=function(t){var e=n.createPointerEvent(t,void 0,void 0,n.context.config.alwaysTriggerPointerEventOnCanvas?n.rootTarget:void 0),r="mouse"===e.pointerType||"pen"===e.pointerType,i=n.trackingData(t.pointerId),o=n.findMountedTarget(i.overTargets);if(i.overTargets&&o!==e.target){var a="mousemove"===t.type?"mouseout":"pointerout",s=n.createPointerEvent(t,a,o||void 0);if(n.dispatchEvent(s,"pointerout"),r&&n.dispatchEvent(s,"mouseout"),!e.composedPath().includes(o)){var l=n.createPointerEvent(t,"pointerleave",o||void 0);l.eventPhase=l.AT_TARGET;while(l.target&&!e.composedPath().includes(l.target))l.currentTarget=l.target,n.notifyTarget(l),r&&n.notifyTarget(l,"mouseleave"),kl.isNode(l.target)&&(l.target=l.target.parentNode);n.freeEvent(l)}n.freeEvent(s)}if(o!==e.target){var u="mousemove"===t.type?"mouseover":"pointerover",c=n.clonePointerEvent(e,u);n.dispatchEvent(c,"pointerover"),r&&n.dispatchEvent(c,"mouseover");var f=o&&kl.isNode(o)&&o.parentNode;while(f&&f!==(kl.isNode(n.rootTarget)&&n.rootTarget.parentNode)){if(f===e.target)break;f=f.parentNode}var h=!f||f===(kl.isNode(n.rootTarget)&&n.rootTarget.parentNode);if(h){var d=n.clonePointerEvent(e,"pointerenter");d.eventPhase=d.AT_TARGET;while(d.target&&d.target!==o&&d.target!==(kl.isNode(n.rootTarget)&&n.rootTarget.parentNode))d.currentTarget=d.target,n.notifyTarget(d),r&&n.notifyTarget(d,"mouseenter"),kl.isNode(d.target)&&(d.target=d.target.parentNode);n.freeEvent(d)}n.freeEvent(c)}n.dispatchEvent(e,"pointermove"),"touch"===e.pointerType&&n.dispatchEvent(e,"touchmove"),r&&(n.dispatchEvent(e,"mousemove"),n.cursor=n.getCursor(e.target)),i.overTargets=e.composedPath(),n.freeEvent(e)},this.onPointerOut=function(t){var e=n.trackingData(t.pointerId);if(e.overTargets){var r="mouse"===t.pointerType||"pen"===t.pointerType,i=n.findMountedTarget(e.overTargets),o=n.createPointerEvent(t,"pointerout",i||void 0);n.dispatchEvent(o),r&&n.dispatchEvent(o,"mouseout");var a=n.createPointerEvent(t,"pointerleave",i||void 0);a.eventPhase=a.AT_TARGET;while(a.target&&a.target!==(kl.isNode(n.rootTarget)&&n.rootTarget.parentNode))a.currentTarget=a.target,n.notifyTarget(a),r&&n.notifyTarget(a,"mouseleave"),kl.isNode(a.target)&&(a.target=a.target.parentNode);e.overTargets=null,n.freeEvent(o),n.freeEvent(a)}n.cursor=null},this.onPointerOver=function(t){var e=n.trackingData(t.pointerId),r=n.createPointerEvent(t),i="mouse"===r.pointerType||"pen"===r.pointerType;n.dispatchEvent(r,"pointerover"),i&&n.dispatchEvent(r,"mouseover"),"mouse"===r.pointerType&&(n.cursor=n.getCursor(r.target));var o=n.clonePointerEvent(r,"pointerenter");o.eventPhase=o.AT_TARGET;while(o.target&&o.target!==(kl.isNode(n.rootTarget)&&n.rootTarget.parentNode))o.currentTarget=o.target,n.notifyTarget(o),i&&n.notifyTarget(o,"mouseenter"),kl.isNode(o.target)&&(o.target=o.target.parentNode);e.overTargets=r.composedPath(),n.freeEvent(r),n.freeEvent(o)},this.onPointerUpOutside=function(t){var e=n.trackingData(t.pointerId),r=n.findMountedTarget(e.pressTargetsByButton[t.button]),i=n.createPointerEvent(t);if(r){var o=r;while(o)i.currentTarget=o,n.notifyTarget(i,"pointerupoutside"),"touch"===i.pointerType||"mouse"!==i.pointerType&&"pen"!==i.pointerType||n.notifyTarget(i,2===i.button?"rightupoutside":"mouseupoutside"),kl.isNode(o)&&(o=o.parentNode);delete e.pressTargetsByButton[t.button]}n.freeEvent(i)},this.onWheel=function(t){var e=n.createWheelEvent(t);n.dispatchEvent(e),n.freeEvent(e)},this.onClick=function(t){if(n.context.config.useNativeClickEvent){var e=n.createPointerEvent(t);n.dispatchEvent(e),n.freeEvent(e)}},this.onPointerCancel=function(t){var e=n.createPointerEvent(t,void 0,void 0,n.context.config.alwaysTriggerPointerEventOnCanvas?n.rootTarget:void 0);n.dispatchEvent(e),n.freeEvent(e)}}return t.prototype.init=function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)},t.prototype.destroy=function(){this.emitter.removeAllListeners(),this.mappingTable={},this.mappingState={},this.eventPool.clear()},t.prototype.client2Viewport=function(t){var e=this.context.contextService.getBoundingClientRect();return new _i(t.x-((null===e||void 0===e?void 0:e.left)||0),t.y-((null===e||void 0===e?void 0:e.top)||0))},t.prototype.viewport2Client=function(t){var e=this.context.contextService.getBoundingClientRect();return new _i(t.x+((null===e||void 0===e?void 0:e.left)||0),t.y+((null===e||void 0===e?void 0:e.top)||0))},t.prototype.viewport2Canvas=function(t){var e=t.x,n=t.y,r=this.rootTarget.defaultView,i=r.getCamera(),o=this.context.config,a=o.width,s=o.height,l=i.getPerspectiveInverse(),u=i.getWorldTransform(),c=Q(this.tmpMatrix,u,l),f=E(this.tmpVec3,e/a*2-1,2*(1-n/s)-1,0);return N(f,f,c),new _i(f[0],f[1])},t.prototype.canvas2Viewport=function(t){var e=this.rootTarget.defaultView,n=e.getCamera(),r=n.getPerspective(),i=n.getViewTransform(),o=Q(this.tmpMatrix,r,i),a=E(this.tmpVec3,t.x,t.y,0);N(this.tmpVec3,this.tmpVec3,o);var s=this.context.config,l=s.width,u=s.height;return new _i((a[0]+1)/2*l,(1-(a[1]+1)/2)*u)},t.prototype.setPickHandler=function(t){this.pickHandler=t},t.prototype.addEventMapping=function(t,e){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:e,priority:0}),this.mappingTable[t].sort((function(t,e){return t.priority-e.priority}))},t.prototype.mapEvent=function(t){if(this.rootTarget){var e=this.mappingTable[t.type];if(e)for(var n=0,r=e.length;n<r;n++)e[n].fn(t);else console.warn("[EventService]: Event mapping not defined for ".concat(t.type))}},t.prototype.dispatchEvent=function(t,e,n){if(n){t.eventPhase=t.AT_TARGET;var r=this.rootTarget.defaultView||null;t.currentTarget=r,this.notifyListeners(t,e)}else t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,e);this.emitter.emit(e||t.type,t)},t.prototype.propagate=function(t,e){if(t.target){var n=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(var r=n.length-1;r>=1;r--)if(t.currentTarget=n[r],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,e),!t.propagationStopped&&!t.propagationImmediatelyStopped){var i=n.indexOf(t.currentTarget);t.eventPhase=t.BUBBLING_PHASE;for(r=i+1;r<n.length;r++)if(t.currentTarget=n[r],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return}}},t.prototype.propagationPath=function(t){var e=[t],n=this.rootTarget.defaultView||null;if(n&&n===t)return e.unshift(n.document),e;for(var r=0;r<Tl&&t!==this.rootTarget;r++)kl.isNode(t)&&t.parentNode&&(e.push(t.parentNode),t=t.parentNode);return n&&e.push(n),e},t.prototype.hitTest=function(t){var e=t.viewportX,n=t.viewportY,r=this.context.config,i=r.width,o=r.height;return e<0||n<0||e>i||n>o?null:this.pickHandler(t)||this.rootTarget||null},t.prototype.isNativeEventFromCanvas=function(t){var e,n=this.context.contextService.getDomElement(),r=null===(e=t.nativeEvent)||void 0===e?void 0:e.target;if(r){if(r===n)return!0;if(n&&n.contains)return n.contains(r)}return!!t.nativeEvent.composedPath&&t.nativeEvent.composedPath().indexOf(n)>-1},t.prototype.getExistedHTML=function(t){var e,n;if(t.nativeEvent.composedPath)try{for(var r=p(t.nativeEvent.composedPath()),i=r.next();!i.done;i=r.next()){var o=i.value,a=this.globalRuntime.nativeHTMLMap.get(o);if(a)return a}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t.prototype.pickTarget=function(t){return this.hitTest({clientX:t.clientX,clientY:t.clientY,viewportX:t.viewportX,viewportY:t.viewportY,x:t.canvasX,y:t.canvasY})},t.prototype.createPointerEvent=function(t,e,n,r){var i=this.allocateEvent(Ol);this.copyPointerData(t,i),this.copyMouseData(t,i),this.copyData(t,i),i.nativeEvent=t.nativeEvent,i.originalEvent=t;var o=this.getExistedHTML(i);return i.target=null!==n&&void 0!==n?n:o||this.isNativeEventFromCanvas(i)&&this.pickTarget(i)||r,"string"===typeof e&&(i.type=e),i},t.prototype.createWheelEvent=function(t){var e=this.allocateEvent(Cl);this.copyWheelData(t,e),this.copyMouseData(t,e),this.copyData(t,e),e.nativeEvent=t.nativeEvent,e.originalEvent=t;var n=this.getExistedHTML(e);return e.target=n||this.isNativeEventFromCanvas(e)&&this.pickTarget(e),e},t.prototype.trackingData=function(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]},t.prototype.cloneWheelEvent=function(t){var e=this.allocateEvent(Cl);return e.nativeEvent=t.nativeEvent,e.originalEvent=t.originalEvent,this.copyWheelData(t,e),this.copyMouseData(t,e),this.copyData(t,e),e.target=t.target,e.path=t.composedPath().slice(),e.type=t.type,e},t.prototype.clonePointerEvent=function(t,e){var n=this.allocateEvent(Ol);return n.nativeEvent=t.nativeEvent,n.originalEvent=t.originalEvent,this.copyPointerData(t,n),this.copyMouseData(t,n),this.copyData(t,n),n.target=t.target,n.path=t.composedPath().slice(),n.type=null!==e&&void 0!==e?e:n.type,n},t.prototype.copyPointerData=function(t,e){e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist},t.prototype.copyMouseData=function(t,e){e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.shiftKey=t.shiftKey,e.client.copyFrom(t.client),e.movement.copyFrom(t.movement),e.canvas.copyFrom(t.canvas),e.screen.copyFrom(t.screen),e.global.copyFrom(t.global),e.offset.copyFrom(t.offset)},t.prototype.copyWheelData=function(t,e){e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ},t.prototype.copyData=function(t,e){e.isTrusted=t.isTrusted,e.timeStamp=performance.now(),e.type=t.type,e.detail=t.detail,e.view=t.view,e.page.copyFrom(t.page),e.viewport.copyFrom(t.viewport)},t.prototype.allocateEvent=function(t){this.eventPool.has(t)||this.eventPool.set(t,[]);var e=this.eventPool.get(t).pop()||new t(this);return e.eventPhase=e.NONE,e.currentTarget=null,e.path=[],e.target=null,e},t.prototype.freeEvent=function(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var e=t.constructor;this.eventPool.has(e)||this.eventPool.set(e,[]),this.eventPool.get(e).push(t)},t.prototype.notifyTarget=function(t,e){e=null!==e&&void 0!==e?e:t.type;var n=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?"".concat(e,"capture"):e;this.notifyListeners(t,n),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,e)},t.prototype.notifyListeners=function(t,e){var n=t.currentTarget.emitter,r=n._events[e];if(r)if("fn"in r)r.once&&n.removeListener(e,r.fn,void 0,!0),r.fn.call(t.currentTarget||r.context,t);else for(var i=0;i<r.length&&!t.propagationImmediatelyStopped;i++)r[i].once&&n.removeListener(e,r[i].fn,void 0,!0),r[i].fn.call(t.currentTarget||r[i].context,t)},t.prototype.findMountedTarget=function(t){if(!t)return null;for(var e=t[t.length-1],n=t.length-2;n>=0;n--){var r=t[n];if(!(r===this.rootTarget||kl.isNode(r)&&r.parentNode===e))break;e=t[n]}return e},t.prototype.getCursor=function(t){var e=t;while(e){var n=ks(e)&&e.getAttribute("cursor");if(n)return n;e=kl.isNode(e)&&e.parentNode}},t}(),Ll=function(){function t(){}return t.prototype.getOrCreateCanvas=function(t,e){if(this.canvas)return this.canvas;if(t||Jl.offscreenCanvas)this.canvas=t||Jl.offscreenCanvas,this.context=this.canvas.getContext("2d",e);else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",e),this.context&&this.context.measureText||(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch(n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",e)}return this.canvas.width=10,this.canvas.height=10,this.canvas},t.prototype.getOrCreateContext=function(t,e){return this.context||this.getOrCreateCanvas(t,e),this.context},t}();(function(t){t[t["CAMERA_CHANGED"]=0]="CAMERA_CHANGED",t[t["DISPLAY_OBJECT_CHANGED"]=1]="DISPLAY_OBJECT_CHANGED",t[t["NONE"]=2]="NONE"})(xl||(xl={}));var Pl,Rl=function(){function t(t,e){this.globalRuntime=t,this.context=e,this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new il,initAsync:new nl,dirtycheck:new ol,cull:new ol,beginFrame:new il,beforeRender:new il,render:new il,afterRender:new il,endFrame:new il,destroy:new il,pick:new rl,pickSync:new ol,pointerDown:new il,pointerUp:new il,pointerMove:new il,pointerOut:new il,pointerOver:new il,pointerWheel:new il,pointerCancel:new il,click:new il}}return t.prototype.init=function(t){var e=this,n=c(c({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach((function(t){t.apply(n,e.globalRuntime)})),this.hooks.init.call(),0===this.hooks.initAsync.getCallbacksNum()?(this.inited=!0,t()):this.hooks.initAsync.promise().then((function(){e.inited=!0,t()}))},t.prototype.getStats=function(){return this.stats},t.prototype.disableDirtyRectangleRendering=function(){var t=this.context.config.renderer,e=t.getConfig().enableDirtyRectangleRendering;return!e||this.context.renderingContext.renderReasons.has(xl.CAMERA_CHANGED)},t.prototype.render=function(t,e){var n=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var r=this.context.renderingContext;this.globalRuntime.sceneGraphService.syncHierarchy(r.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),r.renderReasons.size&&this.inited&&(this.renderDisplayObject(r.root,t,r),this.hooks.beginFrame.call(),r.renderListCurrentFrame.forEach((function(t){n.hooks.beforeRender.call(t),n.hooks.render.call(t),n.hooks.afterRender.call(t)})),this.hooks.endFrame.call(),r.renderListCurrentFrame=[],r.renderReasons.clear(),e())},t.prototype.renderDisplayObject=function(t,e,n){var r=this,i=e.renderer.getConfig(),o=i.enableDirtyCheck,a=i.enableCulling;this.globalRuntime.enableCSSParsing&&this.globalRuntime.styleValueRegistry.recalc(t);var s=o?this.hooks.dirtycheck.call(t):t;if(s){var l=a?this.hooks.cull.call(s,this.context.camera):s;l&&(this.stats.rendered++,n.renderListCurrentFrame.push(l))}t.renderable.dirty=!1,t.sortable.renderOrder=this.zIndexCounter++,this.stats.total++;var u=t.sortable;u.dirty&&(this.sort(t,u),u.dirty=!1,u.dirtyChildren=[],u.dirtyReason=void 0),(u.sorted||t.childNodes).forEach((function(t){r.renderDisplayObject(t,e,n)}))},t.prototype.sort=function(t,e){e.sorted&&e.dirtyReason!==so.Z_INDEX_CHANGED?e.dirtyChildren.forEach((function(n){var r=t.childNodes.indexOf(n);if(-1===r){var i=e.sorted.indexOf(n);i>=0&&e.sorted.splice(i,1)}else if(0===e.sorted.length)e.sorted.push(n);else{var o=Ts(e.sorted,n);e.sorted.splice(o,0,n)}})):e.sorted=t.childNodes.slice().sort(As)},t.prototype.destroy=function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()},t.prototype.dirtify=function(){this.context.renderingContext.renderReasons.add(xl.DISPLAY_OBJECT_CHANGED)},t}(),Il=/\[\s*(.*)=(.*)\s*\]/,jl=function(){function t(){}return t.prototype.selectOne=function(t,e){var n=this;if(t.startsWith("."))return e.find((function(e){return((null===e||void 0===e?void 0:e.classList)||[]).indexOf(n.getIdOrClassname(t))>-1}));if(t.startsWith("#"))return e.find((function(e){return e.id===n.getIdOrClassname(t)}));if(t.startsWith("[")){var r=this.getAttribute(t),i=r.name,o=r.value;return i?e.find((function(t){return e!==t&&("name"===i?t.name===o:n.attributeToString(t,i)===o)})):null}return e.find((function(n){return e!==n&&n.nodeName===t}))},t.prototype.selectAll=function(t,e){var n=this;if(t.startsWith("."))return e.findAll((function(r){return e!==r&&((null===r||void 0===r?void 0:r.classList)||[]).indexOf(n.getIdOrClassname(t))>-1}));if(t.startsWith("#"))return e.findAll((function(r){return e!==r&&r.id===n.getIdOrClassname(t)}));if(t.startsWith("[")){var r=this.getAttribute(t),i=r.name,o=r.value;return i?e.findAll((function(t){return e!==t&&("name"===i?t.name===o:n.attributeToString(t,i)===o)})):[]}return e.findAll((function(n){return e!==n&&n.nodeName===t}))},t.prototype.is=function(t,e){if(t.startsWith("."))return e.className===this.getIdOrClassname(t);if(t.startsWith("#"))return e.id===this.getIdOrClassname(t);if(t.startsWith("[")){var n=this.getAttribute(t),r=n.name,i=n.value;return"name"===r?e.name===i:this.attributeToString(e,r)===i}return e.nodeName===t},t.prototype.getIdOrClassname=function(t){return t.substring(1)},t.prototype.getAttribute=function(t){var e=t.match(Il),n="",r="";return e&&e.length>2&&(n=e[1].replace(/"/g,""),r=e[2].replace(/"/g,"")),{name:n,value:r}},t.prototype.attributeToString=function(t,e){if(!t.getAttribute)return"";var n=t.getAttribute(e);return ye(n)?"":n.toString?n.toString():""},t}(),Nl=function(t){function e(e,n,r,i,o,a,s,l){var u=t.call(this,null)||this;return u.relatedNode=n,u.prevValue=r,u.newValue=i,u.attrName=o,u.attrChange=a,u.prevParsedValue=s,u.newParsedValue=l,u.type=e,u}return u(e,t),e.ADDITION=2,e.MODIFICATION=1,e.REMOVAL=3,e}(wl);function Bl(t){var e=t.renderable;e&&(e.renderBoundsDirty=!0,e.boundsDirty=!0)}(function(t){t["REPARENT"]="reparent",t["DESTROY"]="destroy",t["ATTR_MODIFIED"]="DOMAttrModified",t["INSERTED"]="DOMNodeInserted",t["REMOVED"]="removed",t["MOUNTED"]="DOMNodeInsertedIntoDocument",t["UNMOUNTED"]="DOMNodeRemovedFromDocument",t["BOUNDS_CHANGED"]="bounds-changed",t["CULLED"]="culled"})(Pl||(Pl={}));var Dl=new Nl(Pl.REPARENT,null,"","","",0,"",""),Fl=function(){function t(t){var e=this;this.runtime=t,this.pendingEvents=[],this.boundsChangedEvent=new Sl(Pl.BOUNDS_CHANGED),this.rotate=function(){var t=Yt();return function(n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=0),"number"===typeof r&&(r=C(r,i,o));var a=n.transformable;if(null!==n.parentNode&&n.parentNode.transformable){var s=Yt();Jt(s,r[0],r[1],r[2]);var l=e.getRotation(n),u=e.getRotation(n.parentNode);ee(t,u),Zt(t,t),Xt(s,t,s),Xt(a.localRotation,s,l),re(a.localRotation,a.localRotation),e.dirtifyLocal(n,a)}else e.rotateLocal(n,r)}}(),this.rotateLocal=function(){var t=Yt();return function(n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=0),"number"===typeof r&&(r=C(r,i,o));var a=n.transformable;Jt(t,r[0],r[1],r[2]),ne(a.localRotation,a.localRotation,t),e.dirtifyLocal(n,a)}}(),this.setEulerAngles=function(){var t=Yt();return function(n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=0),"number"===typeof r&&(r=C(r,i,o));var a=n.transformable;if(null!==n.parentNode&&n.parentNode.transformable){Jt(a.localRotation,r[0],r[1],r[2]);var s=e.getRotation(n.parentNode);ee(t,Zt(Yt(),s)),ne(a.localRotation,a.localRotation,t),e.dirtifyLocal(n,a)}else e.setLocalEulerAngles(n,r)}}(),this.translateLocal=function(){return function(t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=0),"number"===typeof n&&(n=C(n,r,i));var o=t.transformable;F(n,w())||(D(n,n,o.localRotation),M(o.localPosition,o.localPosition,n),e.dirtifyLocal(t,o))}}(),this.setPosition=function(){var t=H(),n=w();return function(r,i){var o=r.transformable;if(n[0]=i[0],n[1]=i[1],n[2]=i[2]||0,!F(e.getPosition(r),n)){if(S(o.position,n),null!==r.parentNode&&r.parentNode.transformable){var a=r.parentNode.transformable;G(t,a.worldTransform),X(t,t),N(o.localPosition,n,t)}else S(o.localPosition,n);e.dirtifyLocal(r,o)}}}(),this.setLocalPosition=function(){var t=w();return function(n,r){var i=n.transformable;t[0]=r[0],t[1]=r[1],t[2]=r[2]||0,F(i.localPosition,t)||(S(i.localPosition,t),e.dirtifyLocal(n,i))}}(),this.translate=function(){var t=w(),n=w(),r=w();return function(i,o,a,s){void 0===a&&(a=0),void 0===s&&(s=0),"number"===typeof o&&(o=E(n,o,a,s)),F(o,t)||(M(r,e.getPosition(i),o),e.setPosition(i,r))}}(),this.setRotation=function(){var t=Yt();return function(n,r,i,o,a){var s=n.transformable;if("number"===typeof r&&(r=te(r,i,o,a)),null!==n.parentNode&&n.parentNode.transformable){var l=e.getRotation(n.parentNode);ee(t,l),Zt(t,t),Xt(s.localRotation,t,r),re(s.localRotation,s.localRotation),e.dirtifyLocal(n,s)}else e.setLocalRotation(n,r)}},this.displayObjectDependencyMap=new WeakMap,this.calcLocalTransform=function(){var t=H(),e=w(),n=te(0,0,0,1);return function(r){var i=0!==r.localSkew[0]||0!==r.localSkew[1];if(i){if(yt(r.localTransform,r.localRotation,r.localPosition,C(1,1,1),r.origin),0!==r.localSkew[0]||0!==r.localSkew[1]){var o=Y(t);o[4]=Math.tan(r.localSkew[0]),o[1]=Math.tan(r.localSkew[1]),Q(r.localTransform,r.localTransform,o)}var a=yt(t,n,e,r.localScale,r.origin);Q(r.localTransform,r.localTransform,a)}else yt(r.localTransform,r.localRotation,r.localPosition,r.localScale,r.origin)}}()}return t.prototype.matches=function(t,e){return this.runtime.sceneGraphSelector.is(t,e)},t.prototype.querySelector=function(t,e){return this.runtime.sceneGraphSelector.selectOne(t,e)},t.prototype.querySelectorAll=function(t,e){return this.runtime.sceneGraphSelector.selectAll(t,e)},t.prototype.attach=function(t,e,n){var r,i,o=!1;t.parentNode&&(o=t.parentNode!==e,this.detach(t)),t.parentNode=e,ye(n)?t.parentNode.childNodes.push(t):t.parentNode.childNodes.splice(n,0,t);var a=e.sortable;((null===(r=null===a||void 0===a?void 0:a.sorted)||void 0===r?void 0:r.length)||(null===(i=t.style)||void 0===i?void 0:i.zIndex))&&(-1===a.dirtyChildren.indexOf(t)&&a.dirtyChildren.push(t),a.dirty=!0,a.dirtyReason=so.ADDED);var s=t.transformable;s&&this.dirtifyWorld(t,s),s.frozen&&this.unfreezeParentToRoot(t),o&&t.dispatchEvent(Dl)},t.prototype.detach=function(t){var e,n;if(t.parentNode){var r=t.transformable,i=t.parentNode.sortable;((null===(e=null===i||void 0===i?void 0:i.sorted)||void 0===e?void 0:e.length)||(null===(n=t.style)||void 0===n?void 0:n.zIndex))&&(-1===i.dirtyChildren.indexOf(t)&&i.dirtyChildren.push(t),i.dirty=!0,i.dirtyReason=so.REMOVED);var o=t.parentNode.childNodes.indexOf(t);o>-1&&t.parentNode.childNodes.splice(o,1),r&&this.dirtifyWorld(t,r),t.parentNode=null}},t.prototype.getOrigin=function(t){return t.transformable.origin},t.prototype.setOrigin=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0),"number"===typeof e&&(e=[e,n,r]);var i=t.transformable;if(e[0]!==i.origin[0]||e[1]!==i.origin[1]||e[2]!==i.origin[2]){var o=i.origin;o[0]=e[0],o[1]=e[1],o[2]=e[2]||0,this.dirtifyLocal(t,i)}},t.prototype.setLocalEulerAngles=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0),"number"===typeof e&&(e=C(e,n,r));var i=t.transformable;Jt(i.localRotation,e[0],e[1],e[2]),this.dirtifyLocal(t,i)},t.prototype.scaleLocal=function(t,e){var n=t.transformable;T(n.localScale,n.localScale,C(e[0],e[1],e[2]||1)),this.dirtifyLocal(t,n)},t.prototype.setLocalScale=function(t,e){var n=t.transformable,r=C(e[0],e[1],e[2]||n.localScale[2]);F(r,n.localScale)||(S(n.localScale,r),this.dirtifyLocal(t,n))},t.prototype.setLocalRotation=function(t,e,n,r,i){"number"===typeof e&&(e=te(e,n,r,i));var o=t.transformable;ee(o.localRotation,e),this.dirtifyLocal(t,o)},t.prototype.setLocalSkew=function(t,e,n){"number"===typeof e&&(e=oe(e,n));var r=t.transformable;ae(r.localSkew,e),this.dirtifyLocal(t,r)},t.prototype.dirtifyLocal=function(t,e){e.localDirtyFlag||(e.localDirtyFlag=!0,e.dirtyFlag||this.dirtifyWorld(t,e))},t.prototype.dirtifyWorld=function(t,e){e.dirtyFlag||this.unfreezeParentToRoot(t),this.dirtifyWorldInternal(t,e),this.dirtifyToRoot(t,!0)},t.prototype.triggerPendingEvents=function(){var t=this,e=new Set,n=function(n,r){n.isConnected&&!e.has(n.entity)&&(t.boundsChangedEvent.detail=r,t.boundsChangedEvent.target=n,n.isMutationObserved?n.dispatchEvent(t.boundsChangedEvent):n.ownerDocument.defaultView.dispatchEvent(t.boundsChangedEvent,!0),e.add(n.entity))};this.pendingEvents.forEach((function(t){var e=v(t,2),r=e[0],i=e[1];i.affectChildren?r.forEach((function(t){n(t,i)})):n(r,i)})),this.clearPendingEvents(),e.clear()},t.prototype.clearPendingEvents=function(){this.pendingEvents=[]},t.prototype.dirtifyToRoot=function(t,e){void 0===e&&(e=!1);var n=t;n.renderable&&(n.renderable.dirty=!0);while(n)Bl(n),n=n.parentNode;e&&t.forEach((function(t){Bl(t)})),this.informDependentDisplayObjects(t),this.pendingEvents.push([t,{affectChildren:e}])},t.prototype.updateDisplayObjectDependency=function(t,e,n,r){if(e&&e!==n){var i=this.displayObjectDependencyMap.get(e);if(i&&i[t]){var o=i[t].indexOf(r);i[t].splice(o,1)}}if(n){var a=this.displayObjectDependencyMap.get(n);a||(this.displayObjectDependencyMap.set(n,{}),a=this.displayObjectDependencyMap.get(n)),a[t]||(a[t]=[]),a[t].push(r)}},t.prototype.informDependentDisplayObjects=function(t){var e=this,n=this.displayObjectDependencyMap.get(t);n&&Object.keys(n).forEach((function(t){n[t].forEach((function(n){e.dirtifyToRoot(n,!0),n.dispatchEvent(new Nl(Pl.ATTR_MODIFIED,n,e,e,t,Nl.MODIFICATION,e,e)),n.isCustomElement&&n.isConnected&&n.attributeChangedCallback&&n.attributeChangedCallback(t,e,e)}))}))},t.prototype.getPosition=function(t){var e=t.transformable;return dt(e.position,this.getWorldTransform(t,e))},t.prototype.getRotation=function(t){var e=t.transformable;return vt(e.rotation,this.getWorldTransform(t,e))},t.prototype.getScale=function(t){var e=t.transformable;return pt(e.scaling,this.getWorldTransform(t,e))},t.prototype.getWorldTransform=function(t,e){return void 0===e&&(e=t.transformable),e.localDirtyFlag||e.dirtyFlag?(t.parentNode&&t.parentNode.transformable&&this.getWorldTransform(t.parentNode),this.sync(t,e),e.worldTransform):e.worldTransform},t.prototype.getLocalPosition=function(t){return t.transformable.localPosition},t.prototype.getLocalRotation=function(t){return t.transformable.localRotation},t.prototype.getLocalScale=function(t){return t.transformable.localScale},t.prototype.getLocalSkew=function(t){return t.transformable.localSkew},t.prototype.getLocalTransform=function(t){var e=t.transformable;return e.localDirtyFlag&&(this.calcLocalTransform(e),e.localDirtyFlag=!1),e.localTransform},t.prototype.setLocalTransform=function(t,e){var n=dt(w(),e),r=vt(Yt(),e),i=pt(w(),e);this.setLocalScale(t,i),this.setLocalPosition(t,n),this.setLocalRotation(t,r)},t.prototype.resetLocalTransform=function(t){this.setLocalScale(t,[1,1,1]),this.setLocalPosition(t,[0,0,0]),this.setLocalEulerAngles(t,[0,0,0]),this.setLocalSkew(t,[0,0])},t.prototype.getTransformedGeometryBounds=function(t,e,n){void 0===e&&(e=!1);var r=this.getGeometryBounds(t,e);if(gi.isEmpty(r))return null;var i=n||new gi;return i.setFromTransformedAABB(r,this.getWorldTransform(t)),i},t.prototype.getGeometryBounds=function(t,e){void 0===e&&(e=!1);var n=t.geometry,r=e?n.renderBounds:n.contentBounds||null;return r||new gi},t.prototype.getBounds=function(t,e){var n=this;void 0===e&&(e=!1);var r=t.renderable;if(!r.boundsDirty&&!e&&r.bounds)return r.bounds;if(!r.renderBoundsDirty&&e&&r.renderBounds)return r.renderBounds;var i=e?r.renderBounds:r.bounds,o=this.getTransformedGeometryBounds(t,e,i),a=t.childNodes;if(a.forEach((function(t){var r=n.getBounds(t,e);r&&(o?o.add(r):(o=i||new gi,o.update(r.center,r.halfExtents)))})),e){var s=Ls(t);if(s){var l=s.parsedStyle.clipPath.getBounds(e);o?l&&(o=l.intersection(o)):o=l}}return o||(o=new gi),o&&(e?r.renderBounds=o:r.bounds=o),e?r.renderBoundsDirty=!1:r.boundsDirty=!1,o},t.prototype.getLocalBounds=function(t){if(t.parentNode){var e=H();t.parentNode.transformable&&(e=X(H(),this.getWorldTransform(t.parentNode)));var n=this.getBounds(t);if(!gi.isEmpty(n)){var r=new gi;return r.setFromTransformedAABB(n,e),r}}return this.getBounds(t)},t.prototype.getBoundingClientRect=function(t){var e,n,r,i=this.getGeometryBounds(t);gi.isEmpty(i)||(r=new gi,r.setFromTransformedAABB(i,this.getWorldTransform(t)));var o=null===(n=null===(e=t.ownerDocument)||void 0===e?void 0:e.defaultView)||void 0===n?void 0:n.getContextService().getBoundingClientRect();if(r){var a=v(r.getMin(),2),s=a[0],l=a[1],u=v(r.getMax(),2),c=u[0],f=u[1];return new Oi(s+((null===o||void 0===o?void 0:o.left)||0),l+((null===o||void 0===o?void 0:o.top)||0),c-s,f-l)}return new Oi((null===o||void 0===o?void 0:o.left)||0,(null===o||void 0===o?void 0:o.top)||0,0,0)},t.prototype.dirtifyWorldInternal=function(t,e){var n=this;if(!e.dirtyFlag){e.dirtyFlag=!0,e.frozen=!1,t.childNodes.forEach((function(t){var e=t.transformable;e.dirtyFlag||n.dirtifyWorldInternal(t,e)}));var r=t.renderable;r&&(r.renderBoundsDirty=!0,r.boundsDirty=!0,r.dirty=!0)}},t.prototype.syncHierarchy=function(t){var e=t.transformable;if(!e.frozen){e.frozen=!0,(e.localDirtyFlag||e.dirtyFlag)&&this.sync(t,e);for(var n=t.childNodes,r=0;r<n.length;r++)this.syncHierarchy(n[r])}},t.prototype.sync=function(t,e){if(e.localDirtyFlag&&(this.calcLocalTransform(e),e.localDirtyFlag=!1),e.dirtyFlag){var n=t.parentNode,r=n&&n.transformable;null!==n&&r?Q(e.worldTransform,r.worldTransform,e.localTransform):G(e.worldTransform,e.localTransform),e.dirtyFlag=!1}},t.prototype.unfreezeParentToRoot=function(t){var e=t.parentNode;while(e){var n=e.transformable;n&&(n.frozen=!1),e=e.parentNode}},t}(),zl={MetricsString:"|q",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},Wl=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,Hl=/[!%),.:;?\]}'""]/,$l=/[$('"]/,Gl=/[!),.:;?\]}'""]/,Vl=/[([{'"]/,Ul=/[)\]'"?!:;,.]/,Yl=/[(['"...]/,ql=/[!%),.:;?\]}'"]/,Xl=/[$([{'"#]/,Kl=new RegExp("".concat(Hl.source,"|").concat(Gl.source,"|").concat(Ul.source,"|").concat(ql.source)),Zl=new RegExp("".concat($l.source,"|").concat(Vl.source,"|").concat(Yl.source,"|").concat(Xl.source)),Ql=function(){function t(t){var e=this;this.runtime=t,this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(t,n){return!e.isBreakingSpace(n)&&!(!t||!Zl.exec(n)&&!Kl.exec(t))},this.trimByKinsokuShorui=function(t){var e=g([],v(t),!1),n=e[e.length-2];if(!n)return t;var r=n[n.length-1];return e[e.length-2]=n.slice(0,-1),e[e.length-1]=r+e[e.length-1],e}}return t.prototype.measureFont=function(t,e){if(this.fontMetricsCache[t])return this.fontMetricsCache[t];var n={ascent:0,descent:0,fontSize:0},r=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(e),i=this.runtime.offscreenCanvasCreator.getOrCreateContext(e,{willReadFrequently:!0});i.font=t;var o=zl.MetricsString+zl.BaselineSymbol,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(zl.BaselineSymbol).width),l=zl.HeightMultiplier*s;s=s*zl.BaselineMultiplier|0,r.width=a,r.height=l,i.fillStyle="#f00",i.fillRect(0,0,a,l),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var u=i.getImageData(0,0,a||1,l||1).data,c=u.length,f=4*a,h=0,d=0,p=!1;for(h=0;h<s;++h){for(var v=0;v<f;v+=4)if(255!==u[d+v]){p=!0;break}if(p)break;d+=f}for(n.ascent=s-h,d=c-f,p=!1,h=l;h>s;--h){for(v=0;v<f;v+=4)if(255!==u[d+v]){p=!0;break}if(p)break;d-=f}return n.descent=h-s,n.fontSize=n.ascent+n.descent,this.fontMetricsCache[t]=n,n},t.prototype.measureText=function(t,e,n){var r=e.fontSize,i=e.wordWrap,o=e.lineHeight,a=e.lineWidth,s=e.textBaseline,l=e.textAlign,u=e.letterSpacing,c=e.textPath;e.textPathSide,e.textPathStartOffset;var f=e.leading,h=void 0===f?0:f,d=ll(e),p=this.measureFont(d,n);0===p.fontSize&&(p.fontSize=r,p.ascent=r);var v=this.runtime.offscreenCanvasCreator.getOrCreateContext(n);v.font=d,e.isOverflowing=!1;var g=i?this.wordWrap(t,e,n):t,y=g.split(/(?:\r\n|\r|\n)/),m=new Array(y.length),b=0;if(!c){for(C=0;C<y.length;C++){var x=v.measureText(y[C]).width+(y[C].length-1)*u;m[C]=x,b=Math.max(b,x)}S=b+a;var w=o||p.fontSize+a,_=Math.max(w,p.fontSize+a)+(y.length-1)*(w+h);w+=h;var O=0;return"middle"===s?O=-_/2:"bottom"===s||"alphabetic"===s||"ideographic"===s?O=-_:"top"!==s&&"hanging"!==s||(O=0),{font:d,width:S,height:_,lines:y,lineWidths:m,lineHeight:w,maxLineWidth:b,fontProperties:p,lineMetrics:m.map((function(t,e){var n=0;return"center"===l||"middle"===l?n-=t/2:"right"!==l&&"end"!==l||(n-=t),new Oi(n-a/2,O+e*w,t+a,w)}))}}c.getTotalLength();for(var C=0;C<y.length;C++)var S=v.measureText(y[C]).width+(y[C].length-1)*u},t.prototype.setGraphemeOnPath=function(){},t.prototype.wordWrap=function(t,e,n){var r=this,i=e.wordWrapWidth,o=void 0===i?0:i,a=e.letterSpacing,s=e.maxLines,l=void 0===s?1/0:s,u=e.textOverflow,c=this.runtime.offscreenCanvasCreator.getOrCreateContext(n),f=o+a,h="";"ellipsis"===u?h="...":u&&"clip"!==u&&(h=u);for(var d=[],p=0,v=0,g={},y=function(t){return r.getFromCache(t,a,g,c)},m=Array.from(h).reduce((function(t,e){return t+y(e)}),0),b=Array.from(t),x=0;x<b.length;x++){var w=b[x],_=t[x-1],O=t[x+1],C=y(w);if(this.isNewline(w)){if(p++,p>=l){e.isOverflowing=!0;break}v=0,d[p]=""}else{if(v>0&&v+C>f){if(p+1>=l){if(e.isOverflowing=!0,m>0&&m<=f){for(var S=d[p].length,E=0,M=S,k=0;k<S;k++){var T=y(d[p][k]);if(E+T+m>f){M=k;break}E+=T}d[p]=(d[p]||"").slice(0,M)+h}break}if(p++,v=0,d[p]="",this.isBreakingSpace(w))continue;this.canBreakInLastChar(w)||(d=this.trimToBreakable(d),v=this.sumTextWidthByCache(d[p]||"",g)),this.shouldBreakByKinsokuShorui(w,O)&&(d=this.trimByKinsokuShorui(d),v+=y(_||""))}v+=C,d[p]=(d[p]||"")+w}}return d.join("\n")},t.prototype.isBreakingSpace=function(t){return"string"===typeof t&&zl.BreakingSpaces.indexOf(t.charCodeAt(0))>=0},t.prototype.isNewline=function(t){return"string"===typeof t&&zl.Newlines.indexOf(t.charCodeAt(0))>=0},t.prototype.trimToBreakable=function(t){var e=g([],v(t),!1),n=e[e.length-2],r=this.findBreakableIndex(n);if(-1===r||!n)return e;var i=n.slice(r,r+1),o=this.isBreakingSpace(i),a=r+1,s=r+(o?0:1);return e[e.length-1]+=n.slice(a,n.length),e[e.length-2]=n.slice(0,s),e},t.prototype.canBreakInLastChar=function(t){return!t||!Wl.test(t)},t.prototype.sumTextWidthByCache=function(t,e){return t.split("").reduce((function(t,n){if(!e[n])throw Error("cannot count the word without cache");return t+e[n]}),0)},t.prototype.findBreakableIndex=function(t){for(var e=t.length-1;e>=0;e--)if(!Wl.test(t[e]))return e;return-1},t.prototype.getFromCache=function(t,e,n,r){var i=n[t];if("number"!==typeof i){var o=t.length*e;i=r.measureText(t).width+o,n[t]=i}return i},t}(),Jl={},tu=function(){var t,e=new yl,n=new gl;return t={},t[Dr.CIRCLE]=new hl,t[Dr.ELLIPSE]=new dl,t[Dr.RECT]=e,t[Dr.IMAGE]=e,t[Dr.GROUP]=e,t[Dr.LINE]=new pl,t[Dr.TEXT]=new ml(Jl),t[Dr.POLYLINE]=n,t[Dr.POLYGON]=n,t[Dr.PATH]=new vl,t[Dr.HTML]=null,t[Dr.MESH]=null,t}(),eu=function(){var t,e=new as,n=new us;return t={},t[wo.PERCENTAGE]=null,t[wo.NUMBER]=new gs,t[wo.ANGLE]=new is,t[wo.DEFINED_PATH]=new os,t[wo.PAINT]=e,t[wo.COLOR]=e,t[wo.FILTER]=new ss,t[wo.LENGTH]=n,t[wo.LENGTH_PERCENTAGE]=n,t[wo.LENGTH_PERCENTAGE_12]=new cs,t[wo.LENGTH_PERCENTAGE_14]=new fs,t[wo.COORDINATE]=new ps,t[wo.OFFSET_DISTANCE]=new ys,t[wo.OPACITY_VALUE]=new ms,t[wo.PATH]=new bs,t[wo.LIST_OF_POINTS]=new xs,t[wo.SHADOW_BLUR]=new ws,t[wo.TEXT]=new _s,t[wo.TEXT_TRANSFORM]=new Os,t[wo.TRANSFORM]=new ul,t[wo.TRANSFORM_ORIGIN]=new cl,t[wo.Z_INDEX]=new fl,t[wo.MARKER]=new vs,t}(),nu=function(){return"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}};Jl.CameraContribution=Ii,Jl.AnimationTimeline=null,Jl.EasingFunction=null,Jl.offscreenCanvasCreator=new Ll,Jl.nativeHTMLMap=new WeakMap,Jl.sceneGraphSelector=new jl,Jl.sceneGraphService=new Fl(Jl),Jl.textService=new Ql(Jl),Jl.geometryUpdaterFactory=tu,Jl.CSSPropertySyntaxFactory=eu,Jl.styleValueRegistry=new rs(Jl),Jl.layoutRegistry=null,Jl.globalThis=nu(),Jl.enableCSSParsing=!0,Jl.enableDataset=!1,Jl.enableStyleSyntax=!0;var ru=0;var iu=new Nl(Pl.INSERTED,null,"","","",0,"",""),ou=new Nl(Pl.REMOVED,null,"","","",0,"",""),au=new Sl(Pl.DESTROY),su=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.entity=ru++,e.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1,proxyNodeName:void 0},e.cullable={strategy:ao.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},e.transformable={dirtyFlag:!1,localDirtyFlag:!1,frozen:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},e.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},e.geometry={contentBounds:void 0,renderBounds:void 0},e.rBushNode={aabb:void 0},e.namespaceURI="g",e.scrollLeft=0,e.scrollTop=0,e.clientTop=0,e.clientLeft=0,e.destroyed=!1,e.style={},e.computedStyle=Jl.enableCSSParsing?{anchor:co,opacity:co,fillOpacity:co,strokeOpacity:co,fill:co,stroke:co,transform:co,transformOrigin:co,visibility:co,pointerEvents:co,lineWidth:co,lineCap:co,lineJoin:co,increasedLineWidthForHitTesting:co,fontSize:co,fontFamily:co,fontStyle:co,fontWeight:co,fontVariant:co,textAlign:co,textBaseline:co,textTransform:co,zIndex:co,filter:co,shadowType:co}:null,e.parsedStyle={},e.attributes={},e}return u(e,t),Object.defineProperty(e.prototype,"className",{get:function(){return this.getAttribute("class")||""},set:function(t){this.setAttribute("class",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classList",{get:function(){return this.className.split(" ").filter((function(t){return""!==t}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.nodeName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childElementCount",{get:function(){return this.childNodes.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstElementChild",{get:function(){return this.firstChild},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastElementChild",{get:function(){return this.lastChild},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentElement",{get:function(){return this.parentNode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){if(this.parentNode){var t=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[t+1]||null}return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){if(this.parentNode){var t=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[t-1]||null}return null},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){throw new Error(Ci)},e.prototype.appendChild=function(t,e){var n;if(t.destroyed)throw new Error(Ei);return Jl.sceneGraphService.attach(t,this,e),(null===(n=this.ownerDocument)||void 0===n?void 0:n.defaultView)&&this.ownerDocument.defaultView.mountChildren(t),iu.relatedNode=this,t.dispatchEvent(iu),t},e.prototype.insertBefore=function(t,e){if(e){var n=this.childNodes.indexOf(e);this.appendChild(t,n-1)}else this.appendChild(t);return t},e.prototype.replaceChild=function(t,e){var n=this.childNodes.indexOf(e);return this.removeChild(e),this.appendChild(t,n),e},e.prototype.removeChild=function(t){var e;return ou.relatedNode=this,t.dispatchEvent(ou),(null===(e=t.ownerDocument)||void 0===e?void 0:e.defaultView)&&t.ownerDocument.defaultView.unmountChildren(t),Jl.sceneGraphService.detach(t),t},e.prototype.removeChildren=function(){for(var t=this.childNodes.length-1;t>=0;t--){var e=this.childNodes[t];this.removeChild(e)}},e.prototype.destroyChildren=function(){for(var t=this.childNodes.length-1;t>=0;t--){var e=this.childNodes[t];e.childNodes.length&&e.destroyChildren(),e.destroy()}},e.prototype.matches=function(t){return Jl.sceneGraphService.matches(t,this)},e.prototype.getElementById=function(t){return Jl.sceneGraphService.querySelector("#".concat(t),this)},e.prototype.getElementsByName=function(t){return Jl.sceneGraphService.querySelectorAll('[name="'.concat(t,'"]'),this)},e.prototype.getElementsByClassName=function(t){return Jl.sceneGraphService.querySelectorAll(".".concat(t),this)},e.prototype.getElementsByTagName=function(t){return Jl.sceneGraphService.querySelectorAll(t,this)},e.prototype.querySelector=function(t){return Jl.sceneGraphService.querySelector(t,this)},e.prototype.querySelectorAll=function(t){return Jl.sceneGraphService.querySelectorAll(t,this)},e.prototype.closest=function(t){var e=this;do{if(Jl.sceneGraphService.matches(t,e))return e;e=e.parentElement}while(null!==e);return null},e.prototype.find=function(t){var e=this,n=null;return this.forEach((function(r){return!(r===e||!t(r))&&(n=r,!0)})),n},e.prototype.findAll=function(t){var e=this,n=[];return this.forEach((function(r){r!==e&&t(r)&&n.push(r)})),n},e.prototype.after=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);e.forEach((function(e,n){var i;return null===(i=t.parentNode)||void 0===i?void 0:i.appendChild(e,r+n+1)}))}},e.prototype.before=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this),i=v(e),o=i[0],a=i.slice(1);this.parentNode.appendChild(o,r),(t=o).after.apply(t,g([],v(a),!1))}},e.prototype.replaceWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.after.apply(this,g([],v(t),!1)),this.remove()},e.prototype.append=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach((function(e){return t.appendChild(e)}))},e.prototype.prepend=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach((function(e,n){return t.appendChild(e,n)}))},e.prototype.replaceChildren=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];while(this.childNodes.length&&this.firstChild)this.removeChild(this.firstChild);this.append.apply(this,g([],v(t),!1))},e.prototype.remove=function(){return this.parentNode?this.parentNode.removeChild(this):this},e.prototype.destroy=function(){this.dispatchEvent(au),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0},e.prototype.getGeometryBounds=function(){return Jl.sceneGraphService.getGeometryBounds(this)},e.prototype.getRenderBounds=function(){return Jl.sceneGraphService.getBounds(this,!0)},e.prototype.getBounds=function(){return Jl.sceneGraphService.getBounds(this)},e.prototype.getLocalBounds=function(){return Jl.sceneGraphService.getLocalBounds(this)},e.prototype.getBoundingClientRect=function(){return Jl.sceneGraphService.getBoundingClientRect(this)},e.prototype.getClientRects=function(){return[this.getBoundingClientRect()]},e.prototype.computedStyleMap=function(){return new Map(Object.entries(this.computedStyle))},e.prototype.getAttributeNames=function(){return Object.keys(this.attributes)},e.prototype.getAttribute=function(t){if(Ji(t))return Jl.enableCSSParsing?null:void 0;var e=this.attributes[t];if(void 0===e){var n=eo(t);return e=this.attributes[n],Jl.enableCSSParsing&&ye(e)?null:e}return e},e.prototype.hasAttribute=function(t){return this.getAttributeNames().includes(t)},e.prototype.hasAttributes=function(){return!!this.getAttributeNames().length},e.prototype.removeAttribute=function(t){this.setAttribute(t,null),delete this.attributes[t]},e.prototype.setAttribute=function(t,e,n){this.attributes[t]=e},e.prototype.getAttributeNS=function(t,e){throw new Error(Ci)},e.prototype.getAttributeNode=function(t){throw new Error(Ci)},e.prototype.getAttributeNodeNS=function(t,e){throw new Error(Ci)},e.prototype.hasAttributeNS=function(t,e){throw new Error(Ci)},e.prototype.removeAttributeNS=function(t,e){throw new Error(Ci)},e.prototype.removeAttributeNode=function(t){throw new Error(Ci)},e.prototype.setAttributeNS=function(t,e,n){throw new Error(Ci)},e.prototype.setAttributeNode=function(t){throw new Error(Ci)},e.prototype.setAttributeNodeNS=function(t){throw new Error(Ci)},e.prototype.toggleAttribute=function(t,e){throw new Error(Ci)},e}(kl);function lu(t){return!!(null===t||void 0===t?void 0:t.nodeName)}var uu,cu=new Nl(Pl.ATTR_MODIFIED,null,null,null,null,Nl.MODIFICATION,null,null),fu={anchor:"",opacity:"",fillOpacity:"",strokeOpacity:"",fill:"",stroke:"",transform:"",transformOrigin:"",visibility:"",pointerEvents:"",lineWidth:"",lineCap:"",lineJoin:"",increasedLineWidthForHitTesting:"",fontSize:"",fontFamily:"",fontStyle:"",fontWeight:"",fontVariant:"",textAlign:"",textBaseline:"",textTransform:"",zIndex:"",filter:"",shadowType:""},hu={anchor:[0,0],fill:go,stroke:go,transform:[],zIndex:0,filter:[],shadowType:"outer",miterLimit:10},du=c(c({},hu),{opacity:1,fillOpacity:1,strokeOpacity:1,visibility:"visible",pointerEvents:"auto",lineWidth:1,lineCap:"butt",lineJoin:"miter",increasedLineWidthForHitTesting:0,fillRule:"nonzero"}),pu=["opacity","fillOpacity","strokeOpacity","transformOrigin","visibility","pointerEvents","lineWidth","lineCap","lineJoin","increasedLineWidthForHitTesting"],vu=g(g([],v(pu),!1),["fontSize","fontFamily","fontStyle","fontWeight","fontVariant","textAlign","textBaseline","textTransform"],!1),gu="data-",yu=function(t){function e(e){var n,r=this;r=t.call(this)||this,r.isCustomElement=!1,r.isMutationObserved=!1,r.activeAnimations=[],r.getClip=function(){return this.style.clipPath||null},r.config=e,r.config.interactive=null!==(n=r.config.capture)&&void 0!==n?n:r.config.interactive,r.id=r.config.id||"",r.name=r.config.name||"",(r.config.className||r.config.class)&&(r.className=r.config.className||r.config.class),r.nodeName=r.config.type||Dr.GROUP,r.config.style=r.config.style||r.config.attrs||{},Object.assign(r.config.style,r.config.attrs),null!=r.config.visible&&(r.config.style.visibility=!1===r.config.visible?"hidden":"visible"),null!=r.config.interactive&&(r.config.style.pointerEvents=!1===r.config.interactive?"none":"auto"),Object.assign(r.parsedStyle,Jl.enableCSSParsing?hu:du,r.config.initialParsedStyle),Jl.enableCSSParsing&&Object.assign(r.attributes,fu),r.initAttributes(r.config.style);var i=Jl.globalThis.Proxy?Jl.globalThis.Proxy:function(){};return Jl.enableDataset&&(r.dataset=new i({},{get:function(t,e){var n="".concat(gu).concat(Ki(e));return void 0!==t[n]?t[n]:r.getAttribute(n)},set:function(t,e,n){return r.setAttribute("".concat(gu).concat(Ki(e)),n),!0}})),Jl.enableStyleSyntax&&(r.style=new i({setProperty:function(t,e){r.setAttribute(t,e)},getPropertyValue:function(t){return r.getAttribute(t)},removeProperty:function(t){r.removeAttribute(t)},item:function(){return""}},{get:function(t,e){return void 0!==t[e]?t[e]:r.getAttribute(e)},set:function(t,e,n){return r.setAttribute(e,n),!0}})),r}return u(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.getAnimations().forEach((function(t){t.cancel()}))},e.prototype.cloneNode=function(t,e){var n=c({},this.attributes);for(var r in n){var i=n[r];lu(i)&&"clipPath"!==r&&"offsetPath"!==r&&"textPath"!==r&&(n[r]=i.cloneNode(t)),e&&(n[r]=e(r,i))}var o=new this.constructor({id:this.id,name:this.name,className:this.name,interactive:this.interactive,style:n});return o.setLocalTransform(this.getLocalTransform()),t&&this.children.forEach((function(e){if(!e.style.isMarker){var n=e.cloneNode(t);o.appendChild(n)}})),o},e.prototype.initAttributes=function(t){void 0===t&&(t={});var e=this.renderable,n={forceUpdateGeometry:!0};Jl.enableCSSParsing&&(n.usedAttributes=vu);var r={};for(var i in t){var o=eo(i);r[o]=t[i]}Jl.styleValueRegistry.processProperties(this,r,n),e.dirty=!0},e.prototype.setAttribute=function(e,n,r){void 0===r&&(r=!1);var i=eo(e);An(n)||(r||n!==this.attributes[i])&&(this.internalSetAttribute(i,n),t.prototype.setAttribute.call(this,i,n))},e.prototype.internalSetAttribute=function(t,e,n){var r;void 0===n&&(n={});var i=this.renderable,o=this.attributes[t],a=this.parsedStyle[t];Jl.styleValueRegistry.processProperties(this,(r={},r[t]=e,r),n),i.dirty=!0;var s=this.parsedStyle[t];this.isConnected&&(cu.relatedNode=this,cu.prevValue=o,cu.newValue=e,cu.attrName=t,cu.prevParsedValue=a,cu.newParsedValue=s,this.isMutationObserved?this.dispatchEvent(cu):(cu.target=this,this.ownerDocument.defaultView.dispatchEvent(cu,!0))),(this.isCustomElement&&this.isConnected||!this.isCustomElement)&&this.attributeChangedCallback&&this.attributeChangedCallback(t,o,e,a,s)},e.prototype.getBBox=function(){var t=this.getBounds(),e=v(t.getMin(),2),n=e[0],r=e[1],i=v(t.getMax(),2),o=i[0],a=i[1];return new Oi(n,r,o-n,a-r)},e.prototype.setOrigin=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),Jl.sceneGraphService.setOrigin(this,Kr(t,e,n)),this},e.prototype.getOrigin=function(){return Jl.sceneGraphService.getOrigin(this)},e.prototype.setPosition=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),Jl.sceneGraphService.setPosition(this,Kr(t,e,n)),this},e.prototype.setLocalPosition=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),Jl.sceneGraphService.setLocalPosition(this,Kr(t,e,n)),this},e.prototype.translate=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),Jl.sceneGraphService.translate(this,Kr(t,e,n)),this},e.prototype.translateLocal=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),Jl.sceneGraphService.translateLocal(this,Kr(t,e,n)),this},e.prototype.getPosition=function(){return Jl.sceneGraphService.getPosition(this)},e.prototype.getLocalPosition=function(){return Jl.sceneGraphService.getLocalPosition(this)},e.prototype.scale=function(t,e,n){return this.scaleLocal(t,e,n)},e.prototype.scaleLocal=function(t,e,n){return"number"===typeof t&&(e=e||t,n=n||t,t=Kr(t,e,n)),Jl.sceneGraphService.scaleLocal(this,t),this},e.prototype.setLocalScale=function(t,e,n){return"number"===typeof t&&(e=e||t,n=n||t,t=Kr(t,e,n)),Jl.sceneGraphService.setLocalScale(this,t),this},e.prototype.getLocalScale=function(){return Jl.sceneGraphService.getLocalScale(this)},e.prototype.getScale=function(){return Jl.sceneGraphService.getScale(this)},e.prototype.getEulerAngles=function(){var t=v(ni(w(),Jl.sceneGraphService.getWorldTransform(this)),3),e=t[2];return Qr(e)},e.prototype.getLocalEulerAngles=function(){var t=v(ni(w(),Jl.sceneGraphService.getLocalRotation(this)),3),e=t[2];return Qr(e)},e.prototype.setEulerAngles=function(t){return Jl.sceneGraphService.setEulerAngles(this,0,0,t),this},e.prototype.setLocalEulerAngles=function(t){return Jl.sceneGraphService.setLocalEulerAngles(this,0,0,t),this},e.prototype.rotateLocal=function(t,e,n){return ye(e)&&ye(n)?Jl.sceneGraphService.rotateLocal(this,0,0,t):Jl.sceneGraphService.rotateLocal(this,t,e,n),this},e.prototype.rotate=function(t,e,n){return ye(e)&&ye(n)?Jl.sceneGraphService.rotate(this,0,0,t):Jl.sceneGraphService.rotate(this,t,e,n),this},e.prototype.setRotation=function(t,e,n,r){return Jl.sceneGraphService.setRotation(this,t,e,n,r),this},e.prototype.setLocalRotation=function(t,e,n,r){return Jl.sceneGraphService.setLocalRotation(this,t,e,n,r),this},e.prototype.setLocalSkew=function(t,e){return Jl.sceneGraphService.setLocalSkew(this,t,e),this},e.prototype.getRotation=function(){return Jl.sceneGraphService.getRotation(this)},e.prototype.getLocalRotation=function(){return Jl.sceneGraphService.getLocalRotation(this)},e.prototype.getLocalSkew=function(){return Jl.sceneGraphService.getLocalSkew(this)},e.prototype.getLocalTransform=function(){return Jl.sceneGraphService.getLocalTransform(this)},e.prototype.getWorldTransform=function(){return Jl.sceneGraphService.getWorldTransform(this)},e.prototype.setLocalTransform=function(t){return Jl.sceneGraphService.setLocalTransform(this,t),this},e.prototype.resetLocalTransform=function(){Jl.sceneGraphService.resetLocalTransform(this)},e.prototype.getAnimations=function(){return this.activeAnimations},e.prototype.animate=function(t,e){var n,r=null===(n=this.ownerDocument)||void 0===n?void 0:n.timeline;return r?r.play(this,t,e):null},e.prototype.isVisible=function(){var t;return"visible"===(null===(t=this.parsedStyle)||void 0===t?void 0:t.visibility)},Object.defineProperty(e.prototype,"interactive",{get:function(){return this.isInteractive()},set:function(t){this.style.pointerEvents=t?"auto":"none"},enumerable:!1,configurable:!0}),e.prototype.isInteractive=function(){var t;return"none"!==(null===(t=this.parsedStyle)||void 0===t?void 0:t.pointerEvents)},e.prototype.isCulled=function(){return!(!this.cullable||!this.cullable.enable||this.cullable.visible)},e.prototype.toFront=function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,g([],v(this.parentNode.children.map((function(t){return Number(t.style.zIndex)}))),!1))+1),this},e.prototype.toBack=function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,g([],v(this.parentNode.children.map((function(t){return Number(t.style.zIndex)}))),!1))-1),this},e.prototype.getConfig=function(){return this.config},e.prototype.attr=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=v(e,2),i=r[0],o=r[1];return i?kn(i)?(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),this):2===e.length?(this.setAttribute(i,o),this):this.attributes[i]:this.attributes},e.prototype.getMatrix=function(t){var e=t||this.getWorldTransform(),n=v(dt(w(),e),2),r=n[0],i=n[1],o=v(pt(w(),e),2),a=o[0],s=o[1],l=vt(Yt(),e),u=v(ni(w(),l),3),c=u[0],f=u[2];return ri(c||f,r,i,a,s)},e.prototype.getLocalMatrix=function(){return this.getMatrix(this.getLocalTransform())},e.prototype.setMatrix=function(t){var e=v(oi(t),5),n=e[0],r=e[1],i=e[2],o=e[3],a=e[4];this.setEulerAngles(a).setPosition(n,r).setLocalScale(i,o)},e.prototype.setLocalMatrix=function(t){var e=v(oi(t),5),n=e[0],r=e[1],i=e[2],o=e[3],a=e[4];this.setLocalEulerAngles(a).setLocalPosition(n,r).setLocalScale(i,o)},e.prototype.show=function(){Jl.enableCSSParsing?this.style.visibility="visible":this.forEach((function(t){t.style.visibility="visible"}))},e.prototype.hide=function(){Jl.enableCSSParsing?this.style.visibility="hidden":this.forEach((function(t){t.style.visibility="hidden"}))},e.prototype.getCount=function(){return this.childElementCount},e.prototype.getParent=function(){return this.parentElement},e.prototype.getChildren=function(){return this.children},e.prototype.getFirst=function(){return this.firstElementChild},e.prototype.getLast=function(){return this.lastElementChild},e.prototype.getChildByIndex=function(t){return this.children[t]||null},e.prototype.add=function(t,e){return this.appendChild(t,e)},e.prototype.setClip=function(t){this.style.clipPath=t},e.prototype.set=function(t,e){this.config[t]=e},e.prototype.get=function(t){return this.config[t]},e.prototype.moveTo=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),this.setPosition(t,e,n),this},e.prototype.move=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),this.setPosition(t,e,n),this},e.prototype.setZIndex=function(t){return this.style.zIndex=t,this},e}(su),mu={number:function(t){return new io(t)},percent:function(t){return new io(t,"%")},px:function(t){return new io(t,"px")},em:function(t){return new io(t,"em")},rem:function(t){return new io(t,"rem")},deg:function(t){return new io(t,"deg")},grad:function(t){return new io(t,"grad")},rad:function(t){return new io(t,"rad")},turn:function(t){return new io(t,"turn")},s:function(t){return new io(t,"s")},ms:function(t){return new io(t,"ms")},registerProperty:function(t){var e=t.name,n=t.inherits,r=t.interpolable,i=t.initialValue,o=t.syntax;Jl.styleValueRegistry.registerMetadata({n:e,inh:n,int:r,d:i,syntax:o})},registerLayout:function(t,e){Jl.layoutRegistry.registerLayout(t,e)}},bu=function(t){function e(e){void 0===e&&(e={});var n=e.style,r=f(e,["style"]);return t.call(this,c({type:Dr.CIRCLE,style:Jl.enableCSSParsing?c({cx:"",cy:"",r:""},n):c({},n),initialParsedStyle:{anchor:[.5,.5],transformOrigin:Jl.enableCSSParsing?null:[xo,xo]}},r))||this}return u(e,t),e}(yu),xu=function(t){function e(e){void 0===e&&(e={});var n=this,r=e.style,i=f(e,["style"]);return n=t.call(this,c({style:Jl.enableCSSParsing?c({x:"",y:""},r):c({},r)},i))||this,n.isCustomElement=!0,n}return u(e,t),e}(yu),wu=function(t){function e(e){void 0===e&&(e={});var n=e.style,r=f(e,["style"]);return t.call(this,c({type:Dr.ELLIPSE,style:Jl.enableCSSParsing?c({cx:"",cy:"",rx:"",ry:""},n):c({},n),initialParsedStyle:{anchor:[.5,.5],transformOrigin:Jl.enableCSSParsing?null:[xo,xo]}},r))||this}return u(e,t),e}(yu),_u=function(t){function e(e){void 0===e&&(e={});var n=e.style,r=f(e,["style"]);return t.call(this,c({type:Dr.GROUP,style:Jl.enableCSSParsing?c({x:"",y:"",width:"",height:""},n):c({},n)},r))||this}return u(e,t),e}(yu),Ou=function(t){function e(e){void 0===e&&(e={});var n=this,r=e.style,i=f(e,["style"]);return n=t.call(this,c({type:Dr.HTML,style:Jl.enableCSSParsing?c({x:"",y:"",width:"auto",height:"auto",innerHTML:""},r):c({},r)},i))||this,n.cullable.enable=!1,n}return u(e,t),e.prototype.getDomElement=function(){return this.parsedStyle.$el},e.prototype.getBoundingClientRect=function(){if(this.parsedStyle.$el)return this.parsedStyle.$el.getBoundingClientRect();var t=this.parsedStyle,e=t.x,n=t.y,r=t.width,i=t.height;return new Oi(e,n,r,i)},e.prototype.getClientRects=function(){return[this.getBoundingClientRect()]},e.prototype.getBounds=function(){var t,e,n=this.getBoundingClientRect(),r=null===(e=null===(t=this.ownerDocument)||void 0===t?void 0:t.defaultView)||void 0===e?void 0:e.getContextService().getBoundingClientRect(),i=new gi,o=n.left-((null===r||void 0===r?void 0:r.left)||0),a=n.top-((null===r||void 0===r?void 0:r.top)||0);return i.setMinMax([o,a,0],[o+n.width,a+n.height,0]),i},e.prototype.getLocalBounds=function(){if(this.parentNode){var t=X(H(),this.parentNode.getWorldTransform()),e=this.getBounds();if(!gi.isEmpty(e)){var n=new gi;return n.setFromTransformedAABB(e,t),n}}return this.getBounds()},e}(yu),Cu=function(t){function e(e){void 0===e&&(e={});var n=e.style,r=f(e,["style"]);return t.call(this,c({type:Dr.IMAGE,style:Jl.enableCSSParsing?c({x:"",y:"",img:"",width:"",height:""},n):c({},n)},r))||this}return u(e,t),e}(yu),Su=function(t){function e(e){void 0===e&&(e={});var n=this,r=e.style,i=f(e,["style"]);n=t.call(this,c({type:Dr.LINE,style:c({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0,isBillboard:!1},r)},i))||this,n.markerStartAngle=0,n.markerEndAngle=0;var o=n.parsedStyle,a=o.markerStart,s=o.markerEnd;return a&&lu(a)&&(n.markerStartAngle=a.getLocalEulerAngles(),n.appendChild(a)),s&&lu(s)&&(n.markerEndAngle=s.getLocalEulerAngles(),n.appendChild(s)),n.transformMarker(!0),n.transformMarker(!1),n}return u(e,t),e.prototype.attributeChangedCallback=function(t,e,n,r,i){"x1"===t||"y1"===t||"x2"===t||"y2"===t||"markerStartOffset"===t||"markerEndOffset"===t?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===t?(r&&lu(r)&&(this.markerStartAngle=0,r.remove()),i&&lu(i)&&(this.markerStartAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!0))):"markerEnd"===t&&(r&&lu(r)&&(this.markerEndAngle=0,r.remove()),i&&lu(i)&&(this.markerEndAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!1)))},e.prototype.transformMarker=function(t){var e=this.parsedStyle,n=e.markerStart,r=e.markerEnd,i=e.markerStartOffset,o=e.markerEndOffset,a=e.x1,s=e.x2,l=e.y1,u=e.y2,c=e.defX,f=e.defY,h=t?n:r;if(h&&lu(h)){var d,p,v,g,y,m,b=0;t?(v=a-c,g=l-f,d=s-a,p=u-l,y=i||0,m=this.markerStartAngle):(v=s-c,g=u-f,d=a-s,p=l-u,y=o||0,m=this.markerEndAngle),b=Math.atan2(p,d),h.setLocalEulerAngles(180*b/Math.PI+m),h.setLocalPosition(v+Math.cos(b)*y,g+Math.sin(b)*y)}},e.prototype.getPoint=function(t,e){void 0===e&&(e=!1);var n=this.parsedStyle,r=n.x1,i=n.y1,o=n.x2,a=n.y2,s=n.defX,l=n.defY,u=Or(r,i,o,a,t),c=u.x,f=u.y,h=N(w(),C(c-s,f-l,0),e?this.getWorldTransform():this.getLocalTransform());return new _i(h[0],h[1])},e.prototype.getPointAtLength=function(t,e){return void 0===e&&(e=!1),this.getPoint(t/this.getTotalLength(),e)},e.prototype.getTotalLength=function(){var t=this.parsedStyle,e=t.x1,n=t.y1,r=t.x2,i=t.y2;return _r(e,n,r,i)},e}(yu),Eu=function(t){function e(e){void 0===e&&(e={});var n=this,r=e.style,i=f(e,["style"]);n=t.call(this,c({type:Dr.PATH,style:Jl.enableCSSParsing?c({path:"",miterLimit:""},r):c({},r),initialParsedStyle:Jl.enableCSSParsing?null:{miterLimit:4,path:c({},_o)}},i))||this,n.markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var o=n.parsedStyle,a=o.markerStart,s=o.markerEnd,l=o.markerMid;return a&&lu(a)&&(n.markerStartAngle=a.getLocalEulerAngles(),n.appendChild(a)),l&&lu(l)&&n.placeMarkerMid(l),s&&lu(s)&&(n.markerEndAngle=s.getLocalEulerAngles(),n.appendChild(s)),n.transformMarker(!0),n.transformMarker(!1),n}return u(e,t),e.prototype.attributeChangedCallback=function(t,e,n,r,i){"path"===t?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):"markerStartOffset"===t||"markerEndOffset"===t?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===t?(r&&lu(r)&&(this.markerStartAngle=0,r.remove()),i&&lu(i)&&(this.markerStartAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!0))):"markerEnd"===t?(r&&lu(r)&&(this.markerEndAngle=0,r.remove()),i&&lu(i)&&(this.markerEndAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!1))):"markerMid"===t&&this.placeMarkerMid(i)},e.prototype.transformMarker=function(t){var e=this.parsedStyle,n=e.markerStart,r=e.markerEnd,i=e.markerStartOffset,o=e.markerEndOffset,a=e.defX,s=e.defY,l=t?n:r;if(l&&lu(l)){var u,c,f,h,d,p,g=0;if(t){var y=v(this.getStartTangent(),2),m=y[0],b=y[1];f=b[0]-a,h=b[1]-s,u=m[0]-b[0],c=m[1]-b[1],d=i||0,p=this.markerStartAngle}else{var x=v(this.getEndTangent(),2);m=x[0],b=x[1];f=b[0]-a,h=b[1]-s,u=m[0]-b[0],c=m[1]-b[1],d=o||0,p=this.markerEndAngle}g=Math.atan2(c,u),l.setLocalEulerAngles(180*g/Math.PI+p),l.setLocalPosition(f+Math.cos(g)*d,h+Math.sin(g)*d)}},e.prototype.placeMarkerMid=function(t){var e=this.parsedStyle,n=e.path.segments,r=e.defX,i=e.defY;if(this.markerMidList.forEach((function(t){t.remove()})),t&&lu(t))for(var o=1;o<n.length-1;o++){var a=v(n[o].currentPoint,2),s=a[0],l=a[1],u=1===o?t:t.cloneNode(!0);this.markerMidList.push(u),this.appendChild(u),u.setLocalPosition(s-r,l-i)}},e.prototype.getTotalLength=function(){return oa(this)},e.prototype.getPointAtLength=function(t,e){void 0===e&&(e=!1);var n=this.parsedStyle,r=n.defX,i=n.defY,o=n.path.absolutePath,a=Ln(o,t),s=a.x,l=a.y,u=N(w(),C(s-r,l-i,0),e?this.getWorldTransform():this.getLocalTransform());return new _i(u[0],u[1])},e.prototype.getPoint=function(t,e){return void 0===e&&(e=!1),this.getPointAtLength(t*oa(this),e)},e.prototype.getStartTangent=function(){var t=this.parsedStyle.path.segments,e=[];if(t.length>1){var n=t[0].currentPoint,r=t[1].currentPoint,i=t[1].startTangent;e=[],i?(e.push([n[0]-i[0],n[1]-i[1]]),e.push([n[0],n[1]])):(e.push([r[0],r[1]]),e.push([n[0],n[1]]))}return e},e.prototype.getEndTangent=function(){var t=this.parsedStyle.path.segments,e=t.length,n=[];if(e>1){var r=t[e-2].currentPoint,i=t[e-1].currentPoint,o=t[e-1].endTangent;n=[],o?(n.push([i[0]-o[0],i[1]-o[1]]),n.push([i[0],i[1]])):(n.push([r[0],r[1]]),n.push([i[0],i[1]]))}return n},e}(yu),Mu=function(t){function e(e){void 0===e&&(e={});var n=this,r=e.style,i=f(e,["style"]);n=t.call(this,c({type:Dr.POLYGON,style:Jl.enableCSSParsing?c({points:"",miterLimit:"",isClosed:!0},r):c({},r),initialParsedStyle:Jl.enableCSSParsing?null:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},i))||this,n.markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var o=n.parsedStyle,a=o.markerStart,s=o.markerEnd,l=o.markerMid;return a&&lu(a)&&(n.markerStartAngle=a.getLocalEulerAngles(),n.appendChild(a)),l&&lu(l)&&n.placeMarkerMid(l),s&&lu(s)&&(n.markerEndAngle=s.getLocalEulerAngles(),n.appendChild(s)),n.transformMarker(!0),n.transformMarker(!1),n}return u(e,t),e.prototype.attributeChangedCallback=function(t,e,n,r,i){"points"===t?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):"markerStartOffset"===t||"markerEndOffset"===t?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===t?(r&&lu(r)&&(this.markerStartAngle=0,r.remove()),i&&lu(i)&&(this.markerStartAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!0))):"markerEnd"===t?(r&&lu(r)&&(this.markerEndAngle=0,r.remove()),i&&lu(i)&&(this.markerEndAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!1))):"markerMid"===t&&this.placeMarkerMid(i)},e.prototype.transformMarker=function(t){var e=this.parsedStyle,n=e.markerStart,r=e.markerEnd,i=e.markerStartOffset,o=e.markerEndOffset,a=e.points.points,s=e.defX,l=e.defY,u=t?n:r;if(u&&lu(u)){var c,f,h,d,p,v,g=0;if(h=a[0][0]-s,d=a[0][1]-l,t)c=a[1][0]-a[0][0],f=a[1][1]-a[0][1],p=i||0,v=this.markerStartAngle;else{var y=a.length;this.parsedStyle.isClosed?(c=a[y-1][0]-a[0][0],f=a[y-1][1]-a[0][1]):(h=a[y-1][0]-s,d=a[y-1][1]-l,c=a[y-2][0]-a[y-1][0],f=a[y-2][1]-a[y-1][1]),p=o||0,v=this.markerEndAngle}g=Math.atan2(f,c),u.setLocalEulerAngles(180*g/Math.PI+v),u.setLocalPosition(h+Math.cos(g)*p,d+Math.sin(g)*p)}},e.prototype.placeMarkerMid=function(t){var e=this.parsedStyle,n=e.points.points,r=e.defX,i=e.defY;if(this.markerMidList.forEach((function(t){t.remove()})),this.markerMidList=[],t&&lu(t))for(var o=1;o<(this.parsedStyle.isClosed?n.length:n.length-1);o++){var a=n[o][0]-r,s=n[o][1]-i,l=1===o?t:t.cloneNode(!0);this.markerMidList.push(l),this.appendChild(l),l.setLocalPosition(a,s)}},e}(yu),ku=function(t){function e(e){void 0===e&&(e={});var n=e.style,r=f(e,["style"]);return t.call(this,c({type:Dr.POLYLINE,style:Jl.enableCSSParsing?c({points:"",miterLimit:"",isClosed:!1},n):c({},n),initialParsedStyle:Jl.enableCSSParsing?null:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},r))||this}return u(e,t),e.prototype.getTotalLength=function(){return this.parsedStyle.points.totalLength},e.prototype.getPointAtLength=function(t,e){return void 0===e&&(e=!1),this.getPoint(t/this.getTotalLength(),e)},e.prototype.getPoint=function(t,e){void 0===e&&(e=!1);var n=this.parsedStyle,r=n.defX,i=n.defY,o=n.points,a=o.points,s=o.segments,l=0,u=0;s.forEach((function(e,n){t>=e[0]&&t<=e[1]&&(l=(t-e[0])/(e[1]-e[0]),u=n)}));var c=Or(a[u][0],a[u][1],a[u+1][0],a[u+1][1],l),f=c.x,h=c.y,d=N(w(),C(f-r,h-i,0),e?this.getWorldTransform():this.getLocalTransform());return new _i(d[0],d[1])},e.prototype.getStartTangent=function(){var t=this.parsedStyle.points.points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.parsedStyle.points.points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(Mu),Tu=function(t){function e(e){void 0===e&&(e={});var n=e.style,r=f(e,["style"]);return t.call(this,c({type:Dr.RECT,style:Jl.enableCSSParsing?c({x:"",y:"",width:"",height:"",radius:""},n):c({},n)},r))||this}return u(e,t),e}(yu),Au=function(t){function e(e){void 0===e&&(e={});var n=e.style,r=f(e,["style"]);return t.call(this,c({type:Dr.TEXT,style:Jl.enableCSSParsing?c({x:"",y:"",text:"",fontSize:"",fontFamily:"",fontStyle:"",fontWeight:"",fontVariant:"",textAlign:"",textBaseline:"",textTransform:"",fill:"black",letterSpacing:"",lineHeight:"",miterLimit:"",wordWrap:!1,wordWrapWidth:0,leading:0,dx:"",dy:"",isBillboard:!1,sizeAttenuation:!0},n):c({fill:"black"},n),initialParsedStyle:Jl.enableCSSParsing?{}:{x:0,y:0,fontSize:16,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",lineHeight:0,letterSpacing:0,textBaseline:"alphabetic",textAlign:"start",wordWrap:!1,wordWrapWidth:0,leading:0,dx:0,dy:0,isBillboard:!1,sizeAttenuation:!0}},r))||this}return u(e,t),e.prototype.getComputedTextLength=function(){var t;return(null===(t=this.parsedStyle.metrics)||void 0===t?void 0:t.maxLineWidth)||0},e.prototype.getLineBoundingRects=function(){var t;return(null===(t=this.parsedStyle.metrics)||void 0===t?void 0:t.lineMetrics)||[]},e.prototype.isOverflowing=function(){return!!this.parsedStyle.isOverflowing},e}(yu),Lu=function(){function t(){this.registry={},this.define(Dr.CIRCLE,bu),this.define(Dr.ELLIPSE,wu),this.define(Dr.RECT,Tu),this.define(Dr.IMAGE,Cu),this.define(Dr.LINE,Su),this.define(Dr.GROUP,_u),this.define(Dr.PATH,Eu),this.define(Dr.POLYGON,Mu),this.define(Dr.POLYLINE,ku),this.define(Dr.TEXT,Au),this.define(Dr.HTML,Ou)}return t.prototype.define=function(t,e){this.registry[t]=e},t.prototype.get=function(t){return this.registry[t]},t}(),Pu=function(t){function e(){var e=t.call(this)||this;e.defaultView=null,e.ownerDocument=null,e.nodeName="document";try{e.timeline=new Jl.AnimationTimeline(e)}catch(r){}var n={};return Qa.forEach((function(t){var e=t.n,r=t.inh,i=t.d;r&&i&&(n[e]=Qi(i)?i(Dr.GROUP):i)})),e.documentElement=new _u({id:"g-root",style:n}),e.documentElement.ownerDocument=e,e.documentElement.parentNode=e,e.childNodes=[e.documentElement],e}return u(e,t),Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childElementCount",{get:function(){return this.childNodes.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstElementChild",{get:function(){return this.firstChild},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastElementChild",{get:function(){return this.lastChild},enumerable:!1,configurable:!0}),e.prototype.createElement=function(t,e){if("svg"===t)return this.documentElement;var n=this.defaultView.customElements.get(t);n||(console.warn("Unsupported tagName: ",t),n="tspan"===t?Au:_u);var r=new n(e);return r.ownerDocument=this,r},e.prototype.createElementNS=function(t,e,n){return this.createElement(e,n)},e.prototype.cloneNode=function(t){throw new Error(Ci)},e.prototype.destroy=function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch(t){}},e.prototype.elementsFromBBox=function(t,e,n,r){var i=this.defaultView.context.rBushRoot,o=i.search({minX:t,minY:e,maxX:n,maxY:r}),a=[];return o.forEach((function(t){var e=t.displayObject,n=e.parsedStyle.pointerEvents,r=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(n);(!r||r&&e.isVisible())&&!e.isCulled()&&e.isInteractive()&&a.push(e)})),a.sort((function(t,e){return e.sortable.renderOrder-t.sortable.renderOrder})),a},e.prototype.elementFromPointSync=function(t,e){var n=this.defaultView.canvas2Viewport({x:t,y:e}),r=n.x,i=n.y,o=this.defaultView.getConfig(),a=o.width,s=o.height;if(r<0||i<0||r>a||i>s)return null;var l=this.defaultView.viewport2Client({x:r,y:i}),u=l.x,c=l.y,f=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:t,y:e,viewportX:r,viewportY:i,clientX:u,clientY:c},picked:[]}).picked;return f&&f[0]||this.documentElement},e.prototype.elementFromPoint=function(t,e){return h(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,u,c,f;return d(this,(function(h){switch(h.label){case 0:return n=this.defaultView.canvas2Viewport({x:t,y:e}),r=n.x,i=n.y,o=this.defaultView.getConfig(),a=o.width,s=o.height,r<0||i<0||r>a||i>s?[2,null]:(l=this.defaultView.viewport2Client({x:r,y:i}),u=l.x,c=l.y,[4,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:t,y:e,viewportX:r,viewportY:i,clientX:u,clientY:c},picked:[]})]);case 1:return f=h.sent().picked,[2,f&&f[0]||this.documentElement]}}))}))},e.prototype.elementsFromPointSync=function(t,e){var n=this.defaultView.canvas2Viewport({x:t,y:e}),r=n.x,i=n.y,o=this.defaultView.getConfig(),a=o.width,s=o.height;if(r<0||i<0||r>a||i>s)return[];var l=this.defaultView.viewport2Client({x:r,y:i}),u=l.x,c=l.y,f=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:t,y:e,viewportX:r,viewportY:i,clientX:u,clientY:c},picked:[]}).picked;return f[f.length-1]!==this.documentElement&&f.push(this.documentElement),f},e.prototype.elementsFromPoint=function(t,e){return h(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,u,c,f;return d(this,(function(h){switch(h.label){case 0:return n=this.defaultView.canvas2Viewport({x:t,y:e}),r=n.x,i=n.y,o=this.defaultView.getConfig(),a=o.width,s=o.height,r<0||i<0||r>a||i>s?[2,[]]:(l=this.defaultView.viewport2Client({x:r,y:i}),u=l.x,c=l.y,[4,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:t,y:e,viewportX:r,viewportY:i,clientX:u,clientY:c},picked:[]})]);case 1:return f=h.sent().picked,f[f.length-1]!==this.documentElement&&f.push(this.documentElement),[2,f]}}))}))},e.prototype.appendChild=function(t,e){throw new Error(Si)},e.prototype.insertBefore=function(t,e){throw new Error(Si)},e.prototype.removeChild=function(t,e){throw new Error(Si)},e.prototype.replaceChild=function(t,e,n){throw new Error(Si)},e.prototype.append=function(){throw new Error(Si)},e.prototype.prepend=function(){throw new Error(Si)},e.prototype.getElementById=function(t){return this.documentElement.getElementById(t)},e.prototype.getElementsByName=function(t){return this.documentElement.getElementsByName(t)},e.prototype.getElementsByTagName=function(t){return this.documentElement.getElementsByTagName(t)},e.prototype.getElementsByClassName=function(t){return this.documentElement.getElementsByClassName(t)},e.prototype.querySelector=function(t){return this.documentElement.querySelector(t)},e.prototype.querySelectorAll=function(t){return this.documentElement.querySelectorAll(t)},e.prototype.find=function(t){return this.documentElement.find(t)},e.prototype.findAll=function(t){return this.documentElement.findAll(t)},e}(kl),Ru=function(){function t(t){this.strategies=t}return t.prototype.apply=function(e){var n=e.camera,r=e.renderingService,i=e.renderingContext,o=this.strategies;r.hooks.cull.tap(t.tag,(function(t){if(t){var e=t.cullable;return 0===o.length?e.visible=i.unculledEntities.indexOf(t.entity)>-1:e.visible=o.every((function(e){return e.isVisible(n,t)})),!t.isCulled()&&t.isVisible()?t:(t.dispatchEvent(new Sl(Pl.CULLED)),null)}return t})),r.hooks.afterRender.tap(t.tag,(function(t){t.cullable.visibilityPlaneMask=-1}))},t.tag="Culling",t}(),Iu=function(){function t(){}return t.prototype.apply=function(e){var n=e.renderingService;n.hooks.dirtycheck.tap(t.tag,(function(t){if(t){var e=t.renderable,r=e.dirty||n.disableDirtyRectangleRendering();return r?t:null}return t}))},t.tag="DirtyCheck",t}(),ju=function(){function t(){var t=this;this.autoPreventDefault=!1,this.rootPointerEvent=new Ol(null),this.rootWheelEvent=new Cl(null),this.onPointerMove=function(e){var n,r,i,o,a=null===(o=null===(i=t.context.renderingContext.root)||void 0===i?void 0:i.ownerDocument)||void 0===o?void 0:o.defaultView;if(!a.supportsTouchEvents||"touch"!==e.pointerType){var s=t.normalizeToPointerEvent(e,a);try{for(var l=p(s),u=l.next();!u.done;u=l.next()){var c=u.value,f=t.bootstrapEvent(t.rootPointerEvent,c,a,e);t.context.eventService.mapEvent(f)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}t.setCursor(t.context.eventService.cursor)}},this.onClick=function(e){var n,r,i,o,a=null===(o=null===(i=t.context.renderingContext.root)||void 0===i?void 0:i.ownerDocument)||void 0===o?void 0:o.defaultView,s=t.normalizeToPointerEvent(e,a);try{for(var l=p(s),u=l.next();!u.done;u=l.next()){var c=u.value,f=t.bootstrapEvent(t.rootPointerEvent,c,a,e);t.context.eventService.mapEvent(f)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}t.setCursor(t.context.eventService.cursor)}}return t.prototype.apply=function(e){var n=this;this.context=e;var r=e.renderingService,i=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler((function(t){var e=n.context.renderingService.hooks.pickSync.call({position:t,picked:[],topmost:!0}).picked;return e[0]||null})),r.hooks.pointerWheel.tap(t.tag,(function(t){var e=n.normalizeWheelEvent(t);n.context.eventService.mapEvent(e)})),r.hooks.pointerDown.tap(t.tag,(function(t){var e,r;if(!i.supportsTouchEvents||"touch"!==t.pointerType){var o=n.normalizeToPointerEvent(t,i);if(n.autoPreventDefault&&o[0].isNormalized){var a=t.cancelable||!("cancelable"in t);a&&t.preventDefault()}try{for(var s=p(o),l=s.next();!l.done;l=s.next()){var u=l.value,c=n.bootstrapEvent(n.rootPointerEvent,u,i,t);n.context.eventService.mapEvent(c)}}catch(f){e={error:f}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}n.setCursor(n.context.eventService.cursor)}})),r.hooks.pointerUp.tap(t.tag,(function(t){var e,r;if(!i.supportsTouchEvents||"touch"!==t.pointerType){var o=n.context.contextService.getDomElement(),a="outside";try{a=o&&t.target&&t.target!==o&&o.contains&&!o.contains(t.target)?"outside":""}catch(h){}var s=n.normalizeToPointerEvent(t,i);try{for(var l=p(s),u=l.next();!u.done;u=l.next()){var c=u.value,f=n.bootstrapEvent(n.rootPointerEvent,c,i,t);f.type+=a,n.context.eventService.mapEvent(f)}}catch(d){e={error:d}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}n.setCursor(n.context.eventService.cursor)}})),r.hooks.pointerMove.tap(t.tag,this.onPointerMove),r.hooks.pointerOver.tap(t.tag,this.onPointerMove),r.hooks.pointerOut.tap(t.tag,this.onPointerMove),r.hooks.click.tap(t.tag,this.onClick),r.hooks.pointerCancel.tap(t.tag,(function(t){var e,r,o=n.normalizeToPointerEvent(t,i);try{for(var a=p(o),s=a.next();!s.done;s=a.next()){var l=s.value,u=n.bootstrapEvent(n.rootPointerEvent,l,i,t);n.context.eventService.mapEvent(u)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}n.setCursor(n.context.eventService.cursor)}))},t.prototype.getViewportXY=function(t){var e,n,r=t.offsetX,i=t.offsetY,o=t.clientX,a=t.clientY;if(!this.context.config.supportsCSSTransform||ye(r)||ye(i)){var s=this.context.eventService.client2Viewport(new _i(o,a));e=s.x,n=s.y}else e=r,n=i;return{x:e,y:n}},t.prototype.bootstrapEvent=function(t,e,n,r){var i,o;t.view=n,t.originalEvent=null,t.nativeEvent=r,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e);var a=(i=this.getViewportXY(e),i.x),s=i.y;t.viewport.x=a,t.viewport.y=s;var l=(o=this.context.eventService.viewport2Canvas(t.viewport),o.x),u=o.y;return t.canvas.x=l,t.canvas.y=u,t.global.copyFrom(t.canvas),t.offset.copyFrom(t.canvas),t.isTrusted=r.isTrusted,"pointerleave"===t.type&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=Ds[t.type]||t.type),t},t.prototype.normalizeWheelEvent=function(t){var e,n,r=this.rootWheelEvent;this.transferMouseData(r,t),r.deltaMode=t.deltaMode,r.deltaX=t.deltaX,r.deltaY=t.deltaY,r.deltaZ=t.deltaZ;var i=(e=this.getViewportXY(t),e.x),o=e.y;r.viewport.x=i,r.viewport.y=o;var a=(n=this.context.eventService.viewport2Canvas(r.viewport),n.x),s=n.y;return r.canvas.x=a,r.canvas.y=s,r.global.copyFrom(r.canvas),r.offset.copyFrom(r.canvas),r.nativeEvent=t,r.type=t.type,r},t.prototype.transferMouseData=function(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.metaKey=e.metaKey,t.shiftKey=e.shiftKey,t.ctrlKey=e.ctrlKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.screen.x=e.screenX,t.screen.y=e.screenY,t.relatedTarget=null},t.prototype.setCursor=function(t){this.context.contextService.applyCursorStyle(t||this.context.config.cursor||"default")},t.prototype.normalizeToPointerEvent=function(t,e){var n=[];if(e.isTouchEvent(t))for(var r=0;r<t.changedTouches.length;r++){var i=t.changedTouches[r];An(i.button)&&(i.button=0),An(i.buttons)&&(i.buttons=1),An(i.isPrimary)&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),An(i.width)&&(i.width=i.radiusX||1),An(i.height)&&(i.height=i.radiusY||1),An(i.tiltX)&&(i.tiltX=0),An(i.tiltY)&&(i.tiltY=0),An(i.pointerType)&&(i.pointerType="touch"),An(i.pointerId)&&(i.pointerId=i.identifier||0),An(i.pressure)&&(i.pressure=i.force||.5),An(i.twist)&&(i.twist=0),An(i.tangentialPressure)&&(i.tangentialPressure=0),i.isNormalized=!0,i.type=t.type,n.push(i)}else if(e.isMouseEvent(t)){var o=t;An(o.isPrimary)&&(o.isPrimary=!0),An(o.width)&&(o.width=1),An(o.height)&&(o.height=1),An(o.tiltX)&&(o.tiltX=0),An(o.tiltY)&&(o.tiltY=0),An(o.pointerType)&&(o.pointerType="mouse"),An(o.pointerId)&&(o.pointerId=Bs),An(o.pressure)&&(o.pressure=.5),An(o.twist)&&(o.twist=0),An(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,n.push(o)}else n.push(t);return n},t.tag="Event",t}(),Nu=[Dr.CIRCLE,Dr.ELLIPSE,Dr.IMAGE,Dr.RECT,Dr.LINE,Dr.POLYLINE,Dr.POLYGON,Dr.TEXT,Dr.PATH,Dr.HTML],Bu=function(){function t(){}return t.prototype.isVisible=function(t,e){var n,r,i=e.cullable;if(!i.enable)return!0;var o=e.getRenderBounds();if(gi.isEmpty(o))return!1;var a=t.getFrustum(),s=null===(r=null===(n=e.parentNode)||void 0===n?void 0:n.cullable)||void 0===r?void 0:r.visibilityPlaneMask;return i.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(e,o,s||vi.INDETERMINATE,a.planes),i.visible=i.visibilityPlaneMask!==vi.OUTSIDE,i.visible},t.prototype.computeVisibilityWithPlaneMask=function(t,e,n,r){if(n===vi.OUTSIDE||n===vi.INSIDE)return n;for(var i=vi.INSIDE,o=Nu.indexOf(t.nodeName)>-1,a=0,s=r.length;a<s;++a){var l=1<<a;if(0!==(n&l)&&(!o||4!==a&&5!==a)){var u=r[a],c=u.normal,f=u.distance;if(R(c,e.getPositiveFarPoint(r[a]))+f<0)return vi.OUTSIDE;R(c,e.getNegativeFarPoint(r[a]))+f<0&&(i|=l)}}return i},t}(),Du=function(){function t(){this.toSync=new Set}return t.prototype.apply=function(e){var n=this,r=e.renderingService,i=e.renderingContext,o=e.rBushRoot,a=i.root.ownerDocument.defaultView;this.rBush=o;var s=function(t){var e=t.target;e.renderable.dirty=!0,r.dirtify()},l=function(t){var e=t.detail.affectChildren,i=t.target;e&&i.forEach((function(t){n.toSync.add(t)}));var o=i;while(o)o.renderable&&n.toSync.add(o),o=o.parentElement;r.dirtify()},u=function(t){var e=t.target;Jl.enableCSSParsing&&Jl.styleValueRegistry.recalc(e),Jl.sceneGraphService.dirtifyToRoot(e),r.dirtify()},c=function(t){var e=t.target,i=e.rBushNode;i.aabb&&n.rBush.remove(i.aabb),n.toSync.delete(e),Jl.sceneGraphService.dirtifyToRoot(e),r.dirtify()};r.hooks.init.tap(t.tag,(function(){a.addEventListener(Pl.MOUNTED,u),a.addEventListener(Pl.UNMOUNTED,c),a.addEventListener(Pl.ATTR_MODIFIED,s),a.addEventListener(Pl.BOUNDS_CHANGED,l)})),r.hooks.destroy.tap(t.tag,(function(){a.removeEventListener(Pl.MOUNTED,u),a.removeEventListener(Pl.UNMOUNTED,c),a.removeEventListener(Pl.ATTR_MODIFIED,s),a.removeEventListener(Pl.BOUNDS_CHANGED,l),n.toSync.clear()})),r.hooks.endFrame.tap(t.tag,(function(){n.syncRTree()}))},t.prototype.syncRTree=function(){var t=this,e=[];Array.from(this.toSync).filter((function(t){return t.isConnected})).forEach((function(n){var r,i,o=n.rBushNode;o&&o.aabb&&t.rBush.remove(o.aabb);var a=n.getRenderBounds();if(a){var s=(r=v(a.getMin(),2),r[0]),l=r[1],u=(i=v(a.getMax(),2),i[0]),c=i[1];o.aabb||(o.aabb={}),o.aabb.displayObject=n,o.aabb.minX=s,o.aabb.minY=l,o.aabb.maxX=u,o.aabb.maxY=c}o.aabb&&(isNaN(o.aabb.maxX)||isNaN(o.aabb.maxX)||isNaN(o.aabb.minX)||isNaN(o.aabb.minY)||e.push(o.aabb))})),this.rBush.load(e),e.length=0,this.toSync.clear()},t.tag="Prepare",t}();(function(t){t["READY"]="ready",t["BEFORE_RENDER"]="beforerender",t["RERENDER"]="rerender",t["AFTER_RENDER"]="afterrender",t["BEFORE_DESTROY"]="beforedestroy",t["AFTER_DESTROY"]="afterdestroy",t["RESIZE"]="resize",t["DIRTY_RECTANGLE"]="dirtyrectangle",t["RENDERER_CHANGED"]="rendererchanged"})(uu||(uu={}));var Fu=500,zu=.1,Wu=1e3,Hu=new Sl(Pl.MOUNTED),$u=new Sl(Pl.UNMOUNTED),Gu=new Sl(uu.BEFORE_RENDER),Vu=new Sl(uu.RERENDER),Uu=new Sl(uu.AFTER_RENDER),Yu=function(t){function e(e){var n=t.call(this)||this;n.Element=yu,n.inited=!1,n.context={},n.document=new Pu,n.document.defaultView=n,n.customElements=new Lu;var r=e.container,i=e.canvas,o=e.offscreenCanvas,a=e.width,s=e.height,l=e.devicePixelRatio,u=e.renderer,c=e.background,f=e.cursor,h=e.document,d=e.requestAnimationFrame,p=e.cancelAnimationFrame,v=e.createImage,g=e.supportsPointerEvents,y=e.supportsTouchEvents,m=e.supportsCSSTransform,b=e.useNativeClickEvent,x=e.alwaysTriggerPointerEventOnCanvas,w=e.isTouchEvent,_=e.isMouseEvent;Es(r,n);var O=a,C=s,S=l;return i&&(S=l||Ms&&window.devicePixelRatio||1,S=S>=1?Math.ceil(S):1,O=a||js(i)||i.width/S,C=s||Ns(i)||i.height/S),o&&(Jl.offscreenCanvas=o),n.devicePixelRatio=S,n.requestAnimationFrame=null!==d&&void 0!==d?d:tl.bind(Jl.globalThis),n.cancelAnimationFrame=null!==p&&void 0!==p?p:el.bind(Jl.globalThis),n.supportsTouchEvents=null!==y&&void 0!==y?y:"ontouchstart"in Jl.globalThis,n.supportsPointerEvents=null!==g&&void 0!==g?g:!!Jl.globalThis.PointerEvent,n.isTouchEvent=null!==w&&void 0!==w?w:function(t){return n.supportsTouchEvents&&t instanceof Jl.globalThis.TouchEvent},n.isMouseEvent=null!==_&&void 0!==_?_:function(t){return!Jl.globalThis.MouseEvent||t instanceof Jl.globalThis.MouseEvent&&(!n.supportsPointerEvents||!(t instanceof Jl.globalThis.PointerEvent))},n.initRenderingContext({container:r,canvas:i,width:O,height:C,renderer:u,offscreenCanvas:o,devicePixelRatio:S,cursor:f||"default",background:c||"transparent",createImage:v,document:h,supportsCSSTransform:m,useNativeClickEvent:b,alwaysTriggerPointerEventOnCanvas:x}),n.initDefaultCamera(O,C,u.clipSpaceNearZ),n.initRenderer(u,!0),n}return u(e,t),e.prototype.initRenderingContext=function(t){this.context.config=t,this.context.renderingContext={root:this.document.documentElement,renderListCurrentFrame:[],unculledEntities:[],renderReasons:new Set,force:!1,dirty:!1}},e.prototype.initDefaultCamera=function(t,e,n){var r=this,i=new Jl.CameraContribution;i.clipSpaceNearZ=n,i.setType(mi.EXPLORING,bi.DEFAULT).setPosition(t/2,e/2,Fu).setFocalPoint(t/2,e/2,0).setOrthographic(t/-2,t/2,e/2,e/-2,zu,Wu),i.canvas=this,i.eventEmitter.on(Pi.UPDATED,(function(){r.context.renderingContext.renderReasons.add(xl.CAMERA_CHANGED)})),this.context.camera=i},e.prototype.getConfig=function(){return this.context.config},e.prototype.getRoot=function(){return this.document.documentElement},e.prototype.getCamera=function(){return this.context.camera},e.prototype.getContextService=function(){return this.context.contextService},e.prototype.getEventService=function(){return this.context.eventService},e.prototype.getRenderingService=function(){return this.context.renderingService},e.prototype.getRenderingContext=function(){return this.context.renderingContext},e.prototype.getStats=function(){return this.getRenderingService().getStats()},Object.defineProperty(e.prototype,"ready",{get:function(){var t=this;return this.readyPromise||(this.readyPromise=new Promise((function(e){t.resolveReadyPromise=function(){e(t)}})),this.inited&&this.resolveReadyPromise()),this.readyPromise},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,e){if(void 0===t&&(t=!0),void 0===e&&(e=!1),e||this.dispatchEvent(new Sl(uu.BEFORE_DESTROY)),this.frameId){var n=this.getConfig().cancelAnimationFrame||cancelAnimationFrame;n(this.frameId)}var r=this.getRoot();this.unmountChildren(r),t&&(this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),t&&this.context.rBushRoot&&(this.context.rBushRoot.clear(),this.context.rBushRoot=null,this.context.renderingContext.root=null),e||this.dispatchEvent(new Sl(uu.AFTER_DESTROY))},e.prototype.changeSize=function(t,e){this.resize(t,e)},e.prototype.resize=function(t,e){var n=this.context.config;n.width=t,n.height=e,this.getContextService().resize(t,e);var r=this.context.camera,i=r.getProjectionMode();r.setPosition(t/2,e/2,Fu).setFocalPoint(t/2,e/2,0),i===xi.ORTHOGRAPHIC?r.setOrthographic(t/-2,t/2,e/2,e/-2,r.getNear(),r.getFar()):r.setAspect(t/e),this.dispatchEvent(new Sl(uu.RESIZE,{width:t,height:e}))},e.prototype.appendChild=function(t,e){return this.document.documentElement.appendChild(t,e)},e.prototype.insertBefore=function(t,e){return this.document.documentElement.insertBefore(t,e)},e.prototype.removeChild=function(t){return this.document.documentElement.removeChild(t)},e.prototype.removeChildren=function(){this.document.documentElement.removeChildren()},e.prototype.destroyChildren=function(){this.document.documentElement.destroyChildren()},e.prototype.render=function(){var t=this;this.dispatchEvent(Gu);var e=this.getRenderingService();e.render(this.getConfig(),(function(){t.dispatchEvent(Vu)})),this.dispatchEvent(Uu)},e.prototype.run=function(){var t=this,e=function(){t.render(),t.frameId=t.requestAnimationFrame(e)};e()},e.prototype.initRenderer=function(t,e){var n=this;if(void 0===e&&(e=!1),!t)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new zr,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new ju,new Du,new Iu,new Ru([new Bu])),this.loadRendererContainerModule(t),this.context.contextService=new this.context.ContextService(c(c({},Jl),this.context)),this.context.renderingService=new Rl(Jl,this.context),this.context.eventService=new Al(Jl,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(t,e,!0)):this.context.contextService.initAsync().then((function(){n.initRenderingService(t,e)}))},e.prototype.initRenderingService=function(t,e,n){var r=this;void 0===e&&(e=!1),void 0===n&&(n=!1),this.context.renderingService.init((function(){r.inited=!0,e?(n?r.requestAnimationFrame((function(){r.dispatchEvent(new Sl(uu.READY))})):r.dispatchEvent(new Sl(uu.READY)),r.readyPromise&&r.resolveReadyPromise()):r.dispatchEvent(new Sl(uu.RENDERER_CHANGED)),e||r.getRoot().forEach((function(t){var e=t.renderable;e&&(e.renderBoundsDirty=!0,e.boundsDirty=!0,e.dirty=!0)})),r.mountChildren(r.getRoot()),t.getConfig().enableAutoRendering&&r.run()}))},e.prototype.loadRendererContainerModule=function(t){var e=this,n=t.getPlugins();n.forEach((function(t){t.context=e.context,t.init(Jl)}))},e.prototype.setRenderer=function(t){var e=this.getConfig();if(e.renderer!==t){var n=e.renderer;e.renderer=t,this.destroy(!1,!0),g([],v(null===n||void 0===n?void 0:n.getPlugins()),!1).reverse().forEach((function(t){t.destroy(Jl)})),this.initRenderer(t)}},e.prototype.setCursor=function(t){var e=this.getConfig();e.cursor=t,this.getContextService().applyCursorStyle(t)},e.prototype.unmountChildren=function(t){var e=this;t.childNodes.forEach((function(t){e.unmountChildren(t)})),this.inited&&(t.isMutationObserved?t.dispatchEvent($u):($u.target=t,this.dispatchEvent($u,!0)),t!==this.document.documentElement&&(t.ownerDocument=null),t.isConnected=!1),t.isCustomElement&&t.disconnectedCallback&&t.disconnectedCallback()},e.prototype.mountChildren=function(t){var e=this;this.inited?t.isConnected||(t.ownerDocument=this.document,t.isConnected=!0,t.isMutationObserved?t.dispatchEvent(Hu):(Hu.target=t,this.dispatchEvent(Hu,!0))):console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",t.nodeName),t.childNodes.forEach((function(t){e.mountChildren(t)})),t.isCustomElement&&t.connectedCallback&&t.connectedCallback()},e.prototype.client2Viewport=function(t){return this.getEventService().client2Viewport(t)},e.prototype.viewport2Client=function(t){return this.getEventService().viewport2Client(t)},e.prototype.viewport2Canvas=function(t){return this.getEventService().viewport2Canvas(t)},e.prototype.canvas2Viewport=function(t){return this.getEventService().canvas2Viewport(t)},e.prototype.getPointByClient=function(t,e){return this.client2Viewport({x:t,y:e})},e.prototype.getClientByPoint=function(t,e){return this.viewport2Client({x:t,y:e})},e}(Ml),qu=function(t,e){return qu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},qu(t,e)};function Xu(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}qu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var Ku=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.landmarks=[],e}return Xu(e,t),e.prototype.rotate=function(t,e,n){if(this.relElevation=Xr(e),this.relAzimuth=Xr(t),this.relRoll=Xr(n),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===mi.EXPLORING){var r=qt(Yt(),[1,0,0],Zr((this.rotateWorld?1:-1)*this.relElevation)),i=qt(Yt(),[0,1,0],Zr((this.rotateWorld?1:-1)*this.relAzimuth)),o=qt(Yt(),[0,0,1],Zr(this.relRoll)),a=Xt(Yt(),i,r);a=Xt(Yt(),a,o);var s=mt(H(),a);J(this.matrix,this.matrix,[0,0,-this.distance]),Q(this.matrix,this.matrix,s),J(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===mi.ORBITING||this.type===mi.EXPLORING?this._getPosition():this.type===mi.TRACKING&&this._getFocalPoint(),this._update(),this},e.prototype.pan=function(t,e){var n=Kr(t,e,0),r=_(this.position);return M(r,r,A(w(),this.right,n[0])),M(r,r,A(w(),this.up,n[1])),this._setPosition(r),this.triggerUpdate(),this},e.prototype.dolly=function(t){var e=this.forward,n=_(this.position),r=t*this.dollyingStep,i=this.distance+t*this.dollyingStep;return r=Math.max(Math.min(i,this.maxDistance),this.minDistance)-this.distance,n[0]+=r*e[0],n[1]+=r*e[1],n[2]+=r*e[2],this._setPosition(n),this.type===mi.ORBITING||this.type===mi.EXPLORING?this._getDistance():this.type===mi.TRACKING&&M(this.focalPoint,n,this.distanceVector),this.triggerUpdate(),this},e.prototype.cancelLandmarkAnimation=function(){void 0!==this.landmarkAnimationID&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)},e.prototype.createLandmark=function(t,e){var n,r,i,o;void 0===e&&(e={});var a=e.position,s=void 0===a?this.position:a,l=e.focalPoint,u=void 0===l?this.focalPoint:l,c=e.roll,f=e.zoom,h=new Jl.CameraContribution;h.setType(this.type,void 0),h.setPosition(s[0],null!==(n=s[1])&&void 0!==n?n:this.position[1],null!==(r=s[2])&&void 0!==r?r:this.position[2]),h.setFocalPoint(u[0],null!==(i=u[1])&&void 0!==i?i:this.focalPoint[1],null!==(o=u[2])&&void 0!==o?o:this.focalPoint[2]),h.setRoll(null!==c&&void 0!==c?c:this.roll),h.setZoom(null!==f&&void 0!==f?f:this.zoom);var d={name:t,matrix:$(h.getWorldTransform()),right:_(h.right),up:_(h.up),forward:_(h.forward),position:_(h.getPosition()),focalPoint:_(h.getFocalPoint()),distanceVector:_(h.getDistanceVector()),distance:h.getDistance(),dollyingStep:h.getDollyingStep(),azimuth:h.getAzimuth(),elevation:h.getElevation(),roll:h.getRoll(),relAzimuth:h.relAzimuth,relElevation:h.relElevation,relRoll:h.relRoll,zoom:h.getZoom()};return this.landmarks.push(d),d},e.prototype.gotoLandmark=function(t,e){var n=this;void 0===e&&(e={});var r=me(t)?this.landmarks.find((function(e){return e.name===t})):t;if(r){var i=pe(e)?{duration:e}:e,o=i.easing,a=void 0===o?"linear":o,s=i.duration,l=void 0===s?100:s,u=i.easingFunction,c=void 0===u?void 0:u,f=i.onfinish,h=void 0===f?void 0:f,d=.01;if(0===l)return this.syncFromLandmark(r),void(h&&h());this.cancelLandmarkAnimation();var p,v=r.position,g=r.focalPoint,y=r.zoom,m=r.roll,b=c||Jl.EasingFunction(a),x=function(){n.setFocalPoint(g),n.setPosition(v),n.setRoll(m),n.setZoom(y),n.computeMatrix(),n.triggerUpdate(),h&&h()},_=function(t){void 0===p&&(p=t);var e=t-p;if(e>l)x();else{var r=b(e/l),i=w(),o=w(),a=1,s=0;j(i,n.focalPoint,g,r),j(o,n.position,v,r),s=n.roll*(1-r)+m*r,a=n.zoom*(1-r)+y*r,n.setFocalPoint(i),n.setPosition(o),n.setRoll(s),n.setZoom(a);var u=z(i,g)+z(o,v);u<=d&&void 0==y&&void 0==m?x():(n.computeMatrix(),n.triggerUpdate(),e<l&&(n.landmarkAnimationID=n.canvas.requestAnimationFrame(_)))}};this.canvas.requestAnimationFrame(_)}},e.prototype.syncFromLandmark=function(t){this.matrix=G(this.matrix,t.matrix),this.right=S(this.right,t.right),this.up=S(this.up,t.up),this.forward=S(this.forward,t.forward),this.position=S(this.position,t.position),this.focalPoint=S(this.focalPoint,t.focalPoint),this.distanceVector=S(this.distanceVector,t.distanceVector),this.azimuth=t.azimuth,this.elevation=t.elevation,this.roll=t.roll,this.relAzimuth=t.relAzimuth,this.relElevation=t.relElevation,this.relRoll=t.relRoll,this.dollyingStep=t.dollyingStep,this.distance=t.distance,this.zoom=t.zoom},e}(Ii);Jl.CameraContribution=Ku;var Zu,Qu,Ju=function(){function t(t,e){this.type=t,this.target=e,this.addedNodes=[],this.attributeName=null,this.attributeNamespace=null,this.nextSibling=null,this.oldValue=null,this.previousSibling=null,this.removedNodes=[]}return t.copy=function(e){var n=new t(e.type,e.target);return n.addedNodes=e.addedNodes.slice(),n.removedNodes=e.removedNodes.slice(),n.previousSibling=e.previousSibling,n.nextSibling=e.nextSibling,n.attributeName=e.attributeName,n.attributeNamespace=e.attributeNamespace,n.oldValue=e.oldValue,n},t}(),tc=0,ec=new WeakMap,nc=function(){function t(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}return t.prototype.enqueue=function(t){var e=this.observer.records,n=e.length;if(e.length>0){var r=e[n-1],i=sc(r,t);if(i)return void(e[n-1]=i)}else hc(this.observer);e[n]=t},t.prototype.addListeners=function(){this.addListeners_(this.target)},t.prototype.addListeners_=function(t){var e=this.options;e.attributes&&t.addEventListener(Pl.ATTR_MODIFIED,this,!0),e.childList&&t.addEventListener(Pl.INSERTED,this,!0),(e.childList||e.subtree)&&t.addEventListener(Pl.REMOVED,this,!0)},t.prototype.removeListeners=function(){this.removeListeners_(this.target)},t.prototype.removeListeners_=function(t){var e=this.options;e.attributes&&t.removeEventListener(Pl.ATTR_MODIFIED,this,!0),e.childList&&t.removeEventListener(Pl.INSERTED,this,!0),(e.childList||e.subtree)&&t.removeEventListener(Pl.REMOVED,this,!0)},t.prototype.removeTransientObservers=function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach((function(t){this.removeListeners_(t);for(var e=ec.get(t),n=0;n<e.length;n++)if(e[n]===this){e.splice(n,1);break}}),this)},t.prototype.handleEvent=function(t){var e,n;switch(t.stopImmediatePropagation(),t.type){case Pl.ATTR_MODIFIED:var r=t.attrName,i=t.relatedNode.namespaceURI;n=t.target,e=rc("attributes",n),e.attributeName=r,e.attributeNamespace=i;var o=t.attrChange===Nl.ADDITION?null:t.prevValue;uc(n,(function(t){if(t.attributes&&(!t.attributeFilter||!t.attributeFilter.length||-1!==t.attributeFilter.indexOf(r)||-1!==t.attributeFilter.indexOf(i)))return t.attributeOldValue?ic(o):e}));break;case Pl.REMOVED:case Pl.INSERTED:n=t.relatedNode;var a=t.target,s=void 0,l=void 0;t.type===Pl.INSERTED?(s=[a],l=[]):(s=[],l=[a]);var u=a.previousSibling,c=a.nextSibling;e=rc("childList",n),e.addedNodes=s,e.removedNodes=l,e.previousSibling=u,e.nextSibling=c,uc(n,(function(t){if(t.childList)return e}))}oc()},t}();(function(){function t(t){this.callback=t,this.nodes=[],this.records=[],this.uid=tc++}t.prototype.observe=function(t,e){if(!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var n,r=ec.get(t);r||ec.set(t,r=[]);for(var i=0;i<r.length;i++)if(r[i].observer===this){n=r[i],n.removeListeners(),n.options=e;break}n||(n=new nc(this,t,e),r.push(n),this.nodes.push(t)),n.addListeners()},t.prototype.disconnect=function(){var t=this;this.nodes.forEach((function(e){for(var n=ec.get(e),r=0;r<n.length;r++){var i=n[r];if(i.observer===t){i.removeListeners(),n.splice(r,1);break}}}),this),this.records=[]},t.prototype.takeRecords=function(){var t=this.records;return this.records=[],t}})();function rc(t,e){return Zu=new Ju(t,e)}function ic(t){return Qu||(Qu=Ju.copy(Zu),Qu.oldValue=t,Qu)}function oc(){Zu=Qu=void 0}function ac(t){return t===Qu||t===Zu}function sc(t,e){return t===e?t:Qu&&ac(t)?Qu:null}function lc(t){t.nodes.forEach((function(e){var n=ec.get(e);n&&n.forEach((function(e){e.observer===t&&e.removeTransientObservers()}))}))}function uc(t,e){for(var n=t;n;n=n.parentNode){var r=ec.get(n);if(r)for(var i=0;i<r.length;i++){var o=r[i],a=o.options;if(n===t||a.subtree){var s=e(a);s&&o.enqueue(s)}}}}var cc=!1,fc=[];function hc(t){fc.push(t),cc||(cc=!0,"undefined"!==typeof Jl.globalThis?Jl.globalThis.setTimeout(dc):dc())}function dc(){cc=!1;var t=fc;fc=[],t.sort((function(t,e){return t.uid-e.uid}));var e=!1;t.forEach((function(t){var n=t.takeRecords();lc(t),n.length&&(t.callback(n,t),e=!0)})),e&&dc()}var pc=function(t,e){return pc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},pc(t,e)};function vc(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}pc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;function gc(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function yc(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var mc=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.currentTime=r,o.timelineTime=i,o.target=n,o.type="finish",o.bubbles=!1,o.currentTarget=n,o.defaultPrevented=!1,o.eventPhase=o.AT_TARGET,o.timeStamp=Date.now(),o.currentTime=r,o.timelineTime=i,o}return vc(e,t),e}(wl),bc=0,xc=function(){function t(t,e){var n;this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=t,t.animation=this,this.timeline=e,this.id="".concat(bc++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number(null===(n=this.effect)||void 0===n?void 0:n.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return Object.defineProperty(t.prototype,"pending",{get:function(){return null===this._startTime&&!this._paused&&0!==this.playbackRate||this.currentTimePending},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playState",{get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){var t=this;return this.readyPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise((function(e,n){t.resolveReadyPromise=function(){e(t)},t.rejectReadyPromise=function(){n(new Error)}})),this.pending||this.resolveReadyPromise()),this.readyPromise},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finished",{get:function(){var t=this;return this.finishedPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise((function(e,n){t.resolveFinishedPromise=function(){e(t)},t.rejectFinishedPromise=function(){n(new Error)}})),"finished"===this.playState&&this.resolveFinishedPromise()),this.finishedPromise},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentTime",{get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(t){var e;t=Number(t),isNaN(t)||(this.timeline.restart(),this._paused||null===this._startTime||(this._startTime=Number(null===(e=this.timeline)||void 0===e?void 0:e.currentTime)-t/this.playbackRate),this.currentTimePending=!1,this._currentTime!==t&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(t,!0),this.timeline.applyDirtiedAnimation(this)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startTime",{get:function(){return this._startTime},set:function(t){if(null!==t){if(this.updatePromises(),t=Number(t),isNaN(t))return;if(this._paused||this._idle)return;this._startTime=t,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){if(t!==this._playbackRate){this.updatePromises();var e=this.currentTime;this._playbackRate=t,this.startTime=null,"paused"!==this.playState&&"idle"!==this.playState&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),null!==e&&(this.currentTime=e),this.updatePromises()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_isFinished",{get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalDuration",{get:function(){return this._totalDuration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_needsTick",{get:function(){return this.pending||"running"===this.playState||!this._finishedFlag},enumerable:!1,configurable:!0}),t.prototype.updatePromises=function(){var t=this.oldPlayState,e=this.pending?"pending":this.playState;return this.readyPromise&&e!==t&&("idle"===e?(this.rejectReadyPromise(),this.readyPromise=void 0):"pending"===t?this.resolveReadyPromise():"pending"===e&&(this.readyPromise=void 0)),this.finishedPromise&&e!==t&&("idle"===e?(this.rejectFinishedPromise(),this.finishedPromise=void 0):"finished"===e?this.resolveFinishedPromise():"finished"===t&&(this.finishedPromise=void 0)),this.oldPlayState=e,this.readyPromise||this.finishedPromise},t.prototype.play=function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),-1===this.timeline.animations.indexOf(this)&&this.timeline.animations.push(this),this.updatePromises()},t.prototype.pause=function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._isFinished||this._paused||this._idle?this._idle&&(this.rewind(),this._idle=!1):this.currentTimePending=!0,this._startTime=null,this._paused=!0,this.updatePromises()},t.prototype.finish=function(){this.updatePromises(),this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())},t.prototype.cancel=function(){var t=this;if(this.updatePromises(),this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var e=new mc(null,this,this.currentTime,null);setTimeout((function(){t.oncancel(e)}))}},t.prototype.reverse=function(){this.updatePromises();var t=this.currentTime;this.playbackRate*=-1,this.play(),null!==t&&(this.currentTime=t),this.updatePromises()},t.prototype.updatePlaybackRate=function(t){this.playbackRate=t},t.prototype.targetAnimations=function(){var t,e=null===(t=this.effect)||void 0===t?void 0:t.target;return e.getAnimations()},t.prototype.markTarget=function(){var t=this.targetAnimations();-1===t.indexOf(this)&&t.push(this)},t.prototype.unmarkTarget=function(){var t=this.targetAnimations(),e=t.indexOf(this);-1!==e&&t.splice(e,1)},t.prototype.tick=function(t,e){this._idle||this._paused||(null===this._startTime?e&&(this.startTime=t-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((t-this._startTime)*this.playbackRate)),e&&(this.currentTimePending=!1,this.fireEvents(t))},t.prototype.rewind=function(){if(this.playbackRate>=0)this.currentTime=0;else{if(!(this._totalDuration<1/0))throw new Error("Unable to rewind negative playback rate animation with infinite duration");this.currentTime=this._totalDuration}},t.prototype.persist=function(){throw new Error(Ci)},t.prototype.addEventListener=function(t,e,n){throw new Error(Ci)},t.prototype.removeEventListener=function(t,e,n){throw new Error(Ci)},t.prototype.dispatchEvent=function(t){throw new Error(Ci)},t.prototype.commitStyles=function(){throw new Error(Ci)},t.prototype.ensureAlive=function(){var t,e;this.playbackRate<0&&0===this.currentTime?this._inEffect=!!(null===(t=this.effect)||void 0===t?void 0:t.update(-1)):this._inEffect=!!(null===(e=this.effect)||void 0===e?void 0:e.update(this.currentTime)),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,this.timeline.animations.push(this))},t.prototype.tickCurrentTime=function(t,e){t!==this._currentTime&&(this._currentTime=t,this._isFinished&&!e&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())},t.prototype.fireEvents=function(t){var e=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var n=new mc(null,this,this.currentTime,t);setTimeout((function(){e.onfinish&&e.onfinish(n)}))}this._finishedFlag=!0}}else{if(this.onframe&&"running"===this.playState){var r=new mc(null,this,this.currentTime,t);this.onframe(r)}this._finishedFlag=!1}},t}(),wc=4,_c=.001,Oc=1e-7,Cc=10,Sc=11,Ec=1/(Sc-1),Mc="function"===typeof Float32Array,kc=function(t,e){return 1-3*e+3*t},Tc=function(t,e){return 3*e-6*t},Ac=function(t){return 3*t},Lc=function(t,e,n){return((kc(e,n)*t+Tc(e,n))*t+Ac(e))*t},Pc=function(t,e,n){return 3*kc(e,n)*t*t+2*Tc(e,n)*t+Ac(e)},Rc=function(t,e,n,r,i){var o,a,s=0;do{a=e+(n-e)/2,o=Lc(a,r,i)-t,o>0?n=a:e=a}while(Math.abs(o)>Oc&&++s<Cc);return a},Ic=function(t,e,n,r){for(var i=0;i<wc;++i){var o=Pc(e,n,r);if(0===o)return e;var a=Lc(e,n,r)-t;e-=a/o}return e},jc=function(t,e,n,r){if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&n===r)return function(t){return t};for(var i=Mc?new Float32Array(Sc):new Array(Sc),o=0;o<Sc;++o)i[o]=Lc(o*Ec,t,n);var a=function(e){for(var r=0,o=1,a=Sc-1;o!==a&&i[o]<=e;++o)r+=Ec;--o;var s=(e-i[o])/(i[o+1]-i[o]),l=r+s*Ec,u=Pc(l,t,n);return u>=_c?Ic(e,l,t,n):0===u?l:Rc(e,r,r+Ec,t,n)};return function(t){return 0===t||1===t?t:Lc(a(t),e,r)}},Nc=function(t){return t=t.replace(/([A-Z])/g,(function(t){return"-".concat(t.toLowerCase())})),"-"===t.charAt(0)?t.substring(1):t},Bc=function(t){return Math.pow(t,2)},Dc=function(t){return Math.pow(t,3)},Fc=function(t){return Math.pow(t,4)},zc=function(t){return Math.pow(t,5)},Wc=function(t){return Math.pow(t,6)},Hc=function(t){return 1-Math.cos(t*Math.PI/2)},$c=function(t){return 1-Math.sqrt(1-t*t)},Gc=function(t){return t*t*(3*t-2)},Vc=function(t){var e,n=4;while(t<((e=Math.pow(2,--n))-1)/11);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)},Uc=function(t,e){void 0===e&&(e=[]);var n=gc(e,2),r=n[0],i=void 0===r?1:r,o=n[1],a=void 0===o?.5:o,s=xe(Number(i),1,10),l=xe(Number(a),.1,2);return 0===t||1===t?t:-s*Math.pow(2,10*(t-1))*Math.sin((t-1-l/(2*Math.PI)*Math.asin(1/s))*(2*Math.PI)/l)},Yc=function(t,e,n){void 0===e&&(e=[]);var r=gc(e,4),i=r[0],o=void 0===i?1:i,a=r[1],s=void 0===a?100:a,l=r[2],u=void 0===l?10:l,c=r[3],f=void 0===c?0:c;o=xe(o,.1,1e3),s=xe(s,.1,1e3),u=xe(u,.1,1e3),f=xe(f,.1,1e3);var h=Math.sqrt(s/o),d=u/(2*Math.sqrt(s*o)),p=d<1?h*Math.sqrt(1-d*d):0,v=1,g=d<1?(d*h-f)/p:-f+h,y=n?n*t/1e3:t;return y=d<1?Math.exp(-y*d*h)*(v*Math.cos(p*y)+g*Math.sin(p*y)):(v+g*y)*Math.exp(-y*h),0===t||1===t?t:1-y},qc=function(t,e){void 0===e&&(e=[]);var n=gc(e,2),r=n[0],i=void 0===r?10:r,o=n[1],a="start"==o?Math.ceil:Math.floor;return a(xe(t,0,1)*i)/i},Xc=function(t,e){void 0===e&&(e=[]);var n=gc(e,4),r=n[0],i=n[1],o=n[2],a=n[3];return jc(r,i,o,a)(t)},Kc=jc(.42,0,1,1),Zc=function(t){return function(e,n,r){return void 0===n&&(n=[]),1-t(1-e,n,r)}},Qc=function(t){return function(e,n,r){return void 0===n&&(n=[]),e<.5?t(2*e,n,r)/2:1-t(-2*e+2,n,r)/2}},Jc=function(t){return function(e,n,r){return void 0===n&&(n=[]),e<.5?(1-t(1-2*e,n,r))/2:(t(2*e-1,n,r)+1)/2}},tf={steps:qc,"step-start":function(t){return qc(t,[1,"start"])},"step-end":function(t){return qc(t,[1,"end"])},linear:function(t){return t},"cubic-bezier":Xc,ease:function(t){return Xc(t,[.25,.1,.25,1])},in:Kc,out:Zc(Kc),"in-out":Qc(Kc),"out-in":Jc(Kc),"in-quad":Bc,"out-quad":Zc(Bc),"in-out-quad":Qc(Bc),"out-in-quad":Jc(Bc),"in-cubic":Dc,"out-cubic":Zc(Dc),"in-out-cubic":Qc(Dc),"out-in-cubic":Jc(Dc),"in-quart":Fc,"out-quart":Zc(Fc),"in-out-quart":Qc(Fc),"out-in-quart":Jc(Fc),"in-quint":zc,"out-quint":Zc(zc),"in-out-quint":Qc(zc),"out-in-quint":Jc(zc),"in-expo":Wc,"out-expo":Zc(Wc),"in-out-expo":Qc(Wc),"out-in-expo":Jc(Wc),"in-sine":Hc,"out-sine":Zc(Hc),"in-out-sine":Qc(Hc),"out-in-sine":Jc(Hc),"in-circ":$c,"out-circ":Zc($c),"in-out-circ":Qc($c),"out-in-circ":Jc($c),"in-back":Gc,"out-back":Zc(Gc),"in-out-back":Qc(Gc),"out-in-back":Jc(Gc),"in-bounce":Vc,"out-bounce":Zc(Vc),"in-out-bounce":Qc(Vc),"out-in-bounce":Jc(Vc),"in-elastic":Uc,"out-elastic":Zc(Uc),"in-out-elastic":Qc(Uc),"out-in-elastic":Jc(Uc),spring:Yc,"spring-in":Yc,"spring-out":Zc(Yc),"spring-in-out":Qc(Yc),"spring-out-in":Jc(Yc)},ef=function(t){return Nc(t).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},nf=function(t){return tf[ef(t)]||tf.linear},rf=function(t){return t},of=1,af=.5,sf=0;function lf(t,e){return function(n){if(n>=1)return 1;var r=1/t;return n+=e*r,n-n%r}}var uf="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",cf=new RegExp("cubic-bezier\\("+uf+","+uf+","+uf+","+uf+"\\)"),ff=/steps\(\s*(\d+)\s*\)/,hf=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function df(t){var e=cf.exec(t);if(e)return jc.apply(void 0,yc([],gc(e.slice(1).map(Number)),!1));var n=ff.exec(t);if(n)return lf(Number(n[1]),sf);var r=hf.exec(t);return r?lf(Number(r[1]),{start:of,middle:af,end:sf}[r[2]]):nf(t)}function pf(t){return Math.abs(vf(t)/(t.playbackRate||1))}function vf(t){var e;return 0===t.duration||0===t.iterations?0:("auto"===t.duration?0:Number(t.duration))*(null!==(e=t.iterations)&&void 0!==e?e:1)}var gf=0,yf=1,mf=2,bf=3;function xf(t,e,n){if(null===e)return gf;var r=n.endTime;return e<Math.min(n.delay,r)?yf:e>=Math.min(n.delay+t+n.endDelay,r)?mf:bf}function wf(t,e,n,r,i){switch(r){case yf:return"backwards"===e||"both"===e?0:null;case bf:return n-i;case mf:return"forwards"===e||"both"===e?t:null;case gf:return null}}function _f(t,e,n,r,i){var o=i;return 0===t?e!==yf&&(o+=n):o+=r/t,o}function Of(t,e,n,r,i,o){var a=t===1/0?e%1:t%1;return 0!==a||n!==mf||0===r||0===i&&0!==o||(a=1),a}function Cf(t,e,n,r){return t===mf&&e===1/0?1/0:1===n?Math.floor(r)-1:Math.floor(r)}function Sf(t,e,n){var r=t;if("normal"!==t&&"reverse"!==t){var i=e;"alternate-reverse"===t&&(i+=1),r="normal",i!==1/0&&i%2!==0&&(r="reverse")}return"normal"===r?n:1-n}function Ef(t,e,n){var r=xf(t,e,n),i=wf(t,n.fill,e,r,n.delay);if(null===i)return null;var o="auto"===n.duration?0:n.duration,a=_f(o,r,n.iterations,i,n.iterationStart),s=Of(a,n.iterationStart,r,n.iterations,i,o),l=Cf(r,n.iterations,s,a),u=Sf(n.direction,l,s);return n.currentIteration=l,n.progress=u,n.easingFunction(u)}function Mf(t,e,n){var r=Tf(t,e),i=Af(r,n);return function(t,e){if(null!==e)i.filter((function(t){return e>=t.applyFrom&&e<t.applyTo})).forEach((function(n){var r=e-n.startOffset,i=n.endOffset-n.startOffset,o=0===i?0:n.easingFunction(r/i);t.setAttribute(n.property,n.interpolation(o))}));else for(var n in r)kf(n)&&t.setAttribute(n,null)}}function kf(t){return"offset"!==t&&"easing"!==t&&"composite"!==t&&"computedOffset"!==t}function Tf(t,e){for(var n={},r=0;r<t.length;r++)for(var i in t[r])if(kf(i)){var o={offset:t[r].offset,computedOffset:t[r].computedOffset,easing:t[r].easing,easingFunction:df(t[r].easing)||e.easingFunction,value:t[r][i]};n[i]=n[i]||[],n[i].push(o)}return n}function Af(t,e){var n=[];for(var r in t)for(var i=t[r],o=0;o<i.length-1;o++){var a=o,s=o+1,l=i[a].computedOffset,u=i[s].computedOffset,c=l,f=u;0===o&&(c=-1/0,0===u&&(s=a)),o===i.length-2&&(f=1/0,1===l&&(a=s)),n.push({applyFrom:c,applyTo:f,startOffset:i[a].computedOffset,endOffset:i[s].computedOffset,easingFunction:i[a].easingFunction,property:r,interpolation:Pf(r,i[a].value,i[s].value,e)})}return n.sort((function(t,e){return t.startOffset-e.startOffset})),n}var Lf=function(t,e,n){return function(r){var i=Rf(t,e,r);return!Jl.enableCSSParsing&&pe(i)?i:n(i)}};function Pf(t,e,n,r){var i=ts[t];if(i&&i.syntax&&i.int){var o=Jl.styleValueRegistry.getPropertySyntax(i.syntax);if(o){var a=void 0,s=void 0;if(Jl.enableCSSParsing){var l=Jl.styleValueRegistry.parseProperty(t,e,r),u=Jl.styleValueRegistry.parseProperty(t,n,r);a=Jl.styleValueRegistry.computeProperty(t,l,r),s=Jl.styleValueRegistry.computeProperty(t,u,r)}else{var c=o.parserWithCSSDisabled;a=c?c(e,r):e,s=c?c(n,r):n}var f=o.mixer(a,s,r);if(f){var h=Lf.apply(void 0,yc([],gc(f),!1));return function(t){return 0===t?e:1===t?n:h(t)}}}}return Lf(!1,!0,(function(t){return t?n:e}))}function Rf(t,e,n){if("number"===typeof t&&"number"===typeof e)return t*(1-n)+e*n;if("boolean"===typeof t&&"boolean"===typeof e||"string"===typeof t&&"string"===typeof e)return n<.5?t:e;if(Array.isArray(t)&&Array.isArray(e)){for(var r=t.length,i=e.length,o=Math.max(r,i),a=[],s=0;s<o;s++)a.push(Rf(t[s<r?s:r-1],e[s<i?s:i-1],n));return a}throw new Error("Mismatched interpolation arguments "+t+":"+e)}var If=function(){function t(){this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=rf,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return Object.defineProperty(t.prototype,"easing",{get:function(){return this._easing},set:function(t){this.easingFunction=df(t),this._easing=t},enumerable:!1,configurable:!0}),t}();function jf(t){var e=[];for(var n in t)if(!(n in["easing","offset","composite"])){var r=t[n];Array.isArray(r)||(r=[r]);for(var i=r.length,o=0;o<i;o++){if(!e[o]){var a={};"offset"in t&&(a.offset=Number(t.offset)),"easing"in t&&(a.easing=t.easing),"composite"in t&&(a.composite=t.composite),e[o]=a}void 0!==r[o]&&null!==r[o]&&(e[o][n]=r[o])}}return e.sort((function(t,e){return(t.computedOffset||0)-(e.computedOffset||0)})),e}function Nf(t,e){if(null===t)return[];Array.isArray(t)||(t=jf(t));for(var n=t.map((function(t){var n={};for(var r in(null===e||void 0===e?void 0:e.composite)&&(n.composite="auto"),t){var i=t[r];if("offset"===r){if(null!==i){if(i=Number(i),!isFinite(i))throw new Error("Keyframe offsets must be numbers.");if(i<0||i>1)throw new Error("Keyframe offsets must be between 0 and 1.");n.computedOffset=i}}else if("composite"===r&&-1===["replace","add","accumulate","auto"].indexOf(i))throw new Error("".concat(i," compositing is not supported"));n[r]=i}return void 0===n.offset&&(n.offset=null),void 0===n.easing&&(n.easing=(null===e||void 0===e?void 0:e.easing)||"linear"),void 0===n.composite&&(n.composite="auto"),n})),r=!0,i=-1/0,o=0;o<n.length;o++){var a=n[o].offset;if(ye(a))r=!1;else{if(a<i)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");i=a}}function s(){var t,e,r=n.length;n[r-1].computedOffset=Number(null!==(t=n[r-1].offset)&&void 0!==t?t:1),r>1&&(n[0].computedOffset=Number(null!==(e=n[0].offset)&&void 0!==e?e:0));for(var i=0,o=Number(n[0].computedOffset),a=1;a<r;a++){var s=n[a].computedOffset;if(!ye(s)&&!ye(o)){for(var l=1;l<a-i;l++)n[i+l].computedOffset=o+(Number(s)-o)*l/(a-i);i=a,o=Number(s)}}}return n=n.filter((function(t){return Number(t.offset)>=0&&Number(t.offset)<=1})),r||s(),n}var Bf="backwards|forwards|both|none".split("|"),Df="reverse|alternate|alternate-reverse".split("|");function Ff(t,e){var n=new If;return e&&(n.fill="both",n.duration="auto"),"number"!==typeof t||isNaN(t)?void 0!==t&&Object.keys(t).forEach((function(e){if(void 0!==t[e]&&null!==t[e]&&"auto"!==t[e]){if(("number"===typeof n[e]||"duration"===e)&&("number"!==typeof t[e]||isNaN(t[e])))return;if("fill"===e&&-1===Bf.indexOf(t[e]))return;if("direction"===e&&-1===Df.indexOf(t[e]))return;n[e]=t[e]}})):n.duration=t,n}function zf(t,e){return t=Wf(null!==t&&void 0!==t?t:{duration:"auto"}),Ff(t,e)}function Wf(t){return"number"===typeof t&&(t=isNaN(t)?{duration:"auto"}:{duration:t}),t}var Hf=function(){function t(t,e,n){var r=this;this.composite="replace",this.iterationComposite="replace",this.target=t,this.timing=zf(n,!1),this.timing.effect=this,this.timing.activeDuration=pf(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=Nf(e,this.timing),this.interpolations=Mf(this.normalizedKeyframes,this.timing,this.target);var i=Jl.globalThis.Proxy;this.computedTiming=i?new i(this.timing,{get:function(t,e){return"duration"===e?"auto"===t.duration?0:t.duration:"fill"===e?"auto"===t.fill?"none":t.fill:"localTime"===e?r.animation&&r.animation.currentTime||null:"currentIteration"===e?r.animation&&"running"===r.animation.playState?t.currentIteration||0:null:"progress"===e?r.animation&&"running"===r.animation.playState?t.progress||0:null:t[e]},set:function(){return!0}}):this.timing}return t.prototype.applyInterpolations=function(){this.interpolations(this.target,Number(this.timeFraction))},t.prototype.update=function(t){return null!==t&&(this.timeFraction=Ef(this.timing.activeDuration,t,this.timing),null!==this.timeFraction)},t.prototype.getKeyframes=function(){return this.normalizedKeyframes},t.prototype.setKeyframes=function(t){this.normalizedKeyframes=Nf(t)},t.prototype.getComputedTiming=function(){return this.computedTiming},t.prototype.getTiming=function(){return this.timing},t.prototype.updateTiming=function(t){var e=this;Object.keys(t||{}).forEach((function(n){e.timing[n]=t[n]}))},t}();function $f(t,e){return Number(t.id)-Number(e.id)}var Gf=function(){function t(t){var e=this;this.document=t,this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(t){e.currentTime=t,e.discardAnimations(),0===e.animations.length?e.timelineTicking=!1:e.requestAnimationFrame(e.webAnimationsNextTick)},this.processRafCallbacks=function(t){var n=e.rafCallbacks;e.rafCallbacks=[],t<Number(e.currentTime)&&(t=Number(e.currentTime)),e.animations.sort($f),e.animations=e.tick(t,!0,e.animations)[0],n.forEach((function(e){e[1](t)})),e.applyPendingEffects()}}return t.prototype.getAnimations=function(){return this.discardAnimations(),this.animations.slice()},t.prototype.isTicking=function(){return this.inTick},t.prototype.play=function(t,e,n){var r=new Hf(t,e,n),i=new xc(r,this);return this.animations.push(i),this.restartWebAnimationsNextTick(),i.updatePromises(),i.play(),i.updatePromises(),i},t.prototype.applyDirtiedAnimation=function(t){var e=this;if(!this.inTick){t.markTarget();var n=t.targetAnimations();n.sort($f);var r=this.tick(Number(this.currentTime),!1,n.slice())[1];r.forEach((function(t){var n=e.animations.indexOf(t);-1!==n&&e.animations.splice(n,1)})),this.applyPendingEffects()}},t.prototype.restart=function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame((function(){})),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame},t.prototype.destroy=function(){this.document.defaultView.cancelAnimationFrame(this.frameId)},t.prototype.applyPendingEffects=function(){this.pendingEffects.forEach((function(t){null===t||void 0===t||t.applyInterpolations()})),this.pendingEffects=[]},t.prototype.updateAnimationsPromises=function(){this.animationsWithPromises=this.animationsWithPromises.filter((function(t){return t.updatePromises()}))},t.prototype.discardAnimations=function(){this.updateAnimationsPromises(),this.animations=this.animations.filter((function(t){return"finished"!==t.playState&&"idle"!==t.playState}))},t.prototype.restartWebAnimationsNextTick=function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))},t.prototype.rAF=function(t){var e=this.rafId++;return 0===this.rafCallbacks.length&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([e,t]),e},t.prototype.requestAnimationFrame=function(t){var e=this;return this.rAF((function(n){e.updateAnimationsPromises(),t(n),e.updateAnimationsPromises()}))},t.prototype.tick=function(t,e,n){var r,i,o=this;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=t,this.ticking=!1;var a=[],s=[],l=[],u=[];return n.forEach((function(n){n.tick(t,e),n._inEffect?(s.push(n.effect),n.markTarget()):(a.push(n.effect),n.unmarkTarget()),n._needsTick&&(o.ticking=!0);var r=n._inEffect||n._needsTick;n._inTimeline=r,r?l.push(n):u.push(n)})),(r=this.pendingEffects).push.apply(r,yc([],gc(a),!1)),(i=this.pendingEffects).push.apply(i,yc([],gc(s),!1)),this.ticking&&this.requestAnimationFrame((function(){})),this.inTick=!1,[l,u]},t}();Jl.EasingFunction=df,Jl.AnimationTimeline=Gf;const Vf="main-layer",Uf="label-layer",Yf="element",qf="view",Xf="plot",Kf="component",Zf="label",Qf="area";var Jf=function(t,e){return Jf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Jf(t,e)};function th(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Jf(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function eh(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function nh(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return l([t,e])}}function l(s){if(n)throw new TypeError("Generator is already executing.");while(o&&(o=0,s[0]&&(a=0)),a)try{if(n=1,r&&(i=2&s[0]?r["return"]:s[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(l){s=[6,l],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var rh=function(t,e){return rh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},rh(t,e)};function ih(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}rh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;function oh(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}Object.create;"function"===typeof SuppressedError&&SuppressedError;function ah(t,e){var n=e.r;t.arc(n,n,n,0,2*Math.PI,!1)}function sh(t,e){var n=e.rx,r=e.ry,i=n,o=r;if(t.ellipse)t.ellipse(i,o,i,o,0,0,2*Math.PI,!1);else{var a=i>o?i:o,s=i>o?1:i/o,l=i>o?o/i:1;t.save(),t.scale(s,l),t.arc(0,0,a,0,2*Math.PI)}}function lh(t,e){var n,r,i=e.x1,o=e.y1,a=e.x2,s=e.y2,l=e.defX,u=void 0===l?0:l,c=e.defY,f=void 0===c?0:c,h=e.markerStart,d=e.markerEnd,p=e.markerStartOffset,v=e.markerEndOffset,g=0,y=0,m=0,b=0,x=0;h&&lu(h)&&p&&(n=a-i,r=s-o,x=Math.atan2(r,n),g=Math.cos(x)*(p||0),y=Math.sin(x)*(p||0)),d&&lu(d)&&v&&(n=i-a,r=o-s,x=Math.atan2(r,n),m=Math.cos(x)*(v||0),b=Math.sin(x)*(v||0)),t.moveTo(i-u+g,o-f+y),t.lineTo(a-u+m,s-f+b)}function uh(t,e){var n,r,i=e.defX,o=void 0===i?0:i,a=e.defY,s=void 0===a?0:a,l=e.markerStart,u=e.markerEnd,c=e.markerStartOffset,f=e.markerEndOffset,h=e.path,d=h.absolutePath,p=h.segments,v=0,g=0,y=0,m=0,b=0;if(l&&lu(l)&&c){var x=oh(l.parentNode.getStartTangent(),2),w=x[0],_=x[1];n=w[0]-_[0],r=w[1]-_[1],b=Math.atan2(r,n),v=Math.cos(b)*(c||0),g=Math.sin(b)*(c||0)}if(u&&lu(u)&&f){var O=oh(u.parentNode.getEndTangent(),2);w=O[0],_=O[1];n=w[0]-_[0],r=w[1]-_[1],b=Math.atan2(r,n),y=Math.cos(b)*(f||0),m=Math.sin(b)*(f||0)}for(var C=0;C<d.length;C++){var S=d[C],E=S[0],M=d[C+1],k=0===C&&(0!==v||0!==g),T=(C===d.length-1||M&&("M"===M[0]||"Z"===M[0]))&&0!==y&&0!==m;switch(E){case"M":k?(t.moveTo(S[1]-o+v,S[2]-s+g),t.lineTo(S[1]-o,S[2]-s)):t.moveTo(S[1]-o,S[2]-s);break;case"L":T?t.lineTo(S[1]-o+y,S[2]-s+m):t.lineTo(S[1]-o,S[2]-s);break;case"Q":t.quadraticCurveTo(S[1]-o,S[2]-s,S[3]-o,S[4]-s),T&&t.lineTo(S[3]-o+y,S[4]-s+m);break;case"C":t.bezierCurveTo(S[1]-o,S[2]-s,S[3]-o,S[4]-s,S[5]-o,S[6]-s),T&&t.lineTo(S[5]-o+y,S[6]-s+m);break;case"A":var A=p[C].arcParams,L=A.cx,P=A.cy,R=A.rx,I=A.ry,j=A.startAngle,N=A.endAngle,B=A.xRotation,D=A.sweepFlag;if(t.ellipse)t.ellipse(L-o,P-s,R,I,B,j,N,!!(1-D));else{var F=R>I?R:I,z=R>I?1:R/I,W=R>I?I/R:1;t.translate(L-o,P-s),t.rotate(B),t.scale(z,W),t.arc(0,0,F,j,N,!!(1-D)),t.scale(1/z,1/W),t.rotate(-B),t.translate(-(L-o),-(P-s))}T&&t.lineTo(S[6]-o+y,S[7]-s+m);break;case"Z":t.closePath();break}}}function ch(t,e){var n,r,i=e.defX,o=void 0===i?0:i,a=e.defY,s=void 0===a?0:a,l=e.markerStart,u=e.markerEnd,c=e.markerStartOffset,f=e.markerEndOffset,h=e.points.points,d=h.length,p=h[0][0]-o,v=h[0][1]-s,g=h[d-1][0]-o,y=h[d-1][1]-s,m=0,b=0,x=0,w=0,_=0;l&&lu(l)&&c&&(n=h[1][0]-h[0][0],r=h[1][1]-h[0][1],_=Math.atan2(r,n),m=Math.cos(_)*(c||0),b=Math.sin(_)*(c||0)),u&&lu(u)&&f&&(n=h[d-1][0]-h[0][0],r=h[d-1][1]-h[0][1],_=Math.atan2(r,n),x=Math.cos(_)*(f||0),w=Math.sin(_)*(f||0)),t.moveTo(p+(m||x),v+(b||w));for(var O=1;O<d-1;O++){var C=h[O];t.lineTo(C[0]-o,C[1]-s)}t.lineTo(g,y)}function fh(t,e){var n,r,i=e.defX,o=void 0===i?0:i,a=e.defY,s=void 0===a?0:a,l=e.markerStart,u=e.markerEnd,c=e.markerStartOffset,f=e.markerEndOffset,h=e.points.points,d=h.length,p=h[0][0]-o,v=h[0][1]-s,g=h[d-1][0]-o,y=h[d-1][1]-s,m=0,b=0,x=0,w=0,_=0;l&&lu(l)&&c&&(n=h[1][0]-h[0][0],r=h[1][1]-h[0][1],_=Math.atan2(r,n),m=Math.cos(_)*(c||0),b=Math.sin(_)*(c||0)),u&&lu(u)&&f&&(n=h[d-2][0]-h[d-1][0],r=h[d-2][1]-h[d-1][1],_=Math.atan2(r,n),x=Math.cos(_)*(f||0),w=Math.sin(_)*(f||0)),t.moveTo(p+m,v+b);for(var O=1;O<d-1;O++){var C=h[O];t.lineTo(C[0]-o,C[1]-s)}t.lineTo(g+x,y+w)}function hh(t,e){var n=e.radius,r=e.width,i=e.height,o=r,a=i,s=n&&n.some((function(t){return 0!==t}));if(s){var l=r>0?1:-1,u=i>0?1:-1,c=l+u===0,f=oh(n.map((function(t){return xe(t,0,Math.min(Math.abs(o)/2,Math.abs(a)/2))})),4),h=f[0],d=f[1],p=f[2],v=f[3];t.moveTo(l*h,0),t.lineTo(o-l*d,0),0!==d&&t.arc(o-l*d,u*d,d,-u*Math.PI/2,l>0?0:Math.PI,c),t.lineTo(o,a-u*p),0!==p&&t.arc(o-l*p,a-u*p,p,l>0?0:Math.PI,u>0?Math.PI/2:1.5*Math.PI,c),t.lineTo(l*v,a),0!==v&&t.arc(l*v,a-u*v,v,u>0?Math.PI/2:-Math.PI/2,l>0?Math.PI:0,c),t.lineTo(0,u*h),0!==h&&t.arc(l*h,u*h,h,l>0?Math.PI:0,u>0?1.5*Math.PI:Math.PI/2,c)}else t.rect(0,0,o,a)}var dh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="canvas-path-generator",e}return ih(e,t),e.prototype.init=function(){var t,e=(t={},t[Dr.CIRCLE]=ah,t[Dr.ELLIPSE]=sh,t[Dr.RECT]=hh,t[Dr.LINE]=lh,t[Dr.POLYLINE]=fh,t[Dr.POLYGON]=ch,t[Dr.PATH]=uh,t[Dr.TEXT]=void 0,t[Dr.GROUP]=void 0,t[Dr.IMAGE]=void 0,t[Dr.HTML]=void 0,t[Dr.MESH]=void 0,t);this.context.pathGeneratorFactory=e},e.prototype.destroy=function(){delete this.context.pathGeneratorFactory},e}(Wr),ph=function(t,e){return ph=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},ph(t,e)};function vh(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ph(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function gh(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function yh(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return l([t,e])}}function l(s){if(n)throw new TypeError("Generator is already executing.");while(o&&(o=0,s[0]&&(a=0)),a)try{if(n=1,r&&(i=2&s[0]?r["return"]:s[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(l){s=[6,l],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}Object.create;function mh(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bh(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}Object.create;"function"===typeof SuppressedError&&SuppressedError;var xh=w(),wh=w(),_h=w(),Oh=H(),Ch=function(){function t(){var t=this;this.isHit=function(e,n,r,i){var o=t.context.pointInPathPickerFactory[e.nodeName];if(o){var a=X(Oh,r),s=N(wh,E(_h,n[0],n[1],0),a),l=e.getGeometryBounds().halfExtents,u=e.parsedStyle.anchor;if(s[0]+=(u&&u[0]||0)*l[0]*2,s[1]+=(u&&u[1]||0)*l[1]*2,o(e,new _i(s[0],s[1]),i,t.isPointInPath,t.context,t.runtime))return!0}return!1},this.isPointInPath=function(e,n){var r=t.runtime.offscreenCanvasCreator.getOrCreateContext(t.context.config.offscreenCanvas),i=t.context.pathGeneratorFactory[e.nodeName];return i&&(r.beginPath(),i(r,e.parsedStyle),r.closePath()),r.isPointInPath(n.x,n.y)}}return t.prototype.apply=function(e,n){var r,i=this,o=e.renderingService,a=e.renderingContext;this.context=e,this.runtime=n;var s=null===(r=a.root)||void 0===r?void 0:r.ownerDocument;o.hooks.pick.tapPromise(t.tag,(function(t){return gh(i,void 0,void 0,(function(){return yh(this,(function(e){return[2,this.pick(s,t)]}))}))})),o.hooks.pickSync.tap(t.tag,(function(t){return i.pick(s,t)}))},t.prototype.pick=function(t,e){var n,r,i,o=e.topmost,a=(n=e.position,n.x),s=n.y,l=E(xh,a,s,0),u=t.elementsFromBBox(l[0],l[1],l[0],l[1]),c=[];try{for(var f=mh(u),h=f.next();!h.done;h=f.next()){var d=h.value,p=d.getWorldTransform(),v=this.isHit(d,l,p,!1);if(v){var g=Ls(d);if(g){var y=g.parsedStyle.clipPath,m=this.isHit(y,l,y.getWorldTransform(),!0);if(m){if(o)return e.picked=[d],e;c.push(d)}}else{if(o)return e.picked=[d],e;c.push(d)}}}}catch(b){r={error:b}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return e.picked=c,e},t.tag="CanvasPicker",t}();function Sh(t,e,n){var r=t.parsedStyle,i=r.r,o=r.fill,a=r.stroke,s=r.lineWidth,l=r.increasedLineWidthForHitTesting,u=r.pointerEvents,c=((s||0)+(l||0))/2,f=dr(i,i,e.x,e.y),h=bh(Fs(u,o,a),2),d=h[0],p=h[1];return d&&p||n?f<=i+c:d?f<=i:!!p&&(f>=i-c&&f<=i+c)}function Eh(t,e,n,r){return t/(n*n)+e/(r*r)}function Mh(t,e,n){var r=t.parsedStyle,i=r.rx,o=r.ry,a=r.fill,s=r.stroke,l=r.lineWidth,u=r.increasedLineWidthForHitTesting,c=r.pointerEvents,f=e.x,h=e.y,d=bh(Fs(c,a,s),2),p=d[0],v=d[1],g=((l||0)+(u||0))/2,y=(f-i)*(f-i),m=(h-o)*(h-o);return p&&v||n?Eh(y,m,i+g,o+g)<=1:p?Eh(y,m,i,o)<=1:!!v&&(Eh(y,m,i-g,o-g)>=1&&Eh(y,m,i+g,o+g)<=1)}function kh(t,e,n,r,i,o){return i>=t&&i<=t+n&&o>=e&&o<=e+r}function Th(t,e,n,r,i,o,a){var s=i/2;return kh(t-s,e-s,n,i,o,a)||kh(t+n-s,e-s,i,r,o,a)||kh(t+s,e+r-s,n,i,o,a)||kh(t-s,e+s,i,r,o,a)}function Ah(t,e,n,r,i,o,a,s){var l=(Math.atan2(s-e,a-t)+2*Math.PI)%(2*Math.PI),u={x:t+n*Math.cos(l),y:e+n*Math.sin(l)};return dr(u.x,u.y,a,s)<=o/2}function Lh(t,e,n,r,i,o,a){var s=Math.min(t,n),l=Math.max(t,n),u=Math.min(e,r),c=Math.max(e,r),f=i/2;return o>=s-f&&o<=l+f&&a>=u-f&&a<=c+f&&Cr(t,e,n,r,o,a)<=i/2}function Ph(t,e,n,r,i){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++){var s=t[a][0],l=t[a][1],u=t[a+1][0],c=t[a+1][1];if(Lh(s,l,u,c,e,n,r))return!0}if(i){var f=t[0],h=t[o-1];if(Lh(f[0],f[1],h[0],h[1],e,n,r))return!0}return!1}var Rh=1e-6;function Ih(t){return Math.abs(t)<Rh?0:t<0?-1:1}function jh(t,e,n){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function Nh(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=t[o],s=t[(o+1)%i];if(jh(a,s,[e,n]))return!0;Ih(a[1]-n)>0!==Ih(s[1]-n)>0&&Ih(e-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(r=!r)}return r}function Bh(t,e,n){for(var r=!1,i=0;i<t.length;i++){var o=t[i];if(r=Nh(o,e,n),r)break}return r}function Dh(t,e,n){var r=t.parsedStyle,i=r.x1,o=r.y1,a=r.x2,s=r.y2,l=r.lineWidth,u=r.increasedLineWidthForHitTesting,c=r.defX,f=void 0===c?0:c,h=r.defY,d=void 0===h?0:h,p=r.pointerEvents,v=r.fill,g=r.stroke,y=bh(Fs(p,v,g),2),m=y[1];return!(!m&&!n||!l)&&Lh(i,o,a,s,(l||0)+(u||0),e.x+f,e.y+d)}function Fh(t,e,n,r,i){for(var o=!1,a=e/2,s=0;s<t.length;s++){var l=t[s],u=l.currentPoint,c=l.params,f=l.prePoint,h=l.box;if(!h||kh(h.x-a,h.y-a,h.width+e,h.height+e,n,r))switch(l.command){case"L":case"Z":if(o=Lh(f[0],f[1],u[0],u[1],e,n,r),o)return!0;break;case"Q":var d=Nr(f[0],f[1],c[1],c[2],c[3],c[4],n,r);if(o=d<=e/2,o)return!0;break;case"C":var p=Tr(f[0],f[1],c[1],c[2],c[3],c[4],c[5],c[6],n,r,i);if(o=p<=e/2,o)return!0;break;case"A":l.cubicParams||(l.cubicParams=fn(f[0],f[1],c[1],c[2],c[3],c[4],c[5],c[6],c[7],void 0));for(var v=l.cubicParams,g=f,y=0;y<v.length;y+=6){var m=Tr(g[0],g[1],v[y],v[y+1],v[y+2],v[y+3],v[y+4],v[y+5],n,r,i);if(g=[v[y+4],v[y+5]],o=m<=e/2,o)return!0}break}}return o}function zh(t,e,n,r,i,o){var a=t.parsedStyle,s=a.lineWidth,l=a.increasedLineWidthForHitTesting,u=a.stroke,c=a.fill,f=a.defX,h=void 0===f?0:f,d=a.defY,p=void 0===d?0:d,v=a.path,g=a.pointerEvents,y=v.segments,m=v.hasArc,b=v.polylines,x=v.polygons,w=bh(Fs(g,(null===x||void 0===x?void 0:x.length)&&c,u),2),_=w[0],O=w[1],C=oa(t),S=!1;return _||n?(S=m?r(t,e):Bh(x,e.x+h,e.y+p)||Bh(b,e.x+h,e.y+p),S):((O||n)&&(S=Fh(y,(s||0)+(l||0),e.x+h,e.y+p,C)),S)}function Wh(t,e,n){var r=t.parsedStyle,i=r.stroke,o=r.fill,a=r.lineWidth,s=r.increasedLineWidthForHitTesting,l=r.points,u=r.defX,c=void 0===u?0:u,f=r.defY,h=void 0===f?0:f,d=r.pointerEvents,p=bh(Fs(d,o,i),2),v=p[0],g=p[1],y=!1;return(g||n)&&(y=Ph(l.points,(a||0)+(s||0),e.x+c,e.y+h,!0)),y||!v&&!n||(y=Nh(l.points,e.x+c,e.y+h)),y}function Hh(t,e,n){var r=t.parsedStyle,i=r.lineWidth,o=r.increasedLineWidthForHitTesting,a=r.points,s=r.defX,l=void 0===s?0:s,u=r.defY,c=void 0===u?0:u,f=r.pointerEvents,h=r.fill,d=r.stroke,p=bh(Fs(f,h,d),2),v=p[1];return!(!v&&!n||!i)&&Ph(a.points,(i||0)+(o||0),e.x+l,e.y+c,!1)}function $h(t,e,n,r,i){var o=t.parsedStyle,a=o.radius,s=o.fill,l=o.stroke,u=o.lineWidth,c=o.increasedLineWidthForHitTesting,f=o.width,h=o.height,d=o.pointerEvents,p=bh(Fs(d,s,l),2),v=p[0],g=p[1],y=a&&a.some((function(t){return 0!==t})),m=(u||0)+(c||0);if(y){var b=!1;return(g||n)&&(b=Gh(0,0,f,h,a.map((function(t){return xe(t,0,Math.min(Math.abs(f)/2,Math.abs(h)/2))})),m,e.x,e.y)),b||!v&&!n||(b=r(t,e)),b}var x=m/2;return v&&g||n?kh(0-x,0-x,f+x,h+x,e.x,e.y):v?kh(0,0,f,h,e.x,e.y):!!g&&Th(0,0,f,h,m,e.x,e.y)}function Gh(t,e,n,r,i,o,a,s){var l=bh(i,4),u=l[0],c=l[1],f=l[2],h=l[3];return Lh(t+u,e,t+n-c,e,o,a,s)||Lh(t+n,e+c,t+n,e+r-f,o,a,s)||Lh(t+n-f,e+r,t+h,e+r,o,a,s)||Lh(t,e+r-h,t,e+u,o,a,s)||Ah(t+n-c,e+c,c,1.5*Math.PI,2*Math.PI,o,a,s)||Ah(t+n-f,e+r-f,f,0,.5*Math.PI,o,a,s)||Ah(t+h,e+r-h,h,.5*Math.PI,Math.PI,o,a,s)||Ah(t+u,e+u,u,Math.PI,1.5*Math.PI,o,a,s)}function Vh(t,e,n,r,i,o){var a=t.parsedStyle,s=a.pointerEvents,l=a.width,u=a.height;if("non-transparent-pixel"===s){var c=i.config.offscreenCanvas,f=o.offscreenCanvasCreator.getOrCreateCanvas(c),h=o.offscreenCanvasCreator.getOrCreateContext(c,{willReadFrequently:!0});f.width=l,f.height=u,i.defaultStyleRendererFactory[Dr.IMAGE].render(h,t.parsedStyle,t,void 0,void 0,void 0);var d=h.getImageData(e.x,e.y,1,1).data;return d.every((function(t){return 0!==t}))}return!0}var Uh=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="canvas-picker",e}return vh(e,t),e.prototype.init=function(){var t,e=function(){return!0},n=(t={},t[Dr.CIRCLE]=Sh,t[Dr.ELLIPSE]=Mh,t[Dr.RECT]=$h,t[Dr.LINE]=Dh,t[Dr.POLYLINE]=Hh,t[Dr.POLYGON]=Wh,t[Dr.PATH]=zh,t[Dr.TEXT]=e,t[Dr.GROUP]=null,t[Dr.IMAGE]=Vh,t[Dr.HTML]=null,t[Dr.MESH]=null,t);this.context.pointInPathPickerFactory=n,this.addRenderingPlugin(new Ch)},e.prototype.destroy=function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()},e}(Wr),Yh=function(t,e){return Yh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Yh(t,e)};function qh(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Yh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Xh=function(){return Xh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Xh.apply(this,arguments)};Object.create;function Kh(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function Zh(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Qh=function(){function t(t){this.canvasRendererPluginOptions=t,this.removedRBushNodeAABBs=[],this.renderQueue=[],this.restoreStack=[],this.clearFullScreen=!1,this.vpMatrix=H(),this.dprMatrix=H(),this.tmpMat4=H(),this.vec3a=w(),this.vec3b=w(),this.vec3c=w(),this.vec3d=w()}return t.prototype.apply=function(e,n){var r=this;this.context=e;var i=e.config,o=e.camera,a=e.renderingService,s=e.renderingContext,l=e.rBushRoot,u=e.pathGeneratorFactory;this.rBush=l,this.pathGeneratorFactory=u;var c=e.contextService,f=s.root.ownerDocument.defaultView,h=function(t){var e=t.target,n=e.rBushNode;n.aabb&&r.removedRBushNodeAABBs.push(n.aabb)},d=function(t){var e=t.target,n=e.rBushNode;n.aabb&&r.removedRBushNodeAABBs.push(n.aabb)};a.hooks.init.tap(t.tag,(function(){f.addEventListener(Pl.UNMOUNTED,h),f.addEventListener(Pl.CULLED,d);var t=c.getDPR(),e=i.width,n=i.height,o=c.getContext();r.clearRect(o,0,0,e*t,n*t,i.background)})),a.hooks.destroy.tap(t.tag,(function(){f.removeEventListener(Pl.UNMOUNTED,h),f.removeEventListener(Pl.CULLED,d)})),a.hooks.beginFrame.tap(t.tag,(function(){var t,e,n=c.getContext(),o=c.getDPR(),s=i.width,l=i.height,u=(t=r.canvasRendererPluginOptions,t.dirtyObjectNumThreshold),f=t.dirtyObjectRatioThreshold,h=(e=a.getStats(),e.total),d=e.rendered,p=d/h;r.clearFullScreen=a.disableDirtyRectangleRendering()||d>u&&p>f,n&&(n.resetTransform?n.resetTransform():n.setTransform(1,0,0,1,0,0),r.clearFullScreen&&r.clearRect(n,0,0,s*o,l*o,i.background))}));var p=function(t,e){t.isVisible()&&!t.isCulled()&&(r.renderDisplayObject(t,e,r.context,r.restoreStack,n),r.saveDirtyAABB(t));var i=t.sortable.sorted||t.childNodes;i.forEach((function(t){p(t,e)}))};a.hooks.endFrame.tap(t.tag,(function(){var t=c.getContext(),e=c.getDPR();if(at(r.dprMatrix,[e,e,1]),Q(r.vpMatrix,r.dprMatrix,o.getOrthoMatrix()),r.clearFullScreen)p(s.root,t);else{var a=r.safeMergeAABB.apply(r,Zh([r.mergeDirtyAABBs(r.renderQueue)],Kh(r.removedRBushNodeAABBs.map((function(t){var e=t.minX,n=t.minY,r=t.maxX,i=t.maxY,o=new gi;return o.setMinMax([e,n,0],[r,i,0]),o}))),!1));if(r.removedRBushNodeAABBs=[],gi.isEmpty(a))return void(r.renderQueue=[]);var l=r.convertAABB2Rect(a),u=l.x,h=l.y,d=l.width,v=l.height,g=N(r.vec3a,[u,h,0],r.vpMatrix),y=N(r.vec3b,[u+d,h,0],r.vpMatrix),m=N(r.vec3c,[u,h+v,0],r.vpMatrix),b=N(r.vec3d,[u+d,h+v,0],r.vpMatrix),x=Math.min(g[0],y[0],b[0],m[0]),w=Math.min(g[1],y[1],b[1],m[1]),_=Math.max(g[0],y[0],b[0],m[0]),O=Math.max(g[1],y[1],b[1],m[1]),C=Math.floor(x),S=Math.floor(w),E=Math.ceil(_-x),M=Math.ceil(O-w);t.save(),r.clearRect(t,C,S,E,M,i.background),t.beginPath(),t.rect(C,S,E,M),t.clip(),t.setTransform(r.vpMatrix[0],r.vpMatrix[1],r.vpMatrix[4],r.vpMatrix[5],r.vpMatrix[12],r.vpMatrix[13]);var k=i.renderer.getConfig().enableDirtyRectangleRenderingDebug;k&&f.dispatchEvent(new Sl(uu.DIRTY_RECTANGLE,{dirtyRect:{x:C,y:S,width:E,height:M}}));var T=r.searchDirtyObjects(a);T.sort((function(t,e){return t.sortable.renderOrder-e.sortable.renderOrder})).forEach((function(e){e&&e.isVisible()&&!e.isCulled()&&r.renderDisplayObject(e,t,r.context,r.restoreStack,n)})),t.restore(),r.renderQueue.forEach((function(t){r.saveDirtyAABB(t)})),r.renderQueue=[]}r.restoreStack.forEach((function(){t.restore()})),r.restoreStack=[]})),a.hooks.render.tap(t.tag,(function(t){r.clearFullScreen||r.renderQueue.push(t)}))},t.prototype.clearRect=function(t,e,n,r,i,o){t.clearRect(e,n,r,i),o&&(t.fillStyle=o,t.fillRect(e,n,r,i))},t.prototype.renderDisplayObject=function(t,e,n,r,i){var o=t.nodeName,a=r[r.length-1];!a||t.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINS||(e.restore(),r.pop());var s=this.context.styleRendererFactory[o],l=this.pathGeneratorFactory[o],u=t.parsedStyle.clipPath;if(u){this.applyWorldTransform(e,u);var c=this.pathGeneratorFactory[u.nodeName];c&&(e.save(),r.push(t),e.beginPath(),c(e,u.parsedStyle),e.closePath(),e.clip())}s&&(this.applyWorldTransform(e,t),e.save(),this.applyAttributesToContext(e,t)),l&&(e.beginPath(),l(e,t.parsedStyle),t.nodeName!==Dr.LINE&&t.nodeName!==Dr.PATH&&t.nodeName!==Dr.POLYLINE&&e.closePath()),s&&(s.render(e,t.parsedStyle,t,n,this,i),e.restore()),t.renderable.dirty=!1},t.prototype.convertAABB2Rect=function(t){var e=t.getMin(),n=t.getMax(),r=Math.floor(e[0]),i=Math.floor(e[1]),o=Math.ceil(n[0]),a=Math.ceil(n[1]),s=o-r,l=a-i;return{x:r,y:i,width:s,height:l}},t.prototype.mergeDirtyAABBs=function(t){var e=new gi;return t.forEach((function(t){var n=t.getRenderBounds();e.add(n);var r=t.renderable.dirtyRenderBounds;r&&e.add(r)})),e},t.prototype.searchDirtyObjects=function(t){var e,n,r=(e=Kh(t.getMin(),2),e[0]),i=e[1],o=(n=Kh(t.getMax(),2),n[0]),a=n[1],s=this.rBush.search({minX:r,minY:i,maxX:o,maxY:a});return s.map((function(t){var e=t.displayObject;return e}))},t.prototype.saveDirtyAABB=function(t){var e=t.renderable;e.dirtyRenderBounds||(e.dirtyRenderBounds=new gi);var n=t.getRenderBounds();n&&e.dirtyRenderBounds.update(n.center,n.halfExtents)},t.prototype.applyAttributesToContext=function(t,e){var n,r=(n=e.parsedStyle,n.stroke),i=n.fill,o=n.opacity,a=n.lineDash,s=n.lineDashOffset;a&&t.setLineDash(a),ye(s)||(t.lineDashOffset=s),ye(o)||(t.globalAlpha*=o),ye(r)||Array.isArray(r)||r.isNone||(t.strokeStyle=e.attributes.stroke),ye(i)||Array.isArray(i)||i.isNone||(t.fillStyle=e.attributes.fill)},t.prototype.applyWorldTransform=function(t,e,n){var r=0,i=0,o=(e.parsedStyle||{}).anchor,a=o&&o[0]||0,s=o&&o[1]||0;if(0!==a||0!==s){var l=e.geometry.contentBounds,u=l&&2*l.halfExtents[0]||0,c=l&&2*l.halfExtents[1]||0;r=-a*u,i=-s*c}n?(G(this.tmpMat4,e.getLocalTransform()),this.vec3a[0]=r,this.vec3a[1]=i,this.vec3a[2]=0,J(this.tmpMat4,this.tmpMat4,this.vec3a),Q(this.tmpMat4,n,this.tmpMat4),Q(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(G(this.tmpMat4,e.getWorldTransform()),this.vec3a[0]=r,this.vec3a[1]=i,this.vec3a[2]=0,J(this.tmpMat4,this.tmpMat4,this.vec3a),Q(this.tmpMat4,this.vpMatrix,this.tmpMat4)),t.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])},t.prototype.safeMergeAABB=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=new gi;return t.forEach((function(t){n.add(t)})),n},t.tag="CanvasRenderer",t}(),Jh=function(){function t(t){this.imagePool=t}return t.prototype.render=function(t,e,n,r,i,o){var a=e.fill,s=e.fillRule,l=e.opacity,u=e.fillOpacity,c=e.stroke,f=e.strokeOpacity,h=e.lineWidth,d=e.lineCap,p=e.lineJoin,v=e.shadowType,g=e.shadowColor,y=e.shadowBlur,m=e.filter,b=e.miterLimit,x=!ye(a)&&!a.isNone,w=!ye(c)&&!c.isNone&&h>0,_=0===a.alpha,O=!(!m||!m.length),C=!ye(g)&&y>0,S=n.nodeName,E="inner"===v,M=w&&C&&(S===Dr.PATH||S===Dr.LINE||S===Dr.POLYLINE||_||E);x&&(t.globalAlpha=l*u,M||td(n,t,C),this.fill(t,n,a,s,r,i,o),M||this.clearShadowAndFilter(t,O,C)),w&&(t.globalAlpha=l*f,t.lineWidth=h,ye(b)||(t.miterLimit=b),ye(d)||(t.lineCap=d),ye(p)||(t.lineJoin=p),M&&(E&&(t.globalCompositeOperation="source-atop"),td(n,t,!0),E&&(this.stroke(t,n,c,r,i,o),t.globalCompositeOperation="source-over",this.clearShadowAndFilter(t,O,!0))),this.stroke(t,n,c,r,i,o))},t.prototype.clearShadowAndFilter=function(t,e,n){if(n&&(t.shadowColor="transparent",t.shadowBlur=0),e){var r=t.filter;!ye(r)&&r.indexOf("drop-shadow")>-1&&(t.filter=r.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}},t.prototype.fill=function(t,e,n,r,i,o,a){var s=this;Array.isArray(n)?n.forEach((function(n){t.fillStyle=s.getColor(n,e,t),r?t.fill(r):t.fill()})):(Do(n)&&(t.fillStyle=this.getPattern(n,e,t,i,o,a)),r?t.fill(r):t.fill())},t.prototype.stroke=function(t,e,n,r,i,o){var a=this;Array.isArray(n)?n.forEach((function(n){t.strokeStyle=a.getColor(n,e,t),t.stroke()})):(Do(n)&&(t.strokeStyle=this.getPattern(n,e,t,r,i,o)),t.stroke())},t.prototype.getPattern=function(t,e,n,r,i,o){var a,s;if("rect"===t.image.nodeName){var l=t.image.parsedStyle,u=l.width,c=l.height;s=r.contextService.getDPR();var f=r.config.offscreenCanvas;a=o.offscreenCanvasCreator.getOrCreateCanvas(f),a.width=u*s,a.height=c*s;var h=o.offscreenCanvasCreator.getOrCreateContext(f),d=[];t.image.forEach((function(t){i.renderDisplayObject(t,h,r,d,o)})),d.forEach((function(){h.restore()}))}var p=this.imagePool.getOrCreatePatternSync(t,n,a,s,(function(){e.renderable.dirty=!0,r.renderingService.dirtify()}));return p},t.prototype.getColor=function(t,e,n){var r;if(t.type===Di.LinearGradient||t.type===Di.RadialGradient){var i=e.getGeometryBounds(),o=i&&2*i.halfExtents[0]||1,a=i&&2*i.halfExtents[1]||1;r=this.imagePool.getOrCreateGradient(Xh(Xh({type:t.type},t.value),{width:o,height:a}),n)}return r},t}();function td(t,e,n){var r=t.parsedStyle,i=r.filter,o=r.shadowColor,a=r.shadowBlur,s=r.shadowOffsetX,l=r.shadowOffsetY;i&&i.length&&(e.filter=t.style.filter),n&&(e.shadowColor=o.toString(),e.shadowBlur=a||0,e.shadowOffsetX=s||0,e.shadowOffsetY=l||0)}var ed=function(){function t(t){this.imagePool=t}return t.prototype.render=function(t,e,n){var r,i=e.width,o=e.height,a=e.img,s=e.shadowColor,l=e.shadowBlur,u=i,c=o;if(me(a)?r=this.imagePool.getImageSync(a):(u||(u=a.width),c||(c=a.height),r=a),r){var f=!ye(s)&&l>0;td(n,t,f);try{t.drawImage(r,0,0,u,c)}catch(h){}}},t}(),nd=function(){function t(){}return t.prototype.render=function(t,e,n){var r=e,i=r.lineWidth,o=r.textAlign,a=r.textBaseline,s=r.lineJoin,l=r.miterLimit,u=r.letterSpacing,c=r.stroke,f=r.fill,h=r.fillOpacity,d=r.strokeOpacity,p=r.opacity,v=r.metrics,g=r.dx,y=r.dy,m=r.shadowColor,b=r.shadowBlur,x=v.font,w=v.lines,_=v.height,O=v.lineHeight,C=v.lineMetrics;t.font=x,t.lineWidth=i,t.textAlign="middle"===o?"center":o;var S=a;Jl.enableCSSParsing||"alphabetic"!==S||(S="bottom"),t.lineJoin=s,ye(l)||(t.miterLimit=l);var E=0;"middle"===a?E=-_/2-O/2:"bottom"===a||"alphabetic"===a||"ideographic"===a?E=-_:"top"!==a&&"hanging"!==a||(E=-O);var M=g||0;E+=y||0,1===w.length&&("bottom"===S?(S="middle",E-=.5*_):"top"===S&&(S="middle",E+=.5*_)),t.textBaseline=S;var k=!ye(m)&&b>0;td(n,t,k);for(var T=0;T<w.length;T++){var A=i/2+M;E+=O,ye(c)||c.isNone||!i||this.drawLetterSpacing(t,w[T],C[T],o,A,E,u,h,d,p,!0),ye(f)||this.drawLetterSpacing(t,w[T],C[T],o,A,E,u,h,d,p)}},t.prototype.drawLetterSpacing=function(t,e,n,r,i,o,a,s,l,u,c){if(void 0===c&&(c=!1),0!==a){var f=t.textAlign;t.textAlign="left";var h=i;"center"===r||"middle"===r?h=i-n.width/2:"right"!==r&&"end"!==r||(h=i-n.width);for(var d=Array.from(e),p=t.measureText(e).width,v=0,g=0;g<d.length;++g){var y=d[g];c?this.strokeText(t,y,h,o,l):this.fillText(t,y,h,o,s,u),v=t.measureText(e.substring(g+1)).width,h+=p-v+a,p=v}t.textAlign=f}else c?this.strokeText(t,e,i,o,l):this.fillText(t,e,i,o,s,u)},t.prototype.fillText=function(t,e,n,r,i,o){var a,s=!ye(i)&&1!==i;s&&(a=t.globalAlpha,t.globalAlpha=i*o),t.fillText(e,n,r),s&&(t.globalAlpha=a)},t.prototype.strokeText=function(t,e,n,r,i){var o,a=!ye(i)&&1!==i;a&&(o=t.globalAlpha,t.globalAlpha=i),t.strokeText(e,n,r),a&&(t.globalAlpha=o)},t}(),rd=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}qh(e,t)}(Jh),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}qh(e,t)}(Jh),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}qh(e,t)}(Jh),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}qh(e,t)}(Jh),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}qh(e,t)}(Jh),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}qh(e,t)}(Jh),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}qh(e,t)}(Jh),function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;return n.options=e,n.name="canvas-renderer",n}return qh(e,t),e.prototype.init=function(){var t,e=Xh({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),n=this.context.imagePool,r=new Jh(n),i=(t={},t[Dr.CIRCLE]=r,t[Dr.ELLIPSE]=r,t[Dr.RECT]=r,t[Dr.IMAGE]=new ed(n),t[Dr.TEXT]=new nd,t[Dr.LINE]=r,t[Dr.POLYLINE]=r,t[Dr.POLYGON]=r,t[Dr.PATH]=r,t[Dr.GROUP]=void 0,t[Dr.HTML]=void 0,t[Dr.MESH]=void 0,t);this.context.defaultStyleRendererFactory=i,this.context.styleRendererFactory=i,this.addRenderingPlugin(new Qh(e))},e.prototype.destroy=function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory},e}(Wr)),id=function(t,e){return id=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},id(t,e)};function od(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}id(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var ad=function(){function t(){}return t.prototype.apply=function(e,n){var r=this,i=e.renderingService,o=e.renderingContext,a=e.config;this.context=e;var s=o.root.ownerDocument.defaultView,l=function(t){i.hooks.pointerMove.call(t)},u=function(t){i.hooks.pointerUp.call(t)},c=function(t){i.hooks.pointerDown.call(t)},f=function(t){i.hooks.pointerOver.call(t)},h=function(t){i.hooks.pointerOut.call(t)},d=function(t){i.hooks.pointerCancel.call(t)},p=function(t){i.hooks.pointerWheel.call(t)},v=function(t){i.hooks.click.call(t)},g=function(t){n.globalThis.document.addEventListener("pointermove",l,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("pointerleave",h,!0),t.addEventListener("pointerover",f,!0),n.globalThis.addEventListener("pointerup",u,!0),n.globalThis.addEventListener("pointercancel",d,!0)},y=function(t){t.addEventListener("touchstart",c,!0),t.addEventListener("touchend",u,!0),t.addEventListener("touchmove",l,!0),t.addEventListener("touchcancel",d,!0)},m=function(t){n.globalThis.document.addEventListener("mousemove",l,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("mouseout",h,!0),t.addEventListener("mouseover",f,!0),n.globalThis.addEventListener("mouseup",u,!0)},b=function(t){n.globalThis.document.removeEventListener("pointermove",l,!0),t.removeEventListener("pointerdown",c,!0),t.removeEventListener("pointerleave",h,!0),t.removeEventListener("pointerover",f,!0),n.globalThis.removeEventListener("pointerup",u,!0)},x=function(t){t.removeEventListener("touchstart",c,!0),t.removeEventListener("touchend",u,!0),t.removeEventListener("touchmove",l,!0),t.removeEventListener("touchcancel",d,!0)},w=function(t){n.globalThis.document.removeEventListener("mousemove",l,!0),t.removeEventListener("mousedown",c,!0),t.removeEventListener("mouseout",h,!0),t.removeEventListener("mouseover",f,!0),n.globalThis.removeEventListener("mouseup",u,!0)};i.hooks.init.tap(t.tag,(function(){var t=r.context.contextService.getDomElement();n.globalThis.navigator.msPointerEnabled?(t.style.msContentZooming="none",t.style.msTouchAction="none"):s.supportsPointerEvents&&(t.style.touchAction="none"),s.supportsPointerEvents?g(t):m(t),s.supportsTouchEvents&&y(t),a.useNativeClickEvent&&t.addEventListener("click",v,!0),t.addEventListener("wheel",p,{passive:!0,capture:!0})})),i.hooks.destroy.tap(t.tag,(function(){var t=r.context.contextService.getDomElement();n.globalThis.navigator.msPointerEnabled?(t.style.msContentZooming="",t.style.msTouchAction=""):s.supportsPointerEvents&&(t.style.touchAction=""),s.supportsPointerEvents?b(t):w(t),s.supportsTouchEvents&&x(t),a.useNativeClickEvent&&t.removeEventListener("click",v,!0),t.removeEventListener("wheel",p,!0)}))},t.tag="DOMInteraction",t}(),sd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="dom-interaction",e}return od(e,t),e.prototype.init=function(){this.addRenderingPlugin(new ad)},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e}(Wr),ld=function(t,e){return ld=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},ld(t,e)};function ud(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ld(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var cd="g-html-",fd="g-canvas-camera",hd=function(){function t(){}return t.prototype.joinTransformMatrix=function(t){return"matrix(".concat([t[0],t[1],t[4],t[5],t[12],t[13]].join(","),")")},t.prototype.apply=function(e){var n=this,r=e.camera,i=e.renderingContext,o=e.renderingService;this.context=e;var a=i.root.ownerDocument.defaultView,s=function(t,e){e.style.transform=n.joinTransformMatrix(t.getWorldTransform())},l=function(t){var e=t.target;if(e.nodeName===Dr.HTML){n.$camera||(n.$camera=n.createCamera(r));var i=n.getOrCreateEl(e);n.$camera.appendChild(i);var o=e.ownerDocument.documentElement.attributes;Object.keys(o).forEach((function(t){i.style[t]=o[t]})),Object.keys(e.attributes).forEach((function(t){n.updateAttribute(t,e)})),s(e,i),Jl.nativeHTMLMap.set(i,e)}},u=function(t){var e=t.target;if(e.nodeName===Dr.HTML&&n.$camera){var r=n.getOrCreateEl(e);r&&(r.remove(),Jl.nativeHTMLMap.delete(r))}},c=function(t){var e=t.target;if(e.nodeName===Dr.HTML){var r=t.attrName;n.updateAttribute(r,e)}},f=function(t){var e=t.target;if(e.nodeName===Dr.HTML){var r=n.getOrCreateEl(e);s(e,r)}},h=function(){if(n.$camera){var t=n.context.config,e=t.width,r=t.height;n.$camera.style.width="".concat(e||0,"px"),n.$camera.style.height="".concat(r||0,"px")}};o.hooks.init.tap(t.tag,(function(){a.addEventListener(uu.RESIZE,h),a.addEventListener(Pl.MOUNTED,l),a.addEventListener(Pl.UNMOUNTED,u),a.addEventListener(Pl.ATTR_MODIFIED,c),a.addEventListener(Pl.BOUNDS_CHANGED,f)})),o.hooks.endFrame.tap(t.tag,(function(){n.$camera&&i.renderReasons.has(xl.CAMERA_CHANGED)&&(n.$camera.style.transform=n.joinTransformMatrix(r.getOrthoMatrix()))})),o.hooks.destroy.tap(t.tag,(function(){n.$camera&&n.$camera.remove(),a.removeEventListener(uu.RESIZE,h),a.removeEventListener(Pl.MOUNTED,l),a.removeEventListener(Pl.UNMOUNTED,u),a.removeEventListener(Pl.ATTR_MODIFIED,c),a.removeEventListener(Pl.BOUNDS_CHANGED,f)}))},t.prototype.getId=function(t){return t.id||cd+t.entity},t.prototype.createCamera=function(t){var e,n=(e=this.context.config,e.document),r=e.width,i=e.height,o=this.context.contextService.getDomElement(),a=o.parentNode;if(a){var s=fd,l=a.querySelector("#"+s);if(!l){var u=(n||document).createElement("div");l=u,u.id=s,u.style.position="absolute",u.style.left="".concat(o.offsetLeft||0,"px"),u.style.top="".concat(o.offsetTop||0,"px"),u.style.transformOrigin="left top",u.style.transform=this.joinTransformMatrix(t.getOrthoMatrix()),u.style.overflow="hidden",u.style.pointerEvents="none",u.style.width="".concat(r||0,"px"),u.style.height="".concat(i||0,"px"),a.appendChild(u)}return l}return null},t.prototype.getOrCreateEl=function(t){var e=this.context.config.document,n=this.getId(t),r=this.$camera.querySelector("#"+n);return r||(r=(e||document).createElement("div"),t.parsedStyle.$el=r,r.id=n,t.name&&r.setAttribute("name",t.name),t.className&&(r.className=t.className),r.style.position="absolute",r.style.left="0px",r.style.top="0px",r.style["will-change"]="transform",r.style.transform=this.joinTransformMatrix(t.getWorldTransform())),r},t.prototype.updateAttribute=function(t,e){var n=this.getOrCreateEl(e);switch(t){case"innerHTML":var r=e.parsedStyle.innerHTML;me(r)?n.innerHTML=r:(n.innerHTML="",n.appendChild(r));break;case"transformOrigin":var i=e.parsedStyle.transformOrigin;n.style["transform-origin"]="".concat(i[0].value," ").concat(i[1].value);break;case"width":if(Jl.enableCSSParsing){var o=e.computedStyleMap().get("width");n.style.width=o.toString()}else{o=e.parsedStyle.width;n.style.width=pe(o)?"".concat(o,"px"):o.toString()}break;case"height":if(Jl.enableCSSParsing){var a=e.computedStyleMap().get("height");n.style.height=a.toString()}else{a=e.parsedStyle.height;n.style.height=pe(a)?"".concat(a,"px"):a.toString()}break;case"zIndex":var s=e.parsedStyle.zIndex;n.style["z-index"]="".concat(s);break;case"visibility":var l=e.parsedStyle.visibility;n.style.visibility=l;break;case"pointerEvents":var u=e.parsedStyle.pointerEvents;n.style.pointerEvents=u;break;case"opacity":var c=e.parsedStyle.opacity;n.style.opacity="".concat(c);break;case"fill":var f=e.parsedStyle.fill,h="";Fo(f)?h=f.isNone?"transparent":e.getAttribute("fill"):Array.isArray(f)?h=e.getAttribute("fill"):Do(f),n.style.background=h;break;case"stroke":var d=e.parsedStyle.stroke,p="";Fo(d)?p=d.isNone?"transparent":e.getAttribute("stroke"):Array.isArray(d)?p=e.getAttribute("stroke"):Do(d),n.style["border-color"]=p,n.style["border-style"]="solid";break;case"lineWidth":var v=e.parsedStyle.lineWidth;n.style["border-width"]="".concat(v||0,"px");break;case"lineDash":n.style["border-style"]="dashed";break;case"filter":var g=e.style.filter;n.style.filter=g;break}},t.tag="HTMLRendering",t}(),dd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="html-renderer",e}return ud(e,t),e.prototype.init=function(){this.addRenderingPlugin(new hd)},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e}(Wr),pd=function(t,e){return pd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},pd(t,e)};function vd(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}pd(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var gd=function(){function t(t){this.canvasConfig=t,this.imageCache={},this.gradientCache={},this.patternCache={}}return t.prototype.getImageSync=function(t,e){return this.imageCache[t]?e&&e():this.getOrCreateImage(t).then((function(){e&&e()})),this.imageCache[t]},t.prototype.getOrCreateImage=function(t){var e=this;if(this.imageCache[t])return Promise.resolve(this.imageCache[t]);var n=this.canvasConfig.createImage;return new Promise((function(r,i){var o;n?o=n(t):Ms&&(o=new window.Image),o&&(o.onload=function(){e.imageCache[t]=o,r(o)},o.onerror=function(t){i(t)},o.crossOrigin="Anonymous",o.src=t)}))},t.prototype.getOrCreatePatternSync=function(t,e,n,r,i){var o=this.generatePatternKey(t);if(o&&this.patternCache[o])return this.patternCache[o];var a,s=t.image,l=t.repetition,u=t.transform,c=!1;me(s)?a=this.getImageSync(s,i):n?(a=n,c=!0):a=s;var f=a&&e.createPattern(a,l);if(f){var h=void 0;h=u?ds(Na(u),new yu({})):Y(H()),c&&tt(h,h,[1/r,1/r,1]),f.setTransform({a:h[0],b:h[1],c:h[4],d:h[5],e:h[12],f:h[13]})}return o&&f&&(this.patternCache[o]=f),f},t.prototype.getOrCreateGradient=function(t,e){var n=this.generateGradientKey(t),r=t.type,i=t.steps,o=t.width,a=t.height,s=t.angle,l=t.cx,u=t.cy,c=t.size;if(this.gradientCache[n])return this.gradientCache[n];var f=null;if(r===Di.LinearGradient){var h=So(o,a,s),d=h.x1,p=h.y1,v=h.x2,g=h.y2;f=e.createLinearGradient(d,p,v,g)}else if(r===Di.RadialGradient){var y=Eo(o,a,l,u,c),m=y.x,b=y.y,x=y.r;f=e.createRadialGradient(m,b,0,m,b,x)}return f&&(i.forEach((function(t){var e=t.offset,n=t.color;e.unit===Mi.kPercentage&&(null===f||void 0===f||f.addColorStop(e.value/100,n.toString()))})),this.gradientCache[n]=f),this.gradientCache[n]},t.prototype.generateGradientKey=function(t){var e=t.type,n=t.width,r=t.height,i=t.steps,o=t.angle,a=t.cx,s=t.cy,l=t.size;return"gradient-".concat(e,"-").concat((null===o||void 0===o?void 0:o.toString())||0,"-").concat((null===a||void 0===a?void 0:a.toString())||0,"-").concat((null===s||void 0===s?void 0:s.toString())||0,"-").concat((null===l||void 0===l?void 0:l.toString())||0,"-").concat(n,"-").concat(r,"-").concat(i.map((function(t){var e=t.offset,n=t.color;return"".concat(e).concat(n)})).join("-"))},t.prototype.generatePatternKey=function(t){var e=t.image,n=t.repetition;return me(e)?"pattern-".concat(e,"-").concat(n):"rect"===e.nodeName?"pattern-".concat(e.entity,"-").concat(n):void 0},t}(),yd=function(){function t(){}return t.prototype.apply=function(e){var n=e.renderingService,r=e.renderingContext,i=e.imagePool,o=r.root.ownerDocument.defaultView,a=function(t){var e=t.target,r=e.nodeName,o=e.attributes;if(r===Dr.IMAGE){var a=o.img;me(a)&&i.getImageSync(a,(function(){e.renderable.dirty=!0,n.dirtify()}))}},s=function(t){var e=t.target,r=t.attrName,o=t.newValue;e.nodeName===Dr.IMAGE&&"img"===r&&me(o)&&i.getOrCreateImage(o).then((function(){e.renderable.dirty=!0,n.dirtify()}))};n.hooks.init.tap(t.tag,(function(){o.addEventListener(Pl.MOUNTED,a),o.addEventListener(Pl.ATTR_MODIFIED,s)})),n.hooks.destroy.tap(t.tag,(function(){o.removeEventListener(Pl.MOUNTED,a),o.removeEventListener(Pl.ATTR_MODIFIED,s)}))},t.tag="LoadImage",t}(),md=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="image-loader",e}return vd(e,t),e.prototype.init=function(){this.context.imagePool=new gd(this.context.config),this.addRenderingPlugin(new yd)},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e}(Wr),bd=function(){function t(t){this.renderingContext=t.renderingContext,this.canvasConfig=t.config}return t.prototype.init=function(){var t=this.canvasConfig,e=t.container,n=t.canvas;if(n)this.$canvas=n,e&&n.parentElement!==e&&e.appendChild(n),this.$container=n.parentElement,this.canvasConfig.container=this.$container;else if(e&&(this.$container=me(e)?document.getElementById(e):e,this.$container)){var r=document.createElement("canvas");this.$container.appendChild(r),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=r}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)},t.prototype.getContext=function(){return this.context},t.prototype.getDomElement=function(){return this.$canvas},t.prototype.getDPR=function(){return this.dpr},t.prototype.getBoundingClientRect=function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()},t.prototype.destroy=function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)},t.prototype.resize=function(t,e){var n=this.canvasConfig.devicePixelRatio,r=n||Ms&&window.devicePixelRatio||1;r=r>=1?Math.ceil(r):1,this.dpr=r,this.$canvas&&(this.$canvas.width=this.dpr*t,this.$canvas.height=this.dpr*e,Rs(this.$canvas,t,e)),this.renderingContext.renderReasons.add(xl.CAMERA_CHANGED)},t.prototype.applyCursorStyle=function(t){this.$container&&this.$container.style&&(this.$container.style.cursor=t)},t.prototype.toDataURL=function(t){return void 0===t&&(t={}),eh(this,void 0,void 0,(function(){var e,n;return nh(this,(function(r){return e=t.type,n=t.encoderOptions,[2,this.context.canvas.toDataURL(e,n)]}))}))},t}(),xd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="canvas-context-register",e}return th(e,t),e.prototype.init=function(){this.context.ContextService=bd},e.prototype.destroy=function(){delete this.context.ContextService},e}(Wr),wd=function(t){function e(e){var n=t.call(this,e)||this;return n.registerPlugin(new xd),n.registerPlugin(new md),n.registerPlugin(new dh),n.registerPlugin(new rd),n.registerPlugin(new sd),n.registerPlugin(new Uh),n.registerPlugin(new dd),n}return th(e,t),e}(Hr),_d=function(t,e){return _d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},_d(t,e)};function Od(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}_d(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Cd=function(){return Cd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Cd.apply(this,arguments)};function Sd(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function Ed(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return l([t,e])}}function l(s){if(n)throw new TypeError("Generator is already executing.");while(o&&(o=0,s[0]&&(a=0)),a)try{if(n=1,r&&(i=2&s[0]?r["return"]:s[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(l){s=[6,l],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var Md=function(){function t(t){this.dragndropPluginOptions=t}return t.prototype.apply=function(e){var n=this,r=e.renderingService,i=e.renderingContext,o=i.root.ownerDocument,a=o.defaultView,s=function(t){var e=t.target,r=e===o,i=r&&n.dragndropPluginOptions.isDocumentDraggable?o:e.closest&&e.closest("[draggable=true]");if(i){var s=!1,l=t.timeStamp,u=[t.clientX,t.clientY],c=null,f=[t.clientX,t.clientY],h=function(t){return Sd(n,void 0,void 0,(function(){var n,a,h,d,p,v;return Ed(this,(function(g){switch(g.label){case 0:if(!s){if(n=t.timeStamp-l,a=ve([t.clientX,t.clientY],u),n<=this.dragndropPluginOptions.dragstartTimeThreshold||a<=this.dragndropPluginOptions.dragstartDistanceThreshold)return[2];t.type="dragstart",i.dispatchEvent(t),s=!0}return t.type="drag",t.dx=t.clientX-f[0],t.dy=t.clientY-f[1],i.dispatchEvent(t),f=[t.clientX,t.clientY],r?[3,2]:(h="pointer"===this.dragndropPluginOptions.overlap?[t.canvasX,t.canvasY]:e.getBounds().center,[4,o.elementsFromPoint(h[0],h[1])]);case 1:d=g.sent(),p=d[d.indexOf(e)+1],v=(null===p||void 0===p?void 0:p.closest("[droppable=true]"))||(this.dragndropPluginOptions.isDocumentDroppable?o:null),c!==v&&(c&&(t.type="dragleave",t.target=c,c.dispatchEvent(t)),v&&(t.type="dragenter",t.target=v,v.dispatchEvent(t)),c=v,c&&(t.type="dragover",t.target=c,c.dispatchEvent(t))),g.label=2;case 2:return[2]}}))}))};a.addEventListener("pointermove",h);var d=function(t){if(s){t.detail={preventClick:!0};var e=t.clone();c&&(e.type="drop",e.target=c,c.dispatchEvent(e)),e.type="dragend",i.dispatchEvent(e),s=!1}a.removeEventListener("pointermove",h)};e.addEventListener("pointerup",d,{once:!0}),e.addEventListener("pointerupoutside",d,{once:!0})}};r.hooks.init.tap(t.tag,(function(){a.addEventListener("pointerdown",s)})),r.hooks.destroy.tap(t.tag,(function(){a.removeEventListener("pointerdown",s)}))},t.tag="Dragndrop",t}(),kd=function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;return n.options=e,n.name="dragndrop",n}return Od(e,t),e.prototype.init=function(){this.addRenderingPlugin(new Md(Cd({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e.prototype.setOptions=function(t){Object.assign(this.plugins[0].dragndropPluginOptions,t)},e}(Wr),Td=function(t){return"object"===typeof t&&null!==t},Ad=Td,Ld=function(t){if(!Ad(t)||!he(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;var e=t;while(null!==Object.getPrototypeOf(e))e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},Pd=Ld,Rd=5;function Id(t,e){if(Object.hasOwn)return Object.hasOwn(t,e);if(null==t)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)}function jd(t,e,n,r){for(var i in n=n||0,r=r||Rd,e)if(Id(e,i)){var o=e[i];null!==o&&Pd(o)?(Pd(t[i])||(t[i]={}),n<r?jd(t[i],o,n+1,r):t[i]=e[i]):tn(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}var Nd=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)jd(t,e[r]);return t},Bd=Nd,Dd="*",Fd=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],o=this._events[Dd]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],s=a.callback,l=a.once;l&&(r.splice(o,1),0===r.length&&delete e._events[t],i--,o--),s.apply(e,n)}};a(i),a(o)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}(),zd=Fd;const Wd=()=>[["cartesian"]];Wd.props={};const Hd=(t={})=>{const e={startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},e),t)},$d=t=>{const{startAngle:e,endAngle:n,innerRadius:r,outerRadius:i}=Hd(t);return[["translate",0,.5],["reflect.y"],["translate",0,-.5],["polar",e,n,r,i]]};$d.props={};const Gd=({startAngle:t=0,endAngle:e=6*Math.PI,innerRadius:n=0,outerRadius:r=1})=>[["translate",.5,.5],["reflect.y"],["translate",-.5,-.5],["helix",t,e,n,r]];Gd.props={};const Vd=()=>[["transpose"],["translate",.5,.5],["reflect.x"],["translate",-.5,-.5]];Vd.props={transform:!0};const Ud=(t={})=>{const e={startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},e),t)},Yd=t=>{const{startAngle:e,endAngle:n,innerRadius:r,outerRadius:i}=Ud(t);return[...Vd(),...$d({startAngle:e,endAngle:n,innerRadius:r,outerRadius:i})]};Yd.props={};const qd=(t={})=>{const e={startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},e),t)},Xd=t=>{const{startAngle:e,endAngle:n,innerRadius:r,outerRadius:i}=qd(t);return[["transpose"],["translate",.5,.5],["reflect"],["translate",-.5,-.5],...$d({startAngle:e,endAngle:n,innerRadius:r,outerRadius:i})]};Xd.props={};const Kd=()=>[["parallel",0,1,0,1]];Kd.props={};const Zd=({focusX:t=0,focusY:e=0,distortionX:n=2,distortionY:r=2,visual:i=!1})=>[["fisheye",t,e,n,r,i]];Zd.props={transform:!0};const Qd=t=>{const{startAngle:e=-Math.PI/2,endAngle:n=3*Math.PI/2,innerRadius:r=0,outerRadius:i=1}=t;return[...Kd(),...$d({startAngle:e,endAngle:n,innerRadius:r,outerRadius:i})]};Qd.props={};const Jd=({value:t})=>e=>e.map((()=>t));Jd.props={};const tp=({value:t})=>e=>e.map(t);tp.props={};const ep=({value:t})=>e=>e.map((e=>e[t]));ep.props={};const np=({value:t})=>()=>t;function rp(t){return null==t?null:ip(t)}function ip(t){if("function"!==typeof t)throw new Error;return t}function op(t){var e=0,n=t.children,r=n&&n.length;if(r)while(--r>=0)e+=n[r].value;else e=1;t.value=e}function ap(){return this.eachAfter(op)}function sp(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function lp(t,e){var n,r,i=this,o=[i],a=-1;while(i=o.pop())if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this}function up(t,e){var n,r,i,o=this,a=[o],s=[],l=-1;while(o=a.pop())if(s.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);while(o=s.pop())t.call(e,o,++l,this);return this}function cp(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function fp(t){return this.eachAfter((function(e){var n=+t(e.data)||0,r=e.children,i=r&&r.length;while(--i>=0)n+=r[i].value;e.value=n}))}function hp(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))}function dp(t){var e=this,n=pp(e,t),r=[e];while(e!==n)e=e.parent,r.push(e);var i=r.length;while(t!==n)r.splice(i,0,t),t=t.parent;return r}function pp(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();while(t===e)i=t,t=n.pop(),e=r.pop();return i}function vp(){var t=this,e=[t];while(t=t.parent)e.push(t);return e}function gp(){return Array.from(this)}function yp(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t}function mp(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e}function*bp(){var t,e,n,r,i=this,o=[i];do{t=o.reverse(),o=[];while(i=t.pop())if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n])}while(o.length)}function xp(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=Op)):void 0===e&&(e=_p);var n,r,i,o,a,s=new Ep(t),l=[s];while(n=l.pop())if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)l.push(r=i[o]=new Ep(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Sp)}function wp(){return xp(this).eachBefore(Cp)}function _p(t){return t.children}function Op(t){return Array.isArray(t)?t[1]:null}function Cp(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Sp(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Ep(t){this.data=t,this.depth=this.height=0,this.parent=null}np.props={},Ep.prototype=xp.prototype={constructor:Ep,count:ap,each:sp,eachAfter:up,eachBefore:lp,find:cp,sum:fp,sort:hp,path:dp,ancestors:vp,descendants:gp,leaves:yp,links:mp,copy:wp,[Symbol.iterator]:bp};var Mp={depth:-1},kp={},Tp={};function Ap(t){return t.id}function Lp(t){return t.parentId}function Pp(){var t,e=Ap,n=Lp;function r(r){var i,o,a,s,l,u,c,f,h=Array.from(r),d=e,p=n,v=new Map;if(null!=t){const e=h.map(((e,n)=>Rp(t(e,n,r)))),n=e.map(Ip),i=new Set(e).add("");for(const t of n)i.has(t)||(i.add(t),e.push(t),n.push(Ip(t)),h.push(Tp));d=(t,n)=>e[n],p=(t,e)=>n[e]}for(a=0,i=h.length;a<i;++a)o=h[a],u=h[a]=new Ep(o),null!=(c=d(o,a,r))&&(c+="")&&(f=u.id=c,v.set(f,v.has(f)?kp:u)),null!=(c=p(o,a,r))&&(c+="")&&(u.parent=c);for(a=0;a<i;++a)if(u=h[a],c=u.parent){if(l=v.get(c),!l)throw new Error("missing: "+c);if(l===kp)throw new Error("ambiguous: "+c);l.children?l.children.push(u):l.children=[u],u.parent=l}else{if(s)throw new Error("multiple roots");s=u}if(!s)throw new Error("no root");if(null!=t){while(s.data===Tp&&1===s.children.length)s=s.children[0],--i;for(let t=h.length-1;t>=0;--t){if(u=h[t],u.data!==Tp)break;u.data=null}}if(s.parent=Mp,s.eachBefore((function(t){t.depth=t.parent.depth+1,--i})).eachBefore(Sp),s.parent=null,i>0)throw new Error("cycle");return s}return r.id=function(t){return arguments.length?(e=rp(t),r):e},r.parentId=function(t){return arguments.length?(n=rp(t),r):n},r.path=function(e){return arguments.length?(t=rp(e),r):t},r}function Rp(t){t=`${t}`;let e=t.length;return jp(t,e-1)&&!jp(t,e-2)&&(t=t.slice(0,-1)),"/"===t[0]?t:`/${t}`}function Ip(t){let e=t.length;if(e<2)return"";while(--e>1)if(jp(t,e))break;return t.slice(0,e)}function jp(t,e){if("/"===t[e]){let n=0;while(e>0&&"\\"===t[--e])++n;if(0===(1&n))return!0}return!1}function Np(t={}){const{shapes:e}=t;return[{name:"color"},{name:"opacity"},{name:"shape",range:e},{name:"enterType"},{name:"enterDelay",scaleKey:"enter"},{name:"enterDuration",scaleKey:"enter"},{name:"enterEasing"},{name:"key",scale:"identity"},{name:"groupKey",scale:"identity"},{name:"label",scale:"identity"}]}function Bp(t={}){return[...Np(t),{name:"title",scale:"identity"}]}function Dp(){return[{type:"maybeTitle",channel:"color"},{type:"maybeTooltip",channel:["x","y"]}]}function Fp(){return[{type:"maybeTitle",channel:"x"},{type:"maybeTooltip",channel:["y"]}]}function zp(){return[{type:"maybeTitle",channel:"color"},{type:"maybeTooltip",channel:["position"]}]}function Wp(t={}){return Np(t)}function Hp(){return[{type:"maybeKey"}]}function $p(){return[]}function Gp(t,e){return t.getBandWidth(t.invert(e))}function Vp(t,e,n={}){const{x:r,y:i,series:o}=e,{x:a,y:s,series:l}=t,{style:{bandOffset:u=(l?0:.5),bandOffsetX:c=u,bandOffsetY:f=u}={}}=n,h=!!(null===a||void 0===a?void 0:a.getBandWidth),d=!!(null===s||void 0===s?void 0:s.getBandWidth),p=!!(null===l||void 0===l?void 0:l.getBandWidth);return h||d?(t,e)=>{const n=h?Gp(a,r[e]):0,u=d?Gp(s,i[e]):0,v=()=>(Gp(l,o[e])/2+ +o[e])*n,g=p&&o?v():0,[y,m]=t;return[y+c*n+g,m+f*u]}:t=>t}function Up(t){return parseFloat(t)/100}function Yp(t,e,n,r){const{x:i,y:o}=n,{innerWidth:a,innerHeight:s}=r.getOptions(),l=Array.from(t,(t=>{const e=i[t],n=o[t],r="string"===typeof e?Up(e)*a:+e,l="string"===typeof n?Up(n)*s:+n;return[[r,l]]}));return[t,l]}function qp(t){return"function"===typeof t?t:e=>e[t]}function Xp(t,e){return Array.from(t,qp(e))}function Kp(t,e){const{source:n=(t=>t.source),target:r=(t=>t.target),value:i=(t=>t.value)}=e,{links:o,nodes:a}=t,s=Xp(o,n),l=Xp(o,r),u=Xp(o,i);return{links:o.map(((t,e)=>({target:l[e],source:s[e],value:u[e]}))),nodes:a||Array.from(new Set([...s,...l]),(t=>({key:t})))}}function Zp(t,e){return Array.isArray(t)?"function"===typeof e?Pp().path(e)(t):Pp()(t):xp(t)}function Qp(t,e){return t.getBandWidth(t.invert(e))}const Jp=()=>(t,e,n,r)=>{const{x:i,y:o,y1:a,series:s,size:l}=n,u=e.x,c=e.series,[f]=r.getSize(),h=l?l.map((t=>+t/f)):null,d=l?(t,e,n)=>{const r=t+e/2,i=h[n];return[r-i/2,r+i/2]}:(t,e,n)=>[t,t+e],p=Array.from(t,(t=>{const e=Qp(u,i[t]),n=c?Qp(c,null===s||void 0===s?void 0:s[t]):1,l=e*n,f=(+(null===s||void 0===s?void 0:s[t])||0)*e,h=+i[t]+f,[p,v]=d(h,l,t),g=+o[t],y=+a[t],m=[p,g],b=[v,g],x=[v,y],w=[p,y];return[m,b,x,w].map((t=>r.map(t)))}));return[t,p]},tv=["rect","hollow","funnel","pyramid"];Jp.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:tv}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size"}],preInference:[...Hp(),{type:"maybeZeroY1"},{type:"maybeZeroX"}],postInference:[...$p(),...Fp()],interaction:{shareTooltip:!0}};const ev=()=>(t,e,n,r)=>{const{x:i,x1:o,y:a,y1:s}=n,l=Array.from(t,(t=>{const e=[+i[t],+a[t]],n=[+o[t],+a[t]],l=[+o[t],+s[t]],u=[+i[t],+s[t]];return[e,n,l,u].map((t=>r.map(t)))}));return[t,l]},nv=["rect","hollow"];ev.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:nv}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Hp(),{type:"maybeZeroY1"}],postInference:[...$p(),...Fp()],interaction:{shareTooltip:!0}};class rv extends Map{constructor(t,e=sv){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(iv(this,t))}has(t){return super.has(iv(this,t))}set(t,e){return super.set(ov(this,t),e)}delete(t){return super.delete(av(this,t))}}function iv({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ov({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function av({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function sv(t){return null!==t&&"object"===typeof t?t.valueOf():t}function lv(t){return t}function uv(t,...e){return dv(t,lv,lv,e)}function cv(t,...e){return dv(t,Array.from,lv,e)}function fv(t,e,...n){return dv(t,lv,e,n)}function hv(t,e,...n){return dv(t,Array.from,e,n)}function dv(t,e,n,r){return function t(i,o){if(o>=r.length)return n(i);const a=new rv,s=r[o++];let l=-1;for(const e of i){const t=s(e,++l,i),n=a.get(t);n?n.push(e):a.set(t,[e])}for(const[e,n]of a)a.set(e,t(n,o));return e(a)}(t,0)}function pv(t){const{transformations:e}=t.getOptions(),n=e.map((([t])=>t)).filter((t=>"transpose"===t));return n.length%2!==0}function vv(t){const{transformations:e}=t.getOptions();return e.some((([t])=>"polar"===t))}function gv(t){const{transformations:e}=t.getOptions();return e.some((([t])=>"reflect"===t))&&e.some((([t])=>t.startsWith("transpose")))}function yv(t){const{transformations:e}=t.getOptions();return e.some((([t])=>"helix"===t))}function mv(t){const{transformations:e}=t.getOptions();return e.some((([t])=>"parallel"===t))}function bv(t){const{transformations:e}=t.getOptions();return e.some((([t])=>"fisheye"===t))}function xv(t){return mv(t)&&vv(t)}function wv(t){return yv(t)||vv(t)}function _v(t){return vv(t)&&pv(t)}function Ov(t){if(wv(t)){const[e,n]=t.getSize(),r=t.getOptions().transformations.find((t=>"polar"===t[0]));if(r)return Math.max(e,n)/2*r[4]}return 0}function Cv(t){const{transformations:e}=t.getOptions(),[,,,n,r]=e.find((t=>"polar"===t[0]));return[+n,+r]}function Sv(t,e=!0){const{transformations:n}=t.getOptions(),[,r,i]=n.find((t=>"polar"===t[0]));return e?[180*+r/Math.PI,180*+i/Math.PI]:[r,i]}function Ev(t,e){const{transformations:n}=t.getOptions(),[,...r]=n.find((t=>t[0]===e));return r}const Mv=(t,e,n,r)=>{var i,o;const{series:a,x:s,y:l}=n,{x:u,y:c}=e;if(void 0===s||void 0===l)throw new Error("Missing encode for x or y channel.");const f=a?Array.from(uv(t,(t=>a[t])).values()):[t],h=f.map((t=>t[0])).filter((t=>void 0!==t)),d=((null===(i=null===u||void 0===u?void 0:u.getBandWidth)||void 0===i?void 0:i.call(u))||0)/2,p=((null===(o=null===c||void 0===c?void 0:c.getBandWidth)||void 0===o?void 0:o.call(c))||0)/2,v=Array.from(f,(t=>t.map((t=>r.map([+s[t]+d,+l[t]+p])))));return[h,v,f]},kv=(t,e,n,r)=>{const i=Object.entries(n).filter((([t])=>t.startsWith("position"))).map((([,t])=>t));if(0===i.length)throw new Error("Missing encode for position channel.");const o=Array.from(t,(t=>{const e=i.map((e=>+e[t])),n=r.map(e),o=[];for(let r=0;r<n.length;r+=2)o.push([n[r],n[r+1]]);return o}));return[t,o]},Tv=()=>(t,e,n,r)=>{const i=mv(r)?kv:Mv;return i(t,e,n,r)},Av=["line","smooth"];Tv.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:Av}),{name:"x"},{name:"y"},{name:"position",independent:!0},{name:"size"},{name:"series",scale:"identity"}],preInference:[...Hp(),{type:"maybeGradient"},{type:"maybeSeries"}],postInference:[...$p(),...Fp(),...zp()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const Lv=t=>(e,n,r,i)=>{const{x:o,y:a,x1:s,y1:l,size:u,dx:c,dy:f}=r,[h,d]=i.getSize(),p=Vp(n,r,t),v=t=>{const e=+((null===c||void 0===c?void 0:c[t])||0),n=+((null===f||void 0===f?void 0:f[t])||0),r=s?(+o[t]+ +s[t])/2:+o[t],i=l?(+a[t]+ +l[t])/2:+a[t],u=r+e,h=i+n;return[u,h]},g=u?Array.from(e,(t=>{const[e,n]=v(t),r=+u[t],o=r/h,a=r/d,s=[e-o,n-a],l=[e+o,n+a];return[i.map(p(s,t)),i.map(p(l,t))]})):Array.from(e,(t=>[i.map(p(v(t),t))]));return[e,g]},Pv=["hollow","hollowDiamond","hollowHexagon","hollowSquare","hollowTriangleDown","hollowTriangle","hollowBowtie","point","plus","diamond","square","triangle","hexagon","cross","bowtie","hyphen","line","tick","triangleDown"];Lv.props={defaultShape:"hollow",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:Pv}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",scale:"sqrt"},{name:"dx",scale:"identity"},{name:"dy",scale:"identity"}],preInference:[...Hp(),{type:"maybeZeroY"},{type:"maybeZeroX"}],postInference:[...$p(),{type:"maybeSize"},...Dp()]};const Rv=t=>{const{cartesian:e=!1}=t;return e?Yp:(e,n,r,i)=>{const{x:o,y:a}=r,s=Vp(n,r,t),l=Array.from(e,(t=>{const e=[+o[t],+a[t]];return[i.map(s(e,t))]}));return[e,l]}},Iv=["text","badge"];Rv.props={defaultShape:"text",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:Iv}),{name:"x",required:!0},{name:"y",required:!0},{name:"text",scale:"identity"},{name:"fontSize"},{name:"rotate"}],preInference:[...Hp(),{type:"maybeTuple"},{type:"maybeVisualPosition"}],postInference:[...$p(),...Dp()]};const jv=()=>(t,e,n,r)=>{const{x:i,y:o}=n,a=e.x,s=e.y,l=Array.from(t,(t=>{const e=a.getBandWidth(a.invert(+i[t])),n=s.getBandWidth(s.invert(+o[t])),l=+i[t],u=+o[t],c=[l,u],f=[l+e,u],h=[l+e,u+n],d=[l,u+n];return[c,f,h,d].map((t=>r.map(t)))}));return[t,l]},Nv=["cell","hollow"];jv.props={defaultShape:"cell",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:Nv}),{name:"x",required:!0,scale:"band"},{name:"y",required:!0,scale:"band"}],preInference:[...Hp(),{type:"maybeZeroX"},{type:"maybeZeroY"},{type:"maybeZeroPadding"}],postInference:[...$p(),...Dp()]};const Bv=()=>(t,e,n,r)=>{var i,o;const{x:a,y:s,y1:l,series:u}=n,{x:c,y:f}=e,h=u?Array.from(uv(t,(t=>u[t])).values()):[t],d=h.map((t=>t[0])).filter((t=>void 0!==t)),p=((null===(i=null===c||void 0===c?void 0:c.getBandWidth)||void 0===i?void 0:i.call(c))||0)/2,v=((null===(o=null===f||void 0===f?void 0:f.getBandWidth)||void 0===o?void 0:o.call(f))||0)/2,g=Array.from(h,(t=>{const e=t.length,n=new Array(2*e);for(let i=0;i<t.length;i++){const o=t[i];n[i]=r.map([+a[o]+p,+s[o]+v]),n[e+i]=r.map([+a[o]+p,+l[o]+v])}return n}));return[d,g,h]},Dv=["area","smooth","hvh","hv","vh"];Bv.props={defaultShape:"area",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:Dv}),{name:"x",required:!0},{name:"y",required:!0},{name:"size"},{name:"series",scale:"identity"}],preInference:[...Hp(),{type:"maybeSeries"},{type:"maybeZeroY1"},{type:"maybeZeroPadding"}],postInference:[...$p(),...Fp()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const Fv=t=>(e,n,r,i)=>{const{x:o,y:a,x1:s=o,y1:l=a}=r,u=Vp(n,r,t),c=e.map((t=>[i.map(u([+o[t],+a[t]],t)),i.map(u([+s[t],+l[t]],t))]));return[e,c]},zv=["link","arc","vhv","smooth"];Fv.props={defaultShape:"link",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:zv}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Hp(),{type:"maybeIdentityY"},{type:"maybeIdentityX"}],postInference:[...$p(),...Dp()]};const Wv=t=>{const{cartesian:e}=t;return e?Yp:(e,n,r,i)=>{const{x:o,y:a}=r,s=Vp(n,r,t),l=Array.from(e,(t=>{const e=[+o[t],+a[t]];return[i.map(s(e,t))]}));return[e,l]}},Hv=["image"];Wv.props={defaultShape:"image",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:Hv}),{name:"x",required:!0},{name:"y",required:!0},{name:"src",scale:"identity"},{name:"size"}],preInference:[...Hp(),{type:"maybeTuple"},{type:"maybeVisualPosition"}],postInference:[...$p(),...Dp()]};const $v=()=>(t,e,n,r)=>{const i=Object.entries(n).filter((([t])=>t.startsWith("x"))).map((([,t])=>t)),o=Object.entries(n).filter((([t])=>t.startsWith("y"))).map((([,t])=>t)),a=t.map((t=>{const e=[];for(let n=0;n<i.length;n++){const a=i[n][t];if(void 0===a)break;const s=o[n][t];e.push(r.map([+a,+s]))}return e}));return[t,a]},Gv=["polygon","ribbon"];$v.props={defaultShape:"polygon",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:Gv}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Hp()],postInference:[...$p(),...Dp()]};const Vv=()=>(t,e,n,r)=>{const{x:i,y:o,y1:a,y2:s,y3:l,y4:u,series:c}=n,f=e.x,h=e.series,d=Array.from(t,(t=>{const e=f.getBandWidth(f.invert(+i[t])),n=h?h.getBandWidth(h.invert(+(null===c||void 0===c?void 0:c[t]))):1,d=e*n,p=(+(null===c||void 0===c?void 0:c[t])||0)*e,v=+i[t]+p+d/2,[g,y,m,b,x]=[+o[t],+a[t],+s[t],+l[t],+u[t]],w=[[v-d/2,x],[v+d/2,x],[v,x],[v,b],[v-d/2,b],[v+d/2,b],[v+d/2,y],[v-d/2,y],[v-d/2,m],[v+d/2,m],[v,y],[v,g],[v-d/2,g],[v+d/2,g]];return w.map((t=>r.map(t)))}));return[t,d]};Vv.props={defaultShape:"box",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:["box"]}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"}],preInference:[...Hp(),{type:"maybeZeroX"}],postInference:[...$p(),...Fp()],interaction:{shareTooltip:!0}};const Uv=()=>(t,e,n,r)=>{const{x:i,y:o,size:a,rotate:s}=n,[l,u]=r.getSize(),c=t.map((t=>{const e=+s[t]/180*Math.PI,n=+a[t],c=n/l,f=n/u,h=c*Math.cos(e),d=-f*Math.sin(e);return[r.map([+i[t]-h/2,+o[t]-d/2]),r.map([+i[t]+h/2,+o[t]+d/2])]}));return[t,c]},Yv=["vector"];Uv.props={defaultShape:"vector",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:Yv}),{name:"x",required:!0},{name:"y",required:!0},{name:"rotate",required:!0,scale:"identity"},{name:"size",required:!0}],preInference:[...Hp()],postInference:[...$p(),...Dp()]};const qv=()=>(t,e,n,r)=>{const{y:i}=n,o=Array.from(t,(t=>{const e=[0,i[t]],n=[1,i[t]];return[e,n].map((t=>r.map(t)))}));return[t,o]},Xv=["line"];qv.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,channels:[...Wp({shapes:Xv}),{name:"y",required:!0}],preInference:[...Hp(),{type:"maybeTupleY"}],postInference:[...$p()]};const Kv=()=>(t,e,n,r)=>{const{x:i}=n,o=Array.from(t,(t=>{const e=[i[t],1],n=[i[t],0];return[e,n].map((t=>r.map(t)))}));return[t,o]},Zv=["line"];Kv.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,channels:[...Wp({shapes:Zv}),{name:"x",required:!0}],preInference:[...Hp(),{type:"maybeTupleX"}],postInference:[...$p()]};const Qv=(...t)=>Fv(...t),Jv=["connector"];function tg(t,e,n,r){if(e)return()=>[0,1];const{[t]:i,[`${t}1`]:o}=n;return t=>{var e;const n=(null===(e=r.getBandWidth)||void 0===e?void 0:e.call(r,r.invert(+o[t])))||0;return[i[t],o[t]+n]}}function eg(t={}){const{extendX:e=!1,extendY:n=!1}=t;return(t,r,i,o)=>{const a=tg("x",e,i,r.x),s=tg("y",n,i,r.y),l=Array.from(t,(t=>{const[e,n]=a(t),[r,i]=s(t),l=[e,r],u=[n,r],c=[n,i],f=[e,i];return[l,u,c,f].map((t=>o.map(t)))}));return[t,l]}}Qv.props={defaultShape:"connector",defaultLabelShape:"label",composite:!1,channels:[...Wp({shapes:Jv}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Hp()],postInference:[...$p()]};const ng=()=>eg(),rg=["range"];ng.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,channels:[...Wp({shapes:rg}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Hp()],postInference:[...$p()]};const ig=()=>eg({extendY:!0}),og=["range"];ig.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,channels:[...Wp({shapes:og}),{name:"x",required:!0}],preInference:[...Hp()],postInference:[...$p()]};const ag=()=>eg({extendX:!0}),sg=["range"];function lg(t,e){let n=0;if(void 0===e)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function ug(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function cg(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function fg(t){return t.target.depth}function hg(t){return t.depth}function dg(t,e){return e-1-t.height}function pg(t,e){return t.sourceLinks.length?t.depth:e-1}function vg(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?cg(t.sourceLinks,fg)-1:0}function gg(t){return function(){return t}}function yg(t,e){return bg(t.source,e.source)||t.index-e.index}function mg(t,e){return bg(t.target,e.target)||t.index-e.index}function bg(t,e){return t.y0-e.y0}function xg(t){return t.value}function wg(t){return t.index}function _g(t){return t.nodes}function Og(t){return t.links}function Cg(t,e){const n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Sg({nodes:t}){for(const e of t){let t=e.y0,n=t;for(const r of e.sourceLinks)r.y0=t+r.width/2,t+=r.width;for(const r of e.targetLinks)r.y1=n+r.width/2,n+=r.width}}function Eg(){let t,e,n,r,i=0,o=0,a=1,s=1,l=24,u=8,c=wg,f=pg,h=_g,d=Og,p=6;function v(t){const e={nodes:h(t),links:d(t)};return g(e),y(e),m(e),b(e),_(e),Sg(e),e}function g({nodes:t,links:e}){t.forEach(((t,e)=>{t.index=e,t.sourceLinks=[],t.targetLinks=[]}));const n=new Map(t.map((t=>[c(t),t])));if(e.forEach(((t,e)=>{t.index=e;let{source:r,target:i}=t;"object"!==typeof r&&(r=t.source=Cg(n,r)),"object"!==typeof i&&(i=t.target=Cg(n,i)),r.sourceLinks.push(t),i.targetLinks.push(t)})),null!=r)for(const{sourceLinks:i,targetLinks:o}of t)i.sort(r),o.sort(r)}function y({nodes:t}){for(const e of t)e.value=void 0===e.fixedValue?Math.max(lg(e.sourceLinks,xg),lg(e.targetLinks,xg)):e.fixedValue}function m({nodes:t}){const n=t.length;let r=new Set(t),i=new Set,o=0;while(r.size){if(r.forEach((t=>{t.depth=o;for(const{target:e}of t.sourceLinks)i.add(e)})),++o>n)throw new Error("circular link");r=i,i=new Set}if(e){const n=Math.max(ug(t,(t=>t.depth))+1,0);let r;for(let i=0;i<t.length;i++)r=t[i],r.depth=e.call(null,r,n)}}function b({nodes:t}){const e=t.length;let n=new Set(t),r=new Set,i=0;while(n.size){if(n.forEach((t=>{t.height=i;for(const{source:e}of t.targetLinks)r.add(e)})),++i>e)throw new Error("circular link");n=r,r=new Set}}function x({nodes:t}){const e=Math.max(ug(t,(t=>t.depth))+1,0),r=(a-i-l)/(e-1),o=new Array(e).fill(0).map((()=>[]));for(const n of t){const t=Math.max(0,Math.min(e-1,Math.floor(f.call(null,n,e))));n.layer=t,n.x0=i+t*r,n.x1=n.x0+l,o[t]?o[t].push(n):o[t]=[n]}if(n)for(const i of o)i.sort(n);return o}function w(e){const n=cg(e,(e=>(s-o-(e.length-1)*t)/lg(e,xg)));for(const r of e){let e=o;for(const i of r){i.y0=e,i.y1=e+i.value*n,e=i.y1+t;for(const t of i.sourceLinks)t.width=t.value*n}e=(s-e+t)/(r.length+1);for(let t=0;t<r.length;++t){const n=r[t];n.y0+=e*(t+1),n.y1+=e*(t+1)}T(r)}}function _(e){const n=x(e);t=Math.min(u,(s-o)/(ug(n,(t=>t.length))-1)),w(n);for(let t=0;t<p;++t){const e=Math.pow(.99,t),r=Math.max(1-e,(t+1)/p);C(n,e,r),O(n,e,r)}}function O(t,e,r){for(let i=1,o=t.length;i<o;++i){const o=t[i];for(const t of o){let n=0,r=0;for(const{source:e,value:o}of t.targetLinks){const i=o*(t.layer-e.layer);n+=A(e,t)*i,r+=i}if(!(r>0))continue;const i=(n/r-t.y0)*e;t.y0+=i,t.y1+=i,k(t)}void 0===n&&o.sort(bg),o.length&&S(o,r)}}function C(t,e,r){for(let i=t.length,o=i-2;o>=0;--o){const i=t[o];for(const t of i){let n=0,r=0;for(const{target:e,value:o}of t.sourceLinks){const i=o*(e.layer-t.layer);n+=L(t,e)*i,r+=i}if(!(r>0))continue;const i=(n/r-t.y0)*e;t.y0+=i,t.y1+=i,k(t)}void 0===n&&i.sort(bg),i.length&&S(i,r)}}function S(e,n){const r=e.length>>1,i=e[r];M(e,i.y0-t,r-1,n),E(e,i.y1+t,r+1,n),M(e,s,e.length-1,n),E(e,o,0,n)}function E(e,n,r,i){for(;r<e.length;++r){const o=e[r],a=(n-o.y0)*i;a>1e-6&&(o.y0+=a,o.y1+=a),n=o.y1+t}}function M(e,n,r,i){for(;r>=0;--r){const o=e[r],a=(o.y1-n)*i;a>1e-6&&(o.y0-=a,o.y1-=a),n=o.y0-t}}function k({sourceLinks:t,targetLinks:e}){if(void 0===r){for(const{source:{sourceLinks:t}}of e)t.sort(mg);for(const{target:{targetLinks:e}}of t)e.sort(yg)}}function T(t){if(void 0===r)for(const{sourceLinks:e,targetLinks:n}of t)e.sort(mg),n.sort(yg)}function A(e,n){let r=e.y0-(e.sourceLinks.length-1)*t/2;for(const{target:i,width:o}of e.sourceLinks){if(i===n)break;r+=o+t}for(const{source:t,width:i}of n.targetLinks){if(t===e)break;r-=i}return r}function L(e,n){let r=n.y0-(n.targetLinks.length-1)*t/2;for(const{source:i,width:o}of n.targetLinks){if(i===e)break;r+=o+t}for(const{target:t,width:i}of e.sourceLinks){if(t===n)break;r-=i}return r}return v.update=function(t){return Sg(t),t},v.nodeId=function(t){return arguments.length?(c="function"===typeof t?t:gg(t),v):c},v.nodeAlign=function(t){return arguments.length?(f="function"===typeof t?t:gg(t),v):f},v.nodeDepth=function(t){return arguments.length?(e=t,v):e},v.nodeSort=function(t){return arguments.length?(n=t,v):n},v.nodeWidth=function(t){return arguments.length?(l=+t,v):l},v.nodePadding=function(e){return arguments.length?(u=t=+e,v):u},v.nodes=function(t){return arguments.length?(h="function"===typeof t?t:gg(t),v):h},v.links=function(t){return arguments.length?(d="function"===typeof t?t:gg(t),v):d},v.linkSort=function(t){return arguments.length?(r=t,v):r},v.size=function(t){return arguments.length?(i=o=0,a=+t[0],s=+t[1],v):[a-i,s-o]},v.extent=function(t){return arguments.length?(i=+t[0][0],a=+t[1][0],o=+t[0][1],s=+t[1][1],v):[[i,o],[a,s]]},v.iterations=function(t){return arguments.length?(p=+t,v):p},v}ag.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,channels:[...Wp({shapes:sg}),{name:"y",required:!0}],preInference:[...Hp()],postInference:[...$p()]};const Mg={nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodes:t=>t.nodes,links:t=>t.links,nodeSort:void 0,linkSort:void 0,iterations:6},kg={left:hg,right:dg,center:vg,justify:pg};function Tg(t){const e=typeof t;return"string"===e?kg[t]||pg:"function"===e?t:pg}const Ag=t=>e=>{const{nodeId:n,nodeSort:r,nodeAlign:i,nodeWidth:o,nodePadding:a,nodeDepth:s,nodes:l,links:u,linkSort:c,iterations:f}=Object.assign({},Mg,t),h=Eg().nodeSort(r).linkSort(c).links(u).nodes(l).nodeWidth(o).nodePadding(a).nodeDepth(s).nodeAlign(Tg(i)).iterations(f).extent([[0,0],[1,1]]);"function"===typeof n&&h.nodeId(n);const d=h(e),{nodes:p,links:v}=d,g=p.map((t=>{const{x0:e,x1:n,y0:r,y1:i}=t;return Object.assign(Object.assign({},t),{x:[e,n,n,e],y:[r,r,i,i]})})),y=v.map((t=>{const{source:e,target:n}=t,r=e.x1,i=n.x0,o=t.width/2;return Object.assign(Object.assign({},t),{x:[r,r,i,i],y:[t.y0+o,t.y0-o,t.y1+o,t.y1-o]})}));return{nodes:g,links:y}};Ag.props={};var Lg=function(t){return ye(t)?"":t.toString()},Pg=function(t){var e=Lg(t);return e.charAt(0).toLowerCase()+e.substring(1)},Rg=Pg,Ig=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))};function jg(t){return t}function Ng(t){return t.reduce(((t,e)=>(n,...r)=>e(t(n,...r),...r)),jg)}function Bg(t){return t.reduce(((t,e)=>n=>Ig(this,void 0,void 0,(function*(){const r=yield t(n);return e(r)}))),jg)}function Dg(t){return t.replace(/( |^)[a-z]/g,(t=>t.toUpperCase()))}function Fg(t=""){throw new Error(t)}function zg(t,e){const{attributes:n}=e,r=new Set(["id","className"]);for(const[i,o]of Object.entries(n))r.has(i)||t.attr(i,o)}function Wg(t){return void 0!==t&&null!==t&&!Number.isNaN(t)}function Hg(t){const e=new Map;return n=>{if(e.has(n))return e.get(n);const r=t(n);return e.set(n,r),r}}function $g(t,e){const{transform:n}=t.style,r=t=>"none"===t||void 0===t,i=r(n)?"":n;t.style.transform=`${i} ${e}`.trimStart()}function Gg(t,e){return Vg(t,e)||{}}function Vg(t,e){const n=Object.entries(t||{}).filter((([t])=>t.startsWith(e))).map((([t,n])=>[Rg(t.replace(e,"").trim()),n])).filter((([t])=>!!t));return 0===n.length?null:Object.fromEntries(n)}function Ug(t,e){return Object.fromEntries(Object.entries(t).filter((([t])=>e.find((e=>t.startsWith(e))))))}function Yg(t,...e){return Object.fromEntries(Object.entries(t).filter((([t])=>e.every((e=>!t.startsWith(e))))))}function qg(t,e){if(void 0===t)return null;if("number"===typeof t)return t;const n=+t.replace("%","");return Number.isNaN(n)?null:n/100*e}function Xg(t){return"object"===typeof t&&!(t instanceof Date)&&null!==t&&!Array.isArray(t)}function Kg(t){return null===t||!1===t}function Zg(t,e,n=5,r=0){if(!(r>=n)){for(const i of Object.keys(e)){const o=e[i];Pd(o)&&Pd(t[i])?Zg(t[i],o,n,r+1):t[i]=o}return t}}function Qg(t,e,n={},r=!1){if(Kg(t))return t;if(Array.isArray(t)&&r)return t;const i=Gg(t,e);return Bd(n,i)}function Jg(t,e={}){return Kg(t)||Array.isArray(t)?t:ty(t)?Bd(e,t):t}function ty(t){if(0===Object.keys(t).length)return!0;const{title:e,items:n}=t;return void 0!==e||void 0!==n}function ey(t,e){return"object"===typeof t?Gg(t,e):t}var ny=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const ry={nodeId:t=>t.key,nodeWidth:.02,nodePadding:.02},iy={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{stroke:"#000"}},oy={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{fillOpacity:.5,stroke:void 0}},ay={textAlign:t=>t.x[0]<.5?"start":"end",position:t=>t.x[0]<.5?"right":"left",fontSize:10},sy=t=>{const{data:e,encode:n={},scale:r,style:i={},layout:o={},nodeLabels:a=[],linkLabels:s=[],animate:l={},tooltip:u={}}=t,{links:c,nodes:f}=Kp(e,n),h=Gg(n,"node"),d=Gg(n,"link"),{key:p=(t=>t.key),color:v=p}=h,{links:g,nodes:y}=Ag(Object.assign(Object.assign(Object.assign({},ry),{nodeId:qp(p)}),o))({links:c,nodes:f}),m=Gg(i,"label"),{text:b=p,spacing:x=5}=m,w=ny(m,["text","spacing"]),_=qp(p),O=Qg(u,"node",{title:_,items:[{field:"value"}]},!0),C=Qg(u,"link",{title:"",items:[t=>({name:"source",value:_(t.source)}),t=>({name:"target",value:_(t.target)})]});return[Bd({},iy,{data:y,encode:Object.assign(Object.assign({},h),{color:v}),scale:r,style:Gg(i,"node"),labels:[Object.assign(Object.assign(Object.assign({},ay),{text:b,dx:t=>t.x[0]<.5?x:-x}),w),...a],tooltip:O,animate:ey(l,"node"),axis:!1}),Bd({},oy,{data:g,encode:d,labels:s,style:Object.assign({fill:d.color?void 0:"#aaa",strokeWidth:0},Gg(i,"link")),tooltip:C,animate:ey(l,"link")})]};sy.props={};const ly=t=>(t,e,n,r)=>[t,t.map((()=>[[0,0]]))],uy=["path","hollow"];function cy(t,e,n,r,i){var o,a,s=t.children,l=s.length,u=new Array(l+1);for(u[0]=a=o=0;o<l;++o)u[o+1]=a+=s[o].value;function c(t,e,n,r,i,o,a){if(t>=e-1){var l=s[t];return l.x0=r,l.y0=i,l.x1=o,void(l.y1=a)}var f=u[t],h=n/2+f,d=t+1,p=e-1;while(d<p){var v=d+p>>>1;u[v]<h?d=v+1:p=v}h-u[d-1]<u[d]-h&&t+1<d&&--d;var g=u[d]-f,y=n-g;if(o-r>a-i){var m=n?(r*y+o*g)/n:o;c(t,d,g,r,i,m,a),c(d,e,y,m,i,o,a)}else{var b=n?(i*y+a*g)/n:a;c(t,d,g,r,i,o,b),c(d,e,y,r,b,o,a)}}c(0,l,t.value,e,n,r,i)}function fy(t,e,n,r,i){var o,a=t.children,s=-1,l=a.length,u=t.value&&(r-e)/t.value;while(++s<l)o=a[s],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*u}function hy(t,e,n,r,i){var o,a=t.children,s=-1,l=a.length,u=t.value&&(i-n)/t.value;while(++s<l)o=a[s],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*u}function dy(t,e,n,r,i){(1&t.depth?hy:fy)(t,e,n,r,i)}ly.props={defaultShape:"path",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:uy}),{name:"d",scale:"identity"}],preInference:[...Hp()],postInference:[...$p()]};var py=(1+Math.sqrt(5))/2;function vy(t,e,n,r,i,o){var a,s,l,u,c,f,h,d,p,v,g,y=[],m=e.children,b=0,x=0,w=m.length,_=e.value;while(b<w){l=i-n,u=o-r;do{c=m[x++].value}while(!c&&x<w);for(f=h=c,v=Math.max(u/l,l/u)/(_*t),g=c*c*v,p=Math.max(h/g,g/f);x<w;++x){if(c+=s=m[x].value,s<f&&(f=s),s>h&&(h=s),g=c*c*v,d=Math.max(h/g,g/f),d>p){c-=s;break}p=d}y.push(a={value:c,dice:l<u,children:m.slice(b,x)}),a.dice?fy(a,n,r,i,_?r+=u*c/_:o):hy(a,n,r,_?n+=l*c/_:i,o),_-=c,b=x}return y}var gy=function t(e){function n(t,n,r,i,o){vy(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(py),yy=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e){var a,s,l,u,c,f=-1,h=a.length,d=t.value;while(++f<h){for(s=a[f],l=s.children,u=s.value=0,c=l.length;u<c;++u)s.value+=l[u].value;s.dice?fy(s,n,r,i,d?r+=(o-r)*s.value/d:o):hy(s,n,r,d?n+=(i-n)*s.value/d:i,o),d-=s.value}}else t._squarify=a=vy(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(py);function my(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function by(){return 0}function xy(t){return function(){return t}}function wy(){var t=gy,e=!1,n=1,r=1,i=[0],o=by,a=by,s=by,l=by,u=by;function c(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(f),i=[0],e&&t.eachBefore(my),t}function f(e){var n=i[e.depth],r=e.x0+n,c=e.y0+n,f=e.x1-n,h=e.y1-n;f<r&&(r=f=(r+f)/2),h<c&&(c=h=(c+h)/2),e.x0=r,e.y0=c,e.x1=f,e.y1=h,e.children&&(n=i[e.depth+1]=o(e)/2,r+=u(e)-n,c+=a(e)-n,f-=s(e)-n,h-=l(e)-n,f<r&&(r=f=(r+f)/2),h<c&&(c=h=(c+h)/2),t(e,r,c,f,h))}return c.round=function(t){return arguments.length?(e=!!t,c):e},c.size=function(t){return arguments.length?(n=+t[0],r=+t[1],c):[n,r]},c.tile=function(e){return arguments.length?(t=ip(e),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(o="function"===typeof t?t:xy(+t),c):o},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(a="function"===typeof t?t:xy(+t),c):a},c.paddingRight=function(t){return arguments.length?(s="function"===typeof t?t:xy(+t),c):s},c.paddingBottom=function(t){return arguments.length?(l="function"===typeof t?t:xy(+t),c):l},c.paddingLeft=function(t){return arguments.length?(u="function"===typeof t?t:xy(+t),c):u},c}var _y=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Oy(t,e){const n={treemapBinary:cy,treemapDice:fy,treemapSlice:hy,treemapSliceDice:dy,treemapSquarify:gy,treemapResquarify:yy},r="treemapSquarify"===t?n[t].ratio(e):n[t];if(!r)throw new TypeError("Invalid tile method!");return r}function Cy(t,e,n){const{value:r}=n,i=Oy(e.tile,e.ratio),o=Zp(t,e.path);return r?o.sum((t=>e.ignoreParentValue&&t.children?0:qp(r)(t))).sort(e.sort):o.count(),wy().tile(i).size(e.size).round(e.round).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(o),o.descendants().map((t=>Object.assign(t,{x:[t.x0,t.x1],y:[t.y0,t.y1]}))).filter("function"===typeof e.layer?e.layer:t=>t.height===e.layer)}const Sy=(t,e)=>({tile:"treemapSquarify",ratio:.5*(1+Math.sqrt(5)),size:[t,e],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,sort:(t,e)=>e.value-t.value,layer:0}),Ey=(t,e)=>({type:"rect",axis:!1,encode:{x:"x",y:"y",color:t=>t.data.parent.name},scale:{x:{domain:[0,t],range:[0,1]},y:{domain:[0,e],range:[0,1]}},style:{stroke:"#fff"}}),My={fontSize:10,text:t=>t.data.name,position:"inside",fill:"#000",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:t=>t.x1-t.x0},ky={title:t=>t.data.name,items:[{field:"value"}]},Ty=(t,e)=>{const{width:n,height:r}=e,{data:i,encode:o={},scale:a,style:s={},layout:l={},labels:u=[],tooltip:c={}}=t,f=_y(t,["data","encode","scale","style","layout","labels","tooltip"]),h=Cy(i,Bd({},Sy(n,r),l),o),d=Gg(s,"label");return Bd({},Ey(n,r),Object.assign(Object.assign({data:h,encode:o,scale:a,style:s,labels:[Object.assign(Object.assign({},My),d),...u]},f),{tooltip:Jg(c,ky),axis:!1}))};Ty.props={};const Ay=1664525,Ly=1013904223,Py=4294967296;function Ry(){let t=1;return()=>(t=(Ay*t+Ly)%Py)/Py}function Iy(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function jy(t,e){let n,r,i=t.length;while(i)r=e()*i--|0,n=t[i],t[i]=t[r],t[r]=n;return t}function Ny(t,e){var n,r,i=0,o=(t=jy(Array.from(t),e)).length,a=[];while(i<o)n=t[i],r&&Fy(r,n)?++i:(r=Wy(a=By(a,n)),i=0);return r}function By(t,e){var n,r;if(zy(e,t))return[e];for(n=0;n<t.length;++n)if(Dy(e,t[n])&&zy($y(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Dy($y(t[n],t[r]),e)&&Dy($y(t[n],e),t[r])&&Dy($y(t[r],e),t[n])&&zy(Gy(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Dy(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Fy(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function zy(t,e){for(var n=0;n<e.length;++n)if(!Fy(t,e[n]))return!1;return!0}function Wy(t){switch(t.length){case 1:return Hy(t[0]);case 2:return $y(t[0],t[1]);case 3:return Gy(t[0],t[1],t[2])}}function Hy(t){return{x:t.x,y:t.y,r:t.r}}function $y(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,l=o-n,u=a-r,c=s-i,f=Math.sqrt(l*l+u*u);return{x:(n+o+l/f*c)/2,y:(r+a+u/f*c)/2,r:(f+i+s)/2}}function Gy(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,l=e.r,u=n.x,c=n.y,f=n.r,h=r-a,d=r-u,p=i-s,v=i-c,g=l-o,y=f-o,m=r*r+i*i-o*o,b=m-a*a-s*s+l*l,x=m-u*u-c*c+f*f,w=d*p-h*v,_=(p*x-v*b)/(2*w)-r,O=(v*g-p*y)/w,C=(d*b-h*x)/(2*w)-i,S=(h*y-d*g)/w,E=O*O+S*S-1,M=2*(o+_*O+C*S),k=_*_+C*C-o*o,T=-(Math.abs(E)>1e-6?(M+Math.sqrt(M*M-4*E*k))/(2*E):k/M);return{x:r+_+O*T,y:i+C+S*T,r:T}}function Vy(t,e,n){var r,i,o,a,s=t.x-e.x,l=t.y-e.y,u=s*s+l*l;u?(i=e.r+n.r,i*=i,a=t.r+n.r,a*=a,i>a?(r=(u+a-i)/(2*u),o=Math.sqrt(Math.max(0,a/u-r*r)),n.x=t.x-r*s-o*l,n.y=t.y-r*l+o*s):(r=(u+i-a)/(2*u),o=Math.sqrt(Math.max(0,i/u-r*r)),n.x=e.x+r*s-o*l,n.y=e.y+r*l+o*s)):(n.x=e.x+n.r,n.y=e.y)}function Uy(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Yy(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function qy(t){this._=t,this.next=null,this.previous=null}function Xy(t,e){if(!(o=(t=Iy(t)).length))return 0;var n,r,i,o,a,s,l,u,c,f,h;if(n=t[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;Vy(r,n,i=t[2]),n=new qy(n),r=new qy(r),i=new qy(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(l=3;l<o;++l){Vy(n._,r._,i=t[l]),i=new qy(i),u=r.next,c=n.previous,f=r._.r,h=n._.r;do{if(f<=h){if(Uy(u._,i._)){r=u,n.next=r,r.previous=n,--l;continue t}f+=u._.r,u=u.next}else{if(Uy(c._,i._)){n=c,n.next=r,r.previous=n,--l;continue t}h+=c._.r,c=c.previous}}while(u!==c.next);i.previous=n,i.next=r,n.next=r.previous=r=i,a=Yy(n);while((i=i.next)!==r)(s=Yy(i))<a&&(n=i,a=s);r=n.next}n=[r._],i=r;while((i=i.next)!==r)n.push(i._);for(i=Ny(n,e),l=0;l<o;++l)n=t[l],n.x-=i.x,n.y-=i.y;return i.r}function Ky(t){return Math.sqrt(t.value)}function Zy(){var t=null,e=1,n=1,r=by;function i(i){const o=Ry();return i.x=e/2,i.y=n/2,t?i.eachBefore(Qy(t)).eachAfter(Jy(r,.5,o)).eachBefore(tm(1)):i.eachBefore(Qy(Ky)).eachAfter(Jy(by,1,o)).eachAfter(Jy(r,i.r/Math.min(e,n),o)).eachBefore(tm(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=rp(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"===typeof t?t:xy(+t),i):r},i}function Qy(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Jy(t,e,n){return function(r){if(i=r.children){var i,o,a,s=i.length,l=t(r)*e||0;if(l)for(o=0;o<s;++o)i[o].r+=l;if(a=Xy(i,n),l)for(o=0;o<s;++o)i[o].r-=l;r.r=a+l}}}function tm(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var em=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const nm=(t,e)=>({size:[t,e],padding:0,sort:(t,e)=>e.value-t.value}),rm=(t,e,n)=>({type:"point",axis:!1,legend:!1,scale:{x:{domain:[0,t]},y:{domain:[0,e]},size:{type:"identity"}},encode:{x:"x",y:"y",size:"r",shape:"point"},style:{fill:n.color?void 0:t=>0===t.height?"#ddd":"#fff",stroke:n.color?void 0:t=>0===t.height?"":"#000"}}),im={text:"",position:"inside",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:t=>2*t.r},om={title:t=>t.data.name,items:[{field:"value"}]},am=(t,e,n)=>{const{value:r}=n,i=tn(t)?Pp().path(e.path)(t):xp(t);return r?i.sum((t=>qp(r)(t))).sort(e.sort):i.count(),Zy().size(e.size).padding(e.padding)(i),i.descendants()},sm=(t,e)=>{const{width:n,height:r}=e,{data:i,encode:o={},scale:a={},style:s={},layout:l={},labels:u=[],tooltip:c={}}=t,f=em(t,["data","encode","scale","style","layout","labels","tooltip"]),h=rm(n,r,o),d=am(i,Bd({},nm(n,r),l),Bd({},h["encode"],o)),p=Gg(s,"label");return Bd({},h,Object.assign(Object.assign({data:d,encode:o,scale:a,style:s,labels:[Object.assign(Object.assign({},im),p),...u]},f),{tooltip:Jg(c,om),axis:!1}))};function lm(t,e){let n,r=-1,i=-1;if(void 0===e)for(const o of t)++i,null!=o&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);return r}function um(t,e){let n,r=-1,i=-1;if(void 0===e)for(const o of t)++i,null!=o&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);return r}function cm(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function fm(t,e){return Array.from(e,(e=>t[e]))}function hm(t,...e){if("function"!==typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&2!==n.length||e.length>1){const r=Uint32Array.from(t,((t,e)=>e));return e.length>1?(e=e.map((e=>t.map(e))),r.sort(((t,n)=>{for(const r of e){const e=pm(r[t],r[n]);if(e)return e}}))):(n=t.map(n),r.sort(((t,e)=>pm(n[t],n[e])))),fm(t,r)}return t.sort(dm(n))}function dm(t=cm){if(t===cm)return pm;if("function"!==typeof t)throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function pm(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function vm(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;i=void 0===i?pm:dm(i);while(r>n){if(r-n>600){const o=r-n+1,a=e-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1),c=Math.max(n,Math.floor(e-a*l/o+u)),f=Math.min(r,Math.floor(e+(o-a)*l/o+u));vm(t,e,c,f,i)}const o=t[e];let a=n,s=r;gm(t,n,e),i(t[r],o)>0&&gm(t,n,r);while(a<s){gm(t,a,s),++a,--s;while(i(t[a],o)<0)++a;while(i(t[s],o)>0)--s}0===i(t[n],o)?gm(t,n,s):(++s,gm(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function gm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ym(t){return null===t?NaN:+t}function*mm(t,e){if(void 0===e)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}function bm(t,e=cm){let n,r=!1;if(1===e.length){let i;for(const o of t){const t=e(o);(r?cm(t,i)>0:0===cm(t,t))&&(n=o,i=t,r=!0)}}else for(const i of t)(r?e(i,n)>0:0===e(i,i))&&(n=i,r=!0);return n}function xm(t,e,n){if(t=Float64Array.from(mm(t,n)),(r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return cg(t);if(e>=1)return ug(t);var r,i=(r-1)*e,o=Math.floor(i),a=ug(vm(t,o).subarray(0,o+1)),s=cg(t.subarray(o+1));return a+(s-a)*(i-o)}}function wm(t,e,n=ym){if(!isNaN(e=+e)){if(r=Float64Array.from(t,((e,r)=>ym(n(t[r],r,t)))),e<=0)return um(r);if(e>=1)return lm(r);var r,i=Uint32Array.from(t,((t,e)=>e)),o=r.length-1,a=Math.floor(o*e);return vm(i,a,0,o,((t,e)=>pm(r[t],r[e]))),a=bm(i.subarray(0,a+1),(t=>r[t])),a>=0?a:-1}}sm.props={};var _m=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Om(t,e){return cg(t,(t=>e[t]))}function Cm(t,e){return ug(t,(t=>e[t]))}function Sm(t,e){const n=2.5*Em(t,e)-1.5*km(t,e);return cg(t,(t=>e[t]>=n?e[t]:NaN))}function Em(t,e){return xm(t,.25,(t=>e[t]))}function Mm(t,e){return xm(t,.5,(t=>e[t]))}function km(t,e){return xm(t,.75,(t=>e[t]))}function Tm(t,e){const n=2.5*km(t,e)-1.5*Em(t,e);return ug(t,(t=>e[t]<=n?e[t]:NaN))}function Am(){return(t,e)=>{const{encode:n}=e,{y:r,x:i}=n,{value:o}=r,{value:a}=i,s=Array.from(uv(t,(t=>a[+t])).values()),l=s.flatMap((t=>{const e=Sm(t,o),n=Tm(t,o);return t.filter((t=>o[t]<e||o[t]>n))}));return[l,e]}}const Lm=t=>{const{data:e,encode:n,style:r={},tooltip:i={},transform:o,animate:a}=t,s=_m(t,["data","encode","style","tooltip","transform","animate"]),{point:l=!0}=r,u=_m(r,["point"]),{y:c}=n,f={y:c,y1:c,y2:c,y3:c,y4:c},h={y1:Em,y2:Mm,y3:km},d=Qg(i,"box",{items:[{channel:"y",name:"min"},{channel:"y1",name:"q1"},{channel:"y2",name:"q2"},{channel:"y3",name:"q3"},{channel:"y4",name:"max"}]},!0),p=Qg(i,"point",{title:{channel:"x"},items:[{name:"outlier",channel:"y"}]});if(!l)return Object.assign({type:"box",data:e,transform:[Object.assign(Object.assign({type:"groupX",y:Om},h),{y4:Cm})],encode:Object.assign(Object.assign({},n),f),style:u,tooltip:d},s);const v=Gg(u,"box"),g=Gg(u,"point");return[Object.assign({type:"box",data:e,transform:[Object.assign(Object.assign({type:"groupX",y:Sm},h),{y4:Tm})],encode:Object.assign(Object.assign({},n),f),style:v,tooltip:d,animate:ey(a,"box")},s),{type:"point",data:e,transform:[{type:Am}],encode:n,style:Object.assign({},g),tooltip:p,animate:ey(a,"point")}]};Lm.props={};const Pm=t=>{const{cartesian:e}=t;return e?Yp:(e,n,r,i)=>{const{x:o,y:a}=r,s=Vp(n,r,t),l=Array.from(e,(t=>{const e=[+o[t],+a[t]];return[i.map(s(e,t))]}));return[e,l]}};function Rm(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Im(this.cover(e,n),e,n,t)}function Im(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,l,u,c,f,h,d=t._root,p={data:r},v=t._x0,g=t._y0,y=t._x1,m=t._y1;if(!d)return t._root=p,t;while(d.length)if((u=e>=(o=(v+y)/2))?v=o:y=o,(c=n>=(a=(g+m)/2))?g=a:m=a,i=d,!(d=d[f=c<<1|u]))return i[f]=p,t;if(s=+t._x.call(null,d.data),l=+t._y.call(null,d.data),e===s&&n===l)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(u=e>=(o=(v+y)/2))?v=o:y=o,(c=n>=(a=(g+m)/2))?g=a:m=a}while((f=c<<1|u)===(h=(l>=a)<<1|s>=o));return i[h]=d,i[f]=p,t}function jm(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),l=1/0,u=1/0,c=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<l&&(l=r),r>c&&(c=r),i<u&&(u=i),i>f&&(f=i));if(l>c||u>f)return this;for(this.cover(l,u).cover(c,f),n=0;n<o;++n)Im(this,a[n],s[n],t[n]);return this}function Nm(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{var a,s,l=i-n||1,u=this._root;while(n>t||t>=i||r>e||e>=o)switch(s=(e<r)<<1|t<n,a=new Array(4),a[s]=u,u=a,l*=2,s){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l;break}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function Bm(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t}function Dm(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Fm(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function zm(t,e,n){var r,i,o,a,s,l,u,c=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],v=this._root;v&&p.push(new Fm(v,c,f,h,d)),null==n?n=1/0:(c=t-n,f=e-n,h=t+n,d=e+n,n*=n);while(l=p.pop())if(!(!(v=l.node)||(i=l.x0)>h||(o=l.y0)>d||(a=l.x1)<c||(s=l.y1)<f))if(v.length){var g=(i+a)/2,y=(o+s)/2;p.push(new Fm(v[3],g,y,a,s),new Fm(v[2],i,y,g,s),new Fm(v[1],g,o,a,y),new Fm(v[0],i,o,g,y)),(u=(e>=y)<<1|t>=g)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var m=t-+this._x.call(null,v.data),b=e-+this._y.call(null,v.data),x=m*m+b*b;if(x<n){var w=Math.sqrt(n=x);c=t-w,f=e-w,h=t+w,d=e+w,r=v.data}}return r}function Wm(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,l,u,c,f,h,d=this._root,p=this._x0,v=this._y0,g=this._x1,y=this._y1;if(!d)return this;if(d.length)while(1){if((u=o>=(s=(p+g)/2))?p=s:g=s,(c=a>=(l=(v+y)/2))?v=l:y=l,e=d,!(d=d[f=c<<1|u]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}while(d.data!==t)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)}function Hm(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function $m(){return this._root}function Gm(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t}function Vm(t){var e,n,r,i,o,a,s=[],l=this._root;l&&s.push(new Fm(l,this._x0,this._y0,this._x1,this._y1));while(e=s.pop())if(!t(l=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&l.length){var u=(r+o)/2,c=(i+a)/2;(n=l[3])&&s.push(new Fm(n,u,c,o,a)),(n=l[2])&&s.push(new Fm(n,r,c,u,a)),(n=l[1])&&s.push(new Fm(n,u,i,o,c)),(n=l[0])&&s.push(new Fm(n,r,i,u,c))}return this}function Um(t){var e,n=[],r=[];this._root&&n.push(new Fm(this._root,this._x0,this._y0,this._x1,this._y1));while(e=n.pop()){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,l=e.x1,u=e.y1,c=(a+l)/2,f=(s+u)/2;(o=i[0])&&n.push(new Fm(o,a,s,c,f)),(o=i[1])&&n.push(new Fm(o,c,s,l,f)),(o=i[2])&&n.push(new Fm(o,a,f,c,u)),(o=i[3])&&n.push(new Fm(o,c,f,l,u))}r.push(e)}while(e=r.pop())t(e.node,e.x0,e.y0,e.x1,e.y1);return this}function Ym(t){return t[0]}function qm(t){return arguments.length?(this._x=t,this):this._x}function Xm(t){return t[1]}function Km(t){return arguments.length?(this._y=t,this):this._y}function Zm(t,e,n){var r=new Qm(null==e?Ym:e,null==n?Xm:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Qm(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Jm(t){var e={data:t.data},n=e;while(t=t.next)n=n.next={data:t.data};return e}Pm.props={defaultShape:"shape",defaultLabelShape:"label",composite:!1,channels:[{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Hp(),{type:"maybeTuple"},{type:"maybeVisualPosition"},{type:"maybeFunctionAttribute"}]};var tb=Zm.prototype=Qm.prototype;function eb(t){return function(){return t}}function nb(t){return 1e-6*(t()-.5)}tb.copy=function(){var t,e,n=new Qm(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Jm(r),n;t=[{source:r,target:n._root=new Array(4)}];while(r=t.pop())for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Jm(e));return n},tb.add=Rm,tb.addAll=jm,tb.cover=Nm,tb.data=Bm,tb.extent=Dm,tb.find=zm,tb.remove=Wm,tb.removeAll=Hm,tb.root=$m,tb.size=Gm,tb.visit=Vm,tb.visitAfter=Um,tb.x=qm,tb.y=Km;var rb={value:()=>{}};function ib(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new ob(r)}function ob(t){this._=t}function ab(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function sb(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function lb(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=rb,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}ob.prototype=ib.prototype={constructor:ob,on:function(t,e){var n,r=this._,i=ab(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++o<a)if(n=(t=i[o]).type)r[n]=lb(r[n],t.name,e);else if(null==e)for(n in r)r[n]=lb(r[n],t.name,null);return this}while(++o<a)if((n=(t=i[o]).type)&&(n=sb(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ob(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var ub,cb,fb=ib,hb=0,db=0,pb=0,vb=1e3,gb=0,yb=0,mb=0,bb="object"===typeof performance&&performance.now?performance:Date,xb="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function wb(){return yb||(xb(_b),yb=bb.now()+mb)}function _b(){yb=0}function Ob(){this._call=this._time=this._next=null}function Cb(t,e,n){var r=new Ob;return r.restart(t,e,n),r}function Sb(){wb(),++hb;var t,e=ub;while(e)(t=yb-e._time)>=0&&e._call.call(void 0,t),e=e._next;--hb}function Eb(){yb=(gb=bb.now())+mb,hb=db=0;try{Sb()}finally{hb=0,kb(),yb=0}}function Mb(){var t=bb.now(),e=t-gb;e>vb&&(mb-=e,gb=t)}function kb(){var t,e,n=ub,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ub=e);cb=t,Tb(r)}function Tb(t){if(!hb){db&&(db=clearTimeout(db));var e=t-yb;e>24?(t<1/0&&(db=setTimeout(Eb,t-bb.now()-mb)),pb&&(pb=clearInterval(pb))):(pb||(gb=bb.now(),pb=setInterval(Mb,vb)),hb=1,xb(Eb))}}Ob.prototype=Cb.prototype={constructor:Ob,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?wb():+n)+(null==e?0:+e),this._next||cb===this||(cb?cb._next=this:ub=this,cb=this),this._call=t,this._time=n,Tb()},stop:function(){this._call&&(this._call=null,this._time=1/0,Tb())}};const Ab=1664525,Lb=1013904223,Pb=4294967296;function Rb(){let t=1;return()=>(t=(Ab*t+Lb)%Pb)/Pb}function Ib(t){return t.x}function jb(t){return t.y}var Nb=10,Bb=Math.PI*(3-Math.sqrt(5));function Db(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,l=Cb(f),u=fb("tick","end"),c=Rb();function f(){h(),u.call("tick",e),n<r&&(l.stop(),u.call("end",e))}function h(r){var l,u,c=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(o-n)*i,s.forEach((function(t){t(n)})),l=0;l<c;++l)u=t[l],null==u.fx?u.x+=u.vx*=a:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=a:(u.y=u.fy,u.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if(e=t[n],e.index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=Nb*Math.sqrt(.5+n),o=n*Bb;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,c),e}return null==t&&(t=[]),d(),e={tick:h,restart:function(){return l.restart(f),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),s.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(c=t,s.forEach(p),e):c},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,l,u=0,c=t.length;for(null==r?r=1/0:r*=r,u=0;u<c;++u)s=t[u],i=e-s.x,o=n-s.y,a=i*i+o*o,a<r&&(l=s,r=a);return l},on:function(t,n){return arguments.length>1?(u.on(t,n),e):u.on(t)}}}function Fb(){var t,e,n,r,i,o=eb(-30),a=1,s=1/0,l=.81;function u(n){var i,o=t.length,a=Zm(t,Ib,jb).visitAfter(f);for(r=n,i=0;i<o;++i)e=t[i],a.visit(h)}function c(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function f(t){var e,n,r,o,a,s=0,l=0;if(t.length){for(r=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,l+=n,r+=n*e.x,o+=n*e.y);t.x=r/l,t.y=o/l}else{e=t,e.x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function h(t,o,u,c){if(!t.value)return!0;var f=t.x-e.x,h=t.y-e.y,d=c-o,p=f*f+h*h;if(d*d/l<p)return p<s&&(0===f&&(f=nb(n),p+=f*f),0===h&&(h=nb(n),p+=h*h),p<a&&(p=Math.sqrt(a*p)),e.vx+=f*t.value*r/p,e.vy+=h*t.value*r/p),!0;if(!(t.length||p>=s)){(t.data!==e||t.next)&&(0===f&&(f=nb(n),p+=f*f),0===h&&(h=nb(n),p+=h*h),p<a&&(p=Math.sqrt(a*p)));do{t.data!==e&&(d=i[t.data.index]*r/p,e.vx+=f*d,e.vy+=h*d)}while(t=t.next)}}return u.initialize=function(e,r){t=e,n=r,c()},u.strength=function(t){return arguments.length?(o="function"===typeof t?t:eb(+t),c(),u):o},u.distanceMin=function(t){return arguments.length?(a=t*t,u):Math.sqrt(a)},u.distanceMax=function(t){return arguments.length?(s=t*t,u):Math.sqrt(s)},u.theta=function(t){return arguments.length?(l=t*t,u):Math.sqrt(l)},u}function zb(t){return t.index}function Wb(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function Hb(t){var e,n,r,i,o,a,s=zb,l=f,u=eb(30),c=1;function f(t){return 1/Math.min(i[t.source.index],i[t.target.index])}function h(r){for(var i=0,s=t.length;i<c;++i)for(var l,u,f,h,d,p,v,g=0;g<s;++g)l=t[g],u=l.source,f=l.target,h=f.x+f.vx-u.x-u.vx||nb(a),d=f.y+f.vy-u.y-u.vy||nb(a),p=Math.sqrt(h*h+d*d),p=(p-n[g])/p*r*e[g],h*=p,d*=p,f.vx-=h*(v=o[g]),f.vy-=d*v,u.vx+=h*(v=1-v),u.vy+=d*v}function d(){if(r){var a,l,u=r.length,c=t.length,f=new Map(r.map(((t,e)=>[s(t,e,r),t])));for(a=0,i=new Array(u);a<c;++a)l=t[a],l.index=a,"object"!==typeof l.source&&(l.source=Wb(f,l.source)),"object"!==typeof l.target&&(l.target=Wb(f,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(a=0,o=new Array(c);a<c;++a)l=t[a],o[a]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);e=new Array(c),p(),n=new Array(c),v()}}function p(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+l(t[n],n,t)}function v(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t,e){r=t,a=e,d()},h.links=function(e){return arguments.length?(t=e,d(),h):t},h.id=function(t){return arguments.length?(s=t,h):s},h.iterations=function(t){return arguments.length?(c=+t,h):c},h.strength=function(t){return arguments.length?(l="function"===typeof t?t:eb(+t),p(),h):l},h.distance=function(t){return arguments.length?(u="function"===typeof t?t:eb(+t),v(),h):u},h}function $b(t,e){var n,r=1;function i(){var i,o,a=n.length,s=0,l=0;for(i=0;i<a;++i)o=n[i],s+=o.x,l+=o.y;for(s=(s/a-t)*r,l=(l/a-e)*r,i=0;i<a;++i)o=n[i],o.x-=s,o.y-=l}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i}function Gb(t){var e,n,r,i=eb(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)i=e[o],i.vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!==typeof t&&(t=eb(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"===typeof t?t:eb(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"===typeof e?e:eb(+e),a(),o):t},o}function Vb(t){var e,n,r,i=eb(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)i=e[o],i.vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!==typeof t&&(t=eb(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"===typeof t?t:eb(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"===typeof e?e:eb(+e),a(),o):t},o}var Ub=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const Yb={joint:!0},qb={type:"link",axis:!1,legend:!1,encode:{x:[t=>t.source.x,t=>t.target.x],y:[t=>t.source.y,t=>t.target.y]},style:{stroke:"#999",strokeOpacity:.6}},Xb={type:"point",axis:!1,legend:!1,encode:{x:"x",y:"y",size:5,color:"group",shape:"point"},scale:{color:{type:"ordinal"}},style:{stroke:"#fff"}},Kb={text:""};function Zb(t,e,n){const{nodes:r,links:i}=t,{joint:o,nodeStrength:a,linkStrength:s}=e,{nodeKey:l=(t=>t.id),linkKey:u=(t=>t.id)}=n,c=Fb(),f=Hb(i).id(qp(u));"function"===typeof a&&c.strength(a),"function"===typeof s&&f.strength(s);const h=Db(r).force("link",f).force("charge",c);o?h.force("center",$b()):h.force("x",Gb()).force("y",Vb()),h.stop();const d=Math.ceil(Math.log(h.alphaMin())/Math.log(1-h.alphaDecay()));for(let p=0;p<d;p++)h.tick();return{nodesData:r,linksData:i}}const Qb=t=>{const{data:e,encode:n={},scale:r,style:i={},layout:o={},nodeLabels:a=[],linkLabels:s=[],animate:l={},tooltip:u={}}=t,{nodeKey:c=(t=>t.id),linkKey:f=(t=>t.id)}=n,h=Ub(n,["nodeKey","linkKey"]),d=Object.assign({nodeKey:c,linkKey:f},h),p=Gg(d,"node"),v=Gg(d,"link"),{links:g,nodes:y}=Kp(e,d),{nodesData:m,linksData:b}=Zb({links:g,nodes:y},Bd({},Yb,o),d),x=Qg(u,"link",{items:[t=>({name:"source",value:qp(f)(t.source)}),t=>({name:"target",value:qp(f)(t.target)})]}),w=Qg(u,"node",{items:[t=>({name:"key",value:qp(c)(t)})]},!0);return[Bd({},qb,{data:b,encode:v,labels:s,style:Gg(i,"link"),tooltip:x,animate:ey(l,"link")}),Bd({},Xb,{data:m,encode:Object.assign({},p),scale:r,style:Gg(i,"node"),tooltip:w,labels:[Object.assign(Object.assign({},Kb),Gg(i,"label")),...a],animate:ey(l,"link")})]};function Jb(t,e){return t.parent===e.parent?1:2}function tx(t){var e=t.children;return e?e[0]:t.t}function ex(t){var e=t.children;return e?e[e.length-1]:t.t}function nx(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function rx(t){var e,n=0,r=0,i=t.children,o=i.length;while(--o>=0)e=i[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function ix(t,e,n){return t.a.parent===e.parent?t.a:n}function ox(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function ax(t){var e,n,r,i,o,a=new ox(t,0),s=[a];while(e=s.pop())if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new ox(r[i],i)),n.parent=e;return(a.parent=new ox(null,0)).children=[a],a}function sx(){var t=Jb,e=1,n=1,r=null;function i(i){var s=ax(i);if(s.eachAfter(o),s.parent.m=-s.z,s.eachBefore(a),r)i.eachBefore(l);else{var u=i,c=i,f=i;i.eachBefore((function(t){t.x<u.x&&(u=t),t.x>c.x&&(c=t),t.depth>f.depth&&(f=t)}));var h=u===c?1:t(u,c)/2,d=h-u.x,p=e/(c.x+h+d),v=n/(f.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*v}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){rx(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=s(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(e,n,r){if(n){var i,o=e,a=e,s=n,l=o.parent.children[0],u=o.m,c=a.m,f=s.m,h=l.m;while(s=ex(s),o=tx(o),s&&o)l=tx(l),a=ex(a),a.a=e,i=s.z+f-o.z-u+t(s._,o._),i>0&&(nx(ix(s,e,r),e,i),u+=i,c+=i),f+=s.m,u+=o.m,h+=l.m,c+=a.m;s&&!ex(a)&&(a.t=s,a.m+=f-c),o&&!tx(l)&&(l.t=o,l.m+=u-h,r=e)}return r}function l(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function lx(t,e){return t.parent===e.parent?1:2}function ux(t){return t.reduce(cx,0)/t.length}function cx(t,e){return t+e.x}function fx(t){return 1+t.reduce(hx,0)}function hx(t,e){return Math.max(t,e.y)}function dx(t){var e;while(e=t.children)t=e[0];return t}function px(t){var e;while(e=t.children)t=e[e.length-1];return t}function vx(){var t=lx,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(e){var n=e.children;n?(e.x=ux(n),e.y=fx(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var s=dx(i),l=px(i),u=s.x-t(s,l)/2,c=l.x+t(l,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-u)/(c-u)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}Qb.props={},ox.prototype=Object.create(Ep.prototype);const gx=t=>e=>n=>{const{field:r="value",nodeSize:i,separation:o,sortBy:a,as:s=["x","y"]}=e,[l,u]=s,c=xp(n,(t=>t.children)).sum((t=>t[r])).sort(a),f=t();f.size([1,1]),i&&f.nodeSize(i),o&&f.separation(o),f(c);const h=[];c.each((t=>{t[l]=t.x,t[u]=t.y,t.name=t.data.name,h.push(t)}));const d=c.links();return d.forEach((t=>{t[l]=[t.source[l],t.target[l]],t[u]=[t.source[u],t.target[u]]})),{nodes:h,edges:d}},yx=t=>gx(vx)(t);yx.props={};const mx=t=>gx(sx)(t);mx.props={};const bx={sortBy:(t,e)=>e.value-t.value},xx={axis:!1,legend:!1,type:"point",encode:{x:"x",y:"y",size:2,shape:"point"}},wx={type:"link",encode:{x:"x",y:"y",shape:"smooth"}},_x={text:"",fontSize:10},Ox=t=>{const{data:e,encode:n={},scale:r={},style:i={},layout:o={},nodeLabels:a=[],linkLabels:s=[],animate:l={},tooltip:u={}}=t,c=null===n||void 0===n?void 0:n.value,{nodes:f,edges:h}=mx(Object.assign(Object.assign(Object.assign({},bx),o),{field:c}))(e),d=Qg(u,"node",{title:"name",items:["value"]},!0),p=Qg(u,"link",{title:"",items:[t=>({name:"source",value:t.source.name}),t=>({name:"target",value:t.target.name})]});return[Bd({},wx,{data:h,encode:Gg(n,"link"),scale:Gg(r,"link"),labels:s,style:Object.assign({stroke:"#999"},Gg(i,"link")),tooltip:p,animate:ey(l,"link")}),Bd({},xx,{data:f,scale:Gg(r,"node"),encode:Gg(n,"node"),labels:[Object.assign(Object.assign({},_x),Gg(i,"label")),...a],style:Object.assign({},Gg(i,"node")),tooltip:d,animate:ey(l,"node")})]};Ox.props={};var Cx={},Sx={},Ex=34,Mx=10,kx=13;function Tx(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function Ax(t,e){var n=Tx(t);return function(r,i){return e(n(r),i,t)}}function Lx(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function Px(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Rx(t){return t<0?"-"+Px(-t,6):t>9999?"+"+Px(t,6):Px(t,4)}function Ix(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Rx(t.getUTCFullYear(),4)+"-"+Px(t.getUTCMonth()+1,2)+"-"+Px(t.getUTCDate(),2)+(i?"T"+Px(e,2)+":"+Px(n,2)+":"+Px(r,2)+"."+Px(i,3)+"Z":r?"T"+Px(e,2)+":"+Px(n,2)+":"+Px(r,2)+"Z":n||e?"T"+Px(e,2)+":"+Px(n,2)+"Z":"")}function jx(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var n,r,o=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?Ax(t,e):Tx(t)}));return o.columns=r||[],o}function i(t,e){var r,i=[],o=t.length,a=0,s=0,l=o<=0,u=!1;function c(){if(l)return Sx;if(u)return u=!1,Cx;var e,r,i=a;if(t.charCodeAt(i)===Ex){while(a++<o&&t.charCodeAt(a)!==Ex||t.charCodeAt(++a)===Ex);return(e=a)>=o?l=!0:(r=t.charCodeAt(a++))===Mx?u=!0:r===kx&&(u=!0,t.charCodeAt(a)===Mx&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}while(a<o){if((r=t.charCodeAt(e=a++))===Mx)u=!0;else if(r===kx)u=!0,t.charCodeAt(a)===Mx&&++a;else if(r!==n)continue;return t.slice(i,e)}return l=!0,t.slice(i,o)}t.charCodeAt(o-1)===Mx&&--o,t.charCodeAt(o-1)===kx&&--o;while((r=c())!==Sx){var f=[];while(r!==Cx&&r!==Sx)f.push(r),r=c();e&&null==(f=e(f,s++))||i.push(f)}return i}function o(e,n){return e.map((function(e){return n.map((function(t){return c(e[t])})).join(t)}))}function a(e,n){return null==n&&(n=Lx(e)),[n.map(c).join(t)].concat(o(e,n)).join("\n")}function s(t,e){return null==e&&(e=Lx(t)),o(t,e).join("\n")}function l(t){return t.map(u).join("\n")}function u(e){return e.map(c).join(t)}function c(t){return null==t?"":t instanceof Date?Ix(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:l,formatRow:u,formatValue:c}}function Nx(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Bx&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t}const Bx=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var Dx=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))};const Fx=t=>{const{value:e,format:n=e.split(".").pop(),delimiter:r=",",autoType:i=!0}=t;return()=>Dx(void 0,void 0,void 0,(function*(){const t=yield fetch(e);if("csv"===n){const e=yield t.text();return jx(r).parse(e,i?Nx:jg)}if("json"===n)return yield t.json();throw new Error(`Unknown format: ${n}.`)}))};function zx(t){return!t||0===Object.keys(t).length}Fx.props={};const Wx=t=>{const{fields:e,key:n="key",value:r="value"}=t;return t=>zx(e)?t:t.flatMap((t=>e.map((e=>Object.assign(Object.assign({},t),{[n]:e,[r]:t[e]})))))};function Hx(t){return void 0!==t&&null!==t&&!Number.isNaN(t)}Wx.props={};const $x=t=>{const{callback:e=Hx}=t;return t=>t.filter(e)};$x.props={};const Gx=t=>{const{callback:e}=t;return t=>Array.isArray(t)?[...t].sort(e):t};function Vx(t,e=[]){return e.reduce(((e,n)=>(n in t&&(e[n]=t[n]),e)),{})}Gx.props={};const Ux=t=>{const{fields:e}=t;return t=>t.map((t=>Vx(t,e)))};function Yx(t){return 0===Object.keys(t).length}Ux.props={};const qx=t=>e=>{if(!t||Yx(t))return e;const n=e=>Object.entries(e).reduce(((e,[n,r])=>(e[t[n]||n]=r,e)),{});return e.map(n)};function Xx(t,e){return t.map((t=>{if(Array.isArray(t)){const[n,r=e]=t;return[n,r]}return[t,e]}))}qx.props={};const Kx=t=>{const{fields:e=[]}=t,n=Xx(e,!0);return t=>{const e=(t,e)=>n.reduce(((n,[r,i=!0])=>0!==n?n:i?t[r]<e[r]?-1:+(t[r]!==e[r]):t[r]>e[r]?-1:+(t[r]!==e[r])),0);return[...t].sort(e)}};Kx.props={};const Zx=t=>{const{value:e}=t;return()=>e};Zx.props={};const Qx=t=>{const{callback:e=jg}=t;return t=>e(t)};Qx.props={};const Jx=t=>{const{callback:e=jg}=t;return t=>Array.isArray(t)?t.map(e):t};function tw(t,e){return e.value-t.value}function ew(t,e){return e.frequency-t.frequency}function nw(t,e){return`${t.id}`.localeCompare(`${e.id}`)}function rw(t,e){return`${t.name}`.localeCompare(`${e.name}`)}Jx.props={};const iw={y:0,thickness:.05,weight:!1,marginRatio:.1,id:t=>t.id,source:t=>t.source,target:t=>t.target,sourceWeight:t=>t.value||1,targetWeight:t=>t.value||1,sortBy:null};function ow(t){const{y:e,thickness:n,weight:r,marginRatio:o,id:a,source:s,target:l,sourceWeight:u,targetWeight:c,sortBy:f}=Object.assign(Object.assign({},iw),t);function h(t){const e=t.nodes.map((t=>Object.assign({},t))),n=t.edges.map((t=>Object.assign({},t)));return d(e,n),p(e,n),v(e,n),g(e,n),{nodes:e,edges:n}}function d(t,e){e.forEach((t=>{t.source=s(t),t.target=l(t),t.sourceWeight=u(t),t.targetWeight=c(t)}));const n=uv(e,(t=>t.source)),r=uv(e,(t=>t.target));return t.forEach((t=>{t.id=a(t);const e=n.has(t.id)?n.get(t.id):[],i=r.has(t.id)?r.get(t.id):[];t.frequency=e.length+i.length,t.value=lg(e,(t=>t.sourceWeight))+lg(i,(t=>t.targetWeight))})),{nodes:t,edges:e}}function p(t,e){const n="function"===typeof f?f:i[f];n&&t.sort(n)}function v(t,i){const a=t.length;if(!a)throw Fg("Invalid nodes: it's empty!");if(!r){const n=1/a;return t.forEach(((t,r)=>{t.x=(r+.5)*n,t.y=e})),{nodes:t,edges:i}}const s=o/(2*a),l=t.reduce(((t,e)=>t+e.value),0);return t.reduce(((t,r)=>{r.weight=r.value/l,r.width=r.weight*(1-o),r.height=n;const i=s+t,a=i+r.width,u=e-n/2,c=u+n;return r.x=[i,a,a,i],r.y=[u,u,c,c],t+r.width+2*s}),0),{nodes:t,edges:i}}function g(t,n){const i=new Map(t.map((t=>[t.id,t])));if(!r)return n.forEach((t=>{const e=s(t),n=l(t),r=i.get(e),o=i.get(n);r&&o&&(t.x=[r.x,o.x],t.y=[r.y,o.y])})),{nodes:t,edges:n};n.forEach((t=>{t.x=[0,0,0,0],t.y=[e,e,e,e]}));const o=uv(n,(t=>t.source)),a=uv(n,(t=>t.target));t.forEach((t=>{const{edges:e,width:n,x:r,y:i,value:s,id:l}=t,u=o.get(l)||[],c=a.get(l)||[];let f=0;u.map((e=>{const r=e.sourceWeight/s*n;e.x[0]=t.x[0]+f,e.x[1]=t.x[0]+f+r,f+=r})),c.forEach((e=>{const r=e.targetWeight/s*n;e.x[3]=t.x[0]+f,e.x[2]=t.x[0]+f+r,f+=r}))}))}return h}const aw=t=>e=>ow(t)(e);aw.props={};const sw=Math.PI/180,lw=64,uw=2048;function cw(t){return t.text}function fw(){return"serif"}function hw(){return"normal"}function dw(t){return t.value}function pw(){return 90*~~(2*Math.random())}function vw(){return 1}function gw(){}function yw(t,e,n,r){if(e.sprite)return;const i=t.context,o=t.ratio;i.clearRect(0,0,(lw<<5)/o,uw/o);let a=0,s=0,l=0;const u=n.length;--r;while(++r<u){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font;let t=i.measureText(e.text+"m").width*o,u=e.size<<1;if(e.rotate){const n=Math.sin(e.rotate*sw),r=Math.cos(e.rotate*sw),i=t*r,o=t*n,a=u*r,s=u*n;t=Math.max(Math.abs(i+s),Math.abs(i-s))+31>>5<<5,u=~~Math.max(Math.abs(o+a),Math.abs(o-a))}else t=t+31>>5<<5;if(u>l&&(l=u),a+t>=lw<<5&&(a=0,s+=l,l=0),s+u>=uw)break;i.translate((a+(t>>1))/o,(s+(u>>1))/o),e.rotate&&i.rotate(e.rotate*sw),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=t,e.height=u,e.xoff=a,e.yoff=s,e.x1=t>>1,e.y1=u>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,a+=t}const c=i.getImageData(0,0,(lw<<5)/o,uw/o).data,f=[];while(--r>=0){if(e=n[r],!e.hasText)continue;const t=e.width,i=t>>5;let o=e.y1-e.y0;for(let e=0;e<o*i;e++)f[e]=0;if(a=e.xoff,null==a)return;s=e.yoff;let l=0,u=-1;for(let n=0;n<o;n++){for(let e=0;e<t;e++){const t=i*n+(e>>5),r=c[(s+n)*(lw<<5)+(a+e)<<2]?1<<31-e%32:0;f[t]|=r,l|=r}l?u=n:(e.y0++,o--,n--,s++)}e.y1=e.y0+u,e.sprite=f.slice(0,(e.y1-e.y0)*i)}}function mw(t,e,n){n>>=5;const r=t.sprite,i=t.width>>5,o=t.x-(i<<4),a=127&o,s=32-a,l=t.y1-t.y0;let u,c=(t.y+t.y0)*n+(o>>5);for(let f=0;f<l;f++){u=0;for(let t=0;t<=i;t++)if((u<<s|(t<i?(u=r[f*i+t])>>>a:0))&e[c+t])return!0;c+=n}return!1}function bw(t,e){const n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function xw(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function ww(t){const e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function _w(t){const e=4,n=e*t[0]/t[1];let r=0,i=0;return function(t){const o=t<0?-1:1;switch(Math.sqrt(1+4*o*t)-o&3){case 0:r+=n;break;case 1:i+=e;break;case 2:r-=n;break;default:i-=e;break}return[r,i]}}function Ow(t){const e=[];let n=-1;while(++n<t)e[n]=0;return e}function Cw(){return document.createElement("canvas")}function Sw(t){return"function"===typeof t?t:function(){return t}}const Ew={archimedean:ww,rectangular:_w};function Mw(){let t=[256,256],e=cw,n=fw,r=dw,i=hw,o=pw,a=vw,s=ww,l=Math.random,u=gw,c=[],f=null,h=1/0;const d=hw,p=Cw,v={};function g(t){t.width=t.height=1;const e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(lw<<5)/e,t.height=uw/e;const n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}function y(e,n,r){const i=n.x,o=n.y,a=Math.sqrt(t[0]*t[0]+t[1]*t[1]),u=s(t),c=l()<.5?1:-1;let f,h,d,p=-c;while(f=u(p+=c)){if(h=~~f[0],d=~~f[1],Math.min(Math.abs(h),Math.abs(d))>=a)break;if(n.x=i+h,n.y=o+d,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>t[0]||n.y+n.y1>t[1])&&(!r||!mw(n,e,t[0]))&&(!r||xw(n,r))){const r=n.sprite,i=n.width>>5,o=t[0]>>5,a=n.x-(i<<4),s=127&a,l=32-s,u=n.y1-n.y0;let c,f=(n.y+n.y0)*o+(a>>5);for(let t=0;t<u;t++){c=0;for(let n=0;n<=i;n++)e[f+n]|=c<<l|(n<i?(c=r[t*i+n])>>>s:0);f+=o}return delete n.sprite,!0}}return!1}return v.start=function(){const[s,m]=t,b=g(p()),x=v.board?v.board:Ow((t[0]>>5)*t[1]),w=c.length,_=[],O=c.map((function(t,s,l){return t.text=e.call(this,t,s,l),t.font=n.call(this,t,s,l),t.style=d.call(this,t,s,l),t.weight=i.call(this,t,s,l),t.rotate=o.call(this,t,s,l),t.size=~~r.call(this,t,s,l),t.padding=a.call(this,t,s,l),t})).sort((function(t,e){return e.size-t.size}));let C=-1,S=v.board?[{x:0,y:0},{x:s,y:m}]:void 0;function E(){const e=Date.now();while(Date.now()-e<h&&++C<w){const e=O[C];e.x=s*(l()+.5)>>1,e.y=m*(l()+.5)>>1,yw(b,e,O,C),e.hasText&&y(x,e,S)&&(u.call(null,"word",{cloud:v,word:e}),_.push(e),S?v.hasImage||bw(S,e):S=[{x:e.x+e.x0,y:e.y+e.y0},{x:e.x+e.x1,y:e.y+e.y1}],e.x-=t[0]>>1,e.y-=t[1]>>1)}v._tags=_,v._bounds=S,C>=w&&(v.stop(),u.call(null,"end",{cloud:v,words:_,bounds:S}))}return f&&clearInterval(f),f=setInterval(E,0),E(),v},v.stop=function(){return f&&(clearInterval(f),f=null),v},v.createMask=e=>{const n=document.createElement("canvas"),[r,i]=t;if(!r||!i)return;const o=r>>5,a=Ow((r>>5)*i);n.width=r,n.height=i;const s=n.getContext("2d");s.drawImage(e,0,0,e.width,e.height,0,0,r,i);const l=s.getImageData(0,0,r,i).data;for(let t=0;t<i;t++)for(let e=0;e<r;e++){const n=o*t+(e>>5),i=t*r+e<<2,s=l[i]>=250&&l[i+1]>=250&&l[i+2]>=250,u=s?1<<31-e%32:0;a[n]|=u}v.board=a,v.hasImage=!0},v.timeInterval=function(t){h=null==t?1/0:t},v.words=function(t){c=t},v.size=function(e=[]){t=[+e[0],+e[1]]},v.text=function(t){e=Sw(t)},v.font=function(t){n=Sw(t)},v.fontWeight=function(t){i=Sw(t)},v.rotate=function(t){o=Sw(t)},v.spiral=function(t){s=Ew[t]||t},v.fontSize=function(t){r=Sw(t)},v.padding=function(t){a=Sw(t)},v.random=function(t){l=Sw(t)},v.on=function(t){u=Sw(t)},v}var kw=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))};function Tw(t,e){return{set(n,r,i){if(void 0===e[n])return this;const o=r?r.call(null,e[n]):e[n];return i?i.call(null,o):"function"===typeof t[n]?t[n](o):t[n]=o,this},setAsync(n,r,i){return kw(this,void 0,void 0,(function*(){if(void 0===e[n])return this;const o=r?yield r.call(null,e[n]):e[n];return i?i.call(null,o):"function"===typeof t[n]?t[n](o):t[n]=o,this}))}}}var Aw=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))},Lw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const Pw={size:[500,500],fontSize:[14,28]};function Rw(t){return new Promise(((e,n)=>{if(t instanceof HTMLImageElement)e(t);else{if("string"===typeof t){const r=new Image;return r.crossOrigin="anonymous",r.src=t,r.onload=()=>e(r),void(r.onerror=()=>{console.error(`'image ${t} load failed !!!'`),n()})}n()}}))}function Iw(t,e){if("function"===typeof t)return t;if(Array.isArray(t)){const[n,r]=t;if(!e)return()=>(r+n)/2;const[i,o]=e;return o===i?()=>(r+n)/2:({value:t})=>(r-n)/(o-i)*(t-i)+n}return()=>t}const jw=t=>e=>Aw(void 0,void 0,void 0,(function*(){const n=Object.assign({},Pw,t),r=Mw();yield Tw(r,n).set("fontSize",(t=>{const n=e.map((t=>t.value));return Iw(t,[cg(n),ug(n)])})).set("font").set("fontStyle").set("fontWeight").set("padding").set("rotate").set("size").set("spiral").set("timeInterval").set("random").set("text").set("on").setAsync("imageMask",Rw,r.createMask),r.words([...e]);const i=r.start(),[o,a]=n.size,s=[{x:0,y:0},{x:o,y:a}],{_bounds:l=s,_tags:u,hasImage:c}=i,f=u.map((t=>{var{x:e,y:n}=t,r=Lw(t,["x","y"]);return Object.assign(Object.assign({},r),{x:e+o/2,y:n+a/2})})),[{x:h,y:d},{x:p,y:v}]=l,g={text:"",value:0,opacity:0,fontSize:0};return f.push(Object.assign(Object.assign({},g),{x:c?0:h,y:c?0:d}),Object.assign(Object.assign({},g),{x:c?o:p,y:c?a:v})),f}));function Nw(t){return"string"===typeof t?e=>e[t]:t}jw.props={};const Bw=t=>{const{join:e,on:n,select:r=[],as:i=r,unknown:o=NaN}=t,[a,s]=n,l=Nw(s),u=Nw(a),c=fv(e,(([t])=>t),(t=>l(t)));return t=>t.map((t=>{const e=c.get(u(t));return Object.assign(Object.assign({},t),r.reduce(((t,n,r)=>(t[i[r]]=e?e[n]:o,t)),{}))}))};Bw.props={};const Dw=t=>{const{start:e,end:n}=t;return t=>t.slice(e,n)};Dw.props={};var Fw=n(4824),zw=n.n(Fw);const Ww=t=>{const{field:e,groupBy:n,as:r=["y","size"],min:i,max:o,size:a=10,width:s}=t,[l,u]=r;return t=>{const r=Array.from(uv(t,(t=>n.map((e=>t[e])).join("-"))).values());return r.map((t=>{const n=zw().create(t.map((t=>t[e])),{min:i,max:o,size:a,width:s}),r=n.map((t=>t.x)),c=n.map((t=>t.y));return Object.assign(Object.assign({},t[0]),{[l]:r,[u]:c})}))}};Ww.props={};var Hw=n(4286);const $w=1e-10;function Gw(t,e){const n=Uw(t),r=n.filter((function(e){return Vw(e,t)}));let i,o=0,a=0;const s=[];if(r.length>1){const e=Zw(r);for(i=0;i<r.length;++i){const t=r[i];t.angle=Math.atan2(t.x-e.x,t.y-e.y)}r.sort((function(t,e){return e.angle-t.angle}));let n=r[r.length-1];for(i=0;i<r.length;++i){const e=r[i];a+=(n.x+e.x)*(e.y-n.y);const l={x:(e.x+n.x)/2,y:(e.y+n.y)/2};let u=null;for(let r=0;r<e.parentIndex.length;++r)if(n.parentIndex.indexOf(e.parentIndex[r])>-1){const i=t[e.parentIndex[r]],o=Math.atan2(e.x-i.x,e.y-i.y),a=Math.atan2(n.x-i.x,n.y-i.y);let s=a-o;s<0&&(s+=2*Math.PI);const c=a-s/2;let f=qw(l,{x:i.x+i.radius*Math.sin(c),y:i.y+i.radius*Math.cos(c)});f>2*i.radius&&(f=2*i.radius),(null===u||u.width>f)&&(u={circle:i,width:f,p1:e,p2:n})}null!==u&&(s.push(u),o+=Yw(u.circle.radius,u.width),n=e)}}else{let e=t[0];for(i=1;i<t.length;++i)t[i].radius<e.radius&&(e=t[i]);let n=!1;for(i=0;i<t.length;++i)if(qw(t[i],e)>Math.abs(e.radius-t[i].radius)){n=!0;break}n?o=a=0:(o=e.radius*e.radius*Math.PI,s.push({circle:e,p1:{x:e.x,y:e.y+e.radius},p2:{x:e.x-$w,y:e.y+e.radius},width:2*e.radius}))}return a/=2,e&&(e.area=o+a,e.arcArea=o,e.polygonArea=a,e.arcs=s,e.innerPoints=r,e.intersectionPoints=n),o+a}function Vw(t,e){for(let n=0;n<e.length;++n)if(qw(t,e[n])>e[n].radius+$w)return!1;return!0}function Uw(t){const e=[];for(let n=0;n<t.length;++n)for(let r=n+1;r<t.length;++r){const i=Kw(t[n],t[r]);for(let t=0;t<i.length;++t){const o=i[t];o.parentIndex=[n,r],e.push(o)}}return e}function Yw(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function qw(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function Xw(t,e,n){if(n>=t+e)return 0;if(n<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);const r=t-(n*n-e*e+t*t)/(2*n),i=e-(n*n-t*t+e*e)/(2*n);return Yw(t,r)+Yw(e,i)}function Kw(t,e){const n=qw(t,e),r=t.radius,i=e.radius;if(n>=r+i||n<=Math.abs(r-i))return[];const o=(r*r-i*i+n*n)/(2*n),a=Math.sqrt(r*r-o*o),s=t.x+o*(e.x-t.x)/n,l=t.y+o*(e.y-t.y)/n,u=-(e.y-t.y)*(a/n),c=-(e.x-t.x)*(a/n);return[{x:s+u,y:l-c},{x:s-u,y:l+c}]}function Zw(t){const e={x:0,y:0};for(let n=0;n<t.length;++n)e.x+=t[n].x,e.y+=t[n].y;return e.x/=t.length,e.y/=t.length,e}function Qw(t,e){e=e||{},e.maxIterations=e.maxIterations||500;const n=e.initialLayout||i_,r=e.lossFunction||s_;t=e_(t);const i=n(t,e),o=[],a=[];let s;for(s in i)i.hasOwnProperty(s)&&(o.push(i[s].x),o.push(i[s].y),a.push(s));const l=(0,Hw.nelderMead)((function(e){const n={};for(let t=0;t<a.length;++t){const r=a[t];n[r]={x:e[2*t],y:e[2*t+1],radius:i[r].radius}}return r(n,t)}),o,e),u=l.x;for(let c=0;c<a.length;++c)s=a[c],i[s].x=u[2*c],i[s].y=u[2*c+1];return i}const Jw=1e-10;function t_(t,e,n){return Math.min(t,e)*Math.min(t,e)*Math.PI<=n+Jw?Math.abs(t-e):(0,Hw.bisect)((function(r){return Xw(t,e,r)-n}),0,t+e)}function e_(t){t=t.slice();const e=[],n={};let r,i,o,a;for(r=0;r<t.length;++r){const i=t[r];1==i.sets.length?e.push(i.sets[0]):2==i.sets.length&&(o=i.sets[0],a=i.sets[1],n[[o,a]]=!0,n[[a,o]]=!0)}for(e.sort(((t,e)=>t>e?1:-1)),r=0;r<e.length;++r)for(o=e[r],i=r+1;i<e.length;++i)a=e[i],[o,a]in n||t.push({sets:[o,a],size:0});return t}function n_(t,e,n){const r=(0,Hw.zerosM)(e.length,e.length),i=(0,Hw.zerosM)(e.length,e.length);return t.filter((function(t){return 2==t.sets.length})).map((function(t){const o=n[t.sets[0]],a=n[t.sets[1]],s=Math.sqrt(e[o].size/Math.PI),l=Math.sqrt(e[a].size/Math.PI),u=t_(s,l,t.size);r[o][a]=r[a][o]=u;let c=0;t.size+1e-10>=Math.min(e[o].size,e[a].size)?c=1:t.size<=1e-10&&(c=-1),i[o][a]=i[a][o]=c})),{distances:r,constraints:i}}function r_(t,e,n,r){let i,o=0;for(i=0;i<e.length;++i)e[i]=0;for(i=0;i<n.length;++i){const a=t[2*i],s=t[2*i+1];for(let l=i+1;l<n.length;++l){const u=t[2*l],c=t[2*l+1],f=n[i][l],h=r[i][l],d=(u-a)*(u-a)+(c-s)*(c-s),p=Math.sqrt(d),v=d-f*f;h>0&&p<=f||h<0&&p>=f||(o+=2*v*v,e[2*i]+=4*v*(a-u),e[2*i+1]+=4*v*(s-c),e[2*l]+=4*v*(u-a),e[2*l+1]+=4*v*(c-s))}}return o}function i_(t,e){let n=a_(t,e);const r=e.lossFunction||s_;if(t.length>=8){const i=o_(t,e),o=r(i,t),a=r(n,t);o+1e-8<a&&(n=i)}return n}function o_(t,e){e=e||{};const n=e.restarts||10,r=[],i={};let o;for(o=0;o<t.length;++o){const e=t[o];1==e.sets.length&&(i[e.sets[0]]=r.length,r.push(e))}const a=n_(t,r,i);let s=a.distances;const l=a.constraints,u=(0,Hw.norm2)(s.map(Hw.norm2))/s.length;s=s.map((function(t){return t.map((function(t){return t/u}))}));const c=function(t,e){return r_(t,e,s,l)};let f,h;for(o=0;o<n;++o){const t=(0,Hw.zeros)(2*s.length).map(Math.random);h=(0,Hw.conjugateGradient)(c,t,e),(!f||h.fx<f.fx)&&(f=h)}const d=f.x,p={};for(o=0;o<r.length;++o){const t=r[o];p[t.sets[0]]={x:d[2*o]*u,y:d[2*o+1]*u,radius:Math.sqrt(t.size/Math.PI)}}if(e.history)for(o=0;o<e.history.length;++o)(0,Hw.scale)(e.history[o].x,u);return p}function a_(t,e){const n=e&&e.lossFunction?e.lossFunction:s_,r={},i={};let o;for(let f=0;f<t.length;++f){const e=t[f];1==e.sets.length&&(o=e.sets[0],r[o]={x:1e10,y:1e10,rowid:Object.keys(r).length,size:e.size,radius:Math.sqrt(e.size/Math.PI)},i[o]=[])}t=t.filter((function(t){return 2==t.sets.length}));for(let f=0;f<t.length;++f){const e=t[f];let n=e.hasOwnProperty("weight")?e.weight:1;const o=e.sets[0],a=e.sets[1];e.size+Jw>=Math.min(r[o].size,r[a].size)&&(n=0),i[o].push({set:a,size:e.size,weight:n}),i[a].push({set:o,size:e.size,weight:n})}const a=[];for(o in i)if(i.hasOwnProperty(o)){let t=0;for(let e=0;e<i[o].length;++e)t+=i[o][e].size*i[o][e].weight;a.push({set:o,size:t})}function s(t,e){return e.size-t.size}a.sort(s);const l={};function u(t){return t.set in l}function c(t,e){r[e].x=t.x,r[e].y=t.y,l[e]=!0}c({x:0,y:0},a[0].set);for(let f=1;f<a.length;++f){const e=a[f].set,l=i[e].filter(u);if(o=r[e],l.sort(s),0===l.length)throw"ERROR: missing pairwise overlap information";const h=[];for(let t=0;t<l.length;++t){const e=r[l[t].set],n=t_(o.radius,e.radius,l[t].size);h.push({x:e.x+n,y:e.y}),h.push({x:e.x-n,y:e.y}),h.push({y:e.y+n,x:e.x}),h.push({y:e.y-n,x:e.x});for(let i=t+1;i<l.length;++i){const t=r[l[i].set],a=t_(o.radius,t.radius,l[i].size),s=Kw({x:e.x,y:e.y,radius:n},{x:t.x,y:t.y,radius:a});for(let e=0;e<s.length;++e)h.push(s[e])}}let d=1e50,p=h[0];for(let i=0;i<h.length;++i){r[e].x=h[i].x,r[e].y=h[i].y;const o=n(r,t);o<d&&(d=o,p=h[i])}c(p,e)}return r}function s_(t,e){let n=0;function r(e){return e.map((function(e){return t[e]}))}for(let i=0;i<e.length;++i){const o=e[i];let a;if(1==o.sets.length)continue;if(2==o.sets.length){const e=t[o.sets[0]],n=t[o.sets[1]];a=Xw(e.radius,n.radius,qw(e,n))}else a=Gw(r(o.sets));const s=o.hasOwnProperty("weight")?o.weight:1;n+=s*(a-o.size)*(a-o.size)}return n}function l_(t){const e=function(e){const n=Math.max.apply(null,t.map((function(t){return t[e]+t.radius}))),r=Math.min.apply(null,t.map((function(t){return t[e]-t.radius})));return{max:n,min:r}};return{xRange:e("x"),yRange:e("y")}}function u_(t,e,n,r){const i=[],o=[];for(const v in t)t.hasOwnProperty(v)&&(o.push(v),i.push(t[v]));e-=2*r,n-=2*r;const a=l_(i),s=a.xRange,l=a.yRange;if(s.max==s.min||l.max==l.min)return console.log("not scaling solution: zero size detected"),t;const u=e/(s.max-s.min),c=n/(l.max-l.min),f=Math.min(c,u),h=(e-(s.max-s.min)*f)/2,d=(n-(l.max-l.min)*f)/2,p={};for(let v=0;v<i.length;++v){const t=i[v];p[o[v]]={radius:f*t.radius,x:r+h+(t.x-s.min)*f,y:r+d+(t.y-l.min)*f}}return p}function c_(t,e,n){const r=[],i=t-n,o=e;return r.push("M",i,o),r.push("A",n,n,0,1,0,i+2*n,o),r.push("A",n,n,0,1,0,i,o),r.join(" ")}function f_(t){const e={};Gw(t,e);const n=e.arcs;if(0===n.length)return"M 0 0";if(1==n.length){const t=n[0].circle;return c_(t.x,t.y,t.radius)}{const t=["\nM",n[0].p2.x,n[0].p2.y];for(let e=0;e<n.length;++e){const r=n[e],i=r.circle.radius,o=r.width>i;t.push("\nA",i,i,0,o?1:0,1,r.p1.x,r.p1.y)}return t.join(" ")}}const h_=t=>{const{sets:e="sets",size:n="size",as:r=["key","path"],padding:i=0}=t,[o,a]=r;return t=>{const r=t.map((t=>Object.assign(Object.assign({},t),{sets:t[e],size:t[n],[o]:t.sets.join("&")})));r.sort(((t,e)=>t.sets.length-e.sets.length));const s=Qw(r);let l;return r.map((t=>{const n=t[e],r=({width:t,height:e})=>{l=l||u_(s,t,e,i);const r=n.map((t=>l[t]));let o=f_(r);return/[zZ]$/.test(o)||(o+=" Z"),o};return Object.assign(Object.assign({},t),{[a]:r})}))}};h_.props={};var d_=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))},p_=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function v_(t,e){const{text:n="text",value:r="value"}=e;return t.map((t=>Object.assign(Object.assign({},t),{text:t[n],value:t[r]})))}const g_=(t,e)=>({size:[t,e]}),y_=(t,e)=>({axis:!1,type:"text",encode:{x:"x",y:"y",text:"text",rotate:"rotate",fontSize:"size"},scale:{x:{domain:[0,t],range:[0,1]},y:{domain:[0,e],range:[0,1]},fontSize:{type:"identity"},rotate:{type:"identity"}},style:{textAlign:"center"}}),m_=(t,e)=>d_(void 0,void 0,void 0,(function*(){const{width:n,height:r}=e,{data:i,encode:o={},scale:a,style:s={},layout:l={}}=t,u=p_(t,["data","encode","scale","style","layout"]),c=v_(i,o),f=yield jw(Object.assign(Object.assign({},g_(n,r)),l))(c);return Bd({},y_(n,r),Object.assign(Object.assign({data:f,encode:o,scale:a,style:s},u),{axis:!1}))}));function b_(t,...e){return e.reduce(((t,e)=>n=>t(e(n))),t)}function x_(t,e){return e-t?n=>(n-t)/(e-t):t=>.5}function w_(t,e){const n=e<t?e:t,r=t>e?t:e;return t=>Math.min(Math.max(n,t),r)}function __(t,e,n,r,i){let o=n||0,a=r||t.length;const s=i||(t=>t);while(o<a){const n=Math.floor((o+a)/2);s(t[n])>e?a=n:o=n+1}return o}m_.props={};const O_=Math.sqrt(50),C_=Math.sqrt(10),S_=Math.sqrt(2);function E_(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/10**i;return i>=0?(o>=O_?10:o>=C_?5:o>=S_?2:1)*10**i:-(10**-i)/(o>=O_?10:o>=C_?5:o>=S_?2:1)}function M_(t,e,n){const r=Math.abs(e-t)/Math.max(0,n);let i=10**Math.floor(Math.log(r)/Math.LN10);const o=r/i;return o>=O_?i*=10:o>=C_?i*=5:o>=S_&&(i*=2),e<t?-i:i}const k_=(t,e,n=5)=>{const r=[t,e];let i,o=0,a=r.length-1,s=r[o],l=r[a];return l<s&&([s,l]=[l,s],[o,a]=[a,o]),i=E_(s,l,n),i>0?(s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i,i=E_(s,l,n)):i<0&&(s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i,i=E_(s,l,n)),i>0?(r[o]=Math.floor(s/i)*i,r[a]=Math.ceil(l/i)*i):i<0&&(r[o]=Math.ceil(s*i)/i,r[a]=Math.floor(l*i)/i),r},T_=1e3,A_=60*T_,L_=60*A_,P_=24*L_,R_=7*P_,I_=30*P_,j_=365*P_;function N_(t,e,n,r){const i=(t,e)=>{const i=t=>r(t)%e===0;let o=e;while(o&&!i(t))n(t,-1),o-=1;return t},o=(t,n)=>{n&&i(t,n),e(t)},a=(t,e)=>{const n=new Date(+t);return o(n,e),n},s=(t,e)=>{const r=new Date(+t-1);return o(r,e),n(r,e),o(r),r},l=(t,e,r,i)=>{const a=[],l=Math.floor(r),u=i?s(t,r):s(t);for(let s=u;+s<+e;n(s,l),o(s))a.push(new Date(+s));return a};return{ceil:s,floor:a,range:l,duration:t}}const B_=N_(1,(t=>t),((t,e=1)=>{t.setTime(+t+e)}),(t=>t.getTime())),D_=N_(T_,(t=>{t.setMilliseconds(0)}),((t,e=1)=>{t.setTime(+t+T_*e)}),(t=>t.getSeconds())),F_=N_(A_,(t=>{t.setSeconds(0,0)}),((t,e=1)=>{t.setTime(+t+A_*e)}),(t=>t.getMinutes())),z_=N_(L_,(t=>{t.setMinutes(0,0,0)}),((t,e=1)=>{t.setTime(+t+L_*e)}),(t=>t.getHours())),W_=N_(P_,(t=>{t.setHours(0,0,0,0)}),((t,e=1)=>{t.setTime(+t+P_*e)}),(t=>t.getDate()-1)),H_=N_(I_,(t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e=1)=>{const n=t.getMonth();t.setMonth(n+e)}),(t=>t.getMonth())),$_=N_(R_,(t=>{t.setDate(t.getDate()-t.getDay()%7),t.setHours(0,0,0,0)}),((t,e=1)=>{t.setTime(+t+R_*e)}),(t=>{const e=H_.floor(t),n=new Date(+t);return Math.floor((+n-+e)/R_)})),G_=N_(j_,(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e=1)=>{const n=t.getFullYear();t.setFullYear(n+e)}),(t=>t.getFullYear())),V_={millisecond:B_,second:D_,minute:F_,hour:z_,day:W_,week:$_,month:H_,year:G_},U_=N_(1,(t=>t),((t,e=1)=>{t.setTime(+t+e)}),(t=>t.getTime())),Y_=N_(T_,(t=>{t.setUTCMilliseconds(0)}),((t,e=1)=>{t.setTime(+t+T_*e)}),(t=>t.getUTCSeconds())),q_=N_(A_,(t=>{t.setUTCSeconds(0,0)}),((t,e=1)=>{t.setTime(+t+A_*e)}),(t=>t.getUTCMinutes())),X_=N_(L_,(t=>{t.setUTCMinutes(0,0,0)}),((t,e=1)=>{t.setTime(+t+L_*e)}),(t=>t.getUTCHours())),K_=N_(P_,(t=>{t.setUTCHours(0,0,0,0)}),((t,e=1)=>{t.setTime(+t+P_*e)}),(t=>t.getUTCDate()-1)),Z_=N_(I_,(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e=1)=>{const n=t.getUTCMonth();t.setUTCMonth(n+e)}),(t=>t.getUTCMonth())),Q_=N_(R_,(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7)%7),t.setUTCHours(0,0,0,0)}),((t,e=1)=>{t.setTime(+t+R_*e)}),(t=>{const e=Z_.floor(t),n=new Date(+t);return Math.floor((+n-+e)/R_)})),J_=N_(j_,(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e=1)=>{const n=t.getUTCFullYear();t.setUTCFullYear(n+e)}),(t=>t.getUTCFullYear())),tO={millisecond:U_,second:Y_,minute:q_,hour:X_,day:K_,week:Q_,month:Z_,year:J_};function eO(t){const e=t?tO:V_,{year:n,month:r,week:i,day:o,hour:a,minute:s,second:l,millisecond:u}=e,c=[[l,1],[l,5],[l,15],[l,30],[s,1],[s,5],[s,15],[s,30],[a,1],[a,3],[a,6],[a,12],[o,1],[o,2],[i,1],[r,1],[r,3],[n,1]];return{tickIntervals:c,year:n,millisecond:u}}function nO(t,e,n,r,i){const o=+t,a=+e,{tickIntervals:s,year:l,millisecond:u}=eO(i),c=([t,e])=>t.duration*e,f=r?(a-o)/r:n||5,h=r||(a-o)/f,d=s.length,p=__(s,h,0,d,c);let v;if(p===d){const t=M_(o/l.duration,a/l.duration,f);v=[l,t]}else if(p){const t=h/c(s[p-1])<c(s[p])/h,[e,n]=t?s[p-1]:s[p],i=r?Math.ceil(r/e.duration):n;v=[e,i]}else{const t=Math.max(M_(o,a,f),1);v=[u,t]}return v}const rO=(t,e,n,r,i)=>{const o=t>e,a=o?e:t,s=o?t:e,[l,u]=nO(a,s,n,r,i),c=[l.floor(a,u),l.ceil(s,u)];return o?c.reverse():c};var iO={}.toString,oO=function(t,e){return iO.call(t)==="[object "+e+"]"},aO=oO,sO=function(t){return aO(t,"Function")},lO=function(t){return Array.isArray?Array.isArray(t):aO(t,"Array")},uO=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};function cO(t,e){var n;if(t)if(lO(t)){for(var r=0,i=t.length;r<i;r++)if(n=e(t[r],r),!1===n)break}else if(uO(t))for(var o in t)if(t.hasOwnProperty(o)&&(n=e(t[o],o),!1===n))break}var fO=cO;Object.keys;var hO=function(t){return"object"===typeof t&&null!==t},dO=hO,pO=function(t){if(!dO(t)||!aO(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;var e=t;while(null!==Object.getPrototypeOf(e))e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},vO=pO;var gO=Array.prototype,yO=(gO.splice,gO.indexOf,Array.prototype.splice,function(t){return aO(t,"String")});Object.prototype.hasOwnProperty;var mO=function(t){return aO(t,"Number")},bO=mO,xO=(Number.isInteger&&Number.isInteger,Math.PI,Math.PI,Object.values?function(t){return Object.values(t)}:function(t){var e=[];return fO(t,(function(n,r){sO(t)&&"prototype"===r||e.push(n)})),e}),wO=xO;var _O=function(t){return null===t},OO=_O,CO=(Object.prototype,function(t){return void 0===t}),SO=CO,EO=function(t,e){if(!sO(t))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n},MO=5;function kO(t,e,n,r){for(var i in n=n||0,r=r||MO,e)if(e.hasOwnProperty(i)){var o=e[i];null!==o&&vO(o)?(vO(t[i])||(t[i]={}),n<r?kO(t[i],o,n+1,r):t[i]=e[i]):lO(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}var TO=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)kO(t,e[r]);return t},AO=TO,LO=function(t){return null!==t&&"function"!==typeof t&&isFinite(t.length)},PO=LO,RO=function(t,e){if(!PO(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,i=0;i<t.length;i++)if(t[i]===e){r=i;break}return r},IO=RO;Object.prototype.hasOwnProperty;Object.prototype.hasOwnProperty;var jO=function(t){return t},NO=function(t){return null===t||void 0===t},BO=NO;function DO(t){return BO(t)?0:PO(t)?t.length:Object.keys(t).length}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var FO=function(t,e){return FO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},FO(t,e)};function zO(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}FO(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var WO=function(){return WO=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},WO.apply(this,arguments)};function HO(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function $O(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}Object.create;function GO(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function VO(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function UO(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function YO(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}var qO;Object.create;function XO(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}EO((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return qO||(qO=document.createElement("canvas").getContext("2d")),qO.font=[o,a,i,n+"px",r].join(" "),qO.measureText(yO(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),UO([t],wO(e)).join("")})),function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}();function KO(t){return!SO(t)&&!OO(t)&&!Number.isNaN(t)}const ZO=t=>e=>-t(-e),QO=(t,e)=>{const n=Math.log(t),r=t===Math.E?Math.log:10===t?Math.log10:2===t?Math.log2:t=>Math.log(t)/n;return e?ZO(r):r},JO=(t,e)=>{const n=t===Math.E?Math.exp:e=>t**e;return e?ZO(n):n},tC=t=>e=>{const n=t(e);return bO(n)?Math.round(n):n};function eC(t,e){return n=>{n.prototype.rescale=function(){this.initRange(),this.nice();const[t]=this.chooseTransforms();this.composeOutput(t,this.chooseClamp(t))},n.prototype.initRange=function(){const{interpolator:e}=this.options;this.options.range=t(e)},n.prototype.composeOutput=function(t,n){const{domain:r,interpolator:i,round:o}=this.getOptions(),a=e(r.map(t)),s=o?tC(i):i;this.output=b_(s,a,n,t)},n.prototype.invert=void 0}}var nC=n(9841),rC=n.n(nC);function iC(t,e,n){let r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function oC(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100,i=t[3];if(0===n)return[255*r,255*r,255*r,i];const o=r<.5?r*(1+n):r+n-r*n,a=2*r-o,s=iC(a,o,e+1/3),l=iC(a,o,e),u=iC(a,o,e-1/3);return[255*s,255*l,255*u,i]}function aC(t){const e=rC().get(t);if(!e)return null;const{model:n,value:r}=e;return"rgb"===n?r:"hsl"===n?oC(r):null}const sC=(t,e)=>n=>t*(1-n)+e*n,lC=(t,e)=>{const n=aC(t),r=aC(e);return null===n||null===r?n?()=>t:()=>e:t=>{const e=new Array(4);for(let l=0;l<4;l+=1){const i=n[l],o=r[l];e[l]=i*(1-t)+o*t}const[i,o,a,s]=e;return`rgba(${Math.round(i)}, ${Math.round(o)}, ${Math.round(a)}, ${s})`}},uC=(t,e)=>"number"===typeof t&&"number"===typeof e?sC(t,e):"string"===typeof t&&"string"===typeof e?lC(t,e):()=>t,cC=(t,e)=>{const n=sC(t,e);return t=>Math.round(n(t))};function fC(t,e){const{second:n,minute:r,hour:i,day:o,week:a,month:s,year:l}=e;return n.floor(t)<t?".SSS":r.floor(t)<t?":ss":i.floor(t)<t?"hh:mm":o.floor(t)<t?"hh A":s.floor(t)<t?a.floor(t)<t?"MMM DD":"ddd DD":l.floor(t)<t?"MMMM":"YYYY"}function hC({map:t,initKey:e},n){const r=e(n);return t.has(r)?t.get(r):n}function dC({map:t,initKey:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function pC({map:t,initKey:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function vC(t){return"object"===typeof t?t.valueOf():t}class gC extends Map{constructor(t){if(super(),this.map=new Map,this.initKey=vC,null!==t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(hC({map:this.map,initKey:this.initKey},t))}has(t){return super.has(hC({map:this.map,initKey:this.initKey},t))}set(t,e){return super.set(dC({map:this.map,initKey:this.initKey},t),e)}delete(t){return super.delete(pC({map:this.map,initKey:this.initKey},t))}}class yC{constructor(t){this.options=AO({},this.getDefaultOptions()),this.update(t)}getOptions(){return this.options}update(t={}){this.options=AO({},this.options,t),this.rescale(t)}rescale(t){}}const mC=Symbol("defaultUnknown");function bC(t,e,n){for(let r=0;r<e.length;r+=1)t.has(e[r])||t.set(n(e[r]),r)}function xC(t){const{value:e,from:n,to:r,mapper:i,notFoundReturn:o}=t;let a=i.get(e);if(void 0===a){if(o!==mC)return o;a=n.push(e)-1,i.set(e,a)}return r[a%r.length]}function wC(t){return t instanceof Date?t=>`${t}`:"object"===typeof t?t=>JSON.stringify(t):t=>t}class _C extends yC{getDefaultOptions(){return{domain:[],range:[],unknown:mC}}constructor(t){super(t)}map(t){return 0===this.domainIndexMap.size&&bC(this.domainIndexMap,this.getDomain(),this.domainKey),xC({value:this.domainKey(t),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(t){return 0===this.rangeIndexMap.size&&bC(this.rangeIndexMap,this.getRange(),this.rangeKey),xC({value:this.rangeKey(t),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(t){const[e]=this.options.domain,[n]=this.options.range;if(this.domainKey=wC(e),this.rangeKey=wC(n),!this.rangeIndexMap)return this.rangeIndexMap=new Map,void(this.domainIndexMap=new Map);t&&!t.range||this.rangeIndexMap.clear(),(!t||t.domain||t.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new _C(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:t,compare:e}=this.options;return this.sortedDomain=e?[...t].sort(e):t,this.sortedDomain}}function OC(t){const e=Math.min(...t);return t.map((t=>t/e))}function CC(t,e){const n=t.length,r=e-n;return r>0?[...t,...new Array(r).fill(1)]:r<0?t.slice(0,e):t}function SC(t){return Math.round(1e12*t)/1e12}function EC(t){const{domain:e,range:n,paddingOuter:r,paddingInner:i,flex:o,round:a,align:s}=t,l=e.length,u=CC(o,l),[c,f]=n,h=f-c,d=2/l*r+1-1/l*i,p=h/d,v=p*i/l,g=p-l*v,y=OC(u),m=y.reduce(((t,e)=>t+e)),b=g/m,x=new gC(e.map(((t,e)=>{const n=y[e]*b;return[t,a?Math.floor(n):n]}))),w=new gC(e.map(((t,e)=>{const n=y[e]*b,r=n+v;return[t,a?Math.floor(r):r]}))),_=Array.from(w.values()).reduce(((t,e)=>t+e)),O=h-(_-_/l*i),C=O*s,S=c+C;let E=a?Math.round(S):S;const M=new Array(l);for(let k=0;k<l;k+=1){M[k]=SC(E);const t=e[k];E+=w.get(t)}return{valueBandWidth:x,valueStep:w,adjustedRange:M}}function MC(t){var e;const{domain:n}=t,r=n.length;if(0===r)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};const i=!!(null===(e=t.flex)||void 0===e?void 0:e.length);if(i)return EC(t);const{range:o,paddingOuter:a,paddingInner:s,round:l,align:u}=t;let c,f,h=o[0];const d=o[1],p=d-h,v=2*a,g=r-s;c=p/Math.max(1,v+g),l&&(c=Math.floor(c)),h+=(p-c*(r-s))*u,f=c*(1-s),l&&(h=Math.round(h),f=Math.round(f));const y=new Array(r).fill(0).map(((t,e)=>h+e*c));return{valueStep:c,valueBandWidth:f,adjustedRange:y}}class kC extends _C{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:mC,flex:[]}}constructor(t){super(t)}clone(){return new kC(this.options)}getStep(t){return void 0===this.valueStep?1:"number"===typeof this.valueStep?this.valueStep:void 0===t?Array.from(this.valueStep.values())[0]:this.valueStep.get(t)}getBandWidth(t){return void 0===this.valueBandWidth?1:"number"===typeof this.valueBandWidth?this.valueBandWidth:void 0===t?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(t)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:t,paddingInner:e}=this.options;return t>0?t:e}getPaddingOuter(){const{padding:t,paddingOuter:e}=this.options;return t>0?t:e}rescale(){super.rescale();const{align:t,domain:e,range:n,round:r,flex:i}=this.options,{adjustedRange:o,valueBandWidth:a,valueStep:s}=MC({align:t,range:n,round:r,flex:i,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:e});this.valueStep=s,this.valueBandWidth=a,this.adjustedRange=o}}const TC=(t,e,n)=>{let r,i,o=t,a=e;if(o===a&&n>0)return[o];let s=E_(o,a,n);if(0===s||!Number.isFinite(s))return[];if(s>0){o=Math.ceil(o/s),a=Math.floor(a/s),i=new Array(r=Math.ceil(a-o+1));for(let t=0;t<r;t+=1)i[t]=(o+t)*s}else{s=-s,o=Math.ceil(o*s),a=Math.floor(a*s),i=new Array(r=Math.ceil(a-o+1));for(let t=0;t<r;t+=1)i[t]=(o+t)/s}return i};class AC extends yC{getDefaultOptions(){return{range:[0],domain:[0,1],unknown:void 0,tickCount:5,tickMethod:TC}}map(t){const[e]=this.options.range;return void 0!==e?e:this.options.unknown}invert(t){const[e]=this.options.range;return t===e&&void 0!==e?this.options.domain:[]}getTicks(){const{tickMethod:t,domain:e,tickCount:n}=this.options,[r,i]=e;return bO(r)&&bO(i)?t(r,i,n):[]}clone(){return new AC(this.options)}}function LC(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}const PC=[1,5,2,2.5,4,3],RC=100*Number.EPSILON;function IC(t,e){return(t%e+e)%e}function jC(t){return Math.round(1e12*t)/1e12}function NC(t,e,n,r,i,o){const a=DO(e),s=IO(e,t);let l=0;const u=IC(r,o);return(u<RC||o-u<RC)&&r<=0&&i>=0&&(l=1),1-s/(a-1)-n+l}function BC(t,e,n){const r=DO(e),i=IO(e,t),o=1;return 1-i/(r-1)-n+o}function DC(t,e,n,r,i,o){const a=(t-1)/(o-i),s=(e-1)/(Math.max(o,r)-Math.min(n,i));return 2-Math.max(a/s,s/a)}function FC(t,e){return t>=e?2-(t-1)/(e-1):1}function zC(t,e,n,r){const i=e-t;return 1-.5*((e-r)**2+(t-n)**2)/(.1*i)**2}function WC(t,e,n){const r=e-t;if(n>r){const t=(n-r)/2;return 1-t**2/(.1*r)**2}return 1}function HC(){return 1}const $C=(t,e,n=5,r=!0,i=PC,o=[.25,.2,.5,.05])=>{const a=n<0?0:Math.round(n);if(Number.isNaN(t)||Number.isNaN(e)||"number"!==typeof t||"number"!==typeof e||!a)return[];if(e-t<1e-15||1===a)return[t];const s={score:-2,lmin:0,lmax:0,lstep:0};let l=1;while(l<1/0){for(let n=0;n<i.length;n+=1){const u=i[n],c=BC(u,i,l);if(o[0]*c+o[1]+o[2]+o[3]<s.score){l=1/0;break}let f=2;while(f<1/0){const n=FC(f,a);if(o[0]*c+o[1]+o[2]*n+o[3]<s.score)break;const h=(e-t)/(f+1)/l/u;let d=Math.ceil(Math.log10(h));while(d<1/0){const h=l*u*10**d,p=WC(t,e,h*(f-1));if(o[0]*c+o[1]*p+o[2]*n+o[3]<s.score)break;const v=Math.floor(e/h)*l-(f-1)*l,g=Math.ceil(t/h)*l;if(v<=g){const n=g-v;for(let c=0;c<=n;c+=1){const n=v+c,d=n*(h/l),p=d+h*(f-1),g=h,y=NC(u,i,l,d,p,g),m=zC(t,e,d,p),b=DC(f,a,t,e,d,p),x=HC(),w=o[0]*y+o[1]*m+o[2]*b+o[3]*x;w>s.score&&(!r||d<=t&&p>=e)&&(s.lmin=d,s.lmax=p,s.lstep=g,s.score=w)}}d+=1}f+=1}}l+=1}const u=LC(s.lmax),c=LC(s.lmin),f=LC(s.lstep),h=Math.floor(jC((u-c)/f))+1,d=new Array(h);d[0]=LC(c);for(let p=1;p<h;p+=1)d[p]=LC(d[p-1]+f);return d};class GC extends yC{getDefaultOptions(){return{domain:[0,1],range:[0,1],tickCount:5,unknown:void 0,tickMethod:$C}}map(t){return KO(t)?t:this.options.unknown}invert(t){return this.map(t)}clone(){return new GC(this.options)}getTicks(){const{domain:t,tickCount:e,tickMethod:n}=this.options,[r,i]=t;return bO(r)&&bO(i)?n(r,i,e):[]}}const VC=(t,e,n)=>{const[r,i]=t,[o,a]=e;let s,l;return r<i?(s=x_(r,i),l=n(o,a)):(s=x_(i,r),l=n(a,o)),b_(l,s)},UC=(t,e,n)=>{const r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=t[0]>t[r],s=a?[...t].reverse():t,l=a?[...e].reverse():e;for(let u=0;u<r;u+=1)i[u]=x_(s[u],s[u+1]),o[u]=n(l[u],l[u+1]);return e=>{const n=__(t,e,1,r)-1,a=i[n],s=o[n];return b_(s,a)(e)}},YC=(t,e,n,r)=>{const i=Math.min(t.length,e.length),o=i>2?UC:VC,a=r?cC:n;return o(t,e,a)};class qC extends yC{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:sC,tickCount:5}}map(t){return KO(t)?this.output(t):this.options.unknown}invert(t){return KO(t)?this.input(t):this.options.unknown}nice(){if(!this.options.nice)return;const[t,e,n,...r]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(t,e,n,...r)}getTicks(){const{tickMethod:t}=this.options,[e,n,r,...i]=this.getTickMethodOptions();return t(e,n,r,...i)}getTickMethodOptions(){const{domain:t,tickCount:e}=this.options,n=t[0],r=t[t.length-1];return[n,r,e]}chooseNice(){return k_}rescale(){this.nice();const[t,e]=this.chooseTransforms();this.composeOutput(t,this.chooseClamp(t)),this.composeInput(t,e,this.chooseClamp(e))}chooseClamp(t){const{clamp:e,range:n}=this.options,r=this.options.domain.map(t),i=Math.min(r.length,n.length);return e?w_(r[0],r[i-1]):jO}composeOutput(t,e){const{domain:n,range:r,round:i,interpolate:o}=this.options,a=YC(n.map(t),r,o,i);this.output=b_(a,e,t)}composeInput(t,e,n){const{domain:r,range:i}=this.options,o=YC(i,r.map(t),sC);this.input=b_(e,n,o)}}class XC extends qC{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:uC,tickMethod:TC,tickCount:5}}chooseTransforms(){return[jO,jO]}clone(){return new XC(this.options)}}class KC extends kC{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:mC,paddingInner:1,paddingOuter:0}}constructor(t){super(t)}getPaddingInner(){return 1}clone(){return new KC(this.options)}update(t){super.update(t)}getPaddingOuter(){return this.options.padding}}const ZC=t=>e=>e<0?-((-e)**t):e**t,QC=t=>e=>e<0?-((-e)**(1/t)):e**(1/t),JC=t=>t<0?-Math.sqrt(-t):Math.sqrt(t);class tS extends qC{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,exponent:2,interpolate:uC,tickMethod:TC,tickCount:5}}constructor(t){super(t)}chooseTransforms(){const{exponent:t}=this.options;if(1===t)return[jO,jO];const e=.5===t?JC:ZC(t),n=QC(t);return[e,n]}clone(){return new tS(this.options)}}class eS extends tS{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:uC,tickMethod:TC,tickCount:5,exponent:.5}}constructor(t){super(t)}update(t){super.update(t)}clone(){return new eS(this.options)}}class nS extends yC{getDefaultOptions(){return{domain:[.5],range:[0,1]}}constructor(t){super(t)}map(t){if(!KO(t))return this.options.unknown;const e=__(this.thresholds,t,0,this.n);return this.options.range[e]}invert(t){const{range:e}=this.options,n=e.indexOf(t),r=this.thresholds;return[r[n-1],r[n]]}clone(){return new nS(this.options)}rescale(){const{domain:t,range:e}=this.options;this.n=Math.min(t.length,e.length-1),this.thresholds=t}}const rS=(t,e,n,r=10)=>{const i=t<0,o=JO(r,i),a=QO(r,i),s=e<t,l=s?e:t,u=s?t:e;let c=a(l),f=a(u),h=[];if(!(r%1)&&f-c<n){if(c=Math.floor(c),f=Math.ceil(f),i)for(;c<=f;c+=1){const t=o(c);for(let e=r-1;e>=1;e-=1){const n=t*e;if(n>u)break;n>=l&&h.push(n)}}else for(;c<=f;c+=1){const t=o(c);for(let e=1;e<r;e+=1){const n=t*e;if(n>u)break;n>=l&&h.push(n)}}2*h.length<n&&(h=TC(l,u,n))}else{const t=-1===n?f-c:Math.min(f-c,n);h=TC(c,f,t).map(o)}return s?h.reverse():h},iS=(t,e,n,r)=>{const i=t<0,o=QO(r,i),a=JO(r,i),s=t>e,l=s?e:t,u=s?t:e,c=[a(Math.floor(o(l))),a(Math.ceil(o(u)))];return s?c.reverse():c};class oS extends qC{getDefaultOptions(){return{domain:[1,10],range:[0,1],base:10,interpolate:uC,tickMethod:rS,tickCount:5}}chooseNice(){return iS}getTickMethodOptions(){const{domain:t,tickCount:e,base:n}=this.options,r=t[0],i=t[t.length-1];return[r,i,e,n]}chooseTransforms(){const{base:t,domain:e}=this.options,n=e[0]<0;return[QO(t,n),JO(t,n)]}clone(){return new oS(this.options)}}class aS extends nS{getDefaultOptions(){return{domain:[0,1],range:[.5],nice:!1,tickCount:5,tickMethod:$C}}constructor(t){super(t)}nice(){const{nice:t}=this.options;if(t){const[t,e,n]=this.getTickMethodOptions();this.options.domain=k_(t,e,n)}}getTicks(){const{tickMethod:t}=this.options,[e,n,r]=this.getTickMethodOptions();return t(e,n,r)}getTickMethodOptions(){const{domain:t,tickCount:e}=this.options,n=t[0],r=t[t.length-1];return[n,r,e]}rescale(){this.nice();const{range:t,domain:e}=this.options,[n,r]=e;this.n=t.length-1,this.thresholds=new Array(this.n);for(let i=0;i<this.n;i+=1)this.thresholds[i]=((i+1)*r-(i-this.n)*n)/(this.n+1)}invert(t){const[e,n]=super.invert(t),[r,i]=this.options.domain;return void 0===e&&void 0===n?[e,n]:[e||r,n||i]}getThresholds(){return this.thresholds}clone(){return new aS(this.options)}}function sS(t,e){const n=t.length;if(!n)return;if(n<2)return t[n-1];const r=(n-1)*e,i=Math.floor(r),o=t[i],a=t[i+1];return o+(a-o)*(r-i)}function lS(t,e,n=!1){const r=t;n||r.sort(((t,e)=>t-e));const i=[];for(let o=1;o<e;o+=1)i.push(sS(r,o/e));return i}class uS extends nS{getDefaultOptions(){return{domain:[],range:[],tickCount:5,unknown:void 0,tickMethod:$C}}constructor(t){super(t)}rescale(){const{domain:t,range:e}=this.options;this.n=e.length-1,this.thresholds=lS(t,this.n+1,!1)}invert(t){const[e,n]=super.invert(t),{domain:r}=this.options,i=r[0],o=r[r.length-1];return void 0===e&&void 0===n?[e,n]:[e||i,n||o]}getThresholds(){return this.thresholds}clone(){return new uS(this.options)}getTicks(){const{tickCount:t,domain:e,tickMethod:n}=this.options,r=e.length-1,i=e[0],o=e[r];return n(i,o,t)}}var cS=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,fS="\\d\\d?",hS="\\d\\d",dS="\\d{3}",pS="\\d{4}",vS="[^\\s]+",gS=/\[([^]*?)\]/gm;function yS(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}var mS=function(t){return function(e,n){var r=n[t].map((function(t){return t.toLowerCase()})),i=r.indexOf(e.toLowerCase());return i>-1?i:null}};function bS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];for(var a in o)t[a]=o[a]}return t}var xS=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],wS=["January","February","March","April","May","June","July","August","September","October","November","December"],_S=yS(wS,3),OS=yS(xS,3),CS={dayNamesShort:OS,dayNames:xS,monthNamesShort:_S,monthNames:wS,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10?1:0)*t%10]}},SS=bS({},CS),ES=function(t,e){void 0===e&&(e=2),t=String(t);while(t.length<e)t="0"+t;return t},MS={D:function(t){return String(t.getDate())},DD:function(t){return ES(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return ES(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return ES(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return ES(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return ES(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return ES(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return ES(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return ES(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return ES(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return ES(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return ES(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+ES(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+ES(Math.floor(Math.abs(e)/60),2)+":"+ES(Math.abs(e)%60,2)}},kS=function(t){return+t-1},TS=[null,fS],AS=[null,vS],LS=["isPm",vS,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],PS=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?n:-n}return 0}],RS=(mS("monthNamesShort"),mS("monthNames"),{default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"}),IS=function(t,e,n){if(void 0===e&&(e=RS["default"]),void 0===n&&(n={}),"number"===typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");e=RS[e]||e;var r=[];e=e.replace(gS,(function(t,e){return r.push(e),"@@@"}));var i=bS(bS({},SS),n);return e=e.replace(cS,(function(e){return MS[e](t,i)})),e.replace(/@@@/g,(function(){return r.shift()}))};const jS=(t,e,n,r,i)=>{const o=t>e,a=o?e:t,s=o?t:e,[l,u]=nO(a,s,n,r,i),c=l.range(a,new Date(+s+1),u,!0);return o?c.reverse():c};function NS(t){const e=t.getTimezoneOffset(),n=new Date(t);return n.setMinutes(n.getMinutes()+e,n.getSeconds(),n.getMilliseconds()),n}class BS extends qC{getDefaultOptions(){return{domain:[new Date(2e3,0,1),new Date(2e3,0,2)],range:[0,1],nice:!1,tickCount:5,tickInterval:void 0,unknown:void 0,clamp:!1,tickMethod:jS,interpolate:sC,mask:void 0,utc:!1}}chooseTransforms(){const t=t=>+t,e=t=>new Date(t);return[t,e]}chooseNice(){return rO}getTickMethodOptions(){const{domain:t,tickCount:e,tickInterval:n,utc:r}=this.options,i=t[0],o=t[t.length-1];return[i,o,e,n,r]}getFormatter(){const{mask:t,utc:e}=this.options,n=e?tO:V_,r=e?NS:jO;return e=>IS(r(e),t||fC(e,n))}clone(){return new BS(this.options)}}var DS,FS=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};function zS(t){return[t(0),t(1)]}const WS=t=>{const[e,n]=t,r=b_(sC(0,1),x_(e,n));return r};let HS=DS=class extends XC{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:jO,tickMethod:TC,tickCount:5}}constructor(t){super(t)}clone(){return new DS(this.options)}};HS=DS=FS([eC(zS,WS)],HS);var $S,GS=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};function VS(t){return[t(0),t(.5),t(1)]}const US=t=>{const[e,n,r]=t,i=b_(sC(0,.5),x_(e,n)),o=b_(sC(.5,1),x_(n,r));return t=>e>r?t<n?o(t):i(t):t<n?i(t):o(t)};let YS=$S=class extends XC{getDefaultOptions(){return{domain:[0,.5,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:jO,tickMethod:TC,tickCount:5}}constructor(t){super(t)}clone(){return new $S(this.options)}};function qS(t,e){let n,r;if(void 0===e)for(const i of t)null!=i&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}function XS(t,e){return Object.entries(t).reduce(((n,[r,i])=>(n[r]=e(i,r,t),n)),{})}function KS(t){return t.map(((t,e)=>e))}function ZS(t){return t[0]}function QS(t){return t[t.length-1]}function JS(t){return Array.from(new Set(t))}function tE(t,e){const n=[[],[]];return t.forEach((t=>{n[e(t)?0:1].push(t)})),n}function eE(t,e=t.length){if(1===e)return t.map((t=>[t]));const n=[];for(let r=0;r<t.length;r++){const i=t.slice(r+1),o=eE(i,e-1);o.forEach((e=>{n.push([t[r],...e])}))}return n}function nE(t){if(1===t.length)return[t];const e=[];for(let n=1;n<=t.length;n++)e.push(...eE(t,n));return e}function rE([t,e],[n,r]){return[t-n,e-r]}function iE([t,e],[n,r]){return[t+n,e+r]}function oE([t,e],[n,r]){return Math.sqrt(Math.pow(t-n,2)+Math.pow(e-r,2))}function aE([t,e]){return Math.atan2(e,t)}function sE([t,e]){return aE([t,e])+Math.PI/2}function lE(t,e){const n=aE(t),r=aE(e);return n<r?r-n:2*Math.PI-(n-r)}function uE(t){let e=1/0,n=-1/0,r=1/0,i=-1/0;for(const[s,l]of t)e=Math.min(s,e),n=Math.max(s,n),r=Math.min(l,r),i=Math.max(l,i);const o=n-e,a=i-r;return[e,r,o,a]}function cE([t,e],[n,r]){return[(t+n)/2,(e+r)/2]}function fE(t,e){for(const[n,r]of Object.entries(e))t.style(n,r)}function hE(t,e){return e.forEach(((e,n)=>0===n?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1]))),t.closePath(),t}function dE(t,e,n){const{arrowSize:r}=n,i="string"===typeof r?+parseFloat(r)/100*oE(t,e):r,o=Math.PI/6,a=Math.atan2(e[1]-t[1],e[0]-t[0]),s=Math.PI/2-a-o,l=[e[0]-i*Math.sin(s),e[1]-i*Math.cos(s)],u=a-o,c=[e[0]-i*Math.cos(u),e[1]-i*Math.sin(u)];return[l,c]}function pE(t,e,n,r,i){const o=aE(rE(r,e))+Math.PI,a=aE(rE(r,n))+Math.PI;return t.arc(r[0],r[1],i,o,a,a-o<0),t}function vE(t,e,n,r="y",i="between"){const o="y"===r||!0===r?n:e,a="y"===r||!0===r?90:0,s=KS(o),[l,u]=qS(s,(t=>o[t])),c=new XC({domain:[l,u],range:[0,100]}),f=t=>c.map(o[t]),h={between:e=>`${t[e]} ${f(e)}%`,start:e=>0===e?`${t[e]} ${f(e)}%`:`${t[e-1]} ${f(e)}%, ${t[e]} ${f(e)}%`,end:e=>e===t.length-1?`${t[e]} ${f(e)}%`:`${t[e]} ${f(e)}%, ${t[e+1]} ${f(e)}%`},d=s.sort(((t,e)=>f(t)-f(e))).map(h[i]||h["between"]).join(",");return`linear-gradient(${a}deg, ${d})`}function gE(t){const[e,n,r,i]=t;return[i,e,n,r]}function yE(t,e,n){const[r,i,,o]=pv(t)?gE(e):e,[a,s]=n,l=t.getCenter(),u=sE(rE(r,l)),c=sE(rE(i,l)),f=c===u&&a!==s?c+2*Math.PI:c;return{startAngle:u,endAngle:f-u>=0?f:2*Math.PI+f,innerRadius:oE(o,l),outerRadius:oE(r,l)}}function mE(t){const{colorAttribute:e,opacityAttribute:n=e}=t;return`${n}Opacity`}function bE(t,e){if(!vv(t))return"";const n=t.getCenter(),{transform:r}=e;return`translate(${n[0]}, ${n[1]}) ${r||""}`}function xE(t){if(1===t.length)return t[0];const[[e,n],[r,i]]=t;return[(e+r)/2,(n+i)/2]}function wE(t){return new _E([t],null,t,t.ownerDocument)}YS=$S=GS([eC(VS,US)],YS);class _E{constructor(t=null,e=null,n=null,r=null,i=[null,null,null,null,null],o=[],a=[]){this._elements=Array.from(t),this._data=e,this._parent=n,this._document=r,this._enter=i[0],this._update=i[1],this._exit=i[2],this._merge=i[3],this._split=i[4],this._transitions=o,this._facetElements=a}selectAll(t){const e="string"===typeof t?this._parent.querySelectorAll(t):t;return new _E(e,null,this._elements[0],this._document)}selectFacetAll(t){const e="string"===typeof t?this._parent.querySelectorAll(t):t;return new _E(this._elements,null,this._parent,this._document,void 0,void 0,e)}select(t){const e="string"===typeof t?this._parent.querySelectorAll(t)[0]||null:t;return new _E([e],null,e,this._document)}append(t){const e="function"===typeof t?t:()=>this.createElement(t),n=[];if(null!==this._data){for(let t=0;t<this._data.length;t++){const r=this._data[t],[i,o]=Array.isArray(r)?r:[r,null],a=e(i,t);a.__data__=i,null!==o&&(a.__fromElements__=o),this._parent.appendChild(a),n.push(a)}return new _E(n,null,this._parent,this._document)}for(let r=0;r<this._elements.length;r++){const t=this._elements[r],i=t.__data__,o=e(i,r);t.appendChild(o),n.push(o)}return new _E(n,null,n[0],this._document)}maybeAppend(t,e){const n=this._elements[0],r=n.getElementById(t);if(r)return new _E([r],null,this._parent,this._document);const i="string"===typeof e?this.createElement(e):e();return i.id=t,n.appendChild(i),new _E([i],null,this._parent,this._document)}data(t,e=(t=>t),n=(()=>null)){const r=[],i=[],o=new Set(this._elements),a=[],s=new Set,l=new Map(this._elements.map(((t,n)=>[e(t.__data__,n),t]))),u=new Map(this._facetElements.map(((t,n)=>[e(t.__data__,n),t]))),c=uv(this._elements,(t=>n(t.__data__)));for(let h=0;h<t.length;h++){const f=t[h],d=e(f,h),p=n(f,h);if(l.has(d)){const t=l.get(d);t.__data__=f,t.__facet__=!1,i.push(t),o.delete(t),l.delete(d)}else if(u.has(d)){const t=u.get(d);t.__data__=f,t.__facet__=!0,i.push(t),u.delete(d)}else if(c.has(d)){const t=c.get(d);a.push([f,t]);for(const e of t)o.delete(e);c.delete(d)}else if(l.has(p)){const t=l.get(p);t.__toData__?t.__toData__.push(f):t.__toData__=[f],s.add(t),o.delete(t)}else r.push(f)}const f=[new _E([],r,this._parent,this._document),new _E(i,null,this._parent,this._document),new _E(o,null,this._parent,this._document),new _E([],a,this._parent,this._document),new _E(s,null,this._parent,this._document)];return new _E(this._elements,null,this._parent,this._document,f)}merge(t){const e=[...this._elements,...t._elements],n=[...this._transitions,...t._transitions];return new _E(e,null,this._parent,this._document,void 0,n)}createElement(t){if(this._document)return this._document.createElement(t,{});const e=_E.registry[t];return e?new e:Fg(`Unknown node type: ${t}`)}join(t=(t=>t),e=(t=>t),n=(t=>t.remove()),r=(t=>t),i=(t=>t.remove())){const o=t(this._enter),a=e(this._update),s=n(this._exit),l=r(this._merge),u=i(this._split);return a.merge(o).merge(s).merge(l).merge(u)}remove(){for(let t=0;t<this._elements.length;t++){const e=this._transitions[t];if(e){const n=Array.isArray(e)?e:[e];Promise.all(n.map((t=>t.finished))).then((()=>{const e=this._elements[t];e.remove()}))}else{const e=this._elements[t];e.remove()}}return new _E([],null,this._parent,this._document,void 0,this._transitions)}each(t){for(let e=0;e<this._elements.length;e++){const n=this._elements[e],r=n.__data__;t.call(n,r,e)}return this}attr(t,e){const n="function"!==typeof e?()=>e:e;return this.each((function(r,i){void 0!==e&&(this[t]=n.call(this,r,i))}))}style(t,e){const n="function"!==typeof e?()=>e:e;return this.each((function(r,i){void 0!==e&&(this.style[t]=n.call(this,r,i))}))}transition(t){const e="function"!==typeof t?()=>t:t,{_transitions:n}=this;return this.each((function(t,r){n[r]=e.call(this,t,r)}))}on(t,e){return this.each((function(){this.addEventListener(t,e)})),this}call(t,...e){return t.call(this._parent,this,...e),this}node(){return this._elements[0]}nodes(){return this._elements}transitions(){return this._transitions}parent(){return this._parent}}_E.registry={g:_u,rect:Tu,circle:bu,path:Eu,text:Au,ellipse:wu,image:Cu,line:Su,polygon:Mu,polyline:ku,html:Ou};var OE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const CE=(t,e)=>{const{shape:n,radius:r}=t,i=OE(t,["shape","radius"]),o=Gg(i,"pointer"),a=Gg(i,"pin"),{shape:s}=o,l=OE(o,["shape"]),{shape:u}=a,c=OE(a,["shape"]),{coordinate:f,theme:h}=e;return(t,e)=>{const n=t.map((t=>f.invert(t))),[o,a,d]=Ev(f,"polar"),p=f.clone(),{color:v}=e,g=Xd({startAngle:o,endAngle:a,innerRadius:d,outerRadius:r});g.push(["cartesian"]),p.update({transformations:g});const y=n.map((t=>p.map(t))),[m,b]=xE(y),[x,w]=f.getCenter(),_=Object.assign(Object.assign({x1:m,y1:b,x2:x,y2:w,stroke:v},l),i),O=Object.assign(Object.assign({cx:x,cy:w,stroke:v},c),i),C=wE(new _u);return Kg(s)||("function"===typeof s?C.append((()=>s(y,e,p,h))):C.append("line").call(fE,_).node()),Kg(u)||("function"===typeof u?C.append((()=>u(y,e,p,h))):C.append("circle").call(fE,O).node()),C.node()}},SE={coordinate:{type:"radial",innerRadius:.9,outerRadius:1,startAngle:-1.1*Math.PI,endAngle:.1*Math.PI},axis:{x:!1},legend:!1,tooltip:!1,encode:{x:"x",y:"y",color:"color"},scale:{color:{range:["#30BF78","#D0D0D0"]}}},EE={style:{shape:CE,lineWidth:4,pointerLineCap:"round",pinR:10,pinFill:"#fff",radius:.6}},ME={type:"text",style:{x:"50%",y:"60%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"}};function kE(t,e){const{name:n="score",target:r,total:i,percent:o,thresholds:a=[]}=t,s=o||r,l=o?1:i,u=Object.assign({y:{domain:[0,l]}},e);return a.length?{targetData:[{x:n,y:s,color:"target"}],totalData:a.map(((t,e)=>({x:n,y:e>=1?t-a[e-1]:t,color:e}))),target:s,total:l,scale:u}:{targetData:[{x:n,y:s,color:"target"}],totalData:[{x:n,y:s,color:"target"},{x:n,y:l-s,color:"total"}],target:s,total:l,scale:u}}function TE(t,{target:e,total:n}){const{content:r}=t;return r?r(e,n):e.toString()}const AE=t=>{const{data:e={},scale:n={},style:r={},animate:i={},transform:o=[]}=t,a=OE(t,["data","scale","style","animate","transform"]),{targetData:s,totalData:l,target:u,total:c,scale:f}=kE(e,n),h=Gg(r,"text"),d=Ug(r,["pointer","pin"]);return[Bd({},SE,Object.assign({type:"interval",transform:[{type:"stackY"}],data:l,scale:f,style:Gg(r,"arc"),animate:"object"===typeof i?Gg(i,"arc"):i},a)),Bd({},SE,EE,Object.assign({type:"point",data:s,scale:f,style:d,animate:"object"===typeof i?Gg(i,"indicator"):i},a)),Bd({},ME,{style:Object.assign({text:TE(h,{target:u,total:c})},h),animate:"object"===typeof i?Gg(i,"text"):i})]};AE.props={};const LE=()=>(t,e,n,r)=>{const{x:i,series:o}=n,a=Object.entries(n).filter((([t])=>t.startsWith("y"))).map((([,t])=>t)),s=Object.entries(n).filter((([t])=>t.startsWith("size"))).map((([,t])=>t));if(void 0===i||void 0===a||void 0===s)throw new Error("Missing encode for x or y or size channel.");const l=e.x,u=e.series,c=Array.from(t,(e=>{const n=l.getBandWidth(l.invert(+i[e])),c=u?u.getBandWidth(u.invert(+(null===o||void 0===o?void 0:o[e]))):1,f=n*c,h=(+(null===o||void 0===o?void 0:o[e])||0)*n,d=+i[e]+h+f/2,p=[...a.map(((n,r)=>[d+ +s[r][e]/t.length,+a[r][e]])),...a.map(((n,r)=>[d-+s[r][e]/t.length,+a[r][e]])).reverse()];return p.map((t=>r.map(t)))}));return[t,c]},PE=["density"];LE.props={defaultShape:"density",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:PE}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"size",required:!0},{name:"series",scale:"band"},{name:"size",required:!0,scale:"identity"}],preInference:[...Hp(),{type:"maybeZeroY1"},{type:"maybeZeroX"}],postInference:[...$p(),...Fp()],interaction:{shareTooltip:!0}};const RE=t=>(t,e,n,r)=>{const{x:i,y:o,size:a,color:s}=n,l=Array.from(t,(t=>{const e=a?+a[t]:40;return[...r.map([+i[t],+o[t]]),s[t],e]}));return[[0],[l]]},IE=["heatmap"];RE.props={defaultShape:"heatmap",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:IE}),{name:"x",required:!0},{name:"y",required:!0},{name:"color",scale:"identity",required:!0},{name:"size"}],preInference:[...Hp(),{type:"maybeZeroY"},{type:"maybeZeroX"}],postInference:[...$p(),...Dp()]};const jE=()=>["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"];jE.props={};const NE=()=>["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"];NE.props={};const BE=t=>new kC(t);BE.props={};const DE=t=>new XC(t);DE.props={};const FE=t=>new _C(t);FE.props={};const zE=t=>new GC(t);zE.props={};const WE=t=>new KC(t);WE.props={};const HE=t=>new BS(t);HE.props={};const $E=t=>new oS(t);$E.props={};const GE=t=>new tS(t);GE.props={};const VE=t=>new nS(t);VE.props={};const UE=t=>new uS(t);UE.props={};const YE=t=>new aS(t);YE.props={};const qE=t=>new eS(t);qE.props={};const XE=t=>new HS(t);XE.props={};const KE=t=>new AC(t);function ZE(t){return function(){return t}}KE.props={};const QE=Math.abs,JE=Math.atan2,tM=Math.cos,eM=Math.max,nM=Math.min,rM=Math.sin,iM=Math.sqrt,oM=1e-12,aM=Math.PI,sM=aM/2,lM=2*aM;function uM(t){return t>1?0:t<-1?aM:Math.acos(t)}function cM(t){return t>=1?sM:t<=-1?-sM:Math.asin(t)}const fM=Math.PI,hM=2*fM,dM=1e-6,pM=hM-dM;function vM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function gM(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return vM;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}class yM{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?vM:gM(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,o){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-t,l=r-e,u=o-t,c=a-e,f=u*u+c*c;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(f>dM)if(Math.abs(c*s-l*u)>dM&&i){let h=n-o,d=r-a,p=s*s+l*l,v=h*h+d*d,g=Math.sqrt(p),y=Math.sqrt(f),m=i*Math.tan((fM-Math.acos((p+f-v)/(2*g*y)))/2),b=m/y,x=m/g;Math.abs(b-1)>dM&&this._append`L${t+b*u},${e+b*c}`,this._append`A${i},${i},0,0,${+(c*h>u*d)},${this._x1=t+x*s},${this._y1=e+x*l}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,n,r,i,o){if(t=+t,e=+e,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),l=t+a,u=e+s,c=1^o,f=o?r-i:i-r;null===this._x1?this._append`M${l},${u}`:(Math.abs(this._x1-l)>dM||Math.abs(this._y1-u)>dM)&&this._append`L${l},${u}`,n&&(f<0&&(f=f%hM+hM),f>pM?this._append`A${n},${n},0,1,${c},${t-a},${e-s}A${n},${n},0,1,${c},${this._x1=l},${this._y1=u}`:f>dM&&this._append`A${n},${n},0,${+(f>=fM)},${c},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function mM(){return new yM}function bM(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new yM(e)}function xM(t){return t.innerRadius}function wM(t){return t.outerRadius}function _M(t){return t.startAngle}function OM(t){return t.endAngle}function CM(t){return t&&t.padAngle}function SM(t,e,n,r,i,o,a,s){var l=n-t,u=r-e,c=a-i,f=s-o,h=f*l-c*u;if(!(h*h<oM))return h=(c*(e-o)-f*(t-i))/h,[t+h*l,e+h*u]}function EM(t,e,n,r,i,o,a){var s=t-n,l=e-r,u=(a?o:-o)/iM(s*s+l*l),c=u*l,f=-u*s,h=t+c,d=e+f,p=n+c,v=r+f,g=(h+p)/2,y=(d+v)/2,m=p-h,b=v-d,x=m*m+b*b,w=i-o,_=h*v-p*d,O=(b<0?-1:1)*iM(eM(0,w*w*x-_*_)),C=(_*b-m*O)/x,S=(-_*m-b*O)/x,E=(_*b+m*O)/x,M=(-_*m+b*O)/x,k=C-g,T=S-y,A=E-g,L=M-y;return k*k+T*T>A*A+L*L&&(C=E,S=M),{cx:C,cy:S,x01:-c,y01:-f,x11:C*(i/w-1),y11:S*(i/w-1)}}function MM(){var t=xM,e=wM,n=ZE(0),r=null,i=_M,o=OM,a=CM,s=null,l=bM(u);function u(){var u,c,f=+t.apply(this,arguments),h=+e.apply(this,arguments),d=i.apply(this,arguments)-sM,p=o.apply(this,arguments)-sM,v=QE(p-d),g=p>d;if(s||(s=u=l()),h<f&&(c=h,h=f,f=c),h>oM)if(v>lM-oM)s.moveTo(h*tM(d),h*rM(d)),s.arc(0,0,h,d,p,!g),f>oM&&(s.moveTo(f*tM(p),f*rM(p)),s.arc(0,0,f,p,d,g));else{var y,m,b=d,x=p,w=d,_=p,O=v,C=v,S=a.apply(this,arguments)/2,E=S>oM&&(r?+r.apply(this,arguments):iM(f*f+h*h)),M=nM(QE(h-f)/2,+n.apply(this,arguments)),k=M,T=M;if(E>oM){var A=cM(E/f*rM(S)),L=cM(E/h*rM(S));(O-=2*A)>oM?(A*=g?1:-1,w+=A,_-=A):(O=0,w=_=(d+p)/2),(C-=2*L)>oM?(L*=g?1:-1,b+=L,x-=L):(C=0,b=x=(d+p)/2)}var P=h*tM(b),R=h*rM(b),I=f*tM(_),j=f*rM(_);if(M>oM){var N,B=h*tM(x),D=h*rM(x),F=f*tM(w),z=f*rM(w);if(v<aM)if(N=SM(P,R,F,z,B,D,I,j)){var W=P-N[0],H=R-N[1],$=B-N[0],G=D-N[1],V=1/rM(uM((W*$+H*G)/(iM(W*W+H*H)*iM($*$+G*G)))/2),U=iM(N[0]*N[0]+N[1]*N[1]);k=nM(M,(f-U)/(V-1)),T=nM(M,(h-U)/(V+1))}else k=T=0}C>oM?T>oM?(y=EM(F,z,P,R,h,T,g),m=EM(B,D,I,j,h,T,g),s.moveTo(y.cx+y.x01,y.cy+y.y01),T<M?s.arc(y.cx,y.cy,T,JE(y.y01,y.x01),JE(m.y01,m.x01),!g):(s.arc(y.cx,y.cy,T,JE(y.y01,y.x01),JE(y.y11,y.x11),!g),s.arc(0,0,h,JE(y.cy+y.y11,y.cx+y.x11),JE(m.cy+m.y11,m.cx+m.x11),!g),s.arc(m.cx,m.cy,T,JE(m.y11,m.x11),JE(m.y01,m.x01),!g))):(s.moveTo(P,R),s.arc(0,0,h,b,x,!g)):s.moveTo(P,R),f>oM&&O>oM?k>oM?(y=EM(I,j,B,D,f,-k,g),m=EM(P,R,F,z,f,-k,g),s.lineTo(y.cx+y.x01,y.cy+y.y01),k<M?s.arc(y.cx,y.cy,k,JE(y.y01,y.x01),JE(m.y01,m.x01),!g):(s.arc(y.cx,y.cy,k,JE(y.y01,y.x01),JE(y.y11,y.x11),!g),s.arc(0,0,f,JE(y.cy+y.y11,y.cx+y.x11),JE(m.cy+m.y11,m.cx+m.x11),g),s.arc(m.cx,m.cy,k,JE(m.y11,m.x11),JE(m.y01,m.x01),!g))):s.arc(0,0,f,_,w,g):s.lineTo(I,j)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-aM/2;return[tM(r)*n,rM(r)*n]},u.innerRadius=function(e){return arguments.length?(t="function"===typeof e?e:ZE(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"===typeof t?t:ZE(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"===typeof t?t:ZE(+t),u):n},u.padRadius=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:ZE(+t),u):r},u.startAngle=function(t){return arguments.length?(i="function"===typeof t?t:ZE(+t),u):i},u.endAngle=function(t){return arguments.length?(o="function"===typeof t?t:ZE(+t),u):o},u.padAngle=function(t){return arguments.length?(a="function"===typeof t?t:ZE(+t),u):a},u.context=function(t){return arguments.length?(s=null==t?null:t,u):s},u}function kM(t,e,n){return Math.max(e,Math.min(t,n))}mM.prototype=yM.prototype;var TM=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function AM(t,e,n,r,i={}){const{inset:o=0,radius:a=0,insetLeft:s=o,insetTop:l=o,insetRight:u=o,insetBottom:c=o,radiusBottomLeft:f=a,radiusBottomRight:h=a,radiusTopLeft:d=a,radiusTopRight:p=a,minWidth:v=-1/0,maxWidth:g=1/0}=i,y=TM(i,["inset","radius","insetLeft","insetTop","insetRight","insetBottom","radiusBottomLeft","radiusBottomRight","radiusTopLeft","radiusTopRight","minWidth","maxWidth"]);if(!vv(r)&&!yv(r)){const n=!!pv(r),[i,,o]=n?gE(e):e,[a,m]=i,[b,x]=rE(o,i),w=b>0?a:a+b,_=x>0?m:m+x,O=Math.abs(b),C=Math.abs(x),S=w+s,E=_+l,M=O-(s+u),k=C-(l+c),T=n?M:kM(M,v,g),A=n?kM(k,v,g):k,L=S-(T-M)/2,P=E-(A-k)/2;return wE(t.createElement("rect",{})).style("x",L).style("y",P).style("width",T).style("height",A).style("radius",[d,p,h,f]).call(fE,y).node()}const{y:m,y1:b}=n,x=r.getCenter(),w=yE(r,e,[m,b]),_=MM().cornerRadius(a).padAngle(o*Math.PI/180);return wE(t.createElement("path",{})).style("path",_(w)).style("transform",`translate(${x[0]}, ${x[1]})`).style("radius",a).style("inset",o).call(fE,y).node()}const LM=(t,e)=>{const{colorAttribute:n,opacityAttribute:r="fill",first:i=!0,last:o=!0}=t,a=TM(t,["colorAttribute","opacityAttribute","first","last"]),{coordinate:s,document:l}=e;return(e,r,u)=>{const{color:c,radius:f=0}=u,h=TM(u,["color","radius"]),d=h.lineWidth||1,{stroke:p,radius:v=f,radiusTopLeft:g=v,radiusTopRight:y=v,radiusBottomRight:m=v,radiusBottomLeft:b=v,innerRadius:x=0,innerRadiusTopLeft:w=x,innerRadiusTopRight:_=x,innerRadiusBottomRight:O=x,innerRadiusBottomLeft:C=x,lineWidth:S=("stroke"===n||p?d:0),inset:E=0,insetLeft:M=E,insetRight:k=E,insetBottom:T=E,insetTop:A=E,minWidth:L,maxWidth:P}=a,R=TM(a,["stroke","radius","radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft","innerRadius","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","lineWidth","inset","insetLeft","insetRight","insetBottom","insetTop","minWidth","maxWidth"]),{color:I=c,opacity:j}=r,N=[i?g:w,i?y:_,o?m:O,o?b:C],B=["radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft"];pv(s)&&B.push(B.shift());const D=Object.assign(Object.assign({radius:v},Object.fromEntries(B.map(((t,e)=>[t,N[e]])))),{inset:E,insetLeft:M,insetRight:k,insetBottom:T,insetTop:A,minWidth:L,maxWidth:P});return wE(AM(l,e,r,s,D)).call(fE,h).style("fill","transparent").style(n,I).style(mE(t),j).style("lineWidth",S).style("stroke",void 0===p?I:p).call(fE,R).node()}};LM.props={defaultEnterAnimation:"scaleInY",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const PM=(t,e)=>LM(Object.assign({colorAttribute:"fill"},t),e);PM.props=Object.assign(Object.assign({},LM.props),{defaultMarker:"square"});const RM=(t,e)=>LM(Object.assign({colorAttribute:"stroke"},t),e);RM.props=Object.assign(Object.assign({},LM.props),{defaultMarker:"hollowSquare"});Array.prototype.slice;function IM(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function jM(t){this._context=t}function NM(t){return new jM(t)}function BM(t){return t[0]}function DM(t){return t[1]}function FM(t,e){var n=ZE(!0),r=null,i=NM,o=null,a=bM(s);function s(s){var l,u,c,f=(s=IM(s)).length,h=!1;for(null==r&&(o=i(c=a())),l=0;l<=f;++l)!(l<f&&n(u=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(u,l,s),+e(u,l,s));if(c)return o=null,c+""||null}return t="function"===typeof t?t:void 0===t?BM:ZE(t),e="function"===typeof e?e:void 0===e?DM:ZE(e),s.x=function(e){return arguments.length?(t="function"===typeof e?e:ZE(+e),s):t},s.y=function(t){return arguments.length?(e="function"===typeof t?t:ZE(+t),s):e},s.defined=function(t){return arguments.length?(n="function"===typeof t?t:ZE(!!t),s):n},s.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),s):i},s.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),s):r},s}function zM(){}function WM(t){this._context=t}function HM(t){return new WM(t)}jM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}},WM.prototype={areaStart:zM,areaEnd:zM,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var $M=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function GM(t,e,n){const[r,i,o,a]=t;if(pv(n)){const t=[e?e[0][0]:i[0],i[1]],n=[e?e[3][0]:o[0],o[1]];return[r,t,n,a]}const s=[i[0],e?e[0][1]:i[1]],l=[o[0],e?e[3][1]:o[1]];return[r,s,l,a]}const VM=(t,e)=>{const{adjustPoints:n=GM}=t,r=$M(t,["adjustPoints"]),{coordinate:i,document:o}=e;return(t,e,a,s)=>{const{index:l}=e,{color:u}=a,c=$M(a,["color"]),f=s[l+1],h=n(t,f,i),d=!!pv(i),[p,v,g,y]=d?gE(h):h,{color:m=u,opacity:b}=e,x=FM().curve(HM)([p,v,g,y]);return wE(o.createElement("path",{})).call(fE,c).style("path",x).style("fill",m).style("fillOpacity",b).call(fE,r).node()}};function UM(t,e,n){const[r,i,o,a]=t;if(pv(n)){const t=[e?e[0][0]:(i[0]+o[0])/2,i[1]],n=[e?e[3][0]:(i[0]+o[0])/2,o[1]];return[r,t,n,a]}const s=[i[0],e?e[0][1]:(i[1]+o[1])/2],l=[o[0],e?e[3][1]:(i[1]+o[1])/2];return[r,s,l,a]}VM.props={defaultMarker:"square"};const YM=(t,e)=>VM(Object.assign({adjustPoints:UM},t),e);YM.props={defaultMarker:"square"};var qM=KM(NM);function XM(t){this._curve=t}function KM(t){function e(e){return new XM(t(e))}return e._curve=t,e}function ZM(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(KM(t)):e()._curve},t}function QM(){return ZM(FM().curve(qM))}function JM(t){const e="function"===typeof t?t:t.render;return class extends xu{connectedCallback(){this.draw()}attributeChangedCallback(){this.draw()}draw(){e(this)}}}XM.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var tk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const ek=JM((t=>{const{d1:e,d2:n,style1:r,style2:i}=t.attributes,o=t.ownerDocument;wE(t).maybeAppend("line",(()=>o.createElement("path",{}))).style("d",e).call(fE,r),wE(t).maybeAppend("line1",(()=>o.createElement("path",{}))).style("d",n).call(fE,i)}));function nk(t,e){const n=[],r=[];let i=!1,o=null;for(const a of t)e(a[0])&&e(a[1])?(n.push(a),i&&(i=!1,r.push([o,a])),o=a):i=!0;return[n,r]}const rk=(t,e)=>{const{curve:n,gradient:r=!1,gradientColor:i="between",defined:o=(t=>!Number.isNaN(t)&&void 0!==t&&null!==t),connect:a=!1}=t,s=tk(t,["curve","gradient","gradientColor","defined","connect"]),{coordinate:l,document:u}=e;return(t,e,c)=>{const{color:f,lineWidth:h}=c,d=tk(c,["color","lineWidth"]),{color:p=f,size:v=h,seriesColor:g,seriesX:y,seriesY:m}=e,b=r&&g?vE(g,y,m,r,i):p,x=bE(l,e),w=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},d),b&&{stroke:b}),v&&{lineWidth:v}),x&&{transform:x}),s);let _;if(vv(l)){const t=l.getCenter();_=e=>QM().angle(((n,r)=>sE(rE(e[r],t)))).radius(((n,r)=>oE(e[r],t))).defined((([t,e])=>o(t)&&o(e))).curve(n)(e)}else _=FM().x((t=>t[0])).y((t=>t[1])).defined((([t,e])=>o(t)&&o(e))).curve(n);const[O,C]=nk(t,o),S=Gg(w,"connect"),E=!!C.length;if(!E||a&&!Object.keys(S).length)return wE(u.createElement("path",{})).style("d",_(O)||[]).call(fE,w).node();if(E&&!a)return wE(u.createElement("path",{})).style("d",_(t)).call(fE,w).node();const M=t=>t.map(_).join(",");return wE(new ek).style("style1",Object.assign(Object.assign({},w),S)).style("style2",w).style("d1",M(C)).style("d2",_(t)).node()}};rk.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const ik=(t,e)=>{const{coordinate:n}=e;return(...r)=>{const i=vv(n)?HM:NM;return rk(Object.assign({curve:i},t),e)(...r)}};function ok(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function ak(t,e){this._context=t,this._k=(1-e)/6}ik.props=Object.assign(Object.assign({},rk.props),{defaultMarker:"line"}),ak.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ok(this,this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ok(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new ak(t,e)}return n.tension=function(e){return t(+e)},n})(0);function sk(t,e){this._context=t,this._k=(1-e)/6}sk.prototype={areaStart:zM,areaEnd:zM,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ok(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new sk(t,e)}return n.tension=function(e){return t(+e)},n})(0);function lk(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>oM){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>oM){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function uk(t,e){this._context=t,this._alpha=e}uk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:lk(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ck=function t(e){function n(t){return e?new uk(t,e):new ak(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function fk(t,e){this._context=t,this._alpha=e}fk.prototype={areaStart:zM,areaEnd:zM,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:lk(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var hk=function t(e){function n(t){return e?new fk(t,e):new sk(t,0)}return n.alpha=function(e){return t(+e)},n}(.5),dk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const pk=(t,e)=>{const{alpha:n=.5}=t,r=dk(t,["alpha"]),{coordinate:i}=e;return(...t)=>{const o=vv(i)?hk:ck;return rk(Object.assign({curve:o.alpha(n)},r),e)(...t)}};function vk(t,e){this._context=t,this._t=e}function gk(t){return new vk(t,.5)}function yk(t){return new vk(t,0)}function mk(t){return new vk(t,1)}pk.props=Object.assign(Object.assign({},rk.props),{defaultMarker:"smooth"}),vk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}this._x=t,this._y=e}};const bk=(t,e)=>rk(Object.assign({curve:mk},t),e);bk.props=Object.assign(Object.assign({},rk.props),{defaultMarker:"hv"});const xk=(t,e)=>rk(Object.assign({curve:yk},t),e);xk.props=Object.assign(Object.assign({},rk.props),{defaultMarker:"vh"});const wk=(t,e)=>rk(Object.assign({curve:gk},t),e);wk.props=Object.assign(Object.assign({},rk.props),{defaultMarker:"hvh"});var _k=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Ok(t,e,n,r,i){const o=rE(n,e),a=aE(o),s=a+Math.PI/2,l=[r/2*Math.cos(s),r/2*Math.sin(s)],u=[i/2*Math.cos(s),i/2*Math.sin(s)],c=[i/2*Math.cos(a),i/2*Math.sin(a)],f=[r/2*Math.cos(a),r/2*Math.sin(a)],h=iE(e,l),d=iE(n,u),p=iE(d,c),v=iE(n,c),g=rE(v,u),y=rE(n,u),m=rE(e,l),b=rE(m,f),x=rE(e,f),w=rE(h,f);t.moveTo(...h),t.lineTo(...d),t.arcTo(...p,...v,i/2),t.arcTo(...g,...y,i/2),t.lineTo(...m),t.arcTo(...b,...x,r/2),t.arcTo(...w,...h,r/2),t.closePath()}const Ck=(t,e)=>{const{document:n}=e;return(e,r,i)=>{const{seriesSize:o,color:a}=r,{color:s}=i,l=_k(i,["color"]),u=mM();for(let t=0;t<e.length-1;t++){const n=e[t],r=e[t+1],i=o[t],a=o[t+1];[...n,...r].every(Wg)&&Ok(u,n,r,i,a)}return wE(n.createElement("path",{})).call(fE,l).style("fill",a||s).style("d",u.toString()).call(fE,t).node()}};Ck.props=Object.assign(Object.assign({},rk.props),{defaultMarker:"line"});var Sk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const Ek=(t,e,n)=>[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e],["Z"]];Ek.style=["fill"];const Mk=Ek.bind(void 0);Mk.style=["stroke","lineWidth"];const kk=(t,e,n)=>[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]];kk.style=["fill"];const Tk=kk.bind(void 0);Tk.style=["fill"];const Ak=kk.bind(void 0);Ak.style=["stroke","lineWidth"];const Lk=(t,e,n)=>{const r=.618*n;return[["M",t-r,e],["L",t,e-n],["L",t+r,e],["L",t,e+n],["Z"]]};Lk.style=["fill"];const Pk=Lk.bind(void 0);Pk.style=["stroke","lineWidth"];const Rk=(t,e,n)=>{const r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]};Rk.style=["fill"];const Ik=Rk.bind(void 0);Ik.style=["stroke","lineWidth"];const jk=(t,e,n)=>{const r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]};jk.style=["fill"];const Nk=jk.bind(void 0);Nk.style=["stroke","lineWidth"];const Bk=(t,e,n)=>{const r=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]};Bk.style=["fill"];const Dk=Bk.bind(void 0);Dk.style=["stroke","lineWidth"];const Fk=(t,e,n)=>{const r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]};Fk.style=["fill"];const zk=Fk.bind(void 0);zk.style=["stroke","lineWidth"];const Wk=(t,e,n)=>[["M",t,e+n],["L",t,e-n]];Wk.style=["stroke","lineWidth"];const Hk=(t,e,n)=>[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]];Hk.style=["stroke","lineWidth"];const $k=(t,e,n)=>[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]];$k.style=["stroke","lineWidth"];const Gk=(t,e,n)=>[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]];Gk.style=["stroke","lineWidth"];const Vk=(t,e,n)=>[["M",t-n,e],["L",t+n,e]];Vk.style=["stroke","lineWidth"];const Uk=(t,e,n)=>[["M",t-n,e],["L",t+n,e]];Uk.style=["stroke","lineWidth"];const Yk=Uk.bind(void 0);Yk.style=["stroke","lineWidth"];const qk=(t,e,n)=>[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]];qk.style=["stroke","lineWidth"];const Xk=(t,e,n)=>[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]];Xk.style=["stroke","lineWidth"];const Kk=(t,e,n)=>[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]];Kk.style=["stroke","lineWidth"];const Zk=(t,e,n)=>[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]];Zk.style=["stroke","lineWidth"];const Qk=(t,e,n)=>[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]];Qk.style=["stroke","lineWidth"];const Jk=new Map([["bowtie",Fk],["cross",Hk],["dash",Yk],["diamond",Lk],["dot",Uk],["hexagon",Bk],["hollowBowtie",zk],["hollowDiamond",Pk],["hollowHexagon",Dk],["hollowPoint",Mk],["hollowSquare",Ak],["hollowTriangle",Ik],["hollowTriangleDown",Nk],["hv",Xk],["hvh",Zk],["hyphen",Vk],["line",Wk],["plus",Gk],["point",Ek],["rect",Tk],["smooth",qk],["square",kk],["tick",$k],["triangleDown",jk],["triangle",Rk],["vh",Kk],["vhv",Qk]]);function tT(t,e){var{d:n,fill:r,strokeWidth:i,path:o,stroke:a,lineWidth:s,color:l}=e,u=Sk(e,["d","fill","strokeWidth","path","stroke","lineWidth","color"]);const c=Jk.get(t)||Jk.get("point");return(...t)=>{const e=new Eu({style:Object.assign(Object.assign({},u),{path:c(...t),stroke:c.style.includes("stroke")?l||a:"",fill:c.style.includes("fill")?l||r:"",lineWidth:c.style.includes("lineWidth")?s||s||2:0})});return e}}var eT=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function nT(t,e,n,r){if(1===e.length)return;const{size:i}=n;if("fixed"===t)return i;if("normal"===t||bv(r)){const[[t,n],[r,i]]=e,o=Math.abs((r-t)/2),a=Math.abs((i-n)/2);return Math.max(0,(o+a)/2)}return i}const rT=(t,e)=>{const{colorAttribute:n,symbol:r,mode:i="auto"}=t,o=eT(t,["colorAttribute","symbol","mode"]),a=Jk.get(r)||Jk.get("point"),{coordinate:s,document:l}=e;return(e,r,u)=>{const{lineWidth:c,color:f}=u,h=o.stroke?c||1:c,{color:d=f,transform:p,opacity:v}=r,[g,y]=xE(e),m=nT(i,e,r,s),b=m||o.r||u.r;return wE(l.createElement("path",{})).call(fE,u).style("fill","transparent").style("d",a(g,y,b)).style("lineWidth",h).style("transform",p).style("stroke",d).style(mE(t),v).style(n,d).call(fE,o).node()}};rT.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const iT=(t,e)=>rT(Object.assign({colorAttribute:"fill",symbol:"bowtie"},t),e);iT.props=Object.assign({defaultMarker:"bowtie"},rT.props);const oT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"cross"},t),e);oT.props=Object.assign({defaultMarker:"cross"},rT.props);const aT=(t,e)=>rT(Object.assign({colorAttribute:"fill",symbol:"diamond"},t),e);aT.props=Object.assign({defaultMarker:"diamond"},rT.props);const sT=(t,e)=>rT(Object.assign({colorAttribute:"fill",symbol:"hexagon"},t),e);sT.props=Object.assign({defaultMarker:"hexagon"},rT.props);const lT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"bowtie"},t),e);lT.props=Object.assign({defaultMarker:"hollowBowtie"},rT.props);const uT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"diamond"},t),e);uT.props=Object.assign({defaultMarker:"hollowDiamond"},rT.props);const cT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"hexagon"},t),e);cT.props=Object.assign({defaultMarker:"hollowHexagon"},rT.props);const fT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"point"},t),e);fT.props=Object.assign({defaultMarker:"hollowPoint"},rT.props);const hT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"square"},t),e);hT.props=Object.assign({defaultMarker:"hollowSquare"},rT.props);const dT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"triangle"},t),e);dT.props=Object.assign({defaultMarker:"hollowTriangle"},rT.props);const pT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"triangle-down"},t),e);pT.props=Object.assign({defaultMarker:"hollowTriangleDown"},rT.props);const vT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"hyphen"},t),e);vT.props=Object.assign({defaultMarker:"hyphen"},rT.props);const gT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"line"},t),e);gT.props=Object.assign({defaultMarker:"line"},rT.props);const yT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"plus"},t),e);yT.props=Object.assign({defaultMarker:"plus"},rT.props);const mT=(t,e)=>rT(Object.assign({colorAttribute:"fill",symbol:"point"},t),e);mT.props=Object.assign({defaultMarker:"point"},rT.props);const bT=(t,e)=>rT(Object.assign({colorAttribute:"fill",symbol:"square"},t),e);bT.props=Object.assign({defaultMarker:"square"},rT.props);const xT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"tick"},t),e);xT.props=Object.assign({defaultMarker:"tick"},rT.props);const wT=(t,e)=>rT(Object.assign({colorAttribute:"fill",symbol:"triangle"},t),e);wT.props=Object.assign({defaultMarker:"triangle"},rT.props);const _T=(t,e)=>rT(Object.assign({colorAttribute:"fill",symbol:"triangle-down"},t),e);_T.props=Object.assign({defaultMarker:"triangleDown"},rT.props);var OT=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const CT=(t,e)=>{const{arrow:n=!0,arrowSize:r="40%"}=t,i=OT(t,["arrow","arrowSize"]),{document:o}=e;return(t,e,a)=>{const{defaultColor:s}=a,l=OT(a,["defaultColor"]),{color:u=s,transform:c}=e,[f,h]=t,d=mM();if(d.moveTo(...f),d.lineTo(...h),n){const[t,e]=dE(f,h,{arrowSize:r});d.moveTo(...h),d.lineTo(...t),d.moveTo(...h),d.lineTo(...e)}return wE(o.createElement("path",{})).call(fE,l).style("d",d.toString()).style("stroke",u).style("transform",c).call(fE,i).node()}};CT.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var ST=function(t){return"function"===typeof t};function ET(t,e){e(t),t.children&&t.children.forEach((function(t){t&&ET(t,e)}))}function MT(t){TT(t,!0)}function kT(t){TT(t,!1)}function TT(t,e){var n=e?"visible":"hidden";ET(t,(function(t){t.attr("visibility",n)}))}var AT=5,LT=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=AT),Object.entries(e).forEach((function(i){var o=VO(i,2),a=o[0],s=o[1],l=t;Object.prototype.hasOwnProperty.call(e,a)&&(s?Pd(s)?(Pd(t[a])||(l[a]={}),n<r?LT(t[a],s,n+1,r):l[a]=e[a]):tn(s)?(l[a]=[],l[a]=l[a].concat(s)):l[a]=s:l[a]=s)}))},PT=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)LT(t,e[r]);return t},RT=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,YO([],VO(e),!1))||this;return r.addEventListener(Pl.INSERTED,(function(){kT(r)})),r}return zO(e,t),e}(_u);function IT(t){var e=t.appendChild(new RT({class:"offscreen"}));return kT(e),e}function jT(t){var e=t;while(e){if("offscreen"===e.className)return!0;e=e.parent}return!1}function NT(){TT(this,"hidden"!==this.attributes.visibility)}var BT=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this,PT({},{style:n},e))||this;return r.initialized=!1,r._defaultOptions=n,r}return zO(e,t),Object.defineProperty(e.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=IT(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},e.prototype.disconnectedCallback=function(){var t;null===(t=this._offscreen)||void 0===t||t.destroy()},e.prototype.attributeChangedCallback=function(t){"visibility"===t&&NT.call(this)},e.prototype.update=function(t,e){var n;return void 0===t&&(t={}),this.attr(PT({},this.attributes,t)),null===(n=this.render)||void 0===n?void 0:n.call(this,this.attributes,this,e)},e.prototype.clear=function(){this.removeChildren()},e.prototype.bindEvents=function(t,e){},e}(xu);function DT(t,e,n,r,i){return void 0===r&&(r=!0),void 0===i&&(i=function(t){t.node().removeChildren()}),t?n(e):(r&&i(e),null)}var FT=function(t){function e(e){void 0===e&&(e={});var n=e.style,r=HO(e,["style"]);return t.call(this,WO({style:WO({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},n)},r))||this}return zO(e,t),Object.defineProperty(e.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=IT(this)),this._offscreen},enumerable:!1,configurable:!0}),e.prototype.disconnectedCallback=function(){var t;null===(t=this._offscreen)||void 0===t||t.destroy()},e}(Au);function zT(t){throw new Error(t)}var WT=function(){function t(t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=[null,null,null,null,null]),void 0===a&&(a=[]),void 0===s&&(s=[]),e.add(this),this._elements=Array.from(t),this._data=n,this._parent=r,this._document=i,this._enter=o[0],this._update=o[1],this._exit=o[2],this._merge=o[3],this._split=o[4],this._transitions=a,this._facetElements=s}var e,n;return t.prototype.selectAll=function(e){var n="string"===typeof e?this._parent.querySelectorAll(e):e;return new t(n,null,this._elements[0],this._document)},t.prototype.selectFacetAll=function(e){var n="string"===typeof e?this._parent.querySelectorAll(e):e;return new t(this._elements,null,this._parent,this._document,void 0,void 0,n)},t.prototype.select=function(e){var n="string"===typeof e?this._parent.querySelectorAll(e)[0]||null:e;return new t([n],null,n,this._document)},t.prototype.append=function(e){var n=this,r="function"===typeof e?e:function(){return n.createElement(e)},i=[];if(null!==this._data){for(var o=0;o<this._data.length;o++){var a=this._data[o],s=VO(Array.isArray(a)?a:[a,null],2),l=s[0],u=s[1],c=r(l,o);c.__data__=l,null!==u&&(c.__fromElements__=u),this._parent.appendChild(c),i.push(c)}return new t(i,null,this._parent,this._document)}for(o=0;o<this._elements.length;o++){var f=this._elements[o];l=f.__data__,c=r(l,o);f.appendChild(c),i.push(c)}return new t(i,null,i[0],this._document)},t.prototype.maybeAppend=function(t,r){var i=XO(this,e,"m",n).call(this,"#"===t[0]?t:"#".concat(t),r);return i.attr("id",t),i},t.prototype.maybeAppendByClassName=function(t,r){var i=t.toString(),o=XO(this,e,"m",n).call(this,"."===i[0]?i:".".concat(i),r);return o.attr("className",i),o},t.prototype.maybeAppendByName=function(t,r){var i=XO(this,e,"m",n).call(this,'[name="'.concat(t,'"]'),r);return i.attr("name",t),i},t.prototype.data=function(e,n,r){var i,o;void 0===n&&(n=function(t){return t}),void 0===r&&(r=function(){return null});for(var a=[],s=[],l=new Set(this._elements),u=[],c=new Set,f=new Map(this._elements.map((function(t,e){return[n(t.__data__,e),t]}))),h=new Map(this._facetElements.map((function(t,e){return[n(t.__data__,e),t]}))),d=uv(this._elements,(function(t){return r(t.__data__)})),p=0;p<e.length;p++){var v=e[p],g=n(v,p),y=r(v,p);if(f.has(g)){var m=f.get(g);m.__data__=v,m.__facet__=!1,s.push(m),l.delete(m),f.delete(g)}else if(h.has(g)){m=h.get(g);m.__data__=v,m.__facet__=!0,s.push(m),h.delete(g)}else if(d.has(g)){var b=d.get(g);u.push([v,b]);try{for(var x=(i=void 0,GO(b)),w=x.next();!w.done;w=x.next()){m=w.value;l.delete(m)}}catch(O){i={error:O}}finally{try{w&&!w.done&&(o=x.return)&&o.call(x)}finally{if(i)throw i.error}}d.delete(g)}else if(f.has(y)){m=f.get(y);m.__toData__?m.__toData__.push(v):m.__toData__=[v],c.add(m),l.delete(m)}else a.push(v)}var _=[new t([],a,this._parent,this._document),new t(s,null,this._parent,this._document),new t(l,null,this._parent,this._document),new t([],u,this._parent,this._document),new t(c,null,this._parent,this._document)];return new t(this._elements,null,this._parent,this._document,_)},t.prototype.merge=function(e){var n=YO(YO([],VO(this._elements),!1),VO(e._elements),!1),r=YO(YO([],VO(this._transitions),!1),VO(e._transitions),!1);return new t(n,null,this._parent,this._document,void 0,r)},t.prototype.createElement=function(e){if(this._document)return this._document.createElement(e,{});var n=t.registry[e];return n?new n:zT("Unknown node type: ".concat(e))},t.prototype.join=function(t,e,n,r,i){void 0===t&&(t=function(t){return t}),void 0===e&&(e=function(t){return t}),void 0===n&&(n=function(t){return t.remove()}),void 0===r&&(r=function(t){return t}),void 0===i&&(i=function(t){return t.remove()});var o=t(this._enter),a=e(this._update),s=n(this._exit),l=r(this._merge),u=i(this._split);return a.merge(o).merge(s).merge(l).merge(u)},t.prototype.remove=function(){for(var e=function(t){var e=n._elements[t],r=n._transitions[t];r?r.then((function(){return e.remove()})):e.remove()},n=this,r=0;r<this._elements.length;r++)e(r);return new t([],null,this._parent,this._document,void 0,this._transitions)},t.prototype.each=function(t){for(var e=0;e<this._elements.length;e++){var n=this._elements[e],r=n.__data__;t.call(n,r,e)}return this},t.prototype.attr=function(t,e){var n="function"!==typeof e?function(){return e}:e;return this.each((function(r,i){void 0!==e&&(this[t]=n.call(this,r,i))}))},t.prototype.style=function(t,e,n){void 0===n&&(n=!0);var r="function"===typeof e&&n?e:function(){return e};return this.each((function(n,i){void 0!==e&&(this.style[t]=r.call(this,n,i))}))},t.prototype.styles=function(t,e){return void 0===t&&(t={}),void 0===e&&(e=!0),this.each((function(n,r){var i=this;Object.entries(t).forEach((function(t){var o=VO(t,2),a=o[0],s=o[1],l="function"===typeof s&&e?s:function(){return s};void 0!==s&&i.attr(a,l.call(i,n,r))}))}))},t.prototype.update=function(t,e){void 0===e&&(e=!0);var n="function"===typeof t&&e?t:function(){return t};return this.each((function(e,r){t&&this.update&&this.update(n.call(this,e,r))}))},t.prototype.maybeUpdate=function(t,e){void 0===e&&(e=!0);var n="function"===typeof t&&e?t:function(){return t};return this.each((function(e,r){t&&this.update&&this.update(n.call(this,e,r))}))},t.prototype.transition=function(t){var e=this._transitions;return this.each((function(n,r){e[r]=t.call(this,n,r)}))},t.prototype.on=function(t,e){return this.each((function(){this.addEventListener(t,e)})),this},t.prototype.call=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t.call.apply(t,YO([this._parent,this],VO(e),!1)),this},t.prototype.node=function(){return this._elements[0]},t.prototype.nodes=function(){return this._elements},t.prototype.transitions=function(){return this._transitions.filter((function(t){return!!t}))},t.prototype.parent=function(){return this._parent},e=new WeakSet,n=function(e,n){var r=this._elements[0],i=r.querySelector(e);if(i)return new t([i],null,this._parent,this._document);var o="string"===typeof n?this.createElement(n):n();return r.appendChild(o),new t([o],null,this._parent,this._document)},t.registry={g:_u,rect:Tu,circle:bu,path:Eu,text:FT,ellipse:wu,image:Cu,line:Su,polygon:Mu,polyline:ku,html:Ou},t}();function HT(t){return new WT([t],null,t,t.ownerDocument)}function $T(t,e,n){return t.querySelector(e)?HT(t).select(e):HT(t).append(n)}var GT=function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e],["Z"]]},VT=GT,UT=function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},YT=function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},qT=function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]},XT=function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]},KT=function(t,e,n){var r=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]},ZT=function(t,e,n){var r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]},QT=function(t,e,n){return[["M",t,e+n],["L",t,e-n]]},JT=function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},tA=function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},eA=function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},nA=function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},rA=function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},iA=rA,oA=function(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]},aA=function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]},sA=function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]},lA=function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]};function uA(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}var cA=function(t,e,n){return[["M",t-n,e-n],["L",t+n,e],["L",t-n,e+n],["Z"]]};function fA(t){var e="default";if(kn(t)&&t instanceof Image)e="image";else if(ST(t))e="symbol";else if(me(t)){var n=new RegExp("data:(image|text)");e=t.match(n)?"base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(t)?"url":"symbol"}return e}function hA(t){var e=fA(t);return["base64","url","image"].includes(e)?"image":t&&"symbol"===e?"path":null}var dA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zO(e,t),e.prototype.render=function(t,n){var r=t.symbol,i=t.size,o=void 0===i?16:i,a=HO(t,["symbol","size"]),s=hA(r);DT(!!s,HT(n),(function(t){t.maybeAppendByClassName("marker",s).attr("className","marker ".concat(s,"-marker")).call((function(t){if("image"===s){var n=2*o;t.styles({img:r,width:n,height:n,x:-o,y:-o})}else{n=o/2;var i=ST(r)?r:e.getSymbol(r);t.styles(WO({path:null===i||void 0===i?void 0:i(0,0,n)},a))}}))}))},e.MARKER_SYMBOL_MAP=new Map,e.registerSymbol=function(t,n){e.MARKER_SYMBOL_MAP.set(t,n)},e.getSymbol=function(t){return e.MARKER_SYMBOL_MAP.get(t)},e}(BT);dA.registerSymbol("cross",JT),dA.registerSymbol("hyphen",nA),dA.registerSymbol("line",QT),dA.registerSymbol("plus",eA),dA.registerSymbol("tick",tA),dA.registerSymbol("circle",GT),dA.registerSymbol("point",VT),dA.registerSymbol("bowtie",ZT),dA.registerSymbol("hexagon",KT),dA.registerSymbol("square",UT),dA.registerSymbol("diamond",YT),dA.registerSymbol("triangle",qT),dA.registerSymbol("triangle-down",XT),dA.registerSymbol("line",QT),dA.registerSymbol("dot",rA),dA.registerSymbol("dash",iA),dA.registerSymbol("smooth",oA),dA.registerSymbol("hv",aA),dA.registerSymbol("vh",sA),dA.registerSymbol("hvh",lA),dA.registerSymbol("vhv",uA);var pA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function vA(t){const{min:[e,n],max:[r,i]}=t.getLocalBounds();let o=0,a=0;return e>0&&(o=e),r<0&&(o=r),n>0&&(a=n),i<0&&(a=i),[o,a]}function gA(t,e=[]){const[n=0,r=0,i=n,o=r]=e,a=t.parentNode,s=a.getEulerAngles();a.setEulerAngles(0);const{min:l,halfExtents:u}=t.getLocalBounds(),[c,f]=l,[h,d]=u;return a.setEulerAngles(s),{x:c-o,y:f-n,width:2*h+o+r,height:2*d+n+i}}const yA=(t,e,n)=>{const r=oE(t,e),i=oE(e,n),o=oE(n,t);return(Math.pow(r,2)+Math.pow(i,2)-Math.pow(o,2))/(2*r*i)};function mA(t,e,n,r){const[[i,o],[a,s]]=e,[l,u]=vA(t);if(i===a&&o===s)return FM()([[0,0],[l,u]]);const c=[[i-a,o-s]].concat(n.length?n:[[0,0]]),f=[r[0]-a,r[1]-s],[h,d]=c;if(yA(f,h,d)>0){const e=(()=>{const{min:e,max:n}=t.getLocalBounds(),r=h[0]+(h[1]-f[1])*(h[1]-0)/(h[0]-f[0]);return n[0]<f[0]?Math.min(n[0],r):Math.max(e[0],r)})();c.splice(1,1,[e,0])}return FM()(c)}const bA=JM((t=>{const e=t.attributes,{class:n,transform:r,rotate:i,labelTransform:o,labelTransformOrigin:a,x:s,y:l,x0:u=s,y0:c=l,background:f,connector:h,startMarker:d,endMarker:p,coordCenter:v}=e,g=pA(e,["class","transform","rotate","labelTransform","labelTransformOrigin","x","y","x0","y0","background","connector","startMarker","endMarker","coordCenter"]);if([s,l,u,c].some((t=>!pe(t))))return;const y=Gg(g,"background"),{padding:m}=y,b=pA(y,["padding"]),x=Gg(g,"connector"),{points:w=[]}=x,_=pA(x,["points"]),O=[[+u,+c],[+s,+l]],C=wE(t).maybeAppend("text","text").style("zIndex",0).call(fE,Object.assign({textBaseline:"middle",transform:o,transformOrigin:a},g)).node(),S=wE(t).maybeAppend("background","rect").style("zIndex",-1).call(fE,gA(C,m)).call(fE,f?b:{}).node(),E=mA(S,O,w,v),M=d&&new dA({id:"startMarker",style:Object.assign({x:0,y:0},Gg(g,"startMarker"))}),k=p&&new dA({id:"endMarker",style:Object.assign({x:0,y:0},Gg(g,"endMarker"))});wE(t).maybeAppend("connector","path").style("zIndex",0).style("path",E).style("markerStart",M).style("markerEnd",k).call(fE,h?_:{})})),xA=(t,e)=>{const{coordinate:n}=e;return(e,r,i)=>{const{color:o,text:a="",fontSize:s,rotate:l=0,transform:u=""}=r,c={text:String(a),stroke:o,fill:o,fontSize:s},[[f,h]]=e;return wE(new bA).style("x",f).style("y",h).call(fE,i).style("transform",`${u}rotate(${+l})`).style("coordCenter",n.getCenter()).call(fE,c).call(fE,t).node()}};xA.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var wA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function _A(t){const e=t/Math.sqrt(2),n=t*Math.sqrt(2),[r,i]=[-e,e-n],[o,a]=[0,0],[s,l]=[e,e-n];return[["M",r,i],["A",t,t,0,1,1,s,l],["L",o,a],["Z"]]}function OA(t){const{min:e,max:n}=t.getLocalBounds();return[.5*(e[0]+n[0]),.5*(e[1]+n[1])]}const CA=JM((t=>{const e=t.attributes,{class:n,x:r,y:i}=e,o=wA(e,["class","x","y"]),a=Gg(o,"marker"),{size:s=24}=a,l=()=>_A(s/2),u=wE(t).maybeAppend("marker",(()=>new dA({}))).call((t=>t.node().update(Object.assign({symbol:l},a)))).node(),[c,f]=OA(u);wE(t).maybeAppend("text","text").style("x",c).style("y",f).call(fE,o)})),SA=(t,e)=>{const n=wA(t,[]);return(t,e,r)=>{const{color:i}=r,o=wA(r,["color"]),{color:a=i,text:s=""}=e,l={text:String(s),stroke:a,fill:a},[[u,c]]=t;return wE(new CA).call(fE,o).style("x",u).style("y",c).call(fE,l).call(fE,n).node()}};function EA(t,e,n){var r=null,i=ZE(!0),o=null,a=NM,s=null,l=bM(u);function u(u){var c,f,h,d,p,v=(u=IM(u)).length,g=!1,y=new Array(v),m=new Array(v);for(null==o&&(s=a(p=l())),c=0;c<=v;++c){if(!(c<v&&i(d=u[c],c,u))===g)if(g=!g)f=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=c-1;h>=f;--h)s.point(y[h],m[h]);s.lineEnd(),s.areaEnd()}g&&(y[c]=+t(d,c,u),m[c]=+e(d,c,u),s.point(r?+r(d,c,u):y[c],n?+n(d,c,u):m[c]))}if(p)return s=null,p+""||null}function c(){return FM().defined(i).curve(a).context(o)}return t="function"===typeof t?t:void 0===t?BM:ZE(+t),e="function"===typeof e?e:ZE(void 0===e?0:+e),n="function"===typeof n?n:void 0===n?DM:ZE(+n),u.x=function(e){return arguments.length?(t="function"===typeof e?e:ZE(+e),r=null,u):t},u.x0=function(e){return arguments.length?(t="function"===typeof e?e:ZE(+e),u):t},u.x1=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:ZE(+t),u):r},u.y=function(t){return arguments.length?(e="function"===typeof t?t:ZE(+t),n=null,u):e},u.y0=function(t){return arguments.length?(e="function"===typeof t?t:ZE(+t),u):e},u.y1=function(t){return arguments.length?(n=null==t?null:"function"===typeof t?t:ZE(+t),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(t){return arguments.length?(i="function"===typeof t?t:ZE(!!t),u):i},u.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),u):a},u.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),u):o},u}function MA(){var t=EA().curve(qM),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return ZM(n())},delete t.lineX0,t.lineEndAngle=function(){return ZM(r())},delete t.lineX1,t.lineInnerRadius=function(){return ZM(i())},delete t.lineY0,t.lineOuterRadius=function(){return ZM(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(KM(t)):e()._curve},t}SA.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var kA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function TA(t,e){const n=[],r=[],i=[];let o=!1,a=null;const s=t.length/2;for(let l=0;l<s;l++){const u=t[l],c=t[l+s];if([...u,...c].some((t=>!e(t))))o=!0;else{if(n.push(u),r.push(c),o&&a){o=!1;const[t,e]=a;i.push([t,u,e,c])}a=[u,c]}}return[n.concat(r),i]}const AA=JM((t=>{const{areaPath:e,connectPath:n,areaStyle:r,connectStyle:i}=t.attributes,o=t.ownerDocument;wE(t).maybeAppend("connect-path",(()=>o.createElement("path",{}))).style("d",n).call(fE,i),wE(t).maybeAppend("area-path",(()=>o.createElement("path",{}))).style("d",e).call(fE,r)})),LA=(t,e)=>{const{curve:n,gradient:r=!1,defined:i=(t=>!Number.isNaN(t)&&void 0!==t&&null!==t),connect:o=!1}=t,a=kA(t,["curve","gradient","defined","connect"]),{coordinate:s,document:l}=e;return(t,e,u)=>{const{color:c}=u,{color:f=c,seriesColor:h,seriesX:d,seriesY:p}=e,v=bE(s,e),g=r&&h?vE(h,d,p,r):f,y=Object.assign(Object.assign(Object.assign(Object.assign({},u),{stroke:g,fill:g}),v&&{transform:v}),a),[m,b]=TA(t,i),x=Gg(y,"connect"),w=!!b.length,_=t=>wE(l.createElement("path",{})).style("d",t||"").call(fE,y).node();if(vv(s)){const e=t=>{const e=s.getCenter(),r=t.slice(0,t.length/2),o=t.slice(t.length/2);return MA().angle(((t,n)=>sE(rE(r[n],e)))).outerRadius(((t,n)=>oE(r[n],e))).innerRadius(((t,n)=>oE(o[n],e))).defined(((t,e)=>[...r[e],...o[e]].every(i))).curve(n)(o)};return!w||o&&!Object.keys(x).length?_(e(m)):w&&!o?_(e(t)):wE(new AA).style("areaStyle",y).style("connectStyle",Object.assign(Object.assign({},x),a)).style("areaPath",e(t)).style("connectPath",b.map(e).join("")).node()}{const e=t=>{const e=t.slice(0,t.length/2),r=t.slice(t.length/2);return pv(s)?EA().y(((t,n)=>e[n][1])).x1(((t,n)=>e[n][0])).x0(((t,e)=>r[e][0])).defined(((t,n)=>[...e[n],...r[n]].every(i))).curve(n)(e):EA().x(((t,n)=>e[n][0])).y1(((t,n)=>e[n][1])).y0(((t,e)=>r[e][1])).defined(((t,n)=>[...e[n],...r[n]].every(i))).curve(n)(e)};return!w||o&&!Object.keys(x).length?_(e(m)):w&&!o?_(e(t)):wE(new AA).style("areaStyle",y).style("connectStyle",Object.assign(Object.assign({},x),a)).style("areaPath",e(t)).style("connectPath",b.map(e).join("")).node()}}};LA.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const PA=(t,e)=>{const{coordinate:n}=e;return(...r)=>{const i=vv(n)?HM:NM;return LA(Object.assign({curve:i},t),e)(...r)}};PA.props=Object.assign(Object.assign({},LA.props),{defaultMarker:"square"});var RA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const IA=(t,e)=>{const{alpha:n=.5}=t,r=RA(t,["alpha"]),{coordinate:i}=e;return(...t)=>{const o=vv(i)?hk:ck;return LA(Object.assign({curve:o.alpha(n)},r),e)(...t)}};IA.props=Object.assign(Object.assign({},LA.props),{defaultMarker:"smooth"});const jA=(t,e)=>(...n)=>LA(Object.assign({curve:gk},t),e)(...n);jA.props=Object.assign(Object.assign({},LA.props),{defaultMarker:"hvh"});const NA=(t,e)=>(...n)=>LA(Object.assign({curve:yk},t),e)(...n);NA.props=Object.assign(Object.assign({},LA.props),{defaultMarker:"vh"});const BA=(t,e)=>(...n)=>LA(Object.assign({curve:mk},t),e)(...n);BA.props=Object.assign(Object.assign({},LA.props),{defaultMarker:"hv"});const DA=(t,e)=>{const{arrow:n=!1}=t;return(...r)=>CT(Object.assign(Object.assign({},t),{arrow:n}),e)(...r)};DA.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var FA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const zA=(t,e)=>{const n=FA(t,[]),{document:r}=e;return(t,e,i)=>{const{color:o}=i,a=FA(i,["color"]),{color:s=o,transform:l}=e,[u,c]=t,f=mM();return f.moveTo(u[0],u[1]),f.bezierCurveTo(u[0]/2+c[0]/2,u[1],u[0]/2+c[0]/2,c[1],c[0],c[1]),wE(r.createElement("path",{})).call(fE,a).style("d",f.toString()).style("stroke",s).style("transform",l).call(fE,n).node()}};zA.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var WA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function HA(t,e,n,r){const i=mM();if(vv(n)){const o=n.getCenter(),a=oE(t,o),s=oE(e,o),l=(s-a)*r+a;return i.moveTo(t[0],t[1]),pE(i,t,e,o,l),i.lineTo(e[0],e[1]),i}return pv(n)?(i.moveTo(t[0],t[1]),i.lineTo(t[0]+(e[0]-t[0])*r,t[1]),i.lineTo(t[0]+(e[0]-t[0])*r,e[1]),i.lineTo(e[0],e[1]),i):(i.moveTo(t[0],t[1]),i.lineTo(t[0],t[1]+(e[1]-t[1])*r),i.lineTo(e[0],t[1]+(e[1]-t[1])*r),i.lineTo(e[0],e[1]),i)}const $A=(t,e)=>{const{cornerRatio:n=1/3}=t,r=WA(t,["cornerRatio"]),{coordinate:i,document:o}=e;return(t,e,a)=>{const{defaultColor:s}=a,l=WA(a,["defaultColor"]),{color:u=s,transform:c}=e,[f,h]=t,d=HA(f,h,i,n);return wE(o.createElement("path",{})).call(fE,l).style("d",d.toString()).style("stroke",u).style("transform",c).call(fE,r).node()}};$A.props={defaultMarker:"vhv",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var GA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const VA=(t,e)=>{const n=GA(t,[]),{coordinate:r,document:i}=e;return(t,e,o)=>{const{color:a}=o,s=GA(o,["color"]),{color:l=a,transform:u}=e,[c,f]=t,h=mM();if(h.moveTo(c[0],c[1]),vv(r)){const t=r.getCenter();h.quadraticCurveTo(t[0],t[1],f[0],f[1])}else{const t=cE(c,f),e=oE(c,f)/2;pE(h,c,f,t,e)}return wE(i.createElement("path",{})).call(fE,s).style("d",h.toString()).style("stroke",l).style("transform",u).call(fE,n).node()}};VA.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var UA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const YA=(t,e)=>{const{coordinate:n,document:r}=e;return(e,i,o)=>{const{color:a}=o,s=UA(o,["color"]),{color:l=a,src:u="",size:c=32,transform:f=""}=i;let{width:h=c,height:d=c}=t;const[[p,v]]=e,[g,y]=n.getSize();h="string"===typeof h?Up(h)*g:h,d="string"===typeof d?Up(d)*y:d;const m=p-Number(h)/2,b=v-Number(d)/2;return wE(r.createElement("image",{})).call(fE,s).style("x",m).style("y",b).style("img",u).style("stroke",l).style("transform",f).call(fE,t).style("width",h).style("height",d).node()}};YA.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var qA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function XA(t,e){const n=mM();if(vv(e)){const r=e.getCenter(),i=[...t,t[0]],o=i.map((t=>oE(t,r)));return i.forEach(((e,i)=>{if(0===i)return void n.moveTo(e[0],e[1]);const a=o[i],s=t[i-1],l=o[i-1];void 0!==l&&Math.abs(a-l)<1e-10?pE(n,s,e,r,a):n.lineTo(e[0],e[1])})),n.closePath(),n}return hE(n,t)}const KA=(t,e)=>{const{coordinate:n,document:r}=e;return(e,i,o)=>{const{color:a}=o,s=qA(o,["color"]),{color:l=a,transform:u}=i,c=XA(e,n);return wE(r.createElement("path",{})).call(fE,s).style("d",c.toString()).style("stroke",l).style("fill",l).style("transform",u).call(fE,t).node()}};KA.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var ZA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function QA(t,e){const[n,r,i,o]=t,a=mM();if(vv(e)){const t=e.getCenter(),s=oE(t,n);return a.moveTo(n[0],n[1]),a.quadraticCurveTo(t[0],t[1],i[0],i[1]),pE(a,i,o,t,s),a.quadraticCurveTo(t[0],t[1],r[0],r[1]),pE(a,r,n,t,s),a.closePath(),a}return a.moveTo(n[0],n[1]),a.bezierCurveTo(n[0]/2+i[0]/2,n[1],n[0]/2+i[0]/2,i[1],i[0],i[1]),a.lineTo(o[0],o[1]),a.bezierCurveTo(o[0]/2+r[0]/2,o[1],o[0]/2+r[0]/2,r[1],r[0],r[1]),a.lineTo(n[0],n[1]),a.closePath(),a}const JA=(t,e)=>{const n=ZA(t,[]),{coordinate:r,document:i}=e;return(t,e,o)=>{const{color:a}=o,s=ZA(o,["color"]),{color:l=a,transform:u}=e,c=QA(t,r);return wE(i.createElement("path",{})).call(fE,s).style("d",c.toString()).style("fill",l||a).style("stroke",l||a).style("transform",u).call(fE,n).node()}};JA.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var tL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function eL(t,e){const n=mM();if(vv(e)){const r=e.getCenter(),[i,o]=r,a=aE(rE(t[0],r)),s=aE(rE(t[1],r)),l=oE(r,t[2]),u=oE(r,t[3]),c=oE(r,t[8]),f=oE(r,t[10]),h=oE(r,t[11]);n.moveTo(...t[0]),n.arc(i,o,l,a,s),n.arc(i,o,l,s,a,!0),n.moveTo(...t[2]),n.lineTo(...t[3]),n.moveTo(...t[4]),n.arc(i,o,u,a,s),n.lineTo(...t[6]),n.arc(i,o,f,s,a,!0),n.closePath(),n.moveTo(...t[8]),n.arc(i,o,c,a,s),n.arc(i,o,c,s,a,!0),n.moveTo(...t[10]),n.lineTo(...t[11]),n.moveTo(...t[12]),n.arc(i,o,h,a,s),n.arc(i,o,h,s,a,!0)}else n.moveTo(...t[0]),n.lineTo(...t[1]),n.moveTo(...t[2]),n.lineTo(...t[3]),n.moveTo(...t[4]),n.lineTo(...t[5]),n.lineTo(...t[6]),n.lineTo(...t[7]),n.closePath(),n.moveTo(...t[8]),n.lineTo(...t[9]),n.moveTo(...t[10]),n.lineTo(...t[11]),n.moveTo(...t[12]),n.lineTo(...t[13]);return n}const nL=(t,e)=>{const{coordinate:n,document:r}=e;return(e,i,o)=>{const{color:a,transform:s}=i,{color:l,fill:u=l,stroke:c=l}=o,f=tL(o,["color","fill","stroke"]),h=eL(e,n);return wE(r.createElement("path",{})).call(fE,f).style("d",h.toString()).style("stroke",c).style("fill",a||u).style("transform",s).call(fE,t).node()}};nL.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var rL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function iL(t,e,n=4){const r=mM();if(!vv(e))return r.moveTo(...t[2]),r.lineTo(...t[3]),r.lineTo(t[3][0]-n,t[3][1]),r.lineTo(t[10][0]-n,t[10][1]),r.lineTo(t[10][0]+n,t[10][1]),r.lineTo(t[3][0]+n,t[3][1]),r.lineTo(...t[3]),r.closePath(),r.moveTo(...t[10]),r.lineTo(...t[11]),r.moveTo(t[3][0]+n/2,t[8][1]),r.arc(t[3][0],t[8][1],n/2,0,2*Math.PI),r.closePath(),r;const i=e.getCenter(),[o,a]=i,s=oE(i,t[3]),l=oE(i,t[8]),u=oE(i,t[10]),c=aE(rE(t[2],i)),f=Math.asin(n/l),h=c-f,d=c+f;r.moveTo(...t[2]),r.lineTo(...t[3]),r.moveTo(Math.cos(h)*s+o,Math.sin(h)*s+a),r.arc(o,a,s,h,d),r.lineTo(Math.cos(d)*u+o,Math.sin(d)*u+a),r.arc(o,a,u,d,h,!0),r.lineTo(Math.cos(h)*s+o,Math.sin(h)*s+a),r.closePath(),r.moveTo(...t[10]),r.lineTo(...t[11]);const p=(h+d)/2;return r.moveTo(Math.cos(p)*(l+n/2)+o,Math.sin(p)*(l+n/2)+a),r.arc(Math.cos(p)*l+o,Math.sin(p)*l+a,n/2,p,2*Math.PI+p),r.closePath(),r}const oL=(t,e)=>{const{coordinate:n,document:r}=e;return(e,i,o)=>{const{color:a,transform:s}=i,l=4,{color:u,fill:c=u,stroke:f=u}=o,h=rL(o,["color","fill","stroke"]),d=iL(e,n,l);return wE(r.createElement("path",{})).call(fE,h).style("d",d.toString()).style("stroke",f).style("fill",a||c).style("transform",s).call(fE,t).node()}};oL.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var aL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function sL(t,e,n){const r=t.createElement("path",{style:Object.assign({path:`M ${e},${e} L -${e},0 L ${e},-${e} L 0,0 Z`,anchor:"0.5 0.5",transformOrigin:"center"},n)});return r}function lL(t,e){if(!vv(e))return FM().x((t=>t[0])).y((t=>t[1]))(t);const n=e.getCenter();return MM()({startAngle:0,endAngle:2*Math.PI,outerRadius:oE(t[0],n),innerRadius:oE(t[1],n)})}function uL(t,e){if(!vv(t))return e;const[n,r]=t.getCenter();return`translate(${n}, ${r}) ${e||""}`}const cL=(t,e)=>{const{arrow:n,arrowSize:r=4}=t,i=aL(t,["arrow","arrowSize"]),{coordinate:o,document:a}=e;return(t,e,s)=>{const{color:l,lineWidth:u}=s,c=aL(s,["color","lineWidth"]),{color:f=l,size:h=u}=e,d=n?sL(a,r,Object.assign({fill:i.stroke||f,stroke:i.stroke||f},Gg(i,"arrow"))):null,p=lL(t,o),v=uL(o,e.transform);return wE(a.createElement("path",{})).call(fE,c).style("d",p).style("stroke",f).style("lineWidth",h).style("transform",v).style("markerEnd",d).call(fE,i).node()}};cL.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var fL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function hL(t,e,n){return[["M",t,e],["L",t+2*n,e-n],["L",t+2*n,e+n],["Z"]]}function dL(t){return FM().x((t=>t[0])).y((t=>t[1]))(t)}const pL=JM((t=>{const e=t.attributes,{points:n,class:r,endMarker:i=!0,direction:o}=e,a=fL(e,["points","class","endMarker","direction"]),s=Gg(a,"endMarker"),l=dL(n);wE(t).maybeAppend("connector","path").style("path",l).style("markerEnd",i?new dA({className:"marker",style:Object.assign(Object.assign({},s),{symbol:hL})}):null).call(fE,a)}));function vL(t,e,n,r=0){const[[i,o],[a,s]]=e;if(pv(t)){const t=n,e=i+t,l=a+t,u=e+r;return[[e,o],[u,o],[u,s],[l,s]]}const l=-n,u=o+l,c=s+l,f=u+-r;return[[i,u],[i,f],[a,f],[a,c]]}const gL=(t,e)=>{const{offset:n=0,connectLength1:r}=t,i=fL(t,["offset","connectLength1"]),{coordinate:o}=e;return(t,e,a)=>{const{color:s,connectLength1:l=r}=a,u=fL(a,["color","connectLength1"]),{color:c,transform:f}=e,h=vL(o,t,n,l);return wE(new pL).call(fE,u).style("points",h).style("stroke",c||s).style("transform",f).call(fE,i).node()}};function yL(t){return t.replace(/-(\w)/g,(function(t,e){return e.toUpperCase()}))}function mL(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function bL(t,e,n,r){const i=e.length/2,o=e.slice(0,i),a=e.slice(i);let s=lm(o,((t,e)=>Math.abs(t[1]-a[e][1])));s=Math.max(Math.min(s,i-2),1);const l=t=>[o[t][0],(o[t][1]+a[t][1])/2],u=l(s),c=l(s-1),f=l(s+1),h=aE(rE(f,c))/Math.PI*180;return{x:u[0],y:u[1],transform:`rotate(${h})`,textAlign:"center",textBaseline:"middle"}}function xL(t,e,n,r){const{bounds:i}=n,[[o,a],[s,l]]=i,u=s-o,c=l-a,f=t=>{const{x:e,y:r}=t,i=qg(n.x,u),s=qg(n.y,c);return Object.assign(Object.assign({},t),{x:(i||e)+o,y:(s||r)+a})};return f("left"===t?{x:0,y:c/2,textAnchor:"start",textBaseline:"middle"}:"right"===t?{x:u,y:c/2,textAnchor:"end",textBaseline:"middle"}:"top"===t?{x:u/2,y:0,textAnchor:"center",textBaseline:"top"}:"bottom"===t?{x:u/2,y:c,textAnchor:"center",textBaseline:"bottom"}:"top-left"===t?{x:0,y:0,textAnchor:"start",textBaseline:"top"}:"top-right"===t?{x:u,y:0,textAnchor:"end",textBaseline:"top"}:"bottom-left"===t?{x:0,y:c,textAnchor:"start",textBaseline:"bottom"}:"bottom-right"===t?{x:u,y:c,textAnchor:"end",textBaseline:"bottom"}:{x:u/2,y:c/2,textAnchor:"center",textBaseline:"middle"})}function wL(t,e,n,r){const{y:i,y1:o,autoRotate:a,rotateToAlignArc:s}=n,l=r.getCenter(),u=yE(r,e,[i,o]),{innerRadius:c,outerRadius:f,startAngle:h,endAngle:d}=u,p="inside"===t?(h+d)/2:d,v=OL(p,a,s),g=(()=>{const[n,r]=e,i=c+.5*(f-c),[o,a]="inside"===t?_L(l,p,i):cE(n,r);return{x:o,y:a}})();return Object.assign(Object.assign({},g),{textAlign:"inside"===t?"center":"start",textBaseline:"middle",rotate:v})}function _L(t,e,n){return[t[0]+Math.sin(e)*n,t[1]-Math.cos(e)*n]}function OL(t,e,n){if(!e)return 0;const r=n?0:Math.sin(t)<0?90:-90;return t/Math.PI*180+r}function CL(t,e,n,r){const{y:i,y1:o,autoRotate:a,rotateToAlignArc:s,radius:l=.5,offset:u=0}=n,c=yE(r,e,[i,o]),{startAngle:f,endAngle:h}=c,d=r.getCenter(),p=(f+h)/2,v=OL(p,a,s),g={textAlign:"center",textBaseline:"middle",rotate:v},{innerRadius:y,outerRadius:m}=c,b=y+(m-y)*l,x=b+u,[w,_]=_L(d,p,x);return Object.assign({x:w,y:_},g)}function SL(t,e,n,r){const{bounds:i}=n,[o]=i;return{x:o[0],y:o[1]}}function EL(t,e,n,r){const{bounds:i}=n;if(1===i.length)return SL(t,e,n,r);const o=gv(r)?wL:wv(r)?CL:xL;return o(t,e,n,r)}function ML(t,e,n,r,i){const[o,a]=_L(t,e,n),[s,l]=_L(t,e,r),u=Math.sin(e)>0?1:-1;return[[o,a],[s,l],[s+u*i,l]]}function kL(t,e,n){const r=yE(n,t,[e.y,e.y1]),{innerRadius:i,outerRadius:o}=r;return i+(o-i)}function TL(t,e,n){const r=yE(n,t,[e.y,e.y1]),{startAngle:i,endAngle:o}=r;return(i+o)/2}function AL(t,e,n,r){const{autoRotate:i,rotateToAlignArc:o,offset:a=0,connector:s=!0,connectorLength:l=a,connectorLength2:u=0,connectorDistance:c=0}=n,f=r.getCenter(),h=TL(e,n,r),d=Math.sin(h)>0?1:-1,p=OL(h,i,o),v={textAlign:d>0||gv(r)?"start":"end",textBaseline:"middle",rotate:p},g=kL(e,n,r),y=g+(s?l:a),[[m,b],[x,w],[_,O]]=ML(f,h,g,y,s?u:0),C=s?+c*d:0,S=_+C,E=O,M={connector:s,connectorPoints:[[x-S,w-E],[_-S,O-E]]};return Object.assign(Object.assign({x0:m,y0:b,x:_+C,y:O},v),M)}function LL(t,e,n,r){const{bounds:i}=n;if(1===i.length)return SL(t,e,n,r);const o=gv(r)?wL:wv(r)?AL:xL;return o(t,e,n,r)}gL.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var PL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function RL(t,e,n,r){if(!wv(r))return{};const{connectorLength:i,connectorLength2:o,connectorDistance:a}=n,s=PL(AL("outside",e,n,r),[]),l=r.getCenter(),u=kL(e,n,r),c=TL(e,n,r),f=u+i+o,h=Math.sin(c)>0?1:-1,d=l[0]+(f+ +a)*h,{x:p}=s,v=d-p;return s.x+=v,s.connectorPoints[0][0]-=v,s}var IL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function jL(t,e,n,r){if(!wv(r))return{};const{connectorLength:i,connectorLength2:o,connectorDistance:a}=n,s=IL(AL("outside",e,n,r),[]),{x0:l,y0:u}=s,c=r.getCenter(),f=Ov(r),h=f+i,d=sE([l-c[0],u-c[1]]),p=Math.sin(d)>0?1:-1,[v,g]=_L(c,d,h);return s.x=v+(o+a)*p,s.y=g,s}var NL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function BL(t,e){return void 0!==t?t:wv(e)?"inside":pv(e)?"right":"top"}function DL(t,e,n,r,i){const{position:a}=e,s=BL(a,n),l=r["inside"===s?"innerLabel":"label"],u=Object.assign({},l,e),c=o[yL(s)];if(!c)throw new Error(`Unknown position: ${s}`);return Object.assign(Object.assign({},l),c(s,t,u,n,i))}const FL=(t,e)=>{const{coordinate:n,theme:r}=e;return(e,i)=>{const{text:o,x:a,y:s,transform:l="",transformOrigin:u}=i,c=NL(i,["text","x","y","transform","transformOrigin"]),f=DL(e,i,n,r,t),{rotate:h=0,transform:d=""}=f,p=NL(f,["rotate","transform"]);return wE(new bA).call(fE,p).style("text",`${o}`).style("labelTransform",`${d} rotate(${+h}) ${l}`.trim()).style("labelTransformOrigin",u).style("coordCenter",n.getCenter()).call(fE,c).node()}};FL.props={defaultMarker:"point"};var zL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const WL=(t,e)=>{const{arrow:n,colorAttribute:r}=t,i=zL(t,["arrow","colorAttribute"]),{coordinate:o,document:a}=e;return(t,e,n)=>{const{color:s,stroke:l}=n,u=zL(n,["color","stroke"]),{d:c,color:f=s}=e,[h,d]=o.getSize();return wE(a.createElement("path",{})).call(fE,u).style("d","function"===typeof c?c({width:h,height:d}):c).style(r,f).call(fE,i).node()}};WL.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const HL=(t,e)=>WL(Object.assign({colorAttribute:"fill"},t),e);HL.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const $L=(t,e)=>WL(Object.assign({fill:"none",colorAttribute:"stroke"},t),e);$L.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var GL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const VL=(t,e)=>{const{document:n}=e;return(e,r,i)=>{const{transform:o}=r,{color:a}=i,s=GL(i,["color"]),{color:l=a}=r,[u,...c]=e,f=mM();return f.moveTo(...u),c.forEach((([t,e])=>{f.lineTo(t,e)})),f.closePath(),wE(n.createElement("path",{})).call(fE,s).style("d",f.toString()).style("stroke",l||a).style("fill",l||a).style("fillOpacity",.4).style("transform",o).call(fE,t).node()}};function UL(t){var e,n,r,i=t||1;function o(t,o){++e>i&&(r=n,a(1),++e),n[t]=o}function a(t){e=0,n=Object.create(null),t||(r=Object.create(null))}return a(),{clear:a,has:function(t){return void 0!==n[t]||void 0!==r[t]},get:function(t){var e=n[t];return void 0!==e?e:void 0!==(e=r[t])?(o(t,e),e):void 0},set:function(t,e){void 0!==n[t]?n[t]=e:o(t,e)}}}VL.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};UL(3);function YL(t,e=((...t)=>`${t[0]}`),n=16){const r=UL(n);return(...n)=>{const i=e(...n);let o=r.get(i);return r.has(i)?r.get(i):(o=t(...n),r.set(i,o),o)}}function qL(t){return"string"===typeof t?t.split(" ").map((t=>{const[e,n]=t.split(":");return[+e,n]})):t}function XL(t,e,n){const r=t?t():document.createElement("canvas");return r.width=e,r.height=n,r}const KL=YL(((t,e,n)=>{const r=XL(n,2*t,2*t),i=r.getContext("2d"),o=t,a=t;if(1===e)i.beginPath(),i.arc(o,a,t,0,2*Math.PI,!1),i.fillStyle="rgba(0,0,0,1)",i.fill();else{const n=i.createRadialGradient(o,a,t*e,o,a,t);n.addColorStop(0,"rgba(0,0,0,1)"),n.addColorStop(1,"rgba(0,0,0,0)"),i.fillStyle=n,i.fillRect(0,0,2*t,2*t)}return r}),(t=>`${t}`));function ZL(t,e){const n=XL(e,256,1),r=n.getContext("2d"),i=r.createLinearGradient(0,0,256,1);return qL(t).forEach((([t,e])=>{i.addColorStop(t,e)})),r.fillStyle=i,r.fillRect(0,0,256,1),r.getImageData(0,0,256,1).data}function QL(t,e,n,r,i,o){const{blur:a}=i;let s=r.length;while(s--){const{x:i,y:l,value:u,radius:c}=r[s],f=Math.min(u,n),h=i-c,d=l-c,p=KL(c,1-a,o),v=(f-e)/(n-e);t.globalAlpha=Math.max(v,.001),t.drawImage(p,h,d)}return t}function JL(t,e,n,r,i){const{minOpacity:o,opacity:a,maxOpacity:s,useGradientOpacity:l}=i,u=0,c=0,f=e,h=n,d=t.getImageData(u,c,f,h),p=d.data,v=p.length;for(let g=3;g<v;g+=4){const t=p[g],e=4*t;if(!e)continue;const n=a||Math.max(0,Math.min(s,Math.max(o,t)));p[g-3]=r[e],p[g-2]=r[e+1],p[g-1]=r[e+2],p[g]=l?r[e+3]:n}return d}function tP(t,e,n,r,i,o,a){const s=Object.assign({blur:.85,minOpacity:0,opacity:.6,maxOpacity:1,gradient:[[.25,"rgb(0,0,255)"],[.55,"rgb(0,255,0)"],[.85,"yellow"],[1,"rgb(255,0,0)"]]},o);s.minOpacity*=255,s.opacity*=255,s.maxOpacity*=255;const l=XL(a,t,e),u=l.getContext("2d"),c=ZL(s.gradient,a);u.clearRect(0,0,t,e),QL(u,n,r,i,s,a);const f=JL(u,t,e,c,s),h=XL(a,t,e),d=h.getContext("2d");return d.putImageData(f,0,0),d}var eP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function nP(t,e){return Object.keys(t).reduce(((n,r)=>{const i=t[r];return e(i,r)||(n[r]=i),n}),{})}const rP=(t,e)=>{const{gradient:n,opacity:r,maxOpacity:i,minOpacity:o,blur:a,useGradientOpacity:s}=t,l=eP(t,["gradient","opacity","maxOpacity","minOpacity","blur","useGradientOpacity"]),{coordinate:u,createCanvas:c,document:f}=e;return(t,e,h)=>{const{transform:d}=e,[p,v]=u.getSize(),g=t.map((t=>({x:t[0],y:t[1],value:t[2],radius:t[3]}))),y=cg(t,(t=>t[2])),m=ug(t,(t=>t[2])),b={gradient:n,opacity:r,minOpacity:o,maxOpacity:i,blur:a,useGradientOpacity:s},x=p&&v?tP(p,v,y,m,g,nP(b,(t=>void 0===t)),c):{canvas:null};return wE(f.createElement("image",{})).call(fE,h).style("x",0).style("y",0).style("width",p).style("height",v).style("src",x.canvas).style("transform",d).call(fE,l).node()}};rP.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var iP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const oP=t=>{const{render:e}=t,n=iP(t,["render"]);return t=>{const[[r,i]]=t;return e(Object.assign(Object.assign({},n),{x:r,y:i}))}};oP.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const aP={BLACK:"#000",WHITE:"#fff",STROKE:"#416180"},sP="transparent",lP=t=>{const e="#5B8FF9",n={defaultColor:e,defaultCategory10:"category10",defaultCategory20:"category20",defaultSize:1,elementActiveStroke:aP.BLACK,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},viewFill:sP,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent",line:{line:{fill:"",strokeOpacity:1,lineWidth:1}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:aP.BLACK,lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:12,strokeWidth:0,connectorStroke:aP.STROKE,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:aP.STROKE,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,strokeWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:aP.STROKE,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:aP.STROKE,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:aP.STROKE,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:aP.STROKE,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:aP.STROKE,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:aP.STROKE,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:aP.STROKE,endMarkerFillOpacity:.95}},interaction:{active:{line:{line:{lineWidth:3}},interval:{rect:{stroke:aP.BLACK}},area:{area:{fillOpacity:.5}}},inactive:{area:{area:{fillOpacity:.3}}},selected:{},disabled:{}},axis:{arrow:!1,gridLineDash:[0,0],gridLineWidth:.5,gridStroke:aP.BLACK,gridStrokeOpacity:.05,labelAlign:"horizontal",labelFill:aP.BLACK,labelFillOpacity:.65,labelFontSize:12,labelFontWeight:"lighter",labelSpacing:8,line:!1,lineLineWidth:.5,lineStroke:aP.BLACK,lineStrokeOpacity:.45,tickLength:4,tickLineWidth:1,tickStroke:aP.BLACK,tickStrokeOpacity:.25,titleFill:aP.BLACK,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,titleTransformOrigin:"center"},axisTop:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"top",titleSpacing:0,titleTextBaseline:"middle"},axisBottom:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,labelAutoRotate:!0,tickDirection:"positive",titlePosition:"bottom",titleSpacing:10,titleTextBaseline:"bottom"},axisLeft:{gridDirection:"negative",labelAutoRotate:!1,labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"left",titleSpacing:10,titleTextBaseline:"middle",titleDirection:"vertical",titleTransformOrigin:"center"},axisRight:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,labelAutoRotate:!1,tickDirection:"negative",titlePosition:"right",titleSpacing:0,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleSpacing:0},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",label:!1,tick:!1,titlePosition:"start"},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:aP.BLACK,itemLabelFillOpacity:.65,itemLabelFontSize:12,itemLabelFontWeight:"lighter",itemMarkerFillOpacity:1,itemMarkerSize:8,itemSpacing:[5,8],itemValueFill:aP.BLACK,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"lighter",navButtonFill:aP.BLACK,navButtonFillOpacity:.65,navPageNumFill:aP.BLACK,navPageNumFillOpacity:.45,navPageNumFontSize:12,padding:8,title:!0,titleFill:aP.BLACK,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,tickStroke:aP.BLACK,tickStrokeOpacity:.25,rowPadding:0,colPadding:8},legendContinuous:{handleHeight:12,handleLabelFill:aP.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal",handleMarkerFill:aP.BLACK,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:aP.BLACK,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:aP.BLACK,labelFillOpacity:.45,labelFontSize:12,labelFontWeight:"lighter",labelSpacing:3,tick:!0,tickLength:12,ribbonSize:12,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:12/1.8,indicator:!1,titleFontSize:12,titleSpacing:4,titleFontWeight:"normal",titleFillOpacity:.65,tickStroke:aP.BLACK,tickStrokeOpacity:.25},label:{fill:aP.BLACK,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:aP.BLACK,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:aP.WHITE,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},slider:{trackSize:16,trackFill:aP.STROKE,trackFillOpacity:1,selectionFill:e,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:aP.BLACK,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:aP.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{padding:[2,2,2,2],trackSize:10,isRound:!0,slidable:!0,scrollable:!0,trackFill:"#e5e5e5",trackFillOpacity:0,thumbFill:"#000",thumbFillOpacity:.15,thumbHighlightedFillOpacity:.2},title:{titleFill:aP.BLACK,titleFillOpacity:.85,titleFontSize:14,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:aP.BLACK,subtitleFillOpacity:.65,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"}};return Object.assign({},n,t)};lP.props={};const uP={BLACK:"#fff",WHITE:"#000",STROKE:"#416180"},cP="#141414",fP=t=>{const e="#5B8FF9",n={defaultColor:e,defaultCategory10:"category10",defaultCategory20:"category20",defaultSize:1,elementActiveStroke:uP.BLACK,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},viewFill:cP,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent",line:{line:{fill:"",strokeOpacity:1,lineWidth:1}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:uP.BLACK,lineWidth:1}},text:{text:{fill:uP.BLACK,fillOpacity:.65,fontSize:12,strokeWidth:0,connectorStroke:uP.STROKE,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:uP.STROKE,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,strokeWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:uP.STROKE,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:uP.STROKE,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:uP.STROKE,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:uP.STROKE,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:uP.STROKE,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:uP.STROKE,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:uP.STROKE,endMarkerFillOpacity:.95}},interaction:{active:{line:{line:{lineWidth:3}},interval:{rect:{stroke:uP.BLACK}},area:{area:{fillOpacity:.5}}},inactive:{area:{area:{fillOpacity:.3}}},selected:{},disabled:{}},axis:{arrow:!1,gridLineDash:[0,0],gridLineWidth:.5,gridStroke:uP.BLACK,gridStrokeOpacity:.05,labelAlign:"horizontal",labelFill:uP.BLACK,labelFillOpacity:.65,labelFontSize:12,labelFontWeight:"lighter",labelSpacing:8,lineLineWidth:.5,lineStroke:uP.BLACK,lineStrokeOpacity:.45,tickLength:4,tickLineWidth:1,tickStroke:uP.BLACK,tickStrokeOpacity:.25,titleFill:uP.BLACK,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,titleTransformOrigin:"center"},axisTop:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"top",titleSpacing:0,titleTextBaseline:"middle"},axisBottom:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"bottom",titleSpacing:10,titleTextBaseline:"bottom"},axisLeft:{gridDirection:"negative",labelAutoRotate:!1,labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"left",titleSpacing:10,titleTextBaseline:"middle",titleDirection:"vertical",titleTransformOrigin:"center"},axisRight:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"right",titleSpacing:0,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleTextBaseline:"bottom"},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",label:!1,tick:!1,titlePosition:"start"},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:uP.BLACK,itemLabelFillOpacity:.65,itemLabelFontSize:12,itemLabelFontWeight:"lighter",itemMarkerFillOpacity:1,itemMarkerSize:8,itemSpacing:[5,8],itemValueFill:uP.BLACK,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"lighter",navButtonFill:uP.BLACK,navButtonFillOpacity:.45,navPageNumFill:uP.BLACK,navPageNumFillOpacity:.45,navPageNumFontSize:12,padding:8,title:!0,titleFill:uP.BLACK,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,tickStroke:uP.BLACK,tickStrokeOpacity:.25,rowPadding:0,colPadding:8},legendContinuous:{handleHeight:12,handleLabelFill:uP.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal",handleMarkerFill:uP.BLACK,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:uP.BLACK,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:uP.BLACK,labelFillOpacity:.45,labelFontSize:12,labelFontWeight:"lighter",labelSpacing:3,tick:!0,tickLength:12,ribbonSize:12,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:12/1.8,indicator:!1,titleFontSize:12,titleSpacing:4,titleFontWeight:"normal",titleFillOpacity:.65,tickStroke:uP.BLACK,tickStrokeOpacity:.25},label:{fill:uP.BLACK,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:uP.BLACK,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:uP.WHITE,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},slider:{trackSize:16,trackFill:uP.STROKE,trackFillOpacity:1,selectionFill:e,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:uP.BLACK,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:uP.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{},title:{titleFill:uP.BLACK,titleFillOpacity:.85,titleFontSize:14,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:uP.BLACK,subtitleFillOpacity:.65,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"}};return Object.assign({},n,t)};fP.props={};const hP={BLACK:"#000",WHITE:"#fff",STROKE:"#888"},dP="transparent",pP=t=>{const e="#4e79a7",n={defaultColor:e,defaultCategory10:"tableau10",defaultCategory20:"tableau10",defaultSize:1,elementActiveStroke:hP.BLACK,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},viewFill:dP,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent",line:{line:{fill:"",strokeOpacity:1,lineWidth:1,connectStroke:"#aaa"}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0,connectFill:hP.BLACK,connectFillOpacity:.1}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:"#1D2129",lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:10,strokeWidth:0,connectorStroke:hP.STROKE,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:hP.STROKE,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,strokeWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:hP.STROKE,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:hP.STROKE,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:hP.STROKE,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:hP.STROKE,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:hP.STROKE,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:hP.STROKE,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:hP.STROKE,endMarkerFillOpacity:.95}},interaction:{active:{line:{line:{lineWidth:3}},interval:{rect:{stroke:hP.BLACK}},area:{area:{fillOpacity:.5}}},inactive:{area:{area:{fillOpacity:.3}}},selected:{},disabled:{}},axis:{arrow:!1,gridLineDash:[0,0],gridLineWidth:1,gridStroke:"#ddd",gridStrokeOpacity:1,labelAlign:"horizontal",labelAutoRotate:!1,labelFill:hP.BLACK,labelFillOpacity:1,labelFontSize:10,labelFontWeight:"normal",labelSpacing:4,line:!0,lineLineWidth:1,lineStroke:"#888",lineStrokeOpacity:1,tickLength:5,tickLineWidth:1,tickStroke:hP.STROKE,tickStrokeOpacity:1,titleFill:hP.BLACK,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold",titleSpacing:12,titleTransformOrigin:"center"},axisTop:{gridDirection:"positive",labelDirection:"negative",tickDirection:"negative",titlePosition:"top",titleSpacing:0,titleTextBaseline:"middle",labelSpacing:4},axisBottom:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"bottom",titleSpacing:4,titleTextBaseline:"bottom"},axisLeft:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"left",titleSpacing:4,titleTextBaseline:"middle",titleDirection:"vertical",titleTransformOrigin:"center"},axisRight:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"right",titleSpacing:0,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleTextBaseline:"bottom"},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",label:!1,tick:!1,titlePosition:"start"},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:hP.BLACK,itemLabelFillOpacity:1,itemLabelFontSize:10,itemLabelFontWeight:"normal",itemMarkerFillOpacity:1,itemMarkerSize:8,itemSpacing:[5,4],itemValueFill:hP.BLACK,itemValueFillOpacity:1,itemValueFontSize:10,itemValueFontWeight:"normal",navButtonFill:hP.BLACK,navButtonFillOpacity:.45,navButtonSize:6,navPageNumFill:hP.BLACK,navPageNumFillOpacity:.45,navPageNumFontSize:10,padding:8,title:!0,titleFill:hP.BLACK,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold",titleSpacing:4,rowPadding:0,colPadding:8},legendContinuous:{handleHeight:12,handleLabelFill:hP.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:10,handleLabelFontWeight:"normal",handleMarkerFill:hP.BLACK,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:hP.BLACK,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:hP.BLACK,labelFillOpacity:.45,labelFontSize:10,labelFontWeight:"normal",title:!0,titleSpacing:4,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:12/1.8,indicator:!1,titleFontWeight:"bold"},label:{fill:hP.BLACK,fillOpacity:.65,fontSize:10,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:hP.BLACK,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:hP.WHITE,fontSize:10,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},slider:{trackSize:16,trackFill:hP.STROKE,trackFillOpacity:.05,selectionFill:e,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:hP.BLACK,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:hP.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:10,handleLabelFontWeight:"normal"},scrollbar:{},title:{titleFill:hP.BLACK,titleFillOpacity:.85,titleFontSize:14,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:hP.BLACK,subtitleFillOpacity:.65,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"}};return Object.assign({},n,t)};function vP(t){return"boolean"!==typeof t&&("enter"in t&&"update"in t&&"exit"in t)}function gP(t){if(!t)return{enter:!1,update:!1,exit:!1};var e=["enter","update","exit"],n=Object.fromEntries(Object.entries(t).filter((function(t){var n=VO(t,1),r=n[0];return!e.includes(r)})));return Object.fromEntries(e.map((function(e){return vP(t)?!1===t[e]?[e,!1]:[e,WO(WO({},t[e]),n)]:[e,n]})))}function yP(t,e){t?t.finished.then(e):e()}function mP(t,e){0===t.length?e():Promise.all(t.map((function(t){return null===t||void 0===t?void 0:t.finished}))).then(e)}function bP(t,e){"update"in t?t.update(e):t.attr(e)}function xP(t,e,n){if(0===e.length)return null;if(!n){var r=e.slice(-1)[0];return bP(t,{style:r}),null}return t.animate(e,n)}function wP(t,e){return"text"===t.nodeName&&"text"===e.nodeName&&t.attributes.text===e.attributes.text}function _P(t,e,n,r){if(void 0===r&&(r="destroy"),wP(t,e))return t.remove(),[null];var i=function(){"destroy"===r?t.destroy():"hide"===r&&kT(t),e.isVisible()&&MT(e)};if(!n)return i(),[null];var o=n.duration,a=void 0===o?0:o,s=n.delay,l=void 0===s?0:s,u=Math.ceil(+a/2),c=+a/4,f=function(t){if("circle"===t.nodeName){var e=VO(t.getLocalPosition(),2),n=e[0],r=e[1],i=t.attr("r");return[n-i,r-i]}return t.getLocalPosition()},h=VO(f(t),2),d=h[0],p=h[1],v=VO(f(e),2),g=v[0],y=v[1],m=VO([(d+g)/2-d,(p+y)/2-p],2),b=m[0],x=m[1],w=t.animate([{opacity:1,transform:"translate(0, 0)"},{opacity:0,transform:"translate(".concat(b,", ").concat(x,")")}],WO(WO({fill:"both"},n),{duration:l+u+c})),_=e.animate([{opacity:0,transform:"translate(".concat(-b,", ").concat(-x,")"),offset:.01},{opacity:1,transform:"translate(0, 0)"}],WO(WO({fill:"both"},n),{duration:u+c,delay:l+u-c}));return yP(_,i),[w,_]}function OP(t,e,n){var r={},i={};return Object.entries(e).forEach((function(e){var n=VO(e,2),o=n[0],a=n[1];if(!ye(a)){var s=t.style[o]||t.parsedStyle[o]||0;s!==a&&(r[o]=s,i[o]=a)}})),n?xP(t,[r,i],WO({fill:"both"},n)):(bP(t,i),null)}function CP(t,e){if(t.length<=e)return t;for(var n=Math.floor(t.length/e),r=[],i=0;i<t.length;i+=n)r.push(t[i]);return r}pP.props={};var SP=function(t,e){var n=function(t){return"".concat(e,"-").concat(t)},r=Object.fromEntries(Object.entries(t).map((function(t){var e=VO(t,2),r=e[0],i=e[1],o=n(i);return[r,{name:o,class:".".concat(o),id:"#".concat(o),toString:function(){return o}}]})));return Object.assign(r,{prefix:n}),r},EP={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new Eu({style:{path:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],anchor:"0.5 0.5",fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",tickStrokeOpacity:.65,labelOverlap:[]},MP=(Bd({},EP,{style:{type:"arc"}}),Bd({},EP,{style:{}}),SP({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis"));function kP(t,e){return[t[0]*e,t[1]*e]}function TP(t,e){return[t[0]+e[0],t[1]+e[1]]}function AP(t,e){return[t[0]-e[0],t[1]-e[1]]}function LP(t,e){return[Math.min(t[0],e[0]),Math.min(t[1],e[1])]}function PP(t,e){return[Math.max(t[0],e[0]),Math.max(t[1],e[1])]}function RP(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function IP(t){if(0===t[0]&&0===t[1])return[0,0];var e=Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2));return[t[0]/e,t[1]/e]}function jP(t,e){return e?[t[1],-t[0]]:[-t[1],t[0]]}function NP(t){return t*Math.PI/180}function BP(t){return Number((180*t/Math.PI).toPrecision(5))}function DP(t){return t.toString().charAt(0).toUpperCase()+t.toString().slice(1)}function FP(t){return t.toString().charAt(0).toLowerCase()+t.toString().slice(1)}function zP(t,e){return"".concat(e).concat(DP(t))}function WP(t,e,n){var r;void 0===n&&(n=!0);var i=e||(null===(r=t.match(/^([a-z][a-z0-9]+)/))||void 0===r?void 0:r[0])||"",o=t.replace(new RegExp("^(".concat(i,")")),"");return n?FP(o):o}function HP(t,e){Object.entries(e).forEach((function(e){var n=VO(e,2),r=n[0],i=n[1];YO([t],VO(t.querySelectorAll(r)),!1).filter((function(t){return t.matches(r)})).forEach((function(t){if(t){var e=t;e.style.cssText+=Object.entries(i).reduce((function(t,e){return"".concat(t).concat(e.join(":"),";")}),"")}}))}))}function $P(t,e,n){void 0===n&&(n=!1);var r={};return Object.entries(t).forEach((function(t){var i=VO(t,2),o=i[0],a=i[1];if("className"===o||"class"===o);else if(o.startsWith("show")&&WP(o,"show").startsWith(e)!==n)o===zP(e,"show")?r[o]=a:r[o.replace(new RegExp(DP(e)),"")]=a;else if(!o.startsWith("show")&&o.startsWith(e)!==n){var s=WP(o,e);"filter"===s&&"function"===typeof a||(r[s]=a)}})),r}function GP(t,e){return Object.entries(t).reduce((function(t,n){var r=VO(n,2),i=r[0],o=r[1];return i.startsWith("show")?t["show".concat(e).concat(i.slice(4))]=o:t["".concat(e).concat(DP(i))]=o,t}),{})}function VP(t,e){void 0===e&&(e=["x","y","class","className"]);var n=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],r={},i={};return Object.entries(t).forEach((function(t){var o=VO(t,2),a=o[0],s=o[1];e.includes(a)||(-1!==n.indexOf(a)?i[a]=s:r[a]=s)})),[r,i]}function UP(t,e){return ST(t)?t.apply(void 0,YO([],VO(e),!1)):t}function YP(t,e){return t.style.opacity||(t.style.opacity=1),OP(t,{opacity:0},e)}var qP=["$el","anchor","cx","cy","d","defX","defY","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function XP(t){return qP.includes(t)}function KP(t){var e={};for(var n in t)XP(n)&&(e[n]=t[n]);return e}var ZP=SP({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function QP(t){return t.reduce((function(t,e,n){return t.push(YO([0===n?"M":"L"],VO(e),!1)),t}),[])}function JP(t,e,n){var r=e.connect,i=void 0===r?"line":r,o=e.center;if("line"===i)return QP(t);if(!o)return[];var a=RP(t[0],o),s=n?0:1;return t.reduce((function(t,e,n){return 0===n?t.push(YO(["M"],VO(e),!1)):t.push(YO(["A",a,a,0,0,s],VO(e),!1)),t}),[])}function tR(t,e,n){return"surround"===e.type?JP(t,e,n):QP(t)}function eR(t,e,n){var r=n.type,i=n.connect,o=n.center,a=n.closed,s=a?[["Z"]]:[],l=VO([tR(t,n),tR(e.slice().reverse(),n,!0)],2),u=l[0],c=l[1],f=VO([t[0],e.slice(-1)[0]],2),h=f[0],d=f[1],p=function(t,e){return[u,t,c,e,s].flat()};if("line"===i||"surround"===r)return p([YO(["L"],VO(d),!1)],[YO(["L"],VO(h),!1)]);if(!o)throw new Error("Arc grid need to specified center");var v=VO([RP(d,o),RP(h,o)],2),g=v[0],y=v[1];return p([YO(["A",g,g,0,0,1],VO(d),!1),YO(["L"],VO(d),!1)],[YO(["A",y,y,0,0,0],VO(h),!1),YO(["L"],VO(h),!1)])}function nR(t,e,n,r){var i=n.animate,o=e.map((function(t,e){return{id:t.id||"grid-line-".concat(e),path:tR(t.points,n)}}));return t.selectAll(ZP.line.class).data(o,(function(t){return t.id})).join((function(t){return t.append("path").each((function(t,e){var n=UP(KP(WO({path:t.path},r)),[t,e,o]);this.attr(WO({class:ZP.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4]},n))}))}),(function(t){return t.transition((function(t,e){var n=UP(KP(WO({path:t.path},r)),[t,e,o]);return OP(this,n,i.update)}))}),(function(t){return t.transition((function(){var t=this,e=YP(this,i.exit);return yP(e,(function(){return t.remove()})),e}))})).transitions()}function rR(t,e,n){var r=n.animate,i=n.connect,o=n.areaFill;if(e.length<2||!o||!i)return[];for(var a=Array.isArray(o)?o:[o,"transparent"],s=function(t){return a[t%a.length]},l=[],u=0;u<e.length-1;u++){var c=VO([e[u].points,e[u+1].points],2),f=c[0],h=c[1],d=eR(f,h,n);l.push({path:d,fill:s(u)})}return t.selectAll(ZP.region.class).data(l,(function(t,e){return e})).join((function(t){return t.append("path").each((function(t,e){var n=UP(t,[t,e,l]);this.attr(n)})).attr("className",ZP.region.name)}),(function(t){return t.transition((function(t,e){var n=UP(t,[t,e,l]);return OP(this,n,r.update)}))}),(function(t){return t.transition((function(){var t=this,e=YP(this,r.exit);return yP(e,(function(){return t.remove()})),e}))})).transitions()}function iR(t){var e=t.data,n=void 0===e?[]:e,r=t.closed;return r?n.map((function(t){var e=t.points,n=VO(e,1),r=n[0];return WO(WO({},t),{points:YO(YO([],VO(e),!1),[r],!1)})})):n}var oR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zO(e,t),e.prototype.render=function(t,e){t.type,t.center,t.areaFill,t.closed;var n=HO(t,["type","center","areaFill","closed"]),r=iR(t),i=HT(e).maybeAppendByClassName(ZP.lineGroup,"g"),o=HT(e).maybeAppendByClassName(ZP.regionGroup,"g"),a=nR(i,r,t,n),s=rR(o,r,t);return YO(YO([],VO(a),!1),VO(s),!1)},e}(BT),aR=function(t,e){if(!ST(t))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n},sR=function(t,e,n){var r=0,i=me(e)?e.split("."):e;while(t&&r<i.length)t=t[i[r++]];return void 0===t||r<i.length?n:t},lR=function(t,e){return function(n){return t*(1-n)+e*n}};function uR(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0;return function(i){var o=new Array(r),a=new Array(n),s=0;for(s=0;s<r;++s)o[s]=fR(t[s],e[s]);for(;s<n;++s)a[s]=e[s];for(s=0;s<r;++s)a[s]=o[s](i);return a}}function cR(t,e){void 0===t&&(t={}),void 0===e&&(e={});var n={},r={};return Object.entries(e).forEach((function(e){var i=VO(e,2),o=i[0],a=i[1];o in t?n[o]=fR(t[o],a):r[o]=a})),function(t){return Object.entries(n).forEach((function(e){var n=VO(e,2),i=n[0],o=n[1];return r[i]=o(t)})),r}}function fR(t,e){return"number"===typeof t&&"number"===typeof e?lR(t,e):Array.isArray(t)&&Array.isArray(e)?uR(t,e):"object"===typeof t&&"object"===typeof e?cR(t,e):function(e){return t}}function hR(t,e,n,r){if(!r)return t.attr("__keyframe_data__",n),null;var i=r.duration,o=void 0===i?0:i,a=fR(e,n),s=Math.ceil(+o/16),l=new Array(s).fill(0).map((function(t,e,n){return{__keyframe_data__:a(e/(n.length-1))}}));return t.animate(l,WO({fill:"both"},r))}function dR(t){return"function"===typeof t?t():me(t)||pe(t)?new FT({style:{text:String(t)}}):t}function pR(t,e,n){void 0===n&&(n=!1);var r=t.getBBox(),i=r.width,o=r.height,a=e/Math.max(i,o);return n&&t.scale(a),a}function vR(t,e){var n={},r=Array.isArray(e)?e:[e];for(var i in t)r.includes(i)||(n[i]=t[i]);return n}function gR(t,e){return Object.fromEntries(Object.entries(t).map((function(t){var n=VO(t,2),r=n[0],i=n[1];return[r,UP(i,e)]})))}function yR(t){if("linear"===t.type){var e=t.startPos,n=t.endPos;return YO(YO([],VO(e),!1),VO(n),!1)}var r=t.startAngle,i=t.endAngle,o=t.center,a=t.radius;return YO(YO([r,i],VO(o),!1),[a],!1)}function mR(t,e){return e&&ST(e)?t.filter(e):t}var bR=aR((function(t,e){var n=e.startAngle,r=e.endAngle;return(r-n)*t+n}),(function(t,e){return[t,e.startAngle,e.endAngle].join()})),xR=aR((function(t,e){if("linear"===e.type){var n=VO(e.startPos,2),r=n[0],i=n[1],o=VO(e.endPos,2),a=o[0],s=o[1],l=VO([a-r,s-i],2),u=l[0],c=l[1];return IP([u,c])}var f=NP(bR(t,e));return[-Math.sin(f),Math.cos(f)]}),(function(t,e){var n=yR(e);return"arc"===e.type&&n.push(t),n.join()}));function wR(t,e,n){var r=xR(t,n);return jP(r,"positive"!==e)}function _R(t,e){return wR(t,e.labelDirection,e)}var OR,CR=aR((function(t,e){var n=VO(e.startPos,2),r=n[0],i=n[1],o=VO(e.endPos,2),a=o[0],s=o[1],l=VO([a-r,s-i],2),u=l[0],c=l[1];return[r+u*t,i+c*t]}),(function(t,e){return YO(YO([t],VO(e.startPos),!1),VO(e.endPos),!1).join()})),SR=aR((function(t,e){var n=e.radius,r=VO(e.center,2),i=r[0],o=r[1],a=NP(bR(t,e));return[i+n*Math.cos(a),o+n*Math.sin(a)]}),(function(t,e){var n=e.startAngle,r=e.endAngle,i=e.radius,o=e.center;return YO([t,n,r,i],VO(o),!1).join()}));function ER(t,e){return"linear"===e.type?CR(t,e):SR(t,e)}function MR(t){return 0===xR(0,t)[1]}function kR(t){return 0===xR(0,t)[0]}function TR(t,e){return e-t===360}function AR(t,e,n,r,i){var o=e-t,a=VO([i,i],2),s=a[0],l=a[1],u=VO([NP(t),NP(e)],2),c=u[0],f=u[1],h=function(t){return[n+i*Math.cos(t),r+i*Math.sin(t)]},d=VO(h(c),2),p=d[0],v=d[1],g=VO(h(f),2),y=g[0],m=g[1];if(TR(t,e)){var b=(f+c)/2,x=VO(h(b),2),w=x[0],_=x[1];return[["M",p,v],["A",s,l,0,1,0,w,_],["A",s,l,0,1,0,y,m]]}var O=o>180?1:0,C=t>e?0:1,S=!1;return S?"M".concat(n,",").concat(r,",L").concat(p,",").concat(v,",A").concat(s,",").concat(l,",0,").concat(O,",").concat(C,",").concat(y,",").concat(m,",L").concat(n,",").concat(r):"M".concat(p,",").concat(v,",A").concat(s,",").concat(l,",0,").concat(O,",").concat(C,",").concat(y,",").concat(m)}function LR(t){var e=t.attributes,n=e.startAngle,r=e.endAngle,i=e.center,o=e.radius;return YO(YO([n,r],VO(i),!1),[o],!1)}function PR(t,e,n,r){var i=e.startAngle,o=e.endAngle,a=e.center,s=e.radius;return t.selectAll(MP.line.class).data([{path:AR.apply(void 0,YO(YO([i,o],VO(a),!1),[s],!1))}],(function(t,e){return e})).join((function(t){return t.append("path").attr("className",MP.line.name).styles(e).styles({path:function(t){return t.path}})}),(function(t){return t.transition((function(){var t=this,e=hR(this,LR(this),YO(YO([i,o],VO(a),!1),[s],!1),r.update);if(e){var n=function(){var e=sR(t.attributes,"__keyframe_data__");t.style.path=AR.apply(void 0,YO([],VO(e),!1))};e.onframe=n,e.onfinish=n}return e})).styles(e)}),(function(t){return t.remove()})).styles(n).transitions()}function RR(t,e){e.truncRange,e.truncShape,e.lineExtension}function IR(t,e,n){void 0===n&&(n=[0,0]);var r=VO([t,e,n],3),i=VO(r[0],2),o=i[0],a=i[1],s=VO(r[1],2),l=s[0],u=s[1],c=VO(r[2],2),f=c[0],h=c[1],d=VO([l-o,u-a],2),p=d[0],v=d[1],g=Math.sqrt(Math.pow(p,2)+Math.pow(v,2)),y=VO([-f/g,h/g],2),m=y[0],b=y[1];return[m*p,m*v,b*p,b*v]}function jR(t){var e=VO(t,2),n=VO(e[0],2),r=n[0],i=n[1],o=VO(e[1],2),a=o[0],s=o[1];return{x1:r,y1:i,x2:a,y2:s}}function NR(t,e,n,r){var i=e.showTrunc,o=e.startPos,a=e.endPos,s=e.truncRange,l=e.lineExtension,u=VO([o,a],2),c=VO(u[0],2),f=c[0],h=c[1],d=VO(u[1],2),p=d[0],v=d[1],g=VO(l?IR(o,a,l):new Array(4).fill(0),4),y=g[0],m=g[1],b=g[2],x=g[3],w=function(e){return t.selectAll(MP.line.class).data(e,(function(t,e){return e})).join((function(t){return t.append("line").attr("className",(function(t){return"".concat(MP.line.name," ").concat(t.className)})).styles(n).transition((function(t){return OP(this,jR(t.line),!1)}))}),(function(t){return t.styles(n).transition((function(t){var e=t.line;return OP(this,jR(e),r.update)}))}),(function(t){return t.remove()})).transitions()};if(!i||!s)return w([{line:[[f+y,h+m],[p+b,v+x]],className:MP.line.name}]);var _=VO(s,2),O=_[0],C=_[1],S=p-f,E=v-h,M=VO([f+S*O,h+E*O],2),k=M[0],T=M[1],A=VO([f+S*C,h+E*C],2),L=A[0],P=A[1],R=w([{line:[[f+y,h+m],[k,T]],className:MP.lineFirst.name},{line:[[L,P],[p+b,v+x]],className:MP.lineSecond.name}]);return RR(t,e),R}function BR(t,e,n,r){var i,o=n.showArrow,a=n.showTrunc,s=n.lineArrow,l=n.lineArrowOffset,u=n.lineArrowSize;if(i="arc"===e?t.select(MP.line.class):a?t.select(MP.lineSecond.class):t.select(MP.line.class),!o||!s||"arc"===n.type&&TR(n.startAngle,n.endAngle)){var c=i.node();c&&(c.style.markerEnd=void 0)}else{var f=dR(s);f.attr(r),pR(f,u,!0),i.style("markerEnd",f).style("markerEndOffset",-l)}}function DR(t,e,n){var r,i=e.type,o=$P(e,"line");return r="linear"===i?NR(t,e,vR(o,"arrow"),n):PR(t,e,vR(o,"arrow"),n),BR(t,i,e,o),r}function FR(t,e){return wR(t,e.gridDirection,e)}function zR(t){var e=t.type,n=t.gridCenter;return"linear"===e?n:n||t.center}function WR(t,e){var n=e.gridLength;return t.map((function(t,r){var i=t.value,o=VO(ER(i,e),2),a=o[0],s=o[1],l=VO(kP(FR(i,e),n),2),u=l[0],c=l[1];return{id:r,points:[[a,s],[a+u,s+c]]}}))}function HR(t,e){var n=e.gridControlAngles,r=zR(e);if(!r)throw new Error("grid center is not provide");if(t.length<2)throw new Error("Invalid grid data");if(!n||0===n.length)throw new Error("Invalid gridControlAngles");var i=VO(r,2),o=i[0],a=i[1];return t.map((function(t,r){var i=t.value,s=VO(ER(i,e),2),l=s[0],u=s[1],c=VO([l-o,u-a],2),f=c[0],h=c[1],d=[];return n.forEach((function(t){var e=NP(t),n=VO([Math.cos(e),Math.sin(e)],2),r=n[0],i=n[1],s=f*r-h*i+o,l=f*i+h*r+a;d.push([s,l])})),{points:d,id:r}}))}function $R(t,e,n,r){var i=$P(n,"grid"),o=i.type,a=i.areaFill,s=zR(n),l=mR(e,n.gridFilter),u="segment"===o?WR(l,n):HR(l,n),c=WO(WO({},i),{center:s,areaFill:ST(a)?l.map((function(t,e){return UP(a,[t,e,l])})):a,animate:r,data:u});return t.selectAll(MP.grid.class).data([1]).join((function(t){return t.append((function(){return new oR({style:c})})).attr("className",MP.grid.name)}),(function(t){return t.transition((function(){return this.update(c)}))}),(function(t){return t.remove()})).transitions()}function GR(t,e,n,r,i){return void 0===r&&(r=!0),!!(r&&t===e||i&&t===n)||t>e&&t<n}var VR=aR((function(t,e){var n=me(t)?t:t.style.text.toString(),r=e||UR(t),i=r.fontSize,o=r.fontFamily,a=r.fontWeight,s=r.fontStyle,l=r.fontVariant;return OR||(OR=document.createElement("canvas").getContext("2d")),OR.font=[s,l,a,"".concat(i,"px"),o].join(" "),OR.measureText(n).width}),(function(t,e){return[me(t)?t:t.style.text.toString(),Object.values(e||UR(t)).join()].join("")})),UR=function(t){var e=t.style.fontFamily||"sans-serif",n=t.style.fontWeight||"normal",r=t.style.fontStyle||"normal",i=t.style.fontVariant,o=t.style.fontSize;return o="object"===typeof o?o.value:o,{fontSize:o,fontFamily:e,fontWeight:n,fontStyle:r,fontVariant:i}};function YR(t){return"text"===t.nodeName?t:"g"===t.nodeName&&1===t.children.length&&"text"===t.children[0].nodeName?t.children[0]:null}function qR(t,e){var n=YR(t);n&&n.attr(e)}function XR(t,e,n){void 0===n&&(n="..."),qR(t,{wordWrap:!0,wordWrapWidth:e,maxLines:1,textOverflow:n})}function KR(t,e,n,r){void 0===n&&(n=2),void 0===r&&(r="top"),qR(t,{wordWrap:!0,wordWrapWidth:e,maxLines:n,textBaseline:r})}function ZR(t,e,n){var r=t.getBBox(),i=r.width,o=r.height,a=VO([e,n].map((function(t,e){var n;return t.includes("%")?parseFloat((null===(n=t.match(/[+-]?([0-9]*[.])?[0-9]+/))||void 0===n?void 0:n[0])||"0")/100*(0===e?i:o):t})),2),s=a[0],l=a[1];return[s,l]}function QR(t,e){if(e)try{var n=/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,r=e.replace(n,(function(e,n,r){return"translate(".concat(ZR(t,n,r),")")}));t.attr("transform",r)}catch(i){}}var JR=function(t){return void 0!==t&&null!=t&&!Number.isNaN(t)};function tI(t){if(pe(t))return[t,t,t,t];if(tn(t)){var e=t.length;if(1===e)return[t[0],t[0],t[0],t[0]];if(2===e)return[t[0],t[1],t[0],t[1]];if(3===e)return[t[0],t[1],t[2],t[1]];if(4===e)return t}return[0,0,0,0]}var eI=function(){function t(t,e,n,r){this.set(t,e,n,r)}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),t.prototype.rotatedPoints=function(t,e,n){var r=this,i=r.x1,o=r.y1,a=r.x2,s=r.y2,l=Math.cos(t),u=Math.sin(t),c=e-e*l+n*u,f=n-e*u-n*l,h=[[l*i-u*s+c,u*i+l*s+f],[l*a-u*s+c,u*a+l*s+f],[l*i-u*o+c,u*i+l*o+f],[l*a-u*o+c,u*a+l*o+f]];return h},t.prototype.set=function(t,e,n,r){return n<t?(this.x2=t,this.x1=n):(this.x1=t,this.x2=n),r<e?(this.y2=e,this.y1=r):(this.y1=e,this.y2=r),this},t.prototype.defined=function(t){return this[t]!==Number.MAX_VALUE&&this[t]!==-Number.MAX_VALUE},t}();function nI(t,e){var n=t.getEulerAngles()||0;t.setEulerAngles(0);var r=t.getLocalBounds(),i=VO(r.min,2),o=i[0],a=i[1],s=VO(r.max,2),l=s[0],u=s[1],c=rI(t),f=c.width,h=c.height,d=h,p=0,v=0,g=o,y=a,m=YR(t);if(m){d-=1.5;var b=m.style.textAlign,x=m.style.textBaseline;"center"===b?g=(o+l)/2:"right"!==b&&"end"!==b||(g=l),"middle"===x?y=(a+u)/2:"bottom"===x&&(y=u)}var w=VO(tI(e),4),_=w[0],O=void 0===_?0:_,C=w[1],S=void 0===C?0:C,E=w[2],M=void 0===E?O:E,k=w[3],T=void 0===k?S:k,A=new eI((p+=o)-T,(v+=a)-O,p+f+S,v+d+M);return t.setEulerAngles(n),A.rotatedPoints(NP(n),g,y)}function rI(t){return t.__bbox__?t.__bbox__:t.getBBox()}function iI(t,e){return e[0]<=Math.max(t[0][0],t[1][0])&&e[0]<=Math.min(t[0][0],t[1][0])&&e[1]<=Math.max(t[0][1],t[1][1])&&e[1]<=Math.min(t[0][1],t[1][1])}function oI(t,e,n){var r=(e[1]-t[1])*(n[0]-e[0])-(e[0]-t[0])*(n[1]-e[1]);return 0===r?0:r<0?2:1}function aI(t,e){var n=oI(t[0],t[1],e[0]),r=oI(t[0],t[1],e[1]),i=oI(e[0],e[1],t[0]),o=oI(e[0],e[1],t[1]);return n!==r&&i!==o||(!(0!==n||!iI(t,e[0]))||(!(0!==r||!iI(t,e[1]))||(!(0!==i||!iI(e,t[0]))||!(0!==o||!iI(e,t[1])))))}function sI(t,e){var n=t.length;if(n<3)return!1;var r=[e,[9999,e[1]]],i=0,o=0;do{var a=[t[o],t[(o+1)%n]];if(aI(a,r)){if(0===oI(a[0],e,a[1]))return iI(a,e);i++}o=(o+1)%n}while(0!==o);return!!(1&i)}function lI(t,e){return e.every((function(e){return sI(t,e)}))}function uI(t,e,n){var r=t.x1,i=t.x2,o=t.y1,a=t.y2,s=[[r,o],[i,o],[i,a],[r,a]],l=nI(e,n);return lI(s,l)}function cI(t,e){var n=VO(t,4),r=n[0],i=n[1],o=n[2],a=n[3],s=VO(e,4),l=s[0],u=s[1],c=s[2],f=s[3],h=o-r,d=a-i,p=c-l,v=f-u,g=h*v-p*d;if(0===g)return!1;var y=g>0,m=r-l,b=i-u,x=h*b-d*m;if(x<0===y)return!1;var w=p*b-v*m;return w<0!==y&&(x>g!==y&&w>g!==y)}function fI(t,e){var n=[[t[0],t[1],t[2],t[3]],[t[2],t[3],t[4],t[5]],[t[4],t[5],t[6],t[7]],[t[6],t[7],t[0],t[1]]];return n.some((function(t){return cI(e,t)}))}function hI(t,e,n){var r,i,o=nI(t,n).flat(1),a=nI(e,n).flat(1),s=[[o[0],o[1],o[2],o[3]],[o[0],o[1],o[4],o[5]],[o[4],o[5],o[6],o[7]],[o[2],o[3],o[6],o[7]]];try{for(var l=GO(s),u=l.next();!u.done;u=l.next()){var c=u.value;if(fI(a,c))return!0}}catch(f){r={error:f}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return!1}function dI(t,e){var n=t.type,r=t.labelDirection,i=t.crossSize;if(!i)return!1;if("arc"===n){var o=t.center,a=t.radius,s=VO(o,2),l=s[0],u=s[1],c="negative"===r?0:i,f=-a-c,h=a+c,d=VO(tI(e),4),p=d[0],v=d[1],g=d[2],y=d[3];return new eI(l+f-y,u+f-p,l+h+v,u+h+g)}var m=VO(t.startPos,2),b=m[0],x=m[1],w=VO(t.endPos,2),_=w[0],O=w[1],C=VO(kR(t)?[-e,0,e,0]:[0,e,0,-e],4),S=C[0],E=C[1],M=C[2],k=C[3],T=_R(0,t),A=kP(T,i),L=new eI(b,x,_,O);return L.x1+=k,L.y1+=S,L.x2+=E+A[0],L.y2+=M+A[1],L}function pI(t,e,n){var r,i,o=e.crossPadding,a=new Set,s=null,l=dI(e,o),u=function(t){return!l||uI(l,t)},c=function(t,e){return!t||!hI(t,e,tI(n))};try{for(var f=GO(t),h=f.next();!h.done;h=f.next()){var d=h.value;u(d)?!s||c(s,d)?s=d:(a.add(s),a.add(d)):a.add(d)}}catch(p){r={error:p}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return Array.from(a)}function vI(t,e){return void 0===e&&(e={}),ye(t)?0:"number"===typeof t?t:Math.floor(VR(t,e))}function gI(t,e,n,r){if(!(t.length<=1)){var i=e.suffix,o=void 0===i?"...":i,a=e.minLength,s=e.maxLength,l=void 0===s?1/0:s,u=e.step,c=void 0===u?" ":u,f=e.margin,h=void 0===f?[0,0,0,0]:f,d=UR(r.getTextShape(t[0])),p=vI(c,d),v=a?vI(a,d):p,g=vI(l,d);(ye(g)||g===1/0)&&(g=Math.max.apply(null,t.map((function(t){return rI(t).width}))));for(var y=t.slice(),m=VO(h,4),b=(m[0],m[1],m[2],m[3],function(e){if(y.forEach((function(t){r.ellipsis(r.getTextShape(t),e,o)})),y=pI(t,n,h),y.length<1)return{value:void 0}}),x=g;x>v+p;x-=p){var w=b(x);if("object"===typeof w)return w.value}}}function yI(t){var e=t.getLocalBounds(),n=e.min,r=e.max,i=VO([n,r],2),o=VO(i[0],2),a=o[0],s=o[1],l=VO(i[1],2),u=l[0],c=l[1];return{x:a,y:s,width:u-a,height:c-s,left:a,bottom:c,top:s,right:u}}function mI(t,e){var n=VO(t,2),r=n[0],i=n[1],o=VO(e,2),a=o[0],s=o[1];return r!==a&&i===s}function bI(t,e){var n,r,i=e.attributes;try{for(var o=GO(Object.entries(i)),a=o.next();!a.done;a=o.next()){var s=VO(a.value,2),l=s[0],u=s[1];"id"!==l&&"className"!==l&&t.attr(l,u)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var xI={parity:function(t,e){var n=e.seq,r=void 0===n?2:n;return t.filter((function(t,e){return!(e%r)||(kT(t),!1)}))}},wI=function(t){return t.filter(JR)};function _I(t,e,n,r){var i=t.length,o=e.keepHeader,a=e.keepTail;if(!(i<=1||2===i&&o&&a)){var s,l,u=xI.parity,c=function(t){return t.forEach(r.show),t},f=2,h=t.slice(),d=t.slice(),p=Math.min.apply(Math,YO([1],VO(t.map((function(t){return rI(t).width}))),!1));if("linear"===n.type&&(MR(n)||kR(n))){var v=yI(t[0]).left,g=yI(t[i-1]).right,y=Math.abs(g-v)||1;f=Math.max(Math.floor(i*p/y),f)}o&&(s=h.splice(0,1)[0]),a&&(l=h.splice(-1,1)[0],h.reverse()),c(h);while(f<t.length&&pI(wI(l?YO(YO([l],VO(d),!1),[s],!1):YO([s],VO(d),!1)),n,null===e||void 0===e?void 0:e.margin).length){if(l&&!s&&f%2===0){var m=h.splice(0,1);m.forEach(r.hide)}else if(l&&s){m=h.splice(0,1);m.forEach(r.hide)}d=u(c(h),{seq:f}),f++}}}function OI(t,e,n,r){var i,o,a=e.optionalAngles,s=void 0===a?[0,45,90]:a,l=e.margin,u=e.recoverWhenFailed,c=void 0===u||u,f=t.map((function(t){return t.getLocalEulerAngles()})),h=function(){return pI(t,n,l).length<1},d=function(e){return t.forEach((function(t,n){var i=Array.isArray(e)?e[n]:e;r.rotate(t,+i)}))};try{for(var p=GO(s),v=p.next();!v.done;v=p.next()){var g=v.value;if(d(g),h())return}}catch(y){i={error:y}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}c&&d(f)}function CI(t){var e=t.type,n=t.labelDirection;return"linear"===e&&MR(t)?"negative"===n?"bottom":"top":"middle"}function SI(t,e,n,r){var i=e.wordWrapWidth,o=void 0===i?50:i,a=e.maxLines,s=void 0===a?3:a,l=e.recoverWhenFailed,u=void 0===l||l,c=e.margin,f=void 0===c?[0,0,0,0]:c,h=t.map((function(t){return t.attr("maxLines")||1})),d=Math.min.apply(Math,YO([],VO(h),!1)),p=function(){return pI(t,n,f).length<1},v=CI(n),g=function(e){return t.forEach((function(t,n){var i=Array.isArray(e)?e[n]:e;r.wrap(t,o,i,v)}))};if(!(d>s)){for(var y=d;y<=s;y++)if(g(y),p())return;u&&g(h)}}var EI=new Map([["hide",_I],["rotate",OI],["ellipsis",gI],["wrap",SI]]);function MI(t,e,n){return!(e.labelOverlap.length<1)&&("hide"===n?!jT(t[0]):"rotate"===n?!t.some((function(t){var e;return!!(null===(e=t.attr("transform"))||void 0===e?void 0:e.includes("rotate"))})):"ellipsis"!==n&&"wrap"!==n||t.filter((function(t){return t.querySelector("text")})).length>1)}function kI(t,e,n){var r=e.labelOverlap,i=void 0===r?[]:r;i.length&&i.forEach((function(r){var i=r.type,o=EI.get(i);MI(t,e,i)&&(null===o||void 0===o||o(t,r,e,n))}))}function TI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(t){return"positive"===t?-1:1};return t.reduce((function(t,e){return t*n(e)}),1)}var AI=function(t){var e=t;while(e<0)e+=360;return Math.round(e%360)},LI=aR((function(t,e){var n=VO(t,2),r=n[0],i=n[1],o=VO(e,2),a=o[0],s=o[1],l=VO([r*a+i*s,r*s-i*a],2),u=l[0],c=l[1];return Math.atan2(c,u)}),(function(t,e){return YO(YO([],VO(t),!1),VO(e),!1).join()}));function PI(t){var e=(t+360)%180;return GR(e,-90,90)||(e+=180),e}function RI(t,e,n){var r,i=n.labelAlign,o=null===(r=e.style.transform)||void 0===r?void 0:r.includes("rotate");if(o)return e.getLocalEulerAngles();var a=0,s=_R(t.value,n),l=xR(t.value,n);return"horizontal"===i?0:(a="perpendicular"===i?LI([1,0],s):LI([l[0]<0?-1:1,0],l),PI(BP(a)))}function II(t,e,n){var r=n.type,i=n.labelAlign,o=_R(t,n),a=AI(e),s=AI(BP(LI([1,0],o))),l="center",u="middle";return"linear"===r?[90,270].includes(s)&&0===a?(l="center",u=1===o[1]?"top":"bottom"):s%180||![90,270].includes(a)?0===s?(GR(a,0,90,!1,!0)||GR(a,0,90)||GR(a,270,360))&&(l="start"):90===s?GR(a,0,90,!1,!0)?l="start":(GR(a,90,180)||GR(a,270,360))&&(l="end"):270===s?GR(a,0,90,!1,!0)?l="end":(GR(a,90,180)||GR(a,270,360))&&(l="start"):180===s&&(90===a?l="start":(GR(a,0,90)||GR(a,270,360))&&(l="end")):l="center":"parallel"===i?u=GR(s,0,180,!0)?"top":"bottom":"horizontal"===i?GR(s,90,270,!1)?l="end":(GR(s,270,360,!1)||GR(s,0,90))&&(l="start"):"perpendicular"===i&&(l=GR(s,90,270)?"end":"start"),{textAlign:l,textBaseline:u}}function jI(t,e,n){e.setLocalEulerAngles(t);var r=e.__data__.value,i=II(r,t,n),o=e.querySelector(MP.labelItem.class);o&&DI(o,i)}function NI(t,e,n){var r=n.showTick,i=n.tickLength,o=n.tickDirection,a=n.labelDirection,s=n.labelSpacing,l=e.indexOf(t),u=UP(s,[t,l,e]),c=VO([_R(t.value,n),TI(a,o)],2),f=c[0],h=c[1],d=1===h?UP(r?i:0,[t,l,e]):0,p=VO(TP(kP(f,u+d),ER(t.value,n)),2),v=p[0],g=p[1];return{x:v,y:g}}function BI(t,e,n,r){var i=r.labelFormatter,o=ST(i)?function(){return dR(UP(i,[t,e,n,_R(t.value,r)]))}:function(){return dR(t.label||"")};return o}function DI(t,e){"text"===t.nodeName&&t.attr(e)}function FI(t){kI(this.node().childNodes,t,{hide:kT,show:MT,rotate:function(e,n){jI(+n,e,t)},ellipsis:function(t,e,n){void 0===e&&(e=1/0),t&&XR(t,e,n)},wrap:function(t,e,n){t&&KR(t,e,n)},getTextShape:function(t){return t.querySelector("text")}})}function zI(t,e,n,r,i){var o=n.indexOf(e),a=HT(t).append(BI(e,o,n,i)).attr("className",MP.labelItem.name).node(),s=VO(VP(gR(r,[e,o,n])),2),l=s[0],u=s[1],c=u.transform,f=HO(u,["transform"]);QR(t,c);var h=RI(e,t,i);return t.setLocalEulerAngles(+h),DI(a,WO(WO({},II(e.value,h,i)),l)),QR(t,c),t.attr(f),a}function WI(t,e,n,r){var i=mR(e,n.labelFilter),o=$P(n,"label");return t.selectAll(MP.label.class).data(i,(function(t,e){return e})).join((function(r){return r.append("g").attr("className",MP.label.name).transition((function(t){return zI(this,t,e,o,n),this.attr(NI(t,e,n)),this.__bbox__=t.bbox,null})).call((function(){return FI.call(t,n)}))}),(function(i){return i.transition((function(t){var i=this.querySelector(MP.labelItem.class),a=zI(this,t,e,o,n),s=_P(i,a,r.update),l=OP(this,NI(t,e,n),r.update);return this.__bbox__=t.bbox,YO(YO([],VO(s),!1),[l],!1)})).call((function(e){var r=sR(e,"_transitions").flat().filter(JR);mP(r,(function(){return FI.call(t,n)}))}))}),(function(t){return t.transition((function(){var t=this,e=YP(this.childNodes[0],r.exit);return yP(e,(function(){return HT(t).remove()})),e}))})).transitions()}function HI(t,e){return wR(t,e.tickDirection,e)}var $I=aR((function(t,e){var n=VO(t,2),r=n[0],i=n[1];return[[0,0],[r*e,i*e]]}),(function(t,e){return YO(YO([],VO(t),!1),[e],!1).join()}));function GI(t,e,n,r,i){var o=i.tickLength,a=VO($I(r,UP(o,[t,e,n])),2),s=VO(a[0],2),l=s[0],u=s[1],c=VO(a[1],2),f=c[0],h=c[1];return{x1:l,x2:f,y1:u,y2:h}}function VI(t,e,n,r,i){var o=i.tickFormatter,a=HI(e.value,i),s="line";return ST(o)&&(s=function(){return UP(o,[e,n,r,a])}),t.append(s).attr("className",MP.tickItem.name)}function UI(t,e,n,r,i,o,a){var s=HI(t.value,o),l=GI(t,e,n,s,o),u=l.x1,c=l.x2,f=l.y1,h=l.y2,d=VO(VP(gR(a,[t,e,n,s])),2),p=d[0],v=d[1];"line"===r.node().nodeName&&r.styles(WO({x1:u,x2:c,y1:f,y2:h},p)),i.attr(v),r.styles(p)}function YI(t,e,n,r,i,o){var a=VI(HT(this),t,e,n,r);UI(t,e,n,a,this,r,i);var s=VO(ER(t.value,r),2),l=s[0],u=s[1];return OP(this,{x:l,y:u},o)}function qI(t,e,n,r){var i=mR(e,n.tickFilter),o=$P(n,"tick");return t.selectAll(MP.tick.class).data(i,(function(t){return t.id||t.label})).join((function(t){return t.append("g").attr("className",MP.tick.name).transition((function(t,e){return YI.call(this,t,e,i,n,o,!1)}))}),(function(t){return t.transition((function(t,e){return this.removeChildren(),YI.call(this,t,e,i,n,o,r.update)}))}),(function(t){return t.transition((function(){var t=this,e=YP(this.childNodes[0],r.exit);return yP(e,(function(){return t.remove()})),e}))})).transitions()}var XI=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=t,this.y=e,this.width=n,this.height=r}return Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},t}();var KI=SP({text:"text"},"title");function ZI(t){return/\S+-\S+/g.test(t)?t.split("-").map((function(t){return t[0]})):t.length>2?[t[0]]:t.split("")}function QI(t,e){var n=t.attributes,r=n.position,i=n.spacing,o=n.inset,a=n.text,s=t.getBBox(),l=e.getBBox(),u=ZI(r),c=VO(tI(a?i:0),4),f=c[0],h=c[1],d=c[2],p=c[3],v=VO(tI(o),4),g=v[0],y=v[1],m=v[2],b=v[3],x=VO([p+h,f+d],2),w=x[0],_=x[1],O=VO([b+y,g+m],2),C=O[0],S=O[1];if("l"===u[0])return new XI(s.x,s.y,l.width+s.width+w+C,Math.max(l.height+S,s.height));if("t"===u[0])return new XI(s.x,s.y,Math.max(l.width+C,s.width),l.height+s.height+_+S);var E=VO([e.attributes.width||l.width,e.attributes.height||l.height],2),M=E[0],k=E[1];return new XI(l.x,l.y,M+s.width+w+C,k+s.height+_+S)}function JI(t,e){var n=Object.entries(e).reduce((function(e,n){var r=VO(n,2),i=r[0],o=r[1],a=t.node().attr(i);return a||(e[i]=o),e}),{});t.styles(n)}function tj(t){var e,n,r,i,o=t,a=o.width,s=o.height,l=o.position,u=VO([+a/2,+s/2],2),c=u[0],f=u[1],h=VO([+c,+f,"center","middle"],4),d=h[0],p=h[1],v=h[2],g=h[3],y=ZI(l);return y.includes("l")&&(e=VO([0,"start"],2),d=e[0],v=e[1]),y.includes("r")&&(n=VO([+a,"end"],2),d=n[0],v=n[1]),y.includes("t")&&(r=VO([0,"top"],2),p=r[0],g=r[1]),y.includes("b")&&(i=VO([+s,"bottom"],2),p=i[0],g=i[1]),{x:d,y:p,textAlign:v,textBaseline:g}}var ej=function(t){function e(e){return t.call(this,e,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return zO(e,t),e.prototype.getAvailableSpace=function(){var t=this,e=this.attributes,n=e.width,r=e.height,i=e.position,o=e.spacing,a=e.inset,s=t.querySelector(KI.text.class);if(!s)return new XI(0,0,+n,+r);var l=s.getBBox(),u=l.width,c=l.height,f=VO(tI(o),4),h=f[0],d=f[1],p=f[2],v=f[3],g=VO([0,0,+n,+r],4),y=g[0],m=g[1],b=g[2],x=g[3],w=ZI(i);if(w.includes("i"))return new XI(y,m,b,x);w.forEach((function(t,e){var i,o,a,s;"t"===t&&(i=VO(0===e?[c+p,+r-c-p]:[0,+r],2),m=i[0],x=i[1]),"r"===t&&(o=VO([+n-u-v],1),b=o[0]),"b"===t&&(a=VO([+r-c-h],1),x=a[0]),"l"===t&&(s=VO(0===e?[u+d,+n-u-d]:[0,+n],2),y=s[0],b=s[1])}));var _=VO(tI(a),4),O=_[0],C=_[1],S=_[2],E=_[3],M=VO([E+C,O+S],2),k=M[0],T=M[1];return new XI(y+E,m+O,b-k,x-T)},e.prototype.getBBox=function(){return this.title?this.title.getBBox():new XI(0,0,0,0)},e.prototype.render=function(t,e){var n=this,r=(t.width,t.height,t.position,t.spacing,HO(t,["width","height","position","spacing"])),i=VO(VP(r),1),o=i[0],a=tj(t),s=a.x,l=a.y,u=a.textAlign,c=a.textBaseline;DT(!!r.text,HT(e),(function(t){n.title=t.maybeAppendByClassName(KI.text,"text").styles(o).call(JI,{x:s,y:l,textAlign:u,textBaseline:c}).node()}))},e}(BT);function nj(t,e,n){var r=n.titlePosition,i=void 0===r?"lb":r,o=n.titleSpacing,a=ZI(i),s=t.node().getLocalBounds(),l=VO(s.min,2),u=l[0],c=l[1],f=VO(s.halfExtents,2),h=f[0],d=f[1],p=VO(e.node().getLocalBounds().halfExtents,2),v=p[0],g=p[1],y=VO([u+h,c+d],2),m=y[0],b=y[1],x=VO(tI(o),4),w=x[0],_=x[1],O=x[2],C=x[3];if(["start","end"].includes(i)&&"linear"===n.type){var S=n.startPos,E=n.endPos,M=VO("start"===i?[S,E]:[E,S],2),k=M[0],T=M[1],A=IP([-T[0]+k[0],-T[1]+k[1]]),L=VO(kP(A,w),2),P=L[0],R=L[1];return{x:k[0]+P,y:k[1]+R}}return a.includes("t")&&(b-=d+g+w),a.includes("r")&&(m+=h+v+_),a.includes("l")&&(m-=h+v+C),a.includes("b")&&(b+=d+g+O),{x:m,y:b}}function rj(t,e,n){var r=t.cloneNode(!0);r.style.transform="scale(1, 1)",r.style.transform="none";var i=r.getBBox().height;if("vertical"===e){if("left"===n)return"rotate(-90) translate(0, ".concat(i/2,")");if("right"===n)return"rotate(-90) translate(0, -".concat(i/2,")")}return""}function ij(t,e,n,r,i){var o=$P(r,"title"),a=VO(VP(o),2),s=a[0],l=a[1],u=l.transform,c=HO(l,["transform"]);t.styles(s),e.styles(c);var f=u||rj(t.node(),s.direction,s.position);QR(t.node(),f);var h=nj(HT(n._offscreen||n.querySelector(MP.mainGroup.class)),e,r),d=h.x,p=h.y,v=OP(e.node(),{x:d,y:p},i);return QR(t.node(),f),v}function oj(t,e,n,r){var i=n.titleText;return t.selectAll(MP.title.class).data([{title:i}].filter((function(t){return!!t.title})),(function(t,e){return t.title})).join((function(o){return o.append((function(){return dR(i)})).attr("className",MP.title.name).transition((function(){return ij(HT(this),t,e,n,r.enter)}))}),(function(i){return i.transition((function(){return ij(HT(this),t,e,n,r.update)}))}),(function(t){return t.remove()})).transitions()}function aj(t,e,n,r){var i=t.showLine,o=t.showTick,a=t.showLabel,s=e.maybeAppendByClassName(MP.lineGroup,"g"),l=DT(i,s,(function(e){return DR(e,t,r)}))||[],u=e.maybeAppendByClassName(MP.tickGroup,"g"),c=DT(o,u,(function(e){return qI(e,n,t,r)}))||[],f=e.maybeAppendByClassName(MP.labelGroup,"g"),h=DT(a,f,(function(e){return WI(e,n,t,r)}))||[];return YO(YO(YO([],VO(l),!1),VO(c),!1),VO(h),!1).filter((function(t){return!!t}))}var sj=function(t){function e(e){return t.call(this,e,EP)||this}return zO(e,t),e.prototype.render=function(t,e,n){var r=this,i=t.titleText,o=t.data,a=t.animate,s=t.showTitle,l=t.showGrid,u=t.dataThreshold,c=t.truncRange,f=CP(o,u).filter((function(t){var e=t.value;return!(c&&e>c[0]&&e<c[1])})),h=gP(void 0===n?a:n),d=HT(e).maybeAppendByClassName(MP.gridGroup,"g"),p=DT(l,d,(function(e){return $R(e,f,t,h)}))||[],v=HT(e).maybeAppendByClassName(MP.mainGroup,"g");i&&(!this.initialized&&h.enter||this.initialized&&h.update)&&aj(t,HT(this.offscreenGroup),f,gP(!1));var g=aj(t,HT(v.node()),f,h),y=HT(e).maybeAppendByClassName(MP.titleGroup,"g"),m=DT(s,y,(function(e){return oj(e,r,t,h)}))||[];return YO(YO(YO([],VO(p),!1),VO(g),!1),VO(m),!1).flat().filter((function(t){return!!t}))},e}(BT);function lj(t,e){var n;if(t)if(tn(t)){for(var r=0,i=t.length;r<i;r++)if(n=e(t[r],r),!1===n)break}else if(kn(t))for(var o in t)if(t.hasOwnProperty(o)&&(n=e(t[o],o),!1===n))break}var uj=lj,cj=function(t,e,n){if(!tn(t)&&!Pd(t))return t;var r=n;return uj(t,(function(t,n){r=e(r,t,n)})),r},fj=cj,hj=function(t,e){return fj(t,(function(t,n,r){return e.includes(r)||(t[r]=n),t}),{})};function dj(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function pj(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function vj(t){return t=pj(Math.abs(t)),t?t[1]:NaN}function gj(t,e){return function(n,r){var i=n.length,o=[],a=0,s=t[0],l=0;while(i>0&&s>0){if(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),(l+=s+1)>r)break;s=t[a=(a+1)%t.length]}return o.reverse().join(e)}}function yj(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}var mj,bj=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xj(t){if(!(e=bj.exec(t)))throw new Error("invalid format: "+t);var e;return new wj({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function wj(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function _j(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(e+1):t}function Oj(t,e){var n=pj(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(mj=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+pj(t,Math.max(0,e+o-1))[0]}function Cj(t,e){var n=pj(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}xj.prototype=wj.prototype,wj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Sj={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:dj,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Cj(100*t,e),r:Cj,s:Oj,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ej(t){return t}var Mj,kj,Tj=Array.prototype.map,Aj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Lj(t){var e=void 0===t.grouping||void 0===t.thousands?Ej:gj(Tj.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",i=void 0===t.decimal?".":t.decimal+"",o=void 0===t.numerals?Ej:yj(Tj.call(t.numerals,String)),a=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function u(t){t=xj(t);var u=t.fill,c=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,v=t.comma,g=t.precision,y=t.trim,m=t.type;"n"===m?(v=!0,m="g"):Sj[m]||(void 0===g&&(g=12),y=!0,m="g"),(d||"0"===u&&"="===c)&&(d=!0,u="0",c="=");var b="$"===h?n:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",x="$"===h?r:/[%p]/.test(m)?a:"",w=Sj[m],_=/[defgprs%]/.test(m);function O(t){var n,r,a,h=b,O=x;if("c"===m)O=w(t)+O,t="";else{t=+t;var C=t<0||1/t<0;if(t=isNaN(t)?l:w(Math.abs(t),g),y&&(t=_j(t)),C&&0===+t&&"+"!==f&&(C=!1),h=(C?"("===f?f:s:"-"===f||"("===f?"":f)+h,O=("s"===m?Aj[8+mj/3]:"")+O+(C&&"("===f?")":""),_){n=-1,r=t.length;while(++n<r)if(a=t.charCodeAt(n),48>a||a>57){O=(46===a?i+t.slice(n+1):t.slice(n))+O,t=t.slice(0,n);break}}}v&&!d&&(t=e(t,1/0));var S=h.length+t.length+O.length,E=S<p?new Array(p-S+1).join(u):"";switch(v&&d&&(t=e(E+t,E.length?p-O.length:1/0),E=""),c){case"<":t=h+t+O+E;break;case"=":t=h+E+t+O;break;case"^":t=E.slice(0,S=E.length>>1)+h+t+O+E.slice(S);break;default:t=E+h+t+O;break}return o(t)}return g=void 0===g?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),O.toString=function(){return t+""},O}function c(t,e){var n=u((t=xj(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(vj(e)/3))),i=Math.pow(10,-r),o=Aj[8+r/3];return function(t){return n(i*t)+o}}return{format:u,formatPrefix:c}}function Pj(t){return Mj=Lj(t),kj=Mj.format,Mj.formatPrefix,Mj}function Rj(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,o=0;o<t.length;o++){var a=t[o],s=a.x,l=a.y,u=a.width,c=a.height,f=VO([s+u,l+c],2),h=f[0],d=f[1];s<e&&(e=s),l<n&&(n=l),h>r&&(r=h),d>i&&(i=d)}return new XI(e,n,r-e,i-n)}Pj({thousands:",",grouping:[3],currency:["$",""]});var Ij=function(t,e,n){var r=t.width,i=t.height,o=n.flexDirection,a=void 0===o?"row":o,s=(n.flexWrap,n.justifyContent),l=void 0===s?"flex-start":s,u=(n.alignContent,n.alignItems),c=void 0===u?"flex-start":u,f="row"===a,h="row"===a||"column"===a,d=f?h?[1,0]:[-1,0]:h?[0,1]:[0,-1],p=VO([0,0],2),v=p[0],g=p[1],y=e.map((function(t){var e,n=t.width,r=t.height,i=VO([v,g],2),o=i[0],a=i[1];return e=VO([v+n*d[0],g+r*d[1]],2),v=e[0],g=e[1],new XI(o,a,n,r)})),m=Rj(y),b={"flex-start":0,"flex-end":f?r-m.width:i-m.height,center:f?(r-m.width)/2:(i-m.height)/2},x=y.map((function(t){var e=t.x,n=t.y,r=XI.fromRect(t);return r.x=f?e+b[l]:e,r.y=f?n:n+b[l],r})),w=(Rj(x),function(t){var e=VO(f?["height",i]:["width",r],2),n=e[0],o=e[1];switch(c){case"flex-start":return 0;case"flex-end":return o-t[n];case"center":return o/2-t[n]/2;default:return 0}}),_=x.map((function(t){var e=t.x,n=t.y,r=XI.fromRect(t);return r.x=f?e:e+w(r),r.y=f?n+w(r):n,r})),O=_.map((function(e){var n,r,i=XI.fromRect(e);return i.x+=null!==(n=t.x)&&void 0!==n?n:0,i.y+=null!==(r=t.y)&&void 0!==r?r:0,i}));return O},jj=function(t,e,n){return[]},Nj=function(t,e,n){if(0===e.length)return[];var r={flex:Ij,grid:jj},i=n.display in r?r[n.display]:null;return(null===i||void 0===i?void 0:i.call(null,t,e,n))||[]},Bj=function(t){function e(e){var n=t.call(this,e)||this;n.layoutEvents=[Pl.BOUNDS_CHANGED,Pl.INSERTED,Pl.REMOVED],n.$margin=tI(0),n.$padding=tI(0);var r=e.style||{},i=r.margin,o=void 0===i?0:i,a=r.padding,s=void 0===a?0:a;return n.margin=o,n.padding=s,n.isMutationObserved=!0,n.bindEvents(),n}return zO(e,t),Object.defineProperty(e.prototype,"margin",{get:function(){return this.$margin},set:function(t){this.$margin=tI(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this.$padding},set:function(t){this.$padding=tI(t)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var t=this.attributes,e=t.x,n=void 0===e?0:e,r=t.y,i=void 0===r?0:r,o=t.width,a=t.height,s=VO(this.$margin,4),l=s[0],u=s[1],c=s[2],f=s[3];return new XI(n-f,i-l,o+f+u,a+l+c)},e.prototype.appendChild=function(e,n){return e.isMutationObserved=!0,t.prototype.appendChild.call(this,e,n),e},e.prototype.getAvailableSpace=function(){var t=this.attributes,e=t.width,n=t.height,r=VO(this.$padding,4),i=r[0],o=r[1],a=r[2],s=r[3],l=VO(this.$margin,4),u=l[0],c=l[3];return new XI(s+c,i+u,e-s-o,n-i-a)},e.prototype.layout=function(){if(this.attributes.display&&this.isConnected&&!this.children.some((function(t){return!t.isConnected})))try{var t=Nj(this.getAvailableSpace(),this.children.map((function(t){return t.getBBox()})),this.attributes);this.children.forEach((function(e,n){var r=t[n],i=r.x,o=r.y;e.attr({x:i,y:o})}))}catch(e){}},e.prototype.bindEvents=function(){var t=this;this.layoutEvents.forEach((function(e){t.addEventListener(e,(function(e){e.target.isMutationObserved=!0,t.layout()}))}))},e.prototype.attributeChangedCallback=function(t,e,n){"margin"===t?this.margin=n:"padding"===t&&(this.padding=n),this.layout()},e}(_u),Dj=function(t){var e=Lg(t);return e.charAt(0).toUpperCase()+e.substring(1)},Fj=Dj,zj=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Wj(t){return class extends xu{constructor(e){super(e),this.descriptor=t}connectedCallback(){var t,e;null===(e=(t=this.descriptor).render)||void 0===e||e.call(t,this.attributes,this)}update(t={}){var e,n;this.attr(Bd({},this.attributes,t)),null===(n=(e=this.descriptor).render)||void 0===n||n.call(e,this.attributes,this)}}}function Hj(t,e,n){return t.querySelector(e)?wE(t).select(e):wE(t).append(n)}function $j(t){return Array.isArray(t)?t.join(", "):`${t||""}`}function Gj(t,e){const n={display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"};let{flexDirection:r,justifyContent:i,alignItems:o}=n;const a={top:["row","flex-start","center"],bottom:["row","flex-start","center"],left:["column","center","center"],right:["column","center","center"],center:["column","center","center"]};return t in a&&([r,i,o]=a[t]),Object.assign({display:"flex",flexDirection:r,justifyContent:i,alignItems:o},e)}class Vj extends Bj{get child(){var t;return null===(t=this.children)||void 0===t?void 0:t[0]}update(t){var e;this.attr(t);const{subOptions:n}=t;null===(e=this.child)||void 0===e||e.update(n)}}class Uj extends Vj{update(t){var e;const{subOptions:n}=t;this.attr(t),null===(e=this.child)||void 0===e||e.update(n)}}function Yj(t,e){var n;return null===(n=t.filter((t=>t.getOptions().name===e)))||void 0===n?void 0:n[0]}function qj(t){return"horizontal"===t||0===t}function Xj(t){return"vertical"===t||t===-Math.PI/2}function Kj(t,e,n){const{bbox:r}=t,{position:i="top",size:o,length:a,crossPadding:s=0}=e,l=["top","bottom","center"].includes(i),[u,c]=l?[r.height,r.width]:[r.width,r.height],{defaultSize:f,defaultLength:h}=n.props,d=o||f||u,p=d-2*s,v=a||h||c,g=l?"horizontal":"vertical",[y,m]=l?[v,p]:[p,v];return{orientation:g,width:y,height:m,size:p,length:v}}function Zj(t){return t.find((t=>t.getOptions().domain.length>0)).getOptions().domain}function Qj(t){const e=["arrow","crosshairs","grid","handle","handleLabel","indicator","label","line","tick","tip","title","trunc"],{style:n}=t,r=zj(t,["style"]),i={};return Object.entries(r).forEach((([t,n])=>{e.includes(t)?i[`show${Fj(t)}`]=n:i[t]=n})),Object.assign(Object.assign({},i),n)}var Jj=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function tN(t){const{innerWidth:e,innerHeight:n}=t.getOptions();return[e,n]}function eN(t,e){const{width:n,height:r}=e.getOptions();return i=>{if(!bv(e))return i;const o="bottom"===t?[i,1]:[0,i],a=e.map(o);if("bottom"===t){const t=a[0],e=new XC({domain:[0,n],range:[0,1]});return e.map(t)}if("left"===t){const t=a[1],e=new XC({domain:[0,r],range:[0,1]});return e.map(t)}return i}}function nN(t,e,n){if(t.getTicks)return t.getTicks();if(!n)return e;const[r,i]=qS(e,(t=>+t)),{tickCount:o}=t.getOptions();return n(r,i,o)}function rN(t){return"number"!==typeof t||Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}function iN(t,e){if(vv(e))return t=>t;const n=e.getOptions(),{innerWidth:r,innerHeight:i,insetTop:o,insetBottom:a,insetLeft:s,insetRight:l}=n,[u,c,f]="left"===t||"right"===t?[o,a,i]:[s,l,r],h=new XC({domain:[0,1],range:[u/f,1-c/f]});return t=>h.map(t)}function oN(t,e,n,r,i,o,a,s){var l;void 0===n&&void 0===o||t.update(Object.assign(Object.assign({},n&&{tickCount:n}),o&&{tickMethod:o}));const u=nN(t,e,o),c=i?u.filter(i):u,f=t=>t instanceof Date?String(t):"object"===typeof t&&t?t:String(t),h=r||(null===(l=t.getFormatter)||void 0===l?void 0:l.call(t))||f,d=iN(a,s),p=eN(a,s),v=t=>["top","bottom","center","outer"].includes(t);return vv(s)||pv(s)?c.map(((e,n,r)=>{var i,o;const l=(null===(i=t.getBandWidth)||void 0===i?void 0:i.call(t,e))/2||0,u=d(t.map(e)+l),c=gv(s)&&"center"===a||pv(s)&&(null===(o=t.getTicks)||void 0===o?void 0:o.call(t))&&v(a);return{value:c?1-u:u,label:f(h(rN(e),n,r)),id:String(n)}})):c.map(((e,n,r)=>{var i;const o=(null===(i=t.getBandWidth)||void 0===i?void 0:i.call(t,e))/2||0,a=p(d(t.map(e)+o));return{value:a,label:f(h(rN(e),n,r)),id:String(n)}}))}function aN(t,e){const[n,r]=tN(e);return t.includes("bottom")||t.includes("top")?r:n}function sN(t=[],e){if(t.length>0)return t;const{labelAutoRotate:n,labelAutoHide:r,labelAutoEllipsis:i,labelAutoWrap:o}=e,a=[],s=(t,e)=>{e&&a.push(t)};return s({type:"rotate",optionalAngles:[0,15,30,45,60,90]},n),s({type:"ellipsis",minLength:20},i),s({type:"hide"},r),s({type:"wrap",wordWrapWidth:100,maxLines:3,recoveryWhenFail:!0},o),a}function lN(t,e,n,r,i){const{x:o,y:a,width:s,height:l}=e,u=[o+s/2,a+l/2],c=Math.min(s,l)/2,[f,h]=Sv(i),[d,p]=tN(i),v=Math.min(d,p)/2,g={center:u,radius:c,startAngle:f,endAngle:h,gridLength:(r-n)*v};if("inner"===t){const{insetLeft:t,insetTop:e}=i.getOptions();return Object.assign(Object.assign({},g),{center:[u[0]-t,u[1]-e],labelAlign:"perpendicular",labelDirection:"positive",tickDirection:"positive",gridDirection:"negative"})}return Object.assign(Object.assign({},g),{labelAlign:"parallel",labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"})}function uN(t,e,n){return!_v(e)&&!mv(e)&&(void 0===t?!!n.getTicks:t)}function cN(t,e,n,r){const{x:i,y:o,width:a,height:s}=n;if("bottom"===t)return{startPos:[i,o],endPos:[i+a,o]};if("left"===t)return{startPos:[i+a,o],endPos:[i+a,o+s]};if("right"===t)return{endPos:[i,o+s],startPos:[i,o]};if("top"===t)return{startPos:[i,o+s],endPos:[i+a,o+s]};if("center"===t){if("vertical"===e)return{startPos:[i+a,o],endPos:[i+a,o+s]};if("horizontal"===e)return{startPos:[i,o+s],endPos:[i+a,o+s]};if("number"===typeof e){const[t,n]=r.getCenter(),[l,u]=Cv(r),[c,f]=Sv(r),h=Math.min(a,s)/2,{insetLeft:d,insetTop:p}=r.getOptions(),v=l*h,g=u*h,[y,m]=[t+i-d,n+o-p],[b,x]=[Math.cos(e),Math.sin(e)],w=[y+g*b,m+g*x],_=[y+v*b,m+v*x];return{startPos:w,endPos:_,gridClosed:f-c===360,gridCenter:[y,m],gridControlAngles:new Array(3).fill(0).map(((t,e,n)=>(f-c)/(n.length-1)*e))}}}return{}}const fN=t=>{const{order:e,size:n,position:r,orientation:i,labelFormatter:o,tickFilter:a,tickCount:s,tickMethod:l,important:u={},style:c={},indexBBox:f,title:h,grid:d=!1}=t,p=Jj(t,["order","size","position","orientation","labelFormatter","tickFilter","tickCount","tickMethod","important","style","indexBBox","title","grid"]);return({scales:[t],value:e,coordinate:n,theme:i})=>{const{bbox:c}=e,{domain:v}=t.getOptions(),g=oN(t,v,s,o,a,l,r,n),y=f?g.map(((t,e)=>{const n=f.get(e);return n?n[0]!==t.label?t:Object.assign(Object.assign({},t),{bbox:n[1]}):t})):g,[m,b]=Cv(n),x=lN(r,c,m,b,n),{axis:w,axisArc:_={}}=i,O=Qj(Bd({},w,_,x,Object.assign(Object.assign({type:"arc",data:y,titleText:$j(h),grid:d},p),u)));return new sj({style:hj(O,["transform"])})}};function hN(t,e,n,r,i,o){const a=n.axis;let s=n.axisLinear;return["top","right","bottom","left"].includes(i)&&(s=n[`axis${Dg(i)}`]),Object.assign({},a,s)}function dN(t,e,n,r,i,o){const a=hN(t,e,n,r,i,o);return"center"===i?Object.assign(Object.assign(Object.assign(Object.assign({},a),{labelDirection:"right"===r?"negative":"positive"}),"center"===r?{labelTransform:"translate(50%,0)"}:null),{tickDirection:"right"===r?"negative":"positive",labelSpacing:"center"===r?0:4,titleSpacing:Xj(o)?10:0,tick:"center"!==r&&void 0}):a}const pN=t=>{const{direction:e="left",important:n={},labelFormatter:r,order:i,orientation:o,position:a,size:s,style:l={},title:u,tickCount:c,tickFilter:f,tickMethod:h,transform:d,indexBBox:p}=t,v=Jj(t,["direction","important","labelFormatter","order","orientation","position","size","style","title","tickCount","tickFilter","tickMethod","transform","indexBBox"]);return({scales:[t],value:i,coordinate:g,theme:y})=>{const{bbox:m}=i,{domain:b}=t.getOptions(),x=dN(t,g,y,e,a,o),w=Object.assign(Object.assign(Object.assign({},x),l),v),_=aN(a,g),O=cN(a,o,m,g),C=oN(t,b,c,r,f,h,a,g),S=p?C.map(((t,e)=>{const n=p.get(e);return n?n[0]!==t.label?t:Object.assign(Object.assign({},t),{bbox:n[1]}):t})):C,E=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},w),{type:"linear",data:S,crossSize:s,titleText:$j(u),labelOverlap:sN(d,w),grid:uN(w.grid,g,t),gridLength:_,line:!0,indexBBox:p}),w.line?null:{lineOpacity:0}),O),n),M=E.labelOverlap.find((t=>"hide"===t.type));return M&&(E.crossSize=!1),new sj({className:"axis",style:Qj(E)})}},vN=t=>e=>{const{labelFormatter:n,labelFilter:r=(()=>!0)}=e;return i=>{var o;const{scales:[a]}=i,s=(null===(o=a.getTicks)||void 0===o?void 0:o.call(a))||a.getOptions().domain,l="string"===typeof n?kj(n):n,u=(t,e,n)=>r(s[e],e,s),c=Object.assign(Object.assign({},e),{labelFormatter:l,labelFilter:u,scale:a});return t(c)(i)}},gN=vN(pN),yN=vN(fN);gN.props={defaultPosition:"center",defaultSize:45,defaultOrder:0},yN.props={defaultPosition:"outer",defaultOrientation:"vertical",defaultSize:45,defaultOrder:0};const mN=t=>(...e)=>gN(Object.assign({},{crossPadding:50},t))(...e);mN.props=Object.assign(Object.assign({},gN.props),{defaultPosition:"bottom"});const bN=t=>(...e)=>gN(Object.assign({},{crossPadding:10},t))(...e);bN.props=Object.assign(Object.assign({},gN.props),{defaultPosition:"left"});var xN=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function wN(t){const e=t%(2*Math.PI);return e===Math.PI/2?{titleTransform:"translate(0, 50%)"}:e>-Math.PI/2&&e<Math.PI/2?{titleTransform:"translate(50%, 0)"}:e>Math.PI/2&&e<3*Math.PI/2?{titleTransform:"translate(-50%, 0)"}:{}}function _N(t,e,n,r){const{radar:i}=t,[o]=r,a=o.getOptions().name,[s,l]=Sv(n),{axisRadar:u={}}=e;return Object.assign(Object.assign({},u),{grid:"position"===a,gridConnect:"line",gridControlAngles:new Array(i.count).fill(0).map(((t,e)=>{const n=(l-s)/i.count;return n*e}))})}const ON=t=>{const{important:e={}}=t,n=xN(t,["important"]);return r=>{const{theme:i,coordinate:o,scales:a}=r;return gN(Object.assign(Object.assign(Object.assign({},n),wN(t.orientation)),{important:Object.assign(Object.assign({},_N(t,i,o,a)),e)}))(r)}};ON.props=Object.assign(Object.assign({},gN.props),{defaultPosition:"center"});var CN=function(){},SN=function(t,e,n){var r=t,i=me(e)?e.split("."):e;return i.forEach((function(t,e){e<i.length-1?(kn(r[t])||(r[t]=pe(i[e+1])?[]:{}),r=r[t]):r[t]=n})),t};function EN(t,e){return t.reduce((function(t,n){return(t[n[e]]=t[n[e]]||[]).push(n),t}),{})}function MN(t,e,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||t.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(i,o)}}var kN=MN;function TN(t){var e;return(null===(e=t[0])||void 0===e?void 0:e.map((function(e,n){return t.map((function(t){return t[n]}))})))||[]}var AN=SP({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),LN=function(t){function e(e){var n=t.call(this,e,{animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonPath:cA(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(t,e){return"".concat(t,"/").concat(e)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return n.playState="idle",n.contentGroup=n.appendChild(new _u({class:AN.contentGroup.name})),n.playWindow=n.contentGroup.appendChild(new _u({class:AN.playWindow.name})),n.innerCurrPage=n.defaultPage,n}return zO(e,t),Object.defineProperty(e.prototype,"defaultPage",{get:function(){var t=this.attributes.defaultPage;return xe(t,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageShape",{get:function(){var t=this.pageViews,e=VO(TN(t.map((function(t){var e=t.getBBox(),n=e.width,r=e.height;return[n,r]}))).map((function(t){return Math.max.apply(Math,YO([],VO(t),!1))})),2),n=e[0],r=e[1],i=this.attributes,o=i.pageWidth,a=void 0===o?n:o,s=i.pageHeight,l=void 0===s?r:s;return{pageWidth:a,pageHeight:l}},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(e.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var e=t.prototype.getBBox.call(this),n=e.x,r=e.y,i=this.controllerShape,o=this.pageShape,a=o.pageWidth,s=o.pageHeight;return new XI(n,r,a+i.width,s)},e.prototype.goTo=function(t){var e=this,n=this.attributes.animate,r=this,i=r.currPage,o=r.playState,a=r.playWindow,s=r.pageViews;if("idle"!==o||t<0||s.length<=0||t>=s.length)return null;s[i].setLocalPosition(0,0),this.prepareFollowingPage(t);var l=VO(this.getFollowingPageDiff(t),2),u=l[0],c=l[1];this.playState="running";var f=xP(a,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-u,", ").concat(-c,")")}],n);return yP(f,(function(){e.innerCurrPage=t,e.playState="idle",e.setVisiblePages([t]),e.updatePageInfo()})),f},e.prototype.prev=function(){var t=this.attributes.loop,e=this.pageViews.length,n=this.currPage;if(!t&&n<=0)return null;var r=t?(n-1+e)%e:xe(n-1,0,e);return this.goTo(r)},e.prototype.next=function(){var t=this.attributes.loop,e=this.pageViews.length,n=this.currPage;if(!t&&n>=e-1)return null;var r=t?(n+1)%e:xe(n+1,0,e);return this.goTo(r)},e.prototype.renderClipPath=function(t){var e=this.pageShape,n=e.pageWidth,r=e.pageHeight;n&&r?(this.clipPath=t.maybeAppendByClassName(AN.clipPath,"rect").styles({width:n,height:r}),this.contentGroup.attr("clipPath",this.clipPath.node())):this.contentGroup.style.clipPath=void 0},e.prototype.setVisiblePages=function(t){this.playWindow.children.forEach((function(e,n){t.includes(n)?MT(e):kT(e)}))},e.prototype.adjustControllerLayout=function(){var t=this,e=t.prevBtnGroup,n=t.nextBtnGroup,r=t.pageInfoGroup,i=this.attributes,o=i.orientation,a=i.controllerPadding,s=r.getBBox(),l=s.width,u=(s.height,VO("horizontal"===o?[-180,0]:[-90,90],2)),c=u[0],f=u[1];e.setLocalEulerAngles(c),n.setLocalEulerAngles(f);var h=e.getBBox(),d=h.width,p=h.height,v=n.getBBox(),g=v.width,y=v.height,m=Math.max(d,l,g),b="horizontal"===o?{offset:[[0,0],[d/2+a,0],[d+l+2*a,0]],textAlign:"start"}:{offset:[[m/2,-p-a],[m/2,0],[m/2,y+a]],textAlign:"center"},x=VO(b.offset,3),w=VO(x[0],2),_=w[0],O=w[1],C=VO(x[1],2),S=C[0],E=C[1],M=VO(x[2],2),k=M[0],T=M[1],A=b.textAlign,L=r.querySelector("text");L&&(L.style.textAlign=A),e.setLocalPosition(_,O),r.setLocalPosition(S,E),n.setLocalPosition(k,T)},e.prototype.updatePageInfo=function(){var t,e=this,n=e.currPage,r=e.pageViews,i=e.attributes.formatter;r.length<2||(null===(t=this.pageInfoGroup.querySelector(AN.pageInfo.class))||void 0===t||t.attr("text",i(n+1,r.length)),this.adjustControllerLayout())},e.prototype.getFollowingPageDiff=function(t){var e=this.currPage;if(e===t)return[0,0];var n=this.attributes.orientation,r=this.pageShape,i=r.pageWidth,o=r.pageHeight,a=t<e?-1:1;return"horizontal"===n?[a*i,0]:[0,a*o]},e.prototype.prepareFollowingPage=function(t){var e=this,n=e.currPage,r=e.pageViews;if(this.setVisiblePages([t,n]),t!==n){var i=VO(this.getFollowingPageDiff(t),2),o=i[0],a=i[1];r[t].setLocalPosition(o,a)}},e.prototype.renderController=function(t){var e=this,n=this.attributes.controllerSpacing,r=this.pageShape,i=r.pageWidth,o=r.pageHeight,a=this.pageViews.length>=2,s=t.maybeAppendByClassName(AN.controller,"g");if(TT(s.node(),a),a){var l=$P(this.attributes,"button"),u=$P(this.attributes,"pageNum"),c=VO(VP(l),2),f=c[0],h=c[1],d=f.size,p=HO(f,["size"]),v=!s.select(AN.prevBtnGroup.class).node(),g=s.maybeAppendByClassName(AN.prevBtnGroup,"g").styles(h);this.prevBtnGroup=g.node();var y=g.maybeAppendByClassName(AN.prevBtn,"path"),m=s.maybeAppendByClassName(AN.nextBtnGroup,"g").styles(h);this.nextBtnGroup=m.node();var b=m.maybeAppendByClassName(AN.nextBtn,"path");[y,b].forEach((function(t){t.styles(WO(WO({},p),{transformOrigin:"center"})),pR(t.node(),d,!0)}));var x=s.maybeAppendByClassName(AN.pageInfoGroup,"g");this.pageInfoGroup=x.node(),x.maybeAppendByClassName(AN.pageInfo,"text").styles(u),this.updatePageInfo(),s.node().setLocalPosition(i+n,o/2),v&&(this.prevBtnGroup.addEventListener("click",(function(){e.prev()})),this.nextBtnGroup.addEventListener("click",(function(){e.next()})))}},e.prototype.render=function(t,e){var n=HT(e);this.renderClipPath(n),this.renderController(n),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},e.prototype.bindEvents=function(){var t=this,e=kN((function(){return t.render(t.attributes,t)}),50);this.playWindow.addEventListener(Pl.INSERTED,e),this.playWindow.addEventListener(Pl.REMOVED,e)},e}(BT);function PN(t,e){var n=Math.pow(10,e);return~~(t*n)/n}function RN(t,e,n){var r=Math.round((t-n)/e);return n+r*e}function IN(t,e,n){var r=1.4,i=r*n;return[["M",t-n,e-i],["L",t+n,e-i],["L",t+n,e+i],["L",t-n,e+i],["Z"]]}var jN=1.4,NN=.4;function BN(t,e,n){var r=n,i=r*jN,o=r/2,a=r/6,s=t+i*NN;return[["M",t,e],["L",s,e+o],["L",t+i,e+o],["L",t+i,e-o],["L",s,e-o],["Z"],["M",s,e+a],["L",t+i-2,e+a],["M",s,e-a],["L",t+i-2,e-a]]}function DN(t,e,n){var r=n,i=r*jN,o=r/2,a=r/6,s=e+i*NN;return[["M",t,e],["L",t-o,s],["L",t-o,e+i],["L",t+o,e+i],["L",t+o,s],["Z"],["M",t-a,s],["L",t-a,e+i-2],["M",t+a,s],["L",t+a,e+i-2]]}dA.registerSymbol("hiddenHandle",IN),dA.registerSymbol("verticalHandle",BN),dA.registerSymbol("horizontalHandle",DN);function FN(t,e,n,r){var i;void 0===r&&(r=4);var o=VO(t,2),a=o[0],s=o[1],l=VO(e,2),u=l[0],c=l[1],f=VO(n,2),h=f[0],d=f[1],p=VO([u,c],2),v=p[0],g=p[1],y=g-v;return v>g&&(i=VO([g,v],2),v=i[0],g=i[1]),y>s-a?[a,s]:v<a?h===a&&d===g?[a,g]:[a,y+a]:g>s?d===s&&h===v?[v,s]:[s-y,s]:[PN(v,r),PN(g,r)]}function zN(t,e,n){return void 0===t&&(t="horizontal"),"horizontal"===t?e:n}var WN=SP({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item");function HN(t){var e=t.querySelector(WN.marker.class);return e?e.style:{}}var $N=function(t){function e(e){return t.call(this,e,{span:[1,1],marker:function(){return new bu({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return zO(e,t),Object.defineProperty(e.prototype,"showValue",{get:function(){var t=this.attributes.valueText;return!!t&&("string"===typeof t||"number"===typeof t?""!==t:"function"===typeof t||""!==t.attr("text"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actualSpace",{get:function(){var t=this.labelGroup,e=this.valueGroup,n=this.attributes.markerSize,r=t.node().getBBox(),i=r.width,o=r.height,a=e.node().getBBox(),s=a.width,l=a.height;return{markerWidth:n,labelWidth:i,valueWidth:s,height:Math.max(n,o,l)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"span",{get:function(){var t=this.attributes.span;if(!t)return[1,1];var e=VO(tI(t),2),n=e[0],r=e[1],i=this.showValue?r:0,o=n+i;return[n/o,i/o]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){var t,e=this.attributes,n=e.markerSize,r=e.width,i=this.actualSpace,o=i.markerWidth,a=i.height,s=this.actualSpace,l=s.labelWidth,u=s.valueWidth,c=VO(this.spacing,2),f=c[0],h=c[1];if(r){var d=r-n-f-h,p=VO(this.span,2),v=p[0],g=p[1];t=VO([v*d,g*d],2),l=t[0],u=t[1]}var y=o+l+u+f+h;return{width:y,height:a,markerWidth:o,labelWidth:l,valueWidth:u}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){var t=this.attributes.spacing;if(!t)return[0,0];var e=VO(tI(t),2),n=e[0],r=e[1];return this.showValue?[n,r]:[n,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){var t=this.shape,e=t.markerWidth,n=t.labelWidth,r=t.valueWidth,i=t.width,o=t.height,a=VO(this.spacing,2),s=a[0],l=a[1];return{height:o,width:i,markerWidth:e,labelWidth:n,valueWidth:r,position:[e/2,e+s,e+n+s+l]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleSize",{get:function(){var t=HN(this.markerGroup.node()),e=this.attributes,n=e.markerSize,r=e.markerStrokeWidth,i=void 0===r?t.strokeWidth:r,o=e.markerLineWidth,a=void 0===o?t.lineWidth:o,s=e.markerStroke,l=void 0===s?t.stroke:s,u=+(i||a||(l?1:0))*Math.sqrt(2),c=this.markerGroup.node().getBBox(),f=c.width,h=c.height;return(1-u/Math.max(f,h))*n},enumerable:!1,configurable:!0}),e.prototype.renderMarker=function(t){var e=this,n=this.attributes.marker,r=$P(this.attributes,"marker");this.markerGroup=t.maybeAppendByClassName(WN.markerGroup,"g").style("zIndex",0),DT(!!n,this.markerGroup,(function(){var t=e.markerGroup.node(),i=t.getElementsByClassName(WN.marker.name)[0],o=n();i?o.nodeName===i.nodeName?(bI(i,o),HT(i).styles(r)):(i.remove(),HT(o).attr("className",WN.marker.name).styles(r),t.appendChild(o)):(HT(o).attr("className",WN.marker.name).styles(r),t.appendChild(o)),e.markerGroup.node().scale(1/e.markerGroup.node().getScale()[0]),pR(e.markerGroup.node(),e.scaleSize,!0)}))},e.prototype.renderLabel=function(t){var e=$P(this.attributes,"label"),n=e.text,r=HO(e,["text"]);this.labelGroup=t.maybeAppendByClassName(WN.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(WN.label,(function(){return dR(n)})).styles(r)},e.prototype.renderValue=function(t){var e=this,n=$P(this.attributes,"value"),r=n.text,i=HO(n,["text"]);this.valueGroup=t.maybeAppendByClassName(WN.valueGroup,"g").style("zIndex",0),DT(this.showValue,this.valueGroup,(function(){e.valueGroup.maybeAppendByClassName(WN.value,(function(){return dR(r)})).styles(i)}))},e.prototype.renderBackground=function(t){var e=this.shape,n=e.width,r=e.height,i=$P(this.attributes,"background");this.background=t.maybeAppendByClassName(WN.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(WN.background,"rect").styles(WO({width:n,height:r},i))},e.prototype.adjustLayout=function(){var t=this.layout,e=t.labelWidth,n=t.valueWidth,r=t.height,i=VO(t.position,3),o=i[0],a=i[1],s=i[2],l=r/2;this.markerGroup.styles({x:o,y:l}),this.labelGroup.styles({x:a,y:l}),XR(this.labelGroup.select(WN.label.class).node(),Math.ceil(e)),this.showValue&&(this.valueGroup.styles({x:s,y:l}),XR(this.valueGroup.select(WN.value.class).node(),Math.ceil(n)))},e.prototype.render=function(t,e){var n=HT(e);this.renderMarker(n),this.renderLabel(n),this.renderValue(n),this.renderBackground(n),this.adjustLayout()},e}(BT),GN=SP({page:"item-page",navigator:"navigator",item:"item"},"items"),VN=function(t,e,n){return void 0===n&&(n=!0),t?e(t):n},UN=function(t){function e(e){var n=t.call(this,e,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:CN,mouseenter:CN,mouseleave:CN})||this;return n.navigatorShape=[0,0],n}return zO(e,t),Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){var t=this.attributes,e=t.gridRow,n=t.gridCol,r=t.data;if(!e&&!n)throw new Error("gridRow and gridCol can not be set null at the same time");return e&&n?[e,n]:e?[e,r.length]:[r.length,n]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderData",{get:function(){var t=this.attributes,e=t.data,n=t.layout,r=$P(this.attributes,"item"),i=e.map((function(t,i){var o=t.id,a=void 0===o?i:o,s=t.label,l=t.value;return{id:"".concat(a),index:i,style:WO({layout:n,labelText:s,valueText:l},Object.fromEntries(Object.entries(r).map((function(n){var r=VO(n,2),o=r[0],a=r[1];return[o,UP(a,[t,i,e])]}))))}}));return i},enumerable:!1,configurable:!0}),e.prototype.getGridLayout=function(){var t=this,e=this.attributes,n=e.orientation,r=e.width,i=e.rowPadding,o=e.colPadding,a=VO(this.navigatorShape,1),s=a[0],l=VO(this.grid,2),u=l[0],c=l[1],f=c*u,h=0;return this.pageViews.children.map((function(e,a){var l,d,p=Math.floor(a/f),v=a%f,g=t.ifHorizontal(c,u),y=[Math.floor(v/g),v%g];"vertical"===n&&y.reverse();var m=VO(y,2),b=m[0],x=m[1],w=(r-s-(c-1)*o)/c,_=e.getBBox().height,O=VO([0,0],2),C=O[0],S=O[1];return"horizontal"===n?(l=VO([h,b*(_+i)],2),C=l[0],S=l[1],h=x===c-1?0:h+w+o):(d=VO([x*(w+o),h],2),C=d[0],S=d[1],h=b===u-1?0:h+_+i),{page:p,index:a,row:b,col:x,pageIndex:v,width:w,height:_,x:C,y:S}}))},e.prototype.getFlexLayout=function(){var t=this.attributes,e=t.width,n=t.height,r=t.rowPadding,i=t.colPadding,o=VO(this.navigatorShape,1),a=o[0],s=VO(this.grid,2),l=s[0],u=s[1],c=VO([e-a,n],2),f=c[0],h=c[1],d=VO([0,0,0,0,0,0,0,0],8),p=d[0],v=d[1],g=d[2],y=d[3],m=d[4],b=d[5],x=d[6],w=d[7];return this.pageViews.children.map((function(t,e){var n,o,a,s,c=t.getBBox(),d=c.width,_=c.height,O=0===x?0:i,C=x+O+d;if(C<=f&&VN(m,(function(t){return t<u})))return n=VO([x+O,w,C],3),p=n[0],v=n[1],x=n[2],{width:d,height:_,x:p,y:v,page:g,index:e,pageIndex:y++,row:b,col:m++};o=VO([b+1,0,0,w+_+r],4),b=o[0],m=o[1],x=o[2],w=o[3];var S=w+r+_;return S<=h&&VN(b,(function(t){return t<l}))?(a=VO([x,w,d],3),p=a[0],v=a[1],x=a[2],{width:d,height:_,x:p,y:v,page:g,index:e,pageIndex:y++,row:b,col:m++}):(s=VO([0,0,d,0,g+1,0,0,0],8),p=s[0],v=s[1],x=s[2],w=s[3],g=s[4],y=s[5],b=s[6],m=s[7],{width:d,height:_,x:p,y:v,page:g,index:e,pageIndex:y++,row:b,col:m++})}))},Object.defineProperty(e.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var t="grid"===this.attributes.layout?this.getGridLayout:this.getFlexLayout,e=t.call(this);return e.slice(-1)[0].page>0?(this.navigatorShape=[55,0],t.call(this)):e},enumerable:!1,configurable:!0}),e.prototype.ifHorizontal=function(t,e){var n=this.attributes.orientation;return zN(n,t,e)},e.prototype.flattenPage=function(t){t.querySelectorAll(GN.item.class).forEach((function(e){t.appendChild(e)})),t.querySelectorAll(GN.page.class).forEach((function(e){var n=t.removeChild(e);n.destroy()}))},e.prototype.renderItems=function(t){var e=this.attributes,n=e.click,r=e.mouseenter,i=e.mouseleave;this.flattenPage(t);var o=this.dispatchCustomEvent.bind(this);HT(t).selectAll(GN.item.class).data(this.renderData,(function(t){return t.id})).join((function(t){return t.append((function(t){var e=t.style;return new $N({style:e})})).attr("className",GN.item.name).on("click",(function(){null===n||void 0===n||n(this),o("itemClick",{item:this})})).on("pointerenter",(function(){null===r||void 0===r||r(this),o("itemMouseenter",{item:this})})).on("pointerleave",(function(){null===i||void 0===i||i(this),o("itemMouseleave",{item:this})}))}),(function(t){return t.each((function(t){var e=t.style;this.update(e)}))}),(function(t){return t.remove()}))},e.prototype.relayoutNavigator=function(){var t,e=this.attributes,n=e.layout,r=e.width,i=(null===(t=this.pageViews.children[0])||void 0===t?void 0:t.getBBox().height)||0,o=VO(this.navigatorShape,2),a=o[0],s=o[1];this.navigator.update("grid"===n?{pageWidth:r-a,pageHeight:i-s}:{})},e.prototype.adjustLayout=function(){var t=this,e=Object.entries(EN(this.itemsLayout,"page")).map((function(t){var e=VO(t,2),n=e[0],r=e[1];return{page:n,layouts:r}})),n=YO([],VO(this.navigator.getContainer().children),!1);e.forEach((function(e){var r=e.layouts,i=t.pageViews.appendChild(new _u({className:GN.page.name}));r.forEach((function(t){var e=t.x,r=t.y,o=t.index,a=t.width,s=t.height,l=n[o];i.appendChild(l),SN(l,"__layout__",t),l.update({x:e,y:r,width:a,height:s})}))})),this.relayoutNavigator()},e.prototype.renderNavigator=function(t){var e=this.attributes.orientation,n=$P(this.attributes,"nav"),r=PT({orientation:e},n),i=this;return t.selectAll(GN.navigator.class).data(["nav"]).join((function(t){return t.append((function(){return new LN({style:r})})).attr("className",GN.navigator.name).each((function(){i.navigator=this}))}),(function(t){return t.each((function(){this.update(r)}))}),(function(t){return t.remove()})),this.navigator},e.prototype.getBBox=function(){return this.navigator.getBBox()},e.prototype.render=function(t,e){var n=this.attributes.data;if(n&&0!==n.length){var r=this.renderNavigator(HT(e));this.renderItems(r.getContainer()),this.adjustLayout()}},e.prototype.dispatchCustomEvent=function(t,e){var n=new Sl(t,{detail:e});this.dispatchEvent(n)},e}(BT),YN=SP({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),qN={showLabel:!0,formatter:function(t){return t.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0},XN=function(t){function e(e){return t.call(this,e,qN)||this}return zO(e,t),e.prototype.render=function(t,e){var n=HT(e).maybeAppendByClassName(YN.markerGroup,"g");this.renderMarker(n);var r=HT(e).maybeAppendByClassName(YN.labelGroup,"g");this.renderLabel(r)},e.prototype.renderMarker=function(t){var e=this,n=this.attributes,r=n.orientation,i=n.markerSymbol,o=void 0===i?zN(r,"horizontalHandle","verticalHandle"):i;DT(!!o,t,(function(t){var n=$P(e.attributes,"marker"),r=WO({symbol:o},n);e.marker=t.maybeAppendByClassName(YN.marker,(function(){return new dA({style:r})})).update(r)}))},e.prototype.renderLabel=function(t){var e=this,n=this.attributes,r=n.showLabel,i=n.orientation,o=n.spacing,a=void 0===o?0:o,s=n.formatter;DT(r,t,(function(t){var n,r=$P(e.attributes,"label"),o=r.text,l=HO(r,["text"]),u=(null===(n=t.select(YN.marker.class))||void 0===n?void 0:n.node().getBBox())||{},c=u.width,f=void 0===c?0:c,h=u.height,d=void 0===h?0:h,p=VO(zN(i,[0,d+a,"center","top"],[f+a,0,"start","middle"]),4),v=p[0],g=p[1],y=p[2],m=p[3];t.maybeAppendByClassName(YN.label,"text").styles(WO(WO({},l),{x:v,y:g,text:s(o).toString(),textAlign:y,textBaseline:m}))}))},e}(BT),KN={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},ZN=PT({},KN,{}),QN=PT({},KN,GP(qN,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"}),JN=.01,tB=SP({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),eB=function(t){function e(e){return t.call(this,e,ZN)||this}return zO(e,t),e.prototype.renderTitle=function(t,e,n){var r=this.attributes,i=r.showTitle,o=r.titleText,a=$P(this.attributes,"title"),s=VO(VP(a),2),l=s[0],u=s[1];this.titleGroup=t.maybeAppendByClassName(tB.titleGroup,"g").styles(u);var c=WO(WO({width:e,height:n},l),{text:i?o:""});this.title=this.titleGroup.maybeAppendByClassName(tB.title,(function(){return new ej({style:c})})).update(c)},e.prototype.renderItems=function(t,e){var n=e.x,r=e.y,i=e.width,o=e.height,a=$P(this.attributes,"title",!0),s=VO(VP(a),2),l=s[0],u=s[1],c=WO(WO({},l),{width:i,height:o,x:0,y:0});this.itemsGroup=t.maybeAppendByClassName(tB.itemsGroup,"g").styles(WO({x:n,y:r},u));var f=this;this.itemsGroup.selectAll(tB.items.class).data(["items"]).join((function(t){return t.append((function(){return new UN({style:c})})).attr("className",tB.items.name).each((function(){f.items=HT(this)}))}),(function(t){return t.update(c)}),(function(t){return t.remove()}))},e.prototype.adjustLayout=function(){var t=this.attributes.showTitle;if(t){var e=this.title.node().getAvailableSpace(),n=e.x,r=e.y;this.itemsGroup.node().setLocalPosition(n,r)}},Object.defineProperty(e.prototype,"availableSpace",{get:function(){var t=this.attributes,e=t.showTitle,n=t.width,r=t.height;return e?this.title.node().getAvailableSpace():new XI(0,0,n,r)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var e,n,r=null===(e=this.title)||void 0===e?void 0:e.node(),i=null===(n=this.items)||void 0===n?void 0:n.node();return r&&i?QI(r,i):t.prototype.getBBox.call(this)},e.prototype.render=function(t,e){var n=t.width,r=t.height,i=HT(e);this.renderTitle(i,n,r),this.renderItems(i,this.availableSpace),this.adjustLayout()},e}(BT),nB=function(t){return null!==t&&"function"!==typeof t&&isFinite(t.length)},rB=nB;function iB(t){if(rB(t)){var e=t;return e[e.length-1]}}var oB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function aB(t,e,n,r,i={}){var o,a;const s=(null===(a=null===(o=e[`shape.${t}`])||void 0===o?void 0:o.props)||void 0===a?void 0:a.defaultMarker)||iB(t.split("."));return()=>tT(s,i)(0,0,6)}function sB(t,e){const n=Yj(t,"shape"),r=Yj(t,"color"),i=n?n.clone():null,o=[];for(const[s,l]of e){const t=s.type,e=(null===r||void 0===r?void 0:r.getOptions().domain.length)>0?null===r||void 0===r?void 0:r.getOptions().domain:l.data,n=e.map(((t,e)=>{var n;return i?i.map(t||"point"):(null===(n=null===s||void 0===s?void 0:s.style)||void 0===n?void 0:n.shape)||l.defaultShape||"point"}));"string"===typeof t&&o.push([t,n])}if(0===o.length)return["point",["point"]];if(1===o.length)return o[0];if(!n)return o[0];const{range:a}=n.getOptions();return o.map((([t,e])=>{let n=0;for(let r=0;r<o.length;r++){const t=a[r%a.length];e[r]===t&&n++}return[n/e.length,[t,e]]})).sort(((t,e)=>e[0]-t[0]))[0][1]}function lB(t,{scales:e,library:n,coordinate:r,theme:i,markState:o}){const[a,s]=sB(e,o),l=(t,e)=>aB(t,n,r,i,{color:e}),u=t=>`${a}.${s[t]}`,{itemMarker:c}=t,f=Yj(e,"shape");return f&&!c?(t,e)=>l(u(e),t.color):"function"===typeof c?(t,e)=>{const n=c(t.id,e);return"string"===typeof n?l(n,t.color):n}:(t,e)=>l(c||u(e),t.color)}function uB(t){const e=Yj(t,"opacity");if(e){const{range:t}=e.getOptions();return(e,n)=>t[n]}}function cB(t,e){const n=Yj(t,"size");return n?2*n.map(NaN):e}function fB(t,e){const{labelFormatter:n=(t=>`${t}`)}=t,{scales:r,theme:i}=e,o={itemMarker:lB(t,e),itemMarkerSize:cB(r,i.legendCategory.itemMarkerSize),itemMarkerOpacity:uB(r)},a="string"===typeof n?kj(n):n,s=Yj(r,"color"),l=Zj(r);return Object.assign(Object.assign({},o),{data:l.map((t=>({id:t,label:a(t),color:s.map(t)})))})}function hB(t,e,n){const{position:r}=e;if("center"===r){const{bbox:e}=t,{width:n,height:r}=e;return{width:n,height:r}}const{width:i,height:o}=Kj(t,e,n);return{width:i,height:o}}const dB=t=>{const{labelFormatter:e,layout:n,order:r,orientation:i,position:o,size:a,title:s,cols:l,itemMarker:u}=t,c=oB(t,["labelFormatter","layout","order","orientation","position","size","title","cols","itemMarker"]),{gridRow:f}=c;return e=>{const{value:r,theme:i}=e,{bbox:a}=r,{width:u,height:h}=hB(r,t,dB),d=Gj(o,n),p=Object.assign(Object.assign(Object.assign(Object.assign({orientation:["right","left","center"].includes(o)?"vertical":"horizontal",width:u,height:h,layout:void 0!==l?"grid":"flex"},void 0!==l&&{gridCol:l}),void 0!==f&&{gridRow:f}),{titleText:$j(s)}),fB(t,e)),{legendCategory:v={}}=i,g=Qj(Object.assign({},v,p,c)),y=new Uj({style:Object.assign(Object.assign({x:a.x,y:a.y,width:a.width,height:a.height},d),{subOptions:g})});return y.appendChild(new eB({className:"legend-category",style:g})),y}};function pB(t){var e=t.canvas,n=t.touches,r=t.offsetX,i=t.offsetY;if(e){var o=e.x,a=e.y;return[o,a]}if(n){var s=n[0],l=s.clientX,u=s.clientY;return[l,u]}return r&&i?[r,i]:[0,0]}dB.props={defaultPosition:"top",defaultOrder:1,defaultSize:40,defaultPadding:[20,10],defaultCrossPadding:[5,10]};var vB={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(t){return t.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",zIndex:999},gB=SP({background:"background",labelGroup:"label-group",label:"label"},"indicator"),yB=function(t){function e(e){var n=t.call(this,e,vB)||this;return n.point=[0,0],n.group=n.appendChild(new _u({})),n.isMutationObserved=!0,n}return zO(e,t),e.prototype.renderBackground=function(){if(this.label){var t=this.attributes,e=t.position,n=t.padding,r=VO(tI(n),4),i=r[0],o=r[1],a=r[2],s=r[3],l=this.label.node().getLocalBounds(),u=l.min,c=l.max,f=[[u[0]-s,u[1]-i],[c[0]+o,c[1]+a]],h=this.getPath(e,f),d=$P(this.attributes,"background");this.background=HT(this.group).maybeAppendByClassName(gB.background,"path").styles(WO(WO({},d),{path:h})),this.group.appendChild(this.label.node())}},e.prototype.renderLabel=function(){var t=this.attributes,e=t.formatter,n=t.labelText,r=$P(this.attributes,"label"),i=VO(VP(r),2),o=i[0],a=i[1],s=(o.text,HO(o,["text"]));if(this.label=HT(this.group).maybeAppendByClassName(gB.labelGroup,"g").styles(a),n){var l=this.label.maybeAppendByClassName(gB.label,(function(){return dR(e(n))})).style("text",e(n).toString());l.selectAll("text").styles(s)}},e.prototype.adjustLayout=function(){var t=VO(this.point,2),e=t[0],n=t[1];this.group.attr("x",-e).attr("y",-n)},e.prototype.getPath=function(t,e){var n=this,r=VO(e,2),i=VO(r[0],2),o=i[0],a=i[1],s=VO(r[1],2),l=s[0],u=s[1],c={top:[[o,a],[l,a]],right:[[l,a],[l,u]],bottom:[[l,u],[o,u]],left:[[o,u],[o,a]]},f={top:"bottom",right:"left",bottom:"top",left:"right"},h=Object.entries(c).map((function(e){var r=VO(e,2),i=r[0],o=r[1];return i===f[t]?n.createCorner(o):[YO(["M"],VO(o[0]),!1),YO(["L"],VO(o[1]),!1)]}));return h.push([["Z"]]),h.flat().filter((function(t,e,n){return 0===e||"M"!==t[0]}))},e.prototype.createCorner=function(t,e){void 0===e&&(e=10);var n=.8,r=mI.apply(void 0,YO([],VO(t),!1)),i=VO(t,2),o=VO(i[0],2),a=o[0],s=o[1],l=VO(i[1],2),u=l[0],c=l[1],f=VO(r?[u-a,[a,u]]:[c-s,[s,c]],2),h=f[0],d=VO(f[1],2),p=d[0],v=d[1],g=h/2,y=h/Math.abs(h),m=e*y,b=m/2,x=m*Math.sqrt(3)/2*n,w=VO([p,p+g-b,p+g,p+g+b,v],5),_=w[0],O=w[1],C=w[2],S=w[3],E=w[4];return r?(this.point=[C,s-x],[["M",_,s],["L",O,s],["L",C,s-x],["L",S,s],["L",E,s]]):(this.point=[a+x,C],[["M",a,_],["L",a,O],["L",a+x,C],["L",a,S],["L",a,E]])},e.prototype.bindEvents=function(){this.label.on(Pl.BOUNDS_CHANGED,this.renderBackground)},e.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout()},e}(BT);function mB(t,e){for(var n=1;n<t.length;n+=1){var r=t[n-1],i=t[n];if(e>=r&&e<=i)return[r,i]}return[e,e]}function bB(t,e,n){var r=Array.from(e),i=t.length;return new Array(i).fill(0).reduce((function(e,n,o){var a=r[o%r.length];return e+" ".concat(t[o],":").concat(a).concat(o<i-1?" ".concat(t[o+1],":").concat(a):"")}),"l(".concat("horizontal"===n?"0":"270",")"))}function xB(t,e){var n=VO(mB(t,e),2),r=n[0],i=n[1];return{tick:e>(r+i)/2?i:r,range:[r,i]}}var wB=SP({trackGroup:"background-group",track:"background",selectionGroup:"ribbon-group",selection:"ribbon",clipPath:"clip-path"},"ribbon");function _B(t){var e=t.orientation,n=t.size,r=t.length;return zN(e,[r,n],[n,r])}function OB(t){var e=t.type,n=VO(_B(t),2),r=n[0],i=n[1];return"size"===e?[["M",0,i],["L",0+r,0],["L",0+r,i],["Z"]]:[["M",0,i],["L",0,0],["L",0+r,0],["L",0+r,i],["Z"]]}function CB(t){return OB(t)}function SB(t){var e,n=t.orientation,r=t.color,i=t.block,o=t.partition;if(ST(r)){var a=20;e=new Array(a).fill(0).map((function(t,e,n){return r(e/(n.length-1))}))}else e=r;var s=e.length,l=e.map((function(t){return zo(t).toString()}));return s?1===s?l[0]:i?bB(o,l,n):l.reduce((function(t,e,n){return t+" ".concat(n/(s-1),":").concat(e)}),"l(".concat(zN(n,"0","270"),")")):""}function EB(t){var e=t.orientation,n=t.range;if(!n)return[];var r=VO(_B(t),2),i=r[0],o=r[1],a=VO(n,2),s=a[0],l=a[1],u=zN(e,s*i,0),c=zN(e,0,s*o),f=zN(e,l*i,i),h=zN(e,o,l*o);return[["M",u,c],["L",u,h],["L",f,h],["L",f,c],["Z"]]}function MB(t,e){var n=$P(e,"track");t.maybeAppendByClassName(wB.track,"path").styles(WO({path:OB(e)},n))}function kB(t,e){var n=$P(e,"selection"),r=SB(e),i=t.maybeAppendByClassName(wB.selection,"path").styles(WO({path:CB(e),fill:r},n)),o=i.maybeAppendByClassName(wB.clipPath,"path").styles({path:EB(e)}).node();i.style("clip-path",o)}var TB=function(t){function e(e){return t.call(this,e,{type:"color",orientation:"horizontal",size:30,range:[0,1],length:200,block:!1,partition:[],color:["#fff","#000"],trackFill:"#e5e5e5"})||this}return zO(e,t),e.prototype.render=function(t,e){var n=HT(e).maybeAppendByClassName(wB.trackGroup,"g");MB(n,t);var r=HT(e).maybeAppendByClassName(wB.selectionGroup,"g");kB(r,t)},e}(BT),AB={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},LB={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},PB={orientation:"horizontal",showLabel:!0,type:"start"},RB=SP({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track"},"slider"),IB=SP({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),jB=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zO(e,t),e.prototype.render=function(t,e){var n=t.size,r=void 0===n?10:n,i=t.radius,o=void 0===i?r/4:i,a=t.orientation,s=HO(t,["size","radius","orientation"]),l=r,u=2.4*l,c=HT(e).maybeAppendByClassName(IB.iconRect,"rect").styles(WO(WO({},s),{width:l,height:u,radius:o,x:-l/2,y:-u/2})),f=1/3*l,h=2/3*l,d=1/4*u,p=3/4*u;c.maybeAppendByClassName("".concat(IB.iconLine,"-1"),"line").styles(WO({x1:f,x2:f,y1:d,y2:p},s)),c.maybeAppendByClassName("".concat(IB.iconLine,"-2"),"line").styles(WO({x1:h,x2:h,y1:d,y2:p},s)),c.node().setOrigin(l/2,u/2),"vertical"===a?e.setLocalEulerAngles(90):e.setLocalEulerAngles(0)},e}(BT),NB=function(t){function e(e){return t.call(this,e,PB)||this}return zO(e,t),e.prototype.renderLabel=function(t){var e=this,n=this.attributes.showLabel,r=$P(this.attributes,"label"),i=r.transform,o=HO(r,["transform"]),a=VO(VP(o,[]),2),s=a[0],l=a[1],u=HT(t).maybeAppendByClassName(IB.labelGroup,"g").styles(l),c=WO(WO({},LB),s),f=c.text,h=HO(c,["text"]);DT(!!n,u,(function(t){e.label=t.maybeAppendByClassName(IB.label,"text").styles(WO(WO({},h),{transform:i,text:"".concat(f)})),e.label.on("mousedown",(function(t){t.stopPropagation()})),e.label.on("touchstart",(function(t){t.stopPropagation()}))}))},e.prototype.renderIcon=function(t){var e=this.attributes.orientation,n=WO(WO({orientation:e},AB),$P(this.attributes,"icon")),r=this.attributes.iconShape,i=void 0===r?function(){return new jB({style:n})}:r,o=HT(t).maybeAppendByClassName(IB.iconGroup,"g");o.selectAll(IB.icon.class).data([i]).join((function(t){return t.append(i).attr("className",IB.icon.name)}),(function(t){return t.update(n)}),(function(t){return t.remove()}))},e.prototype.render=function(t,e){this.renderIcon(e),this.renderLabel(e)},e}(BT),BB=aR((function(t){return{min:Math.min.apply(Math,YO([],VO(t.map((function(t){return t.value}))),!1)),max:Math.max.apply(Math,YO([],VO(t.map((function(t){return t.value}))),!1))}}),(function(t){return t.map((function(t){return t.id}))})),DB=function(t){function e(e){var n=t.call(this,e,QN)||this;return n.eventToOffsetScale=new XC({}),n.innerRibbonScale=new XC({}),n.cacheLabelBBox=null,n.cacheHandleBBox=null,n.onHovering=function(t){var e=n.attributes,r=e.data,i=e.block;t.stopPropagation();var o=n.getValueByCanvasPoint(t);if(i){var a=xB(r.map((function(t){var e=t.value;return e})),o).range;n.showIndicator((a[0]+a[1])/2,"".concat(a[0],"-").concat(a[1])),n.dispatchIndicated(o,a)}else{var s=n.getTickValue(o);n.showIndicator(s),n.dispatchIndicated(s)}},n.onDragStart=function(t){return function(e){e.stopPropagation(),n.attributes.slidable&&(n.target=t,n.prevValue=n.getTickValue(n.getValueByCanvasPoint(e)),document.addEventListener("mousemove",n.onDragging),document.addEventListener("touchmove",n.onDragging),document.addEventListener("mouseleave",n.onDragEnd),document.addEventListener("mouseup",n.onDragEnd),document.addEventListener("mouseup",n.onDragEnd),document.addEventListener("touchend",n.onDragEnd))}},n.onDragging=function(t){var e=n.target;n.updateMouse();var r=VO(n.selection,2),i=r[0],o=r[1],a=n.getTickValue(n.getValueByCanvasPoint(t)),s=a-n.prevValue;"start"===e?i!==a&&n.updateSelection(a,o):"end"===e?o!==a&&n.updateSelection(i,a):"ribbon"===e&&0!==s&&(n.prevValue=a,n.updateSelection(s,s,!0))},n.onDragEnd=function(){n.style.cursor="default",document.removeEventListener("mousemove",n.onDragging),document.removeEventListener("touchmove",n.onDragging),document.removeEventListener("mouseup",n.onDragEnd),document.removeEventListener("touchend",n.onDragEnd)},n}return zO(e,t),Object.defineProperty(e.prototype,"handleOffsetRatio",{get:function(){return this.ifHorizontal(.5,.5)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var t=this.attributes,e=t.width,n=t.height;return new XI(0,0,e,n)},e.prototype.render=function(t,e){var n=this,r=t.showLabel;this.renderTitle(HT(e));var i=this.availableSpace,o=i.x,a=i.y,s=HT(e).maybeAppendByClassName(tB.contentGroup,"g").styles({x:o,y:a}),l=s.maybeAppendByClassName(tB.labelGroup,"g").styles({zIndex:1});DT(!!r,l,(function(t){n.renderLabel(t)}));var u=s.maybeAppendByClassName(tB.ribbonGroup,"g").styles({zIndex:0});this.handlesGroup=s.maybeAppendByClassName(tB.handlesGroup,"g").styles({zIndex:2}),this.renderHandles(),this.renderRibbon(u),this.renderIndicator(s),this.adjustLabel(),this.adjustHandles()},Object.defineProperty(e.prototype,"range",{get:function(){var t=this.attributes.data;return BB(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonScale",{get:function(){var t=this.range,e=t.min,n=t.max;return this.innerRibbonScale.update({domain:[e,n],range:[0,1]}),this.innerRibbonScale},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonRange",{get:function(){var t=VO(this.selection,2),e=t[0],n=t[1],r=this.ribbonScale;return[r.map(e),r.map(n)]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){var t=this.range,e=t.min,n=t.max,r=this.attributes.defaultValue,i=void 0===r?[e,n]:r,o=VO(i,2),a=o[0],s=o[1];return[a,s]},enumerable:!1,configurable:!0}),e.prototype.ifHorizontal=function(t,e){return zN(this.attributes.orientation,"function"===typeof t?t():t,"function"===typeof e?e():e)},e.prototype.renderTitle=function(t){var e=this.attributes,n=e.showTitle,r=e.titleText,i=e.width,o=e.height,a=$P(this.attributes,"title"),s=WO(WO({},a),{width:i,height:o,text:r}),l=this;t.selectAll(tB.title.class).data(n?[r]:[]).join((function(t){return t.append((function(){return new ej({style:s})})).attr("className",tB.title.name).each((function(){l.title=this}))}),(function(t){return t.update(s)}),(function(t){return t.each((function(){l.title=void 0})).remove()}))},Object.defineProperty(e.prototype,"availableSpace",{get:function(){if(this.title)return this.title.getAvailableSpace();var t=this.attributes,e=t.width,n=t.height;return new XI(0,0,e,n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelFixedSpacing",{get:function(){var t=this.attributes.showTick;return t?5:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelPosition",{get:function(){var t=this.attributes,e=t.orientation,n=t.labelDirection,r={vertical:{positive:"right",negative:"left"},horizontal:{positive:"bottom",negative:"top"}};return r[e][n]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelBBox",{get:function(){var t,e=this.attributes.showLabel;if(!e)return new XI(0,0,0,0);if(this.cacheLabelBBox)return this.cacheLabelBBox;var n=(null===(t=this.label.querySelector(MP.labelGroup.class))||void 0===t?void 0:t.children.slice(-1)[0]).getBBox(),r=n.width,i=n.height;return this.cacheLabelBBox=new XI(0,0,r,i),this.cacheLabelBBox},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelShape",{get:function(){var t=this.attributes,e=t.showLabel,n=t.labelSpacing,r=void 0===n?0:n;if(!e)return{width:0,height:0,size:0,length:0};var i=this.labelBBox,o=i.width,a=i.height,s=this.ifHorizontal(a,o)+r+this.labelFixedSpacing,l=this.ifHorizontal(o,a);return{width:o,height:a,size:s,length:l}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonBBox",{get:function(){var t=this.attributes,e=t.showHandle,n=t.ribbonSize,r=this.availableSpace,i=r.width,o=r.height,a=this.labelShape,s=a.size,l=a.length,u=VO(this.ifHorizontal([o,i],[i,o]),2),c=u[0],f=u[1],h=e?this.handleShape:{size:0,length:0},d=h.size,p=h.length,v=this.handleOffsetRatio,g=0,y=this.labelPosition;g=n||(["bottom","right"].includes(y)?Math.min(c-s,(c-d)/v):c*(1-v)>d?Math.max(c-s,0):Math.max((c-s-d)/v,0));var m=Math.max(p,l),b=f-m,x=VO(this.ifHorizontal([b,g],[g,b]),2),w=x[0],_=x[1],O=["top","left"].includes(y)?s:0,C=VO(this.ifHorizontal([m/2,O],[O,m/2]),2),S=C[0],E=C[1];return new XI(S,E,w,_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonShape",{get:function(){var t=this.ribbonBBox,e=t.width,n=t.height;return this.ifHorizontal({size:n,length:e},{size:e,length:n})},enumerable:!1,configurable:!0}),e.prototype.renderRibbon=function(t){var e=this.attributes,n=e.data,r=e.type,i=e.orientation,o=e.color,a=e.block,s=$P(this.attributes,"ribbon"),l=this.range,u=l.min,c=l.max,f=this.ribbonBBox,h=f.x,d=f.y,p=this.ribbonShape,v=p.length,g=p.size,y=PT({x:h,y:d,length:v,size:g,type:r,orientation:i,color:o,block:a,partition:n.map((function(t){return(t.value-u)/(c-u)})),range:this.ribbonRange},s);this.ribbon=t.maybeAppendByClassName(tB.ribbon,(function(){return new TB({style:y})})).update(y)},e.prototype.getHandleClassName=function(t){return"".concat(tB.prefix("".concat(t,"-handle")))},e.prototype.renderHandles=function(){var t=this.attributes,e=t.showHandle,n=t.orientation,r=$P(this.attributes,"handle"),i=VO(this.selection,2),o=i[0],a=i[1],s=WO(WO({},r),{orientation:n}),l=r.shape,u=void 0===l?"slider":l,c="basic"===u?XN:NB,f=this;this.handlesGroup.selectAll(tB.handle.class).data(e?[{value:o,type:"start"},{value:a,type:"end"}]:[],(function(t){return t.type})).join((function(t){return t.append((function(){return new c({style:s})})).attr("className",(function(t){var e=t.type;return"".concat(tB.handle," ").concat(f.getHandleClassName(e))})).each((function(t){var e=t.type,n=t.value;this.update({labelText:n});var r="".concat(e,"Handle");f[r]=this,this.addEventListener("pointerdown",f.onDragStart(e))}))}),(function(t){return t.update(s).each((function(t){var e=t.value;this.update({labelText:e})}))}),(function(t){return t.each((function(t){var e=t.type,n="".concat(e,"Handle");f[n]=void 0})).remove()}))},e.prototype.adjustHandles=function(){var t=VO(this.selection,2),e=t[0],n=t[1];this.setHandlePosition("start",e),this.setHandlePosition("end",n)},e.prototype.adjustTitle=function(){var t=this.attributes,e=t.titlePosition,n=t.orientation,r=VO(this.getElementsByClassName(tB.title.name),1),i=r[0],o=this.handlesGroup.select(".".concat(this.getHandleClassName("start"))).node();if(i&&o&&"top-left"===e&&"horizontal"===n){var a=VO(o.getLocalBounds().min,1),s=a[0],l=VO(i.getLocalBounds().min,1),u=l[0],c=s-u;i.style.x=+(this.style.x||0)+c}},Object.defineProperty(e.prototype,"handleBBox",{get:function(){if(this.cacheHandleBBox)return this.cacheHandleBBox;if(!this.attributes.showHandle)return new XI(0,0,0,0);var t=this.startHandle.getBBox(),e=t.width,n=t.height,r=this.endHandle.getBBox(),i=r.width,o=r.height,a=VO([Math.max(e,i),Math.max(n,o)],2),s=a[0],l=a[1];return this.cacheHandleBBox=new XI(0,0,s,l),this.cacheHandleBBox},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"handleShape",{get:function(){var t=this.handleBBox,e=t.width,n=t.height,r=VO(this.ifHorizontal([n,e],[e,n]),2),i=r[0],o=r[1];return{width:e,height:n,size:i,length:o}},enumerable:!1,configurable:!0}),e.prototype.setHandlePosition=function(t,e){var n=this.attributes.handleFormatter,r=this.ribbonBBox,i=r.x,o=r.y,a=this.ribbonShape.size,s=this.getOffset(e),l=VO(this.ifHorizontal([i+s,o+a*this.handleOffsetRatio],[i+a*this.handleOffsetRatio,o+s]),2),u=l[0],c=l[1],f=this.handlesGroup.select(".".concat(this.getHandleClassName(t))).node();null===f||void 0===f||f.update({x:u,y:c,formatter:n})},e.prototype.renderIndicator=function(t){var e=$P(this.attributes,"indicator");this.indicator=t.maybeAppendByClassName(tB.indicator,(function(){return new yB({})})).update(e)},Object.defineProperty(e.prototype,"labelData",{get:function(){var t=this,e=this.attributes.data;return e.reduce((function(e,n,r,i){var o,a,s=null!==(o=null===n||void 0===n?void 0:n.id)&&void 0!==o?o:r.toString();if(e.push(WO(WO({},n),{id:s,index:r,type:"value",label:null!==(a=null===n||void 0===n?void 0:n.label)&&void 0!==a?a:n.value.toString(),value:t.ribbonScale.map(n.value)})),r<i.length-1){var l=i[r+1],u=VO([n.value,l.value],2),c=u[0],f=u[1],h=(c+f)/2;e.push(WO(WO({},n),{id:s,index:r,type:"range",range:[c,f],label:[c,f].join("~"),value:t.ribbonScale.map(h)}))}return e}),[])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelStyle",{get:function(){var t=VO(["center","middle"],2),e=t[0],n=t[1],r=this.labelPosition;return"top"===r?n="bottom":"bottom"===r?n="top":"left"===r?e="end":"right"===r&&(e="start"),{labelTextAlign:e,labelTextBaseline:n}},enumerable:!1,configurable:!0}),e.prototype.renderLabel=function(t){var e=this.attributes,n=e.showTick,r=void 0!==n&&n,i=e.labelFilter,o=e.labelFormatter,a=$P(this.attributes,"tick"),s=$P(this.attributes,"label"),l=s.align,u=PT(WO({showLine:!1,showGrid:!1,showTick:r,type:"linear",startPos:[0,0],endPos:[0,0],tickDirection:"negative",labelTransform:"rotate(0)"},this.labelStyle),GP(a,"tick"),GP(s,"label"),{data:this.labelData}),c={tickFilter:function(t,e,n){return"value"===(null===t||void 0===t?void 0:t.type)&&(!i||i(t,t.index,n.filter((function(t){return"value"!==t.type}))))},labelFilter:function(t,e,n){return(null===t||void 0===t?void 0:t.type)===l&&(!i||i(t,t.index,n.filter((function(t){return t.type===l}))))},labelFormatter:o},f=WO(WO(WO({},u),c),{labelOverlap:[{type:"hide"}]});this.label=t.maybeAppendByClassName(tB.label,(function(){return new sj({style:f})})).node(),this.label.update(f,!1)},Object.defineProperty(e.prototype,"labelAxisStyle",{get:function(){var t=this.attributes,e=t.showTick,n=t.labelDirection,r=t.labelSpacing,i=t.tickLength,o=this.ribbonShape.size,a=this.labelPosition,s=this.labelFixedSpacing,l=VO([0,0,0],3),u=l[0],c=(l[1],l[2]),f=null!==i&&void 0!==i?i:o;return e?(c=f,s,"positive"===n?"right"===a?(u=f,c=f):"bottom"===a&&(u=c):"negative"===n&&("top"===a||"left"===a)&&(u=o)):"positive"===n?"right"===a?f:"bottom"===a&&(u=o+s,r):"negative"===n&&("left"===a||"top"===a)&&r,{offset:u,spacing:r,tickLength:c}},enumerable:!1,configurable:!0}),e.prototype.adjustLabel=function(){var t=this.attributes.showLabel;if(t){var e=this.ribbonBBox,n=e.x,r=e.y,i=e.width,o=e.height,a=this.labelAxisStyle,s=a.offset,l=a.spacing,u=a.tickLength,c=VO(this.ifHorizontal([[n,r+s],[n+i,r+s]],[[n+s,r+o],[n+s,r]]),2),f=c[0],h=c[1];this.label.update({startPos:f,endPos:h,tickLength:u,labelSpacing:l},!1)}},e.prototype.bindEvents=function(){this.ribbon.on("pointerdown",this.onDragStart("ribbon")),this.ribbon.on("pointermove",this.onHovering),this.addEventListener("pointerout",this.hideIndicator)},e.prototype.showIndicator=function(t,e){void 0===e&&(e="".concat(t));var n=this.attributes.showIndicator;if(n&&"number"===typeof t){var r=this.range,i=r.min,o=r.max,a=this.ribbonBBox,s=a.x,l=a.y,u=xe(t,i,o),c=this.getOffset(u),f=this.ifHorizontal([c+s,l],[s,c+l]);this.indicator.update({x:f[0],y:f[1],position:this.ifHorizontal("top","left"),labelText:e}),MT(this.indicator.node())}else this.hideIndicator()},e.prototype.hideIndicator=function(){kT(this.indicator.node())},e.prototype.updateMouse=function(){this.attributes.slidable&&(this.style.cursor="grabbing")},e.prototype.setSelection=function(t,e){this.updateSelection(t,e)},e.prototype.updateSelection=function(t,e,n){var r;void 0===n&&(n=!1);var i=VO(this.selection,2),o=i[0],a=i[1],s=VO([t,e],2),l=s[0],u=s[1];n&&(l+=o,u+=a);var c=this.range,f=c.min,h=c.max;r=VO(FN([f,h],[l,u],this.selection),2),l=r[0],u=r[1],this.update({defaultValue:[l,u]}),this.dispatchSelection()},Object.defineProperty(e.prototype,"step",{get:function(){var t=this.attributes.step,e=void 0===t?1:t,n=this.range,r=n.min,i=n.max;return An(e)?PN((i-r)*JN,0):e},enumerable:!1,configurable:!0}),e.prototype.getTickValue=function(t){var e=this.attributes,n=e.data,r=e.block,i=this.range.min;return r?xB(n.map((function(t){var e=t.value;return e})),t).tick:RN(t,this.step,i)},e.prototype.getValueByCanvasPoint=function(t,e){void 0===e&&(e=!1);var n=this.range,r=n.min,i=n.max,o=VO(this.ribbon.node().getPosition(),2),a=o[0],s=o[1],l=this.ifHorizontal(a,s),u=this.ifHorizontal.apply(this,YO([],VO(pB(t)),!1)),c=u-l,f=xe(this.getOffset(c,!0),r,i);return f},e.prototype.getOffset=function(t,e){void 0===e&&(e=!1);var n=this.range,r=n.min,i=n.max,o=this.ribbonShape.length,a=this.eventToOffsetScale;return a.update({domain:[r,i],range:[0,o]}),e?a.invert(t):a.map(t)},e.prototype.dispatchSelection=function(){var t=new Sl("valuechange",{detail:{value:this.selection}});this.dispatchEvent(t)},e.prototype.dispatchIndicated=function(t,e){var n=new Sl("indicate",{detail:{value:t,range:e}});this.dispatchEvent(n)},e}(BT),FB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function zB(t,e,n){return t.size=e,qj(n)?t.height=e:t.width=e,t}function WB(t,e,n){const{size:r,crossPadding:i=0}=e,o=Kj(t,e,n),a=r-2*i;return zB(o,a,o.orientation)}function HB(t){return e=>({value:e/t,label:String(e)})}function $B(t,e,n,r,i){const o=e.thresholds,a=HB(r);return Object.assign(Object.assign({},t),{color:i,data:[n,...o,r].map(a)})}function GB(t,e,n){const r=e.thresholds,i=[-1/0,...r,1/0].map(((t,e)=>({value:e,label:t})));return Object.assign(Object.assign({},t),{data:i,color:n,labelFilter:(t,e)=>e>0&&e<i.length-1})}function VB(t){const{domain:e}=t.getOptions(),[n,r]=[e[0],QS(e)];return[n,r]}function UB(t,e){const n=t.getOptions(),r=t.clone();return r.update(Object.assign(Object.assign({},n),{range:[zo(e).toString()]})),r}function YB(t,e,n,r,i,o){const{length:a}=t,s=n||r,l=i.color?o.legendContinuous.ribbonFill||"black":o.defaultColor,u=e||UB(s,l),[c,f]=VB(u);return Object.assign(Object.assign({},t),{data:u.getTicks().map((t=>({value:t}))),color:new Array(a).fill(0).map(((t,e)=>{const n=(f-c)/(a-1)*e+c,i=u.map(n),o=r?r.map(n):1;return i.replace(/rgb[a]*\(([\d]{1,3}) *, *([\d]{1,3}) *, *([\d]{1,3})[\S\s]*\)/,((t,e,n,r)=>`rgba(${e}, ${n}, ${r}, ${o})`))}))})}function qB(t,e,n,r,i,o){const a=Yj(t,"color"),s=WB(n,r,i);if(a instanceof nS){const{range:t}=a.getOptions(),[e,n]=VB(a);return a instanceof aS||a instanceof uS?$B(s,a,e,n,t):GB(s,a,t)}const l=Yj(t,"size"),u=Yj(t,"opacity");return YB(s,a,l,u,e,o)}const XB=t=>{const{labelFormatter:e,layout:n,order:r,orientation:i,position:o,size:a,title:s,style:l,crossPadding:u,padding:c}=t,f=FB(t,["labelFormatter","layout","order","orientation","position","size","title","style","crossPadding","padding"]);return({scales:r,value:i,theme:a,scale:u})=>{const{bbox:c}=i,{x:h,y:d,width:p,height:v}=c,g=Gj(o,n),{legendContinuous:y={}}=a,m=Qj(Object.assign({},y,Object.assign(Object.assign({titleText:$j(s),labelAlign:"value",labelFormatter:"string"===typeof e?t=>kj(e)(t.label):e},qB(r,u,i,t,XB,a)),l),f)),b=new Vj({style:Object.assign(Object.assign({x:h,y:d,width:p,height:v},g),{subOptions:m})});return b.appendChild(new DB({style:m})),b}};XB.props={defaultPosition:"top",defaultOrientation:"vertical",defaultOrder:1,defaultSize:60,defaultLength:200,defaultLegendSize:60,defaultPadding:[20,10],defaultCrossPadding:[5,10]};const KB=t=>(...e)=>XB(Object.assign({},{block:!0},t))(...e);KB.props=Object.assign(Object.assign({},XB.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const ZB=t=>e=>{const{scales:n}=e,r=Yj(n,"size");return XB(Object.assign({},{type:"size",data:r.getTicks().map(((t,e)=>({value:t,label:String(t)})))},t))(e)};ZB.props=Object.assign(Object.assign({},XB.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const QB=t=>ZB(Object.assign({},{block:!0},t));QB.props=Object.assign(Object.assign({},XB.props),{defaultPosition:"top",defaultOrientation:"horizontal"});var JB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function tD(t,e,n,r){switch(r){case"center":return{x:t+n/2,y:e,textAlign:"middle"};case"right":return{x:t+n,y:e,textAlign:"right"};default:return{x:t,y:e,textAlign:"left"}}}const eD=Wj({render(t,e){const{x:n,y:r,width:i,title:o,subtitle:a}=t,s=t.style,{spacing:l=2,align:u="left"}=s,c=JB(s,["spacing","align"]),f=Gg(c,"title"),h=Gg(c,"subtitle"),d=Hj(e,".title","text").attr("className","title").call(fE,Object.assign(Object.assign(Object.assign({},tD(0,r,i,u)),{fontSize:14,textBaseline:"top",text:o}),f)).node(),p=d.getLocalBounds();Hj(e,".sub-title","text").attr("className","sub-title").call((t=>{if(!a)return t.node().remove();t.node().attr(Object.assign(Object.assign(Object.assign({},tD(0,p.max[1]+l,i,u)),{fontSize:12,textBaseline:"top",text:a}),h))}))}}),nD=t=>({value:e,theme:n})=>{const{x:r,y:i,width:o,height:a}=e.bbox;return new eD({style:Bd({},{style:n.title},Object.assign({x:r,y:i,width:o,height:a},t))})};nD.props={defaultPosition:"top",defaultOrder:2,defaultSize:36};var rD=function(t){if("object"!==typeof t||null===t)return t;var e;if(tn(t)){e=[];for(var n=0,r=t.length;n<r;n++)"object"===typeof t[n]&&null!=t[n]?e[n]=rD(t[n]):e[n]=t[n]}else for(var i in e={},t)"object"===typeof t[i]&&null!=t[i]?e[i]=rD(t[i]):e[i]=t[i];return e},iD=rD,oD=function(t){function e(e){var n=this,r=e.style,i=HO(e,["style"]);return n=t.call(this,Bd({},{type:"column"},WO({style:r},i)))||this,n.columnsGroup=new _u({name:"columns"}),n.appendChild(n.columnsGroup),n.render(),n}return zO(e,t),e.prototype.render=function(){var t=this.attributes.columns;HT(this.columnsGroup).selectAll(".column").data(t.flat()).join((function(t){return t.append("rect").attr("className","column").each((function(t){this.attr(t)}))}),(function(t){return t.each((function(t){this.attr(t)}))}),(function(t){return t.remove()}))},e.prototype.update=function(t){this.attr(PT({},this.attributes,t)),this.render()},e.prototype.clear=function(){this.removeChildren()},e}(yu),aD=function(t){function e(e){var n=this,r=e.style,i=HO(e,["style"]);return n=t.call(this,Bd({},{type:"lines"},WO({style:r},i)))||this,n.linesGroup=n.appendChild(new _u),n.areasGroup=n.appendChild(new _u),n.render(),n}return zO(e,t),e.prototype.render=function(){var t=this.attributes,e=t.lines,n=t.areas;e&&this.renderLines(e),n&&this.renderAreas(n)},e.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},e.prototype.update=function(t){this.attr(PT({},this.attributes,t)),this.render()},e.prototype.renderLines=function(t){HT(this.linesGroup).selectAll(".line").data(t).join((function(t){return t.append("path").attr("className","line").each((function(t){this.attr(t)}))}),(function(t){return t.each((function(t){this.attr(t)}))}),(function(t){return t.remove()}))},e.prototype.renderAreas=function(t){HT(this.linesGroup).selectAll(".area").data(t).join((function(t){return t.append("path").attr("className","area").each((function(t){this.attr(t)}))}),(function(t){return t.each((function(t){this.style(t)}))}),(function(t){return t.remove()}))},e}(yu),sD=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(me(t)||me(e))return!1;if(rB(t)||rB(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length;r++)if(n=sD(t[r],e[r]),!n)break;return n}if(Ad(t)||Ad(e)){var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(n=!0,r=0;r<i.length;r++)if(n=sD(t[i[r]],e[i[r]]),!n)break;return n}return!1},lD=sD;function uD(t,e,n,r){var i,o,a,s,l,u,c=[],f=!!r,h=[1/0,1/0],d=[-1/0,-1/0];if(f){i=VO(r,2),h=i[0],d=i[1];for(var p=0,v=t.length;p<v;p+=1){var g=t[p];h=LP(h,g),d=PP(d,g)}}p=0;for(var y=t.length;p<y;p+=1){g=t[p];if(0!==p||n)if(p!==y-1||n){var m=[p?p-1:y-1,p-1][n?0:1];o=t[m],a=t[n?(p+1)%y:p+1];var b=[0,0];b=AP(a,o),b=kP(b,e);var x=RP(g,o),w=RP(g,a),_=x+w;0!==_&&(x/=_,w/=_);var O=kP(b,-x),C=kP(b,w);l=TP(g,O),s=TP(g,C),s=LP(s,PP(a,g)),s=PP(s,LP(a,g)),O=AP(s,g),O=kP(O,-x/w),l=TP(g,O),l=LP(l,PP(o,g)),l=PP(l,LP(o,g)),C=AP(g,l),C=kP(C,w/x),s=TP(g,C),f&&(l=PP(l,h),l=LP(l,d),s=PP(s,h),s=LP(s,d)),c.push(u),c.push(l),u=s}else l=g,c.push(u),c.push(l);else u=g}return n&&c.push(c.shift()),c}function cD(t,e,n){var r;void 0===e&&(e=!1),void 0===n&&(n=[[0,0],[1,1]]);for(var i=!!e,o=[],a=0,s=t.length;a<s;a+=2)o.push([t[a],t[a+1]]);var l,u,c,f=uD(o,.4,i,n),h=o.length,d=[];for(a=0;a<h-1;a+=1)l=f[2*a],u=f[2*a+1],c=o[a+1],d.push(["C",l[0],l[1],u[0],u[1],c[0],c[1]]);return i&&(l=f[h],u=f[h+1],r=VO(o,1),c=r[0],d.push(["C",l[0],l[1],u[0],u[1],c[0],c[1]])),d}function fD(t,e){var n,r=e.x,i=e.y,o=VO(i.getOptions().range||[0,0],2),a=o[0],s=o[1];return s>a&&(n=VO([a,s],2),s=n[0],a=n[1]),t.map((function(t){var e=t.map((function(t,e){return[r.map(e),xe(i.map(t),s,a)]}));return e}))}function hD(t,e){void 0===e&&(e=!1);var n=e?t.length-1:0,r=t.map((function(t,e){return YO([e===n?"M":"L"],VO(t),!1)}));return e?r.reverse():r}function dD(t,e){if(void 0===e&&(e=!1),t.length<=2)return hD(t);for(var n=[],r=t.length,i=0;i<r;i+=1){var o=e?t[r-i-1]:t[i];lD(o,n.slice(-2))||n.push.apply(n,YO([],VO(o),!1))}var a=cD(n,!1);return e?a.unshift(YO(["M"],VO(t[r-1]),!1)):a.unshift(YO(["M"],VO(t[0]),!1)),a}function pD(t,e,n){var r=iD(t);return r.push(["L",e,n],["L",0,n],["Z"]),r}function vD(t,e,n,r){return t.map((function(t){return pD(e?dD(t):hD(t),n,r)}))}function gD(t,e,n){for(var r=[],i=t.length-1;i>=0;i-=1){var o=t[i],a=hD(o),s=void 0;if(0===i)s=pD(a,e,n);else{var l=t[i-1],u=hD(l,!0);u[0][0]="L",s=YO(YO(YO([],VO(a),!1),VO(u),!1),[["Z"]],!1)}r.push(s)}return r}function yD(t,e,n){for(var r=[],i=t.length-1;i>=0;i-=1){var o=t[i],a=dD(o),s=void 0;if(0===i)s=pD(a,e,n);else{var l=t[i-1],u=dD(l,!0),c=o[0];u[0][0]="L",s=YO(YO(YO([],VO(a),!1),VO(u),!1),[YO(["M"],VO(c),!1),["Z"]],!1)}r.push(s)}return r}var mD=function(t,e){if(tn(t)){for(var n,r=1/0,i=0;i<t.length;i++){var o=t[i],a=ST(e)?e(o):o[e];a<r&&(n=o,r=a)}return n}},bD=function(t,e){if(tn(t)){for(var n,r=-1/0,i=0;i<t.length;i++){var o=t[i],a=ST(e)?e(o):o[e];a>r&&(n=o,r=a)}return n}};function xD(t){return 0===t.length?[0,0]:[en(mD(t,(function(t){return en(t)||0}))),nn(bD(t,(function(t){return nn(t)||0})))]}function wD(t){for(var e=iD(t),n=e[0].length,r=VO([Array(n).fill(0),Array(n).fill(0)],2),i=r[0],o=r[1],a=0;a<e.length;a+=1)for(var s=e[a],l=0;l<n;l+=1)s[l]>=0?(s[l]+=i[l],i[l]=s[l]):(s[l]+=o[l],o[l]=s[l]);return e}var _D=function(t){function e(e){return t.call(this,e,{type:"line",width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff"})||this}return zO(e,t),Object.defineProperty(e.prototype,"rawData",{get:function(){var t=this.attributes.data;if(!t||0===(null===t||void 0===t?void 0:t.length))return[[]];var e=iD(t);return pe(e[0])?[e]:e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.attributes.isStack?wD(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseline",{get:function(){var t=this.scales.y,e=VO(t.getOptions().domain||[0,0],2),n=e[0],r=e[1];return r<0?t.map(r):t.map(n<0?0:n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerShape",{get:function(){var t=this.attributes,e=t.width,n=t.height;return{width:e,height:n}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linesStyle",{get:function(){var t=this,e=this.attributes,n=e.type,r=e.isStack,i=e.smooth;if("line"!==n)throw new Error("linesStyle can only be used in line type");var o=$P(this.attributes,"area"),a=$P(this.attributes,"line"),s=this.containerShape.width,l=this.data;if(0===l[0].length)return{lines:[],areas:[]};var u=this.scales,c=u.x,f=u.y,h=fD(l,{type:"line",x:c,y:f}),d=[];if(o){var p=this.baseline;d=r?i?yD(h,s,p):gD(h,s,p):vD(h,i,s,p)}return{lines:h.map((function(e,n){return WO({stroke:t.getColor(n),path:i?dD(e):hD(e)},a)})),areas:d.map((function(e,n){return WO({path:e,fill:t.getColor(n)},o)}))}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columnsStyle",{get:function(){var t=this,e=$P(this.attributes,"column"),n=this.attributes,r=n.isStack,i=n.type;if("column"!==i)throw new Error("columnsStyle can only be used in column type");var o=this.containerShape.height,a=this.rawData;if(!a)return{columns:[]};r&&(a=wD(a));var s=this.createScales(a),l=s.x,u=s.y,c=VO(xD(a),2),f=c[0],h=c[1],d=new XC({domain:[0,h-(f>0?0:f)],range:[0,o]}),p=l.getBandWidth(),v=this.rawData;return{columns:a.map((function(n,i){return n.map((function(n,o){var s=p/a.length;return WO(WO({fill:t.getColor(i)},e),r?{x:l.map(o),y:u.map(n),width:p,height:d.map(v[i][o])}:{x:l.map(o)+s*i,y:n>=0?u.map(n):u.map(0),width:s,height:d.map(Math.abs(n))})}))}))}},enumerable:!1,configurable:!0}),e.prototype.render=function(t,e){this.container=$T(e,".container","rect").attr("className","container").node();var n=t.type,r="spark".concat(n),i="line"===n?this.linesStyle:this.columnsStyle;this.spark=$T(e,".".concat(r),(function(){return"line"===n?new aD({className:r,style:i}):new oD({className:r,style:i})})).styles(i).node()},e.prototype.getColor=function(t){var e=this.attributes.color;return tn(e)?e[t%e.length]:ST(e)?e.call(null,t):e},e.prototype.createScales=function(t){var e,n,r=this.attributes,i=r.type,o=r.range,a=void 0===o?[]:o,s=r.isGroup,l=r.spacing,u=this.containerShape,c=u.width,f=u.height,h=VO(xD(t),2),d=h[0],p=h[1],v=new XC({domain:[null!==(e=a[0])&&void 0!==e?e:d,null!==(n=a[1])&&void 0!==n?n:p],range:[f,0]});return"line"===i?{type:i,x:new XC({domain:[0,t[0].length-1],range:[0,c]}),y:v}:{type:i,x:new kC({domain:t[0].map((function(t,e){return e})),range:[0,c],paddingInner:s?l:0}),y:v}},e.tag="sparkline",e}(BT),OD=function(t){function e(e){var n=t.call(this,e,WO(WO(WO({animate:{duration:100,fill:"both"},brushable:!0,formatter:function(t){return t.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionCursor:"move",selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1]},GP(PB,"handle")),GP(AB,"handleIcon")),GP(LB,"handleLabel")))||this;return n.range=[0,1],n.onDragStart=function(t){return function(e){e.stopPropagation(),n.target=t,n.prevPos=n.getOrientVal(pB(e));var r=n.availableSpace,i=r.x,o=r.y,a=n.attributes,s=a.x,l=a.y;n.selectionStartPos=n.getRatio(n.prevPos-n.getOrientVal([i,o])-n.getOrientVal([+s,+l])),n.selectionWidth=0,document.addEventListener("mousemove",n.onDragging),document.addEventListener("touchmove",n.onDragging),document.addEventListener("mouseup",n.onDragEnd),document.addEventListener("touchend",n.onDragEnd)}},n.onDragging=function(t){var e=n.attributes,r=e.slidable,i=e.brushable;t.stopPropagation();var o=n.getOrientVal(pB(t)),a=o-n.prevPos;if(a){var s=n.getRatio(a);switch(n.target){case"start":r&&n.setValuesOffset(s);break;case"end":r&&n.setValuesOffset(0,s);break;case"selection":r&&n.setValuesOffset(s,s);break;case"track":if(!i)return;n.selectionWidth+=s,n.innerSetValues([n.selectionStartPos,n.selectionStartPos+n.selectionWidth].sort(),!0);break;default:break}n.prevPos=o}},n.onDragEnd=function(){document.removeEventListener("mousemove",n.onDragging),document.removeEventListener("mousemove",n.onDragging),document.removeEventListener("mouseup",n.onDragEnd),document.removeEventListener("touchend",n.onDragEnd)},n.onValueChange=function(t){var e=new Sl("valuechange",{detail:{oldValue:t,value:n.getValues()}});n.dispatchEvent(e)},n.selectionStartPos=0,n.selectionWidth=0,n.prevPos=0,n.target="",n}return zO(e,t),Object.defineProperty(e.prototype,"values",{get:function(){return this.attributes.values},set:function(t){this.attributes.values=this.clampValues(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sparklineStyle",{get:function(){var t=this.attributes.orientation;if("horizontal"!==t)return null;var e=$P(this.attributes,"sparkline");return WO(WO({zIndex:0},this.availableSpace),e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){var t=this.attributes,e=t.trackLength,n=t.trackSize,r=VO(this.getOrientVal([[e,n],[n,e]]),2),i=r[0],o=r[1];return{width:i,height:o}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"availableSpace",{get:function(){var t=this.attributes.padding,e=VO(tI(t),4),n=e[0],r=e[1],i=e[2],o=e[3],a=this.shape,s=a.width,l=a.height;return{x:o,y:n,width:s-(o+r),height:l-(n+i)}},enumerable:!1,configurable:!0}),e.prototype.getValues=function(){return this.values},e.prototype.setValues=function(t,e){void 0===t&&(t=[0,0]),void 0===e&&(e=!1),this.attributes.values=t;var n=!1!==e&&this.attributes.animate;OP(this.selectionShape.node(),this.selectionStyle,n),this.updateHandlesPosition(n)},e.prototype.updateHandlesPosition=function(t){this.attributes.showHandle&&(OP(this.startHandle,this.getHandleStyle("start"),t),OP(this.endHandle,this.getHandleStyle("end"),t))},e.prototype.innerSetValues=function(t,e){void 0===t&&(t=[0,0]),void 0===e&&(e=!1);var n=this.values,r=this.clampValues(t);this.attr("values",r),this.setValues(r),e&&this.onValueChange(n)},e.prototype.renderTrack=function(t){var e=this.attributes.brushable,n=$P(this.attributes,"track");this.trackShape=HT(t).maybeAppendByClassName(RB.track,"rect").styles(WO(WO({cursor:e?"crosshair":"default"},this.shape),n))},e.prototype.renderSparkline=function(t){var e=this,n=this.attributes.orientation,r=HT(t).maybeAppendByClassName(RB.sparklineGroup,"g");DT("horizontal"===n,r,(function(t){var n=e.sparklineStyle;t.maybeAppendByClassName(RB.sparkline,(function(){return new _D({style:n})})).update(n)}))},Object.defineProperty(e.prototype,"selectionStyle",{get:function(){var t=$P(this.attributes,"selection");return WO(WO({},t),this.calcMask())},enumerable:!1,configurable:!0}),e.prototype.renderHandles=function(){var t,e=this,n=this.attributes.showHandle,r=(n?["start","end"]:[]).map((function(t){return{type:t}})),i=this;null===(t=this.foregroundGroup)||void 0===t||t.selectAll(RB.handle.class).data(r,(function(t){return t.type})).join((function(t){return t.append((function(t){var n=t.type;return new NB({style:e.getHandleStyle(n)})})).each((function(t){var e=t.type;this.attr("class","".concat(RB.handle.name," ").concat(e,"-handle"));var n="".concat(e,"Handle");i[n]=this,this.addEventListener("pointerdown",(function(t){i.onDragStart(e)(t)}))}))}),(function(t){return t.each((function(t){var e=t.type;this.update(i.getHandleStyle(e))}))}),(function(t){return t.each((function(t){var e=t.type,n="".concat(e,"Handle");i[n]=void 0})).remove()}))},e.prototype.renderSelection=function(t){this.foregroundGroup=HT(t).maybeAppendByClassName(RB.foreground,"g"),this.selectionShape=this.foregroundGroup.maybeAppendByClassName(RB.selection,"rect").styles(this.selectionStyle),this.renderHandles()},e.prototype.render=function(t,e){this.renderTrack(e),this.renderSparkline(e),this.renderSelection(e)},e.prototype.clampValues=function(t,e){var n;void 0===e&&(e=4);var r=VO(this.range,2),i=r[0],o=r[1],a=VO(this.getValues().map((function(t){return PN(t,e)})),2),s=a[0],l=a[1],u=VO((t||[s,l]).map((function(t){return PN(t,e)})),2),c=u[0],f=u[1];c>f&&(n=VO([f,c],2),c=n[0],f=n[1]);var h=f-c;return h>o-i?[i,o]:c<i?s===i&&l===f?[i,f]:[i,h+i]:f>o?l===o&&s===c?[c,o]:[o-h,o]:[c,f]},e.prototype.calcMask=function(t){var e=VO(this.clampValues(t),2),n=e[0],r=e[1],i=this.availableSpace,o=i.x,a=i.y,s=i.width,l=i.height;return this.getOrientVal([{y:a,height:l,x:n*s+o,width:(r-n)*s},{x:o,width:s,y:n*l+a,height:(r-n)*l}])},e.prototype.calcHandlePosition=function(t){var e=this.availableSpace,n=e.x,r=e.y,i=e.width,o=e.height,a=VO(this.clampValues(),2),s=a[0],l=a[1],u=("start"===t?s:l)*this.getOrientVal([i,o]);return{x:n+this.getOrientVal([u,i/2]),y:r+this.getOrientVal([o/2,u])}},e.prototype.inferTextStyle=function(t){var e=this.attributes.orientation;return"horizontal"===e?{}:"start"===t?{transform:"rotate(90)",textAlign:"start"}:"end"===t?{transform:"rotate(90)",textAlign:"end"}:{}},e.prototype.calcHandleText=function(t){var e,n=this.attributes,r=n.orientation,i=n.formatter,o=n.autoFitLabel,a=$P(this.attributes,"handle"),s=$P(a,"label"),l=a.spacing,u=this.getHandleSize(),c=this.clampValues(),f="start"===t?c[0]:c[1],h=i(f),d=new FT({style:WO(WO(WO({},s),this.inferTextStyle(t)),{text:h})}),p=d.getBBox(),v=p.width,g=p.height;if(d.destroy(),!o){var y=l+u+("horizontal"===r?v/2:0);return e={text:h},e["horizontal"===r?"x":"y"]="start"===t?-y:y,e}var m=0,b=0,x=this.availableSpace,w=x.width,_=x.height,O=this.calcMask(),C=O.x,S=O.y,E=O.width,M=O.height,k=l+u;if("horizontal"===r){var T=k+v/2;if("start"===t){var A=C-k-v;m=A>0?-T:T}else{var L=w-C-E-k>v;m=L?T:-T}}else{var P=k,R=g+k;b="start"===t?S-u>g?-R:P:_-(S+M)-u>g?R:-P}return{x:m,y:b,text:h}},e.prototype.getHandleLabelStyle=function(t){var e=this.attributes.showLabel;if(!e)return{};var n=$P(this.attributes,"handleLabel");return WO(WO(WO({},n),this.calcHandleText(t)),this.inferTextStyle(t))},e.prototype.getHandleIconStyle=function(){var t=this.attributes.handleIconShape,e=$P(this.attributes,"handleIcon"),n=this.getOrientVal(["ew-resize","ns-resize"]),r=this.getHandleSize();return WO({cursor:n,shape:t,size:r},e)},e.prototype.getHandleStyle=function(t){var e=this.attributes,n=e.showLabel,r=e.orientation,i=this.calcHandlePosition(t),o=this.calcHandleText(t);return WO(WO(WO(WO({},GP(this.getHandleIconStyle(),"icon")),GP(WO(WO({},this.getHandleLabelStyle(t)),o),"label")),i),{orientation:r,showLabel:n,type:t,zIndex:3})},e.prototype.getHandleSize=function(){var t=this.attributes,e=t.handleIconSize,n=t.width,r=t.height;return e||Math.floor((this.getOrientVal([+r,+n])+4)/2.4)},e.prototype.getOrientVal=function(t){var e=VO(t,2),n=e[0],r=e[1],i=this.attributes.orientation;return"horizontal"===i?n:r},e.prototype.setValuesOffset=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=!1);var r=VO(this.getValues(),2),i=r[0],o=r[1],a=[i+t,o+e].sort();n?this.setValues(a):this.innerSetValues(a,!0)},e.prototype.getRatio=function(t){var e=this.availableSpace,n=e.width,r=e.height;return t/this.getOrientVal([n,r])},e.prototype.dispatchCustomEvent=function(t,e,n){var r=this;t.on(e,(function(t){t.stopPropagation(),r.dispatchEvent(new Sl(n,{detail:t}))}))},e.prototype.bindEvents=function(){var t=this.selectionShape;this.addEventListener("wheel",this.onScroll),t.on("mousedown",this.onDragStart("selection")),t.on("touchstart",this.onDragStart("selection")),this.dispatchCustomEvent(t,"mouseenter","selectionMouseenter"),this.dispatchCustomEvent(t,"mouseleave","selectionMouseleave"),this.dispatchCustomEvent(t,"click","selectionClick");var e=this.trackShape;this.dispatchCustomEvent(e,"click","trackClick"),this.dispatchCustomEvent(e,"mouseenter","trackMouseenter"),this.dispatchCustomEvent(e,"mouseleave","trackMouseleave"),e.on("mousedown",this.onDragStart("track")),e.on("touchstart",this.onDragStart("track"))},e.prototype.onScroll=function(t){var e=this.attributes.scrollable;if(e){var n=t.deltaX,r=t.deltaY,i=r||n,o=this.getRatio(i);this.setValuesOffset(o,o,!0)}},e.tag="slider",e}(BT);function CD(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function SD(t){let e,n,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}function o(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}function a(t,e,n=0,o=t.length){const a=i(t,e,n,o-1);return a>n&&r(t[a-1],e)>-r(t[a],e)?a-1:a}return 2!==t.length?(e=cm,n=(e,n)=>cm(t(e),n),r=(e,n)=>t(e)-n):(e=t===cm||t===CD?t:ED,n=t,r=t),{left:i,center:a,right:o}}function ED(){return 0}const MD=SD(cm),kD=MD.right,TD=MD.left,AD=SD(ym).center;var LD=kD;function PD(t,e,n){return Math.min(n,Math.max(e,t))}function RD(t){return t.getBandWidth}function ID(t,e,n){if(!RD(t))return t.invert(e);const{adjustedRange:r}=t,{domain:i}=t.getOptions(),o=n?-1:0,a=t.getStep(),s=n?r:r.map((t=>t+a)),l=TD(s,e),u=PD(l+o,0,i.length-1);return i[u]}function jD(t,e,n){if(!e)return t.getOptions().domain;if(!RD(t)){const r=hm(e);if(!n)return r;const[i]=r,{range:o}=t.getOptions(),[a,s]=o,l=a>s?-1:1,u=t.invert(t.map(i)+l*n);return[i,u]}const{domain:r}=t.getOptions(),i=e[0],o=r.indexOf(i);if(n){const t=o+Math.round(r.length*n);return r.slice(o,t)}const a=e[e.length-1],s=r.indexOf(a);return r.slice(o,s+1)}function ND(t,e,n,r,i,o){const{x:a,y:s}=i,l=(t,e)=>{const[n,r]=o.invert(t);return[ID(a,n,e),ID(s,r,e)]},u=l([t,e],!0),c=l([n,r],!1),f=jD(a,[u[0],c[0]]),h=jD(s,[u[1],c[1]]);return[f,h]}function BD(t,e){const[n,r]=t,i=t=>t.getStep?t.getStep():0;return[e.map(n),e.map(r)+i(e)]}function DD(t,e,n){const{x:r,y:i}=e,[o,a]=t,s=BD(o,r),l=BD(a,i),u=[s[0],l[0]],c=[s[1],l[1]],[f,h]=n.map(u),[d,p]=n.map(c);return[f,h,d,p]}var FD=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function zD(t,e,n){const{x:r,y:i,width:o,height:a}=t;return"left"===e?[r+o-n,i]:"right"===e||"bottom"===e?[r,i]:"top"===e?[r,i+a-n]:void 0}const WD=t=>{const{orientation:e,labelFormatter:n,size:r,style:i={},position:o}=t,a=FD(t,["orientation","labelFormatter","size","style","position"]);return({scales:[t],value:r,theme:s,coordinate:l})=>{var u;const{bbox:c}=r,{width:f,height:h}=c,{slider:d={}}=s,p=(null===(u=t.getFormatter)||void 0===u?void 0:u.call(t))||(t=>t.toString()),v="string"===typeof n?kj(n):n,g="horizontal"===e,y=pv(l)&&g,{trackSize:m=d.trackSize}=i,[b,x]=zD(c,o,m);return new OD({className:"slider",style:Object.assign({},d,Object.assign(Object.assign({x:b,y:x,trackLength:g?f:h,orientation:e,formatter:e=>{const n=v||p,r=y?1-e:e,i=ID(t,r,!0);return n(i)}},i),a))})}};WD.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1};const HD=t=>WD(Object.assign(Object.assign({},t),{orientation:"horizontal"}));HD.props=Object.assign(Object.assign({},WD.props),{defaultPosition:"bottom"});const $D=t=>WD(Object.assign(Object.assign({},t),{orientation:"vertical"}));$D.props=Object.assign(Object.assign({},WD.props),{defaultPosition:"left"});var GD=function(t){function e(e){var n=t.call(this,e,{isRound:!0,orientation:"vertical",padding:[2,2,2,2],scrollable:!0,slidable:!0,thumbCursor:"default",trackSize:10,value:0})||this;return n.range=[0,1],n.onValueChange=function(t){var e=n.attributes.value;if(t!==e){var r={detail:{oldValue:t,value:e}};n.dispatchEvent(new Sl("scroll",r)),n.dispatchEvent(new Sl("valuechange",r))}},n.onTrackClick=function(t){var e=n.attributes.slidable;if(e){var r=VO(n.getLocalPosition(),2),i=r[0],o=r[1],a=VO(n.padding,4),s=a[0],l=a[3],u=n.getOrientVal([i+l,o+s]),c=n.getOrientVal(pB(t)),f=(c-u)/n.trackLength;n.setValue(f,!0)}},n.onThumbMouseenter=function(t){n.dispatchEvent(new Sl("thumbMouseenter",{detail:t.detail}))},n.onTrackMouseenter=function(t){n.dispatchEvent(new Sl("trackMouseenter",{detail:t.detail}))},n.onThumbMouseleave=function(t){n.dispatchEvent(new Sl("thumbMouseleave",{detail:t.detail}))},n.onTrackMouseleave=function(t){n.dispatchEvent(new Sl("trackMouseleave",{detail:t.detail}))},n}return zO(e,t),Object.defineProperty(e.prototype,"padding",{get:function(){var t=this.attributes.padding;return tI(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){var t=this.attributes.value,e=VO(this.range,2),n=e[0],r=e[1];return xe(t,n,r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackLength",{get:function(){var t=this.attributes,e=t.viewportLength,n=t.trackLength,r=void 0===n?e:n;return r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"availableSpace",{get:function(){var t=this.attributes.trackSize,e=this.trackLength,n=VO(this.padding,4),r=n[0],i=n[1],o=n[2],a=n[3],s=VO(this.getOrientVal([[e,t],[t,e]]),2),l=s[0],u=s[1];return{x:a,y:r,width:+l-(a+i),height:+u-(r+o)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackRadius",{get:function(){var t=this.attributes,e=t.isRound,n=t.trackSize;return e?n/2:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thumbRadius",{get:function(){var t=this.attributes,e=t.isRound,n=t.thumbRadius;if(!e)return 0;var r=this.availableSpace,i=r.width,o=r.height;return n||this.getOrientVal([o,i])/2},enumerable:!1,configurable:!0}),e.prototype.getValues=function(t){void 0===t&&(t=this.value);var e=this.attributes,n=e.viewportLength,r=e.contentLength,i=n/r,o=VO(this.range,2),a=o[0],s=o[1],l=t*(s-a-i);return[l,l+i]},e.prototype.getValue=function(){return this.value},e.prototype.renderSlider=function(t){var e=this.attributes,n=e.orientation,r=e.trackSize,i=e.padding,o=e.slidable,a=$P(this.attributes,"track"),s=$P(this.attributes,"thumb"),l=WO(WO({brushable:!1,orientation:n,padding:i,selectionRadius:this.thumbRadius,showHandle:!1,slidable:o,trackLength:this.trackLength,trackRadius:this.trackRadius,trackSize:r,values:this.getValues()},GP(a,"track")),GP(s,"selection"));this.slider=HT(t).maybeAppendByClassName("scrollbar",(function(){return new OD({style:l})})).update(l).node()},e.prototype.render=function(t,e){this.renderSlider(e)},e.prototype.setValue=function(t,e){void 0===e&&(e=!1);var n=this.attributes.value,r=VO(this.range,2),i=r[0],o=r[1];this.slider.setValues(this.getValues(xe(t,i,o)),e),this.onValueChange(n)},e.prototype.bindEvents=function(){var t=this;this.slider.addEventListener("trackClick",(function(e){e.stopPropagation(),t.onTrackClick(e.detail)})),this.onHover()},e.prototype.getOrientVal=function(t){var e=this.attributes.orientation;return"horizontal"===e?t[0]:t[1]},e.prototype.onHover=function(){this.slider.addEventListener("selectionMouseenter",this.onThumbMouseenter),this.slider.addEventListener("trackMouseenter",this.onTrackMouseenter),this.slider.addEventListener("selectionMouseleave",this.onThumbMouseleave),this.slider.addEventListener("trackMouseleave",this.onTrackMouseleave)},e.tag="scrollbar",e}(BT),VD=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const UD=t=>{const{orientation:e,labelFormatter:n,style:r}=t,i=VD(t,["orientation","labelFormatter","style"]);return({scales:[t],value:n,theme:o})=>{const{bbox:a}=n,{x:s,y:l,width:u,height:c}=a,{scrollbar:f={}}=o,{ratio:h,range:d}=t.getOptions(),p="horizontal"===e?u:c,v=p/h,[g,y]=d,m=y>g?0:1;return new GD({className:"g2-scrollbar",style:Object.assign({},f,Object.assign(Object.assign(Object.assign(Object.assign({},r),{x:s,y:l,trackLength:p}),i),{orientation:e,value:m,contentLength:v,viewportLength:p}))})}};UD.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1};const YD=t=>UD(Object.assign(Object.assign({},t),{orientation:"horizontal"}));YD.props=Object.assign(Object.assign({},UD.props),{defaultPosition:"bottom"});const qD=t=>UD(Object.assign(Object.assign({},t),{orientation:"vertical"}));qD.props=Object.assign(Object.assign({},UD.props),{defaultPosition:"left"});const XD=t=>()=>new _u;XD.props={};const KD=(t,e)=>{const n=1e-4,{coordinate:r}=e;return(e,i,o)=>{const[a]=e,{height:s}=a.getBoundingClientRect(),{transform:l="",fillOpacity:u=1,strokeOpacity:c=1,opacity:f=1}=a.style,[h,d]=pv(r)?[[0,s],`scale(1, ${n})`]:[[0,0],`scale(${n}, 1)`],p=[{transform:`${l} ${d}`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${l} ${d}`.trimStart(),fillOpacity:u,strokeOpacity:c,opacity:f,offset:.01},{transform:`${l} scale(1, 1)`.trimStart(),fillOpacity:u,strokeOpacity:c,opacity:f}];a.setOrigin(h);const v=a.animate(p,Object.assign(Object.assign({},o),t));return v.finished.then((()=>a.setOrigin(0,0))),v}},ZD=(t,e)=>{const n=1e-4,{coordinate:r}=e;return(e,i,o)=>{const[a]=e,{height:s}=a.getBoundingClientRect(),{transform:l="",fillOpacity:u=1,strokeOpacity:c=1,opacity:f=1}=a.style,[h,d]=pv(r)?[[0,s],`scale(1, ${n})`]:[[0,0],`scale(${n}, 1)`],p=[{transform:`${l} scale(1, 1)`.trimStart()},{transform:`${l} ${d}`.trimStart(),fillOpacity:u,strokeOpacity:c,opacity:f,offset:.99},{transform:`${l} ${d}`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0}];a.setOrigin(h);const v=a.animate(p,Object.assign(Object.assign({},o),t));return v.finished.then((()=>a.setOrigin(0,0))),v}},QD=(t,e)=>{const n=1e-4,{coordinate:r}=e;return(e,i,o)=>{const[a]=e,{height:s}=a.getBoundingClientRect(),{transform:l="",fillOpacity:u=1,strokeOpacity:c=1,opacity:f=1}=a.style,[h,d]=pv(r)?[[0,0],`scale(${n}, 1)`]:[[0,s],`scale(1, ${n})`],p=[{transform:`${l} ${d}`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${l} ${d}`.trimStart(),fillOpacity:u,strokeOpacity:c,opacity:f,offset:.01},{transform:`${l} scale(1, 1)`.trimStart(),fillOpacity:u,strokeOpacity:c,opacity:f}];a.setOrigin(h);const v=a.animate(p,Object.assign(Object.assign({},o),t));return v.finished.then((()=>a.setOrigin(0,0))),v}},JD=(t,e)=>{const n=1e-4,{coordinate:r}=e;return(e,i,o)=>{const[a]=e,{height:s}=a.getBoundingClientRect(),{transform:l="",fillOpacity:u=1,strokeOpacity:c=1,opacity:f=1}=a.style,[h,d]=pv(r)?[[0,0],`scale(${n}, 1)`]:[[0,s],`scale(1, ${n})`],p=[{transform:`${l} scale(1, 1)`.trimStart()},{transform:`${l} ${d}`.trimStart(),fillOpacity:u,strokeOpacity:c,opacity:f,offset:.99},{transform:`${l} ${d}`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0}];a.setOrigin(h);const v=a.animate(p,Object.assign(Object.assign({},o),t));return v.finished.then((()=>a.setOrigin(0,0))),v}},tF=t=>(e,n,r)=>{const[i]=e,{fillOpacity:o=1,strokeOpacity:a=1,opacity:s=1}=i.style,l=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:o,strokeOpacity:a,opacity:s}];return i.animate(l,Object.assign(Object.assign({},r),t))};tF.props={};const eF=t=>(e,n,r)=>{const[i]=e,{fillOpacity:o=1,strokeOpacity:a=1,opacity:s=1}=i.style,l=[{fillOpacity:o,strokeOpacity:a,opacity:s},{fillOpacity:0,strokeOpacity:0,opacity:0}];return i.animate(l,Object.assign(Object.assign({},r),t))};function nF(t,e){const n={};for(const r of e){const e=t.style[r];e&&(n[r]=e)}return n}eF.props={};const rF=["fill","stroke","fillOpacity","strokeOpacity","opacity","lineWidth"];function iF(t){const{min:e,max:n}=t.getLocalBounds(),[r,i]=e,[o,a]=n,s=a-i,l=o-r;return[r,i,l,s]}function oF(t){const[e,n,r,i]=t;return`\n    M ${e} ${n}\n    L ${e+r} ${n}\n    L ${e+r} ${n+i}\n    L ${e} ${n+i}\n    Z\n  `}function aF(t,e){const[n,r,i,o]=iF(t),a=o/i,s=Math.ceil(Math.sqrt(e/a)),l=Math.ceil(e/s),u=[],c=o/l;let f=0,h=e;while(h>0){const t=Math.min(h,s),e=i/t;for(let i=0;i<t;i++){const t=n+i*e,o=r+f*c;u.push(oF([t,o,e,c]))}h-=t,f+=1}return u}function sF(t="pack"){return"function"==typeof t?t:aF}function lF(t,e,n){const[r,i,o,a]=iF(t),{transform:s}=t.style,{transform:l}=e.style;uF(e,t);const[u,c,f,h]=iF(e),d=r-u,p=i-c,v=o/f,g=a/h,y=[Object.assign({transform:`${s?s+" ":""}translate(${d}, ${p}) scale(${v}, ${g})`},nF(t,rF)),Object.assign({transform:(l?l+" ":"")+"translate(0, 0) scale(1, 1)"},nF(e,rF))],m=e.animate(y,n);return m}function uF(t,e){t["__data__"]=e["__data__"],t.className=e.className,t.markType=e.markType,e.parentNode.replaceChild(t,e)}function cF(t,e){const{nodeName:n}=t;if("path"===n)return t;const r=new Eu({style:Object.assign(Object.assign({},nF(t,rF)),{d:e})});return uF(r,t),r}function fF(t,e){const n=t.indexOf(e),r=t.lastIndexOf(e);return n===r}function hF(t){return!fF(t,"m")||!fF(t,"M")}function dF(t){const e=Sa(t);if(e&&!hF(e))return e}function pF(t,e,n,r){const{nodeName:i}=e,{nodeName:o}=n,a=dF(e),s=dF(n),l=i===o&&"path"!==i,u=void 0===a||void 0===s;if(l||u)return lF(e,n,r);const c=cF(t,a),f=[Object.assign({path:a},nF(e,rF)),Object.assign({path:s},nF(n,rF))],h=c.animate(f,r);return h.onfinish=()=>{c.style.transform="none",zg(c,n)},c.style.transform="none",h}function vF(t,e,n,r){t.style.visibility="hidden";const i=r(t,e.length);return e.map(((e,r)=>{const o=new Eu({style:Object.assign({path:i[r]},nF(t,rF))});return pF(e,o,e,n)}))}function gF(t,e,n,r){const i=r(e,t.length),{fillOpacity:o=1,strokeOpacity:a=1,opacity:s=1}=e.style,l=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:0,strokeOpacity:0,opacity:0,offset:.99},{fillOpacity:o,strokeOpacity:a,opacity:s}],u=e.animate(l,n),c=t.map(((t,r)=>{const o=new Eu({style:{path:i[r],fill:e.style.fill}});return pF(t,t,o,n)}));return[...c,u]}const yF=t=>(e,n,r)=>{const i=sF(t.split),o=Object.assign(Object.assign({},r),t),{length:a}=e,{length:s}=n;if(1===a&&1===s||a>1&&s>1){const[t]=e,[r]=n;return pF(t,t,r,o)}if(1===a&&s>1){const[t]=e;return vF(t,n,o,i)}if(a>1&&1===s){const[t]=n;return gF(e,t,o,i)}return null};yF.props={};const mF=(t,e)=>{const n=1e-4;mu.registerProperty({name:"waveInArcAngle",inherits:!1,initialValue:"",interpolable:!0,syntax:wo.NUMBER});const{coordinate:r}=e;return(i,o,a)=>{const[s]=i;if(!vv(r))return KD(t,e)(i,o,a);const l=r.getCenter(),{__data__:u,style:c}=s,{radius:f=0,inset:h=0,fillOpacity:d=1,strokeOpacity:p=1,opacity:v=1}=c,{points:g,y:y,y1:m}=u,b=MM().cornerRadius(f).padAngle(h*Math.PI/180),x=yE(r,g,[y,m]),{startAngle:w,endAngle:_}=x,O=new Eu({}),C=t=>{O.attr({d:b(t),transform:`translate(${l[0]}, ${l[1]})`});const e=Sa(O);return O.style.transform="",e},S=[{waveInArcAngle:w+n,fillOpacity:0,strokeOpacity:0,opacity:0},{waveInArcAngle:w+n,fillOpacity:d,strokeOpacity:p,opacity:v,offset:.01},{waveInArcAngle:_,fillOpacity:d,strokeOpacity:p,opacity:v}],E=s.animate(S,Object.assign(Object.assign({},a),t));return E.onframe=function(){s.style.path=C(Object.assign(Object.assign({},x),{endAngle:Number(s.style.waveInArcAngle)}))},E.onfinish=function(){s.style.path=C(Object.assign(Object.assign({},x),{endAngle:_}))},E}};mF.props={};const bF=t=>{const e=1e-4;return(n,r,i)=>{const[o]=n,{transform:a="",fillOpacity:s=1,strokeOpacity:l=1,opacity:u=1}=o.style,c=[{transform:`${a} scale(${e})`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${a} scale(${e})`.trimStart(),fillOpacity:s,strokeOpacity:l,opacity:u,offset:.01},{transform:`${a} scale(1)`.trimStart(),fillOpacity:s,strokeOpacity:l,opacity:u}],{width:f,height:h}=o.getBoundingClientRect();o.setOrigin([f/2,h/2]);const d=o.animate(c,Object.assign(Object.assign({},i),t));return d.finished.then((()=>o.setOrigin(0,0))),d}},xF=t=>{const e=1e-4;return(n,r,i)=>{const[o]=n,{transform:a="",fillOpacity:s=1,strokeOpacity:l=1,opacity:u=1}=o.style,c=[{transform:`${a} scale(1)`.trimStart()},{transform:`${a} scale(${e})`.trimStart(),fillOpacity:s,strokeOpacity:l,opacity:u,offset:.99},{transform:`${a} scale(${e})`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0}],{width:f,height:h}=o.getBoundingClientRect();o.setOrigin([f/2,h/2]);const d=o.animate(c,Object.assign(Object.assign({},i),t));return d.finished.then((()=>o.setOrigin(0,0))),d}},wF=t=>(e,n,r)=>{var i,o;const[a]=e,s=(null===(o=(i=a).getTotalLength)||void 0===o?void 0:o.call(i))||0,l=[{lineDash:[0,s]},{lineDash:[s,0]}];return a.animate(l,Object.assign(Object.assign({},r),t))};wF.props={};const _F=(t,e)=>(n,r,i)=>{const[o]=n,{height:a,width:s}=o.getBoundingClientRect(),l=new Eu({style:{path:`M0,0L${s},0L${s},${a}L0,${a}Z`}});o.appendChild(l),o.style.clipPath=l;const u=KD(t,e)([l],r,i);return u.finished.then((()=>{l.remove(),o.style.clipPath=null})),u};_F.props={};const OF=(t,e)=>(n,r,i)=>{const[o]=n,{height:a,width:s}=o.getBoundingClientRect(),l=new Eu({style:{path:`M0,0L${s},0L${s},${a}L0,${a}Z`}});o.appendChild(l),o.style.clipPath=l;const u=QD(t,e)([l],r,i);return u.finished.then((()=>{l.remove(),o.style.clipPath=null})),u};OF.props={};const CF={visibility:"visible",opacity:1,fillOpacity:1,strokeOpacity:1};function SF(t,e){var n;return null!==(n=t.style[e])&&void 0!==n?n:CF[e]}function EF(t,e,n,r){t.style[e]=n,r&&t.children.forEach((t=>EF(t,e,n,r)))}function MF(t){EF(t,"visibility","hidden",!0)}function kF(t){EF(t,"visibility","visible",!0)}var TF=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function AF(t){return wE(t).selectAll(`.${Yf}`).nodes().filter((t=>!t.__removed__))}function LF(t,e){return PF(t,e).flatMap((({container:t})=>AF(t)))}function PF(t,e){return e.filter((e=>e!==t&&e.options.parentKey===t.options.key))}function RF(t){return wE(t).select(`.${Xf}`).node()}function IF(t,e){const{offsetX:n,offsetY:r}=e,i=t.getRenderBounds(),{min:[o,a],max:[s,l]}=i,u=n<o||n>s,c=r<a||r>l;return u||c?null:[n-o,r-a]}function jF(t,e){const{offsetX:n,offsetY:r}=e,[i,o,a,s]=NF(t);return[Math.min(a,Math.max(i,n))-i,Math.min(s,Math.max(o,r))-o]}function NF(t){const e=t.getRenderBounds(),{min:[n,r],max:[i,o]}=e;return[n,r,i,o]}function BF(t){return t=>t.__data__.color}function DF(t){const{x:e}=t.scale;return t=>{const{x:n}=t.__data__;return e.invert(n)}}function FF(t){const e=Array.isArray(t)?t:[t],n=new Map(e.flatMap((t=>{const e=Array.from(t.markState.keys());return e.map((e=>[HF(t.key,e.key),e.data]))})));return t=>{const{index:e,markKey:r,viewKey:i}=t.__data__,o=n.get(HF(i,r));return o[e]}}function zF(t,e=((t,e)=>t),n=((t,e,n)=>t.setAttribute(e,n))){const r="__states__",i="__ordinal__",o=o=>{const{[r]:a=[],[i]:s={}}=o,l=a.reduce(((e,n)=>Object.assign(Object.assign({},e),t[n])),s);if(0!==Object.keys(l).length){for(const[t,r]of Object.entries(l)){const i=SF(o,t),a=e(r,o);n(o,t,a),t in s||(s[t]=i)}o[i]=s}},a=t=>{t[r]||(t[r]=[])},s=(t,...e)=>{a(t),t[r]=[...e],o(t)},l=(t,...e)=>{a(t);for(const n of e){const e=t[r].indexOf(n);-1!==e&&t[r].splice(e,1)}o(t)},u=(t,e)=>(a(t),-1!==t[r].indexOf(e));return{setState:s,removeState:l,hasState:u}}function WF(t){return void 0===t||"object"===typeof t&&0===Object.keys(t).length}function HF(t,e){return`${t},${e}`}function $F(t,e){const n=Array.isArray(t)?t:[t],r=n.flatMap((t=>t.marks.map((e=>[HF(t.key,e.key),e.state])))),i={};for(const o of e){const[t,e]=Array.isArray(o)?o:[o,{}];i[t]=r.reduce(((n,r)=>{const[i,o={}]=r,a=WF(o[t])?e:o[t];for(const[t,e]of Object.entries(a)){const r=n[t],o=(t,n,o,a)=>{const s=HF(a.__data__.viewKey,a.__data__.markKey);return i!==s?null===r||void 0===r?void 0:r(t,n,o,a):"function"!==typeof e?e:e(t,n,o,a)};n[t]=o}return n}),{})}return i}function GF(t,e){const n=new Map(t.map(((t,e)=>[t,e]))),r=e?t.map(e):t;return(t,i)=>{if("function"!==typeof t)return t;const o=n.get(i),a=e?e(i):i;return t(a,o,r,i)}}function VF(t){var{link:e=!1,valueof:n=((t,e)=>t),coordinate:r}=t,i=TF(t,["link","valueof","coordinate"]);const o="element-link";if(!e)return[()=>{},()=>{}];const a=t=>t.__data__.points,s=(t,e)=>{const[,n,r]=t,[i,,,o]=e,a=[n,i,o,r];return a},l=t=>{var e;if(t.length<=1)return;const r=hm(t,((t,e)=>{const{x:n}=t.__data__,{x:r}=e.__data__,i=n-r;return i}));for(let l=1;l<r.length;l++){const t=mM(),u=r[l-1],c=r[l],[f,h,d,p]=s(a(u),a(c));t.moveTo(...f),t.lineTo(...h),t.lineTo(...d),t.lineTo(...p),t.closePath();const v=XS(i,(t=>n(t,u))),{fill:g=u.getAttribute("fill")}=v,y=TF(v,["fill"]),m=new Eu({className:o,style:Object.assign({d:t.toString(),fill:g,zIndex:-2},y)});null===(e=u.link)||void 0===e||e.remove(),u.parentNode.appendChild(m),u.link=m}},u=t=>{var e;null===(e=t.link)||void 0===e||e.remove(),t.link=null};return[l,u]}function UF(t,e,n){const r=e=>{const{transform:n}=t.style;return n?`${n} ${e}`:e};if(vv(n)){const{points:i}=t.__data__,[o,a]=pv(n)?gE(i):i,s=n.getCenter(),l=rE(o,s),u=rE(a,s),c=aE(l),f=lE(l,u),h=c+f/2,d=e*Math.cos(h),p=e*Math.sin(h);return r(`translate(${d}, ${p})`)}return pv(n)?r(`translate(${e}, 0)`):r(`translate(0, ${-e})`)}function YF(t){var{document:e,background:n,scale:r,coordinate:i,valueof:o}=t,a=TF(t,["document","background","scale","coordinate","valueof"]);const s="element-background";if(!n)return[()=>{},()=>{}];const l=(t,e,n)=>{const r=t.invert(e),i=e+t.getBandWidth(r)/2,o=t.getStep(r)/2,a=o*n;return[i-o+a,i+o-a]},u=(t,e)=>{const{x:n}=r;if(!RD(n))return[0,1];const{__data__:i}=t,{x:o}=i,[a,s]=l(n,o,e);return[a,s]},c=(t,e)=>{const{y:n}=r;if(!RD(n))return[0,1];const{__data__:i}=t,{y:o}=i,[a,s]=l(n,o,e);return[a,s]},f=(t,n)=>{const{padding:r}=n,[o,a]=u(t,r),[s,l]=c(t,r),f=[[o,s],[a,s],[a,l],[o,l]].map((t=>i.map(t))),{__data__:h}=t,{y:d,y1:p}=h;return AM(e,f,{y:d,y1:p},i,n)},h=(t,e)=>{const{transform:n="scale(1.2, 1.2)",transformOrigin:r="center center",stroke:i=""}=e,o=TF(e,["transform","transformOrigin","stroke"]),a=Object.assign({transform:n,transformOrigin:r,stroke:i},o),s=t.cloneNode(!0);for(const[l,u]of Object.entries(a))s.style[l]=u;return s},d=()=>{const{x:t,y:e}=r;return[t,e].some(RD)},p=t=>{t.background&&t.background.remove();const e=XS(a,(e=>o(e,t))),{fill:n="#CCD6EC",fillOpacity:r=.3,zIndex:i=-2,padding:l=.001,strokeWidth:u=0}=e,c=TF(e,["fill","fillOpacity","zIndex","padding","strokeWidth"]),p=Object.assign(Object.assign({},c),{fill:n,fillOpacity:r,zIndex:i,padding:l,strokeWidth:u}),v=d()?f:h,g=v(t,p);g.className=s,t.parentNode.appendChild(g),t.background=g},v=t=>{var e;null===(e=t.background)||void 0===e||e.remove(),t.background=null},g=t=>t.className===s;return[p,v,g]}function qF(t,e){const n=t.getRootNode().defaultView,r=n.getContextService().getDomElement();(null===r||void 0===r?void 0:r.style)&&(r.style.cursor=e)}function XF(t){qF(t,"default")}function KF(t,e,n){return t.find((t=>Object.entries(e).every((([e,r])=>n(t)[e]===r))))}var ZF=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function QF(t,{elements:e,datum:n,groupKey:r=(t=>t),link:i=!1,background:o=!1,delay:a=60,scale:s,coordinate:l,emitter:u,state:c={}}){var f;const h=e(t),d=new Set(h),p=uv(h,r),v=GF(h,n),[g,y]=VF(Object.assign({elements:h,valueof:v,link:i,coordinate:l},Gg(c.active,"link"))),[m,b,x]=YF(Object.assign({document:t.ownerDocument,scale:s,coordinate:l,background:o,valueof:v},Gg(c.active,"background"))),w=Bd(c,{active:Object.assign({},(null===(f=c.active)||void 0===f?void 0:f.offset)&&{transform:(...t)=>{const e=c.active.offset(...t),[,n]=t;return UF(h[n],e,l)}})}),{setState:_,removeState:O,hasState:C}=zF(w,v);let S;const E=t=>{const{target:e,nativeEvent:i=!0}=t;if(!d.has(e))return;S&&clearTimeout(S);const o=r(e),a=p.get(o),s=new Set(a);for(const n of h)s.has(n)?C(n,"active")||_(n,"active"):(_(n,"inactive"),y(n)),n!==e&&b(n);m(e),g(a),i&&u.emit("element:highlight",{nativeEvent:i,data:{data:n(e),group:a.map(n)}})},M=()=>{S&&clearTimeout(S),S=setTimeout((()=>{k(),S=null}),a)},k=(t=!0)=>{for(const e of h)O(e,"active","inactive"),b(e),y(e);t&&u.emit("element:unhighlight",{nativeEvent:t})},T=t=>{const{target:e}=t;o&&!x(e)||(o||d.has(e))&&(a>0?M():k())},A=()=>{k()};t.addEventListener("pointerover",E),t.addEventListener("pointerout",T),t.addEventListener("pointerleave",A);const L=t=>{const{nativeEvent:e}=t;e||k(!1)},P=t=>{const{nativeEvent:e}=t;if(e)return;const{data:r}=t.data,i=KF(h,r,n);i&&E({target:i,nativeEvent:!1})};return u.on("element:highlight",P),u.on("element:unhighlight",L),()=>{t.removeEventListener("pointerover",E),t.removeEventListener("pointerout",T),t.removeEventListener("pointerleave",A),u.off("element:highlight",P),u.off("element:unhighlight",L);for(const t of h)b(t),y(t)}}function JF(t){var{delay:e,createGroup:n,background:r=!1,link:i=!1}=t,o=ZF(t,["delay","createGroup","background","link"]);return(t,a,s)=>{const{container:l,view:u,options:c}=t,{scale:f,coordinate:h}=u,d=RF(l);return QF(d,Object.assign({elements:AF,datum:FF(u),groupKey:n?n(u):void 0,coordinate:h,scale:f,state:$F(c,[["active",r?{}:{lineWidth:"1",stroke:"#000"}],"inactive"]),background:r,link:i,delay:e,emitter:s},o))}}function tz(t){return JF(Object.assign(Object.assign({},t),{createGroup:DF}))}function ez(t){return JF(Object.assign(Object.assign({},t),{createGroup:BF}))}var nz=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function rz(t,{elements:e,datum:n,groupKey:r=(t=>t),link:i=!1,single:o=!1,coordinate:a,background:s=!1,scale:l,emitter:u,state:c={}}){var f;const h=e(t),d=new Set(h),p=uv(h,r),v=GF(h,n),[g,y]=VF(Object.assign({link:i,elements:h,valueof:v,coordinate:a},Gg(c.selected,"link"))),[m,b]=YF(Object.assign({document:t.ownerDocument,background:s,coordinate:a,scale:l,valueof:v},Gg(c.selected,"background"))),x=Bd(c,{selected:Object.assign({},(null===(f=c.selected)||void 0===f?void 0:f.offset)&&{transform:(...t)=>{const e=c.selected.offset(...t),[,n]=t;return UF(h[n],e,a)}})}),{setState:w,removeState:_,hasState:O}=zF(x,v),C=(t=!0)=>{for(const e of h)_(e,"selected","unselected"),y(e),b(e);t&&u.emit("element:unselect",{nativeEvent:!0})},S=(t,e,i=!0)=>{if(O(e,"selected"))C();else{const o=r(e),a=p.get(o),s=new Set(a);for(const t of h)s.has(t)?w(t,"selected"):(w(t,"unselected"),y(t)),t!==e&&b(t);if(g(a),m(e),!i)return;u.emit("element:select",Object.assign(Object.assign({},t),{nativeEvent:i,data:{data:[n(e),...a.map(n)]}}))}},E=(t,e,o=!0)=>{const a=r(e),s=p.get(a),l=new Set(s);if(O(e,"selected")){const t=h.some((t=>!l.has(t)&&O(t,"selected")));if(!t)return C();for(const e of s)w(e,"unselected"),y(e),b(e)}else{const t=s.some((t=>O(t,"selected")));for(const e of h)l.has(e)?w(e,"selected"):O(e,"selected")||w(e,"unselected");!t&&i&&g(s),m(e)}o&&u.emit("element:select",Object.assign(Object.assign({},t),{nativeEvent:o,data:{data:h.filter((t=>O(t,"selected"))).map(n)}}))},M=t=>{const{target:e,nativeEvent:n=!0}=t;return d.has(e)?o?S(t,e,n):E(t,e,n):C()};t.addEventListener("click",M);const k=t=>{const{nativeEvent:e,data:r}=t;if(e)return;const i=o?r.data.slice(0,1):r.data;for(const o of i){const t=KF(h,o,n);M({target:t,nativeEvent:!1})}},T=()=>{C(!1)};return u.on("element:select",k),u.on("element:unselect",T),()=>{for(const t of h)y(t);t.removeEventListener("click",M),u.off("element:select",k),u.off("element:unselect",T)}}function iz(t){var{createGroup:e,background:n=!1,link:r=!1}=t,i=nz(t,["createGroup","background","link"]);return(t,o,a)=>{const{container:s,view:l,options:u}=t,{coordinate:c,scale:f}=l,h=RF(s);return rz(h,Object.assign({elements:AF,datum:FF(l),groupKey:e?e(l):void 0,coordinate:c,scale:f,state:$F(u,[["selected",n?{}:{lineWidth:"1",stroke:"#000"}],"unselected"]),background:n,link:r,emitter:a},i))}}function oz(t){return iz(Object.assign(Object.assign({},t),{createGroup:DF}))}function az(t){return iz(Object.assign(Object.assign({},t),{createGroup:BF}))}var sz,lz,uz,cz,fz=function(t,e,n){var r,i,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Date.now(),r=null,a=t.apply(i,o),r||(i=o=null)},u=function(){var u=Date.now();s||!1!==n.leading||(s=u);var c=e-(u-s);return i=this,o=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),s=u,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(r),s=0,r=i=o=null},u},hz=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))},dz=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function pz(t){const{transform:e=[]}=t,n=e.find((t=>"normalizeY"===t.type));if(n)return n;const r={type:"normalizeY"};return e.push(r),t.transform=e,r}function vz(t,e,n){const[r]=Array.from(t.entries()).filter((([t])=>t.type===e)).map((([t])=>{const{encode:e}=t,r=t=>{const n=e[t];return[t,n?n.value:void 0]};return Object.fromEntries(n.map(r))}));return r}function gz(t){var{wait:e=20,leading:n,trailing:r=!1,labelFormatter:i=(t=>`${t}`)}=t,o=dz(t,["wait","leading","trailing","labelFormatter"]);return t=>{const{options:a,view:s,container:l,update:u}=t,{markState:c,scale:f,coordinate:h}=s,d=vz(c,"line",["x","y","series"]);if(!d)return;const{y:p,x:v,series:g=[]}=d,y=p.map(((t,e)=>e)),m=hm(y.map((t=>v[t]))),b=Bd({},a),x=b.marks.find((t=>"line"===t.type)),w=t=>ug(t,(t=>+p[t]))/cg(t,(t=>+p[t])),_=ug(fv(y,w,(t=>g[t])).values()),O=[1/_,_];Bd(x,{scale:{y:{domain:O}}});const C=RF(l),S=l.getElementsByClassName(Yf),E=l.getElementsByClassName(Zf),M=t=>t.__data__.key.split("-")[0],k=uv(E,M),T=new Su({style:Object.assign({x1:0,y1:0,x2:0,y2:C.getAttribute("height"),stroke:"black",lineWidth:1},Gg(o,"rule"))}),A=new Au({style:Object.assign({x:0,y:C.getAttribute("height"),text:"",fontSize:10},Gg(o,"label"))});T.append(A),C.appendChild(T);const L=(t,e,n)=>{const[r]=t.invert(n),i=e.invert(r);return m[AD(m,i)]},P=(t,e)=>{T.setAttribute("x1",t[0]),T.setAttribute("x2",t[0]),A.setAttribute("text",i(e))};let R;const I=t=>hz(this,void 0,void 0,(function*(){const{x:e}=f,n=L(h,e,t);P(t,n);const r=pz(x);r.groupBy="color",r.basis=(t,e)=>{const r=t[SD((t=>v[+t])).center(t,n)];return e[r]};for(const t of b.marks)t.animate=!1;const i=yield u(b);R=i.view})),j=t=>{const{scale:e,coordinate:n}=R,{x:r,y:i}=e,o=L(n,r,t);P(t,o);for(const a of S){const{seriesIndex:t,key:e}=a.__data__,r=t[SD((t=>v[+t])).center(t,o)],s=[0,i.map(1)],l=[0,i.map(p[r]/p[t[0]])],[,u]=n.map(s),[,c]=n.map(l),f=u-c;a.setAttribute("transform",`translate(0, ${f})`);const h=k.get(e)||[];for(const n of h)n.setAttribute("dy",f)}},N=fz((t=>{const e=IF(C,t);e&&j(e)}),e,{leading:n,trailing:r});return I([0,0]),C.addEventListener("pointerenter",N),C.addEventListener("pointermove",N),C.addEventListener("pointerleave",N),()=>{T.remove(),C.removeEventListener("pointerenter",N),C.removeEventListener("pointermove",N),C.removeEventListener("pointerleave",N)}}}function yz(t){const{coordinate:e={}}=t,{transform:n=[]}=e,r=n.find((t=>"fisheye"===t.type));if(r)return r;const i={type:"fisheye"};return n.push(i),e.transform=n,t.coordinate=e,i}function mz({wait:t=30,leading:e,trailing:n=!1}){return r=>{const{options:i,update:o,container:a}=r,s=RF(a),l=Bd({},i);for(const t of l.marks)t.animate=!1;const u=fz((t=>{const e=IF(s,t);if(!e)return void o(i);const[n,r]=e,a=yz(l);a.focusX=n,a.focusY=r,a.visual=!0,o(l)}),t,{leading:e,trailing:n});return s.addEventListener("pointerenter",u),s.addEventListener("pointermove",u),s.addEventListener("pointerleave",u),()=>{s.removeEventListener("pointerenter",u),s.removeEventListener("pointermove",u),s.removeEventListener("pointerleave",u)}}}function bz(t,e){let n=0,r=0;if(void 0===e)for(let i of t)null!=i&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function xz(){sz=document.createElement("table"),lz=document.createElement("tr"),uz=/^\s*<(\w+|!)[^>]*>/,cz={tr:document.createElement("tbody"),tbody:sz,thead:sz,tfoot:sz,td:lz,th:lz,"*":document.createElement("div")}}function wz(t){sz||xz();var e=uz.test(t)&&RegExp.$1;e&&e in cz||(e="*");var n=cz[e];t="string"===typeof t?t.replace(/(^\s*)|(\s*$)/g,""):t,n.innerHTML=""+t;var r=n.childNodes[0];return r&&n.contains(r)&&n.removeChild(r),r}function _z(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t}var Oz=_z;function Cz(t,e){return void 0===t&&(t=0),void 0===e&&(e=!1),function(n,r,i){var o,a=i.value;"function"===typeof a&&(i.value=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(!o){var i=this;e&&a.apply(i,n),o=window.setTimeout((function(){a.apply(i,n),o=null}),t)}})}}function Sz(t){return void 0===t&&(t=""),{CONTAINER:"".concat(t,"tooltip"),TITLE:"".concat(t,"tooltip-title"),LIST:"".concat(t,"tooltip-list"),LIST_ITEM:"".concat(t,"tooltip-list-item"),NAME:"".concat(t,"tooltip-list-item-name"),MARKER:"".concat(t,"tooltip-list-item-marker"),NAME_LABEL:"".concat(t,"tooltip-list-item-name-label"),VALUE:"".concat(t,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(t,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(t,"tooltip-crosshair-y")}}var Ez={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function Mz(t){var e;void 0===t&&(t="");var n=Sz(t);return e={},e[".".concat(n.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},e[".".concat(n.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},e[".".concat(n.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},e[".".concat(n.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},e[".".concat(n.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},e[".".concat(n.NAME)]={display:"flex","align-items":"center","max-width":"216px"},e[".".concat(n.NAME_LABEL)]=WO({flex:1},Ez),e[".".concat(n.VALUE)]=WO({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},Ez),e[".".concat(n.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},e[".".concat(n.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},e}var kz=function(t){function e(e){var n,r,i=this,o=null===(r=null===(n=e.style)||void 0===n?void 0:n.template)||void 0===r?void 0:r.prefixCls,a=Sz(o);return i=t.call(this,e,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(a.CONTAINER,'"></div>'),title:'<div class="'.concat(a.TITLE,'"></div>'),item:'<li class="'.concat(a.LIST_ITEM,'" data-index={index}>\n        <span class="').concat(a.NAME,'">\n          <span class="').concat(a.MARKER,'" style="background:{color}"></span>\n          <span class="').concat(a.NAME_LABEL,'" title="{name}">{name}</span>\n        </span>\n        <span class="').concat(a.VALUE,'" title="{value}">{value}</span>\n      </li>')},style:Mz(o)})||this,i.prevCustomContentKey=i.attributes.contentKey,i.initShape(),i.render(i.attributes,i),i}return zO(e,t),Object.defineProperty(e.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.element},Object.defineProperty(e.prototype,"position",{set:function(t){var e=VO(t,2),n=e[0],r=e[1];this.attributes.x=n,this.attributes.y=r,this.updatePosition()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"elementSize",{get:function(){var t=this.element.offsetWidth,e=this.element.offsetHeight;return{width:t,height:e}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"HTMLTooltipItemsElements",{get:function(){var t=this.attributes,e=t.data,n=t.template;return e.map((function(t,e){var r=t.name,i=void 0===r?"":r,o=t.color,a=void 0===o?"black":o,s=t.index,l=HO(t,["name","color","index"]),u=WO({name:i,color:a,index:null!==s&&void 0!==s?s:e},l);return wz(Oz(n.item,u))}))},enumerable:!1,configurable:!0}),e.prototype.render=function(t,e){this.renderHTMLTooltipElement(),this.updatePosition()},e.prototype.destroy=function(){var e;null===(e=this.element)||void 0===e||e.remove(),t.prototype.destroy.call(this)},e.prototype.show=function(t,e){var n=this,r=void 0!==t&&void 0!==e;if(r){var i=this.element.style.transition;this.element.style.transition="none",this.position=[null!==t&&void 0!==t?t:+this.attributes.x,null!==e&&void 0!==e?e:+this.attributes.y],setTimeout((function(){n.element.style.transition=i}),10)}this.element.style.visibility="visible"},e.prototype.hide=function(){this.element.style.visibility="hidden"},e.prototype.initShape=function(){var t=this.attributes.template;this.element=wz(t.container),this.id&&this.element.setAttribute("id",this.id)},e.prototype.renderCustomContent=function(){if(void 0===this.prevCustomContentKey||this.prevCustomContentKey!==this.attributes.contentKey){this.prevCustomContentKey=this.attributes.contentKey;var t=this.attributes.content;t&&("string"===typeof t?this.element.innerHTML=t:this.element.replaceChildren(t))}},e.prototype.renderHTMLTooltipElement=function(){var t,e,n=this.attributes,r=n.template,i=n.title,o=n.enterable,a=n.style,s=n.content,l=Sz(r.prefixCls),u=this.element;if(this.element.style.pointerEvents=o?"auto":"none",s)this.renderCustomContent();else{i?(u.innerHTML=r.title,u.getElementsByClassName(l.TITLE)[0].innerHTML=i):null===(e=null===(t=u.getElementsByClassName(l.TITLE))||void 0===t?void 0:t[0])||void 0===e||e.remove();var c=this.HTMLTooltipItemsElements,f=document.createElement("ul");f.className=l.LIST,f.replaceChildren.apply(f,YO([],VO(c),!1));var h=this.element.querySelector(".".concat(l.LIST));h?h.replaceWith(f):u.appendChild(f)}HP(u,a)},e.prototype.getRelativeOffsetFromCursor=function(t){var e=this.attributes,n=e.position,r=e.offset,i=t||n,o=i.split("-"),a={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},s=this.elementSize,l=s.width,u=s.height,c=[-l/2,-u/2];return o.forEach((function(t){var e=VO(c,2),n=e[0],i=e[1],o=VO(a[t],2),s=o[0],f=o[1];c=[n+(l/2+r[0])*s,i+(u/2+r[1])*f]})),c},e.prototype.setOffsetPosition=function(t){var e=VO(t,2),n=e[0],r=e[1],i=this.attributes,o=i.x,a=void 0===o?0:o,s=i.y,l=void 0===s?0:s,u=i.container,c=u.x,f=u.y;this.element.style.left="".concat(+a+c+n,"px"),this.element.style.top="".concat(+l+f+r,"px")},e.prototype.updatePosition=function(){this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor()))},e.prototype.autoPosition=function(t){var e=VO(t,2),n=e[0],r=e[1],i=this.attributes,o=i.x,a=i.y,s=i.bounding,l=i.position;if(!s)return[n,r];var u=this.element,c=u.offsetWidth,f=u.offsetHeight,h=VO([+o+n,+a+r],2),d=h[0],p=h[1],v={left:"right",right:"left",top:"bottom",bottom:"top"},g=s.x,y=s.y,m=s.width,b=s.height,x={left:d<g,right:d+c>g+m,top:p<y,bottom:p+f>y+b},w=[];l.split("-").forEach((function(t){x[t]?w.push(v[t]):w.push(t)}));var _=w.join("-");return this.getRelativeOffsetFromCursor(_)},e.tag="tooltip",$O([Cz(100,!0)],e.prototype,"updatePosition",null),e}(BT);const Tz=new Proxy({BEFORE_RENDER:"beforerender",AFTER_RENDER:"afterrender",BEFORE_PAINT:"beforepaint",AFTER_PAINT:"afterpaint",BEFORE_CHANGE_DATA:"beforechangedata",AFTER_CHANGE_DATA:"afterchangedata",BEFORE_CLEAR:"beforeclear",AFTER_CLEAR:"afterclear",BEFORE_DESTROY:"beforedestroy",AFTER_DESTROY:"afterdestroy",BEFORE_CHANGE_SIZE:"beforechangesize",AFTER_CHANGE_SIZE:"afterchangesize",POINTER_TAP:"pointertap",POINTER_DOWN:"pointerdown",POINTER_UP:"pointerup",POINTER_OVER:"pointerover",POINTER_OUT:"pointerout",POINTER_MOVE:"pointermove",POINTER_ENTER:"pointerenter",POINTER_LEAVE:"pointerleave",POINTER_UPOUTSIDE:"pointerupoutside",DRAG_START:"dragstart",DRAG:"drag",DRAG_END:"dragend",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"DROP",CLICK:"click",DBLCLICK:"dblclick"},{get(t,e){if(e in t)return t[e]},set(){return!0}});function Az(t,e){const{__data__:n}=t,{markKey:r,index:i,seriesIndex:o}=n,{markState:a}=e,s=Array.from(a.keys()).find((t=>t.key===r));if(s)return o?o.map((t=>s.data[t])):s.data[i]}function Lz(t){if("element"===t.className)return t;let e=t.parent;while(e&&"element"!==e.className)e=e.parent;return e}function Pz(t,e,n,r=(t=>!0)){return i=>{if(!r(i))return;n.emit(`plot:${t}`,i);const{target:o}=i;if(!o)return;const{className:a}=o;if("plot"===a)return;const s=Lz(o);if(!s)return;const{className:l,markType:u}=s;if("element"===l){const r=Object.assign(Object.assign({},i),{nativeEvent:!0,data:{data:Az(s,e)}});n.emit(`element:${t}`,r),n.emit(`${u}:${t}`,r)}else n.emit(`${l}:${t}`,i)}}function Rz(){return(t,e,n)=>{const{container:r,view:i}=t,o=Pz(Tz.CLICK,i,n,(t=>1===t.detail)),a=Pz(Tz.DBLCLICK,i,n,(t=>2===t.detail)),s=Pz(Tz.POINTER_TAP,i,n),l=Pz(Tz.POINTER_DOWN,i,n),u=Pz(Tz.POINTER_UP,i,n),c=Pz(Tz.POINTER_OVER,i,n),f=Pz(Tz.POINTER_OUT,i,n),h=Pz(Tz.POINTER_MOVE,i,n),d=Pz(Tz.POINTER_ENTER,i,n),p=Pz(Tz.POINTER_LEAVE,i,n),v=Pz(Tz.POINTER_UPOUTSIDE,i,n),g=Pz(Tz.DRAG_START,i,n),y=Pz(Tz.DRAG,i,n),m=Pz(Tz.DRAG_END,i,n),b=Pz(Tz.DRAG_ENTER,i,n),x=Pz(Tz.DRAG_LEAVE,i,n),w=Pz(Tz.DRAG_OVER,i,n),_=Pz(Tz.DROP,i,n);return r.addEventListener("click",o),r.addEventListener("click",a),r.addEventListener("pointertap",s),r.addEventListener("pointerdown",l),r.addEventListener("pointerup",u),r.addEventListener("pointerover",c),r.addEventListener("pointerout",f),r.addEventListener("pointermove",h),r.addEventListener("pointerenter",d),r.addEventListener("pointerleave",p),r.addEventListener("pointerupoutside",v),r.addEventListener("dragstart",g),r.addEventListener("drag",y),r.addEventListener("dragend",m),r.addEventListener("dragenter",b),r.addEventListener("dragleave",x),r.addEventListener("dragover",w),r.addEventListener("drop",_),()=>{r.removeEventListener("click",o),r.removeEventListener("click",a),r.removeEventListener("pointertap",s),r.removeEventListener("pointerdown",l),r.removeEventListener("pointerup",u),r.removeEventListener("pointerover",c),r.removeEventListener("pointerout",f),r.removeEventListener("pointermove",h),r.removeEventListener("pointerenter",d),r.removeEventListener("pointerleave",p),r.removeEventListener("pointerupoutside",v),r.removeEventListener("dragstart",g),r.removeEventListener("drag",y),r.removeEventListener("dragend",m),r.removeEventListener("dragenter",b),r.removeEventListener("dragleave",x),r.removeEventListener("dragover",w),r.removeEventListener("drop",_)}}}var Iz=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function jz(t,e){return e?"string"===typeof e?document.querySelector(e):e:t.getRootNode().defaultView.getConfig().container}function Nz(t){const e=t.getBounds(),{min:[n,r],max:[i,o]}=e;return{x:n,y:r,width:i-n,height:o-r}}function Bz(t,e){const n=t.getBoundingClientRect(),r=e.getBoundingClientRect();return{x:n.x-r.x,y:n.y-r.y}}function Dz(t,e,n,r,i,o,a){const s=new kz({className:"tooltip",style:{x:e,y:n,container:a,data:[],bounding:o,position:r,enterable:i,title:"",offset:[10,10],template:{prefixCls:"g2-"},style:{".g2-tooltip":{},".g2-tooltip-title":{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}}}});return t.appendChild(s.HTMLTooltipElement),s}function Fz({root:t,data:e,x:n,y:r,render:i,event:o,single:a,position:s="right-bottom",enterable:l=!1,mount:u,bounding:c}){const f=t.getRootNode().defaultView.getConfig().container,h=jz(t,u),d=a?f:t,p=c||Nz(t),v=Bz(f,h),{tooltipElement:g=Dz(h,n,r,s,l,p,v)}=d,{items:y,title:m=""}=e;g.update(Object.assign({x:n,y:r,data:y,title:m,position:s,enterable:l},void 0!==i&&{content:i(o,{items:y,title:m})})),d.tooltipElement=g}function zz({root:t,single:e,emitter:n,nativeEvent:r=!0,mount:i}){r&&n.emit("tooltip:hide",{nativeEvent:r});const o=t.getRootNode().defaultView.getConfig().container,a=e?o:t,{tooltipElement:s}=a;s&&s.hide()}function Wz(t){const{tooltipElement:e}=t;e&&(e.destroy(),t.tooltipElement=void 0)}function Hz(t){const{value:e}=t;return Object.assign(Object.assign({},t),{value:void 0===e?"undefined":e})}function $z(t){const{__data__:e}=t,{title:n,items:r=[]}=e,i=r.filter(Wg).map((e=>{var{color:n=Vz(t)}=e,r=Iz(e,["color"]);return Object.assign(Object.assign({},r),{color:n})})).map(Hz);return Object.assign(Object.assign({},n&&{title:n}),{items:i})}function Gz(t,e){const{color:n,series:r}=t,{color:i,series:o}=e,a=t=>t&&t.invert&&!(t instanceof GC)&&!(t instanceof AC);if(a(r))return r.invert(o);if(o&&o!==i)return o;if(a(n)){const t=n.invert(i);return Array.isArray(t)?null:t}return null}function Vz(t){const e=t.getAttribute("fill"),n=t.getAttribute("stroke"),{__data__:r}=t,{color:i=(e&&"transparent"!==e?e:n)}=r;return i}function Uz(t,e=(t=>t)){const n=new Map(t.map((t=>[e(t),t])));return Array.from(n.values())}function Yz(t,e,n,r=t.map((t=>t["__data__"]))){const i=t=>t instanceof Date?+t:t,o=Uz(r.map((t=>t.title)),i).filter(Wg),a=r.flatMap(((r,i)=>{const o=t[i],{items:a=[],title:s}=r,l=a.filter(Wg),u=void 0!==n?n:a.length<=1;return l.map((t=>{var{color:n=Vz(o),name:i}=t,a=Iz(t,["color","name"]);const l=u?Gz(e,r)||i:i||Gz(e,r);return Object.assign(Object.assign({},a),{color:n,name:l||s})}))})).map(Hz);return Object.assign(Object.assign({},o.length>0&&{title:o.join(",")}),{items:Uz(a,(t=>`(${i(t.name)}, ${i(t.value)}, ${i(t.color)})`))})}function qz(t,e,n){var{plotWidth:r,plotHeight:i,mainWidth:o,mainHeight:a,startX:s,startY:l,transposed:u,polar:c,insetLeft:f,insetTop:h}=n,d=Iz(n,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const p=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},d),v=e.map((t=>t[1])),g=e.map((t=>t[0])),y=bz(v),m=bz(g),b=()=>{if(c){const t=Math.min(o,a)/2,e=s+f+o/2,n=l+h+a/2,r=aE(rE([m,y],[e,n])),i=e+t*Math.cos(r),u=n+t*Math.sin(r);return[e,i,n,u]}return u?[s,s+r,y+l,y+l]:[m+s,m+s,l,l+i]},[x,w,_,O]=b(),C=()=>{const e=new Su({style:Object.assign({x1:x,x2:w,y1:_,y2:O},p)});return t.appendChild(e),e};if(g.length>0){const e=t.ruleY||C();e.style.x1=x,e.style.x2=w,e.style.y1=_,e.style.y2=O,t.ruleY=e}}function Xz(t){t.ruleY&&(t.ruleY.remove(),t.ruleY=void 0)}function Kz(t,e){return Array.from(t.values()).some((t=>{var n;return null===(n=t.interaction)||void 0===n?void 0:n[e]}))}function Zz(t,e){return void 0===t?e:t}function Qz(t){const{title:e,items:n}=t;return 0===n.length&&void 0===e}function Jz(t){return Array.from(t.values()).some((t=>{var e;return(null===(e=t.interaction)||void 0===e?void 0:e.seriesTooltip)&&t.tooltip}))}function tW(t,e){var{elements:n,sort:r,filter:i,scale:o,coordinate:a,crosshairs:s,render:l,groupName:u,emitter:c,wait:f=50,leading:h=!0,trailing:d=!1,startX:p=0,startY:v=0,body:g=!0,single:y=!0,position:m,enterable:b,mount:x,bounding:w,disableNative:_=!1,style:O={}}=e,C=Iz(e,["elements","sort","filter","scale","coordinate","crosshairs","render","groupName","emitter","wait","leading","trailing","startX","startY","body","single","position","enterable","mount","bounding","disableNative","style"]);const S=n(t),E=pv(a),M=vv(a),k=Bd(O,C),{innerWidth:T,innerHeight:A,width:L,height:P,insetLeft:R,insetTop:I}=a.getOptions(),j=[],N=[];for(const X of S){const{__data__:t}=X,{seriesX:e}=t;e?j.push(X):N.push(X)}j.sort(((t,e)=>{const n=E?0:1,r=t=>t.getBounds().min[n];return E?r(e)-r(t):r(t)-r(e)}));const B=new Map(j.map((t=>{const{__data__:e}=t,{seriesX:n}=e,r=n.map(((t,e)=>e)),i=hm(r,(t=>n[+t]));return[t,[i,n]]}))),D=Gg(k,"crosshairs"),{x:F}=o,z=(null===F||void 0===F?void 0:F.getBandWidth)?F.getBandWidth()/2:0,W=t=>{const[e]=a.invert(t);return e-z},H=(t,e,n)=>{const r=W(t),[i,o]=hm([n[0],n[n.length-1]]);if(r<i||r>o)return null;const a=SD((t=>n[+t])).center,s=a(e,r);return e[s]},$=(t,e)=>{const n=E?1:0,r=t[n],i=t=>{const{min:e,max:r}=t.getLocalBounds();return hm([e[n],r[n]])};return e.filter((t=>{const[e,n]=i(t);return r>=e&&r<=n}))},G=(t,e)=>{const{__data__:n}=t;return Object.fromEntries(Object.entries(n).filter((([t])=>t.startsWith("series")&&"series"!==t)).map((([t,n])=>{const r=n[e];return[Rg(t.replace("series","")),r]})))},V=fz((e=>{const n=IF(t,e);if(!n)return;const f=t.getRenderBounds(),h=f.min[0],d=f.min[1],_=[n[0]-p,n[1]-v];if(!_)return;const O=$(_,N),C=[],S=[];for(const t of j){const[e,n]=B.get(t),r=H(_,e,n);if(null!==r){C.push(t);const e=G(t,r),{x:n,y:i}=e,o=a.map([(n||0)+z,i||0]);S.push([e,o])}}const k=Array.from(new Set(S.map((t=>t[0].x)))),F=k[um(k,(t=>Math.abs(t-W(_))))],V=S.filter((t=>t[0].x===F)),Y=[...V.map((t=>t[0])),...O.map((t=>t.__data__))],q=[...C,...O],X=Yz(q,o,u,Y);if(r&&X.items.sort(((t,e)=>r(t)-r(e))),i&&(X.items=X.items.filter(i)),0===q.length||Qz(X))U();else{if(g&&Fz({root:t,data:X,x:n[0]+h,y:n[1]+d,render:l,event:e,single:y,position:m,enterable:b,mount:x,bounding:w}),s){const e=V.map((t=>t[1]));qz(t,e,Object.assign(Object.assign({},D),{plotWidth:T,plotHeight:A,mainWidth:L,mainHeight:P,insetLeft:R,insetTop:I,startX:p,startY:v,transposed:E,polar:M}))}c.emit("tooltip:show",Object.assign(Object.assign({},e),{nativeEvent:!0,data:{data:{x:ID(o.x,W(_),!0)}}}))}}),f,{leading:h,trailing:d}),U=()=>{zz({root:t,single:y,emitter:c,mount:x}),s&&Xz(t)},Y=({nativeEvent:e,data:n})=>{if(e)return;const{x:r}=n.data,{x:i}=o,s=i.map(r),[l,u]=a.map([s,.5]),{min:[c,f]}=t.getRenderBounds();V({offsetX:l+c,offsetY:u+f})},q=()=>{zz({root:t,single:y,emitter:c,nativeEvent:!1,mount:x})};return c.on("tooltip:show",Y),c.on("tooltip:hide",q),_||(t.addEventListener("pointerenter",V),t.addEventListener("pointermove",V),t.addEventListener("pointerleave",U)),()=>{_||(t.removeEventListener("pointerenter",V),t.removeEventListener("pointermove",V),t.removeEventListener("pointerleave",U)),c.off("tooltip:show",Y),c.off("tooltip:hide",q),Wz(t),s&&Xz(t)}}function eW(t,{elements:e,scale:n,render:r,groupName:i,sort:o,filter:a,emitter:s,wait:l=50,leading:u=!0,trailing:c=!1,groupKey:f=(t=>t),single:h=!0,position:d,enterable:p,datum:v,view:g,mount:y,bounding:m,body:b=!0,disableNative:x=!1}){const w=e(t),_=new Set(w),O=uv(w,f),C=fz((e=>{const{target:l}=e;if(!_.has(l))return void zz({root:t,single:h,emitter:s,mount:y});const u=f(l),c=O.get(u),v=1===c.length?$z(c[0]):Yz(c,n,i);if(o&&v.items.sort(((t,e)=>o(t)-o(e))),a&&(v.items=v.items.filter(a)),Qz(v))return void zz({root:t,single:h,emitter:s,mount:y});const{offsetX:x,offsetY:w}=e;b&&Fz({root:t,data:v,x:x,y:w,render:r,event:e,single:h,position:d,enterable:p,mount:y,bounding:m}),s.emit("tooltip:show",Object.assign(Object.assign({},e),{nativeEvent:!0,data:{data:Az(l,g)}}))}),l,{leading:u,trailing:c}),S=e=>{const{target:n}=e;_.has(n)&&zz({root:t,single:h,emitter:s,mount:y})},E=({nativeEvent:t,data:e})=>{if(t)return;const n=KF(w,e.data,v);if(!n)return;const r=n.getBBox(),{x:i,y:o,width:a,height:s}=r;C({target:n,offsetX:i+a/2,offsetY:o+s/2})},M=({nativeEvent:e}={})=>{e||zz({root:t,single:h,emitter:s,nativeEvent:!1,mount:y})};return s.on("tooltip:show",E),s.on("tooltip:hide",M),x||(t.addEventListener("pointerover",C),t.addEventListener("pointermove",C),t.addEventListener("pointerout",S)),()=>{x||(t.removeEventListener("pointerover",C),t.removeEventListener("pointermove",C),t.removeEventListener("pointerout",S)),s.off("tooltip:show",E),s.off("tooltip:hide",M),Wz(t)}}function nW(t){const{shared:e,crosshairs:n,series:r,name:i,item:o=(()=>({})),facet:a=!1}=t,s=Iz(t,["shared","crosshairs","series","name","item","facet"]);return(t,i,l)=>{const{container:u,view:c}=t,{scale:f,markState:h,coordinate:d}=c,p=Kz(h,"seriesTooltip"),v=Kz(h,"crosshairs"),g=RF(u),y=Zz(r,p);if(y&&Jz(h)&&!a)return tW(g,Object.assign(Object.assign({},s),{elements:AF,scale:f,coordinate:d,crosshairs:Zz(n,v),item:o,emitter:l}));if(y&&a){const e=i.filter((e=>e!==t&&e.options.parentKey===t.options.key)),r=LF(t,i),a=e[0].view.scale,u=g.getBounds(),c=u.min[0],f=u.min[1];return tW(g.parentNode.parentNode,Object.assign(Object.assign({},s),{elements:()=>r,scale:a,coordinate:d,crosshairs:Zz(n,v),item:o,startX:c,startY:f,emitter:l}))}return eW(g,Object.assign(Object.assign({},s),{datum:FF(c),elements:AF,scale:f,coordinate:d,groupKey:e?DF(c):void 0,item:o,emitter:l,view:c}))}}var rW=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))};const iW="legend-category",oW="items-item",aW="legend-category-item-marker",sW="legend-category-item-label";function lW(t){return t.getElementsByClassName(aW)[0]}function uW(t){return t.getElementsByClassName(sW)[0]}function cW(t){return t.getElementsByClassName(oW)}function fW(t){return t.getElementsByClassName(iW)}function hW(t){let e=t.parentNode;while(e&&!e.__data__)e=e.parentNode;return e.__data__}function dW(t,{legends:e,marker:n,label:r,datum:i,filter:o,emitter:a,channel:s,state:l={}}){const u=new Map,c=new Map,f=new Map,{unselected:h={markerStroke:"#aaa",markerFill:"#aaa",labelFill:"#aaa"}}=l,d={unselected:Gg(h,"marker")},p={unselected:Gg(h,"label")},{setState:v,removeState:g}=zF(d,void 0),{setState:y,removeState:m}=zF(p,void 0),b=Array.from(e(t));let x=b.map(i);const w=()=>{for(const t of b){const e=i(t),o=n(t),a=r(t);x.includes(e)?(g(o,"unselected"),m(a,"unselected")):(v(o,"unselected"),y(a,"unselected"))}};for(const C of b){const e=()=>{qF(t,"pointer")},n=()=>{XF(t)},r=t=>rW(this,void 0,void 0,(function*(){const e=i(C),n=x.indexOf(e);-1===n?x.push(e):x.splice(n,1),0===x.length&&x.push(...b.map(i)),yield o(x),w();const{nativeEvent:r=!0}=t;r&&(x.length===b.length?a.emit("legend:reset",{nativeEvent:r}):a.emit("legend:filter",Object.assign(Object.assign({},t),{nativeEvent:r,data:{channel:s,values:x}})))}));C.addEventListener("click",r),C.addEventListener("pointerenter",e),C.addEventListener("pointerout",n),u.set(C,r),c.set(C,e),f.set(C,n)}const _=t=>rW(this,void 0,void 0,(function*(){const{nativeEvent:e}=t;if(e)return;const{data:n}=t,{channel:r,values:i}=n;r===s&&(x=i,yield o(x),w())})),O=t=>rW(this,void 0,void 0,(function*(){const{nativeEvent:e}=t;e||(x=b.map(i),yield o(x),w())}));return a.on("legend:filter",_),a.on("legend:reset",O),()=>{for(const t of b)t.removeEventListener("click",u.get(t)),t.removeEventListener("pointerenter",c.get(t)),t.removeEventListener("pointerout",f.get(t)),a.off("legend:filter",_),a.off("legend:reset",O)}}function pW(){return(t,e,n)=>{const{container:r,view:i,options:o,update:a}=t,s=fW(r),l=(t,e)=>rW(this,void 0,void 0,(function*(){const{scale:n}=i,{[t]:r}=n,{marks:s}=o,l=s.map((n=>{if("legends"===n.type)return n;const{transform:i=[]}=n,o=[{type:"filter",[t]:e},...i];return Bd({},n,{transform:o,scale:{[t]:{domain:r.getOptions().domain}},legend:{[t]:{preserve:!0}}})})),u=Object.assign(Object.assign({},o),{marks:l});return a(u)})),u=s.map((t=>{const{name:e,domain:i}=hW(t).scales[0];return dW(r,{legends:cW,marker:lW,label:uW,datum:t=>{const{__data__:e}=t,{index:n}=e;return i[n]},filter:t=>l(e,t),state:t.attributes.state,channel:e,emitter:n})}));return()=>{u.forEach((t=>t()))}}}function vW(){return(t,e,n)=>{const{container:r,view:i,options:o}=t,a=fW(r),s=AF(r),l=t=>hW(t).scales[0].name,u=t=>{const{scale:{[t]:e}}=i;return e},c=$F(o,["active","inactive"]),f=GF(s,FF(i)),h=[];for(const d of a){const t=t=>{const{data:e}=d.attributes,{__data__:n}=t,{index:r}=n;return e[r].label},e=l(d),r=cW(d),i=u(e),o=uv(s,(t=>i.invert(t.__data__[e]))),{state:a={}}=d.attributes,{inactive:p={}}=a,{setState:v,removeState:g}=zF(c,f),y={inactive:Gg(p,"marker")},m={inactive:Gg(p,"label")},{setState:b,removeState:x}=zF(y),{setState:w,removeState:_}=zF(m),O=t=>{for(const e of r){const n=lW(e),r=uW(e);e===t||null===t?(x(n,"inactive"),_(r,"inactive")):(b(n,"inactive"),w(r,"inactive"))}},C=(r,i)=>{const a=t(i),l=new Set(o.get(a));for(const t of s)l.has(t)?v(t,"active"):v(t,"inactive");O(i);const{nativeEvent:u=!0}=r;u&&n.emit("legend:highlight",Object.assign(Object.assign({},r),{nativeEvent:u,data:{channel:e,value:a}}))},S=new Map;for(const n of r){const t=t=>{C(t,n)};n.addEventListener("pointerover",t),S.set(n,t)}const E=t=>{for(const n of s)g(n,"inactive","active");O(null);const{nativeEvent:e=!0}=t;e&&n.emit("legend:unhighlight",{nativeEvent:e})},M=n=>{const{nativeEvent:i,data:o}=n;if(i)return;const{channel:a,value:s}=o;if(a!==e)return;const l=r.find((e=>t(e)===s));l&&C({nativeEvent:!1},l)},k=t=>{const{nativeEvent:e}=t;e||E({nativeEvent:!1})};d.addEventListener("pointerleave",E),n.on("legend:highlight",M),n.on("legend:unhighlight",k);const T=()=>{d.removeEventListener(E),n.off("legend:highlight",M),n.off("legend:unhighlight",k);for(const[t,e]of S)t.removeEventListener(e)};h.push(T)}return()=>h.forEach((t=>t()))}}var gW=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function yW(t,e){const[n,r,i,o]=t,[a,s,l,u]=e;return!(a>i||l<n||s>o||u<r)}function mW(t,e,n,r,i){const[o,a,s,l]=i;return[Math.max(o,Math.min(t,n)),Math.max(a,Math.min(e,r)),Math.min(s,Math.max(t,n)),Math.min(l,Math.max(e,r))]}function bW(t){const{width:e,height:n}=t.getBBox();return[0,0,e,n]}function xW(t,e){for(const[n,r]of Object.entries(e))t.style(n,r)}const wW=JM((t=>{const e=t.attributes,{x:n,y:r,width:i,height:o,class:a,renders:s={},handleSize:l=10,document:u}=e,c=gW(e,["x","y","width","height","class","renders","handleSize","document"]);if(!u||void 0===i||void 0===o||void 0===n||void 0===r)return;const f=l/2,h=(t,e,n)=>{t.handle||(t.handle=n.createElement("rect"),t.append(t.handle));const{handle:r}=t;return r.attr(e),r},d=Gg(Yg(c,"handleNW","handleNE"),"handleN"),{render:p=h}=d,v=gW(d,["render"]),g=Gg(c,"handleE"),{render:y=h}=g,m=gW(g,["render"]),b=Gg(Yg(c,"handleSE","handleSW"),"handleS"),{render:x=h}=b,w=gW(b,["render"]),_=Gg(c,"handleW"),{render:O=h}=_,C=gW(_,["render"]),S=Gg(c,"handleNW"),{render:E=h}=S,M=gW(S,["render"]),k=Gg(c,"handleNE"),{render:T=h}=k,A=gW(k,["render"]),L=Gg(c,"handleSE"),{render:P=h}=L,R=gW(L,["render"]),I=Gg(c,"handleSW"),{render:j=h}=I,N=gW(I,["render"]),B=(t,e)=>{const{id:n}=t,r=t.attributes,{x:i,y:o}=r,a=gW(r,["x","y"]),s=e(t,Object.assign({x:0,y:0},a),u);s.id=n,s.style.draggable=!0},D=t=>()=>{const e=JM((e=>B(e,t)));return new e({})},F=wE(t).attr("className",a).style("x",n).style("y",r).style("draggable",!0);F.maybeAppend("selection","rect").style("draggable",!0).style("fill","transparent").call(xW,Object.assign({width:i,height:o},Yg(c,"handle"))),F.maybeAppend("handle-n",D(p)).style("x",f).style("y",-f).style("width",i-l).style("height",l).style("fill","transparent").call(xW,v),F.maybeAppend("handle-e",D(y)).style("x",i-f).style("y",f).style("width",l).style("height",o-l).style("fill","transparent").call(xW,m),F.maybeAppend("handle-s",D(x)).style("x",f).style("y",o-f).style("width",i-l).style("height",l).style("fill","transparent").call(xW,w),F.maybeAppend("handle-w",D(O)).style("x",-f).style("y",f).style("width",l).style("height",o-l).style("fill","transparent").call(xW,C),F.maybeAppend("handle-nw",D(E)).style("x",-f).style("y",-f).style("width",l).style("height",l).style("fill","transparent").call(xW,M),F.maybeAppend("handle-ne",D(T)).style("x",i-f).style("y",-f).style("width",l).style("height",l).style("fill","transparent").call(xW,A),F.maybeAppend("handle-se",D(P)).style("x",i-f).style("y",o-f).style("width",l).style("height",l).style("fill","transparent").call(xW,R),F.maybeAppend("handle-sw",D(j)).style("x",-f).style("y",o-f).style("width",l).style("height",l).style("fill","transparent").call(xW,N)}));function _W(t,e){var{brushed:n=(()=>{}),brushended:r=(()=>{}),brushcreated:i=(()=>{}),extent:o=bW(t),brushRegion:a=((t,e,n,r,i)=>[t,e,n,r]),reverse:s=!1,fill:l="#777",fillOpacity:u="0.3",stroke:c="#fff",selectedHandles:f=["handle-n","handle-e","handle-s","handle-w","handle-nw","handle-ne","handle-se","handle-sw"]}=e,h=gW(e,["brushed","brushended","brushcreated","extent","brushRegion","reverse","fill","fillOpacity","stroke","selectedHandles"]);let d=null,p=null,v=null,g=null,y=null,m=!1;const[b,x,w,_]=o;qF(t,"crosshair"),t.style.draggable=!0;const O=(t,e)=>{if(g&&g.remove(),y&&y.remove(),d=[t,e],s)return C();S()},C=()=>{y=new Eu({style:Object.assign(Object.assign({},h),{fill:l,fillOpacity:u,stroke:c,pointerEvents:"none"})}),g=new wW({style:{x:0,y:0,width:0,height:0,draggable:!0,document:t.ownerDocument},className:"mask"}),t.appendChild(y),t.appendChild(g)},S=()=>{g=new wW({style:Object.assign(Object.assign({document:t.ownerDocument,x:0,y:0},h),{fill:l,fillOpacity:u,stroke:c,draggable:!0}),className:"mask"}),t.appendChild(g)},E=(t=!0)=>{g&&g.remove(),y&&y.remove(),d=null,p=null,v=null,m=!1,g=null,y=null,r(t)},M=(t,e,r=!0)=>{const[i,l,u,c]=mW(t[0],t[1],e[0],e[1],o),[f,h,d,p]=a(i,l,u,c,o);return s?T(f,h,d,p):k(f,h,d,p),n(f,h,d,p,r),[f,h,d,p]},k=(t,e,n,r)=>{g.style.x=t,g.style.y=e,g.style.width=n-t,g.style.height=r-e},T=(t,e,n,r)=>{y.style.d=`\n      M${b},${x}L${w},${x}L${w},${_}L${b},${_}Z\n      M${t},${e}L${t},${r}L${n},${r}L${n},${e}Z\n    `,g.style.x=t,g.style.y=e,g.style.width=n-t,g.style.height=r-e},A=t=>{const e=(t,e,n,r,i)=>t+e<r?r-e:t+n>i?i-n:t,n=t[0]-v[0],r=t[1]-v[1],i=e(n,d[0],p[0],b,w),o=e(r,d[1],p[1],x,_),a=[d[0]+i,d[1]+o],s=[p[0]+i,p[1]+o];M(a,s)},L={"handle-n":{vector:[0,1,0,0],cursor:"ns-resize"},"handle-e":{vector:[0,0,1,0],cursor:"ew-resize"},"handle-s":{vector:[0,0,0,1],cursor:"ns-resize"},"handle-w":{vector:[1,0,0,0],cursor:"ew-resize"},"handle-nw":{vector:[1,1,0,0],cursor:"nwse-resize"},"handle-ne":{vector:[0,1,1,0],cursor:"nesw-resize"},"handle-se":{vector:[0,0,1,1],cursor:"nwse-resize"},"handle-sw":{vector:[1,0,0,1],cursor:"nesw-resize"}},P=t=>I(t)||R(t),R=t=>{const{id:e}=t;return-1!==f.indexOf(e)&&new Set(Object.keys(L)).has(e)},I=t=>t===g.getElementById("selection"),j=e=>{const{target:n}=e,[r,i]=jF(t,e);if(!g||!P(n))return O(r,i),void(m=!0);P(n)&&(v=[r,i])},N=e=>{const{target:n}=e,r=jF(t,e);if(!d)return;if(!v)return M(d,r);if(I(n))return A(r);const[i,o]=[r[0]-v[0],r[1]-v[1]],{id:a}=n;if(L[a]){const[t,e,n,r]=L[a].vector;return M([d[0]+i*t,d[1]+o*e],[p[0]+i*n,p[1]+o*r])}},B=e=>{if(v){v=null;const{x:t,y:e,width:n,height:r}=g.style;return d=[t,e],void(p=[t+n,e+r])}p=jF(t,e);const[n,r,o,a]=M(d,p);m=!1,i(n,r,o,a,e)},D=t=>{const{target:e}=t;g&&!P(e)&&E()},F=e=>{const{target:n}=e;g&&P(n)&&!m?I(n)?qF(t,"move"):R(n)&&qF(t,L[n.id].cursor):qF(t,"crosshair")},z=()=>{qF(t,"default")};return t.addEventListener("dragstart",j),t.addEventListener("drag",N),t.addEventListener("dragend",B),t.addEventListener("click",D),t.addEventListener("pointermove",F),t.addEventListener("pointerleave",z),{mask:g,move(t,e,n,r,i=!0){g||O(t,e),d=[t,e],p=[n,r],M([t,e],[n,r],i)},remove(t=!0){g&&E(t)},destroy(){g&&E(!1),qF(t,"default"),t.removeEventListener("dragstart",j),t.removeEventListener("drag",N),t.removeEventListener("dragend",B),t.removeEventListener("click",D),t.removeEventListener("pointermove",F),t.removeEventListener("pointerleave",z)}}}function OW(t,e,n){return e.filter((e=>{if(e===t)return!1;const{interaction:r={}}=e.options;return Object.values(r).find((t=>t.brushKey===n))}))}function CW(t,e,n){return OW(t,e,n).map((t=>RF(t.container)))}function SW(t,e,n){return OW(t,e,n).map((t=>t.options))}function EW(t,e){var{elements:n,selectedHandles:r,siblings:i=(t=>[]),datum:o,brushRegion:a,extent:s,reverse:l,scale:u,coordinate:c,series:f=!1,key:h=(t=>t),bboxOf:d=(t=>{const{x:e,y:n,width:r,height:i}=t.style;return{x:e,y:n,width:r,height:i}}),state:p={},emitter:v}=e,g=gW(e,["elements","selectedHandles","siblings","datum","brushRegion","extent","reverse","scale","coordinate","series","key","bboxOf","state","emitter"]);const y=n(t),m=i(t),b=m.flatMap(n),x=GF(y,o),w=Gg(g,"mask"),{setState:_,removeState:O}=zF(p,x),C=new Map,{width:S,height:E,x:M=0,y:k=0}=d(t),T=s||[0,0,S,E],A=()=>{for(const t of[...y,...b])O(t,"active","inactive")},L=(t,e,n,r)=>{var i;for(const a of m)null===(i=a.brush)||void 0===i||i.remove();const o=new Set;for(const a of y){const{min:i,max:s}=a.getLocalBounds(),[l,u]=i,[c,f]=s;yW([l,u,c,f],[t,e,n,r])?(_(a,"active"),o.add(h(a))):_(a,"inactive")}for(const a of b)o.has(h(a))?_(a,"active"):_(a,"inactive")},P=()=>{for(const t of y)O(t,"inactive");for(const t of C.values())t.remove();C.clear()},R=(t,e,n,r)=>{const i=t=>{const e=t.cloneNode();return e.__data__=t.__data__,t.parentNode.appendChild(e),C.set(t,e),e};for(const o of y){const a=C.get(o)||i(o);a.style.clipPath=new Tu({style:{x:t+M,y:e+k,width:n-t,height:r-e}}),_(o,"inactive"),_(a,"active")}},I=_W(t,Object.assign(Object.assign({},w),{extent:T,brushRegion:a,reverse:l,selectedHandles:r,brushended:t=>{const e=f?P:A;t&&v.emit("brush:remove",{nativeEvent:!0}),e()},brushed:(t,e,n,r,i)=>{const o=ND(t,e,n,r,u,c);i&&v.emit("brush:highlight",{nativeEvent:!0,data:{selection:o}});const a=f?R:L;a(t,e,n,r)}})),j=({nativeEvent:t,data:e})=>{if(t)return;const{selection:n}=e,[r,i,o,a]=DD(n,u,c);I.move(r,i,o,a,!1)};v.on("brush:highlight",j);const N=({nativeEvent:t}={})=>{t||I.remove(!1)};v.on("brush:remove",N);const B=I.destroy.bind(I);return I.destroy=()=>{v.off("brush:highlight",j),v.off("brush:remove",N),B()},I}function MW(t){var{facet:e,brushKey:n}=t,r=gW(t,["facet","brushKey"]);return(t,i,o)=>{const{container:a,view:s,options:l}=t,u=RF(a),c={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",reverse:!1},f=["active",["inactive",{opacity:.5}]],{scale:h,coordinate:d}=s;if(e){const e=u.getBounds(),n=e.min[0],a=e.min[1],s=e.max[0],l=e.max[1];return EW(u.parentNode.parentNode,Object.assign(Object.assign({elements:()=>LF(t,i),datum:FF(PF(t,i).map((t=>t.view))),brushRegion:(t,e,n,r)=>[t,e,n,r],extent:[n,a,s,l],state:$F(PF(t,i).map((t=>t.options)),f),emitter:o,scale:h,coordinate:d,selectedHandles:void 0},c),r))}const p=EW(u,Object.assign(Object.assign({elements:AF,key:t=>t.__data__.key,siblings:()=>CW(t,i,n),datum:FF([s,...OW(t,i,n).map((t=>t.view))]),brushRegion:(t,e,n,r)=>[t,e,n,r],extent:void 0,state:$F([l,...SW(t,i,n)],f),emitter:o,scale:h,coordinate:d,selectedHandles:void 0},c),r));return u.brush=p,()=>p.destroy()}}function kW(t,e,n,r,i){const[,o,,a]=i;return[t,o,n,a]}function TW(t){return MW(Object.assign(Object.assign({},t),{brushRegion:kW,selectedHandles:["handle-e","handle-w"]}))}function AW(t,e,n,r,i){const[o,,a]=i;return[o,e,a,r]}function LW(t){return MW(Object.assign(Object.assign({},t),{brushRegion:AW,selectedHandles:["handle-n","handle-s"]}))}var PW=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const RW="axis",IW="axis-line",jW="axis-main-group",NW="axis-hot-area";function BW(t){return t.getElementsByClassName(RW)}function DW(t){return t.getElementsByClassName(IW)[0]}function FW(t){return t.getElementsByClassName(jW)[0]}function zW(t){return FW(t).getLocalBounds()}function WW(t,e){var{cross:n,offsetX:r,offsetY:i}=e,o=PW(e,["cross","offsetX","offsetY"]);const a=zW(t),s=DW(t),[l]=s.getLocalBounds().min,[u,c]=a.min,[f,h]=a.max,d=2*(f-u);return{brushRegion:AW,hotZone:new Tu({className:NW,style:Object.assign({x:n?u:l-d/2,width:n?d/2:d,y:c,height:h-c},o)}),extent:n?(t,e,n,r)=>[-1/0,e,1/0,r]:(t,e,n,i)=>[Math.floor(u-r),e,Math.ceil(f-r),i]}}function HW(t,e){var{offsetY:n,offsetX:r,cross:i=!1}=e,o=PW(e,["offsetY","offsetX","cross"]);const a=zW(t),s=DW(t),[,l]=s.getLocalBounds().min,[u,c]=a.min,[f,h]=a.max,d=h-c;return{brushRegion:kW,hotZone:new Tu({className:NW,style:Object.assign({x:u,width:f-u,y:i?c:l-d,height:i?d:2*d},o)}),extent:i?(t,e,n,r)=>[t,-1/0,n,1/0]:(t,e,r,i)=>[t,Math.floor(c-n),r,Math.ceil(h-n)]}}function $W(t,e){var{axes:n,elements:r,points:i,horizontal:o,datum:a,offsetY:s,offsetX:l,reverse:u=!1,state:c={},emitter:f,coordinate:h}=e,d=PW(e,["axes","elements","points","horizontal","datum","offsetY","offsetX","reverse","state","emitter","coordinate"]);const p=r(t),v=n(t),g=GF(p,a),{setState:y,removeState:m}=zF(c,g),b=new Map,x=Gg(d,"mask"),w=t=>Array.from(b.values()).every((([e,n,r,i])=>t.some((([t,o])=>t>=e&&t<=r&&o>=n&&o<=i)))),_=v.map((t=>t.attributes.scale)),O=t=>t.length>2?[t[0],t[t.length-1]]:t,C=new Map,S=()=>{C.clear();for(let t=0;t<v.length;t++){const e=_[t],{domain:n}=e.getOptions();C.set(t,O(n))}};S();const E=(t,e)=>{const n=[];for(const o of p){const t=i(o);w(t)?(y(o,"active"),n.push(o)):y(o,"inactive")}if(C.set(t,k(n,t)),!e)return;const r=()=>{if(!T)return Array.from(C.values());const t=[];for(const[e,n]of C){const r=_[e],{name:i}=r.getOptions();"x"===i?t[0]=n:t[1]=n}return t};f.emit("brushAxis:highlight",{nativeEvent:!0,data:{selection:r()}})},M=t=>{for(const e of p)m(e,"active","inactive");S(),t&&f.emit("brushAxis:remove",{nativeEvent:!0})},k=(t,e)=>{const n=_[e],{name:r}=n.getOptions(),i=t.map((t=>{const e=t.__data__;return n.invert(e[r])}));return O(jD(n,i))},T=v.some(o)&&v.some((t=>!o(t))),A=[];for(let j=0;j<v.length;j++){const t=v[j],e=o(t)?HW:WW,{hotZone:n,brushRegion:r,extent:i}=e(t,{offsetY:s,offsetX:l,cross:T,zIndex:999,fill:"transparent"});t.parentNode.appendChild(n);const a=_W(n,Object.assign(Object.assign({},x),{reverse:u,brushRegion:r,brushended(e){b.delete(t),0===Array.from(b.entries()).length?M(e):E(j,e)},brushed(e,n,r,o,a){b.set(t,i(e,n,r,o)),E(j,a)}}));A.push(a)}const L=(t={})=>{const{nativeEvent:e}=t;e||A.forEach((t=>t.remove(!1)))},P=(t,e,n)=>{const[r,i]=t,a=t=>t.getStep?t.getStep():0,s=R(r,e,n),l=R(i,e,n)+a(e);return o(n)?[s,-1/0,l,1/0]:[-1/0,s,1/0,l]},R=(t,e,n)=>{const{height:r,width:i}=h.getOptions(),a=e.clone();return o(n)?a.update({range:[0,i]}):a.update({range:[r,0]}),a.map(t)},I=t=>{const{nativeEvent:e}=t;if(e)return;const{selection:n}=t.data;for(let r=0;r<A.length;r++){const t=n[r],e=A[r],i=v[r];if(t){const n=_[r];e.move(...P(t,n,i),!1)}else e.remove(!1)}};return f.on("brushAxis:remove",L),f.on("brushAxis:highlight",I),()=>{A.forEach((t=>t.destroy())),f.off("brushAxis:remove",L),f.off("brushAxis:highlight",I)}}function GW(t){return(e,n,r)=>{const{container:i,view:o,options:a}=e,s=RF(i),{x:l,y:u}=s.getBBox(),{coordinate:c}=o;return $W(i,Object.assign({elements:AF,axes:BW,offsetY:u,offsetX:l,points:t=>t.__data__.points,horizontal:t=>{const{startPos:[e,n],endPos:[r,i]}=t.attributes;return e!==r&&n===i},datum:FF(o),state:$F(a,["active",["inactive",{opacity:.5}]]),coordinate:c,emitter:r},t))}}var VW=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))},UW=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function YW(t=300){let e=null;return n=>{const{timeStamp:r}=n;return null!==e&&r-e<t?(e=r,!0):(e=r,!1)}}function qW(t,e){var{filter:n,reset:r,brushRegion:i,extent:o,reverse:a,emitter:s,scale:l,coordinate:u,selection:c,series:f=!1}=e,h=UW(e,["filter","reset","brushRegion","extent","reverse","emitter","scale","coordinate","selection","series"]);const d=Gg(h,"mask"),{width:p,height:v}=t.getBBox(),g=o||[0,0,p,v],y=YW(),m=_W(t,Object.assign(Object.assign({},d),{extent:g,brushRegion:i,reverse:a,brushcreated:b}));function b(t,e,r,i,o){o.nativeEvent=!0,n(c(t,e,r,i),o),m.remove()}function x(t){y(t)&&(t.nativeEvent=!0,r(t))}t.addEventListener("click",x);const w=({nativeEvent:t,data:e})=>{if(t)return;const{selection:r}=e;n(r,{nativeEvent:!1})};return s.on("brush:filter",w),()=>{m.destroy(),s.off("brush:filter",w),t.removeEventListener("click",x)}}function XW(t){var{hideX:e=!0,hideY:n=!0}=t,r=UW(t,["hideX","hideY"]);return(t,i,o)=>{const{container:a,view:s,options:l,update:u}=t,c=RF(a),f={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",unhighlightedOpacity:.5,reverse:!1};let h=!1,d=!1,p=s;const{scale:v,coordinate:g}=s;return qW(c,Object.assign(Object.assign({brushRegion:(t,e,n,r)=>[t,e,n,r],selection:(t,e,n,r)=>{const{scale:i,coordinate:o}=p;return ND(t,e,n,r,i,o)},filter:(t,r)=>VW(this,void 0,void 0,(function*(){if(d)return;d=!0;const[i,a]=t,{marks:s}=l,c=s.map((t=>Bd({axis:Object.assign(Object.assign({},e&&{x:{transform:[{type:"hide"}]}}),n&&{y:{transform:[{type:"hide"}]}})},t,{scale:{x:{domain:i,nice:!1},y:{domain:a,nice:!1}}})));o.emit("brush:filter",Object.assign(Object.assign({},r),{data:{selection:[i,a]}}));const f=Object.assign(Object.assign({},l),{marks:c,clip:!0}),v=yield u(f);p=v.view,d=!1,h=!0})),reset:t=>{if(d||!h)return;const{scale:e}=s,{x:n,y:r}=e,i=n.getOptions().domain,a=r.getOptions().domain;o.emit("brush:filter",Object.assign(Object.assign({},t),{data:{selection:[i,a]}})),h=!1,p=s,u(l)},extent:void 0,emitter:o,scale:v,coordinate:g},f),r))}}function KW(t){return XW(Object.assign(Object.assign({hideX:!0},t),{brushRegion:kW}))}function ZW(t){return XW(Object.assign(Object.assign({hideY:!0},t),{brushRegion:AW}))}var QW=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))};const JW="slider";function tH(t,e,n,r=!1){const{marks:i}=t,o=i.map((t=>{var i,o;return Bd({axis:{x:{transform:[{type:"hide"}]},y:{transform:[{type:"hide"}]}}},t,{scale:e,[n]:Object.assign(Object.assign({},(null===(i=t[n])||void 0===i?void 0:i.x)&&{x:Object.assign({preserve:!0},r&&{ratio:null})}),(null===(o=t[n])||void 0===o?void 0:o.y)&&{y:Object.assign({preserve:!0},r&&{ratio:null})}),animate:!1})}));return Object.assign(Object.assign({},t),{marks:o,clip:!0,animate:!1})}function eH(t,e,n){const[r,i]=t,o=n?t=>1-t:t=>t,a=ID(e,o(r),!0),s=ID(e,o(i),!1);return jD(e,[a,s])}function nH(t){return[t[0],t[t.length-1]]}function rH({channelDomain:t,className:e=JW,prefix:n="slider",setValue:r=((t,e)=>t.setValues(e)),hasState:i=!1,wait:o=50,leading:a=!0,trailing:s=!1}){return(l,u,c)=>{const{container:f,view:h,options:d,update:p}=l,v=f.getElementsByClassName(e);if(!v.length)return()=>{};let g=!1;const{scale:y,coordinate:m,layout:b}=h,{paddingLeft:x,paddingTop:w,paddingBottom:_,paddingRight:O}=b,{x:C,y:S}=y,E=pv(m),M=t=>{const e="vertical"===t?"y":"x",n="vertical"===t?"x":"y";return E?[n,e]:[e,n]},k=new Map,T=new Set;t||(t={x:C.getOptions().domain,y:S.getOptions().domain});for(const e of v){const{orientation:l}=e.attributes,[u,f]=M(l),h=`${n}${Fj(u)}:filter`,v="x"===u,{ratio:m}=C.getOptions(),{ratio:b}=S.getOptions(),A=e=>{if(e.data){const{selection:n}=e.data,[r=nH(t.x),i=nH(t.y)]=n;return v?[jD(C,r,m),jD(S,i,b)]:[jD(S,i,b),jD(C,r,m)]}const{value:n}=e.detail,r=y[u],i=eH(n,r,E&&"horizontal"===l),o=t[f];return[i,o]},L=fz((e=>QW(this,void 0,void 0,(function*(){if(g)return;g=!0;const{nativeEvent:r=!0}=e,[o,a]=A(e);t[u]=o,t[f]=a;const s=tH(d,{[u]:{domain:o,nice:!1},[f]:{domain:a,nice:!1}},n,i);if(r){const t=v?o:a,n=v?a:o;c.emit(h,Object.assign(Object.assign({},e),{nativeEvent:r,data:{selection:[nH(t),nH(n)]}}))}yield p(Object.assign(Object.assign({},s),{paddingLeft:x,paddingTop:w,paddingBottom:_,paddingRight:O})),g=!1}))),o,{leading:a,trailing:s}),P=t=>{const{nativeEvent:n}=t;if(n)return;const{data:i}=t,{selection:o}=i,[a,s]=o;e.dispatchEvent(new Sl("valuechange",{data:i,nativeEvent:!1}));const l=v?BD(a,C):BD(s,S);r(e,l)};c.on(h,P),e.addEventListener("valuechange",L),k.set(e,L),T.add([h,P])}return()=>{for(const[t,e]of k)t.removeEventListener("valuechange",e);for(const[t,e]of T)c.off(t,e)}}}const iH="g2-scrollbar";function oH(t={}){return(e,n,r)=>{const{view:i,container:o}=e,a=o.getElementsByClassName(iH);if(!a.length)return()=>{};const{scale:s}=i,{x:l,y:u}=s,c={x:l.getOptions().domain,y:u.getOptions().domain};l.update({domain:l.getOptions().expectedDomain}),u.update({domain:u.getOptions().expectedDomain});const f=rH(Object.assign(Object.assign({},t),{channelDomain:c,className:iH,prefix:"scrollbar",hasState:!0,setValue:(t,e)=>t.setValue(e[0])}));return f(e,n,r)}}var aH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function sH(t,e,n){return`<${t} style="${Object.entries(n).map((([t,e])=>`${mL(t)}:${e}`)).join(";")}">${e}</${t}>`}const lH={backgroundColor:"rgba(0,0,0,0.75)",color:"#fff",width:"max-content",padding:"1px 4px",fontSize:"12px",borderRadius:"2.5px",boxShadow:"0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05)"};function uH(t){return"text"===t.nodeName&&!!t.isOverflowing()}function cH(t){var{offsetX:e=8,offsetY:n=8}=t,r=aH(t,["offsetX","offsetY"]);return t=>{const{container:i}=t,[o,a]=i.getBounds().min,s=Gg(r,"tip"),l=new Set,u=t=>{const{target:r}=t;if(!uH(r))return void t.stopPropagation();const{offsetX:u,offsetY:c}=t,f=u+e-o,h=c+n-a;if(r.tip)return r.tip.style.x=f,void(r.tip.style.y=h);const{text:d}=r.style,p=new Ou({className:"poptip",style:{innerHTML:sH("div",d,Object.assign(Object.assign({},lH),s)),x:f,y:h}});i.appendChild(p),r.tip=p,l.add(p)},c=t=>{const{target:e}=t;uH(e)?e.tip&&(e.tip.remove(),e.tip=null,l.delete(e.tip)):t.stopPropagation()};return i.addEventListener("pointerover",u),i.addEventListener("pointerout",c),()=>{i.removeEventListener("pointerover",u),i.removeEventListener("pointerout",c),l.forEach((t=>t.remove()))}}}var fH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function hH(t){return(e,...n)=>Bd({},t(e,...n),e)}function dH(t){return(e,...n)=>Bd({},e,t(e,...n))}function pH(t,e){if(!t)return e;if(Array.isArray(t))return t;const{value:n=e}=t,r=fH(t,["value"]);return Object.assign(Object.assign({},r),{value:n})}var vH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const gH=()=>t=>{const{children:e}=t;if(!Array.isArray(e))return[];const{x:n=0,y:r=0,width:i,height:o,data:a}=t;return e.map((t=>{var{data:e,x:s,y:l,width:u,height:c}=t,f=vH(t,["data","x","y","width","height"]);return Object.assign(Object.assign({},f),{data:pH(e,a),x:null!==s&&void 0!==s?s:n,y:null!==l&&void 0!==l?l:r,width:null!==u&&void 0!==u?u:i,height:null!==c&&void 0!==c?c:o})}))};gH.props={};var yH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const mH=()=>t=>{const{children:e}=t;if(!Array.isArray(e))return[];const{direction:n="row",ratio:r=e.map((()=>1)),padding:i=0,data:o}=t,[a,s,l,u]="col"===n?["y","height","width","x"]:["x","width","height","y"],c=r.reduce(((t,e)=>t+e)),f=t[s]-i*(e.length-1),h=r.map((t=>f*(t/c))),d=[];let p=t[a]||0;for(let v=0;v<h.length;v+=1){const n=e[v],{data:r}=n,c=yH(n,["data"]),f=pH(r,o);d.push(Object.assign({[a]:p,[s]:h[v],[u]:t[u]||0,[l]:t[l],data:f},c)),p+=h[v]+i}return d};mH.props={};var bH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const xH=()=>t=>{const{children:e}=t,n=bH(t,["children"]);if(!Array.isArray(e))return[];const{data:r,scale:i={},axis:o={},legend:a={},encode:s={},transform:l=[]}=n,u=bH(n,["data","scale","axis","legend","encode","transform"]),c=e.map((t=>{var{data:e,scale:n={},axis:u={},legend:c={},encode:f={},transform:h=[]}=t,d=bH(t,["data","scale","axis","legend","encode","transform"]);return Object.assign({data:pH(e,r),scale:Bd({},i,n),encode:Bd({},s,f),transform:[...l,...h],axis:!(!u||!o)&&Bd({},o,u),legend:!(!c||!a)&&Bd({},a,c)},d)}));return[Object.assign(Object.assign({},u),{marks:c,type:"standardView"})]};xH.props={};var wH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const _H=({static:t=!1}={})=>e=>{const{width:n,height:r,paddingLeft:i,paddingRight:o,paddingTop:a,paddingBottom:s,padding:l,inset:u,insetLeft:c,insetTop:f,insetRight:h,insetBottom:d,margin:p,marginLeft:v,marginBottom:g,marginTop:y,marginRight:m,data:b,coordinate:x,theme:w,component:_,interaction:O,x:C,y:S,key:E,frame:M,labelTransform:k,parentKey:T,clip:A,viewStyle:L,title:P}=e,R=wH(e,["width","height","paddingLeft","paddingRight","paddingTop","paddingBottom","padding","inset","insetLeft","insetTop","insetRight","insetBottom","margin","marginLeft","marginBottom","marginTop","marginRight","data","coordinate","theme","component","interaction","x","y","key","frame","labelTransform","parentKey","clip","viewStyle","title"]);return[Object.assign(Object.assign({type:"standardView",x:C,y:S,key:E,width:n,height:r,padding:l,paddingLeft:i,paddingRight:o,paddingTop:a,inset:u,insetLeft:c,insetTop:f,insetRight:h,insetBottom:d,paddingBottom:s,theme:w,coordinate:x,component:_,interaction:O,frame:M,labelTransform:k,margin:p,marginLeft:v,marginBottom:g,marginTop:y,marginRight:m,parentKey:T,clip:A,style:L},!t&&{title:P}),{marks:[Object.assign(Object.assign(Object.assign({},R),{key:`${E}-0`,data:b}),t&&{title:P})]})]};_H.props={};class OH{constructor(t){this.$value=t}static of(t){return new OH(t)}call(t,...e){return this.$value=t(this.$value,...e),this}value(){return this.$value}}var CH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const SH=hH((t=>{const{encode:e,data:n,scale:r,shareSize:i=!1}=t,{x:o,y:a}=e,s=(t,e)=>{var o;if(void 0===t||!i)return{};const a=uv(n,(e=>e[t])),s=(null===(o=null===r||void 0===r?void 0:r[e])||void 0===o?void 0:o.domain)||Array.from(a.keys()),l=s.map((t=>a.has(t)?a.get(t).length:1));return{domain:s,flex:l}};return{scale:{x:Object.assign(Object.assign({paddingOuter:0,paddingInner:.1,guide:void 0===o?null:{position:"top"}},void 0===o&&{paddingInner:0}),s(o,"x")),y:Object.assign(Object.assign({range:[0,1],paddingOuter:0,paddingInner:.1,guide:void 0===a?null:{position:"right"}},void 0===a&&{paddingInner:0}),s(a,"y"))}}})),EH=hH((t=>{const{data:e,scale:n}=t,r=[t];let i,o,a;while(r.length){const t=r.shift(),{children:e,encode:n={},scale:s={},legend:l={}}=t,{color:u}=n,{color:c}=s,{color:f}=l;void 0!==u&&(i=u),void 0!==c&&(o=c),void 0!==f&&(a=f),Array.isArray(e)&&r.push(...e)}const s=()=>{var t;const r=null===(t=null===n||void 0===n?void 0:n.color)||void 0===t?void 0:t.domain;if(void 0!==r)return[r];if(void 0===i)return[void 0];const o="function"===typeof i?i:t=>t[i],a=e.map(o);return a.some((t=>"number"===typeof t))?[qS(a)]:[Array.from(new Set(a)),"ordinal"]},l="string"===typeof i?i:"",[u,c]=s();return{encode:{color:i},scale:{color:Bd({},o,{domain:u,type:c})},legend:{color:Bd({title:l},a)}}})),MH=hH((()=>({animate:{enterType:"fadeIn"}}))),kH=dH((()=>({frame:!1,encode:{shape:"hollow"},style:{lineWidth:0}}))),TH=dH((()=>({type:"cell"}))),AH=dH((t=>{const{data:e}=t,n={type:"custom",callback:()=>{const{data:e,encode:n}=t,{x:r,y:i}=n,o=r?Array.from(new Set(e.map((t=>t[r])))):[],a=i?Array.from(new Set(e.map((t=>t[i])))):[],s=()=>{if(o.length&&a.length){const t=[];for(const e of o)for(const n of a)t.push({[r]:e,[i]:n});return t}return o.length?o.map((t=>({[r]:t}))):a.length?a.map((t=>({[i]:t}))):void 0};return s()}};return{data:{type:"inline",value:e,transform:[n]}}})),LH=dH(((t,e=PH,n=IH,r=jH,i={})=>{const{data:o,encode:a,children:s,scale:l,x:u=0,y:c=0,shareData:f=!1,key:h}=t,{value:d}=o,{x:p,y:v}=a,{color:g}=l,{domain:y}=g,m=(t,o,a)=>{const{x:l,y:g}=o,{paddingLeft:m,paddingTop:b}=a,{domain:x}=l.getOptions(),{domain:w}=g.getOptions(),_=KS(t),O=t.map(e),C=t.map((({x:t,y:e})=>[l.invert(t),g.invert(e)])),S=C.map((([t,e])=>n=>{const{[p]:r,[v]:i}=n,o=void 0===p||r===t,a=void 0===v||i===e;return o&&a})),E=S.map((t=>d.filter(t))),M=f?ug(E,(t=>t.length)):void 0,k=C.map((([t,e])=>({columnField:p,columnIndex:x.indexOf(t),columnValue:t,columnValuesLength:x.length,rowField:v,rowIndex:w.indexOf(e),rowValue:e,rowValuesLength:w.length}))),T=k.map((t=>Array.isArray(s)?s:[s(t)].flat(1)));return _.flatMap((t=>{const[e,o,a,s]=O[t],l=k[t],f=E[t],g=T[t];return g.map((g=>{var x,w,{scale:_,key:O,facet:C=!0,axis:S={},legend:E={}}=g,k=CH(g,["scale","key","facet","axis","legend"]);const T=(null===(x=null===_||void 0===_?void 0:_.y)||void 0===x?void 0:x.guide)||S.y,A=(null===(w=null===_||void 0===_?void 0:_.x)||void 0===w?void 0:w.guide)||S.x,L={x:{tickCount:p?5:void 0},y:{tickCount:v?5:void 0}},P=C?f:0===f.length?[]:d,R={color:{domain:y}},I={x:NH(A,n)(l,P),y:NH(T,r)(l,P)};return Object.assign(Object.assign({key:`${O}-${t}`,data:P,x:e+m+u,y:o+b+c,parentKey:h,width:a,height:s,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!!P.length,dataDomain:M,scale:Bd(L,_,R),axis:Bd({},S,I),legend:!1},k),i)}))}))};return{children:m}}));function PH(t){const{points:e}=t;return uE(e)}function RH(t,e){return e.length?Bd({title:!1,tick:null,label:null},t):Bd({title:!1,tick:null,label:null,grid:null},t)}function IH(t){return(e,n)=>{const{rowIndex:r,rowValuesLength:i,columnIndex:o,columnValuesLength:a}=e;if(r!==i-1)return RH(t,n);const s=o===a-1&&void 0,l=n.length?void 0:null;return Bd({title:s,grid:l},t)}}function jH(t){return(e,n)=>{const{rowIndex:r,columnIndex:i}=e;if(0!==i)return RH(t,n);const o=0===r&&void 0,a=n.length?void 0:null;return Bd({title:o,grid:a},t)}}function NH(t,e){return"function"===typeof t?t:null===t||!1===t?()=>null:e(t)}const BH=()=>t=>{const e=OH.of(t).call(TH).call(EH).call(MH).call(SH).call(kH).call(AH).call(LH).value();return[e]};BH.props={};var DH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const FH=hH((t=>({scale:{x:{guide:null,paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}}))),zH=dH((t=>{const{data:e,children:n,x:r=0,y:i=0,key:o}=t,a=(t,a,s)=>{const{x:l,y:u}=a,{paddingLeft:c,paddingTop:f}=s,{domain:h}=l.getOptions(),{domain:d}=u.getOptions(),p=KS(t),v=t.map((({points:t})=>uE(t))),g=t.map((({x:t,y:e})=>[l.invert(t),u.invert(e)])),y=g.map((([t,e])=>({columnField:t,columnIndex:h.indexOf(t),columnValue:t,columnValuesLength:h.length,rowField:e,rowIndex:d.indexOf(e),rowValue:e,rowValuesLength:d.length}))),m=y.map((t=>Array.isArray(n)?n:[n(t)].flat(1)));return p.flatMap((t=>{const[n,a,s,l]=v[t],[u,h]=g[t],d=y[t],p=m[t];return p.map((p=>{var v,g;const{scale:y,key:m,encode:b,axis:x}=p,w=DH(p,["scale","key","encode","axis"]),_=null===(v=null===y||void 0===y?void 0:y.y)||void 0===v?void 0:v.guide,O=null===(g=null===y||void 0===y?void 0:y.x)||void 0===g?void 0:g.guide,C={x:{facet:!1},y:{facet:!1}},S={x:HH(O)(d,e),y:$H(_)(d,e)},E={x:{tickCount:5},y:{tickCount:5}};return Object.assign({data:e,parentKey:o,key:`${m}-${t}`,x:n+c+r,y:a+f+i,width:s,height:l,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!0,scale:Bd(C,y),axis:Bd(E,x,S),legend:!1,encode:Bd({},b,{x:u,y:h})},w)}))}))};return{children:a}})),WH=dH((t=>{const{encode:e}=t,n=DH(t,["encode"]),{position:r=[],x:i=r,y:o=[...r].reverse()}=e,a=DH(e,["position","x","y"]),s=[];for(const l of[i].flat(1))for(const t of[o].flat(1))s.push({$x:l,$y:t});return Object.assign(Object.assign({},n),{data:s,encode:Object.assign(Object.assign({},a),{x:"$x",y:"$y"}),scale:Object.assign(Object.assign({},1===[i].flat(1).length&&{x:{paddingInner:0}}),1===[o].flat(1).length&&{y:{paddingInner:0}})})}));function HH(t){return"function"===typeof t?t:null===t?()=>null:(e,n)=>{const{rowIndex:r,rowValuesLength:i}=e;if(r!==i-1)return RH(t,n)}}function $H(t){return"function"===typeof t?t:null===t?()=>null:(e,n)=>{const{columnIndex:r}=e;if(0!==r)return RH(t,n)}}const GH=()=>t=>{const e=OH.of(t).call(TH).call(EH).call(zH).call(WH).call(MH).call(kH).call(FH).value();return[e]};var VH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const UH=hH((t=>({scale:{x:{guide:{type:"axisArc"},paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}}))),YH=hH((t=>({coordinate:{type:"polar"}}))),qH=t=>{const{encode:e}=t,n=VH(t,["encode"]),{position:r}=e;return Object.assign(Object.assign({},n),{encode:{x:r}})};function XH(t){return t=>null}function KH(t){const{points:e}=t,[n,r,i,o]=e,a=oE(n,o),s=rE(n,o),l=rE(r,i),u=lE(s,l),c=1/Math.sin(u/2),f=a/(1+c),h=f*Math.sqrt(2),[d,p]=i,v=sE(s),g=v+u/2,y=f*c,m=d+y*Math.sin(g),b=p+y*Math.cos(g);return[m-h/2,b-h/2,h,h]}const ZH=()=>t=>{const e=OH.of(t).call(TH).call(qH).call(EH).call(YH).call(AH).call(LH,KH,XH,XH,{frame:!1}).call(MH).call(kH).call(UH).value();return[e]};function QH(t,e,n){const r=0,i=n,o=[r,i],a=[1-i,1-r];return"normal"===t?o:"reverse"===t?a:"alternate"===t?e%2===0?o:a:"reverse-alternate"===t?e%2===0?a:o:void 0}function JH(t,e,n){const r=[t];while(r.length){const t=r.pop();t.animate=Bd({enter:{duration:e},update:{duration:e,easing:n,type:"morphing",fill:"both"},exit:{type:"fadeOut",duration:e}},t.animate||{});const{children:i}=t;Array.isArray(i)&&r.push(...i)}return t}const t$=()=>t=>{const{children:e=[],duration:n=1e3,iterationCount:r=1,direction:i="normal",easing:o="ease-in-out-sine"}=t,a=e.length;if(!Array.isArray(e)||0===a)return[];const{key:s}=e[0],l=e.map((t=>Object.assign(Object.assign({},t),{key:s}))).map((t=>JH(t,n,o)));return function*(){let t,e=0;while("infinite"===r||e<r){const[n,r]=QH(i,e,a);for(let e=n;e<r;e+=1){const n=Math.abs(e);t!==n&&(yield l[n]),t=n}e++}}};function e$(t,e){if(null!==t)return{type:"column",value:t,field:e}}function n$(t,e){const n=e$(t,e);return Object.assign(Object.assign({},n),{inferred:!0})}function r$(t,e){if(null!==t)return{type:"column",value:t,field:e,visual:!0}}function i$(t,e){const n=e$(t,e);return Object.assign(Object.assign({},n),{constant:!1})}function o$(t,e){const n=[];for(const r of t)n[r]=e;return n}function a$(t,e){const n=t[e];if(!n)return[null,null];const{value:r,field:i=null}=n;return[r,i]}function s$(t,...e){for(const n of e){if("string"!==typeof n)return[n,null];{const[e,r]=a$(t,n);if(null!==e)return[e,r]}}return[null,null]}function l$(t){return!(t instanceof Date)&&"object"===typeof t}t$.props={};const u$=()=>(t,e)=>{const{encode:n}=e,{y1:r}=n;return void 0!==r?[t,e]:[t,Bd({},e,{encode:{y1:n$(o$(t,0))}})]};function c$(t,e,n){const{encode:r}=n;if(null===t)return[e];const i=p$(t).map((t=>{var e;return[t,null===(e=a$(r,t))||void 0===e?void 0:e[0]]})).filter((([,t])=>Wg(t))),o=t=>i.map((([,e])=>e[t])).join("-");return Array.from(uv(e,o).values())}function f$(t){return Array.isArray(t)?y$(t):"function"===typeof t?g$(t):"series"===t?v$:"value"===t?m$:"sum"===t?b$:"maxIndex"===t?x$:()=>null}function h$(t,e){for(const n of t)n.sort(e)}function d$(t,e){return(null===e||void 0===e?void 0:e.domain)||Array.from(new Set(t))}function p$(t){return Array.isArray(t)?t:[t]}function v$(t,e,n){return w$((t=>n[t]))}function g$(t){return(e,n,r)=>w$((n=>t(e[n])))}function y$(t){return(e,n,r)=>(n,r)=>t.reduce(((t,i)=>0!==t?t:cm(e[n][i],e[r][i])),0)}function m$(t,e,n){return w$((t=>e[t]))}function b$(t,e,n){const r=KS(t),i=Array.from(uv(r,(t=>n[+t])).entries()),o=new Map(i.map((([t,n])=>[t,n.reduce(((t,n)=>t+ +e[n]))])));return w$((t=>o.get(n[t])))}function x$(t,e,n){const r=KS(t),i=Array.from(uv(r,(t=>n[+t])).entries()),o=new Map(i.map((([t,n])=>[t,lm(n,(t=>e[t]))])));return w$((t=>o.get(n[t])))}function w$(t){return(e,n)=>cm(t(e),t(n))}u$.props={};const _$=(t={})=>{const{groupBy:e="x",orderBy:n=null,reverse:r=!1,y:i="y",y1:o="y1",series:a=!0}=t;return(t,s)=>{const{data:l,encode:u,style:c={}}=s,[f,h]=a$(u,"y"),[d,p]=a$(u,"y1"),[v]=a?s$(u,"series","color"):a$(u,"color"),g=c$(e,t,s),y=f$(n),m=y(l,f,v);m&&h$(g,m);const b=new Array(t.length),x=new Array(t.length),w=new Array(t.length),_=[],O=[];for(const e of g){r&&e.reverse();const t=d?+d[e[0]]:0,n=[],i=[];for(const r of e){const e=w[r]=+f[r]-t;e<0?i.push(r):e>=0&&n.push(r)}const o=n.length>0?n:i,a=i.length>0?i:n;let s=n.length-1,l=0;while(s>0&&0===f[o[s]])s--;while(l<a.length-1&&0===f[a[l]])l++;_.push(o[s]),O.push(a[l]);let u=t;for(const e of i.reverse()){const t=w[e];u=b[e]=(x[e]=u)+t}let c=t;for(const e of n){const t=w[e];t>0?c=b[e]=(x[e]=c)+t:b[e]=x[e]=c}}const C=new Set(_),S=new Set(O),E="y"===i?b:x,M="y"===o?b:x;return[t,Bd({},s,{encode:{y0:n$(f,h),y:e$(E,h),y1:e$(M,p)},style:Object.assign({first:(t,e)=>C.has(e),last:(t,e)=>S.has(e)},c)})]}};function O$(t){const{type:e}=t,n=["stackY","dodgeX","groupX"];return"string"===typeof e&&n.includes(e)}_$.props={};const C$=t=>(e,n,r)=>{const{encode:i,transform:o=[]}=n;if(o.some(O$))return[e,n];const{x:a,y:s}=i;if(void 0===a||void 0===s)return[e,n];const{series:l}=t,u=l?["x","series"]:"x";return _$({groupBy:u})(e,n,r)};C$.props={};const S$=(t={})=>{const{channel:e="x"}=t;return(t,n)=>{const{encode:r}=n,{tooltip:i}=n;if(Kg(i))return[t,n];const{title:o}=i;if(void 0!==o)return[t,n];const a=Object.keys(r).filter((t=>t.startsWith(e))).filter((t=>!r[t].inferred)).map((t=>a$(r,t))).filter((([t])=>t)).map((t=>t[0]));if(0===a.length)return[t,n];const s=[];for(const e of t)s[e]={value:a.map((t=>t[e])).join(", ")};return[t,Bd({},n,{tooltip:{title:s}})]}};S$.props={};const E$=()=>(t,e)=>{const{encode:n}=e,{x:r}=n;return void 0!==r?[t,e]:[t,Bd({},e,{encode:{x:n$(o$(t,0))},scale:{x:{guide:null}}})]};E$.props={};const M$=()=>(t,e)=>{const{encode:n}=e,{y:r}=n;return void 0!==r?[t,e]:[t,Bd({},e,{encode:{y:n$(o$(t,0))},scale:{y:{guide:null}}})]};M$.props={};const k$=()=>(t,e)=>{const{encode:n}=e,{size:r}=n;return void 0!==r?[t,e]:[t,Bd({},e,{encode:{size:r$(o$(t,3))}})]};k$.props={};var T$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const A$=()=>(t,e)=>{const{encode:n}=e,{key:r}=n,i=T$(n,["key"]);if(void 0!==r)return[t,e];const o=Object.values(i).map((({value:t})=>t)),a=t.map((t=>o.filter(Array.isArray).map((e=>e[t])).join("-")));return[t,Bd({},e,{encode:{key:e$(a)}})]};A$.props={};const L$=()=>(t,e)=>{const{encode:n}=e,{series:r,color:i}=n;if(void 0!==r||void 0===i)return[t,e];const[o,a]=a$(n,"color");return[t,Bd({},e,{encode:{series:e$(o,a)}})]};L$.props={};const P$=()=>(t,e)=>{const{data:n}=e;return!Array.isArray(n)||n.some(l$)?[t,e]:[t,Bd({},e,{encode:{y:e$(n)}})]};P$.props={};const R$=()=>(t,e)=>{const{data:n}=e;return!Array.isArray(n)||n.some(l$)?[t,e]:[t,Bd({},e,{encode:{x:e$(n)}})]};R$.props={};const I$=()=>(t,e)=>{const{encode:n}=e,{y1:r}=n;if(r)return[t,e];const[i]=a$(n,"y");return[t,Bd({},e,{encode:{y1:e$([...i])}})]};I$.props={};const j$=()=>(t,e)=>{const{encode:n}=e,{x1:r}=n;if(r)return[t,e];const[i]=a$(n,"x");return[t,Bd({},e,{encode:{x1:e$([...i])}})]};j$.props={};const N$=t=>{const{channel:e}=t;return(t,n)=>{const{encode:r,tooltip:i}=n;if(Kg(i))return[t,n];const{items:o=[]}=i;if(!o||o.length>0)return[t,n];const a=Array.isArray(e)?e:[e],s=a.flatMap((t=>Object.keys(r).filter((e=>e.startsWith(t))).map((t=>{const{field:e,value:n,inferred:i=!1,aggregate:o}=r[t];return i?null:o&&n?{channel:t}:e?{field:e}:n?{channel:t}:null})).filter((t=>null!==t))));return[t,Bd({},n,{tooltip:{items:s}})]}};N$.props={};const B$=()=>(t,e)=>[t,Bd({scale:{x:{padding:0},y:{padding:0}}},e)];B$.props={};var D$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const F$=()=>(t,e)=>{const{data:n,style:r={}}=e,i=D$(e,["data","style"]),{x:o,y:a}=r,s=D$(r,["x","y"]);if(void 0==o||void 0==a)return[t,e];const l=o||0,u=a||0;return[[0],Bd({},i,{data:[0],cartesian:!0,encode:{x:e$([l]),y:e$([u])},scale:{x:{type:"identity",independent:!0,guide:null},y:{type:"identity",independent:!0,guide:null}},style:s})]};F$.props={};const z$=()=>(t,e)=>{const{style:n={}}=e;return[t,Bd({},e,{style:Object.assign(Object.assign({},n),Object.fromEntries(Object.entries(n).filter((([,t])=>"function"===typeof t)).map((([t,e])=>[t,()=>e]))))})]};z$.props={};const W$=()=>(t,e)=>{const{data:n}=e;if(!Array.isArray(n)||n.some(l$))return[t,e];const r=Array.isArray(n[0])?n:[n],i=r.map((t=>t[0])),o=r.map((t=>t[1]));return[t,Bd({},e,{encode:{x:e$(i),y:e$(o)}})]};W$.props={};const H$=()=>(t,e)=>{const{style:n={},encode:r}=e,{series:i}=r,{gradient:o}=n;return!o||i?[t,e]:[t,Bd({},e,{encode:{series:r$(o$(t,void 0))}})]};H$.props={};var $$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const G$=(t={})=>{const{groupBy:e="x",reverse:n=!1,orderBy:r,padding:i}=t;$$(t,["groupBy","reverse","orderBy","padding"]);return(t,o)=>{const{data:a,encode:s,scale:l}=o,{series:u}=l,[c]=a$(s,"y"),[f]=s$(s,"series","color"),h=d$(f,u),d=c$(e,t,o),p=f$(r),v=p(a,c,f);v&&h$(d,v);const g=new Array(t.length);for(const e of d){n&&e.reverse();for(let t=0;t<e.length;t++)g[e[t]]=h[t]}return[t,Bd({},o,{scale:{series:{domain:h,paddingInner:i}},encode:{series:e$(g)}})]}};G$.props={};const V$=t=>{const{groupBy:e=["x"],reducer:n=((t,e)=>e[t[0]]),orderBy:r=null,reverse:i=!1,duration:o}=t;return(t,a)=>{const{encode:s}=a,l=Array.isArray(e)?e:[e],u=l.map((t=>[t,a$(s,t)[0]]));if(0===u.length)return[t,a];let c=[t];for(const[,e]of u){const t=[];for(const n of c){const r=Array.from(uv(n,(t=>e[t])).values());t.push(...r)}c=t}if(r){const[t]=a$(s,r);t&&c.sort(((e,r)=>n(e,t)-n(r,t))),i&&c.reverse()}const f=(o||3e3)/c.length,[h]=o?[o$(t,f)]:s$(s,"enterDuration",o$(t,f)),[d]=s$(s,"enterDelay",o$(t,0)),p=new Array(t.length);for(let e=0,n=0;e<c.length;e++){const t=c[e],r=ug(t,(t=>+h[t]));for(const e of t)p[e]=+d[e]+n;n+=r}return[t,Bd({},a,{encode:{enterDuration:r$(h),enterDelay:r$(p)}})]}};function U$(t,e){return xm(t,.5,e)}function Y$(t,e){return wm(t,.5,e)}function q$(t,e){let n,r=0,i=0,o=0;if(void 0===e)for(let a of t)null!=a&&(a=+a)>=a&&(n=a-i,i+=n/++r,o+=n*(a-i));else{let a=-1;for(let s of t)null!=(s=e(s,++a,t))&&(s=+s)>=s&&(n=s-i,i+=n/++r,o+=n*(s-i))}if(r>1)return o/(r-1)}function X$(t,e){const n=q$(t,e);return n?Math.sqrt(n):n}V$.props={};var K$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Z$(t){if("function"===typeof t)return t;const e={min:(t,e)=>cg(t,(t=>e[+t])),max:(t,e)=>ug(t,(t=>e[+t])),first:(t,e)=>e[t[0]],last:(t,e)=>e[t[t.length-1]],mean:(t,e)=>bz(t,(t=>e[+t])),median:(t,e)=>U$(t,(t=>e[+t])),sum:(t,e)=>lg(t,(t=>e[+t])),deviation:(t,e)=>X$(t,(t=>e[+t]))};return e[t]||ug}const Q$=(t={})=>{const{groupBy:e="x",basis:n="max"}=t;return(t,r)=>{const{encode:i,tooltip:o}=r,{x:a}=i,s=K$(i,["x"]),l=Object.entries(s).filter((([t])=>t.startsWith("y"))).map((([t])=>[t,a$(i,t)[0]])),[,u]=l.find((([t])=>"y"===t)),c=l.map((([e])=>[e,new Array(t.length)])),f=c$(e,t,r),h=Z$(n);for(const e of f){const t=h(e,u);for(const n of e)for(let e=0;e<l.length;e++){const[,r]=l[e],[,i]=c[e];i[n]=+r[n]/t}}const d=Kg(o)||(null===o||void 0===o?void 0:o.items)&&0!==(null===o||void 0===o?void 0:o.items.length);return[t,Bd({},r,Object.assign({encode:Object.fromEntries(c.map((([t,e])=>[t,e$(e,a$(i,t)[1])])))},!d&&i.y0&&{tooltip:{items:[{channel:"y0"}]}}))]}};function J$(t,e,n){if(null===t)return[-.5,.5];const r=d$(t,e),i=new kC({domain:r,range:[0,1],padding:n}),o=i.getBandWidth();return[-o/2,o/2]}function tG(t,e,n){return e*(1-t)+n*t}Q$.props={};const eG=(t={})=>{const{padding:e=0,paddingX:n=e,paddingY:r=e,random:i=Math.random}=t;return(t,e)=>{const{encode:o,scale:a}=e,{x:s,y:l}=a,[u]=a$(o,"x"),[c]=a$(o,"y"),f=J$(u,s,n),h=J$(c,l,r),d=t.map((()=>tG(i(),...h))),p=t.map((()=>tG(i(),...f)));return[t,Bd({scale:{x:{padding:.5},y:{padding:.5}}},e,{encode:{dy:e$(d),dx:e$(p)}})]}};eG.props={};const nG=(t={})=>{const{padding:e=0,random:n=Math.random}=t;return(t,r)=>{const{encode:i,scale:o}=r,{x:a}=o,[s]=a$(i,"x"),l=J$(s,a,e),u=t.map((()=>tG(n(),...l)));return[t,Bd({scale:{x:{padding:.5}}},r,{encode:{dx:e$(u)}})]}};nG.props={};var rG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const iG=(t={})=>{const{groupBy:e="x"}=t;return(t,n)=>{const{encode:r}=n,{x:i}=r,o=rG(r,["x"]),a=Object.entries(o).filter((([t])=>t.startsWith("y"))).map((([t])=>[t,a$(r,t)[0]])),s=a.map((([e])=>[e,new Array(t.length)])),l=c$(e,t,n),u=new Array(l.length);for(let e=0;e<l.length;e++){const t=l[e],n=t.flatMap((t=>a.map((([,e])=>+e[t])))),[r,i]=qS(n);u[e]=(r+i)/2}const c=Math.max(...u);for(let e=0;e<l.length;e++){const t=c-u[e],n=l[e];for(const e of n)for(let n=0;n<a.length;n++){const[,r]=a[n],[,i]=s[n];i[e]=+r[e]+t}}return[t,Bd({},n,{encode:Object.fromEntries(s.map((([t,e])=>[t,e$(e,a$(r,t)[1])])))})]}};iG.props={};const oG=(t={})=>{const{groupBy:e="x",series:n=!0}=t;return(t,r)=>{const{encode:i}=r,[o]=a$(i,"y"),[a,s]=a$(i,"y1"),[l]=n?s$(i,"series","color"):a$(i,"color"),u=c$(e,t,r),c=new Array(t.length);for(const e of u){const t=e.map((t=>+o[t]));for(let n=0;n<e.length;n++){const r=e[n],i=Math.max(...t.filter(((t,e)=>e!==n)));c[r]=o[r]>i?i:o[r]}}return[t,Bd({},r,{encode:{y1:e$(c,s)}})]}};function aG(t,e){return[t[0]]}function sG(t,e){const n=t.length-1;return[t[n]]}function lG(t,e){const n=lm(t,(t=>e[t]));return[t[n]]}function uG(t,e){const n=um(t,(t=>e[t]));return[t[n]]}function cG(t){if("function"===typeof t)return t;const e={first:aG,last:sG,max:lG,min:uG};return e[t]||aG}oG.props={};const fG=(t={})=>{const{groupBy:e="series",channel:n,selector:r}=t;return(t,i)=>{const{encode:o}=i,a=c$(e,t,i),[s]=a$(o,n),l=cG(r);return[a.flatMap((t=>l(t,s))),i]}};fG.props={};var hG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const dG=(t={})=>{const{selector:e}=t,n=hG(t,["selector"]);return fG(Object.assign({channel:"x",selector:e},n))};dG.props={};var pG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const vG=(t={})=>{const{selector:e}=t,n=pG(t,["selector"]);return fG(Object.assign({channel:"y",selector:e},n))};vG.props={};var gG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function yG(t){return e=>null===e?t:`${t} of ${e}`}function mG(t){if("function"===typeof t)return[t,null];const e={mean:bG,max:wG,count:OG,first:SG,last:EG,sum:CG,min:_G,median:xG},n=e[t];if(!n)throw new Error(`Unknown reducer: ${t}.`);return n()}function bG(){const t=(t,e)=>bz(t,(t=>+e[t])),e=yG("mean");return[t,e]}function xG(){const t=(t,e)=>U$(t,(t=>+e[t])),e=yG("median");return[t,e]}function wG(){const t=(t,e)=>ug(t,(t=>+e[t])),e=yG("max");return[t,e]}function _G(){const t=(t,e)=>cg(t,(t=>+e[t])),e=yG("min");return[t,e]}function OG(){const t=(t,e)=>t.length,e=yG("count");return[t,e]}function CG(){const t=(t,e)=>lg(t,(t=>+e[t])),e=yG("sum");return[t,e]}function SG(){const t=(t,e)=>e[t[0]],e=yG("first");return[t,e]}function EG(){const t=(t,e)=>e[t[t.length-1]],e=yG("last");return[t,e]}const MG=(t={})=>{const{groupBy:e}=t,n=gG(t,["groupBy"]);return(t,r)=>{const{data:i,encode:o}=r,a=e(t,r);if(!a)return[t,r];const s=(t,e)=>{if(t)return t;const{from:n}=e;if(!n)return t;const[,r]=a$(o,n);return r},l=Object.entries(n).map((([t,e])=>{const[n,r]=mG(e),[l,u]=a$(o,t),c=s(u,e),f=a.map((t=>n(t,null!==l&&void 0!==l?l:i)));return[t,Object.assign(Object.assign({},i$(f,(null===r||void 0===r?void 0:r(c))||c)),{aggregate:!0})]})),u=Object.keys(o).map((t=>{const[e,n]=a$(o,t),r=a.map((t=>e[t[0]]));return[t,e$(r,n)]})),c=a.map((t=>i[t[0]])),f=KS(a);return[f,Bd({},r,{data:c,encode:Object.fromEntries([...u,...l])})]}};MG.props={};var kG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const TG=(t={})=>{const{channels:e=["x","y"]}=t,n=kG(t,["channels"]),r=(t,n)=>c$(e,t,n);return MG(Object.assign(Object.assign({},n),{groupBy:r}))};TG.props={};const AG=(t={})=>TG(Object.assign(Object.assign({},t),{channels:["x","color","series"]}));AG.props={};const LG=(t={})=>TG(Object.assign(Object.assign({},t),{channels:["y","color","series"]}));LG.props={};const PG=(t={})=>TG(Object.assign(Object.assign({},t),{channels:["color"]}));function RG(t,e,n){return(2!==e.length?hm(fv(t,e,n),(([t,e],[n,r])=>cm(e,r)||cm(t,n))):hm(uv(t,n),(([t,n],[r,i])=>e(n,i)||cm(t,r)))).map((([t])=>t))}PG.props={};var IG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function jG(t,e,n){const{by:r=t,reducer:i="max"}=e,[o]=a$(n,r);if("function"===typeof i)return t=>i(t,o);if("max"===i)return t=>ug(t,(t=>+o[t]));if("min"===i)return t=>cg(t,(t=>+o[t]));if("sum"===i)return t=>lg(t,(t=>+o[t]));if("median"===i)return t=>U$(t,(t=>+o[t]));if("mean"===i)return t=>bz(t,(t=>+o[t]));if("first"===i)return t=>o[t[0]];if("last"===i)return t=>o[t[t.length-1]];throw new Error(`Unknown reducer: ${i}`)}function NG(t,e,n){const{reverse:r,channel:i}=n,{encode:o}=e,[a]=a$(o,i),s=hm(t,(t=>a[t]));return r&&s.reverse(),[s,e]}function BG(t,e,n){if(!Array.isArray(n))return t;const r=new Set(n);return t.filter((t=>r.has(e[t])))}function DG(t,e,n){var r;const{reverse:i,slice:o,channel:a}=n,s=IG(n,["reverse","slice","channel"]),{encode:l,scale:u={}}=e,c=null===(r=u[a])||void 0===r?void 0:r.domain,[f]=a$(l,a),h=jG(a,s,l),d=BG(t,f,c),p=RG(d,h,(t=>f[t]));i&&p.reverse();const v="number"===typeof o?[0,o]:o,g=o?p.slice(...v):p;return[t,Bd(e,{scale:{[a]:{domain:g}}})]}const FG=(t={})=>{const{reverse:e=!1,slice:n,channel:r,ordinal:i=!0}=t,o=IG(t,["reverse","slice","channel","ordinal"]);return(t,a)=>i?DG(t,a,Object.assign({reverse:e,slice:n,channel:r},o)):NG(t,a,Object.assign({reverse:e,slice:n,channel:r},o))};FG.props={};const zG=(t={})=>FG(Object.assign(Object.assign({},t),{channel:"x"}));zG.props={};const WG=(t={})=>FG(Object.assign(Object.assign({},t),{channel:"color"}));WG.props={};const HG=(t={})=>FG(Object.assign(Object.assign({},t),{channel:"y"}));function $G(t,e){return"string"===typeof e?t.map((t=>t[e])):t.map(e)}function GG(t,e){if("function"===typeof t)return n=>t(n,e);if("sum"===t)return t=>lg(t,(t=>+e[t]));throw new Error(`Unknown reducer: ${t}`)}HG.props={};const VG=(t={})=>{const{field:e,channel:n="y",reducer:r="sum"}=t;return(t,i)=>{const{data:o,encode:a}=i,[s]=a$(a,"x"),l=e?$G(o,e):a$(a,n)[0],u=GG(r,l),c=hv(t,u,(t=>s[t])).map((t=>t[1]));return[t,Bd({},i,{scale:{x:{flex:c}}})]}};function UG(t,e,n){const r=t.length;if(0===r)return[];const{innerWidth:i,innerHeight:o}=n,a=o/i;let s=Math.ceil(Math.sqrt(e/a)),l=i/s,u=Math.ceil(e/s),c=u*l;while(c>o)s+=1,l=i/s,u=Math.ceil(e/s),c=u*l;const f=o-u*l,h=u<=1?0:f/(u-1),[d,p]=u<=1?[(i-r*l)/(r-1),(o-l)/2]:[0,0];return t.map(((t,e)=>{const[n,r,i,o]=uE(t),a=e%s,c=Math.floor(e/s),v=a*l,g=(u-c-1)*l+f,y=l/i,m=l/o,b=v-n+d*a,x=g-r-h*c-p;return`translate(${b}, ${x}) scale(${y}, ${m})`}))}VG.props={};const YG=()=>(t,e)=>[t,Bd({},e,{modifier:UG,axis:!1})];function qG(t,e){let n=0;if(void 0===e)for(let r of t)null!=r&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(i=+i)>=i&&++n}return n}function XG(t,e,n){const r=qG(t),i=X$(t);return r&&i?Math.ceil((n-e)*Math.cbrt(r)/(3.49*i)):1}YG.props={};var KG=Array.prototype,ZG=KG.slice;KG.map;function QG(t){return()=>t}const JG=Math.sqrt(50),tV=Math.sqrt(10),eV=Math.sqrt(2);function nV(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=JG?10:o>=tV?5:o>=eV?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?nV(t,e,2*n):[s,l,u]}function rV(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?nV(e,t,n):nV(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function iV(t,e,n){return e=+e,t=+t,n=+n,nV(t,e,n)[2]}function oV(t,e,n){let r;while(1){const i=iV(t,e,n);if(i===r||0===i||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function aV(t){return Math.max(1,Math.ceil(Math.log(qG(t))/Math.LN2)+1)}function sV(){var t=lv,e=qS,n=aV;function r(r){Array.isArray(r)||(r=Array.from(r));var i,o,a,s=r.length,l=new Array(s);for(i=0;i<s;++i)l[i]=t(r[i],i,r);var u=e(l),c=u[0],f=u[1],h=n(l,c,f);if(!Array.isArray(h)){const t=f,n=+h;if(e===qS&&([c,f]=oV(c,f,n)),h=rV(c,f,n),h[0]<=c&&(a=iV(c,f,n)),h[h.length-1]>=f)if(t>=f&&e===qS){const t=iV(c,f,n);isFinite(t)&&(t>0?f=(Math.floor(f/t)+1)*t:t<0&&(f=(Math.ceil(f*-t)+1)/-t))}else h.pop()}var d=h.length,p=0,v=d;while(h[p]<=c)++p;while(h[v-1]>f)--v;(p||v<d)&&(h=h.slice(p,v),d=v-p);var g,y=new Array(d+1);for(i=0;i<=d;++i)g=y[i]=[],g.x0=i>0?h[i-1]:c,g.x1=i<d?h[i]:f;if(isFinite(a)){if(a>0)for(i=0;i<s;++i)null!=(o=l[i])&&c<=o&&o<=f&&y[Math.min(d,Math.floor((o-c)/a))].push(r[i]);else if(a<0)for(i=0;i<s;++i)if(null!=(o=l[i])&&c<=o&&o<=f){const t=Math.floor((c-o)*a);y[Math.min(d,t+(h[t]<=o))].push(r[i])}}else for(i=0;i<s;++i)null!=(o=l[i])&&c<=o&&o<=f&&y[LD(h,o,0,d)].push(r[i]);return y}return r.value=function(e){return arguments.length?(t="function"===typeof e?e:QG(e),r):t},r.domain=function(t){return arguments.length?(e="function"===typeof t?t:QG([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"===typeof t?t:QG(Array.isArray(t)?ZG.call(t):t),r):n},r}var lV=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const uV="thresholds";function cV(t){const[e,n]=qS(t);return Math.min(200,XG(t,e,n))}const fV=(t={})=>{const{groupChannels:e=["color"],binChannels:n=["x","y"]}=t,r=lV(t,["groupChannels","binChannels"]),i={},o=(t,o)=>{const{encode:a}=o,s=n.map((t=>{const[e]=a$(a,t);return e})),l=Gg(r,uV),u=t.filter((t=>s.every((e=>Wg(e[t]))))),c=[...e.map((t=>{const[e]=a$(a,t);return e})).filter(Wg).map((t=>e=>t[e])),...n.map(((t,e)=>{const n=s[e],r=l[t]||cV(n),o=sV().thresholds(r).value((t=>+n[t]))(u),a=new Map(o.flatMap((t=>{const{x0:e,x1:n}=t,r=`${e},${n}`;return t.map((t=>[t,r]))})));return i[t]=a,t=>a.get(t)}))],f=t=>c.map((e=>e(t))).join("-");return Array.from(uv(u,f).values())};return MG(Object.assign(Object.assign(Object.assign({},Object.fromEntries(Object.entries(r).filter((([t])=>!t.startsWith(uV))))),Object.fromEntries(n.flatMap((t=>{const e=([e])=>+i[t].get(e).split(",")[0],n=([e])=>+i[t].get(e).split(",")[1];return n.from=t,[[t,e],[`${t}1`,n]]})))),{groupBy:o}))};fV.props={};const hV=(t={})=>{const{thresholds:e}=t;return fV(Object.assign(Object.assign({},t),{thresholdsX:e,groupChannels:["color"],binChannels:["x"]}))};function dV(t,e,n,r){const i=t.length;if(r>=i||0===r)return t;const o=n=>1*e[t[n]],a=e=>1*n[t[e]],s=[],l=(i-2)/(r-2);let u,c,f,h=0;s.push(h);for(let d=0;d<r-2;d++){let t=0,e=0,n=Math.floor((d+1)*l)+1,r=Math.floor((d+2)*l)+1;r=Math.min(r,i);const p=r-n;for(;n<r;n++)t+=o(n),e+=a(n);t/=p,e/=p;let v=Math.floor((d+0)*l)+1;const g=Math.floor((d+1)*l)+1,y=[o(h),a(h)];for(u=c=-1;v<g;v++)c=.5*Math.abs((y[0]-t)*(o(v)-y[1])-(y[0]-a(v))*(e-y[0])),c>u&&(u=c,f=v);s.push(f),h=f}return s.push(i-1),s.map((e=>t[e]))}function pV(t){if("function"===typeof t)return t;if("lttb"===t)return dV;const e={first:t=>[t[0]],last:t=>[t[t.length-1]],min:(t,e,n)=>[t[um(t,(t=>n[t]))]],max:(t,e,n)=>[t[lm(t,(t=>n[t]))]],median:(t,e,n)=>[t[Y$(t,(t=>n[t]))]]},n=e[t]||e.median;return(t,e,r,i)=>{const o=Math.max(1,Math.floor(t.length/i)),a=vV(t,o);return a.flatMap((t=>n(t,e,r)))}}function vV(t,e){const n=t.length,r=[];let i=0;while(i<n)r.push(t.slice(i,i+=e));return r}hV.props={};const gV=(t={})=>{const{strategy:e="median",thresholds:n=2e3,groupBy:r=["series","color"]}=t,i=pV(e);return(t,e)=>{const{encode:o}=e,a=c$(r,t,e),[s]=a$(o,"x"),[l]=a$(o,"y");return[a.flatMap((t=>i(t,s,l,n))),e]}};gV.props={};const yV=(t={})=>(e,n)=>{const{encode:r,data:i}=n,o=Object.entries(t).map((([t,e])=>{const[n]=a$(r,t);if(!n)return null;if("function"===typeof e)return t=>e(n[t]);const i=Array.isArray(e)?e:[e];return 0===i.length?null:t=>i.includes(n[t])})).filter(Wg);if(0===o.length)return[e,n];const a=t=>o.every((e=>e(t))),s=e.filter(a),l=s.map(((t,e)=>e)),u=Object.entries(r).map((([t,e])=>[t,Object.assign(Object.assign({},e),{value:l.map((t=>e.value[s[t]]))})]));return[l,Bd({},n,{encode:Object.fromEntries(u),data:s.map((t=>i[t]))})]};function mV(t){const{min:e,max:n}=t;return[[e[0],e[1]],[n[0],n[1]]]}function bV(t,e){const[n,r]=t,[i,o]=e;return n>=i[0]&&n<=o[0]&&r>=i[1]&&r<=o[1]}function xV(t,e){const[n,r]=t;return!(bV(n,e)&&bV(r,e))}function wV(t,e){const[n,r]=t,[i,o]=e;return n[0]<o[0]&&r[0]>i[0]&&n[1]<o[1]&&r[1]>i[1]}yV.props={};const _V=t=>{const{priority:e}=t;return t=>{const n=[];return e&&t.sort(e),t.forEach((t=>{kF(t);const e=t.getLocalBounds(),r=n.some((t=>wV(mV(e),mV(t.getLocalBounds()))));r?MF(t):n.push(t)})),t}};function OV([t,e],[n,r]){return r>t&&e>n}function CV(){const t=new Map,e=e=>t.get(e),n=(e,n)=>t.set(e,n);return[e,n]}function SV(t){const e=t.cloneNode(!0),n=e.getElementById("connector");n&&e.removeChild(n);const{min:r,max:i}=e.getRenderBounds();return e.destroy(),{min:r,max:i}}const EV=t=>{const{maxIterations:e=10,maxError:n=.1,padding:r=1}=t;return t=>{const i=t.length;if(i<=1)return t;const[o,a]=CV(),[s,l]=CV(),[u,c]=CV(),[f,h]=CV();for(const e of t){const{min:t,max:n}=SV(e),[r,i]=t,[o,s]=n;a(e,i),l(e,i),c(e,s-i),h(e,[r,o])}for(let d=0;d<e;d++){t.sort(((t,e)=>cm(s(t),s(e))));let e=0;for(let n=0;n<i-1;n++){const i=t[n];let o,a=n+1;while((o=t[a])&&!OV(f(i),f(o)))a+=1;if(o){const t=s(i),n=u(i),a=s(o),c=a-(t+n);if(c<r){const n=(r-c)/2;e=Math.max(e,n),l(i,t-n),l(o,a+n)}}}if(e<n)break}for(const e of t)e.style.y+=s(e)-o(e);return t}};function MV(t){return"object"===typeof t?t:zo(t)}function kV(t){let e=t/255;return e=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),e}function TV(t,e,n){return.2126*kV(t)+.7152*kV(e)+.0722*kV(n)}function AV(t,e){const{r:n,g:r,b:i}=t,{r:o,g:a,b:s}=e,l=TV(n,r,i),u=TV(o,a,s);return(Math.max(l,u)+.05)/(Math.min(l,u)+.05)}function LV(t,e){const n=lm(e,(e=>AV(t,MV(e))));return e[n]}const PV=t=>{const{threshold:e=4.5,palette:n=["#000","#fff"]}=t;return t=>(t.forEach((t=>{const r=t.attr("dependentElement").parsedStyle.fill,i=t.parsedStyle.fill,o=AV(i,r);o<e&&t.attr("fill",LV(r,n))})),t)},RV=()=>t=>(t.forEach((t=>{kF(t);const e=t.attr("bounds"),n=t.getLocalBounds(),r=xV(mV(n),e);r&&MF(t)})),t);var IV=t=>t;function jV(t,e){t&&BV.hasOwnProperty(t.type)&&BV[t.type](t,e)}var NV={Feature:function(t,e){jV(t.geometry,e)},FeatureCollection:function(t,e){var n=t.features,r=-1,i=n.length;while(++r<i)jV(n[r].geometry,e)}},BV={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){DV(t.coordinates,e,0)},MultiLineString:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)DV(n[r],e,0)},Polygon:function(t,e){FV(t.coordinates,e)},MultiPolygon:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)FV(n[r],e)},GeometryCollection:function(t,e){var n=t.geometries,r=-1,i=n.length;while(++r<i)jV(n[r],e)}};function DV(t,e,n){var r,i=-1,o=t.length-n;e.lineStart();while(++i<o)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function FV(t,e){var n=-1,r=t.length;e.polygonStart();while(++n<r)DV(t[n],e,1);e.polygonEnd()}function zV(t,e){t&&NV.hasOwnProperty(t.type)?NV[t.type](t,e):jV(t,e)}class WV{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=e[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(e[n++]=a),t=o}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,r,i=this._n,o=0;if(i>0){o=t[--i];while(i>0)if(e=o,n=t[--i],o=e+n,r=n-(o-e),r)break;i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(n=2*r,e=o+n,n==e-o&&(o=e))}return o}}var HV=1e-6,$V=1e-12,GV=Math.PI,VV=GV/2,UV=GV/4,YV=2*GV,qV=180/GV,XV=GV/180,KV=Math.abs,ZV=Math.atan,QV=Math.atan2,JV=Math.cos,tU=Math.ceil,eU=Math.exp,nU=(Math.floor,Math.hypot,Math.log),rU=Math.pow,iU=Math.sin,oU=Math.sign||function(t){return t>0?1:t<0?-1:0},aU=Math.sqrt,sU=Math.tan;function lU(t){return t>1?0:t<-1?GV:Math.acos(t)}function uU(t){return t>1?VV:t<-1?-VV:Math.asin(t)}function cU(){}var fU,hU,dU,pU,vU=new WV,gU=new WV,yU={point:cU,lineStart:cU,lineEnd:cU,polygonStart:function(){yU.lineStart=mU,yU.lineEnd=wU},polygonEnd:function(){yU.lineStart=yU.lineEnd=yU.point=cU,vU.add(KV(gU)),gU=new WV},result:function(){var t=vU/2;return vU=new WV,t}};function mU(){yU.point=bU}function bU(t,e){yU.point=xU,fU=dU=t,hU=pU=e}function xU(t,e){gU.add(pU*t-dU*e),dU=t,pU=e}function wU(){xU(fU,hU)}var _U=yU,OU=1/0,CU=OU,SU=-OU,EU=SU,MU={point:kU,lineStart:cU,lineEnd:cU,polygonStart:cU,polygonEnd:cU,result:function(){var t=[[OU,CU],[SU,EU]];return SU=EU=-(CU=OU=1/0),t}};function kU(t,e){t<OU&&(OU=t),t>SU&&(SU=t),e<CU&&(CU=e),e>EU&&(EU=e)}var TU,AU,LU,PU,RU=MU,IU=0,jU=0,NU=0,BU=0,DU=0,FU=0,zU=0,WU=0,HU=0,$U={point:GU,lineStart:VU,lineEnd:qU,polygonStart:function(){$U.lineStart=XU,$U.lineEnd=KU},polygonEnd:function(){$U.point=GU,$U.lineStart=VU,$U.lineEnd=qU},result:function(){var t=HU?[zU/HU,WU/HU]:FU?[BU/FU,DU/FU]:NU?[IU/NU,jU/NU]:[NaN,NaN];return IU=jU=NU=BU=DU=FU=zU=WU=HU=0,t}};function GU(t,e){IU+=t,jU+=e,++NU}function VU(){$U.point=UU}function UU(t,e){$U.point=YU,GU(LU=t,PU=e)}function YU(t,e){var n=t-LU,r=e-PU,i=aU(n*n+r*r);BU+=i*(LU+t)/2,DU+=i*(PU+e)/2,FU+=i,GU(LU=t,PU=e)}function qU(){$U.point=GU}function XU(){$U.point=ZU}function KU(){QU(TU,AU)}function ZU(t,e){$U.point=QU,GU(TU=LU=t,AU=PU=e)}function QU(t,e){var n=t-LU,r=e-PU,i=aU(n*n+r*r);BU+=i*(LU+t)/2,DU+=i*(PU+e)/2,FU+=i,i=PU*t-LU*e,zU+=i*(LU+t),WU+=i*(PU+e),HU+=3*i,GU(LU=t,PU=e)}var JU=$U;function tY(t){this._context=t}tY.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,YV);break}},result:cU};var eY,nY,rY,iY,oY,aY=new WV,sY={point:cU,lineStart:function(){sY.point=lY},lineEnd:function(){eY&&uY(nY,rY),sY.point=cU},polygonStart:function(){eY=!0},polygonEnd:function(){eY=null},result:function(){var t=+aY;return aY=new WV,t}};function lY(t,e){sY.point=uY,nY=iY=t,rY=oY=e}function uY(t,e){iY-=t,oY-=e,aY.add(aU(iY*iY+oY*oY)),iY=t,oY=e}var cY=sY;let fY,hY,dY,pY;class vY{constructor(t){this._append=null==t?gY:yY(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:this._append`M${t},${e}`,this._point=1;break;case 1:this._append`L${t},${e}`;break;default:if(this._append`M${t},${e}`,this._radius!==dY||this._append!==hY){const t=this._radius,e=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,dY=t,hY=this._append,pY=this._,this._=e}this._+=pY;break}}result(){const t=this._;return this._="",t.length?t:null}}function gY(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function yY(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return gY;if(e!==fY){const t=10**e;fY=e,hY=function(e){let n=1;this._+=e[0];for(const r=e.length;n<r;++n)this._+=Math.round(arguments[n]*t)/t+e[n]}}return hY}function mY(t,e){let n,r,i=3,o=4.5;function a(t){return t&&("function"===typeof o&&r.pointRadius(+o.apply(this,arguments)),zV(t,n(r))),r.result()}return a.area=function(t){return zV(t,n(_U)),_U.result()},a.measure=function(t){return zV(t,n(cY)),cY.result()},a.bounds=function(t){return zV(t,n(RU)),RU.result()},a.centroid=function(t){return zV(t,n(JU)),JU.result()},a.projection=function(e){return arguments.length?(n=null==e?(t=null,IV):(t=e).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(e=null,new vY(i)):new tY(e=t),"function"!==typeof o&&r.pointRadius(o),a):e},a.pointRadius=function(t){return arguments.length?(o="function"===typeof t?t:(r.pointRadius(+t),+t),a):o},a.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);i=e}return null===e&&(r=new vY(i)),a},a.projection(t).digits(i).context(e)}function bY(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);while(++r<i)o[r]=t+r*n;return o}function xY(t,e,n){var r=bY(t,e-HV,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function wY(t,e,n){var r=bY(t,e-HV,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function _Y(){var t,e,n,r,i,o,a,s,l,u,c,f,h=10,d=h,p=90,v=360,g=2.5;function y(){return{type:"MultiLineString",coordinates:m()}}function m(){return bY(tU(r/p)*p,n,p).map(c).concat(bY(tU(s/v)*v,a,v).map(f)).concat(bY(tU(e/h)*h,t,h).filter((function(t){return KV(t%p)>HV})).map(l)).concat(bY(tU(o/d)*d,i,d).filter((function(t){return KV(t%v)>HV})).map(u))}return y.lines=function(){return m().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(f(a).slice(1),c(n).reverse().slice(1),f(s).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),y.precision(g)):[[r,s],[n,a]]},y.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),y.precision(g)):[[e,o],[t,i]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(p=+t[0],v=+t[1],y):[p,v]},y.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],y):[h,d]},y.precision=function(h){return arguments.length?(g=+h,l=xY(o,i,90),u=wY(e,t,g),c=xY(s,a,90),f=wY(r,n,g),y):g},y.extentMajor([[-180,-90+HV],[180,90-HV]]).extentMinor([[-180,-80-HV],[180,80+HV]])}function OY(){return _Y()()}function CY(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:cU,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function SY(t,e){return KV(t[0]-e[0])<HV&&KV(t[1]-e[1])<HV}function EY(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function MY(t,e,n,r,i){var o,a,s=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(SY(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2*HV}s.push(n=new EY(r,t,null,!0)),l.push(n.o=new EY(r,null,n,!1)),s.push(n=new EY(a,t,null,!1)),l.push(n.o=new EY(a,null,n,!0))}})),s.length){for(l.sort(e),kY(s),kY(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;var u,c,f=s[0];while(1){var h=f,d=!0;while(h.v)if((h=h.n)===f)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=u.length;o<a;++o)i.point((c=u[o])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(u=h.p.z,o=u.length-1;o>=0;--o)i.point((c=u[o])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,d=!d}while(!h.v);i.lineEnd()}}}function kY(t){if(e=t.length){var e,n,r=0,i=t[0];while(++r<e)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function TY(t){return[QV(t[1],t[0]),uU(t[2])]}function AY(t){var e=t[0],n=t[1],r=JV(n);return[r*JV(e),r*iU(e),iU(n)]}function LY(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function PY(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function RY(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function IY(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function jY(t){var e=aU(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function NY(t){return KV(t[0])<=GV?t[0]:oU(t[0])*((KV(t[0])+GV)%YV-GV)}function BY(t,e){var n=NY(e),r=e[1],i=iU(r),o=[iU(n),-JV(n),0],a=0,s=0,l=new WV;1===i?r=VV+HV:-1===i&&(r=-VV-HV);for(var u=0,c=t.length;u<c;++u)if(h=(f=t[u]).length)for(var f,h,d=f[h-1],p=NY(d),v=d[1]/2+UV,g=iU(v),y=JV(v),m=0;m<h;++m,p=x,g=_,y=O,d=b){var b=f[m],x=NY(b),w=b[1]/2+UV,_=iU(w),O=JV(w),C=x-p,S=C>=0?1:-1,E=S*C,M=E>GV,k=g*_;if(l.add(QV(k*S*iU(E),y*O+k*JV(E))),a+=M?C+S*YV:C,M^p>=n^x>=n){var T=PY(AY(d),AY(b));jY(T);var A=PY(o,T);jY(A);var L=(M^C>=0?-1:1)*uU(A[2]);(r>L||r===L&&(T[0]||T[1]))&&(s+=M^C>=0?1:-1)}}return(a<-HV||a<HV&&l<-$V)^1&s}function*DY(t){for(const e of t)yield*e}function FY(t){return Array.from(DY(t))}function zY(t,e,n,r){return function(i){var o,a,s,l=e(i),u=CY(),c=e(u),f=!1,h={point:d,lineStart:v,lineEnd:g,polygonStart:function(){h.point=y,h.lineStart=m,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=v,h.lineEnd=g,a=FY(a);var t=BY(o,r);a.length?(f||(i.polygonStart(),f=!0),MY(a,HY,t,n,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){l.point(t,e)}function v(){h.point=p,l.lineStart()}function g(){h.point=d,l.lineEnd()}function y(t,e){s.push([t,e]),c.point(t,e)}function m(){c.lineStart(),s=[]}function b(){y(s[0][0],s[0][1]),c.lineEnd();var t,e,n,r,l=c.clean(),h=u.result(),d=h.length;if(s.pop(),o.push(s),s=null,d)if(1&l){if(n=h[0],(e=n.length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&l&&h.push(h.pop().concat(h.shift())),a.push(h.filter(WY))}return h}}function WY(t){return t.length>1}function HY(t,e){return((t=t.x)[0]<0?t[1]-VV-HV:VV-t[1])-((e=e.x)[0]<0?e[1]-VV-HV:VV-e[1])}var $Y=zY((function(){return!0}),GY,UY,[-GV,-VV]);function GY(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?GV:-GV,l=KV(o-n);KV(l-GV)<HV?(t.point(n,r=(r+a)/2>0?VV:-VV),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&l>=GV&&(KV(n-i)<HV&&(n-=i*HV),KV(o-s)<HV&&(o-=s*HV),r=VY(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function VY(t,e,n,r){var i,o,a=iU(t-n);return KV(a)>HV?ZV((iU(e)*(o=JV(r))*iU(n)-iU(r)*(i=JV(e))*iU(t))/(i*o*a)):(e+r)/2}function UY(t,e,n,r){var i;if(null==t)i=n*VV,r.point(-GV,i),r.point(0,i),r.point(GV,i),r.point(GV,0),r.point(GV,-i),r.point(0,-i),r.point(-GV,-i),r.point(-GV,0),r.point(-GV,i);else if(KV(t[0]-e[0])>HV){var o=t[0]<e[0]?GV:-GV;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function YY(t,e,n,r,i,o){if(n){var a=JV(e),s=iU(e),l=r*n;null==i?(i=e+r*YV,o=e-l/2):(i=qY(a,i),o=qY(a,o),(r>0?i<o:i>o)&&(i+=r*YV));for(var u,c=i;r>0?c>o:c<o;c-=l)u=TY([a,-s*JV(c),-s*iU(c)]),t.point(u[0],u[1])}}function qY(t,e){e=AY(e),e[0]-=t,jY(e);var n=lU(-e[1]);return((-e[2]<0?-n:n)+YV-HV)%YV}function XY(t){var e=JV(t),n=6*XV,r=e>0,i=KV(e)>HV;function o(e,r,i,o){YY(o,t,n,i,e,r)}function a(t,n){return JV(t)*JV(n)>e}function s(t){var e,n,o,s,c;return{lineStart:function(){s=o=!1,c=1},point:function(f,h){var d,p=[f,h],v=a(f,h),g=r?v?0:u(f,h):v?u(f+(f<0?GV:-GV),h):0;if(!e&&(s=o=v)&&t.lineStart(),v!==o&&(d=l(e,p),(!d||SY(e,d)||SY(p,d))&&(p[2]=1)),v!==o)c=0,v?(t.lineStart(),d=l(p,e),t.point(d[0],d[1])):(d=l(e,p),t.point(d[0],d[1],2),t.lineEnd()),e=d;else if(i&&e&&r^v){var y;g&n||!(y=l(p,e,!0))||(c=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!v||e&&SY(e,p)||t.point(p[0],p[1]),e=p,o=v,n=g},lineEnd:function(){o&&t.lineEnd(),e=null},clean:function(){return c|(s&&o)<<1}}}function l(t,n,r){var i=AY(t),o=AY(n),a=[1,0,0],s=PY(i,o),l=LY(s,s),u=s[0],c=l-u*u;if(!c)return!r&&t;var f=e*l/c,h=-e*u/c,d=PY(a,s),p=IY(a,f),v=IY(s,h);RY(p,v);var g=d,y=LY(p,g),m=LY(g,g),b=y*y-m*(LY(p,p)-1);if(!(b<0)){var x=aU(b),w=IY(g,(-y-x)/m);if(RY(w,p),w=TY(w),!r)return w;var _,O=t[0],C=n[0],S=t[1],E=n[1];C<O&&(_=O,O=C,C=_);var M=C-O,k=KV(M-GV)<HV,T=k||M<HV;if(!k&&E<S&&(_=S,S=E,E=_),T?k?S+E>0^w[1]<(KV(w[0]-O)<HV?S:E):S<=w[1]&&w[1]<=E:M>GV^(O<=w[0]&&w[0]<=C)){var A=IY(g,(-y+x)/m);return RY(A,p),[w,TY(A)]}}}function u(e,n){var i=r?t:GV-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return zY(a,s,o,r?[0,-t]:[-GV,t-GV])}function KY(t,e,n,r,i,o){var a,s=t[0],l=t[1],u=e[0],c=e[1],f=0,h=1,d=u-s,p=c-l;if(a=n-s,d||!(a>0)){if(a/=d,d<0){if(a<f)return;a<h&&(h=a)}else if(d>0){if(a>h)return;a>f&&(f=a)}if(a=i-s,d||!(a<0)){if(a/=d,d<0){if(a>h)return;a>f&&(f=a)}else if(d>0){if(a<f)return;a<h&&(h=a)}if(a=r-l,p||!(a>0)){if(a/=p,p<0){if(a<f)return;a<h&&(h=a)}else if(p>0){if(a>h)return;a>f&&(f=a)}if(a=o-l,p||!(a<0)){if(a/=p,p<0){if(a>h)return;a>f&&(f=a)}else if(p>0){if(a<f)return;a<h&&(h=a)}return f>0&&(t[0]=s+f*d,t[1]=l+f*p),h<1&&(e[0]=s+h*d,e[1]=l+h*p),!0}}}}}var ZY=1e9,QY=-ZY;function JY(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,u){var c=0,f=0;if(null==i||(c=a(i,s))!==(f=a(o,s))||l(i,o)<0^s>0)do{u.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+s+4)%4)!==f);else u.point(o[0],o[1])}function a(r,i){return KV(r[0]-t)<HV?i>0?0:3:KV(r[0]-n)<HV?i>0?2:1:KV(r[1]-e)<HV?i>0?1:0:i>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var l,u,c,f,h,d,p,v,g,y,m,b=a,x=CY(),w={point:_,lineStart:E,lineEnd:M,polygonStart:C,polygonEnd:S};function _(t,e){i(t,e)&&b.point(t,e)}function O(){for(var e=0,n=0,i=u.length;n<i;++n)for(var o,a,s=u[n],l=1,c=s.length,f=s[0],h=f[0],d=f[1];l<c;++l)o=h,a=d,f=s[l],h=f[0],d=f[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++e:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--e;return e}function C(){b=x,l=[],u=[],m=!0}function S(){var t=O(),e=m&&t,n=(l=FY(l)).length;(e||n)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),n&&MY(l,s,t,o,a),a.polygonEnd()),b=a,l=u=c=null}function E(){w.point=k,u&&u.push(c=[]),y=!0,g=!1,p=v=NaN}function M(){l&&(k(f,h),d&&g&&x.rejoin(),l.push(x.result())),w.point=_,g&&b.lineEnd()}function k(o,a){var s=i(o,a);if(u&&c.push([o,a]),y)f=o,h=a,d=s,y=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&g)b.point(o,a);else{var l=[p=Math.max(QY,Math.min(ZY,p)),v=Math.max(QY,Math.min(ZY,v))],x=[o=Math.max(QY,Math.min(ZY,o)),a=Math.max(QY,Math.min(ZY,a))];KY(l,x,t,e,n,r)?(g||(b.lineStart(),b.point(l[0],l[1])),b.point(x[0],x[1]),s||b.lineEnd(),m=!1):s&&(b.lineStart(),b.point(o,a),m=!1)}p=o,v=a,g=s}return w}}function tq(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function eq(t,e){return KV(t)>GV&&(t-=Math.round(t/YV)*YV),[t,e]}function nq(t,e,n){return(t%=YV)?e||n?tq(iq(t),oq(e,n)):iq(t):e||n?oq(e,n):eq}function rq(t){return function(e,n){return e+=t,KV(e)>GV&&(e-=Math.round(e/YV)*YV),[e,n]}}function iq(t){var e=rq(t);return e.invert=rq(-t),e}function oq(t,e){var n=JV(t),r=iU(t),i=JV(e),o=iU(e);function a(t,e){var a=JV(e),s=JV(t)*a,l=iU(t)*a,u=iU(e),c=u*n+s*r;return[QV(l*i-c*o,s*n-u*r),uU(c*i+l*o)]}return a.invert=function(t,e){var a=JV(e),s=JV(t)*a,l=iU(t)*a,u=iU(e),c=u*i-l*o;return[QV(l*i+u*o,s*n+c*r),uU(c*n-s*r)]},a}function aq(t){function e(e){return e=t(e[0]*XV,e[1]*XV),e[0]*=qV,e[1]*=qV,e}return t=nq(t[0]*XV,t[1]*XV,t.length>2?t[2]*XV:0),e.invert=function(e){return e=t.invert(e[0]*XV,e[1]*XV),e[0]*=qV,e[1]*=qV,e},e}function sq(t){return function(e){var n=new lq;for(var r in t)n[r]=t[r];return n.stream=e,n}}function lq(){}function uq(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),zV(n,t.stream(RU)),e(RU.result()),null!=r&&t.clipExtent(r),t}function cq(t,e,n){return uq(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}function fq(t,e,n){return cq(t,[[0,0],e],n)}function hq(t,e,n){return uq(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}function dq(t,e,n){return uq(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}eq.invert=eq,lq.prototype={constructor:lq,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var pq=16,vq=JV(30*XV);function gq(t,e){return+e?mq(t,e):yq(t)}function yq(t){return sq({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function mq(t,e){function n(r,i,o,a,s,l,u,c,f,h,d,p,v,g){var y=u-r,m=c-i,b=y*y+m*m;if(b>4*e&&v--){var x=a+h,w=s+d,_=l+p,O=aU(x*x+w*w+_*_),C=uU(_/=O),S=KV(KV(_)-1)<HV||KV(o-f)<HV?(o+f)/2:QV(w,x),E=t(S,C),M=E[0],k=E[1],T=M-r,A=k-i,L=m*T-y*A;(L*L/b>e||KV((y*T+m*A)/b-.5)>.3||a*h+s*d+l*p<vq)&&(n(r,i,o,a,s,l,M,k,S,x/=O,w/=O,_,v,g),g.point(M,k),n(M,k,S,x,w,_,u,c,f,h,d,p,v,g))}}return function(e){var r,i,o,a,s,l,u,c,f,h,d,p,v={point:g,lineStart:y,lineEnd:b,polygonStart:function(){e.polygonStart(),v.lineStart=x},polygonEnd:function(){e.polygonEnd(),v.lineStart=y}};function g(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){c=NaN,v.point=m,e.lineStart()}function m(r,i){var o=AY([r,i]),a=t(r,i);n(c,f,u,h,d,p,c=a[0],f=a[1],u=r,h=o[0],d=o[1],p=o[2],pq,e),e.point(c,f)}function b(){v.point=g,e.lineEnd()}function x(){y(),v.point=w,v.lineEnd=_}function w(t,e){m(r=t,e),i=c,o=f,a=h,s=d,l=p,v.point=m}function _(){n(c,f,u,h,d,p,i,o,r,a,s,l,pq,e),v.lineEnd=b,b()}return v}}var bq=sq({point:function(t,e){this.stream.point(t*XV,e*XV)}});function xq(t){return sq({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function wq(t,e,n,r,i){function o(o,a){return o*=r,a*=i,[e+t*o,n-t*a]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}function _q(t,e,n,r,i,o){if(!o)return wq(t,e,n,r,i);var a=JV(o),s=iU(o),l=a*t,u=s*t,c=a/t,f=s/t,h=(s*n-a*e)/t,d=(s*e+a*n)/t;function p(t,o){return t*=r,o*=i,[l*t-u*o+e,n-u*t-l*o]}return p.invert=function(t,e){return[r*(c*t-f*e+h),i*(d-f*t-c*e)]},p}function Oq(t){return Cq((function(){return t}))()}function Cq(t){var e,n,r,i,o,a,s,l,u,c,f=150,h=480,d=250,p=0,v=0,g=0,y=0,m=0,b=0,x=1,w=1,_=null,O=$Y,C=null,S=IV,E=.5;function M(t){return l(t[0]*XV,t[1]*XV)}function k(t){return t=l.invert(t[0],t[1]),t&&[t[0]*qV,t[1]*qV]}function T(){var t=_q(f,0,0,x,w,b).apply(null,e(p,v)),r=_q(f,h-t[0],d-t[1],x,w,b);return n=nq(g,y,m),s=tq(e,r),l=tq(n,s),a=gq(s,E),A()}function A(){return u=c=null,M}return M.stream=function(t){return u&&c===t?u:u=bq(xq(n)(O(a(S(c=t)))))},M.preclip=function(t){return arguments.length?(O=t,_=void 0,A()):O},M.postclip=function(t){return arguments.length?(S=t,C=r=i=o=null,A()):S},M.clipAngle=function(t){return arguments.length?(O=+t?XY(_=t*XV):(_=null,$Y),A()):_*qV},M.clipExtent=function(t){return arguments.length?(S=null==t?(C=r=i=o=null,IV):JY(C=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),A()):null==C?null:[[C,r],[i,o]]},M.scale=function(t){return arguments.length?(f=+t,T()):f},M.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],T()):[h,d]},M.center=function(t){return arguments.length?(p=t[0]%360*XV,v=t[1]%360*XV,T()):[p*qV,v*qV]},M.rotate=function(t){return arguments.length?(g=t[0]%360*XV,y=t[1]%360*XV,m=t.length>2?t[2]%360*XV:0,T()):[g*qV,y*qV,m*qV]},M.angle=function(t){return arguments.length?(b=t%360*XV,T()):b*qV},M.reflectX=function(t){return arguments.length?(x=t?-1:1,T()):x<0},M.reflectY=function(t){return arguments.length?(w=t?-1:1,T()):w<0},M.precision=function(t){return arguments.length?(a=gq(s,E=t*t),A()):aU(E)},M.fitExtent=function(t,e){return cq(M,t,e)},M.fitSize=function(t,e){return fq(M,t,e)},M.fitWidth=function(t,e){return hq(M,t,e)},M.fitHeight=function(t,e){return dq(M,t,e)},function(){return e=t.apply(this,arguments),M.invert=e.invert&&k,T()}}function Sq(t){var e=0,n=GV/3,r=Cq(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*XV,n=t[1]*XV):[e*qV,n*qV]},i}function Eq(t){var e=JV(t);function n(t,n){return[t*e,iU(n)/e]}return n.invert=function(t,n){return[t/e,uU(n*e)]},n}function Mq(t,e){var n=iU(t),r=(n+iU(e))/2;if(KV(r)<HV)return Eq(t);var i=1+n*(2*r-n),o=aU(i)/r;function a(t,e){var n=aU(i-2*r*iU(e))/r;return[n*iU(t*=r),o-n*JV(t)]}return a.invert=function(t,e){var n=o-e,a=QV(t,KV(n))*oU(n);return n*r<0&&(a-=GV*oU(t)*oU(n)),[a/r,uU((i-(t*t+n*n)*r*r)/(2*r))]},a}function kq(){return Sq(Mq).scale(155.424).center([0,33.6442])}function Tq(){return kq().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Aq(t){var e=t.length;return{point:function(n,r){var i=-1;while(++i<e)t[i].point(n,r)},sphere:function(){var n=-1;while(++n<e)t[n].sphere()},lineStart:function(){var n=-1;while(++n<e)t[n].lineStart()},lineEnd:function(){var n=-1;while(++n<e)t[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<e)t[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<e)t[n].polygonEnd()}}}function Lq(){var t,e,n,r,i,o,a=Tq(),s=kq().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=kq().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,e){o=[t,e]}};function c(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function f(){return t=e=null,c}return c.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:a).invert(t)},c.stream=function(n){return t&&e===n?t:t=Aq([a.stream(e=n),s.stream(n),l.stream(n)])},c.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),l.precision(t),f()):a.precision()},c.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),l.scale(t),c.translate(a.translate())):a.scale()},c.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],c=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,c-.238*e],[o+.455*e,c+.238*e]]).stream(u),r=s.translate([o-.307*e,c+.201*e]).clipExtent([[o-.425*e+HV,c+.12*e+HV],[o-.214*e-HV,c+.234*e-HV]]).stream(u),i=l.translate([o-.205*e,c+.212*e]).clipExtent([[o-.214*e+HV,c+.166*e+HV],[o-.115*e-HV,c+.234*e-HV]]).stream(u),f()},c.fitExtent=function(t,e){return cq(c,t,e)},c.fitSize=function(t,e){return fq(c,t,e)},c.fitWidth=function(t,e){return hq(c,t,e)},c.fitHeight=function(t,e){return dq(c,t,e)},c.scale(1070)}function Pq(t){return function(e,n){var r=JV(e),i=JV(n),o=t(r*i);return o===1/0?[2,0]:[o*i*iU(e),o*iU(n)]}}function Rq(t){return function(e,n){var r=aU(e*e+n*n),i=t(r),o=iU(i),a=JV(i);return[QV(e*o,r*a),uU(r&&n*o/r)]}}var Iq=Pq((function(t){return aU(2/(1+t))}));function jq(){return Oq(Iq).scale(124.75).clipAngle(179.999)}Iq.invert=Rq((function(t){return 2*uU(t/2)}));var Nq=Pq((function(t){return(t=lU(t))&&t/iU(t)}));function Bq(){return Oq(Nq).scale(79.4188).clipAngle(179.999)}function Dq(t,e){return[t,nU(sU((VV+e)/2))]}function Fq(){return zq(Dq).scale(961/YV)}function zq(t){var e,n,r,i=Oq(t),o=i.center,a=i.scale,s=i.translate,l=i.clipExtent,u=null;function c(){var o=GV*a(),s=i(aq(i.rotate()).invert([0,0]));return l(null==u?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===Dq?[[Math.max(s[0]-o,u),e],[Math.min(s[0]+o,n),r]]:[[u,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),c()):a()},i.translate=function(t){return arguments.length?(s(t),c()):s()},i.center=function(t){return arguments.length?(o(t),c()):o()},i.clipExtent=function(t){return arguments.length?(null==t?u=e=n=r=null:(u=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),c()):null==u?null:[[u,e],[n,r]]},c()}function Wq(t){return sU((VV+t)/2)}function Hq(t,e){var n=JV(t),r=t===e?iU(t):nU(n/JV(e))/nU(Wq(e)/Wq(t)),i=n*rU(Wq(t),r)/r;if(!r)return Dq;function o(t,e){i>0?e<-VV+HV&&(e=-VV+HV):e>VV-HV&&(e=VV-HV);var n=i/rU(Wq(e),r);return[n*iU(r*t),i-n*JV(r*t)]}return o.invert=function(t,e){var n=i-e,o=oU(r)*aU(t*t+n*n),a=QV(t,KV(n))*oU(n);return n*r<0&&(a-=GV*oU(t)*oU(n)),[a/r,2*ZV(rU(i/o,1/r))-VV]},o}function $q(){return Sq(Hq).scale(109.5).parallels([30,30])}function Gq(t,e){return[t,e]}function Vq(){return Oq(Gq).scale(152.63)}function Uq(t,e){var n=JV(t),r=t===e?iU(t):(n-JV(e))/(e-t),i=n/r+t;if(KV(r)<HV)return Gq;function o(t,e){var n=i-e,o=r*t;return[n*iU(o),i-n*JV(o)]}return o.invert=function(t,e){var n=i-e,o=QV(t,KV(n))*oU(n);return n*r<0&&(o-=GV*oU(t)*oU(n)),[o/r,i-oU(r)*aU(t*t+n*n)]},o}function Yq(){return Sq(Uq).scale(131.154).center([0,13.9389])}Nq.invert=Rq((function(t){return t})),Dq.invert=function(t,e){return[t,2*ZV(eU(e))-VV]},Gq.invert=Gq;var qq=1.340264,Xq=-.081106,Kq=893e-6,Zq=.003796,Qq=aU(3)/2,Jq=12;function tX(t,e){var n=uU(Qq*iU(e)),r=n*n,i=r*r*r;return[t*JV(n)/(Qq*(qq+3*Xq*r+i*(7*Kq+9*Zq*r))),n*(qq+Xq*r+i*(Kq+Zq*r))]}function eX(){return Oq(tX).scale(177.158)}function nX(t,e){var n=JV(e),r=JV(t)*n;return[n*iU(t)/r,iU(e)/r]}function rX(){return Oq(nX).scale(144.049).clipAngle(60)}function iX(){var t,e,n,r,i,o,a,s=1,l=0,u=0,c=1,f=1,h=0,d=null,p=1,v=1,g=sq({point:function(t,e){var n=b([t,e]);this.stream.point(n[0],n[1])}}),y=IV;function m(){return p=s*c,v=s*f,o=a=null,b}function b(n){var r=n[0]*p,i=n[1]*v;if(h){var o=i*t-r*e;r=r*t+i*e,i=o}return[r+l,i+u]}return b.invert=function(n){var r=n[0]-l,i=n[1]-u;if(h){var o=i*t+r*e;r=r*t-i*e,i=o}return[r/p,i/v]},b.stream=function(t){return o&&a===t?o:o=g(y(a=t))},b.postclip=function(t){return arguments.length?(y=t,d=n=r=i=null,m()):y},b.clipExtent=function(t){return arguments.length?(y=null==t?(d=n=r=i=null,IV):JY(d=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),m()):null==d?null:[[d,n],[r,i]]},b.scale=function(t){return arguments.length?(s=+t,m()):s},b.translate=function(t){return arguments.length?(l=+t[0],u=+t[1],m()):[l,u]},b.angle=function(n){return arguments.length?(h=n%360*XV,e=iU(h),t=JV(h),m()):h*qV},b.reflectX=function(t){return arguments.length?(c=t?-1:1,m()):c<0},b.reflectY=function(t){return arguments.length?(f=t?-1:1,m()):f<0},b.fitExtent=function(t,e){return cq(b,t,e)},b.fitSize=function(t,e){return fq(b,t,e)},b.fitWidth=function(t,e){return hq(b,t,e)},b.fitHeight=function(t,e){return dq(b,t,e)},b}function oX(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function aX(){return Oq(oX).scale(175.295)}function sX(t,e){return[JV(e)*iU(t),iU(e)]}function lX(){return Oq(sX).scale(249.5).clipAngle(90+HV)}function uX(t,e){var n=JV(e),r=1+JV(t)*n;return[n*iU(t)/r,iU(e)/r]}function cX(){return Oq(uX).scale(250).clipAngle(142)}function fX(t,e){return[nU(sU((VV+e)/2)),-t]}function hX(){var t=zq(fX),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)}tX.invert=function(t,e){for(var n,r,i,o=e,a=o*o,s=a*a*a,l=0;l<Jq;++l)if(r=o*(qq+Xq*a+s*(Kq+Zq*a))-e,i=qq+3*Xq*a+s*(7*Kq+9*Zq*a),o-=n=r/i,a=o*o,s=a*a*a,KV(n)<$V)break;return[Qq*t*(qq+3*Xq*a+s*(7*Kq+9*Zq*a))/JV(o),uU(iU(o)/Qq)]},nX.invert=Rq(ZV),oX.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(KV(n)>HV&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},sX.invert=Rq(uU),uX.invert=Rq((function(t){return 2*ZV(t)})),fX.invert=function(t,e){return[-e,2*ZV(eU(t))-VV]};var dX=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function pX(t){if("function"===typeof t)return t;const e=`geo${Fj(t)}`,n=a[e];if(!n)throw new Error(`Unknown coordinate: ${t}`);return n}function vX(t){return{type:"FeatureCollection",features:t.flatMap((t=>gX(t).features))}}function gX(t){const e={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featureCollection"};if(!t||!t.type)return null;const n=e[t.type];return n?"geometry"===n?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]}:"feature"===n?{type:"FeatureCollection",features:[t]}:"featureCollection"===n?t:void 0:null}function yX(t,e){var n;for(const[r,i]of Object.entries(e))null===(n=t[r])||void 0===n||n.call(t,i)}function mX(t,e,n,r){const i=()=>{const t=e.filter(_X),n=t.find((t=>t.sphere));return n?{type:"Sphere"}:vX(t.filter((t=>!t.sphere)).flatMap((t=>t.data.value)))},{outline:o=i()}=r,{size:a="fitExtent"}=r;return"fitExtent"===a?bX(t,o,n):"fitWidth"===a?xX(t,o,n):void 0}function bX(t,e,n){const{x:r,y:i,width:o,height:a}=n;t.fitExtent([[r,i],[o,a]],e)}function xX(t,e,n){const{width:r,height:i}=n,[[o,a],[s,l]]=mY(t.fitWidth(r,e)).bounds(e),u=Math.ceil(l-a),c=Math.min(Math.ceil(s-o),u),f=t.scale()*(c-1)/c,[h,d]=t.translate(),p=d+(i-u)/2;t.scale(f).translate([h,p]).precision(.2)}function wX(t){const{data:e}=t;if(Array.isArray(e))return Object.assign(Object.assign({},t),{data:{value:e}});const{type:n}=e;return"graticule10"===n?Object.assign(Object.assign({},t),{data:{value:[OY()]}}):"sphere"===n?Object.assign(Object.assign({},t),{sphere:!0,data:{value:[{type:"Sphere"}]}}):t}function _X(t){return"geoPath"===t.type}const OX=()=>t=>{const{children:e,coordinate:n={}}=t;if(!Array.isArray(e))return[];const{type:r="equalEarth"}=n,i=dX(n,["type"]),o=pX(r),a=e.map(wX);let s;function l(){return[["custom",(t,e,n,r)=>{const l=o(),u={x:t,y:e,width:n,height:r};mX(l,a,u,i),yX(l,i),s=mY(l);const c=new XC({domain:[t,t+n]}),f=new XC({domain:[e,e+r]}),h=t=>{const e=l(t);if(!e)return null;const[n,r]=e;return[c.map(n),f.map(r)]},d=t=>{if(!t)return null;const[e,n]=t,r=[c.invert(e),f.invert(n)];return l.invert(r)};return{transform:t=>h(t),untransform:t=>d(t)}}]]}function u(t){const{style:e,tooltip:n={}}=t;return Object.assign(Object.assign({},t),{type:"path",tooltip:Jg(n,{title:"id",items:[{channel:"color"}]}),style:Object.assign(Object.assign({},e),{d:t=>s(t)||[]})})}const c=t=>_X(t)?u(t):t;return[Object.assign(Object.assign({},t),{type:"view",scale:{x:{type:"identity"},y:{type:"identity"}},axis:!1,coordinate:{type:l},children:a.flatMap(c)})]};OX.props={};var CX=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const SX=()=>t=>{const{type:e,data:n,scale:r,encode:i,style:o,animate:a,key:s,state:l}=t,u=CX(t,["type","data","scale","encode","style","animate","key","state"]);return[Object.assign(Object.assign({type:"geoView"},u),{children:[{type:"geoPath",key:`${s}-0`,data:{value:n},scale:r,encode:i,style:o,animate:a,state:l}]})]};SX.props={};const EX={"composition.geoView":OX,"composition.geoPath":SX};function MX(){return Object.assign({"data.fetch":Fx,"data.inline":Zx,"data.sortBy":Kx,"data.sort":Gx,"data.filter":$x,"data.pick":Ux,"data.rename":qx,"data.fold":Wx,"data.slice":Dw,"data.custom":Qx,"data.map":Jx,"data.cluster":yx,"data.tree":mx,"data.sankey":Ag,"data.arc":aw,"data.wordCloud":jw,"data.join":Bw,"data.kde":Ww,"data.venn":h_,"transform.maybeZeroY1":u$,"transform.maybeZeroX":E$,"transform.maybeStackY":C$,"transform.maybeTitle":S$,"transform.maybeSeries":L$,"transform.maybeZeroPadding":B$,"transform.stackY":_$,"transform.binX":hV,"transform.bin":fV,"transform.dodgeX":G$,"transform.jitter":eG,"transform.jitterX":nG,"transform.symmetryY":iG,"transform.diffY":oG,"transform.stackEnter":V$,"transform.normalizeY":Q$,"transform.select":fG,"transform.selectX":dG,"transform.selectY":vG,"transform.groupX":AG,"transform.groupY":LG,"transform.groupColor":PG,"transform.group":TG,"transform.maybeSize":k$,"transform.maybeZeroY":M$,"transform.maybeKey":A$,"transform.sortX":zG,"transform.sortY":HG,"transform.sortColor":WG,"transform.flexX":VG,"transform.maybeTupleY":P$,"transform.maybeTupleX":R$,"transform.maybeIdentityY":I$,"transform.maybeIdentityX":j$,"transform.maybeTuple":W$,"transform.maybeVisualPosition":F$,"transform.maybeFunctionAttribute":z$,"transform.maybeGradient":H$,"transform.maybeTooltip":N$,"transform.pack":YG,"transform.sample":gV,"transform.filter":yV,"coordinate.cartesian":Wd,"coordinate.polar":$d,"coordinate.helix":Gd,"coordinate.transpose":Vd,"coordinate.theta":Yd,"coordinate.parallel":Kd,"coordinate.fisheye":Zd,"coordinate.radial":Xd,"coordinate.radar":Qd,"encode.constant":Jd,"encode.field":ep,"encode.transform":tp,"encode.column":np,"mark.interval":Jp,"mark.rect":ev,"mark.line":Tv,"mark.point":Lv,"mark.text":Rv,"mark.cell":jv,"mark.area":Bv,"mark.link":Fv,"mark.image":Wv,"mark.polygon":$v,"mark.box":Vv,"mark.vector":Uv,"mark.lineX":Kv,"mark.lineY":qv,"mark.connector":Qv,"mark.range":ng,"mark.rangeX":ig,"mark.rangeY":ag,"mark.sankey":sy,"mark.path":ly,"mark.treemap":Ty,"mark.pack":sm,"mark.boxplot":Lm,"mark.shape":Pm,"mark.forceGraph":Qb,"mark.gauge":AE,"mark.tree":Ox,"mark.wordCloud":m_,"mark.density":LE,"mark.heatmap":RE,"palette.category10":jE,"palette.category20":NE,"scale.linear":DE,"scale.ordinal":FE,"scale.band":BE,"scale.identity":zE,"scale.point":WE,"scale.time":HE,"scale.log":$E,"scale.pow":GE,"scale.sqrt":qE,"scale.threshold":VE,"scale.quantile":UE,"scale.quantize":YE,"scale.sequential":XE,"scale.constant":KE,"shape.interval.rect":PM,"shape.interval.hollow":RM,"shape.interval.funnel":VM,"shape.interval.pyramid":YM,"shape.rect.rect":PM,"shape.rect.hollow":RM,"shape.cell.cell":PM,"shape.cell.hollow":RM,"shape.line.line":ik,"shape.line.hv":bk,"shape.line.vh":xk,"shape.line.hvh":wk,"shape.line.trail":Ck,"shape.line.smooth":pk,"shape.point.bowtie":iT,"shape.point.cross":oT,"shape.point.diamond":aT,"shape.point.hexagon":sT,"shape.point.hollowBowtie":lT,"shape.point.hollowDiamond":uT,"shape.point.hollowHexagon":cT,"shape.point.hollow":fT,"shape.point.hollowSquare":hT,"shape.point.hollowTriangle":dT,"shape.point.hollowTriangleDown":pT,"shape.point.hyphen":vT,"shape.point.line":gT,"shape.point.plus":yT,"shape.point.point":mT,"shape.point.square":bT,"shape.point.tick":xT,"shape.point.triangle":wT,"shape.point.triangleDown":_T,"shape.text.text":xA,"shape.area.area":PA,"shape.area.smooth":IA,"shape.area.hvh":jA,"shape.area.vh":NA,"shape.area.hv":BA,"shape.link.smooth":zA,"shape.link.vhv":$A,"shape.link.arc":VA,"shape.link.link":DA,"shape.image.image":YA,"shape.polygon.polygon":KA,"shape.polygon.ribbon":JA,"shape.box.box":nL,"shape.box.violin":oL,"shape.vector.vector":CT,"shape.label.label":FL,"shape.text.badge":SA,"shape.lineX.line":cL,"shape.lineY.line":cL,"shape.shape.shape":oP,"shape.connector.connector":gL,"shape.range.range":PM,"shape.rangeX.range":PM,"shape.rangeY.range":PM,"shape.path.path":HL,"shape.path.hollow":$L,"shape.density.density":VL,"shape.heatmap.heatmap":rP,"theme.classic":lP,"theme.classicDark":fP,"theme.academy":pP,"component.axisX":mN,"component.axisY":bN,"component.axisRadar":ON,"component.axisLinear":gN,"component.axisArc":yN,"component.legendCategory":dB,"component.legendContinuous":XB,"component.legendContinuousBlock":KB,"component.legendContinuousBlockSize":QB,"component.legendContinuousSize":ZB,"component.legends":XD,"component.title":nD,"component.sliderX":HD,"component.sliderY":$D,"component.scrollbarX":YD,"component.scrollbarY":qD,"animation.scaleInX":KD,"animation.scaleOutX":ZD,"animation.scaleInY":QD,"animation.scaleOutY":JD,"animation.waveIn":mF,"animation.fadeIn":tF,"animation.fadeOut":eF,"animation.zoomIn":bF,"animation.zoomOut":xF,"animation.pathIn":wF,"animation.morphing":yF,"animation.growInX":_F,"animation.growInY":OF,"interaction.elementHighlight":JF,"interaction.elementHighlightByX":tz,"interaction.elementHighlightByColor":ez,"interaction.elementSelect":iz,"interaction.elementSelectByX":oz,"interaction.elementSelectByColor":az,"interaction.fisheye":mz,"interaction.chartIndex":gz,"interaction.tooltip":nW,"interaction.legendFilter":pW,"interaction.legendHighlight":vW,"interaction.brushHighlight":MW,"interaction.brushXHighlight":TW,"interaction.brushYHighlight":LW,"interaction.brushAxisHighlight":GW,"interaction.brushFilter":XW,"interaction.brushXFilter":KW,"interaction.brushYFilter":ZW,"interaction.sliderFilter":rH,"interaction.scrollbarFilter":oH,"interaction.poptip":cH,"interaction.event":Rz,"composition.spaceLayer":gH,"composition.spaceFlex":mH,"composition.mark":_H,"composition.view":xH,"composition.facetRect":BH,"composition.repeatMatrix":GH,"composition.facetCircle":ZH,"composition.timingKeyframe":t$,"labelTransform.overlapHide":_V,"labelTransform.overlapDodgeY":EV,"labelTransform.overflowHide":RV,"labelTransform.contrastReverse":PV},EX)}const kX=[["legendCategory",[[["color","discrete"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","discrete"]],[["color","discrete"],["opacity","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"]],[["color","discrete"],["opacity","constant"],["size","constant"]],[["color","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"]],[["color","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["shape","discrete"]],[["color","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"]],[["color","discrete"],["opacity","constant"]],[["color","discrete"],["shape","constant"]],[["color","constant"],["shape","discrete"]],[["color","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"]],[["color","discrete"]]]],["legendContinuousSize",[[["color","continuous"],["opacity","continuous"],["size","continuous"]],[["color","constant"],["opacity","continuous"],["size","continuous"]],[["color","continuous"],["size","continuous"]],[["color","constant"],["size","continuous"]],[["size","continuous"],["opacity","continuous"]],[["size","continuous"]]]],["legendContinuousBlockSize",[[["color","distribution"],["opacity","distribution"],["size","distribution"]],[["color","distribution"],["size","distribution"]]]],["legendContinuousBlock",[[["color","distribution"],["opacity","continuous"]],[["color","distribution"]]]],["legendContinuous",[[["color","continuous"],["opacity","continuous"]],[["color","continuous"]],[["opacity","continuous"]]]]];var TX=n(5817),AX=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function LX(t,e){const n=n=>{if("string"!==typeof n)return n;const r=`${t}.${n}`;return e[r]||Fg(`Unknown Component: ${r}`)},r=(t,e)=>{const{type:r}=t,i=AX(t,["type"]);return n(r)(i,e)};return[r,n]}function PX(t){const{canvas:e,group:n}=t;return n?n.ownerDocument:e.document}var RX=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function IX(t,e,n){const[r]=LX("coordinate",n),{innerHeight:i,innerWidth:o,insetLeft:a,insetTop:s,insetRight:l,insetBottom:u,marginLeft:c,marginTop:f}=t,{coordinates:h=[]}=e,d=UX(h),p=new TX.Coordinate(Object.assign(Object.assign({},t),{x:a+c,y:s+f,width:o-a-l,height:i-u-s,transformations:d.map(r).flat()}));return p}function jX(t,e){const{coordinate:n={}}=t,r=RX(t,["coordinate"]),{type:i,transform:o=[]}=n,a=RX(n,["type","transform"]);if(!i)return Object.assign(Object.assign({},r),{coordinates:o});const[,s]=LX("coordinate",e),{transform:l=!1}=s(i).props||{};if(l)throw new Error(`Unknown coordinate: ${i}.`);return Object.assign(Object.assign({},r),{coordinates:[Object.assign({type:i},a),...o]})}function NX(t,e){return t.filter((t=>t.type===e))}function BX(t){return NX(t,"polar").length>0}function DX(t){return NX(t,"helix").length>0}function FX(t){return NX(t,"transpose").length%2===1}function zX(t){return NX(t,"parallel").length>0}function WX(t){return NX(t,"theta").length>0}function HX(t){return NX(t,"reflect").length>0}function $X(t){return NX(t,"radial").length>0}function GX(t){return NX(t,"radar").length>0}function VX(t){return NX(t,"reflectY").length>0}function UX(t){return t.find((t=>"cartesian"===t.type))?t:[...t,{type:"cartesian"}]}function YX(t){var e=t.length/6|0,n=new Array(e),r=0;while(r<e)n[r]="#"+t.slice(6*r,6*++r);return n}var qX=YX("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),XX=YX("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),KX=YX("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),ZX=YX("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),QX=YX("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),JX=YX("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),tK=YX("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),eK=YX("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),nK=YX("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),rK=YX("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function iK(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function oK(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return iK((n-r/e)*e,a,i,o,s)}}function aK(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return iK((n-r/e)*e,i,o,a,s)}}var sK=t=>()=>t;function lK(t,e){return function(n){return t+n*e}}function uK(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function cK(t,e){var n=e-t;return n?lK(t,n>180||n<-180?n-360*Math.round(n/360):n):sK(isNaN(t)?e:t)}function fK(t){return 1===(t=+t)?hK:function(e,n){return n-e?uK(e,n,t):sK(isNaN(e)?n:e)}}function hK(t,e){var n=e-t;return n?lK(t,n):sK(isNaN(t)?e:t)}(function t(e){var n=fK(e);function r(t,e){var r=n((t=er(t)).r,(e=er(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=hK(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r})(1);function dK(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=er(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}var pK=dK(oK),vK=(dK(aK),t=>pK(t[t.length-1])),gK=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(YX),yK=vK(gK),mK=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(YX),bK=vK(mK),xK=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(YX),wK=vK(xK),_K=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(YX),OK=vK(_K),CK=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(YX),SK=vK(CK),EK=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(YX),MK=vK(EK),kK=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(YX),TK=vK(kK),AK=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(YX),LK=vK(AK),PK=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(YX),RK=vK(PK),IK=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(YX),jK=vK(IK),NK=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(YX),BK=vK(NK),DK=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(YX),FK=vK(DK),zK=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(YX),WK=vK(zK),HK=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(YX),$K=vK(HK),GK=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(YX),VK=vK(GK),UK=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(YX),YK=vK(UK),qK=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(YX),XK=vK(qK),KK=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(YX),ZK=vK(KK),QK=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(YX),JK=vK(QK),tZ=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(YX),eZ=vK(tZ),nZ=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(YX),rZ=vK(nZ),iZ=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(YX),oZ=vK(iZ),aZ=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(YX),sZ=vK(aZ),lZ=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(YX),uZ=vK(lZ),cZ=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(YX),fZ=vK(cZ),hZ=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(YX),dZ=vK(hZ),pZ=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(YX),vZ=vK(pZ);function gZ(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}var yZ=Math.PI/180,mZ=180/Math.PI,bZ=-.14861,xZ=1.78277,wZ=-.29227,_Z=-.90649,OZ=1.97294,CZ=OZ*_Z,SZ=OZ*xZ,EZ=xZ*wZ-_Z*bZ;function MZ(t){if(t instanceof TZ)return new TZ(t.h,t.s,t.l,t.opacity);t instanceof nr||(t=tr(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(EZ*r+CZ*e-SZ*n)/(EZ+CZ-SZ),o=r-i,a=(OZ*(n-i)-wZ*o)/_Z,s=Math.sqrt(a*a+o*o)/(OZ*i*(1-i)),l=s?Math.atan2(a,o)*mZ-120:NaN;return new TZ(l<0?l+360:l,s,i,t.opacity)}function kZ(t,e,n,r){return 1===arguments.length?MZ(t):new TZ(t,e,n,null==r?1:r)}function TZ(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function AZ(t){return function e(n){function r(e,r){var i=t((e=kZ(e)).h,(r=kZ(r)).h),o=hK(e.s,r.s),a=hK(e.l,r.l),s=hK(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}Pn(TZ,kZ,Rn(In,{brighter:function(t){return t=null==t?Nn:Math.pow(Nn,t),new TZ(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?jn:Math.pow(jn,t),new TZ(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*yZ,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new nr(255*(e+n*(bZ*r+xZ*i)),255*(e+n*(wZ*r+_Z*i)),255*(e+n*(OZ*r)),this.opacity)}}));AZ(cK);var LZ=AZ(hK),PZ=LZ(kZ(300,.5,0),kZ(-240,.5,1)),RZ=LZ(kZ(-100,.75,.35),kZ(80,1.5,.8)),IZ=LZ(kZ(260,.75,.35),kZ(80,1.5,.8)),jZ=kZ();function NZ(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return jZ.h=360*t-100,jZ.s=1.5-1.5*e,jZ.l=.8-.9*e,jZ+""}var BZ=er(),DZ=Math.PI/3,FZ=2*Math.PI/3;function zZ(t){var e;return t=(.5-t)*Math.PI,BZ.r=255*(e=Math.sin(t))*e,BZ.g=255*(e=Math.sin(t+DZ))*e,BZ.b=255*(e=Math.sin(t+FZ))*e,BZ+""}function WZ(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function HZ(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var $Z=HZ(YX("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),GZ=HZ(YX("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),VZ=HZ(YX("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),UZ=HZ(YX("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function YZ(t,e,n,r,i,o){const{guide:a={}}=n,s=sQ(t,e,n);if("string"!==typeof s)return n;const l=lQ(s,t,e,n),u=nQ(s,l,n);return Object.assign(Object.assign(Object.assign({},n),cQ(s,t,e,n,r)),{domain:u,range:uQ(s,t,e,n,u,i,o),expectedDomain:l,guide:a,name:t,type:s})}function qZ(t,e){const n={};for(const r of t){const{values:t,name:i}=r,o=e[i];for(const e of t){const{name:t,value:r}=e;n[t]=r.map((t=>o.map(t)))}}return n}function XZ(t,e){var n;const{components:r=[]}=e,i=["scale","encode","axis","legend","data","transform"],o=Array.from(new Set(t.flatMap((t=>t.channels.map((t=>t.scale)))))),a=new Map(o.map((t=>[t.name,t])));for(const s of r){const t=tQ(s);for(const e of t){const t=a.get(e),r=(null===(n=s.scale)||void 0===n?void 0:n[e])||{},{independent:l=!1}=r;if(t&&!l){const{guide:e}=t,n="boolean"===typeof e?{}:e;t.guide=Bd({},n,s),Object.assign(t,r)}else{const t=Object.assign(Object.assign({},r),{expectedDomain:r.domain,name:e,guide:hj(s,i)});o.push(t)}}}return o}function KZ(t){if(!t||!Array.isArray(t))return[jg,jg];let e,n;const r=r=>{var i;e=r.map.bind(r),n=null===(i=r.invert)||void 0===i?void 0:i.bind(r);const o=t.filter((([t])=>"function"===typeof t)),a=t.filter((([t])=>"function"!==typeof t)),s=new Map(a);if(r.map=t=>{for(const[e,n]of o)if(e(t))return n;return s.has(t)?s.get(t):e(t)},!n)return r;const l=new Map(a.map((([t,e])=>[e,t]))),u=new Map(o.map((([t,e])=>[e,t])));return r.invert=t=>u.has(t)?t:l.has(t)?l.get(t):n(t),r},i=t=>(null!==e&&(t.map=e),null!==n&&(t.invert=n),t);return[r,i]}function ZZ(t,e){const n=Object.keys(t);for(const r of Object.values(e)){const{name:e,key:i}=r.getOptions();if("string"===typeof i)i in t||(t[i]=r);else if(e in t){const i=n.filter((t=>t.startsWith(e))).map((t=>+(t.replace(e,"")||0))),o=ug(i)+1,a=`${e}${o}`;t[a]=r,r.getOptions().key=a}else t[e]=r}return t}function QZ(t,e){const[n]=LX("scale",e),{relations:r}=t,[i]=KZ(r),o=n(t);return i(o)}function JZ(t){const e=t.flatMap((t=>Array.from(t.values()))).flatMap((t=>t.channels.map((t=>t.scale))));eQ(e,"x"),eQ(e,"y")}function tQ(t){const{channels:e=[],type:n,scale:r={}}=t,i=["shape","color","opacity","size"];return 0!==e.length?e:"axisX"===n?["x"]:"axisY"===n?["y"]:"legends"===n?Object.keys(r).filter((t=>i.includes(t))):[]}function eQ(t,e){const n=t.filter((({name:t,facet:n=!0})=>n&&t===e)),r=n.flatMap((t=>t.domain)),i=n.every(oQ)?qS(r):n.every(aQ)?Array.from(new Set(r)):null;if(null!==i)for(const o of n)o.domain=i}function nQ(t,e,n){const{ratio:r}=n;return void 0===r||null===r?e:oQ({type:t})?rQ(e,r,t):aQ({type:t})?iQ(e,r):e}function rQ(t,e,n){const r=t.map(Number),i=new XC({domain:r,range:[r[0],r[0]+(r[r.length-1]-r[0])*e]});return"time"===n?t.map((t=>new Date(i.map(t)))):t.map((t=>i.map(t)))}function iQ(t,e){const n=Math.round(t.length*e);return t.slice(0,n)}function oQ(t){const{type:e}=t;if("string"!==typeof e)return!1;const n=["linear","log","pow","time"];return n.includes(e)}function aQ(t){const{type:e}=t;if("string"!==typeof e)return!1;const n=["band","point","ordinal"];return n.includes(e)}function sQ(t,e,n){const{type:r,domain:i,range:o}=n;return void 0!==r?r:kQ(e)?"identity":"string"===typeof o?"linear":(i||o||[]).length>2?mQ(t):void 0!==i?EQ([i])?mQ(t):MQ(e)?"time":bQ(t,o):EQ(e)?mQ(t):MQ(e)?"time":bQ(t,o)}function lQ(t,e,n,r){const{domain:i}=r;if(void 0!==i)return i;switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":case"quantize":case"threshold":return xQ(wQ(n,r),r);case"band":case"ordinal":case"point":return _Q(n);case"quantile":return OQ(n);case"sequential":return xQ(CQ(n),r);default:return[]}}function uQ(t,e,n,r,i,o,a){const{range:s}=r;if("string"===typeof s)return hQ(s);if(void 0!==s)return s;const{rangeMin:l,rangeMax:u}=r;switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":{const t=fQ(n,r,i,o,a),[s,c]=SQ(e,t);return[l||s,u||c]}case"band":case"point":return[l||0,u||1];case"ordinal":return fQ(n,r,i,o,a);case"sequential":return;case"constant":return[n[0][0]];default:return[]}}function cQ(t,e,n,r,i){switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":return vQ(i,r);case"band":case"point":return gQ(t,e,i,r);case"sequential":return pQ(r);default:return r}}function fQ(t,e,n,r,i){const[o]=LX("palette",i),{defaultCategory10:a,defaultCategory20:s}=r,l=JS(t.flat()).length<=a.length?a:s,{palette:u=l,offset:c}=e;try{return o({type:u})}catch(f){const t=dQ(u,n,c);if(t)return t;throw new Error(`Unknown Component: ${u} `)}}function hQ(t){return t.split("-")}function dQ(t,e,n=(t=>t)){if(!t)return null;const r=Fj(t),i=s[`scheme${r}`],o=s[`interpolate${r}`];if(!i&&!o)return null;if(i){if(!i.some(Array.isArray))return i;const t=i[e.length];if(t)return t}return e.map(((t,r)=>o(n(r/e.length))))}function pQ(t){const{palette:e="ylGnBu",offset:n}=t,r=Fj(e),i=s[`interpolate${r}`];if(!i)throw new Error(`Unknown palette: ${r}`);return{interpolator:n?t=>i(n(t)):i}}function vQ(t,e){const{interpolate:n=uC,nice:r=!1,tickCount:i=5}=e;return Object.assign(Object.assign({},e),{interpolate:n,nice:r,tickCount:i})}function gQ(t,e,n,r){if(void 0!==r.padding||void 0!==r.paddingInner||void 0!==r.paddingOuter)return Object.assign(Object.assign({},r),{unknown:NaN});const i=yQ(t,e,n),{paddingInner:o=i,paddingOuter:a=i}=r;return Object.assign(Object.assign({},r),{paddingInner:o,paddingOuter:a,padding:i,unknown:NaN})}function yQ(t,e,n){return"enterDelay"===e||"enterDuration"===e?0:"band"===t?WX(n)?0:.1:"point"===t?.5:0}function mQ(t){return AQ(t)?"point":"ordinal"}function bQ(t,e){return"color"!==t||e?"linear":"sequential"}function xQ(t,e){if(0===t.length)return t;const{domainMin:n,domainMax:r}=e,[i,o]=t;return[null!==n&&void 0!==n?n:i,null!==r&&void 0!==r?r:o]}function wQ(t,e){const{zero:n=!1}=e;let r=1/0,i=-1/0;for(const o of t)for(const t of o)Wg(t)&&(r=Math.min(r,+t),i=Math.max(i,+t));return r===1/0?[]:n?[Math.min(0,r),i]:[r,i]}function _Q(t){return Array.from(new Set(t.flat()))}function OQ(t){return _Q(t).sort()}function CQ(t){let e=1/0,n=-1/0;for(const r of t)for(const t of r)Wg(t)&&(e=Math.min(e,+t),n=Math.max(n,+t));return e===1/0?[]:[e<0?-n:e,n]}function SQ(t,e){return"enterDelay"===t?[0,1e3]:"enterDuration"==t?[300,1e3]:t.startsWith("y")||t.startsWith("position")?[1,0]:"color"===t?[ZS(e),QS(e)]:"opacity"===t?[0,1]:"size"===t?[1,10]:[0,1]}function EQ(t){return TQ(t,(t=>{const e=typeof t;return"string"===e||"boolean"===e}))}function MQ(t){return TQ(t,(t=>t instanceof Date))}function kQ(t){return TQ(t,Xg)}function TQ(t,e){for(const n of t)if(n.some(e))return!0;return!1}function AQ(t){return t.startsWith("x")||t.startsWith("y")||t.startsWith("position")||t.startsWith("size")}function LQ(t){return t.startsWith("x")||t.startsWith("y")||t.startsWith("position")||"enterDelay"===t||"enterDuration"===t||"updateDelay"===t||"updateDuration"===t||"exitDelay"===t||"exitDuration"===t}function PQ(t){if(!t||!t.type)return!1;if("function"===typeof t.type)return!0;const{type:e,domain:n,range:r,interpolator:i}=t,o=n&&n.length>0,a=r&&r.length>0;return!!(["linear","sqrt","log","time","pow","threshold","quantize","quantile","ordinal","band","point"].includes(e)&&o&&a)||(!(!["sequential"].includes(e)||!o||!a&&!i)||!(!["constant","identity"].includes(e)||!a))}const RQ={linear:"linear",identity:"identity",log:"log",pow:"pow",sqrt:"sqrt",sequential:"sequential"},IQ={threshold:"threshold",quantize:"quantize",quantile:"quantile"},jQ={ordinal:"ordinal",band:"band",point:"point"},NQ={constant:"constant"};var BQ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function DQ(t,e,n){const{coordinates:r=[],title:i}=e,[,o]=LX("component",n),a=t.filter((({guide:t})=>null!==t)),s=[],l=KQ(e,t,n);if(s.push(...l),i){const{props:t}=o("title"),{defaultPosition:e,defaultOrientation:n,defaultOrder:r,defaultSize:a}=t,l="string"===typeof i?{title:i}:i;s.push(Object.assign({type:"title",position:e,orientation:n,order:r,defaultSize:a},l))}const u=GQ(a,r);return u.forEach((([t,e])=>{const{props:n}=o(t),{defaultPosition:i,defaultOrientation:l,defaultSize:u,defaultOrder:c,defaultLength:f,defaultPadding:h=[0,0],defaultCrossPadding:d=[0,0]}=n,p=Bd({},...e),{guide:v,field:g}=p,y=Array.isArray(v)?v:[v];for(const o of y){const[n,p]=qQ(t,i,l,o,e,a,r);if(!n&&!p)continue;const v="left"===n||"right"===n,y=v?h[1]:h[0],m=v?d[1]:d[0],{size:b,order:x=c,length:w=f,padding:_=y,crossPadding:O=m}=o;s.push(Object.assign(Object.assign({title:g},o),{defaultSize:u,length:w,position:n,orientation:p,padding:_,order:x,crossPadding:O,size:b,type:t,scales:e}))}})),s}function FQ(t,e,n,r,i){const[o]=LX("component",r),{scaleInstances:a,scale:s,bbox:l}=t,u=BQ(t,["scaleInstances","scale","bbox"]),c={bbox:l,library:r},f=o(u);return f({coordinate:e,library:r,markState:i,scales:a,theme:n,value:c,scale:s})}function zQ(t,e){const n=["left","right","bottom","top"],r=({type:t,position:e,group:r})=>n.includes(e)?void 0===r?t.startsWith("legend")?`legend-${e}`:Symbol("independent"):"independent"===r?Symbol("independent"):r:Symbol("independent"),i=cv(t,r);return i.flatMap((([,t],n)=>{if(1===t.length)return t[0];if(void 0!==e){const n=t.filter((t=>void 0!==t.length)).map((t=>t.length)),r=lg(n);if(r>e)return t.forEach((t=>t.group=Symbol("independent"))),t;const i=e-r,o=t.length-n.length,a=i/o;t.forEach((t=>{void 0===t.length&&(t.length=a)}))}const r=ug(t,(t=>t.size)),i=ug(t,(t=>t.order)),o=ug(t,(t=>t.crossPadding)),a=t[0].position;return{type:"group",size:r,order:i,position:a,children:t,crossPadding:o}}))}function WQ(t,e){const n=["shape","size","color","opacity"],r=(t,e)=>"constant"===t&&"size"===e,i=t.filter((({type:t,name:e})=>"string"===typeof t&&n.includes(e)&&!r(t,e))),o=i.filter((({type:t})=>"constant"===t)),a=i.filter((({type:t})=>"constant"!==t)),s=t=>t.field?t.field:Symbol("independent"),l=cv(a,s).map((([t,e])=>[t,[...e,...o]])).filter((([,t])=>t.some((t=>"constant"!==t.type)))),u=new Map(l);if(0===u.size)return[];const c=t=>t.sort((([t],[e])=>t.localeCompare(e))),f=Array.from(u).map((([,t])=>{const e=nE(t).sort(((t,e)=>e.length-t.length)),n=e.map((t=>({combination:t,option:t.map((t=>[t.name,HQ(t)]))})));for(const[r,i]of kX)for(const{option:t,combination:e}of n)if(i.some((e=>lD(c(e),c(t)))))return[r,e];return null})).filter(Wg);return f}function HQ(t){const{type:e}=t;return"string"!==typeof e?null:e in RQ?"continuous":e in jQ?"discrete":e in IQ?"distribution":e in NQ?"constant":null}function $Q(t,e){return t.map((t=>{const{name:n}=t;if(DX(e)||WX(e))return null;if(FX(e)&&(BX(e)||$X(e)))return null;if(n.startsWith("x"))return BX(e)?["axisArc",[t]]:$X(e)?["axisLinear",[t]]:[FX(e)?"axisY":"axisX",[t]];if(n.startsWith("y"))return BX(e)?["axisLinear",[t]]:$X(e)?["axisArc",[t]]:[FX(e)?"axisX":"axisY",[t]];if(n.startsWith("position")){if(GX(e))return["axisRadar",[t]];if(!BX(e))return["axisY",[t]]}return null})).filter(Wg)}function GQ(t,e){const n=t.filter((t=>PQ(t)));return[...WQ(n,e),...$Q(n,e)]}function VQ(t){const e=NX(t,"polar");if(e.length){const t=e[e.length-1],{startAngle:n,endAngle:r}=Hd(t);return[n,r]}const n=NX(t,"radial");if(n.length){const t=n[n.length-1],{startAngle:e,endAngle:r}=qd(t);return[e,r]}return[-Math.PI/2,Math.PI/2*3]}function UQ(t){const e=/position(\d*)/g.exec(t);return e?+e[1]:null}function YQ(t,e,n,r,i){const{name:o}=n[0];if("axisRadar"===t){const t=r.filter((t=>t.name.startsWith("position"))),e=UQ(o);if(o===t.slice(-1)[0].name||null===e)return[null,null];const[n,a]=VQ(i),s=(a-n)/(t.length-1)*e+n;return["center",s]}if("axisY"===t&&zX(i)){const t=UQ(o);return null===t?e:FX(i)?0===t?["top",null]:["center","horizontal"]:0===t?e:["center","vertical"]}if("axisLinear"===t){const[t]=VQ(i);return["center",t]}return"axisArc"===t?"inner"===e[0]?["inner",null]:["outer",null]:BX(i)||$X(i)?["center",null]:"axisX"===t&&HX(i)||"axisX"===t&&VX(i)?["top",null]:e}function qQ(t,e,n,r,i,o,a){const[s]=VQ(a),l=[r.position||e,null!==s&&void 0!==s?s:n];return"string"===typeof t&&t.startsWith("axis")?YQ(t,l,i,o,a):"string"===typeof t&&t.startsWith("legend")&&BX(a)&&"center"===r.position?["center","vertical"]:l}function XQ(t,e,n=[]){return"x"===t?FX(n)?`${e}Y`:`${e}X`:"y"===t?FX(n)?`${e}X`:`${e}Y`:null}function KQ(t,e,n){const[,r]=LX("component",n),{coordinates:i}=t;function o(t,e,n,o){const a=XQ(e,t,i);if(!o||!a)return;const{props:s}=r(a),{defaultPosition:l,defaultSize:u,defaultOrder:c}=s;return Object.assign(Object.assign({position:l,defaultSize:u,order:c,type:a},o),{scales:[n]})}return e.filter((t=>t.slider||t.scrollbar)).flatMap((t=>{const{slider:e,scrollbar:n,name:r}=t;return[o("slider",r,t,e),o("scrollbar",r,t,n)]})).filter((t=>!!t))}function ZQ(t,e,n,r,i,o){const{type:a}=t,s=["left","right","bottom","top"];if(!s.includes(r))return;if("string"!==typeof a)return;const l=a,u=()=>l.startsWith("axis")?tJ:l.startsWith("group")?QQ:l.startsWith("legendContinuous")?eJ:"legendCategory"===l?nJ:l.startsWith("slider")?JQ:()=>{};return u()(t,e,n,r,i,o)}function QQ(t,e,n,r,i,o){const{children:a}=t,s=ug(a,(t=>t.crossPadding));a.forEach((t=>t.crossPadding=s)),a.forEach((t=>ZQ(t,e,n,r,i,o)));const l=ug(a,(t=>t.size));t.size=l,a.forEach((t=>t.size=l))}function JQ(t,e,n,r,i,o){const a=()=>{const{slider:e}=i;return Bd({},e,t.style)},{trackSize:s,handleIconSize:l}=a(),u=Math.max(s,2.4*l);t.size=u}function tJ(t,e,n,r,i,o){t.transform=t.transform||[{type:"hide"}];const a="left"===r||"right"===r,s=aJ(t,r,i),{tickLength:l=0,labelSpacing:u=0,titleSpacing:c=0}=s,f=BQ(s,["tickLength","labelSpacing","titleSpacing"]),h=rJ(t,o),d=iJ(t,h,f);if(d){const r=ug(d,(t=>t.width)),i=ug(d,(t=>t.height)),o=l+u;if(a)t.size=r+o;else{const{tickFilter:a,style:s={}}=t,{labelTransform:l}=s;cJ(h,d,e,n,a)&&!l?(t.style=Object.assign(Object.assign({},s),{labelTransform:"rotate(90)"}),t.size=r+o):t.size=i+o}}const p=oJ(t,f);p&&(t.size+=a?c+p.width:c+p.height)}function eJ(t,e,n,r,i,o){const a=()=>{const{legendContinuous:e}=i;return Bd({},e,t.style)},s=a(),{labelSpacing:l=0,titleSpacing:u=0}=s,c=BQ(s,["labelSpacing","titleSpacing"]),f="left"===r||"right"===r,h=Gg(c,"ribbon"),{size:d}=h,p=Gg(c,"handleIcon"),{size:v}=p,g=Math.max(d,2.4*v);t.size=g;const y=rJ(t,o),m=iJ(t,y,c);if(m){const e=f?"width":"height",n=ug(m,(t=>t[e]));t.size+=n+l}const b=oJ(t,c);b&&(f?t.size=Math.max(t.size,b.width):t.size+=u+b.height);const{crossPadding:x=0}=t;t.size+=2*x}function nJ(t,e,n,r,i,o){const a=()=>{const{legendCategory:e}=i;return Bd({},e,t.style)},s=a(),{itemSpacing:l,itemMarkerSize:u,titleSpacing:c,rowPadding:f,colPadding:h}=s,d=BQ(s,["itemSpacing","itemMarkerSize","titleSpacing","rowPadding","colPadding"]),{cols:p,length:v}=t,g=void 0===v?e:v,y="left"===r||"right"===r,m=oJ(t,d),b=rJ(t,o),x=iJ(t,b,d,"itemLabel"),w=Math.max(x[0].height,u)+f,_=(t,e=0)=>u+t+l[0]+e,O=()=>{let e=-1/0,n=0,r=1,i=0,o=-1/0,a=-1/0;const s=m?m.height:0,l=g-s;for(const{width:t}of x){const s=_(t);e=Math.max(e,s),n+w>l?(r++,o=Math.max(o,i),a=Math.max(a,n),i=1,n=w):(n+=w,i++)}r<=1&&(o=i,a=n),t.size=e*r,t.length=a+s,Bd(t,{cols:r,gridRow:o})},C=()=>{const e=Math.ceil(x.length/p),n=ug(x,(t=>_(t.width)))*p;t.size=w*e,t.length=Math.min(n,g)},S=()=>{let e=1,n=0,r=-1/0;for(const{width:t}of x){const i=_(t,h);n+i>g?(r=Math.max(r,n),n=i,e++):n+=i}1===e&&(r=n),t.size=w*e,t.length=r};y?O():"number"===typeof p?C():S(),m&&(y?t.size=Math.max(t.size,m.width):t.size+=c+m.height);const{crossPadding:E=0}=t;t.size+=2*E}function rJ(t,e){const[n]=LX("scale",e),{scales:r,tickCount:i,tickMethod:o}=t,a=r.find((t=>"constant"!==t.type&&"identity"!==t.type));return void 0!==i&&(a.tickCount=i),void 0!==o&&(a.tickMethod=o),n(a)}function iJ(t,e,n,r="label"){const{labelFormatter:i,tickFilter:o,label:a=!0}=t;if(!a)return null;const s=lJ(e,i,o),l=Gg(n,r),u=s.map(((t,e)=>Object.fromEntries(Object.entries(l).map((([n,r])=>[n,"function"===typeof r?r(t,e):r]))))),c=s.map(((t,e)=>{const n=u[e];return fJ(t,n)})),f=u.some((t=>t.transform));if(!f){const e=s.map(((t,e)=>e));t.indexBBox=new Map(e.map((t=>[t,[s[t],c[t]]])))}return c}function oJ(t,e){const n=t=>!1===t||null===t,{title:r}=t,{title:i}=e;if(n(r)||n(i)||void 0===r)return null;const o=Gg(e,"title"),{direction:a,transform:s}=o,l=Array.isArray(r)?r.join(","):r,u=fJ(l,Object.assign(Object.assign({},o),{transform:s||"vertical"===a?"rotate(-90)":""}));return u}function aJ(t,e,n){const{axis:r,[`axis${Dg(e)}`]:i}=n;return Bd({},r,i,t.style)}function sJ(t,e){const n=t.getTicks?t.getTicks():t.getOptions().domain;return e?n.filter(e):n}function lJ(t,e,n){const r=sJ(t,n),i=r.map((t=>"number"===typeof t?dJ(t):t)),o=e?"string"===typeof e?kj(e):e:t.getFormatter?t.getFormatter():t=>`${t}`;return i.map(o)}function uJ(t,e){if(!t.getBandWidth)return 0;const n=t.getBandWidth(e)/2;return n}function cJ(t,e,n,r,i){const o=lg(e,(t=>t.width));if(o>n)return!0;const a=t.clone();a.update({range:[0,n]});const s=sJ(t,i),l=s.map((t=>a.map(t)+uJ(a,t))),u=s.map(((t,e)=>e)),c=-r[0],f=n+r[1],h=(t,e)=>{const{width:n}=e;return[t-n/2,t+n/2]};for(let d=0;d<u.length;d++){const t=l[d],[n,r]=h(t,e[d]);if(n<c||r>f)return!0;const i=l[d+1];if(i){const[t]=h(i,e[d+1]);if(r>t)return!0}}return!1}function fJ(t,e){const n=hJ(t);n.attr(Object.assign(Object.assign({},e),{visibility:"none"}));const r=n.getBBox();return r}function hJ(t){return t instanceof yu?t:new Au({style:{text:`${t}`}})}function dJ(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}function pJ(t,e,n,r){const{width:i,height:o,x:a=0,y:s=0,inset:l=0,insetLeft:u=l,insetTop:c=l,insetBottom:f=l,insetRight:h=l,margin:d=0,marginLeft:p=d,marginBottom:v=d,marginTop:g=d,marginRight:y=d,padding:m,paddingBottom:b=m,paddingLeft:x=m,paddingRight:w=m,paddingTop:_=m}=gJ(t,e,n,r),O=1/4,C=(t,n,r,i,o)=>{const{marks:a}=e;if(0===a.length)return[i,o];const s=t-i-o,l=s-t*O;if(l>0)return[i,o];const u=t*(1-O)/2;return["auto"===n?u:i,"auto"===r?u:o]},S=t=>"auto"===t?30:null!==t&&void 0!==t?t:30,E=S(_),M=S(b),k=yJ(t,o-E-M,[E,M],["left","right"],e,n,r),{paddingLeft:T,paddingRight:A}=k,L=i-p-y,[P,R]=C(L,x,w,T,A),I=L-P-R,j=yJ(t,I,[P,R],["bottom","top"],e,n,r),{paddingTop:N,paddingBottom:B}=j,D=o-v-g,[F,z]=C(D,b,_,B,N),W=D-F-z;return{width:i,height:o,insetLeft:u,insetTop:c,insetBottom:f,insetRight:h,innerWidth:I,innerHeight:W,paddingLeft:P,paddingRight:R,paddingTop:z,paddingBottom:F,marginLeft:p,marginBottom:v,marginTop:g,marginRight:y,x:a,y:s}}function vJ(t){const{height:e,width:n,padding:r=0,paddingLeft:i=r,paddingRight:o=r,paddingTop:a=r,paddingBottom:s=r,margin:l=0,marginLeft:u=l,marginRight:c=l,marginTop:f=l,marginBottom:h=l,inset:d=0,insetLeft:p=d,insetRight:v=d,insetTop:g=d,insetBottom:y=d}=t,m=t=>"auto"===t?30:t,b=n-m(i)-m(o)-u-c-p-v,x=e-m(a)-m(s)-f-h-g-y;return{width:b,height:x}}function gJ(t,e,n,r){const{coordinates:i}=e;if(!BX(i))return e;const o=t.filter((t=>"string"===typeof t.type&&t.type.startsWith("axis")));if(0===o.length)return e;const a=o.map((t=>{const e="axisArc"===t.type?"arc":"linear";return aJ(t,e,n)})),s=ug(a,(t=>{var e;return null!==(e=t.labelSpacing)&&void 0!==e?e:0})),l=o.flatMap(((t,e)=>{const n=a[e],i=rJ(t,r),o=iJ(t,i,n);return o})).filter(Wg),u=ug(l,(t=>t.height))+s,c=o.flatMap(((t,e)=>{const n=a[e];return oJ(t,n)})).filter((t=>null!==t)),f=0===c.length?0:ug(c,(t=>t.height)),{inset:h=u,insetLeft:d=h,insetBottom:p=h,insetTop:v=h+f,insetRight:g=h}=e;return Object.assign(Object.assign({},e),{insetLeft:d,insetBottom:p,insetTop:v,insetRight:g})}function yJ(t,e,n,r,i,o,a){const s=uv(t,(t=>t.position)),{padding:l,paddingLeft:u=l,paddingRight:c=l,paddingBottom:f=l,paddingTop:h=l}=i,d={paddingBottom:f,paddingLeft:u,paddingTop:h,paddingRight:c};for(const p of r){const t=`padding${Dg(yL(p))}`,r=s.get(p)||[],i=d[t],l=t=>{void 0===t.size&&(t.size=t.defaultSize)},u=t=>{"group"===t.type?(t.children.forEach(l),t.size=ug(t.children,(t=>t.size))):t.size=t.defaultSize},c=t=>{t.size||("auto"!==i?u(t):(ZQ(t,e,n,p,o,a),l(t)))};if("number"===typeof i)r.forEach(l);else if(0===r.length)d[t]=30;else{const n=zQ(r,e);n.forEach(c);const i=n.reduce(((t,{size:e})=>t+e),0);d[t]=i}}return d}function mJ(t,e,n){const r=uv(t,(t=>t.position)),{paddingLeft:i,paddingRight:o,paddingTop:a,paddingBottom:s,marginLeft:l,marginTop:u,marginBottom:c,marginRight:f,innerHeight:h,innerWidth:d,insetBottom:p,insetLeft:v,insetRight:g,insetTop:y,height:m,width:b}=n,x=i+l,w=a+u,_=o+f,O=s+c,C=[x+v,w+y,d-v-g,h-y-p,"center",null,null],S={top:[x,0,d,w,"vertical",!0,cm],right:[b-_,w,_,h,"horizontal",!1,cm],bottom:[x,m-O,d,O,"vertical",!1,cm],left:[0,w,x,h,"horizontal",!0,cm],"top-left":[x,0,d,w,"vertical",!0,cm],"top-right":[x,0,d,w,"vertical",!0,cm],"bottom-left":[x,m-O,d,O,"vertical",!1,cm],"bottom-right":[x,m-O,d,O,"vertical",!1,cm],center:C,inner:C,outer:C};for(const[E,M]of r.entries()){const t=S[E],[n,r]=tE(M,(t=>"string"===typeof t.type&&("center"===E||!(!t.type.startsWith("axis")||!["inner","outer"].includes(E)))));n.length&&bJ(n,e,t,E),r.length&&kJ(M,e,t)}}function bJ(t,e,n,r){const[i,o]=tE(t,(t=>!("string"!==typeof t.type||!t.type.startsWith("axis"))));xJ(i,e,n,r),TJ(o,e,n)}function xJ(t,e,n,r){"center"===r?xv(e)?MJ(t,e,n,r):vv(e)?OJ(t,e,n):mv(e)&&CJ(t,e,n,t[0].orientation):"inner"===r?wJ(t,e,n):"outer"===r&&_J(t,e,n)}function wJ(t,e,n){const[r,i,,o]=n,[a,s]=e.getCenter(),[l]=Cv(e),u=o/2,c=l*u,f=a-c,h=s-c;for(let d=0;d<t.length;d++){const e=t[d];e.bbox={x:r+f,y:i+h,width:2*c,height:2*c}}}function _J(t,e,n){const[r,i,o,a]=n;for(const s of t)s.bbox={x:r,y:i,width:o,height:a}}function OJ(t,e,n){const[r,i,o,a]=n;for(const s of t)s.bbox={x:r,y:i,width:o,height:a}}function CJ(t,e,n,r){"horizontal"===r?EJ(t,e,n):"vertical"===r&&SJ(t,e,n)}function SJ(t,e,n){const[r,i,,o]=n,a=new Array(t.length+1).fill(0),s=e.map(a),l=s.filter(((t,e)=>e%2===0)).map((t=>t+r));for(let u=0;u<t.length;u++){const e=t[u],n=l[u],r=l[u+1]-n;e.bbox={x:n,y:i,width:r,height:o}}}function EJ(t,e,n){const[r,i,o]=n,a=new Array(t.length+1).fill(0),s=e.map(a),l=s.filter(((t,e)=>e%2===1)).map((t=>t+i));for(let u=0;u<t.length;u++){const e=t[u],n=l[u],i=l[u+1]-n;e.bbox={x:r,y:n,width:o,height:i}}}function MJ(t,e,n,r){const[i,o,a,s]=n;for(const l of t)l.bbox={x:i,y:o,width:a,height:s},l.radar={index:t.indexOf(l),count:t.length}}function kJ(t,e,n){const[r,i,o,a,s,l,u]=n,[c,f,h,d,p,v,g,y]="vertical"===s?["y",i,"x",r,"height",a,"width",o]:["x",r,"y",i,"width",o,"height",a];t.sort(((t,e)=>null===u||void 0===u?void 0:u(t.order,e.order)));const m=l?f+v:f;for(let x=0,w=m;x<t.length;x++){const e=t[x],{crossPadding:n=0}=e,{size:r}=e;e.bbox={[c]:l?w-r+n:w+n,[h]:d,[p]:r-2*n,[g]:y},w+=r*(l?-1:1)}const b=t.filter((t=>"group"===t.type));for(const x of b){const{bbox:t,children:e}=x,n=t[g],r=n/e.length,i=e.reduce(((t,e)=>{var n;const r=null===(n=e.layout)||void 0===n?void 0:n.justifyContent;return r||t}),"flex-start"),o=e.map(((t,n)=>{const{length:i=r,padding:o=0}=t;return i+(n===e.length-1?0:o)})),a=lg(o),s=n-a,l="flex-start"===i?0:"center"===i?s/2:s;for(let u=0,f=t[h]+l;u<e.length;u++){const n=e[u],{padding:r=0}=n,a=u===e.length-1?0:r;n.bbox={[p]:t[p],[c]:t[c],[h]:f,[g]:o[u]-a},Bd(n,{layout:{justifyContent:i}}),f+=o[u]}}}function TJ(t,e,n){if(0===t.length)return;const[r,i,o,a]=n,[s]=Cv(e),l=a/2*s/Math.sqrt(2),u=r+o/2,c=i+a/2;for(let f=0;f<t.length;f++){const e=t[f];e.bbox={x:u-l,y:c-l,width:2*l,height:2*l}}}var AJ=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))},LJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function PJ(t,e,n){const{encode:r={},scale:i={},transform:o=[]}=e,a=LJ(e,["encode","scale","transform"]);return[t,Object.assign(Object.assign({},a),{encode:r,scale:i,transform:o})]}function RJ(t,e,n){return AJ(this,void 0,void 0,(function*(){const{library:t}=n,{data:r}=e,[i]=LX("data",t),o=UJ(r),{transform:a=[]}=o,s=LJ(o,["transform"]),l=[s,...a],u=l.map(i),c=yield Bg(u)(r);return[Array.isArray(c)?KS(c):[],Object.assign(Object.assign({},e),{data:c})]}))}function IJ(t,e,n){const{encode:r}=e;if(!r)return[t,e];const i={};for(const[o,a]of Object.entries(r))if(Array.isArray(a))for(let t=0;t<a.length;t++){const e=`${o}${0===t?"":t}`;i[e]=a[t]}else i[o]=a;return[t,Object.assign(Object.assign({},e),{encode:i})]}function jJ(t,e,n){const{encode:r,data:i}=e;if(!r)return[t,e];const o=XS(r,(t=>{if($J(t))return t;const e=GJ(i,t);return{type:e,value:t}}));return[t,Object.assign(Object.assign({},e),{encode:o})]}function NJ(t,e,n){const{encode:r}=e;if(!r)return[t,e];const i=XS(r,((t,e)=>{const{type:n}=t;return"constant"!==n||LQ(e)?t:Object.assign(Object.assign({},t),{constant:!0})}));return[t,Object.assign(Object.assign({},e),{encode:i})]}function BJ(t,e,n){const{encode:r,data:i}=e;if(!r)return[t,e];const{library:o}=n,a=KJ(o),s=XS(r,(t=>a(i,t)));return[t,Object.assign(Object.assign({},e),{encode:s})]}function DJ(t,e,n){const{tooltip:r={}}=e;return Kg(r)?[t,e]:Array.isArray(r)?[t,Object.assign(Object.assign({},e),{tooltip:{items:r}})]:Xg(r)&&ty(r)?[t,Object.assign(Object.assign({},e),{tooltip:r})]:[t,Object.assign(Object.assign({},e),{tooltip:{items:[r]}})]}function FJ(t,e,n){const{data:r,encode:i,tooltip:o={}}=e;if(Kg(o))return[t,e];const a=e=>{if(!e)return e;if("string"===typeof e)return t.map((t=>({name:e,value:r[t][e]})));if(Xg(e)){const{field:n,channel:o,color:a,name:s=n,valueFormatter:l=(t=>t)}=e,u="string"===typeof l?kj(l):l,c=o&&i[o],f=c&&i[o].field,h=s||f||o,d=[];for(const e of t){const t=n?r[e][n]:c?i[o].value[e]:null;d[e]={name:h,color:a,value:u(t)}}return d}if("function"===typeof e){const n=[];for(const o of t){const t=e(r[o],o,r,i);Xg(t)?n[o]=t:n[o]={value:t}}return n}return e},{title:s,items:l=[]}=o,u=LJ(o,["title","items"]),c=Object.assign({title:a(s),items:Array.isArray(l)?l.map(a):[]},u);return[t,Object.assign(Object.assign({},e),{tooltip:c})]}function zJ(t,e,n){const{encode:r}=e,i=LJ(e,["encode"]);if(!r)return[t,e];const o=Object.entries(r),a=o.filter((([,t])=>{const{value:e}=t;return Array.isArray(e[0])})).flatMap((([e,n])=>{const r=[[e,new Array(t.length).fill(void 0)]],{value:i}=n,o=LJ(n,["value"]);for(let a=0;a<i.length;a++){const n=i[a];if(Array.isArray(n))for(let i=0;i<n.length;i++){const o=r[i]||[`${e}${i}`,new Array(t).fill(void 0)];o[1][a]=n[i],r[i]=o}}return r.map((([t,e])=>[t,Object.assign({type:"column",value:e},o)]))})),s=Object.fromEntries([...o,...a]);return[t,Object.assign(Object.assign({},i),{encode:s})]}function WJ(t,e,n){const{axis:r={},legend:i={},slider:o={},scrollbar:a={}}=e,s=(t,e)=>{if("boolean"===typeof t)return t?{}:null;const n=t[e];return void 0===n||n?n:null},l="object"===typeof r?Array.from(new Set(["x","y",...Object.keys(r)])):["x","y"];return Bd(e,{scale:Object.assign(Object.assign({},Object.fromEntries(l.map((t=>{const e=s(a,t);return[t,Object.assign({guide:s(r,t),slider:s(o,t),scrollbar:e},e&&{ratio:void 0===e.ratio?.5:e.ratio})]})))),{color:{guide:s(i,"color")},size:{guide:s(i,"size")},shape:{guide:s(i,"shape")},opacity:{guide:s(i,"opacity")}})}),[t,e]}function HJ(t,e,n){const{animate:r}=e;return r||void 0===r||Bd(e,{animate:{enter:{type:null},exit:{type:null},update:{type:null}}}),[t,e]}function $J(t){if("object"!==typeof t||t instanceof Date||null===t)return!1;const{type:e}=t;return Wg(e)}function GJ(t,e){return"function"===typeof e?"transform":"string"===typeof e&&VJ(t,e)?"field":"constant"}function VJ(t,e){return!!Array.isArray(t)&&t.some((t=>void 0!==t[e]))}function UJ(t){if(!t)return{type:"inline",value:null};if(Array.isArray(t))return{type:"inline",value:t};const{type:e="inline"}=t,n=LJ(t,["type"]);return Object.assign(Object.assign({},n),{type:e})}var YJ=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))},qJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function XJ(t,e,n){return YJ(this,void 0,void 0,(function*(){const r={library:n},[i,o]=yield ZJ(t,e,r),{encode:a,scale:s,data:l,tooltip:u}=o;if(!1===Array.isArray(l))return null;const{channels:c}=e,f=hv(Object.entries(a).filter((([,t])=>Wg(t))),(t=>t.map((([t,e])=>Object.assign({name:t},e)))),(([t])=>{var e;const n=null===(e=/([^\d]+)\d*$/.exec(t))||void 0===e?void 0:e[1],r=c.find((t=>t.name===n));return(null===r||void 0===r?void 0:r.independent)?t:n})),h=c.filter((t=>{const{name:e,required:n}=t;if(f.find((([t])=>t===e)))return!0;if(n)throw new Error(`Missing encoding for channel: ${e}.`);return!1})).flatMap((t=>{const{name:e,scale:n,scaleKey:r,range:i}=t,o=f.filter((([t])=>t.startsWith(e)));return o.map((([t,e],o)=>{const a=e.some((t=>t.visual)),l=e.some((t=>t.constant)),u=s[t]||{},{independent:c=!1,key:f=r||t,type:h=(l?"constant":a?"identity":n)}=u,d=qJ(u,["independent","key","type"]),p="constant"===h,v=p?void 0:i;return{name:t,values:e,scaleKey:c||p?Symbol("independent"):f,scale:Object.assign({type:h,range:v},d)}}))}));return[o,Object.assign(Object.assign({},e),{index:i,channels:h,tooltip:u})]}))}function KJ(t){const[e]=LX("encode",t);return(t,n)=>void 0===n||void 0===t?null:Object.assign(Object.assign({},n),{type:"column",value:e(n)(t),field:QJ(n)})}function ZJ(t,e,n){return YJ(this,void 0,void 0,(function*(){const{library:r}=n,[i]=LX("transform",r),{preInference:o=[],postInference:a=[]}=e,{transform:s=[]}=t,l=[PJ,RJ,IJ,jJ,NJ,BJ,zJ,HJ,WJ,DJ,...o.map(i),...s.map(i),...a.map(i),FJ];let u=[],c=t;for(const t of l)[u,c]=yield t(u,c,n);return[u,c]}))}function QJ(t){const{type:e,value:n}=t;return"field"===e&&"string"===typeof n?n:null}var JJ=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))},t0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function e0(t,e,n,r){var i,o;return JJ(this,void 0,void 0,(function*(){const[a]=LX("composition",n),[s]=LX("interaction",n),l=new Set(Object.keys(n).map((t=>{var e;return null===(e=/mark\.(.*)/.exec(t))||void 0===e?void 0:e[1]})).filter(Wg)),u=new Set(Object.keys(n).map((t=>{var e;return null===(e=/component\.(.*)/.exec(t))||void 0===e?void 0:e[1]})).filter(Wg)),c=t=>{const{type:e}=t;if("function"===typeof e){const{props:t={}}=e,{composite:n=!0}=t;if(n)return"mark"}return"string"!==typeof e?e:l.has(e)||u.has(e)?"mark":e},f=t=>"mark"===c(t),h=t=>"standardView"===c(t),d=t=>{const{type:e}=t;return"string"===typeof e&&!!u.has(e)},p=t=>{if(h(t))return[t];const e=c(t),n=a({type:e,static:d(t)});return n(t)},v=[],g=new Map,y=new Map,m=[t],b=[];while(m.length){const t=m.shift();if(h(t)){const e=y.get(t),[r,i]=e?u0(e,t,n):yield o0(t,n);g.set(r,t),v.push(r);const o=i.flatMap(p).map((t=>jX(t,n)));if(m.push(...o),o.every(h)){const t=yield Promise.all(o.map((t=>l0(t,n))));JZ(t);for(let e=0;e<o.length;e++){const n=o[e],r=t[e];y.set(n,r)}}}else{const e=f(t)?t:yield A0(t,n),r=p(e);Array.isArray(r)?m.push(...r):"function"===typeof r&&b.push(r())}}r.emitter.emit(Tz.BEFORE_PAINT);const x=new Map,w=new Map,_=[];e.selectAll(j0(qf)).data(v,(t=>t.key)).join((t=>t.append("g").attr("className",qf).attr("id",(t=>t.key)).call(n0).each((function(t){c0(t,wE(this),_,n,r),x.set(t,this)}))),(t=>t.call(n0).each((function(t){c0(t,wE(this),_,n,r),w.set(t,this)}))),(t=>t.each((function(){const t=this["nameInteraction"].values();for(const e of t)e.destroy()})).remove()));const O=t=>Array.from(t.entries()).map((([t,e])=>({view:t,container:e,options:g.get(t),update:r0(wE(e),n,r)}))),C=O(x);for(const t of C){const{options:e}=t,n=new Map;t.container["nameInteraction"]=n;for(const i of T0(e)){const[e,o]=i;if(o){const i=s(Object.assign({type:e},o)),a=i(t,C,r.emitter);n.set(e,{destroy:a})}}}const S=O(w);for(const t of S){const{options:e,container:n}=t,o=n["nameInteraction"];for(const a of T0(e)){const[e,n]=a,l=o.get(e);if(l&&(null===(i=l.destroy)||void 0===i||i.call(l)),n){const i=s(Object.assign({type:e},n)),a=i(t,S,r.emitter);o.set(e,{destroy:a})}}}const{width:E,height:M}=t,k=[];for(const t of b){const i=new Promise((i=>JJ(this,void 0,void 0,(function*(){for(const i of t){const t=Object.assign({width:E,height:M},i);yield e0(t,e,n,r)}i()}))));k.push(i)}r.views=v,null===(o=r.animations)||void 0===o||o.forEach((t=>null===t||void 0===t?void 0:t.cancel())),r.animations=_,r.emitter.emit(Tz.AFTER_PAINT);const T=_.filter(Wg).map(S0).map((t=>t.finished));return Promise.all([...T,...k])}))}function n0(t){t.style("transform",(t=>`translate(${t.layout.x}, ${t.layout.y})`))}function r0(t,e,n){return r=>JJ(this,void 0,void 0,(function*(){const i=[],[o,a]=yield o0(r,e);c0(o,t,i,e,n),i0(t,r,o,e,n);for(const r of a)e0(r,t,e,n);return{options:r,view:o}}))}function i0(t,e,n,r,i){var o;const[a]=LX("interaction",r),s=t.node(),l=s["nameInteraction"],u=T0(e).find((([t])=>"tooltip"===t)),c=l.get("tooltip");if(!c)return;if(null===(o=c.destroy)||void 0===o||o.call(c),!u[1])return;const f=a(Object.assign({type:"tooltip"},u[1])),h={options:e,view:n,container:t.node(),update:t=>Promise.resolve(t)};f(h,[],i.emitter)}function o0(t,e){return JJ(this,void 0,void 0,(function*(){const n=yield s0(t,e),r=a0(n);t.interaction=r.interaction,t.coordinate=r.coordinate;const i=jX(r,e),o=yield l0(i,e);return u0(o,i,e)}))}function a0(t){const{coordinate:e={},interaction:n={},style:r={},marks:i}=t,o=t0(t,["coordinate","interaction","style","marks"]),a=i.map((t=>t.coordinate||{})),s=i.map((t=>t.interaction||{})),l=i.map((t=>t.viewStyle||{})),u=[...a,e].reduceRight(((t,e)=>Bd(t,e)),{}),c=[n,...s].reduce(((t,e)=>Bd(t,e)),{}),f=[...l,r].reduce(((t,e)=>Bd(t,e)),{});return Object.assign(Object.assign({},o),{marks:i,coordinate:u,interaction:c,style:f})}function s0(t,e){return JJ(this,void 0,void 0,(function*(){const[n,r]=LX("mark",e),i=new Set(Object.keys(e).map((t=>{var e;return null===(e=/component\.(.*)/.exec(t))||void 0===e?void 0:e[1]})).filter(Wg)),{marks:o}=t,a=[],s=[],l=[...o],{width:u,height:c}=vJ(t),f={options:t,width:u,height:c};while(l.length){const[t]=l.splice(0,1),o=yield A0(t,e),{type:u=Fg("G2Mark type is required."),key:c}=o;if(i.has(u))s.push(o);else{const{props:t={}}=r(u),{composite:e=!0}=t;if(e){const t=yield n(o,f),e=Array.isArray(t)?t:[t];l.unshift(...e.map(((t,e)=>Object.assign(Object.assign({},t),{key:`${c}-${e}`}))))}else a.push(o)}}return Object.assign(Object.assign({},t),{marks:a,components:s})}))}function l0(t,e){return JJ(this,void 0,void 0,(function*(){const[n]=LX("theme",e),[,r]=LX("mark",e),{theme:i,marks:o,coordinates:a=[]}=t,s=n(k0(i)),l=new Map;for(const t of o){const{type:n}=t,{props:i={}}=r(n),o=yield XJ(t,i,e);if(o){const[t,e]=o;l.set(t,e)}}const u=uv(Array.from(l.values()).flatMap((t=>t.channels)),(({scaleKey:t})=>t));for(const t of u.values()){const n=t.reduce(((t,{scale:e})=>Bd(t,e)),{}),{scaleKey:r}=t[0],{values:i}=t[0],o=Array.from(new Set(i.map((t=>t.field)).filter(Wg))),l=Bd({guide:{title:0===o.length?void 0:o},field:o[0]},n),{name:u}=t[0],c=t.flatMap((({values:t})=>t.map((t=>t.value)))),f=Object.assign(Object.assign({},YZ(u,c,l,a,s,e)),{key:r});t.forEach((t=>t.scale=f))}return l}))}function u0(t,e,n){const[r]=LX("mark",n),[i]=LX("theme",n),[o]=LX("labelTransform",n),{key:a,frame:s=!1,theme:l,clip:u,style:c={},labelTransform:f=[]}=e,h=i(k0(l)),d=Array.from(t.values()),p=XZ(d,e),v=DQ(B0(Array.from(p),d,t),e,n),g=pJ(v,e,h,n),y=IX(g,e,n),m=s?Bd({mainLineWidth:1,mainStroke:"#000"},c):c;mJ(zQ(v),y,g);const b={};for(const _ of v){const{scales:t=[]}=_,e=[];for(const r of t){const{name:t}=r,i=QZ(r,n);e.push(i),ZZ(b,{[t]:i})}_.scaleInstances=e}const x=[];for(const[_,O]of t.entries()){const{children:t,dataDomain:e,modifier:i,key:o}=_,{index:s,channels:l,tooltip:u}=O,c=Object.fromEntries(l.map((({name:t,scale:e})=>[t,e]))),f=XS(c,(t=>QZ(t,n)));ZZ(b,f);const h=qZ(l,f),d=r(_),[p,v,m]=d0(d(s,f,h,y)),w=e||p.length,C=i?i(v,w,g):[],S=t=>{var e,n;return null===(n=null===(e=u.title)||void 0===e?void 0:e[t])||void 0===n?void 0:n.value},E=t=>u.items.map((e=>e[t])),M=p.map(((t,e)=>{const n=Object.assign({points:v[e],transform:C[e],index:t,markKey:o,viewKey:a},u&&{title:S(t),items:E(t)});for(const[r,i]of Object.entries(h))n[r]=i[t],m&&(n[`series${Fj(r)}`]=m[e].map((t=>i[t])));return m&&(n["seriesIndex"]=m[e]),m&&u&&(n["seriesItems"]=m[e].map((t=>E(t))),n["seriesTitle"]=m[e].map((t=>S(t)))),n}));O.data=M,O.index=p;const k=null===t||void 0===t?void 0:t(M,f,g);x.push(...k||[])}const w={layout:g,theme:h,coordinate:y,markState:t,key:a,clip:u,scale:b,style:m,components:v,labelTransform:Ng(f.map(o))};return[w,x]}function c0(t,e,n,r,i){return JJ(this,void 0,void 0,(function*(){const{components:o,theme:a,layout:s,markState:l,coordinate:u,key:c,style:f,clip:h,scale:d}=t,{x:p,y:v,width:g,height:y}=s,m=t0(s,["x","y","width","height"]),b=["view","plot","main","content"],x=b.map(((t,e)=>e)),w=["a","margin","padding","inset"],_=b.map((t=>Vg(Object.assign({},a,f),t))),O=w.map((t=>Gg(m,t))),C=t=>t.style("x",(t=>T[t].x)).style("y",(t=>T[t].y)).style("width",(t=>T[t].width)).style("height",(t=>T[t].height)).each((function(t){D0(wE(this),_[t])}));let S=0,E=0,M=g,k=y;const T=x.map((t=>{const e=O[t],{left:n=0,top:r=0,bottom:i=0,right:o=0}=e;return S+=n,E+=r,M-=n+o,k-=r+i,{x:S,y:E,width:M,height:k}}));e.selectAll(j0(Qf)).data(x.filter((t=>Wg(_[t]))),(t=>b[t])).join((t=>t.append("rect").attr("className",Qf).style("zIndex",-2).call(C)),(t=>t.call(C)),(t=>t.remove()));const A=m0(l),L=!!A&&{duration:A[1]};for(const[,t]of cv(o,(t=>`${t.type}-${t.position}`)))t.forEach(((t,e)=>t.index=e));const P=e.selectAll(j0(Kf)).data(o,(t=>`${t.type}-${t.position}-${t.index}`)).join((t=>t.append("g").style("zIndex",(({zIndex:t})=>t||-1)).attr("className",Kf).append((t=>FQ(Bd({animate:L,scale:d},t),u,a,r,l)))),(t=>t.transition((function(t){const{preserve:e=!1}=t;if(e)return;const n=FQ(Bd({animate:L,scale:d},t),u,a,r,l),{attributes:i}=n,[o]=this.childNodes;return o.update(i)})))).transitions();n.push(...P.flat().filter(Wg));const R=e.selectAll(j0(Xf)).data([s],(()=>c)).join((t=>t.append("rect").style("zIndex",0).style("fill","transparent").attr("className",Xf).call(L0).call(I0,Array.from(l.keys())).call(N0,h)),(t=>t.call(I0,Array.from(l.keys())).call((t=>A?P0(t,A):L0(t))).call(N0,h))).transitions();n.push(...R.flat());for(const[I,j]of l.entries()){const{data:o}=j,{key:a,class:s,type:l}=I,u=e.select(`#${a}`),c=w0(I,j,t,r,i),f=C0(I,j,t,r),h=E0(I,j,t,r),d=M0(I,j,t,r),p=b0(e,u,s,"element"),v=u.selectAll(j0(Yf)).selectFacetAll(p).data(o,(t=>t.key),(t=>t.groupKey)).join((t=>t.append(c).attr("className",Yf).attr("markType",l).transition((function(t){return f(t,[this])}))),(t=>t.call((t=>{const e=t.parent(),n=Hg((t=>{const[e,n]=t.getBounds().min;return[e,n]}));t.transition((function(t,r){x0(this,e,n);const i=c(t,r),o=h(t,[this],[i]);return null!==o||(this.nodeName===i.nodeName?zg(this,i):(this.parentNode.replaceChild(i,this),i.className=Yf,i.markType=l)),o})).attr("markType",l).attr("className",Yf)}))),(t=>t.each((function(){this.__removed__=!0})).transition((function(t){return d(t,[this])})).remove()),(t=>t.append(c).attr("className",Yf).attr("markType",l).transition((function(t){const{__fromElements__:e}=this,n=h(t,e,[this]),r=new _E(e,null,this.parentNode);return r.transition(n).remove(),n}))),(t=>t.transition((function(t){const e=new _E([],this.__toData__,this.parentNode),n=e.append(c).attr("className",Yf).attr("markType",l).nodes();return h(t,[this],n)})).remove())).transitions();n.push(...v.flat())}f0(t,e,n,r,i)}))}function f0(t,e,n,r,i){const[o]=LX("labelTransform",r),{markState:a,labelTransform:s}=t,l=e.select(j0(Uf)).node(),u=new Map,c=new Map,f=Array.from(a.entries()).flatMap((([n,o])=>{const{labels:a=[],key:s}=n,l=g0(n,o,t,r,i),f=e.select(`#${s}`).selectAll(j0(Yf)).nodes().filter((t=>!t.__removed__));return a.flatMap(((t,e)=>{const{transform:n=[]}=t,r=t0(t,["transform"]);return f.flatMap((n=>{const i=h0(r,e,n);return i.forEach((e=>{u.set(e,l),c.set(e,t)})),i}))}))})),h=wE(l).selectAll(j0(Zf)).data(f,(t=>t.key)).join((t=>t.append((t=>u.get(t)(t))).attr("className",Zf)),(t=>t.each((function(t){const e=u.get(t),n=e(t);zg(this,n)}))),(t=>t.remove())).nodes(),d=uv(h,(t=>c.get(t.__data__))),{coordinate:p}=t;for(const[v,g]of d){const{transform:t=[]}=v,e=Ng(t.map(o));e(g,p)}s&&s(h,p)}function h0(t,e,n){const{seriesIndex:r,seriesKey:i,points:o,key:a,index:s}=n.__data__,l=v0(n);if(!r)return[Object.assign(Object.assign({},t),{key:`${a}-${e}`,bounds:l,index:s,points:o,dependentElement:n})];const u=p0(t),c=r.map(((r,a)=>Object.assign(Object.assign({},t),{key:`${i[a]}-${e}`,bounds:[o[a]],index:r,points:o,dependentElement:n})));return u?u(c):c}function d0([t,e,n]){if(n)return[t,e,n];const r=[],i=[];for(let o=0;o<t.length;o++){const n=t[o],a=e[o];a.every((([t,e])=>Wg(t)&&Wg(e)))&&(r.push(n),i.push(a))}return[r,i]}function p0(t){const{selector:e}=t;if(!e)return null;if("function"===typeof e)return e;if("first"===e)return t=>[t[0]];if("last"===e)return t=>[t[t.length-1]];throw new Error(`Unknown selector: ${e}`)}function v0(t){const e=t.cloneNode(),n=t.getAnimations();e.style.visibility="hidden",n.forEach((t=>{const n=t.effect.getKeyframes();e.attr(n[n.length-1])})),t.parentNode.appendChild(e);const r=e.getLocalBounds();e.destroy();const{min:i,max:o}=r;return[i,o]}function g0(t,e,n,r,i){const[o]=LX("shape",r),{data:a}=t,{data:s,defaultLabelShape:l}=e,u=s.map((t=>t.points)),{theme:c,coordinate:f}=n,h=Object.assign(Object.assign({},i),{document:PX(i),theme:c,coordinate:f});return t=>{const{index:e,points:n}=t,r=a[e],{formatter:i=(t=>`${t}`),transform:s,style:f}=t,d=t0(t,["formatter","transform","style"]),p=XS(Object.assign(Object.assign({},d),f),(t=>y0(t,r,e,a))),{shape:v=l,text:g}=p,y=t0(p,["shape","text"]),m="string"===typeof i?kj(i):i,b=Object.assign(Object.assign({},y),{text:m(g,r,e,a)}),x=Object.assign({type:`label.${v}`},y),w=o(x,h),_=_0(c,"label",v,"label");return w(n,b,_,u)}}function y0(t,e,n,r){return"function"===typeof t?t(e,n,r):"string"!==typeof t?t:void 0!==e[t]?e[t]:t}function m0(t){let e=-1/0,n=1/0;for(const[r,i]of t){const{animate:t={}}=r,{data:o}=i,{enter:a={},update:s={},exit:l={}}=t,{type:u,duration:c=300,delay:f=0}=s,{type:h,duration:d=300,delay:p=0}=a,{type:v,duration:g=300,delay:y=0}=l;for(const r of o){const{updateType:t=u,updateDuration:i=c,updateDelay:o=f,enterType:a=h,enterDuration:s=d,enterDelay:l=p,exitDuration:m=g,exitDelay:b=y,exitType:x=v}=r;(void 0===t||t)&&(e=Math.max(e,i+o),n=Math.min(n,o)),(void 0===x||x)&&(e=Math.max(e,m+b),n=Math.min(n,b)),(void 0===a||a)&&(e=Math.max(e,s+l),n=Math.min(n,l))}}return e===-1/0?null:[n,e-n]}function b0(t,e,n,r){const i=t.node().parentElement;return i.findAll((t=>void 0!==t.style.facet&&t.style.facet===n&&t!==e.node())).flatMap((t=>t.getElementsByClassName(r)))}function x0(t,e,n){if(!t.__facet__)return;const r=t.parentNode.parentNode,i=e.parentNode,[o,a]=n(r),[s,l]=n(i),u=`translate(${o-s}, ${a-l})`;$g(t,u),e.append(t)}function w0(t,e,n,r,i){const[o]=LX("shape",r),{data:a}=t,{defaultShape:s,data:l}=e,u=l.map((t=>t.points)),{theme:c,coordinate:f}=n,{type:h,style:d={}}=t,p=Object.assign(Object.assign({},i),{document:PX(i),coordinate:f,theme:c});return e=>{const{shape:n=s}=d,{shape:r=n,points:i,seriesIndex:l,index:f}=e,v=t0(e,["shape","points","seriesIndex","index"]),g=Object.assign(Object.assign({},v),{index:f}),y=l?l.map((t=>a[t])):a[f],m=l||f,b=XS(d,(t=>y0(t,y,m,a))),x=Object.assign(Object.assign({},b),{type:R0(t,r)}),w=o(x,p),_=_0(c,h,r,s);return w(i,g,_,u)}}function _0(t,e,n,r){if("string"!==typeof e)return;const{defaultColor:i}=t,o=t[e]||{},a=o[n]||o[r];return Object.assign({color:i},a)}function O0(t,e,n,r,i){var o;const[,a]=LX("shape",i),[s]=LX("animation",i),{defaultShape:l}=n,{theme:u,coordinate:c}=r,f=Fj(t),h=`default${f}Animation`,{[h]:d}=a(R0(e,l)).props,{[t]:p={}}=u,v=(null===(o=e.animate)||void 0===o?void 0:o[t])||{},g={coordinate:c};return(e,n,r)=>{const{[`${t}Type`]:i,[`${t}Delay`]:o,[`${t}Duration`]:a,[`${t}Easing`]:l}=e,u=Object.assign({type:i||d},v);if(!u.type)return null;const c=s(u,g),f={delay:o,duration:a,easing:l},h=c(n,r,Bd(p,f));return Array.isArray(h)?h:[h]}}function C0(t,e,n,r){return O0("enter",t,e,n,r)}function S0(t){return t.finished.then((()=>{t.cancel()})),t}function E0(t,e,n,r){return O0("update",t,e,n,r)}function M0(t,e,n,r){return O0("exit",t,e,n,r)}function k0(t={}){if("string"===typeof t)return{type:t};const{type:e="classic"}=t,n=t0(t,["type"]);return Object.assign(Object.assign({},n),{type:e})}function T0(t){const e={event:!0,tooltip:!0,sliderFilter:!0,legendFilter:!0,scrollbarFilter:!0},{interaction:n={}}=t;return Object.entries(Bd(e,n))}function A0(t,e){return JJ(this,void 0,void 0,(function*(){const n={library:e},{data:r}=t,i=t0(t,["data"]);if(void 0==r)return t;const[,{data:o}]=yield RJ([],{data:r},n);return Object.assign({data:o},i)}))}function L0(t){t.style("x",(t=>t.paddingLeft)).style("y",(t=>t.paddingTop)).style("width",(t=>t.innerWidth)).style("height",(t=>t.innerHeight))}function P0(t,e){const[n,r]=e;t.transition((function(t){const{x:e,y:i,width:o,height:a}=this.style,{paddingLeft:s,paddingTop:l,innerWidth:u,innerHeight:c}=t,f=[{x:e,y:i,width:o,height:a},{x:s,y:l,width:u,height:c}];return this.animate(f,{delay:n,duration:r,fill:"both"})}))}function R0(t,e){const{type:n}=t;return"string"===typeof e?`${n}.${e}`:e}function I0(t,e){const n=t=>void 0!==t.class?`${t.class}`:"",r=t.nodes();if(0===r.length)return;t.selectAll(j0(Vf)).data(e,(t=>t.key)).join((t=>t.append("g").attr("className",Vf).attr("id",(t=>t.key)).style("facet",n).style("fill","transparent").style("zIndex",(t=>{var e;return null!==(e=t.zIndex)&&void 0!==e?e:0}))),(t=>t.style("facet",n).style("fill","transparent").style("zIndex",(t=>{var e;return null!==(e=t.zIndex)&&void 0!==e?e:0}))),(t=>t.remove()));const i=t.select(j0(Uf)).node();i||t.append("g").attr("className",Uf).style("zIndex",0)}function j0(...t){return t.map((t=>`.${t}`)).join("")}function N0(t,e){t.node()&&t.style("clipPath",(t=>{if(!e)return null;const{paddingTop:n,paddingLeft:r,innerWidth:i,innerHeight:o}=t;return new Tu({style:{x:r,y:n,width:i,height:o}})}))}function B0(t,e,n){var r;for(const[u]of n.entries())if("cell"===u.type)return t.filter((t=>"shape"!==t.name));if(1!==e.length||t.some((t=>"shape"===t.name)))return t;const{defaultShape:i}=e[0],o=["point","line","rect","hollow"];if(!o.includes(i))return t;const a={point:"point",line:"hyphen",rect:"square",hollow:"hollow"},s=(null===(r=t.find((t=>"color"===t.name)))||void 0===r?void 0:r.field)||null,l={field:s,name:"shape",type:"constant",domain:[],range:[a[i]]};return[...t,l]}function D0(t,e){for(const[n,r]of Object.entries(e))t.style(n,r)}function F0(t){const e=Bd({},t),n=new Map([[e,null]]),r=new Map([[null,-1]]),i=[e];while(i.length){const t=i.shift();if(void 0===t.key){const e=n.get(t),i=r.get(t),o=null===e?"0":`${e.key}-${i}`;t.key=o}const{children:e=[]}=t;if(Array.isArray(e))for(let o=0;o<e.length;o++){const a=Bd({},e[o]);e[o]=a,n.set(a,t),r.set(a,o),i.push(a)}}return e}function z0(t,e){const n=new wd;return n.registerPlugin(new kd),new Yu({width:t,height:e,container:document.createElement("div"),renderer:n})}function W0(t,e={},n=(()=>{}),r=(t=>{throw t})){const{width:i=640,height:o=480,theme:a}=t;a||Fg('ChartOptions.theme is required, such as `const chart = new Chart({ theme: "classic"})`.');const s=F0(t),{canvas:l=z0(i,o),library:u=MX(),emitter:c=new zd}=e;e.canvas=l,e.library=u,e.emitter=c,l.resize(i,o),c.emit(Tz.BEFORE_RENDER);const f=wE(l.document.documentElement);return l.ready.then((()=>e0(Object.assign(Object.assign({},s),{width:i,height:o}),f,u,e))).then((()=>{l.requestAnimationFrame((()=>{c.emit(Tz.AFTER_RENDER),null===n||void 0===n||n()}))})).catch((t=>{null===r||void 0===r||r(t)})),G0(l.getConfig().container)}function H0(t,e={},n=!1){const{canvas:r,emitter:i}=e;r&&($0(r),n?r.destroy():r.destroyChildren()),i.off()}function $0(t){const e=t.getRoot().querySelectorAll(`.${qf}`);null===e||void 0===e||e.forEach((t=>{const{nameInteraction:e=new Map}=t;(null===e||void 0===e?void 0:e.size)>0&&Array.from(null===e||void 0===e?void 0:e.values()).forEach((t=>{null===t||void 0===t||t.destroy()}))}))}function G0(t){return"string"===typeof t?document.getElementById(t):t}function V0(t,{name:e,key:n=e}){t.prototype[e]=function(t){return 0===arguments.length?this.attr(n):this.attr(n,t)}}function U0(t,{name:e,key:n=e}){t.prototype[e]=function(t){if(0===arguments.length)return this.attr(n);if(Array.isArray(t))return this.attr(n,t);const e=[...this.attr(n)||[],t];return this.attr(n,e)}}function Y0(t,{name:e,key:n=e}){t.prototype[e]=function(t,e){if(0===arguments.length)return this.attr(n);if(1===arguments.length&&"string"!==typeof t)return this.attr(n,t);const r=this.attr(n)||{};return r[t]=1===arguments.length||e,this.attr(n,r)}}function q0(t,{name:e}){t.prototype[e]=function(t){if(0===arguments.length)return this.attr(e);if(Array.isArray(t))return this.attr(e,{items:t});if(Xg(t)&&(void 0!==t.title||void 0!==t.items))return this.attr(e,t);if(null===t||!1===t)return this.attr(e,t);const n=this.attr(e)||{},{items:r=[]}=n;return r.push(t),n.items=r,this.attr(e,n)}}function X0(t,{name:e,ctor:n}){t.prototype[e]=function(t){const r=this.append(n);return"mark"===e&&(r.type=t),r}}function K0(t,{name:e,ctor:n}){t.prototype[e]=function(){return this.type=null,this.append(n)}}function Z0(t){return e=>{for(const n of t){const{type:t}=n;"value"===t?V0(e,n):"array"===t?U0(e,n):"object"===t?Y0(e,n):"node"===t?X0(e,n):"container"===t?K0(e,n):"mix"===t&&q0(e,n)}return e}}function Q0(t){return Object.entries(t).map((([t,e])=>({type:"node",name:t,ctor:e})))}function J0(t){return Object.entries(t).map((([t,e])=>({type:"container",name:t,ctor:e})))}function t1(t,e){const n=[t];while(n.length){const t=n.shift();e&&e(t);const r=t.children||[];for(const e of r)n.push(e)}}class e1{constructor(t={},e){this.parentNode=null,this.children=[],this.index=0,this.type=e,this.value=t}map(t=(t=>t)){const e=t(this.value);return this.value=e,this}attr(t,e){return 1===arguments.length?this.value[t]:this.map((n=>(n[t]=e,n)))}append(t){const e=new t({});return e.children=[],this.push(e),e}push(t){return t.parentNode=this,t.index=this.children.length,this.children.push(t),this}remove(){const t=this.parentNode;if(t){const{children:e}=t,n=e.findIndex((t=>t===this));e.splice(n,1)}return this}getNodeByKey(t){let e=null;const n=n=>{t===n.attr("key")&&(e=n)};return t1(this,n),e}getNodesByType(t){const e=[],n=n=>{t===n.type&&e.push(n)};return t1(this,n),e}getNodeByType(t){let e=null;return t1(this,(n=>{e||t===n.type&&(e=n)})),e}call(t,...e){return t(this.map(),...e),this}getRoot(){let t=this;while(t&&t.parentNode)t=t.parentNode;return t}}class n1 extends e1{changeData(t){const e=this.getRoot();if(e)return this.attr("data",t),null===e||void 0===e?void 0:e.render()}getMark(){var t;const e=null===(t=this.getRoot())||void 0===t?void 0:t.getView();if(!e)return;const{markState:n}=e,r=Array.from(n.keys()).find((t=>t.key===this.attr("key")));return n.get(r)}getScale(){var t;const e=null===(t=this.getRoot())||void 0===t?void 0:t.getView();if(e)return null===e||void 0===e?void 0:e.scale}getScaleByChannel(t){var e,n;const r=null===(e=this.getRoot())||void 0===e?void 0:e.getView();if(r)return null===(n=null===r||void 0===r?void 0:r.scale)||void 0===n?void 0:n[t]}getGroup(){const t=this.attr("key");if(!t)return;const e=this.getRoot(),n=e.getContext().canvas.getRoot();return n.getElementById(t)}}var r1=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};const i1=[{name:"encode",type:"object"},{name:"scale",type:"object"},{name:"data",type:"value"},{name:"transform",type:"array"},{name:"style",type:"object"},{name:"animate",type:"object"},{name:"coordinate",type:"object"},{name:"interaction",type:"object"},{name:"label",type:"array",key:"labels"},{name:"axis",type:"object"},{name:"legend",type:"object"},{name:"slider",type:"object"},{name:"scrollbar",type:"object"},{name:"state",type:"object"},{name:"tooltip",type:"mix"}],o1=[{name:"scale",type:"object"},{name:"transform",type:"array"},{name:"style",type:"object"},{name:"state",type:"object"}],a1=o1;let s1=class extends n1{constructor(){super({})}};s1=r1([Z0(i1)],s1);let l1=class extends n1{constructor(){super({},"interval")}};l1=r1([Z0(i1)],l1);let u1=class extends n1{constructor(){super({},"rect")}};u1=r1([Z0(i1)],u1);let c1=class extends n1{constructor(){super({},"point")}};c1=r1([Z0(i1)],c1);let f1=class extends n1{constructor(){super({},"area")}};f1=r1([Z0(i1)],f1);let h1=class extends n1{constructor(){super({},"line")}};h1=r1([Z0(i1)],h1);let d1=class extends n1{constructor(){super({},"cell")}};d1=r1([Z0(i1)],d1);let p1=class extends n1{constructor(){super({},"vector")}};p1=r1([Z0(i1)],p1);let v1=class extends n1{constructor(){super({},"link")}};v1=r1([Z0(i1)],v1);let g1=class extends n1{constructor(){super({},"polygon")}};g1=r1([Z0(i1)],g1);let y1=class extends n1{constructor(){super({},"image")}};y1=r1([Z0(i1)],y1);let m1=class extends n1{constructor(){super({},"text")}};m1=r1([Z0(i1)],m1);let b1=class extends n1{constructor(){super({},"box")}};b1=r1([Z0(i1)],b1);let x1=class extends n1{constructor(){super({},"lineX")}};x1=r1([Z0(i1)],x1);let w1=class extends n1{constructor(){super({},"lineY")}};w1=r1([Z0(i1)],w1);let _1=class extends n1{constructor(){super({},"range")}};_1=r1([Z0(i1)],_1);let O1=class extends n1{constructor(){super({},"rangeX")}};O1=r1([Z0(i1)],O1);let C1=class extends n1{constructor(){super({},"rangeY")}};C1=r1([Z0(i1)],C1);let S1=class extends n1{constructor(){super({},"connector")}};S1=r1([Z0(i1)],S1);let E1=class extends n1{constructor(){super({},"shape")}};E1=r1([Z0(i1)],E1);let M1=class extends n1{constructor(){super({},"sankey")}};M1=r1([Z0([...i1,{name:"layout",type:"value"}])],M1);let k1=class extends n1{constructor(){super({},"treemap")}};k1=r1([Z0([...i1,{name:"layout",type:"value"}])],k1);let T1=class extends n1{constructor(){super({},"boxplot")}};T1=r1([Z0(i1)],T1);let A1=class extends n1{constructor(){super({},"density")}};A1=r1([Z0(i1)],A1);let L1=class extends n1{constructor(){super({},"heatmap")}};L1=r1([Z0(i1)],L1);let P1=class extends n1{constructor(){super({},"path")}};P1=r1([Z0(i1)],P1);let R1=class extends n1{constructor(){super({},"pack")}};R1=r1([Z0([...i1,{name:"layout",type:"value"}])],R1);let I1=class extends n1{constructor(){super({},"forceGraph")}};I1=r1([Z0([...i1,{name:"layout",type:"value"}])],I1);let j1=class extends n1{constructor(){super({},"tree")}};j1=r1([Z0([...i1,{name:"layout",type:"value"}])],j1);let N1=class extends n1{constructor(){super({},"wordCloud")}};N1=r1([Z0([...i1,{name:"layout",type:"object"}])],N1);let B1=class extends n1{constructor(){super({},"gauge")}};B1=r1([Z0(i1)],B1);let D1=class extends n1{constructor(){super({},"axisX")}};D1=r1([Z0(o1)],D1);let F1=class extends n1{constructor(){super({},"axisY")}};F1=r1([Z0(o1)],F1);let z1=class extends n1{constructor(){super({},"legends")}};z1=r1([Z0(a1)],z1);const W1={mark:s1,interval:l1,rect:u1,point:c1,area:f1,line:h1,cell:d1,vector:p1,link:v1,polygon:g1,image:y1,text:m1,box:b1,lineX:x1,lineY:w1,range:_1,rangeX:O1,rangeY:C1,connector:S1,sankey:M1,treemap:k1,boxplot:T1,density:A1,heatmap:L1,path:P1,shape:E1,pack:R1,forceGraph:I1,tree:j1,wordCloud:N1,gauge:B1,axisX:D1,axisY:F1,legends:z1};class H1 extends e1{changeData(t){var e;const n=this.getRoot();if(n)return this.attr("data",t),(null===(e=this.children)||void 0===e?void 0:e.length)&&this.children.forEach((e=>{e.attr("data",t)})),null===n||void 0===n?void 0:n.render()}getView(){const t=this.getRoot(),{views:e}=t.getContext();if(null===e||void 0===e?void 0:e.length)return e.find((t=>t.key===this._key))}getScale(){var t;return null===(t=this.getView())||void 0===t?void 0:t.scale}getScaleByChannel(t){const e=this.getScale();if(e)return e[t]}getCoordinate(){var t;return null===(t=this.getView())||void 0===t?void 0:t.coordinate}getTheme(){var t;return null===(t=this.getView())||void 0===t?void 0:t.theme}getGroup(){const t=this._key;if(!t)return;const e=this.getRoot(),n=e.getContext().canvas.getRoot();return n.getElementById(t)}show(){const t=this.getGroup();t&&!t.isVisible()&&kF(t)}hide(){const t=this.getGroup();t&&t.isVisible()&&MF(t)}}var $1=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let G1=class extends H1{constructor(t={},e="view"){super(t,e)}};G1=$1([Z0([{type:"value",name:"data"},{type:"value",name:"coordinate"},{type:"object",name:"interaction"},{type:"object",name:"theme"},{type:"object",name:"style"},{type:"object",name:"scale"},{type:"object",name:"axis"},{type:"object",name:"legend"},...Q0(W1)])],G1);var V1=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let U1=class extends H1{constructor(){super({},"spaceLayer")}};U1=V1([Z0([{type:"value",name:"data"},...Q0(W1)])],U1);var Y1=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let q1=class extends H1{constructor(){super({},"spaceFlex")}};q1=Y1([Z0([{type:"value",name:"data"},...Q0(W1)])],q1);var X1=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let K1=class extends H1{constructor(){super({},"facetRect")}};K1=X1([Z0([{type:"value",name:"data"},{type:"array",name:"transform"},{type:"object",name:"scale"},{type:"object",name:"encode"},{type:"object",name:"legend"},{type:"object",name:"axis"},...Q0(W1)])],K1);var Z1=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let Q1=class extends H1{constructor(){super({},"facetCircle")}};Q1=Z1([Z0([{type:"value",name:"data"},{type:"array",name:"transform"},{type:"object",name:"scale"},{type:"object",name:"encode"},{type:"object",name:"legend"},{type:"object",name:"axis"},...Q0(W1)])],Q1);var J1=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let t2=class extends H1{constructor(){super({},"repeatMatrix")}};t2=J1([Z0([{type:"value",name:"data"},{type:"array",name:"transform"},{type:"object",name:"scale"},{type:"object",name:"encode"},{type:"object",name:"encode"},{type:"object",name:"legend"},...Q0(W1)])],t2);var e2=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let n2=class extends H1{constructor(){super({},"timingKeyframe")}};n2=e2([Z0([...Q0(W1)])],n2);var r2=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let i2=class extends H1{constructor(){super({},"geoView")}};i2=r2([Z0([{type:"value",name:"data"},{type:"value",name:"coordinate"},{type:"object",name:"interaction"},{type:"object",name:"theme"},{type:"object",name:"style"},{type:"object",name:"scale"},{type:"object",name:"legend"},...Q0(W1)])],i2);var o2=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let a2=class extends H1{constructor(){super({},"geoPath")}};a2=o2([Z0([{type:"value",name:"data"},{type:"value",name:"coordinate"},{type:"object",name:"interaction"},{type:"object",name:"theme"},{type:"object",name:"style"},{type:"object",name:"scale"},{type:"object",name:"encode"},{type:"object",name:"legend"},{type:"object",name:"state"},...Q0(W1)])],a2);const s2={view:G1,spaceLayer:U1,spaceFlex:q1,facetRect:K1,facetCircle:Q1,repeatMatrix:t2,timingKeyframe:n2,geoView:i2,geoPath:a2};for(const P2 of Object.values(s2))Z0(Q0(s2))(P2);const l2=MX();const u2=t=>t?parseInt(t):0;function c2(t){const e=getComputedStyle(t),n=t.clientWidth||u2(e.width),r=t.clientHeight||u2(e.height),i=u2(e.paddingLeft)+u2(e.paddingRight),o=u2(e.paddingTop)+u2(e.paddingBottom);return{width:n-i,height:r-o}}var f2=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const h2=["width","height","padding","paddingLeft","paddingRight","paddingBottom","paddingTop","inset","insetLeft","insetRight","insetTop","insetBottom","margin","marginLeft","marginRight","marginTop","marginBottom","autoFit","theme","title"];function d2(t){if(void 0===t)return document.createElement("div");if("string"===typeof t){const e=document.getElementById(t);return e}return t}function p2(t){const e=t.parentNode;e&&e.removeChild(t)}function v2(t){if(null!==t.type)return t;const e=t.children[t.children.length-1];for(const n of h2)e.attr(n,t.attr(n));return e}function g2(t){return Object.assign(Object.assign({},t.value),{type:t.type})}function y2(t,e){const{autoFit:n}=t;if(n)return c2(e);const{width:r=640,height:i=480}=t;return{width:r,height:i}}function m2(t){const e=v2(t),n=[e],r=new Map;r.set(e,g2(e));while(n.length){const t=n.pop(),e=r.get(t),{children:i=[]}=t;for(const o of i){const t=g2(o),{children:i=[]}=e;i.push(t),n.push(o),r.set(o,t),e.children=i}}return r.get(e)}function b2(t){return"function"===typeof t||new Set(Object.keys(W1)).has(t)}function x2(t,e,n){const{type:r}=t,{type:i=n||r}=e;if("view"===i)return e;if(!b2(i))return e;const o={type:"view"},a=Object.assign({},e);for(const s of h2)void 0!==a[s]&&(o[s]=a[s],delete a[s]);return Object.assign(Object.assign({},o),{children:[a]})}function w2(t){if("function"===typeof t)return W1.mark;const e=Object.assign(Object.assign({},W1),s2),n=e[t];if(!n)throw new Error(`Unknown mark: ${t}.`);return n}function _2(t){const{type:e,children:n}=t,r=f2(t,["type","children"]),i=w2(e),o=new i;return o.value=r,o.type=e,o}function O2(t,e){const{type:n,children:r}=e,i=f2(e,["type","children"]);t.type===n||void 0===n?Zg(t.value,i):"string"===typeof n&&(t.type=n,t.value=i)}function C2(t,e){if(!t)return;const n=[[t,e]];while(n.length){const[t,e]=n.shift(),r=_2(e);Array.isArray(t.children)&&t.push(r);const{children:i}=e;if(Array.isArray(i))for(const o of i)n.push([r,o])}}function S2(t,e,n){const r=x2(t,e,n),i=[[null,t,r]];while(i.length){const[t,e,n]=i.shift();if(e)if(n){O2(e,n);const{children:t}=n,{children:r}=e;if(Array.isArray(t)&&Array.isArray(r)){const n=Math.max(t.length,r.length);for(let o=0;o<n;o++){const n=t[o],a=r[o];i.push([e,a,n])}}}else e.remove();else C2(t,n)}}function E2(){let t,e;const n=new Promise(((n,r)=>{e=n,t=r}));return[n,e,t]}var M2=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},k2=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const T2="G2_CHART_KEY",A2=[{name:"data",type:"value"},{name:"width",type:"value"},{name:"height",type:"value"},{name:"coordinate",type:"value"},{name:"interaction",type:"object"},{name:"theme",type:"object"},{name:"title",type:"value"},{name:"transform",type:"array"},{name:"scale",type:"object"},{name:"axis",type:"object"},{name:"legend",type:"object"},{name:"style",type:"object"},{name:"labelTransform",type:"array"},...Q0(W1),...J0(s2)];let L2=class extends G1{constructor(t){const e=t||{},{container:n,canvas:r,renderer:i,plugins:o}=e,a=k2(e,["container","canvas","renderer","plugins"]);super(a,"view"),this._hasBindAutoFit=!1,this._rendering=!1,this._trailing=!1,this._trailingResolve=null,this._trailingReject=null,this._previousDefinedType=null,this._onResize=kN((()=>{this.forceFit()}),300),this._renderer=i||new wd,this._plugins=o||[],this._container=d2(n),this._emitter=new zd,this._context={library:l2,emitter:this._emitter,canvas:r}}render(){if(this._rendering)return this._addToTrailing();this._context.canvas||this._createCanvas(),this._bindAutoFit(),this._rendering=!0;const t=new Promise(((t,e)=>W0(this._computedOptions(),this._context,this._createResolve(t),this._createReject(e)))),[e,n,r]=E2();return t.then(n).catch(r).then((()=>this._renderTrailing())),e}options(t){if(0===arguments.length)return m2(this);const{type:e}=t;return e&&(this._previousDefinedType=e),S2(this,t,this._previousDefinedType),this}getContainer(){return this._container}getContext(){return this._context}on(t,e,n){return this._emitter.on(t,e,n),this}once(t,e){return this._emitter.once(t,e),this}emit(t,...e){return this._emitter.emit(t,...e),this}off(t,e){return this._emitter.off(t,e),this}clear(){const t=this.options();this.emit(Tz.BEFORE_CLEAR),this._reset(),H0(t,this._context,!1),this.emit(Tz.AFTER_CLEAR)}destroy(){const t=this.options();this.emit(Tz.BEFORE_DESTROY),this._unbindAutoFit(),this._reset(),H0(t,this._context,!0),p2(this._container),this.emit(Tz.AFTER_DESTROY)}forceFit(){this.options["autoFit"]=!0;const{width:t,height:e}=y2(this.options(),this._container);if(t===this._width&&e===this._height)return Promise.resolve(this);this.emit(Tz.BEFORE_CHANGE_SIZE);const n=this.render();return n.then((()=>{this.emit(Tz.AFTER_CHANGE_SIZE)})),n}changeSize(t,e){if(t===this._width&&e===this._height)return Promise.resolve(this);this.emit(Tz.BEFORE_CHANGE_SIZE),this.width(t),this.height(e);const n=this.render();return n.then((()=>{this.emit(Tz.AFTER_CHANGE_SIZE)})),n}_reset(){this.type="view",this.value={},this.children=[]}_renderTrailing(){this._trailing&&(this._trailing=!1,this.render().then((()=>{const t=this._trailingResolve.bind(this);this._trailingResolve=null,t(this)})).catch((t=>{const e=this._trailingReject.bind(this);this._trailingReject=null,e(t)})))}_createResolve(t){return()=>{this._rendering=!1,t(this)}}_createReject(t){return e=>{this._rendering=!1,t(e)}}_computedOptions(){const t=this.options(),{key:e=T2}=t,{width:n,height:r}=y2(t,this._container);return this._width=n,this._height=r,this._key=e,Object.assign(Object.assign({key:this._key},t),{width:n,height:r})}_createCanvas(){const{width:t,height:e}=y2(this.options(),this._container);this._plugins.push(new kd),this._plugins.forEach((t=>this._renderer.registerPlugin(t))),this._context.canvas=new Yu({container:this._container,width:t,height:e,renderer:this._renderer})}_addToTrailing(){var t;null===(t=this._trailingResolve)||void 0===t||t.call(this,this),this._trailing=!0;const e=new Promise(((t,e)=>{this._trailingResolve=t,this._trailingReject=e}));return e}_bindAutoFit(){const t=this.options(),{autoFit:e}=t;this._hasBindAutoFit?e||this._unbindAutoFit():e&&(this._hasBindAutoFit=!0,window.addEventListener("resize",this._onResize))}_unbindAutoFit(){this._hasBindAutoFit&&(this._hasBindAutoFit=!1,window.removeEventListener("resize",this._onResize))}};L2=M2([Z0(A2)],L2),Jl.enableCSSParsing=!1},6341:function(t,e,n){"use strict";n.d(e,{HZt:function(){return r$},ch4:function(){return bs}});n(7658),n(1439),n(7585),n(5315),n(6229),n(7330),n(2062);t=n.hmd(t);var r=Object.freeze({__proto__:null,get Base(){return Ma},get Circle(){return Ta},get Ellipse(){return Pa},get Image(){return ja},get Line(){return Da},get Marker(){return Wa},get Path(){return es},get Polygon(){return is},get Polyline(){return as},get Rect(){return cs},get Text(){return hs}}),i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a=function(){return a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},a.apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}var l=function(t){return null!==t&&"function"!==typeof t&&isFinite(t.length)},u={}.toString,c=function(t,e){return u.call(t)==="[object "+e+"]"},f=function(t){return c(t,"Function")},h=function(t){return null===t||void 0===t},d=function(t){return Array.isArray?Array.isArray(t):c(t,"Array")},p=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};function v(t,e){var n;if(t)if(d(t)){for(var r=0,i=t.length;r<i;r++)if(n=e(t[r],r),!1===n)break}else if(p(t))for(var o in t)if(t.hasOwnProperty(o)&&(n=e(t[o],o),!1===n))break}var g=function(t){return"object"===typeof t&&null!==t},y=function(t){if(d(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},m=function(t){if(d(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},b=function(t){return c(t,"String")},x=function(t){return c(t,"Number")},w=1e-5;function _(t,e,n){return void 0===n&&(n=w),Math.abs(t-e)<n}var O=function(t,e){return(t%e+e)%e},C=Math.PI/180,S=function(t){return C*t},E=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return v(t,(function(n,r){f(t)&&"prototype"===r||e.push(n)})),e},M=function(t){return h(t)?"":t.toString()},k=function(t){var e=M(t);return e.charAt(0).toUpperCase()+e.substring(1)};function T(t){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)};return e(t)}function A(t){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;e(t)}function L(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function P(t,e,n,r){return e&&L(t,e),n&&L(t,n),r&&L(t,r),t}var R,I=function(t,e){if(!f(t))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n},j=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(b(t)||b(e))return!1;if(l(t)||l(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length;r++)if(n=j(t[r],e[r]),!n)break;return n}if(g(t)||g(e)){var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(n=!0,r=0;r<i.length;r++)if(n=j(t[i[r]],e[i[r]]),!n)break;return n}return!1},N={},B=function(t){return t=t||"g",N[t]?N[t]+=1:N[t]=1,t+N[t]},D=function(){};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function F(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}I((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return R||(R=document.createElement("canvas").getContext("2d")),R.font=[o,a,i,n+"px",r].join(" "),R.measureText(b(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),F([t],E(e)).join("")}));var z="\t\n\v\f\r \u2028\u2029",W=new RegExp("([a-z])["+z+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+z+"]*,?["+z+"]*)+)","ig"),H=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+z+"]*,?["+z+"]*","ig"),$=function(t){if(!t)return null;if(d(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(W,(function(r,i,o){var a=[],s=i.toLowerCase();if(o.replace(H,(function(t,e){e&&a.push(+e)})),"m"===s&&a.length>2&&(n.push([i].concat(a.splice(0,2))),s="l",i="m"===i?"l":"L"),"o"===s&&1===a.length&&n.push([i,a[0]]),"r"===s)n.push([i].concat(a));else while(a.length>=e[s])if(n.push([i].concat(a.splice(0,e[s]))),!e[s])break;return t})),n},G=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},V=function(t,e,n,r,i){var o=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var a=Math.PI/180,s=t+n*Math.cos(-r*a),l=t+n*Math.cos(-i*a),u=e+n*Math.sin(-r*a),c=e+n*Math.sin(-i*a);o=[["M",s,u],["A",n,n,0,+(i-r>180),0,l,c]]}else o=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},U=function(t){if(t=$(t),!t||!t.length)return[["M",0,0]];var e,n,r=[],i=0,o=0,a=0,s=0,l=0;"M"===t[0][0]&&(i=+t[0][1],o=+t[0][2],a=i,s=o,l++,r[0]=["M",i,o]);for(var u=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),c=void 0,f=void 0,h=l,d=t.length;h<d;h++){if(r.push(c=[]),f=t[h],e=f[0],e!==e.toUpperCase())switch(c[0]=e.toUpperCase(),c[0]){case"A":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+f[6]+i,c[7]=+f[7]+o;break;case"V":c[1]=+f[1]+o;break;case"H":c[1]=+f[1]+i;break;case"R":n=[i,o].concat(f.slice(1));for(var p=2,v=n.length;p<v;p++)n[p]=+n[p]+i,n[++p]=+n[p]+o;r.pop(),r=r.concat(G(n,u));break;case"O":r.pop(),n=V(i,o,f[1],f[2]),n.push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(V(i,o,f[1],f[2],f[3])),c=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+f[1]+i,s=+f[2]+o;break;default:for(p=1,v=f.length;p<v;p++)c[p]=+f[p]+(p%2?i:o)}else if("R"===e)n=[i,o].concat(f.slice(1)),r.pop(),r=r.concat(G(n,u)),c=["R"].concat(f.slice(-2));else if("O"===e)r.pop(),n=V(i,o,f[1],f[2]),n.push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(V(i,o,f[1],f[2],f[3])),c=["U"].concat(r[r.length-1].slice(-2));else for(var g=0,y=f.length;g<y;g++)c[g]=f[g];if(e=e.toUpperCase(),"O"!==e)switch(c[0]){case"Z":i=+a,o=+s;break;case"H":i=c[1];break;case"V":o=c[1];break;case"M":a=c[c.length-2],s=c[c.length-1];break;default:i=c[c.length-2],o=c[c.length-1]}}return r},Y=function(t,e,n,r){return[t,e,n,r,n,r]},q=function(t,e,n,r,i,o){var a=1/3,s=2/3;return[a*t+s*n,a*e+s*r,a*i+s*n,a*o+s*r,i,o]},X=function(t,e,n,r,i,o,a,s,l,u){n===r&&(n+=1);var c,f,h,d,p,v=120*Math.PI/180,g=Math.PI/180*(+i||0),y=[],m=function(t,e,n){var r=t*Math.cos(n)-e*Math.sin(n),i=t*Math.sin(n)+e*Math.cos(n);return{x:r,y:i}};if(u)f=u[0],h=u[1],d=u[2],p=u[3];else{c=m(t,e,-g),t=c.x,e=c.y,c=m(s,l,-g),s=c.x,l=c.y,t===s&&e===l&&(s+=1,l+=1);var b=(t-s)/2,x=(e-l)/2,w=b*b/(n*n)+x*x/(r*r);w>1&&(w=Math.sqrt(w),n*=w,r*=w);var _=n*n,O=r*r,C=(o===a?-1:1)*Math.sqrt(Math.abs((_*O-_*x*x-O*b*b)/(_*x*x+O*b*b)));d=C*n*x/r+(t+s)/2,p=C*-r*b/n+(e+l)/2,f=Math.asin(((e-p)/r).toFixed(9)),h=Math.asin(((l-p)/r).toFixed(9)),f=t<d?Math.PI-f:f,h=s<d?Math.PI-h:h,f<0&&(f=2*Math.PI+f),h<0&&(h=2*Math.PI+h),a&&f>h&&(f-=2*Math.PI),!a&&h>f&&(h-=2*Math.PI)}var S=h-f;if(Math.abs(S)>v){var E=h,M=s,k=l;h=f+v*(a&&h>f?1:-1),s=d+n*Math.cos(h),l=p+r*Math.sin(h),y=X(s,l,n,r,i,0,a,M,k,[h,E,d,p])}S=h-f;var T=Math.cos(f),A=Math.sin(f),L=Math.cos(h),P=Math.sin(h),R=Math.tan(S/4),I=4/3*n*R,j=4/3*r*R,N=[t,e],B=[t+I*A,e-j*T],D=[s+I*P,l-j*L],F=[s,l];if(B[0]=2*N[0]-B[0],B[1]=2*N[1]-B[1],u)return[B,D,F].concat(y);y=[B,D,F].concat(y).join().split(",");for(var z=[],W=0,H=y.length;W<H;W++)z[W]=W%2?m(y[W-1],y[W],g).y:m(y[W],y[W+1],g).x;return z},K=function(t,e){var n,r=U(t),i=e&&U(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],l=[],u="",c="",f=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(X.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(q(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(q(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(Y(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(Y(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(Y(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(Y(e.x,e.y,e.X,e.Y));break}return t},h=function(t,e){if(t[e].length>7){t[e].shift();var o=t[e];while(o.length)s[e]="A",i&&(l[e]="A"),t.splice(e++,0,["C"].concat(o.splice(0,6)));t.splice(e,1),n=Math.max(r.length,i&&i.length||0)}},d=function(t,e,o,a,s){t&&e&&"M"===t[s][0]&&"M"!==e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=t[s][1],o.y=t[s][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var p=0;p<n;p++){r[p]&&(u=r[p][0]),"C"!==u&&(s[p]=u,p&&(c=s[p-1])),r[p]=f(r[p],o,c),"A"!==s[p]&&"C"===u&&(s[p]="C"),h(r,p),i&&(i[p]&&(u=i[p][0]),"C"!==u&&(l[p]=u,p&&(c=l[p-1])),i[p]=f(i[p],a,c),"A"!==l[p]&&"C"===u&&(l[p]="C"),h(i,p)),d(r,i,o,a,p),d(i,r,a,o,p);var v=r[p],g=i&&i[p],y=v.length,m=i&&g.length;o.x=v[y-2],o.y=v[y-1],o.bx=parseFloat(v[y-4])||o.x,o.by=parseFloat(v[y-3])||o.y,a.bx=i&&(parseFloat(g[m-4])||a.x),a.by=i&&(parseFloat(g[m-3])||a.y),a.x=i&&g[m-2],a.y=i&&g[m-1]}return i?[r,i]:r},Z=/,?([a-z]),?/gi,Q=function(t){return t.join(",").replace(Z,"$1")},J=function(t,e,n,r,i){var o=-3*e+9*n-9*r+3*i,a=t*o+6*e-12*n+6*r;return t*a-3*e+3*n},tt=function(t,e,n,r,i,o,a,s,l){null===l&&(l=1),l=l>1?1:l<0?0:l;for(var u=l/2,c=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,p=0;p<c;p++){var v=u*f[p]+u,g=J(v,t,n,i,a),y=J(v,e,r,o,s),m=g*g+y*y;d+=h[p]*Math.sqrt(m)}return u*d},et=function(t,e,n,r,i,o,a,s){for(var l,u,c,f,h=[],d=[[],[]],p=0;p<2;++p)if(0===p?(u=6*t-12*n+6*i,l=-3*t+9*n-9*i+3*a,c=3*n-3*t):(u=6*e-12*r+6*o,l=-3*e+9*r-9*o+3*s,c=3*r-3*e),Math.abs(l)<1e-12){if(Math.abs(u)<1e-12)continue;f=-c/u,f>0&&f<1&&h.push(f)}else{var v=u*u-4*c*l,g=Math.sqrt(v);if(!(v<0)){var y=(-u+g)/(2*l);y>0&&y<1&&h.push(y);var m=(-u-g)/(2*l);m>0&&m<1&&h.push(m)}}var b,x=h.length,w=x;while(x--)f=h[x],b=1-f,d[0][x]=b*b*b*t+3*b*b*f*n+3*b*f*f*i+f*f*f*a,d[1][x]=b*b*b*e+3*b*b*f*r+3*b*f*f*o+f*f*f*s;return d[0][w]=t,d[1][w]=e,d[0][w+1]=a,d[1][w+1]=s,d[0].length=d[1].length=w+2,{min:{x:Math.min.apply(0,d[0]),y:Math.min.apply(0,d[1])},max:{x:Math.max.apply(0,d[0]),y:Math.max.apply(0,d[1])}}},nt=function(t,e,n,r,i,o,a,s){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,s)||Math.min(e,r)>Math.max(o,s))){var l=(t*r-e*n)*(i-a)-(t-n)*(i*s-o*a),u=(t*r-e*n)*(o-s)-(e-r)*(i*s-o*a),c=(t-n)*(o-s)-(e-r)*(i-a);if(c){var f=l/c,h=u/c,d=+f.toFixed(2),p=+h.toFixed(2);if(!(d<+Math.min(t,n).toFixed(2)||d>+Math.max(t,n).toFixed(2)||d<+Math.min(i,a).toFixed(2)||d>+Math.max(i,a).toFixed(2)||p<+Math.min(e,r).toFixed(2)||p>+Math.max(e,r).toFixed(2)||p<+Math.min(o,s).toFixed(2)||p>+Math.max(o,s).toFixed(2)))return{x:f,y:h}}}},rt=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},it=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=Q,o},ot=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:it(t,e,n,r),vb:[t,e,n,r].join(" ")}},at=function(t,e){return t=ot(t),e=ot(e),rt(e,t.x,t.y)||rt(e,t.x2,t.y)||rt(e,t.x,t.y2)||rt(e,t.x2,t.y2)||rt(t,e.x,e.y)||rt(t,e.x2,e.y)||rt(t,e.x,e.y2)||rt(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},st=function(t,e,n,r,i,o,a,s){d(t)||(t=[t,e,n,r,i,o,a,s]);var l=et.apply(null,t);return ot(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)},lt=function(t,e,n,r,i,o,a,s,l){var u=1-l,c=Math.pow(u,3),f=Math.pow(u,2),h=l*l,d=h*l,p=c*t+3*f*l*n+3*u*l*l*i+d*a,v=c*e+3*f*l*r+3*u*l*l*o+d*s,g=t+2*l*(n-t)+h*(i-2*n+t),y=e+2*l*(r-e)+h*(o-2*r+e),m=n+2*l*(i-n)+h*(a-2*i+n),b=r+2*l*(o-r)+h*(s-2*o+r),x=u*t+l*n,w=u*e+l*r,_=u*i+l*a,O=u*o+l*s,C=90-180*Math.atan2(g-m,y-b)/Math.PI;return{x:p,y:v,m:{x:g,y:y},n:{x:m,y:b},start:{x:x,y:w},end:{x:_,y:O},alpha:C}},ut=function(t,e,n){var r=st(t),i=st(e);if(!at(r,i))return n?0:[];for(var o=tt.apply(0,t),a=tt.apply(0,e),s=~~(o/8),l=~~(a/8),u=[],c=[],f={},h=n?0:[],d=0;d<s+1;d++){var p=lt.apply(0,t.concat(d/s));u.push({x:p.x,y:p.y,t:d/s})}for(d=0;d<l+1;d++){p=lt.apply(0,e.concat(d/l));c.push({x:p.x,y:p.y,t:d/l})}for(d=0;d<s;d++)for(var v=0;v<l;v++){var g=u[d],y=u[d+1],m=c[v],b=c[v+1],x=Math.abs(y.x-g.x)<.001?"y":"x",w=Math.abs(b.x-m.x)<.001?"y":"x",_=nt(g.x,g.y,y.x,y.y,m.x,m.y,b.x,b.y);if(_){if(f[_.x.toFixed(4)]===_.y.toFixed(4))continue;f[_.x.toFixed(4)]=_.y.toFixed(4);var O=g.t+Math.abs((_[x]-g[x])/(y[x]-g[x]))*(y.t-g.t),C=m.t+Math.abs((_[w]-m[w])/(b[w]-m[w]))*(b.t-m.t);O>=0&&O<=1&&C>=0&&C<=1&&(n?h+=1:h.push({x:_.x,y:_.y,t1:O,t2:C}))}}return h},ct=function(t,e,n){var r,i,o,a,s,l,u,c,f,h;t=K(t),e=K(e);for(var d=n?0:[],p=0,v=t.length;p<v;p++){var g=t[p];if("M"===g[0])r=s=g[1],i=l=g[2];else{"C"===g[0]?(f=[r,i].concat(g.slice(1)),r=f[6],i=f[7]):(f=[r,i,r,i,s,l,s,l],r=s,i=l);for(var y=0,m=e.length;y<m;y++){var b=e[y];if("M"===b[0])o=u=b[1],a=c=b[2];else{"C"===b[0]?(h=[o,a].concat(b.slice(1)),o=h[6],a=h[7]):(h=[o,a,o,a,u,c,u,c],o=u,a=c);var x=ut(f,h,n);if(n)d+=x;else{for(var w=0,_=x.length;w<_;w++)x[w].segment1=p,x[w].segment2=y,x[w].bez1=f,x[w].bez2=h;d=d.concat(x)}}}}}return d},ft=function(t,e){return ct(t,e)};function ht(t,e){var n=[],r=[];function i(t,e){if(1===t.length)n.push(t[0]),r.push(t[0]);else{for(var o=[],a=0;a<t.length-1;a++)0===a&&n.push(t[0]),a===t.length-2&&r.push(t[a+1]),o[a]=[(1-e)*t[a][0]+e*t[a+1][0],(1-e)*t[a][1]+e*t[a+1][1]];i(o,e)}}return t.length&&i(t,e),{left:n,right:r.reverse()}}function dt(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var o=r,a=1/n,s=0;s<n-1;s++){var l=a/(1-a*s),u=ht(o,l);i.push(u.left),o=u.right}i.push(o);var c=i.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1]),e}));return c}var pt=function(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(dt(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r},vt=function(t,e){if(1===t.length)return t;var n=t.length-1,r=e.length-1,i=n/r,o=[];if(1===t.length&&"M"===t[0][0]){for(var a=0;a<r-n;a++)t.push(t[0]);return t}for(a=0;a<r;a++){var s=Math.floor(i*a);o[s]=(o[s]||0)+1}var l=o.reduce((function(e,r,i){return i===n?e.concat(t[n]):e.concat(pt(t[i],t[i+1],r))}),[]);return l.unshift(t[0]),"Z"!==e[r]&&"z"!==e[r]||l.push("Z"),l},gt=function(t,e){if(t.length!==e.length)return!1;var n=!0;return v(t,(function(t,r){if(t!==e[r])return n=!1,!1})),n};function yt(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}var mt=function(t,e){var n,r,i=t.length,o=e.length,a=0;if(0===i||0===o)return null;for(var s=[],l=0;l<=i;l++)s[l]=[],s[l][0]={min:l};for(var u=0;u<=o;u++)s[0][u]={min:u};for(l=1;l<=i;l++){n=t[l-1];for(u=1;u<=o;u++){r=e[u-1],a=gt(n,r)?0:1;var c=s[l-1][u].min+1,f=s[l][u-1].min+1,h=s[l-1][u-1].min+a;s[l][u]=yt(c,f,h)}}return s},bt=function(t,e){var n=mt(t,e),r=t.length,i=e.length,o=[],a=1,s=1;if(n[r][i].min!==r){for(var l=1;l<=r;l++){var u=n[l][l].min;s=l;for(var c=a;c<=i;c++)n[l][c].min<u&&(u=n[l][c].min,s=c);a=s,n[l][a].type&&o.push({index:l-1,type:n[l][a].type})}for(l=o.length-1;l>=0;l--)a=o[l].index,"add"===o[l].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}r=t.length;var f=i-r;if(r<i)for(l=0;l<f;l++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t};function xt(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=wt(e)[0],s=1;s<=n;s++)o*=s,r=Math.floor(t.length*o),0===r?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function wt(t){var e=[];switch(t[0]){case"M":e.push([t[1],t[2]]);break;case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":e.push([t[1],t[1]]);break;case"V":e.push([t[1],t[1]]);break}return e}var _t=function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=wt(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=xt(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=xt(n,t[r-1],2)}t[r]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=xt(n,t[r-1],1)}t[r]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[r]=e[r]}return t},Ot=Object.freeze({__proto__:null,catmullRomToBezier:G,fillPath:vt,fillPathByDiff:bt,formatPath:_t,intersection:ft,parsePathArray:Q,parsePathString:$,pathToAbsolute:U,pathToCurve:K,rectPath:it}),Ct=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){var t=this.type;return"[Event (type="+t+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}(),St=function(t,e){return St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},St(t,e)};function Et(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}St(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Mt="*",kt=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],o=this._events[Mt]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],s=a.callback,l=a.once;l&&(r.splice(o,1),0===r.length&&delete e._events[t],i--,o--),s.apply(e,n)}};a(i),a(o)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();function Tt(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}var At="undefined"!==typeof window&&"undefined"!==typeof window.document;function Lt(t,e){if(t.isCanvas())return!0;var n=e.getParent(),r=!1;while(n){if(n===t){r=!0;break}n=n.getParent()}return r}function Pt(t){return t.cfg.visible&&t.cfg.capture}var Rt=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=P(r,e),n}return Et(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(kt),It=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},jt=function(){function t(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"}return t}(),Nt=function(){function t(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return t}(),Bt=function(){function t(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type="bot-device"}return t}(),Dt=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Ft=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),zt=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Wt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Ht=3,$t=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",zt]],Gt=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Vt(t){return t?Yt(t):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new Ft:"undefined"!==typeof navigator?Yt(navigator.userAgent):Xt()}function Ut(t){return""!==t&&$t.reduce((function(e,n){var r=n[0],i=n[1];if(e)return e;var o=i.exec(t);return!!o&&[r,o]}),!1)}function Yt(t){var e=Ut(t);if(!e)return null;var n=e[0],r=e[1];if("searchbot"===n)return new Dt;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<Ht&&(i=It(It([],i,!0),Kt(Ht-i.length),!0)):i=[];var o=i.join("."),a=qt(t),s=Wt.exec(t);return s&&s[1]?new Bt(n,o,a,s[1]):new jt(n,o,a)}function qt(t){for(var e=0,n=Gt.length;e<n;e++){var r=Gt[e],i=r[0],o=r[1],a=o.exec(t);if(a)return i}return null}function Xt(){var t="undefined"!==typeof process&&process.version;return t?new Nt(process.version.slice(1)):null}function Kt(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Zt="undefined"!==typeof Float32Array?Float32Array:Array;function Qt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],h=n[0],d=n[1],p=n[2],v=n[3],g=n[4],y=n[5],m=n[6],b=n[7],x=n[8];return t[0]=h*r+d*a+p*u,t[1]=h*i+d*s+p*c,t[2]=h*o+d*l+p*f,t[3]=v*r+g*a+y*u,t[4]=v*i+g*s+y*c,t[5]=v*o+g*l+y*f,t[6]=m*r+b*a+x*u,t[7]=m*i+b*s+x*c,t[8]=m*o+b*l+x*f,t}function Jt(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function te(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function ee(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function ne(){var t=new Zt(3);return Zt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function re(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function ie(){var t=new Zt(2);return Zt!=Float32Array&&(t[0]=0,t[1]=0),t}function oe(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function ae(t,e){return t[0]*e[0]+t[1]*e[1]}function se(t,e){return t[0]===e[0]&&t[1]===e[1]}function le(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return Jt(r,n),Qt(t,r,e)}function ue(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return te(r,n),Qt(t,r,e)}function ce(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return ee(r,n),Qt(t,r,e)}function fe(t,e,n){return Qt(t,n,e)}function he(t,e){for(var n=t?[].concat(t):[1,0,0,0,1,0,0,0,1],r=0,i=e.length;r<i;r++){var o=e[r];switch(o[0]){case"t":le(n,n,[o[1],o[2]]);break;case"s":ce(n,n,[o[1],o[2]]);break;case"r":ue(n,n,o[1]);break;case"m":fe(n,n,o[1]);break}}return n}function de(t,e){var n=[],r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],h=e[0],d=e[1],p=e[2],v=e[3],g=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return n[0]=h*r+d*a+p*u,n[1]=h*i+d*s+p*c,n[2]=h*o+d*l+p*f,n[3]=v*r+g*a+y*u,n[4]=v*i+g*s+y*c,n[5]=v*o+g*l+y*f,n[6]=m*r+b*a+x*u,n[7]=m*i+b*s+x*c,n[8]=m*o+b*l+x*f,n}function pe(t,e){var n=[],r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n}function ve(t){var e=[],n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=c*a-s*u,h=-c*o+s*l,d=u*o-a*l,p=n*f+r*h+i*d;return p?(p=1/p,e[0]=f*p,e[1]=(-c*r+i*u)*p,e[2]=(s*r-i*a)*p,e[3]=h*p,e[4]=(c*n-i*l)*p,e[5]=(-s*n+i*o)*p,e[6]=d*p,e[7]=(-u*n+r*l)*p,e[8]=(a*n-r*o)*p,e):null}Math.hypot||(Math.hypot=function(){var t=0,e=arguments.length;while(e--)t+=arguments[e]*arguments[e];return Math.sqrt(t)}),function(){var t=ne()}(),function(){var t=ie()}();var ge=he,ye="matrix",me=["zIndex","capture","visible","type"],be=["repeat"],xe=":",we="*";function _e(t){for(var e=[],n=0;n<t.length;n++)d(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}function Oe(t,e){var n={},r=e.attrs;for(var i in t)n[i]=r[i];return n}function Ce(t,e){var n={},r=e.attr();return v(t,(function(t,e){-1!==be.indexOf(e)||j(r[e],t)||(n[e]=t)})),n}function Se(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,i=e.duration,o=Object.prototype.hasOwnProperty;return v(t,(function(t){n+r<t.startTime+t.delay+t.duration&&i>t.delay&&v(e.toAttrs,(function(e,n){o.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}var Ee=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var r=n.getDefaultAttrs();return P(r,e.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return Et(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=e[1];if(!r)return this.attrs;if(p(r)){for(var o in r)this.setAttr(o,r[o]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,i),this.afterAttrsChange((t={},t[r]=i,t)),this):this.attrs[r]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren();this.get("el");var n=e.indexOf(this);e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren();this.get("el");var n=e.indexOf(this);e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(Tt(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(ye,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(ye)},e.prototype.setMatrix=function(t){this.attr(ye,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),n=this.cfg.parentMatrix;t=n&&e?de(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?de(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?pe(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var n=ve(e);if(n)return pe(n,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var r=this.getShapeBase(),i=k(t.type),o=r[i];o&&(n=new o({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};v(e,(function(t,r){d(e[r])?n[r]=_e(e[r]):n[r]=e[r]}));var r=this.constructor,i=new r({attrs:n});return v(me,(function(e){i.set(e,t.get(e))})),i},e.prototype.destroy=function(){var e=this.destroyed;e||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var i,o,a,s,l,u=t[0],c=t[1],h=t[2],d=void 0===h?"easeLinear":h,v=t[3],g=void 0===v?D:v,y=t[4],m=void 0===y?0:y;f(u)?(i=u,u={}):p(u)&&u.onFrame&&(i=u.onFrame,o=u.repeat),p(c)?(l=c,c=l.duration,d=l.easing||"easeLinear",m=l.delay||0,o=l.repeat||o||!1,g=l.callback||D,a=l.pauseCallback||D,s=l.resumeCallback||D):(x(g)&&(m=g,g=null),f(d)?(g=d,d="easeLinear"):d=d||"easeLinear");var b=Ce(u,this),w={fromAttrs:Oe(b,this),toAttrs:b,duration:c,easing:d,repeat:o,callback:g,pauseCallback:a,resumeCallback:s,delay:m,startTime:n.getTime(),id:B(),onFrame:i,pathFormatted:!1};r.length>0?r=Se(r,w):n.addAnimator(this),r.push(w),this.set("animations",r),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");v(n,(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return v(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline"),e=t.getTime(),n=this.get("animations"),r=this.get("_pause").pauseTime;return v(n,(function(t){t.startTime=t.startTime+(e-r),t._paused=!1,t._pauseTime=null,t.resumeCallback&&t.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",n),this},e.prototype.emitDelegation=function(t,e){var n,r=this,i=e.propagationPath;this.getEvents(),"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var o=function(t){var o=i[t],s=o.get("name");if(s){if((o.isGroup()||o.isCanvas&&o.isCanvas())&&n&&Lt(o,n))return"break";d(s)?v(s,(function(t){r.emitDelegateEvent(o,t,e)})):a.emitDelegateEvent(o,s,e)}},a=this,s=0;s<i.length;s++){var l=o(s);if("break"===l)break}},e.prototype.emitDelegateEvent=function(t,e,n){var r=this.getEvents(),i=e+xe+n.type;(r[i]||r[we])&&(n.name=i,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(i,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=ge(n,[["t",t,e]]);return this.setMatrix(r),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(t-n,e-r),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),r=ge(n,[["s",t,e||t]]);return this.setMatrix(r),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=ge(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,i=this.getMatrix(),o=ge(i,[["t",-n,-r],["r",t],["t",n,r]]);return this.setMatrix(o),this},e.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),i=ge(r,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(i),this},e}(Rt),Me={},ke="_INDEX";function Te(t,e){if(t.set("canvas",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){Te(t,e)}))}}function Ae(t,e){if(t.set("timeline",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){Ae(t,e)}))}}function Le(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set("parent",null),e.set("canvas",null)),Tt(t.getChildren(),e)}function Pe(t){return function(e,n){var r=t(e,n);return 0===r?e[ke]-n[ke]:r}}var Re,Ie,je=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Et(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));a.length>0?(v(a,(function(t){var e=t.getBBox();i.push(e.minX,e.maxX),o.push(e.minY,e.maxY)})),t=m(i),e=y(i),n=m(o),r=y(o)):(t=0,e=0,n=0,r=0);var s={x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n};return s},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));a.length>0?(v(a,(function(t){var e=t.getCanvasBBox();i.push(e.minX,e.maxX),o.push(e.minY,e.maxY)})),t=m(i),e=y(i),n=m(o),r=y(o)):(t=0,e=0,n=0,r=0);var s={x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n};return s},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e["children"]=[],e},e.prototype.onAttrChange=function(e,n,r){if(t.prototype.onAttrChange.call(this,e,n,r),"matrix"===e){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();v(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];p(n)?r=n:r["type"]=n;var i=Me[r.type];i||(i=k(r.type),Me[r.type]=i);var o=this.getShapeBase(),a=new o[i](r);return this.add(a),a},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[0],i=t[1];if(f(r))n=new r(i||{parent:this});else{var o=r||{},a=this.getGroupBase();n=new a(o)}return this.add(n),n},e.prototype.getCanvas=function(){var t;return t=this.isCanvas()?this:this.get("canvas"),t},e.prototype.getShape=function(t,e,n){if(!Pt(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,t,e,n);else{var o=[t,e,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(r=this._findShape(i,o[0],o[1],n))}return r},e.prototype._findShape=function(t,e,n,r){for(var i=null,o=t.length-1;o>=0;o--){var a=t[o];if(Pt(a)&&(a.isGroup()?i=a.getShape(e,n,r):a.isHit(e,n)&&(i=a)),i)break}return i},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=t.getParent();i&&Le(i,t,!1),t.set("parent",this),e&&Te(t,e),r&&Ae(t,r),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t=this.getChildren();v(t,(function(t,e){return t[ke]=e,t})),t.sort(Pe((function(t,e){return t.get("zIndex")-e.get("zIndex")}))),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){var e=this.getChildren();return e[t]},e.prototype.getCount=function(){var t=this.getChildren();return t.length},e.prototype.contain=function(t){var e=this.getChildren();return e.indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return v(n,(function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))})),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return v(n,(function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get("name")===t}))},e}(Ee),Ne=0,Be=0,De=0,Fe=1e3,ze=0,We=0,He=0,$e="object"===typeof performance&&performance.now?performance:Date,Ge="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ve(){return We||(Ge(Ue),We=$e.now()+He)}function Ue(){We=0}function Ye(){this._call=this._time=this._next=null}function qe(t,e,n){var r=new Ye;return r.restart(t,e,n),r}function Xe(){Ve(),++Ne;var t,e=Re;while(e)(t=We-e._time)>=0&&e._call.call(null,t),e=e._next;--Ne}function Ke(){We=(ze=$e.now())+He,Ne=Be=0;try{Xe()}finally{Ne=0,Qe(),We=0}}function Ze(){var t=$e.now(),e=t-ze;e>Fe&&(He-=e,ze=t)}function Qe(){var t,e,n=Re,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Re=e);Ie=t,Je(r)}function Je(t){if(!Ne){Be&&(Be=clearTimeout(Be));var e=t-We;e>24?(t<1/0&&(Be=setTimeout(Ke,t-$e.now()-He)),De&&(De=clearInterval(De))):(De||(ze=$e.now(),De=setInterval(Ze,Fe)),Ne=1,Ge(Ke))}}function tn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function en(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function nn(){}Ye.prototype=qe.prototype={constructor:Ye,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?Ve():+n)+(null==e?0:+e),this._next||Ie===this||(Ie?Ie._next=this:Re=this,Ie=this),this._call=t,this._time=n,Je()},stop:function(){this._call&&(this._call=null,this._time=1/0,Je())}};var rn=.7,on=1/rn,an="\\s*([+-]?\\d+)\\s*",sn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ln="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",un=/^#([0-9a-f]{3,8})$/,cn=new RegExp("^rgb\\("+[an,an,an]+"\\)$"),fn=new RegExp("^rgb\\("+[ln,ln,ln]+"\\)$"),hn=new RegExp("^rgba\\("+[an,an,an,sn]+"\\)$"),dn=new RegExp("^rgba\\("+[ln,ln,ln,sn]+"\\)$"),pn=new RegExp("^hsl\\("+[sn,ln,ln]+"\\)$"),vn=new RegExp("^hsla\\("+[sn,ln,ln,sn]+"\\)$"),gn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function yn(){return this.rgb().formatHex()}function mn(){return An(this).formatHsl()}function bn(){return this.rgb().formatRgb()}function xn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=un.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?wn(e):3===n?new Sn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?_n(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?_n(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=cn.exec(t))?new Sn(e[1],e[2],e[3],1):(e=fn.exec(t))?new Sn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=hn.exec(t))?_n(e[1],e[2],e[3],e[4]):(e=dn.exec(t))?_n(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=pn.exec(t))?Tn(e[1],e[2]/100,e[3]/100,1):(e=vn.exec(t))?Tn(e[1],e[2]/100,e[3]/100,e[4]):gn.hasOwnProperty(t)?wn(gn[t]):"transparent"===t?new Sn(NaN,NaN,NaN,0):null}function wn(t){return new Sn(t>>16&255,t>>8&255,255&t,1)}function _n(t,e,n,r){return r<=0&&(t=e=n=NaN),new Sn(t,e,n,r)}function On(t){return t instanceof nn||(t=xn(t)),t?(t=t.rgb(),new Sn(t.r,t.g,t.b,t.opacity)):new Sn}function Cn(t,e,n,r){return 1===arguments.length?On(t):new Sn(t,e,n,null==r?1:r)}function Sn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function En(){return"#"+kn(this.r)+kn(this.g)+kn(this.b)}function Mn(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function kn(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Tn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Pn(t,e,n,r)}function An(t){if(t instanceof Pn)return new Pn(t.h,t.s,t.l,t.opacity);if(t instanceof nn||(t=xn(t)),!t)return new Pn;if(t instanceof Pn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Pn(a,s,l,t.opacity)}function Ln(t,e,n,r){return 1===arguments.length?An(t):new Pn(t,e,n,null==r?1:r)}function Pn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Rn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function In(t){return function(){return t}}function jn(t,e){return function(n){return t+n*e}}function Nn(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Bn(t){return 1===(t=+t)?Dn:function(e,n){return n-e?Nn(e,n,t):In(isNaN(e)?n:e)}}function Dn(t,e){var n=e-t;return n?jn(t,n):In(isNaN(t)?e:t)}tn(nn,xn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:yn,formatHex:yn,formatHsl:mn,formatRgb:bn,toString:bn}),tn(Sn,Cn,en(nn,{brighter:function(t){return t=null==t?on:Math.pow(on,t),new Sn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?rn:Math.pow(rn,t),new Sn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:En,formatHex:En,formatRgb:Mn,toString:Mn})),tn(Pn,Ln,en(nn,{brighter:function(t){return t=null==t?on:Math.pow(on,t),new Pn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?rn:Math.pow(rn,t),new Pn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Sn(Rn(t>=240?t-240:t+120,i,r),Rn(t,i,r),Rn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Fn=function t(e){var n=Bn(e);function r(t,e){var r=n((t=Cn(t)).r,(e=Cn(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Dn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function zn(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Wn(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Hn(t,e){return(Wn(e)?zn:$n)(t,e)}function $n(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Qn(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Gn(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Vn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Un(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=Qn(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Yn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qn=new RegExp(Yn.source,"g");function Xn(t){return function(){return t}}function Kn(t){return function(e){return t(e)+""}}function Zn(t,e){var n,r,i,o=Yn.lastIndex=qn.lastIndex=0,a=-1,s=[],l=[];t+="",e+="";while((n=Yn.exec(t))&&(r=qn.exec(e)))(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Vn(n,r)})),o=qn.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?Kn(l[0].x):Xn(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function Qn(t,e){var n,r=typeof e;return null==e||"boolean"===r?In(e):("number"===r?Vn:"string"===r?(n=xn(e))?(e=n,Fn):Zn:e instanceof xn?Fn:e instanceof Date?Gn:Wn(e)?zn:Array.isArray(e)?$n:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?Un:Vn)(t,e)}function Jn(t){return+t}function tr(t){return t*t}function er(t){return t*(2-t)}function nr(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function rr(t){return t*t*t}function ir(t){return--t*t*t+1}function or(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ar=3,sr=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(ar),lr=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(ar),ur=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(ar),cr=Math.PI,fr=cr/2;function hr(t){return 1===+t?1:1-Math.cos(t*fr)}function dr(t){return Math.sin(t*fr)}function pr(t){return(1-Math.cos(cr*t))/2}function vr(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function gr(t){return vr(1-+t)}function yr(t){return 1-vr(t)}function mr(t){return((t*=2)<=1?vr(1-t):2-vr(t-1))/2}function br(t){return 1-Math.sqrt(1-t*t)}function xr(t){return Math.sqrt(1- --t*t)}function wr(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var _r=4/11,Or=6/11,Cr=8/11,Sr=3/4,Er=9/11,Mr=10/11,kr=15/16,Tr=21/22,Ar=63/64,Lr=1/_r/_r;function Pr(t){return 1-Rr(1-t)}function Rr(t){return(t=+t)<_r?Lr*t*t:t<Cr?Lr*(t-=Or)*t+Sr:t<Mr?Lr*(t-=Er)*t+kr:Lr*(t-=Tr)*t+Ar}function Ir(t){return((t*=2)<=1?1-Rr(1-t):Rr(t-1)+1)/2}var jr=1.70158,Nr=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(jr),Br=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(jr),Dr=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(jr),Fr=2*Math.PI,zr=1,Wr=.3,Hr=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Fr);function i(t){return e*vr(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*Fr)},i.period=function(n){return t(e,n)},i}(zr,Wr),$r=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Fr);function i(t){return 1-e*vr(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*Fr)},i.period=function(n){return t(e,n)},i}(zr,Wr),Gr=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Fr);function i(t){return((t=2*t-1)<0?e*vr(-t)*Math.sin((r-t)/n):2-e*vr(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*Fr)},i.period=function(n){return t(e,n)},i}(zr,Wr),Vr=Object.freeze({__proto__:null,easeLinear:Jn,easeQuad:nr,easeQuadIn:tr,easeQuadOut:er,easeQuadInOut:nr,easeCubic:or,easeCubicIn:rr,easeCubicOut:ir,easeCubicInOut:or,easePoly:ur,easePolyIn:sr,easePolyOut:lr,easePolyInOut:ur,easeSin:pr,easeSinIn:hr,easeSinOut:dr,easeSinInOut:pr,easeExp:mr,easeExpIn:gr,easeExpOut:yr,easeExpInOut:mr,easeCircle:wr,easeCircleIn:br,easeCircleOut:xr,easeCircleInOut:wr,easeBounce:Rr,easeBounceIn:Pr,easeBounceOut:Rr,easeBounceInOut:Ir,easeBack:Dr,easeBackIn:Nr,easeBackOut:Br,easeBackInOut:Dr,easeElastic:$r,easeElasticIn:Hr,easeElasticOut:$r,easeElasticInOut:Gr}),Ur={};function Yr(t){return Ur[t.toLowerCase()]||Vr[t]}var qr=function(t){return["fill","stroke","fillStyle","strokeStyle"].includes(t)},Xr=function(t){return/^[r,R,L,l]{1}[\s]*\(/.test(t)},Kr=[1,0,0,0,1,0,0,0,1];function Zr(t,e,n){var r={},i=e.fromAttrs,o=e.toAttrs;if(!t.destroyed){var a;for(var s in o)if(!j(i[s],o[s]))if("path"===s){var l=o[s],u=i[s];l.length>u.length?(l=$(o[s]),u=$(i[s]),u=bt(u,l),u=_t(u,l),e.fromAttrs.path=u,e.toAttrs.path=l):e.pathFormatted||(l=$(o[s]),u=$(i[s]),u=_t(u,l),e.fromAttrs.path=u,e.toAttrs.path=l,e.pathFormatted=!0),r[s]=[];for(var c=0;c<l.length;c++){for(var h=l[c],d=u[c],p=[],v=0;v<h.length;v++)x(h[v])&&d&&x(d[v])?(a=Qn(d[v],h[v]),p.push(a(n))):p.push(h[v]);r[s].push(p)}}else if("matrix"===s){var g=Hn(i[s]||Kr,o[s]||Kr),y=g(n);r[s]=y}else qr(s)&&Xr(o[s])?r[s]=o[s]:f(o[s])||(a=Qn(i[s],o[s]),r[s]=a(n));t.attr(r)}}function Qr(t,e,n){var r,i=e.startTime,o=e.delay;if(n<i+o||e._paused)return!1;var a=e.duration,s=e.easing,l=Yr(s);if(n=n-i-e.delay,e.repeat)r=n%a/a,r=l(r);else{if(r=n/a,!(r<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;r=l(r)}if(e.onFrame){var u=e.onFrame(r);t.attr(u)}else Zr(t,e,r);return!1}var Jr=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,r=this,i=!1;this.timer=qe((function(o){if(r.current=o,r.animators.length>0){for(var a=r.animators.length-1;a>=0;a--)if(t=r.animators[a],t.destroyed)r.removeAnimator(a);else{if(!t.isAnimatePaused()){e=t.get("animations");for(var s=e.length-1;s>=0;s--)n=e[s],i=Qr(t,n,o),i&&(e.splice(s,1),i=!1,n.callback&&n.callback())}0===e.length&&r.removeAnimator(a)}var l=r.canvas.get("autoDraw");l||r.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),ti=40,ei=0,ni=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function ri(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function ii(t,e,n){if(n.bubbles){var r=void 0,i=!1;if("mouseenter"===e?(r=n.fromShape,i=!0):"mouseleave"===e&&(i=!0,r=n.toShape),t.isCanvas()&&i)return;if(r&&Lt(t,r))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var oi=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){var n=e.canvas,r=n.get("el");if(r!==t.target&&(e.dragging||e.currentShape)){var i=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,i,e.draggingShape)}},this._onDocumentMouseUp=function(t){var n=e.canvas,r=n.get("el");if(r!==t.target&&e.dragging){var i=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,i,null),e._emitEvent("dragend",t,i,e.draggingShape),e._afterDrag(e.draggingShape,i,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");v(ni,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");v(ni,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,r,i,o){var a=new Ct(t,e);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),r=e.getPointByEvent(t);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),i=this["_on"+t],o=!1;if(i)i.call(this,n,r,e);else{var a=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(o=!0,a&&this._emitEvent(t,e,n,a,a,null),this._emitEvent(t,e,n,null,a,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)}if(o||(this.currentShape=r),r&&!r.get("destroyed")){var s=this.canvas,l=s.get("el");l.style.cursor=r.attr("cursor")||s.get("cursor")}},t.prototype._onmousedown=function(t,e,n){n.button===ei&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",t,e,n,n,r),this._emitEvent("mouseleave",t,e,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",t,e,r,n,r),this._emitEvent("mouseenter",t,e,r,n,r)))},t.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),i||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),i&&this._emitEvent("dragover",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},t.prototype._onmouseup=function(t,e,n){if(n.button===ei){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},t.prototype._onmousemove=function(t,e,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,i,e,!1),this._emitEvent("drag",n,t,o);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,l=n.timeStamp,u=l-this.mousedownTimeStamp,c=a.clientX-t.clientX,f=a.clientY-t.clientY,h=c*c+f*f;u>120||h>ti?s&&s.get("draggable")?(o=this.mousedownShape,o.set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,r,i,o){var a=this._getEventObj(t,e,n,r,i,o);if(r){a.shape=r,ri(r,t,a);var s=r.getParent();while(s)s.emitDelegation(t,a),a.propagationStopped||ii(s,t,a),a.propagationPath.push(s),s=s.getParent()}else{var l=this.canvas;ri(l,t,a)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),ai="px",si=Vt(),li=si&&"firefox"===si.name,ui=function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return Et(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e["cursor"]="default",e["supportCSSTransform"]=!1,e},e.prototype.initContainer=function(){var t=this.get("container");b(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t);var e=this.get("container");e.appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new oi({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new Jr(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");At&&(n.style.width=t+ai,n.style.height=e+ai)},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");At&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){var e=this.get("supportCSSTransform");if(e){if(li&&!h(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!h(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var n=this.getClientByEvent(t),r=n.x,i=n.y;return this.getPointByClient(r,i)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el"),r=n.getBoundingClientRect();return{x:t-r.left,y:e-r.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el"),r=n.getBoundingClientRect();return{x:t+r.left,y:e+r.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){var t=this.get("eventController");t.destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(je),ci=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Et(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];e.add(i.clone())}return e},e}(je),fi=function(t){function e(e){return t.call(this,e)||this}return Et(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,r=t.minY,i=t.maxX,o=t.maxY;if(e){var a=pe(e,[t.minX,t.minY]),s=pe(e,[t.maxX,t.minY]),l=pe(e,[t.minX,t.maxY]),u=pe(e,[t.maxX,t.maxY]);n=Math.min(a[0],s[0],l[0],u[0]),i=Math.max(a[0],s[0],l[0],u[0]),r=Math.min(a[1],s[1],l[1],u[1]),o=Math.max(a[1],s[1],l[1],u[1])}var c=this.attrs;if(c.shadowColor){var f=c.shadowBlur,h=void 0===f?0:f,d=c.shadowOffsetX,p=void 0===d?0:d,v=c.shadowOffsetY,g=void 0===v?0:v,y=n-h+p,m=i+h+p,b=r-h+g,x=o+h+g;n=Math.min(n,y),i=Math.max(i,m),r=Math.min(r,b),o=Math.max(o,x)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:o,width:i-n,height:o-r}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[t,e,1];i=this.invertFromMatrix(i);var o=i[0],a=i[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1},e}(Ee),hi=new Map;function di(t,e){hi.set(t,e)}function pi(t){return hi.get(t)}function vi(t){var e=t.attr(),n=e.x,r=e.y,i=e.width,o=e.height;return{x:n,y:r,width:i,height:o}}function gi(t){var e=t.attr(),n=e.x,r=e.y,i=e.r;return{x:n-i,y:r-i,width:2*i,height:2*i}}function yi(t){return Math.min.apply(null,t)}function mi(t){return Math.max.apply(null,t)}function bi(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function xi(t,e){return Math.abs(t-e)<.001}function wi(t,e){var n=yi(t),r=yi(e),i=mi(t),o=mi(e);return{x:n,y:r,width:i-n,height:o-r}}function _i(t){return(t+2*Math.PI)%(2*Math.PI)}var Oi={box:function(t,e,n,r){return wi([t,n],[e,r])},length:function(t,e,n,r){return bi(t,e,n,r)},pointAt:function(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}},pointDistance:function(t,e,n,r,i,o){var a=(n-t)*(i-t)+(r-e)*(o-e);if(a<0)return bi(t,e,i,o);var s=(n-t)*(n-t)+(r-e)*(r-e);return a>s?bi(n,r,i,o):this.pointToLine(t,e,n,r,i,o)},pointToLine:function(t,e,n,r,i,o){var a=[n-t,r-e];if(se(a,[0,0]))return Math.sqrt((i-t)*(i-t)+(o-e)*(o-e));var s=[-a[1],a[0]];oe(s,s);var l=[i-t,o-e];return Math.abs(ae(l,s))},tangentAngle:function(t,e,n,r){return Math.atan2(r-e,n-t)}},Ci=1e-4;function Si(t,e,n,r,i,o){var a,s=1/0,l=[n,r],u=20;o&&o>200&&(u=o/10);for(var c=1/u,f=c/10,h=0;h<=u;h++){var d=h*c,p=[i.apply(null,t.concat([d])),i.apply(null,e.concat([d]))],v=bi(l[0],l[1],p[0],p[1]);v<s&&(a=d,s=v)}if(0===a)return{x:t[0],y:e[0]};if(1===a){var g=t.length;return{x:t[g-1],y:e[g-1]}}s=1/0;for(h=0;h<32;h++){if(f<Ci)break;var y=a-f,m=a+f;p=[i.apply(null,t.concat([y])),i.apply(null,e.concat([y]))],v=bi(l[0],l[1],p[0],p[1]);if(y>=0&&v<s)a=y,s=v;else{var b=[i.apply(null,t.concat([m])),i.apply(null,e.concat([m]))],x=bi(l[0],l[1],b[0],b[1]);m<=1&&x<s?(a=m,s=x):f*=.5}}return{x:i.apply(null,t.concat([a])),y:i.apply(null,e.concat([a]))}}function Ei(t,e){for(var n=0,r=t.length,i=0;i<r;i++){var o=t[i],a=e[i],s=t[(i+1)%r],l=e[(i+1)%r];n+=bi(o,a,s,l)}return n/2}function Mi(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function ki(t,e,n){var r=t+n-2*e;if(xi(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}function Ti(t,e,n,r){return 2*(1-r)*(e-t)+2*r*(n-e)}function Ai(t,e,n,r,i,o,a){var s=Mi(t,n,i,a),l=Mi(e,r,o,a),u=Oi.pointAt(t,e,n,r,a),c=Oi.pointAt(n,r,i,o,a);return[[t,e,u.x,u.y,s,l],[s,l,c.x,c.y,i,o]]}function Li(t,e,n,r,i,o,a){if(0===a)return(bi(t,e,n,r)+bi(n,r,i,o)+bi(t,e,i,o))/2;var s=Ai(t,e,n,r,i,o,.5),l=s[0],u=s[1];return l.push(a-1),u.push(a-1),Li.apply(null,l)+Li.apply(null,u)}var Pi={box:function(t,e,n,r,i,o){var a=ki(t,n,i)[0],s=ki(e,r,o)[0],l=[t,i],u=[e,o];return void 0!==a&&l.push(Mi(t,n,i,a)),void 0!==s&&u.push(Mi(e,r,o,s)),wi(l,u)},length:function(t,e,n,r,i,o){return Li(t,e,n,r,i,o,3)},nearestPoint:function(t,e,n,r,i,o,a,s){return Si([t,n,i],[e,r,o],a,s,Mi)},pointDistance:function(t,e,n,r,i,o,a,s){var l=this.nearestPoint(t,e,n,r,i,o,a,s);return bi(l.x,l.y,a,s)},interpolationAt:Mi,pointAt:function(t,e,n,r,i,o,a){return{x:Mi(t,n,i,a),y:Mi(e,r,o,a)}},divide:function(t,e,n,r,i,o,a){return Ai(t,e,n,r,i,o,a)},tangentAngle:function(t,e,n,r,i,o,a){var s=Ti(t,n,i,a),l=Ti(e,r,o,a),u=Math.atan2(l,s);return _i(u)}};function Ri(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function Ii(t,e,n,r,i){var o=1-i;return 3*(o*o*(e-t)+2*o*i*(n-e)+i*i*(r-n))}function ji(t,e,n,r){var i,o,a,s=-3*t+9*e-9*n+3*r,l=6*t-12*e+6*n,u=3*e-3*t,c=[];if(xi(s,0))xi(l,0)||(i=-u/l,i>=0&&i<=1&&c.push(i));else{var f=l*l-4*s*u;xi(f,0)?c.push(-l/(2*s)):f>0&&(a=Math.sqrt(f),i=(-l+a)/(2*s),o=(-l-a)/(2*s),i>=0&&i<=1&&c.push(i),o>=0&&o<=1&&c.push(o))}return c}function Ni(t,e,n,r,i,o,a,s,l){var u=Ri(t,n,i,a,l),c=Ri(e,r,o,s,l),f=Oi.pointAt(t,e,n,r,l),h=Oi.pointAt(n,r,i,o,l),d=Oi.pointAt(i,o,a,s,l),p=Oi.pointAt(f.x,f.y,h.x,h.y,l),v=Oi.pointAt(h.x,h.y,d.x,d.y,l);return[[t,e,f.x,f.y,p.x,p.y,u,c],[u,c,v.x,v.y,d.x,d.y,a,s]]}function Bi(t,e,n,r,i,o,a,s,l){if(0===l)return Ei([t,n,i,a],[e,r,o,s]);var u=Ni(t,e,n,r,i,o,a,s,.5),c=u[0],f=u[1];return c.push(l-1),f.push(l-1),Bi.apply(null,c)+Bi.apply(null,f)}var Di={extrema:ji,box:function(t,e,n,r,i,o,a,s){for(var l=[t,a],u=[e,s],c=ji(t,n,i,a),f=ji(e,r,o,s),h=0;h<c.length;h++)l.push(Ri(t,n,i,a,c[h]));for(h=0;h<f.length;h++)u.push(Ri(e,r,o,s,f[h]));return wi(l,u)},length:function(t,e,n,r,i,o,a,s){return Bi(t,e,n,r,i,o,a,s,3)},nearestPoint:function(t,e,n,r,i,o,a,s,l,u,c){return Si([t,n,i,a],[e,r,o,s],l,u,Ri,c)},pointDistance:function(t,e,n,r,i,o,a,s,l,u,c){var f=this.nearestPoint(t,e,n,r,i,o,a,s,l,u,c);return bi(f.x,f.y,l,u)},interpolationAt:Ri,pointAt:function(t,e,n,r,i,o,a,s,l){return{x:Ri(t,n,i,a,l),y:Ri(e,r,o,s,l)}},divide:function(t,e,n,r,i,o,a,s,l){return Ni(t,e,n,r,i,o,a,s,l)},tangentAngle:function(t,e,n,r,i,o,a,s,l){var u=Ii(t,n,i,a,l),c=Ii(e,r,o,s,l);return _i(Math.atan2(c,u))}};function Fi(t,e){var n=Math.abs(t);return e>0?n:-1*n}var zi={box:function(t,e,n,r){return{x:t-n,y:e-r,width:2*n,height:2*r}},length:function(t,e,n,r){return Math.PI*(3*(n+r)-Math.sqrt((3*n+r)*(n+3*r)))},nearestPoint:function(t,e,n,r,i,o){var a=n,s=r;if(0===a||0===s)return{x:t,y:e};for(var l,u,c=i-t,f=o-e,h=Math.abs(c),d=Math.abs(f),p=a*a,v=s*s,g=Math.PI/4,y=0;y<4;y++){l=a*Math.cos(g),u=s*Math.sin(g);var m=(p-v)*Math.pow(Math.cos(g),3)/a,b=(v-p)*Math.pow(Math.sin(g),3)/s,x=l-m,w=u-b,_=h-m,O=d-b,C=Math.hypot(w,x),S=Math.hypot(O,_),E=C*Math.asin((x*O-w*_)/(C*S)),M=E/Math.sqrt(p+v-l*l-u*u);g+=M,g=Math.min(Math.PI/2,Math.max(0,g))}return{x:t+Fi(l,c),y:e+Fi(u,f)}},pointDistance:function(t,e,n,r,i,o){var a=this.nearestPoint(t,e,n,r,i,o);return bi(a.x,a.y,i,o)},pointAt:function(t,e,n,r,i){var o=2*Math.PI*i;return{x:t+n*Math.cos(o),y:e+r*Math.sin(o)}},tangentAngle:function(t,e,n,r,i){var o=2*Math.PI*i,a=Math.atan2(r*Math.cos(o),-n*Math.sin(o));return _i(a)}};function Wi(t,e,n,r,i,o,a,s){return-1*n*Math.cos(i)*Math.sin(s)-r*Math.sin(i)*Math.cos(s)}function Hi(t,e,n,r,i,o,a,s){return-1*n*Math.sin(i)*Math.sin(s)+r*Math.cos(i)*Math.cos(s)}function $i(t,e,n){return Math.atan(-e/t*Math.tan(n))}function Gi(t,e,n){return Math.atan(e/(t*Math.tan(n)))}function Vi(t,e,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+t}function Ui(t,e,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+e}function Yi(t,e,n,r){var i=Math.atan2(r*t,n*e);return(i+2*Math.PI)%(2*Math.PI)}function qi(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function Xi(t,e,n){var r=Math.cos(n),i=Math.sin(n);return[t*r-e*i,t*i+e*r]}var Ki={box:function(t,e,n,r,i,o,a){for(var s=$i(n,r,i),l=1/0,u=-1/0,c=[o,a],f=2*-Math.PI;f<=2*Math.PI;f+=Math.PI){var h=s+f;o<a?o<h&&h<a&&c.push(h):a<h&&h<o&&c.push(h)}for(f=0;f<c.length;f++){var d=Vi(t,e,n,r,i,c[f]);d<l&&(l=d),d>u&&(u=d)}var p=Gi(n,r,i),v=1/0,g=-1/0,y=[o,a];for(f=2*-Math.PI;f<=2*Math.PI;f+=Math.PI){var m=p+f;o<a?o<m&&m<a&&y.push(m):a<m&&m<o&&y.push(m)}for(f=0;f<y.length;f++){var b=Ui(t,e,n,r,i,y[f]);b<v&&(v=b),b>g&&(g=b)}return{x:l,y:v,width:u-l,height:g-v}},length:function(t,e,n,r,i,o,a){},nearestPoint:function(t,e,n,r,i,o,a,s,l){var u=Xi(s-t,l-e,-i),c=u[0],f=u[1],h=zi.nearestPoint(0,0,n,r,c,f),d=Yi(n,r,h.x,h.y);d<o?h=qi(n,r,o):d>a&&(h=qi(n,r,a));var p=Xi(h.x,h.y,i);return{x:p[0]+t,y:p[1]+e}},pointDistance:function(t,e,n,r,i,o,a,s,l){var u=this.nearestPoint(t,e,n,r,s,l);return bi(u.x,u.y,s,l)},pointAt:function(t,e,n,r,i,o,a,s){var l=(a-o)*s+o;return{x:Vi(t,e,n,r,i,l),y:Ui(t,e,n,r,i,l)}},tangentAngle:function(t,e,n,r,i,o,a,s){var l=(a-o)*s+o,u=Wi(t,e,n,r,i,o,a,l),c=Hi(t,e,n,r,i,o,a,l);return _i(Math.atan2(c,u))}};function Zi(t){for(var e=0,n=[],r=0;r<t.length-1;r++){var i=t[r],o=t[r+1],a=bi(i[0],i[1],o[0],o[1]),s={from:i,to:o,length:a};n.push(s),e+=a}return{segments:n,totalLength:e}}function Qi(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=bi(r[0],r[1],i[0],i[1])}return e}function Ji(t,e){if(e>1||e<0||t.length<2)return null;var n=Zi(t),r=n.segments,i=n.totalLength;if(0===i)return{x:t[0][0],y:t[0][1]};for(var o=0,a=null,s=0;s<r.length;s++){var l=r[s],u=l.from,c=l.to,f=l.length/i;if(e>=o&&e<=o+f){var h=(e-o)/f;a=Oi.pointAt(u[0],u[1],c[0],c[1],h);break}o+=f}return a}function to(t,e){if(e>1||e<0||t.length<2)return 0;for(var n=Zi(t),r=n.segments,i=n.totalLength,o=0,a=0,s=0;s<r.length;s++){var l=r[s],u=l.from,c=l.to,f=l.length/i;if(e>=o&&e<=o+f){a=Math.atan2(c[1]-u[1],c[0]-u[0]);break}o+=f}return a}function eo(t,e,n){for(var r=1/0,i=0;i<t.length-1;i++){var o=t[i],a=t[i+1],s=Oi.pointDistance(o[0],o[1],a[0],a[1],e,n);s<r&&(r=s)}return r}var no={box:function(t){for(var e=[],n=[],r=0;r<t.length;r++){var i=t[r];e.push(i[0]),n.push(i[1])}return wi(e,n)},length:function(t){return Qi(t)},pointAt:function(t,e){return Ji(t,e)},pointDistance:function(t,e,n){return eo(t,e,n)},tangentAngle:function(t,e){return to(t,e)}};function ro(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function io(t,e){var n=t.get("startArrowShape"),r=t.get("endArrowShape"),i=null,o=null;return n&&(i=n.getCanvasBBox(),e=ro(e,i)),r&&(o=r.getCanvasBBox(),e=ro(e,o)),e}function oo(t){for(var e=t.attr(),n=e.points,r=[],i=[],o=0;o<n.length;o++){var a=n[o];r.push(a[0]),i.push(a[1])}var s=wi(r,i),l=s.x,u=s.y,c=s.width,f=s.height,h={minX:l,minY:u,maxX:l+c,maxY:u+f};return h=io(t,h),{x:h.minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}}function ao(t){for(var e=t.attr(),n=e.points,r=[],i=[],o=0;o<n.length;o++){var a=n[o];r.push(a[0]),i.push(a[1])}return wi(r,i)}var so=null;function lo(){if(!so){var t=document.createElement("canvas");t.width=1,t.height=1,so=t.getContext("2d")}return so}function uo(t,e,n){var r=1;if(b(t)&&(r=t.split("\n").length),r>1){var i=co(e,n);return e*r+i*(r-1)}return e}function co(t,e){return e?e-t:.14*t}function fo(t,e){var n=lo(),r=0;if(h(t)||""===t)return r;if(n.save(),n.font=e,b(t)&&t.includes("\n")){var i=t.split("\n");v(i,(function(t){var e=n.measureText(t).width;r<e&&(r=e)}))}else r=n.measureText(t).width;return n.restore(),r}function ho(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight,i=t.fontStyle,o=t.fontVariant;return[i,o,r,e+"px",n].join(" ").trim()}function po(t){var e=t.attr(),n=e.x,r=e.y,i=e.text,o=e.fontSize,a=e.lineHeight,s=e.font;s||(s=ho(e));var l,u=fo(i,s);if(u){var c=e.textAlign,f=e.textBaseline,h=uo(i,o,a),d={x:n,y:r-h};c&&("end"===c||"right"===c?d.x-=u:"center"===c&&(d.x-=u/2)),f&&("top"===f?d.y+=h:"middle"===f&&(d.y+=h/2)),l={x:d.x,y:d.y,width:u,height:h}}else l={x:n,y:r,width:0,height:0};return l}var vo=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,go=/[^\s\,]+/gi;function yo(t){var e=t||[];return d(e)?e:b(e)?(e=e.match(vo),v(e,(function(t,n){if(t=t.match(go),t[0].length>1){var r=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=r}v(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0}var mo="\t\n\v\f\r \u2028\u2029",bo=new RegExp("([a-z])["+mo+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+mo+"]*,?["+mo+"]*)+)","ig"),xo=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+mo+"]*,?["+mo+"]*","ig");function wo(t){if(!t)return null;if(d(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(bo,(function(t,r,i){var o=[],a=r.toLowerCase();if(i.replace(xo,(function(t,e){e&&o.push(+e)})),"m"===a&&o.length>2&&(n.push([r].concat(o.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===o.length&&n.push([r,o[0]]),"r"===a)n.push([r].concat(o));else while(o.length>=e[a])if(n.push([r].concat(o.splice(0,e[a]))),!e[a])break;return""})),n}var _o=/[a-z]/;function Oo(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function Co(t){var e=wo(t);if(!e||!e.length)return[["M",0,0]];for(var n=!1,r=0;r<e.length;r++){var i=e[r][0];if(_o.test(i)||["V","H","T","S"].indexOf(i)>=0){n=!0;break}}if(!n)return e;var o=[],a=0,s=0,l=0,u=0,c=0,f=e[0];"M"!==f[0]&&"m"!==f[0]||(a=+f[1],s=+f[2],l=a,u=s,c++,o[0]=["M",a,s]);r=c;for(var h=e.length;r<h;r++){var d=e[r],p=o[r-1],v=[],g=(i=d[0],i.toUpperCase());if(i!==g)switch(v[0]=g,g){case"A":v[1]=d[1],v[2]=d[2],v[3]=d[3],v[4]=d[4],v[5]=d[5],v[6]=+d[6]+a,v[7]=+d[7]+s;break;case"V":v[1]=+d[1]+s;break;case"H":v[1]=+d[1]+a;break;case"M":l=+d[1]+a,u=+d[2]+s,v[1]=l,v[2]=u;break;default:for(var y=1,m=d.length;y<m;y++)v[y]=+d[y]+(y%2?a:s)}else v=e[r];switch(g){case"Z":a=+l,s=+u;break;case"H":a=v[1],v=["L",a,s];break;case"V":s=v[1],v=["L",a,s];break;case"T":a=v[1],s=v[2];var b=Oo([p[1],p[2]],[p[3],p[4]]);v=["Q",b[0],b[1],a,s];break;case"S":a=v[v.length-2],s=v[v.length-1];var x=p.length,w=Oo([p[x-4],p[x-3]],[p[x-2],p[x-1]]);v=["C",w[0],w[1],v[1],v[2],a,s];break;case"M":l=v[v.length-2],u=v[v.length-1];break;default:a=v[v.length-2],s=v[v.length-1]}o.push(v)}return o}function So(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Eo(t,e){return So(t)*So(e)?(t[0]*e[0]+t[1]*e[1])/(So(t)*So(e)):1}function Mo(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Eo(t,e))}function ko(t,e){return t[0]===e[0]&&t[1]===e[1]}function To(t,e){var n=e[1],r=e[2],i=O(S(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],l=t[1],u=e[6],c=e[7],f=Math.cos(i)*(s-u)/2+Math.sin(i)*(l-c)/2,h=-1*Math.sin(i)*(s-u)/2+Math.cos(i)*(l-c)/2,d=f*f/(n*n)+h*h/(r*r);d>1&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var p=n*n*(h*h)+r*r*(f*f),v=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*n*h/r:0,y=n?v*-r*f/n:0,m=(s+u)/2+Math.cos(i)*g-Math.sin(i)*y,b=(l+c)/2+Math.sin(i)*g+Math.cos(i)*y,x=[(f-g)/n,(h-y)/r],w=[(-1*f-g)/n,(-1*h-y)/r],_=Mo([1,0],x),C=Mo(x,w);return Eo(x,w)<=-1&&(C=Math.PI),Eo(x,w)>=1&&(C=0),0===a&&C>0&&(C-=2*Math.PI),1===a&&C<0&&(C+=2*Math.PI),{cx:m,cy:b,rx:ko(t,[u,c])?0:n,ry:ko(t,[u,c])?0:r,startAngle:_,endAngle:_+C,xRotation:i,arcFlag:o,sweepFlag:a}}function Ao(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function Lo(t){t=yo(t);for(var e=[],n=null,r=null,i=null,o=0,a=t.length,s=0;s<a;s++){var l=t[s];r=t[s+1];var u=l[0],c={command:u,prePoint:n,params:l,startTangent:null,endTangent:null};switch(u){case"M":i=[l[1],l[2]],o=s;break;case"A":var f=To(n,l);c["arcParams"]=f;break}if("Z"===u)n=i,r=t[o+1];else{var h=l.length;n=[l[h-2],l[h-1]]}r&&"Z"===r[0]&&(r=t[o],e[o]&&(e[o].prePoint=n)),c["currentPoint"]=n,e[o]&&ko(n,e[o].currentPoint)&&(e[o].prePoint=c.prePoint);var d=r?[r[r.length-2],r[r.length-1]]:null;c["nextPoint"]=d;var p=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===u){var v=[l[1],l[2]];c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[n[0]-v[0],n[1]-v[1]]}else if("T"===u){var g=e[s-1];v=Ao(g.currentPoint,p);"Q"===g.command?(c.command="Q",c.startTangent=[p[0]-v[0],p[1]-v[1]],c.endTangent=[n[0]-v[0],n[1]-v[1]]):(c.command="TL",c.startTangent=[p[0]-n[0],p[1]-n[1]],c.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===u){var y=[l[1],l[2]],m=[l[3],l[4]];c.startTangent=[p[0]-y[0],p[1]-y[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]],0===c.startTangent[0]&&0===c.startTangent[1]&&(c.startTangent=[y[0]-m[0],y[1]-m[1]]),0===c.endTangent[0]&&0===c.endTangent[1]&&(c.endTangent=[m[0]-y[0],m[1]-y[1]])}else if("S"===u){g=e[s-1],y=Ao(g.currentPoint,p),m=[l[1],l[2]];"C"===g.command?(c.command="C",c.startTangent=[p[0]-y[0],p[1]-y[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]]):(c.command="SQ",c.startTangent=[p[0]-m[0],p[1]-m[1]],c.endTangent=[n[0]-m[0],n[1]-m[1]])}else if("A"===u){var b=.001,x=c["arcParams"]||{},w=x.cx,_=void 0===w?0:w,O=x.cy,C=void 0===O?0:O,S=x.rx,E=void 0===S?0:S,M=x.ry,k=void 0===M?0:M,T=x.sweepFlag,A=void 0===T?0:T,L=x.startAngle,P=void 0===L?0:L,R=x.endAngle,I=void 0===R?0:R;0===A&&(b*=-1);var j=E*Math.cos(P-b)+_,N=k*Math.sin(P-b)+C;c.startTangent=[j-i[0],N-i[1]];var B=E*Math.cos(P+I+b)+_,D=k*Math.sin(P+I-b)+C;c.endTangent=[p[0]-B,p[1]-D]}e.push(c)}return e}function Po(t,e){for(var n=[],r=[],i=[],o=0;o<t.length;o++){var a=t[o],s=a.currentPoint,l=a.params,u=a.prePoint,c=void 0;switch(a.command){case"Q":c=Pi.box(u[0],u[1],l[1],l[2],l[3],l[4]);break;case"C":c=Di.box(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var f=a.arcParams;c=Ki.box(f.cx,f.cy,f.rx,f.ry,f.xRotation,f.startAngle,f.endAngle);break;default:n.push(s[0]),r.push(s[1]);break}c&&(a.box=c,n.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height)),e&&("L"===a.command||"M"===a.command)&&a.prePoint&&a.nextPoint&&i.push(a)}n=n.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0})),r=r.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0}));var h=m(n),d=m(r),p=y(n),v=y(r);if(0===i.length)return{x:h,y:d,width:p-h,height:v-d};for(o=0;o<i.length;o++){a=i[o],s=a.currentPoint;var g=void 0;s[0]===h?(g=Ro(a,e),h-=g.xExtra):s[0]===p&&(g=Ro(a,e),p+=g.xExtra),s[1]===d?(g=Ro(a,e),d-=g.yExtra):s[1]===v&&(g=Ro(a,e),v+=g.yExtra)}return{x:h,y:d,width:p-h,height:v-d}}function Ro(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),l=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!l||0===Math.sin(l)||_(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),c=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));u=u>Math.PI/2?Math.PI-u:u,c=c>Math.PI/2?Math.PI-c:c;var f={xExtra:Math.cos(l/2-u)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(c-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0};return f}function Io(t){var e=t.attr(),n=e.path,r=e.stroke,i=r?e.lineWidth:0,o=t.get("segments")||Lo(n),a=Po(o,i),s=a.x,l=a.y,u=a.width,c=a.height,f={minX:s,minY:l,maxX:s+u,maxY:l+c};return f=io(t,f),{x:f.minX,y:f.minY,width:f.maxX-f.minX,height:f.maxY-f.minY}}function jo(t){var e=t.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=Math.min(n,i),s=Math.max(n,i),l=Math.min(r,o),u=Math.max(r,o),c={minX:a,maxX:s,minY:l,maxY:u};return c=io(t,c),{x:c.minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}}function No(t){var e=t.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}}function Bo(){return window?window.devicePixelRatio:1}function Do(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function Fo(t,e,n,r,i,o){return i>=t&&i<=t+n&&o>=e&&o<=e+r}function zo(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function Wo(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function Ho(t,e){return t[0]===e[0]&&t[1]===e[1]}di("rect",vi),di("image",vi),di("circle",gi),di("marker",gi),di("polyline",oo),di("polygon",ao),di("text",po),di("path",Io),di("line",jo),di("ellipse",No);var $o=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Go=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Vo=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Uo=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Yo(t,e){var n=t.match(Uo);v(n,(function(t){var n=t.split(":");e.addColorStop(n[0],n[1])}))}function qo(t,e,n){var r,i,o=$o.exec(n),a=parseFloat(o[1])%360*(Math.PI/180),s=o[2],l=e.getBBox();a>=0&&a<.5*Math.PI?(r={x:l.minX,y:l.minY},i={x:l.maxX,y:l.maxY}):.5*Math.PI<=a&&a<Math.PI?(r={x:l.maxX,y:l.minY},i={x:l.minX,y:l.maxY}):Math.PI<=a&&a<1.5*Math.PI?(r={x:l.maxX,y:l.maxY},i={x:l.minX,y:l.minY}):(r={x:l.minX,y:l.maxY},i={x:l.maxX,y:l.minY});var u=Math.tan(a),c=u*u,f=(i.x-r.x+u*(i.y-r.y))/(c+1)+r.x,h=u*(i.x-r.x+u*(i.y-r.y))/(c+1)+r.y,d=t.createLinearGradient(r.x,r.y,f,h);return Yo(s,d),d}function Xo(t,e,n){var r=Go.exec(n),i=parseFloat(r[1]),o=parseFloat(r[2]),a=parseFloat(r[3]),s=r[4];if(0===a){var l=s.match(Uo);return l[l.length-1].split(":")[1]}var u=e.getBBox(),c=u.maxX-u.minX,f=u.maxY-u.minY,h=Math.sqrt(c*c+f*f)/2,d=t.createRadialGradient(u.minX+c*i,u.minY+f*o,0,u.minX+c/2,u.minY+f/2,a*h);return Yo(s,d),d}function Ko(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===n)return e.get("pattern");var r,i,o=Vo.exec(n),a=o[1],s=o[2];function l(){r=t.createPattern(i,a),e.set("pattern",r),e.set("patternSource",n)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;case"n":a="no-repeat";break;default:a="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?l():(i.onload=l,i.src=i.src),r}function Zo(t,e,n){var r=e.getBBox();if(isNaN(r.x)||isNaN(r.y)||isNaN(r.width)||isNaN(r.height))return n;if(b(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return qo(t,e,n);if("r"===n[0])return Xo(t,e,n);if("p"===n[0])return Ko(t,e,n)}return n}return n instanceof CanvasPattern?n:void 0}function Qo(t){var e=0,n=0,r=0,i=0;return d(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,[e,n,r,i]}function Jo(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ta(t,e){return Jo(t)*Jo(e)?(t[0]*e[0]+t[1]*e[1])/(Jo(t)*Jo(e)):1}function ea(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(ta(t,e))}function na(t,e){var n=e[1],r=e[2],i=O(S(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],l=t[1],u=e[6],c=e[7],f=Math.cos(i)*(s-u)/2+Math.sin(i)*(l-c)/2,h=-1*Math.sin(i)*(s-u)/2+Math.cos(i)*(l-c)/2,d=f*f/(n*n)+h*h/(r*r);d>1&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var p=n*n*(h*h)+r*r*(f*f),v=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*n*h/r:0,y=n?v*-r*f/n:0,m=(s+u)/2+Math.cos(i)*g-Math.sin(i)*y,b=(l+c)/2+Math.sin(i)*g+Math.cos(i)*y,x=[(f-g)/n,(h-y)/r],w=[(-1*f-g)/n,(-1*h-y)/r],_=ea([1,0],x),C=ea(x,w);return ta(x,w)<=-1&&(C=Math.PI),ta(x,w)>=1&&(C=0),0===a&&C>0&&(C-=2*Math.PI),1===a&&C<0&&(C+=2*Math.PI),{cx:m,cy:b,rx:Ho(t,[u,c])?0:n,ry:Ho(t,[u,c])?0:r,startAngle:_,endAngle:_+C,xRotation:i,arcFlag:o,sweepFlag:a}}var ra=Math.sin,ia=Math.cos,oa=Math.atan2,aa=Math.PI;function sa(t,e,n,r,i,o,a){var s=e.stroke,l=e.lineWidth,u=n-i,c=r-o,f=oa(c,u),h=new es({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*ia(aa/6)+","+10*ra(aa/6)+" L0,0 L"+10*ia(aa/6)+",-"+10*ra(aa/6),stroke:s,lineWidth:l}});h.translate(i,o),h.rotateAtPoint(i,o,f),t.set(a?"startArrowShape":"endArrowShape",h)}function la(t,e,n,r,i,o,l){var u=e.startArrow,c=e.endArrow,f=e.stroke,h=e.lineWidth,d=l?u:c,p=d.d,v=d.fill,g=d.stroke,y=d.lineWidth,m=s(d,["d","fill","stroke","lineWidth"]),b=n-i,x=r-o,w=oa(x,b);p&&(i-=ia(w)*p,o-=ra(w)*p);var _=new es({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:a(a({},m),{stroke:g||f,lineWidth:y||h,fill:v})});_.translate(i,o),_.rotateAtPoint(i,o,w),t.set(l?"startArrowShape":"endArrowShape",_)}function ua(t,e,n,r,i){var o=oa(r-e,n-t);return{dx:ia(o)*i,dy:ra(o)*i}}function ca(t,e,n,r,i,o){"object"===typeof e.startArrow?la(t,e,n,r,i,o,!0):e.startArrow?sa(t,e,n,r,i,o,!0):t.set("startArrowShape",null)}function fa(t,e,n,r,i,o){"object"===typeof e.endArrow?la(t,e,n,r,i,o,!1):e.endArrow?sa(t,e,n,r,i,o,!1):t.set("startArrowShape",null)}var ha={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function da(t,e){var n=e.attr();for(var r in n){var i=n[r],o=ha[r]?ha[r]:r;"matrix"===o&&i?t.transform(i[0],i[1],i[3],i[4],i[6],i[7]):"lineDash"===o&&t.setLineDash?d(i)&&t.setLineDash(i):("strokeStyle"===o||"fillStyle"===o?i=Zo(t,e,i):"globalAlpha"===o&&(i*=t.globalAlpha),t[o]=i)}}function pa(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];i.cfg.visible?i.draw(t,n):i.skipDraw()}}function va(t,e,n){var r=t.get("refreshElements");v(r,(function(e){if(e!==t){var n=e.cfg.parent;while(n&&n!==t&&!n.cfg.refresh)n.cfg.refresh=!0,n=n.cfg.parent}})),r[0]===t?ma(e):ga(e,n)}function ga(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.cfg.visible)if(r.cfg.hasChanged)r.cfg.refresh=!0,r.isGroup()&&ma(r.cfg.children);else if(r.cfg.refresh)r.isGroup()&&ga(r.cfg.children,e);else{var i=ba(r,e);r.cfg.refresh=i,i&&r.isGroup()&&ga(r.cfg.children,e)}}}function ya(t){for(var e=0;e<t.length;e++){var n=t[e];n.cfg.hasChanged=!1,n.isGroup()&&!n.destroyed&&ya(n.cfg.children)}}function ma(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.cfg.refresh=!0,r.isGroup()&&ma(r.get("children"))}}function ba(t,e){var n=t.cfg.cacheCanvasBBox,r=t.cfg.isInView&&n&&zo(n,e);return r}function xa(t,e,n,r){var i=n.path,o=n.startArrow,a=n.endArrow;if(i){var s=[0,0],l=[0,0],u={dx:0,dy:0};e.beginPath();for(var c=0;c<i.length;c++){var f=i[c],h=f[0];if(0===c&&o&&o.d){var d=t.getStartTangent();u=ua(d[0][0],d[0][1],d[1][0],d[1][1],o.d)}else if(c===i.length-2&&"Z"===i[c+1][0]&&a&&a.d){var p=i[c+1];if("Z"===p[0]){d=t.getEndTangent();u=ua(d[0][0],d[0][1],d[1][0],d[1][1],a.d)}}else if(c===i.length-1&&a&&a.d&&"Z"!==i[0]){d=t.getEndTangent();u=ua(d[0][0],d[0][1],d[1][0],d[1][1],a.d)}var v=u.dx,g=u.dy;switch(h){case"M":e.moveTo(f[1]-v,f[2]-g),l=[f[1],f[2]];break;case"L":e.lineTo(f[1]-v,f[2]-g);break;case"Q":e.quadraticCurveTo(f[1],f[2],f[3]-v,f[4]-g);break;case"C":e.bezierCurveTo(f[1],f[2],f[3],f[4],f[5]-v,f[6]-g);break;case"A":var y=void 0;r?(y=r[c],y||(y=na(s,f),r[c]=y)):y=na(s,f);var m=y.cx,b=y.cy,x=y.rx,w=y.ry,_=y.startAngle,O=y.endAngle,C=y.xRotation,S=y.sweepFlag;if(e.ellipse)e.ellipse(m,b,x,w,C,_,O,1-S);else{var E=x>w?x:w,M=x>w?1:x/w,k=x>w?w/x:1;e.translate(m,b),e.rotate(C),e.scale(M,k),e.arc(0,0,E,_,O,1-S),e.scale(1/M,1/k),e.rotate(-C),e.translate(-m,-b)}break;case"Z":e.closePath();break}if("Z"===h)s=l;else{var T=f.length;s=[f[T-2],f[T-1]]}}}}function wa(t,e){var n=t.get("canvas");n&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(t.set("hasChanged",!0),t.cfg.parent&&t.cfg.parent.get("hasChanged")||(n.refreshElement(t,e,n),n.get("autoDraw")&&n.draw())))}function _a(t){var e;if(t.destroyed)e=t["_cacheCanvasBBox"];else{var n=t.get("cacheCanvasBBox"),r=n&&!(!n.width||!n.height),i=t.getCanvasBBox(),o=i&&!(!i.width||!i.height);r&&o?e=Wo(n,i):r?e=n:o&&(e=i)}return e}function Oa(t){if(!t.length)return null;var e=[],n=[],r=[],i=[];return v(t,(function(t){var o=_a(t);o&&(e.push(o.minX),n.push(o.minY),r.push(o.maxX),i.push(o.maxY))})),{minX:m(e),minY:m(n),maxX:y(r),maxY:y(i)}}function Ca(t,e){return t&&e&&zo(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}var Sa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onCanvasChange=function(t){wa(this,t)},e.prototype.getShapeBase=function(){return r},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,e){e&&(t.save(),da(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,e=[],n=[];v(t,(function(t){var r=t.cfg.cacheCanvasBBox;r&&t.cfg.isInView&&(e.push(r.minX,r.maxX),n.push(r.minY,r.maxY))}));var r=null;if(e.length){var i=m(e),o=y(e),a=m(n),s=y(n);r={minX:i,minY:a,x:i,y:a,maxX:o,maxY:s,width:o-i,height:s-a};var l=this.cfg.canvas;if(l){var u=l.getViewRange();this.set("isInView",zo(r,u))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},e.prototype.draw=function(t,e){var n=this.cfg.children,r=!e||this.cfg.refresh;n.length&&r&&(t.save(),da(t,this),this._applyClip(t,this.getClip()),pa(t,n,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(ci),Ea=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return a(a({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return r},e.prototype.getGroupBase=function(){return Sa},e.prototype.onCanvasChange=function(t){wa(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=pi(t),r=n(this),i=e/2,o=r.x-i,a=r.y-i,s=r.x+r.width+i,l=r.y+r.height+i;return{x:o,minX:o,y:a,minY:a,width:r.width+e,height:r.height+e,maxX:s,maxY:l}},e.prototype.isFill=function(){return!!this.attrs["fill"]||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs["stroke"]},e.prototype._applyClip=function(t,e){e&&(t.save(),da(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var n=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);var r=this.getCanvasBBox();if(!zo(e,r))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),da(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),n=zo(e,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",e):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isFill()&&(h(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.isStroke()&&n>0&&(h(i)||1===i||(t.globalAlpha=i),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,e){var n=this.isStroke(),r=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t["lineWidth"]+t["lineAppendWidth"]},e}(fi),Ma=Ea,ka=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return a(a({},e),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=o.x,s=o.y,l=o.r,u=i/2,c=Do(a,s,t,e);return r&&n?c<=l+u:r?c<=l:!!n&&(c>=l-u&&c<=l+u)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()},e}(Ma),Ta=ka;function Aa(t,e,n,r){return t/(n*n)+e/(r*r)}var La=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return a(a({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=i/2,s=o.x,l=o.y,u=o.rx,c=o.ry,f=(t-s)*(t-s),h=(e-l)*(e-l);return r&&n?Aa(f,h,u+a,c+a)<=1:r?Aa(f,h,u,c)<=1:!!n&&(Aa(f,h,u-a,c-a)>=1&&Aa(f,h,u+a,c+a)<=1)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,r,i,o,0,0,2*Math.PI,!1);else{var a=i>o?i:o,s=i>o?1:i/o,l=i>o?o/i:1;t.save(),t.translate(n,r),t.scale(s,l),t.arc(0,0,a,0,2*Math.PI),t.restore(),t.closePath()}},e}(Ma),Pa=La;function Ra(t){return t instanceof HTMLElement&&b(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var Ia=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return a(a({},e),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var e=this,n=this.attrs;if(b(t)){var r=new Image;r.onload=function(){if(e.destroyed)return!1;e.attr("img",r),e.set("loading",!1),e._afterLoading();var t=e.get("callback");t&&t.call(e)},r.crossOrigin="Anonymous",r.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):Ra(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"img"===e&&this._setImage(n)},e.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,a=e.sx,s=e.sy,l=e.swidth,u=e.sheight,c=e.img;(c instanceof Image||Ra(c))&&(h(a)||h(s)||h(l)||h(u)?t.drawImage(c,n,r,i,o):t.drawImage(c,a,s,l,u,n,r,i,o))},e}(Ma),ja=Ia;function Na(t,e,n,r,i,o,a){var s=Math.min(t,n),l=Math.max(t,n),u=Math.min(e,r),c=Math.max(e,r),f=i/2;return o>=s-f&&o<=l+f&&a>=u-f&&a<=c+f&&Oi.pointToLine(t,e,n,r,o,a)<=i/2}var Ba=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return a(a({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=t.startArrow,a=t.endArrow;o&&ca(this,t,r,i,e,n),a&&fa(this,t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var o=this.attr(),a=o.x1,s=o.y1,l=o.x2,u=o.y2;return Na(a,s,l,u,i,t,e)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.startArrow,s=e.endArrow,l={dx:0,dy:0},u={dx:0,dy:0};a&&a.d&&(l=ua(n,r,i,o,e.startArrow.d)),s&&s.d&&(u=ua(n,r,i,o,e.endArrow.d)),t.beginPath(),t.moveTo(n+l.dx,r+l.dy),t.lineTo(i-u.dx,o-u.dy)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return Oi.length(e,n,r,i)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2;return Oi.pointAt(n,r,i,o,t)},e}(Ma),Da=Ba,Fa={circle:function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},za=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["symbol","x","y","r","radius"].indexOf(e)&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return h(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t,n,r=this.attr(),i=r.x,o=r.y,a=r.symbol||"circle",s=this._getR(r);if(f(a))t=a,n=t(i,o,s),n=Co(n);else{if(t=e.Symbols[a],!t)return console.warn(a+" marker is not supported."),null;n=t(i,o,s)}return n},e.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");xa(this,t,{path:e},n)},e.Symbols=Fa,e}(Ma),Wa=za;function Ha(t,e,n){var r=lo();return t.createPath(r),r.isPointInPath(e,n)}var $a=1e-6;function Ga(t){return Math.abs(t)<$a?0:t<0?-1:1}function Va(t,e,n){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function Ua(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=t[o],s=t[(o+1)%i];if(Va(a,s,[e,n]))return!0;Ga(a[1]-n)>0!==Ga(s[1]-n)>0&&Ga(e-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(r=!r)}return r}function Ya(t,e,n,r,i,o,a,s){var l=(Math.atan2(s-e,a-t)+2*Math.PI)%(2*Math.PI);if(l<r||l>i)return!1;var u={x:t+n*Math.cos(l),y:e+n*Math.sin(l)};return Do(u.x,u.y,a,s)<=o/2}var qa=he;function Xa(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r],o=i[0];if("C"===o||"A"===o||"Q"===o){e=!0;break}}return e}function Ka(t,e,n,r,i){for(var o=!1,a=e/2,s=0;s<t.length;s++){var l=t[s],u=l.currentPoint,c=l.params,f=l.prePoint,h=l.box;if(!h||Fo(h.x-a,h.y-a,h.width+e,h.height+e,n,r)){switch(l.command){case"L":case"Z":o=Na(f[0],f[1],u[0],u[1],e,n,r);break;case"Q":var d=Pi.pointDistance(f[0],f[1],c[1],c[2],c[3],c[4],n,r);o=d<=e/2;break;case"C":var p=Di.pointDistance(f[0],f[1],c[1],c[2],c[3],c[4],c[5],c[6],n,r,i);o=p<=e/2;break;case"A":var v=l.arcParams,g=v.cx,y=v.cy,m=v.rx,b=v.ry,x=v.startAngle,w=v.endAngle,_=v.xRotation,O=[n,r,1],C=m>b?m:b,S=m>b?1:m/b,E=m>b?b/m:1,M=qa(null,[["t",-g,-y],["r",-_],["s",1/S,1/E]]);re(O,O,M),o=Ya(0,0,C,x,w,e,O[0],O[1]);break}if(o)break}}return o}function Za(t){for(var e=t.length,n=[],r=[],i=[],o=0;o<e;o++){var a=t[o],s=a[0];"M"===s?(i.length&&(r.push(i),i=[]),i.push([a[1],a[2]])):"Z"===s?i.length&&(n.push(i),i=[]):i.push([a[1],a[2]])}return i.length>0&&r.push(i),{polygons:n,polylines:r}}var Qa=a({hasArc:Xa,extractPolygons:Za,isPointInStroke:Ka},Ot);function Ja(t,e,n){for(var r=!1,i=0;i<t.length;i++){var o=t[i];if(r=Ua(o,e,n),r)break}return r}var ts=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return a(a({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"path"===e&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=Co(t);var e=Qa.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=Lo(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var r=this.getStartTangent();ca(this,t,r[0][0],r[0][1],r[1][0],r[1][1])}if(n){r=this.getEndTangent();fa(this,t,r[0][0],r[0][1],r[1][0],r[1][1])}},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.getSegments(),a=this.get("hasArc"),s=!1;if(n){var l=this.getTotalLength();s=Qa.isPointInStroke(o,i,t,e,l)}if(!s&&r)if(a)s=Ha(this,t,e);else{var u=this.attr("path"),c=Qa.extractPolygons(u);s=Ja(c.polygons,t,e)||Ja(c.polylines,t,e)}return s},e.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");xa(this,t,e,n)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return h(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var e,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var i=this.get("curve");if(!r||0===r.length)return i?{x:i[0][1],y:i[0][2]}:null;v(r,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)}));var o=i[n];if(h(o)||h(n))return null;var a=o.length,s=i[n+1];return Di.pointAt(o[a-2],o[a-1],s[1],s[2],s[3],s[4],s[5],s[6],e)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",Qa.pathToCurve(t))},e.prototype._setTcache=function(){var t,e,n,r,i=0,o=0,a=[],s=this.get("curve");s&&(v(s,(function(t,e){n=s[e+1],r=t.length,n&&(i+=Di.length(t[r-2],t[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",i),0!==i?(v(s,(function(l,u){n=s[u+1],r=l.length,n&&(t=[],t[0]=o/i,e=Di.length(l[r-2],l[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),o+=e||0,t[1]=o/i,a.push(t))})),this.set("tCache",a)):this.set("tCache",[]))},e.prototype.getStartTangent=function(){var t,e=this.getSegments();if(e.length>1){var n=e[0].currentPoint,r=e[1].currentPoint,i=e[1].startTangent;t=[],i?(t.push([n[0]-i[0],n[1]-i[1]]),t.push([n[0],n[1]])):(t.push([r[0],r[1]]),t.push([n[0],n[1]]))}return t},e.prototype.getEndTangent=function(){var t,e=this.getSegments(),n=e.length;if(n>1){var r=e[n-2].currentPoint,i=e[n-1].currentPoint,o=e[n-1].endTangent;t=[],o?(t.push([i[0]-o[0],i[1]-o[1]]),t.push([i[0],i[1]])):(t.push([r[0],r[1]]),t.push([i[0],i[1]]))}return t},e}(Ma),es=ts;function ns(t,e,n,r,i){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++){var s=t[a][0],l=t[a][1],u=t[a+1][0],c=t[a+1][1];if(Na(s,l,u,c,e,n,r))return!0}if(i){var f=t[0],h=t[o-1];if(Na(f[0],f[1],h[0],h[1],e,n,r))return!0}return!1}var rs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr().points,a=!1;return n&&(a=ns(o,i,t,e,!0)),!a&&r&&(a=Ua(o,t,e)),a},e.prototype.createPath=function(t){var e=this.attr(),n=e.points;if(!(n.length<2)){t.beginPath();for(var r=0;r<n.length;r++){var i=n[r];0===r?t.moveTo(i[0],i[1]):t.lineTo(i[0],i[1])}t.closePath()}},e}(Ma),is=rs,os=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return a(a({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow(),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,r=e.startArrow,i=e.endArrow,o=n.length,a=n[0][0],s=n[0][1],l=n[o-1][0],u=n[o-1][1];r&&ca(this,t,n[1][0],n[1][1],a,s),i&&fa(this,t,n[o-2][0],n[o-2][1],l,u)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var o=this.attr().points;return ns(o,i,t,e,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var e=this.attr(),n=e.points,r=e.startArrow,i=e.endArrow,o=n.length;if(!(n.length<2)){var a=n[0][0],s=n[0][1],l=n[o-1][0],u=n[o-1][1];if(r&&r.d){var c=ua(a,s,n[1][0],n[1][1],r.d);a+=c.dx,s+=c.dy}if(i&&i.d){c=ua(n[o-2][0],n[o-2][1],l,u,i.d);l-=c.dx,u-=c.dy}t.beginPath(),t.moveTo(a,s);for(var f=0;f<o-1;f++){var h=n[f];t.lineTo(h[0],h[1])}t.lineTo(l,u)}},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return h(e)?(this.set("totalLength",no.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),v(i,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),Oi.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,i=0,o=[];v(t,(function(a,s){t[s+1]&&(n=[],n[0]=i/e,r=Oi.length(a[0],a[1],t[s+1][0],t[s+1][1]),i+=r,n[1]=i/e,o.push(n))})),this.set("tCache",o)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(Ma),as=os;function ss(t,e,n,r,i,o,a){var s=i/2;return Fo(t-s,e-s,n,i,o,a)||Fo(t+n-s,e-s,i,r,o,a)||Fo(t+s,e+r-s,n,i,o,a)||Fo(t-s,e+s,i,r,o,a)}function ls(t,e,n,r,i,o,a,s){return Na(t+i,e,t+n-i,e,o,a,s)||Na(t+n,e+i,t+n,e+r-i,o,a,s)||Na(t+n-i,e+r,t+i,e+r,o,a,s)||Na(t,e+r-i,t,e+i,o,a,s)||Ya(t+n-i,e+i,i,1.5*Math.PI,2*Math.PI,o,a,s)||Ya(t+n-i,e+r-i,i,0,.5*Math.PI,o,a,s)||Ya(t+i,e+r-i,i,.5*Math.PI,Math.PI,o,a,s)||Ya(t+i,e+i,i,Math.PI,1.5*Math.PI,o,a,s)}var us=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return a(a({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=o.x,s=o.y,l=o.width,u=o.height,c=o.radius;if(c){var f=!1;return n&&(f=ls(a,s,l,u,c,i,t,e)),!f&&r&&(f=Ha(this,t,e)),f}var h=i/2;return r&&n?Fo(a-h,s-h,l+h,u+h,t,e):r?Fo(a,s,l,u,t,e):n?ss(a,s,l,u,i,t,e):void 0},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,a=e.radius;if(t.beginPath(),0===a)t.rect(n,r,i,o);else{var s=Qo(a),l=s[0],u=s[1],c=s[2],f=s[3];t.moveTo(n+l,r),t.lineTo(n+i-u,r),0!==u&&t.arc(n+i-u,r+u,u,-Math.PI/2,0),t.lineTo(n+i,r+o-c),0!==c&&t.arc(n+i-c,r+o-c,c,0,Math.PI/2),t.lineTo(n+f,r+o),0!==f&&t.arc(n+f,r+o-f,f,Math.PI/2,Math.PI),t.lineTo(n,r+l),0!==l&&t.arc(n+l,r+l,l,Math.PI,1.5*Math.PI),t.closePath()}},e}(Ma),cs=us,fs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return a(a({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=ho(t)},e.prototype._setText=function(t){var e=null;b(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),e.startsWith("font")&&this._assembleFont(),"text"===e&&this._setText(n)},e.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},e.prototype._drawTextArr=function(t,e,n){var r,i=this.attrs,o=i.textBaseline,a=i.x,s=i.y,l=1*i.fontSize,u=this._getSpaceingY(),c=uo(i.text,i.fontSize,i.lineHeight);v(e,(function(e,i){r=s+i*(u+l)-c+l,"middle"===o&&(r+=c-l-(c-l)/2),"top"===o&&(r+=c-l),h(e)||(n?t.fillText(e,a,r):t.strokeText(e,a,r))}))},e.prototype._drawText=function(t,e){var n=this.attr(),r=n.x,i=n.y,o=this.get("textArr");if(o)this._drawTextArr(t,o,e);else{var a=n.text;h(a)||(e?t.fillText(a,r,i):t.strokeText(a,r,i))}},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isStroke()&&n>0&&(h(i)||1===i||(t.globalAlpha=r),this.stroke(t)),this.isFill()&&(h(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(Ma),hs=fs;function ds(t,e){if(e){var n=ve(e);return pe(n,t)}return t}function ps(t,e,n){var r=t.getTotalMatrix();if(r){var i=ds([e,n,1],r),o=i[0],a=i[1];return[o,a]}return[e,n]}function vs(t,e,n){if(t.isCanvas&&t.isCanvas())return!0;if(!Pt(t)||!1===t.cfg.isInView)return!1;if(t.cfg.clipShape){var r=ps(t,e,n),i=r[0],o=r[1];if(t.isClipped(i,o))return!1}var a=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=a.minX&&e<=a.maxX&&n>=a.minY&&n<=a.maxY}function gs(t,e,n){if(!vs(t,e,n))return null;for(var r=null,i=t.getChildren(),o=i.length,a=o-1;a>=0;a--){var s=i[a];if(s.isGroup())r=gs(s,e,n);else if(vs(s,e,n)){var l=s,u=ps(s,e,n),c=u[0],f=u[1];l.isInShape(c,f)&&(r=s)}if(r)break}return r}var ys,ms,bs,xs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e["renderer"]="canvas",e["autoDraw"]=!0,e["localRefresh"]=!0,e["refreshElements"]=[],e["clipView"]=!0,e["quickHit"]=!1,e},e.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return r},e.prototype.getGroupBase=function(){return Sa},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Bo();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},e.prototype.setDOMSize=function(e,n){t.prototype.setDOMSize.call(this,e,n);var r=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*e,i.height=o*n,o>1&&r.scale(o,o)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame();var e=this.get("context"),n=this.get("el");e.clearRect(0,0,n.width,n.height)},e.prototype.getShape=function(e,n){var r;return r=this.get("quickHit")?gs(this,e,n):t.prototype.getShape.call(this,e,n,null),r},e.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),n=this.getViewRange();if(e.length&&e[0]===this)t=n;else if(t=Oa(e),t){t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1;var r=this.get("clipView");r&&(t=Ca(t,n))}return t},e.prototype.refreshElement=function(t){var e=this.get("refreshElements");e.push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(A(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),da(t,this),pa(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(t.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.save(),t.beginPath(),t.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.clip(),da(t,this),va(this,n,r),pa(t,n,r),t.restore()):e.length&&ya(e),v(e,(function(t){t.get("hasChanged")&&t.set("hasChanged",!1)})),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=T((function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)})),this.set("drawFrame",e))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(ui);(function(t){t["DATA_CELL_CLICK_EVENT"]="interaction:data-cell-click",t["MERGED_CELLS_CLICK_EVENT"]="interaction:merged-cells-click",t["CORNER_TEXT_CLICK_EVENT"]="interaction:corner-cell-text-click",t["ROW_COLUMN_CLICK_EVENT"]="interaction:row-column-click",t["ROW_TEXT_CLICK_EVENT"]="interaction:row-text-click",t["HOVER_EVENT"]="interaction:hover",t["TREND_ICON_CLICK"]="interaction:trend-icon-click"})(ys||(ys={})),function(t){t["MOUSE_DOWN"]="mousedown",t["MOUSE_MOVE"]="mousemove",t["MOUSE_OUT"]="mouseout",t["MOUSE_LEAVE"]="mouseleave",t["MOUSE_UP"]="mouseup",t["KEY_DOWN"]="keydown",t["KEY_UP"]="keyup",t["CLICK"]="click",t["HOVER"]="hover",t["DOUBLE_CLICK"]="dblclick",t["CONTEXT_MENU"]="contextmenu"}(ms||(ms={})),function(t){t["ROW_CELL_HOVER"]="row-cell:hover",t["ROW_CELL_CLICK"]="row-cell:click",t["ROW_CELL_DOUBLE_CLICK"]="row-cell:double-click",t["ROW_CELL_CONTEXT_MENU"]="row-cell:context-menu",t["ROW_CELL_MOUSE_DOWN"]="row-cell:mouse-down",t["ROW_CELL_MOUSE_UP"]="row-cell:mouse-up",t["ROW_CELL_MOUSE_MOVE"]="row-cell:mouse-move",t["ROW_CELL_COLLAPSE_TREE_ROWS"]="row-cell:collapsed-tree-rows",t["ROW_CELL_SCROLL"]="row-cell:scroll",t["ROW_CELL_BRUSH_SELECTION"]="row-cell:brush-selection",t["COL_CELL_HOVER"]="col-cell:hover",t["COL_CELL_CLICK"]="col-cell:click",t["COL_CELL_DOUBLE_CLICK"]="col-cell:double-click",t["COL_CELL_CONTEXT_MENU"]="col-cell:context-menu",t["COL_CELL_MOUSE_DOWN"]="col-cell:mouse-down",t["COL_CELL_MOUSE_UP"]="col-cell:mouse-up",t["COL_CELL_MOUSE_MOVE"]="col-cell:mouse-move",t["COL_CELL_BRUSH_SELECTION"]="col-cell:brush-selection",t["DATA_CELL_HOVER"]="data-cell:hover",t["DATA_CELL_CLICK"]="data-cell:click",t["DATA_CELL_DOUBLE_CLICK"]="data-cell:double-click",t["DATA_CELL_CONTEXT_MENU"]="data-cell:context-menu",t["DATA_CELL_MOUSE_UP"]="data-cell:mouse-up",t["DATA_CELL_MOUSE_DOWN"]="data-cell:mouse-down",t["DATA_CELL_MOUSE_MOVE"]="data-cell:mouse-move",t["DATA_CELL_TREND_ICON_CLICK"]="data-cell:trend-icon-click",t["DATA_CELL_BRUSH_SELECTION"]="data-cell:brush-selection",t["DATA_CELL_SELECT_MOVE"]="data-cell:select-move",t["CORNER_CELL_HOVER"]="corner-cell:hover",t["CORNER_CELL_CLICK"]="corner-cell:click",t["CORNER_CELL_DOUBLE_CLICK"]="corner-cell:double-click",t["CORNER_CELL_CONTEXT_MENU"]="corner-cell:context-menu",t["CORNER_CELL_MOUSE_DOWN"]="corner-cell:mouse-down",t["CORNER_CELL_MOUSE_UP"]="corner-cell:mouse-up",t["CORNER_CELL_MOUSE_MOVE"]="corner-cell:mouse-move",t["MERGED_CELLS_HOVER"]="merged-cells:hover",t["MERGED_CELLS_CLICK"]="merged-cells:click",t["MERGED_CELLS_DOUBLE_CLICK"]="merged-cells:double-click",t["MERGED_CELLS_CONTEXT_MENU"]="merged-cell:context-menu",t["MERGED_CELLS_MOUSE_DOWN"]="merged-cells:mouse-down",t["MERGED_CELLS_MOUSE_UP"]="merged-cells:mouse-up",t["MERGED_CELLS_MOUSE_MOVE"]="merged-cells:mouse-move",t["RANGE_SORT"]="sort:range-sort",t["RANGE_SORTED"]="sort:range-sorted",t["RANGE_FILTER"]="filter:range-filter",t["RANGE_FILTERED"]="filter:range-filtered",t["LAYOUT_AFTER_HEADER_LAYOUT"]="layout:after-header-layout",t["LAYOUT_CELL_SCROLL"]="layout:cell-scroll",t["LAYOUT_PAGINATION"]="layout:pagination",t["LAYOUT_COLLAPSE_ROWS"]="layout:collapsed-rows",t["LAYOUT_AFTER_COLLAPSE_ROWS"]="layout:after-collapsed-rows",t["LAYOUT_AFTER_REAL_DATA_CELL_RENDER"]="layout:after-real-data-cell-render",t["LAYOUT_TREE_ROWS_COLLAPSE_ALL"]="layout:toggle-collapse-all",t["LAYOUT_COLS_EXPANDED"]="layout:table-col-expanded",t["LAYOUT_COLS_HIDDEN"]="layout:table-col-hidden",t["LAYOUT_AFTER_RENDER"]="layout:after-render",t["LAYOUT_BEFORE_RENDER"]="layout:before-render",t["LAYOUT_DESTROY"]="layout:destroy",t["LAYOUT_RESIZE"]="layout:resize",t["LAYOUT_RESIZE_SERIES_WIDTH"]="layout:resize-series-width",t["LAYOUT_RESIZE_ROW_WIDTH"]="layout:resize-row-width",t["LAYOUT_RESIZE_ROW_HEIGHT"]="layout:resize-row-height",t["LAYOUT_RESIZE_COL_WIDTH"]="layout:resize-column-width",t["LAYOUT_RESIZE_COL_HEIGHT"]="layout:resize-column-height",t["LAYOUT_RESIZE_TREE_WIDTH"]="layout:resize-tree-width",t["LAYOUT_RESIZE_MOUSE_DOWN"]="layout:resize:mouse-down",t["LAYOUT_RESIZE_MOUSE_MOVE"]="layout:resize:mouse-move",t["LAYOUT_RESIZE_MOUSE_UP"]="layout:resize-mouse-up",t["GLOBAL_KEYBOARD_DOWN"]="global:keyboard-down",t["GLOBAL_KEYBOARD_UP"]="global:keyboard-up",t["GLOBAL_COPIED"]="global:copied",t["GLOBAL_MOUSE_UP"]="global:mouse-up",t["GLOBAL_MOUSE_MOVE"]="global:mouse-move",t["GLOBAL_ACTION_ICON_CLICK"]="global:action-icon-click",t["GLOBAL_ACTION_ICON_HOVER"]="global:action-icon-hover",t["GLOBAL_ACTION_ICON_HOVER_OFF"]="global:action-icon-hover-off",t["GLOBAL_CONTEXT_MENU"]="global:context-menu",t["GLOBAL_CLICK"]="global:click",t["GLOBAL_DOUBLE_CLICK"]="global:double-click",t["GLOBAL_SELECTED"]="global:selected",t["GLOBAL_HOVER"]="global:hover",t["GLOBAL_RESET"]="global:reset",t["GLOBAL_LINK_FIELD_JUMP"]="global:link-field-jump",t["GLOBAL_SCROLL"]="global:scroll"}(bs||(bs={}));var ws,_s="$$value$$",Os="$$extra$$",Cs="$$extra_column$$",Ss="$$total$$",Es="$$series_number$$",Ms=0,ks=3,Ts=3,As=4,Ls=5,Ps=5,Rs=1,Is=1,js=2,Ns="backGroundGroup",Bs="foreGroundGroup",Ds="panelGroup",Fs="panelScrollGroup",zs="mergedCellsGroup",Ws="frozenRowGroup",Hs="frozenColGroup",$s="frozenTrailingRowGroup",Gs="frozenTrailingColGroup",Vs="frozenTopGroup",Us="frozenBottomGroup",Ys="rowResizeAreaGroup",qs="rowFrozenResizeAreaGroup",Xs="frozenSplitLine",Ks="rowIndexResizeAreaGroup",Zs="cornerResizeAreaGroup",Qs="colResizeAreaGroup",Js="colFrozenResizeAreaGroup",tl="colScrollGroup",el="colFrozenGroup",nl="colFrozenTrailingGroup",rl="gridGroup",il="series-number-node",ol="horizontal-resize-area-",al="root",sl="[&]",ll="-",ul=28,cl=16,fl=16,hl=.5,dl=50;(function(t){t["Line"]="line",t["Bar"]="bar",t["Bullet"]="bullet"})(ws||(ws={}));var pl,vl,gl,yl="square",ml="...",bl="antv-s2",xl="valueRanges",wl={},_l="#000000",Ol="#FFFFFF",Cl={data:[],totalData:[],fields:{rows:[],columns:[],values:[],customTreeItems:[],valueInCols:!0},meta:[],sortParams:[],filterParams:[]};(function(t){t["ROW"]="row",t["COL"]="col",t["TRAILING_ROW"]="trailingRow",t["TRAILING_COL"]="trailingCol",t["SCROLL"]="scroll",t["TOP"]="top",t["BOTTOM"]="bottom"})(vl||(vl={})),function(t){t["FROZEN_COL"]="frozenCol",t["FROZEN_ROW"]="frozenRow",t["FROZEN_TRAILING_COL"]="frozenTrailingCol",t["FROZEN_TRAILING_ROW"]="frozenTrailingRow"}(gl||(gl={}));var Sl,El,Ml,kl=(pl={},pl[vl.ROW]="frozenRowGroup",pl[vl.COL]="frozenColGroup",pl[vl.TRAILING_COL]="frozenTrailingColGroup",pl[vl.TRAILING_ROW]="frozenTrailingRowGroup",pl[vl.SCROLL]="panelScrollGroup",pl[vl.TOP]="frozenTopGroup",pl[vl.BOTTOM]="frozenBottomGroup",pl);(function(t){t["CORNER_CELL_CLICK"]="cornerCellClick",t["DATA_CELL_CLICK"]="dataCellClick",t["MERGED_CELLS_CLICK"]="mergedCellsClick",t["ROW_COLUMN_CLICK"]="rowColumnClick",t["ROW_TEXT_CLICK"]="rowTextClick",t["HOVER"]="hover",t["BRUSH_SELECTION"]="brushSelection",t["ROW_BRUSH_SELECTION"]="rowBrushSelection",t["COL_BRUSH_SELECTION"]="colBrushSelection",t["COL_ROW_RESIZE"]="rowColResize",t["DATA_CELL_MULTI_SELECTION"]="dataCellMultiSelection",t["RANGE_SELECTION"]="rangeSelection",t["SELECTED_CELL_MOVE"]="selectedCellMove"})(Sl||(Sl={})),function(t){t["ALL_SELECTED"]="allSelected",t["SELECTED"]="selected",t["UNSELECTED"]="unselected",t["HOVER"]="hover",t["HOVER_FOCUS"]="hoverFocus",t["HIGHLIGHT"]="highlight",t["SEARCH_RESULT"]="searchResult",t["PREPARE_SELECT"]="prepareSelect"}(El||(El={})),function(t){t["DATA_CELL"]="dataCell",t["HEADER_CELL"]="headerCell",t["ROW_CELL"]="rowCell",t["COL_CELL"]="colCell",t["CORNER_CELL"]="cornerCell",t["MERGED_CELL"]="mergedCell"}(Ml||(Ml={}));var Tl,Al,Ll,Pl,Rl=800,Il={textOpacity:"fillOpacity",backgroundOpacity:"fillOpacity",backgroundColor:"fill",borderOpacity:"strokeOpacity",borderColor:"stroke",borderWidth:"lineWidth",opacity:"opacity"},jl={textShape:["textOpacity"],textShapes:["textOpacity"],linkFieldShape:["opacity"],interactiveBgShape:["backgroundColor","backgroundOpacity"],interactiveBorderShape:["borderColor","borderOpacity","borderWidth"]},Nl="interactionStateInfo";(function(t){t["CLICK"]="click",t["UN_DRAGGED"]="unDragged",t["DRAGGED"]="dragged"})(Tl||(Tl={})),function(t){t["SHIFT"]="Shift",t["COPY"]="c",t["ESC"]="Escape",t["META"]="Meta",t["CONTROL"]="Control",t["ARROW_UP"]="ArrowUp",t["ARROW_DOWN"]="ArrowDown",t["ARROW_LEFT"]="ArrowLeft",t["ARROW_RIGHT"]="ArrowRight"}(Al||(Al={})),function(t){t["ASC"]="ASC",t["DESC"]="DESC"}(Ll||(Ll={})),function(t){t["HOVER"]="hover",t["CLICK"]="click",t["BRUSH_SELECTION"]="brushSelection",t["ROW_BRUSH_SELECTION"]="rowBrushSelection",t["COL_BRUSH_SELECTION"]="colBrushSelection",t["MULTI_SELECTION"]="multiSelection",t["RESIZE"]="resize"}(Pl||(Pl={}));var Bl,Dl,Fl,zl={x:{value:0,scroll:!1},y:{value:0,scroll:!1}};(function(t){t["CONTENT"]="content",t["CANVAS"]="canvas"})(Bl||(Bl={})),function(t){t["SCROLL_UP"]="scrollUp",t["SCROLL_DOWN"]="scrollDown"}(Dl||(Dl={})),function(t){t[t["SCROLL_UP"]=-1]="SCROLL_UP",t[t["SCROLL_DOWN"]=1]="SCROLL_DOWN"}(Fl||(Fl={}));var Wl,Hl,$l,Gl="RESIZE_START_GUIDE_LINE",Vl="RESIZE_END_GUIDE_LINE",Ul="RESIZE_MASK";(function(t){t["Horizontal"]="col",t["Vertical"]="row"})(Wl||(Wl={})),function(t){t["Field"]="field",t["Cell"]="cell",t["Tree"]="tree",t["Series"]="series"}(Hl||(Hl={})),function(t){t["ALL"]="all",t["CURRENT"]="current"}($l||($l={}));var Yl,ql=1;(function(t){t["Adaptive"]="adaptive",t["ColAdaptive"]="colAdaptive",t["Compact"]="compact"})(Yl||(Yl={}));var Xl=120,Kl={layoutWidthType:Yl.Adaptive,showTreeLeafNodeAlignDot:!1,collapsedRows:{},collapsedCols:{},cellCfg:{width:96,height:30},rowCfg:{width:null,widthByField:{},heightByField:{}},colCfg:{height:30,widthByFieldValue:{},heightByField:{}},device:"pc"},Zl={width:600,height:480,debug:!1,hierarchyType:"grid",conditions:{},totals:{},tooltip:{showTooltip:!1,autoAdjustBoundary:"body",operation:{hiddenColumns:!1,trend:!1,sort:!1,menus:[]}},interaction:{linkFields:[],hiddenColumnFields:[],selectedCellsSpotlight:!1,hoverHighlight:!0,hoverFocus:{duration:Rl},scrollSpeedRatio:{horizontal:1,vertical:1},autoResetSheetStyle:!0,brushSelection:{data:!0,row:!1,col:!1},multiSelection:!0,rangeSelection:!0,scrollbarPosition:Bl.CONTENT,resize:{rowCellVertical:!0,cornerCellHorizontal:!0,colCellHorizontal:!0,colCellVertical:!0,rowResizeType:$l.ALL},eventListenerOptions:!1,selectedCellHighlight:!1,overscrollBehavior:"auto"},showSeriesNumber:!1,customSVGIcons:[],showDefaultHeaderActionIcon:!1,headerActionIcons:[],style:Kl,frozenRowHeader:!0,frozenRowCount:0,frozenColCount:0,frozenTrailingRowCount:0,frozenTrailingColCount:0,hdAdapter:!0,cornerText:"",cornerExtraFieldText:"",placeholder:ll,supportCSSTransform:!1,devicePixelRatio:window.devicePixelRatio},Ql=function(t,e){return Ql=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Ql(t,e)};function Jl(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ql(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var tu=function(){return tu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},tu.apply(this,arguments)};function eu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function nu(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ru(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function iu(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var ou="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,au=ou,su="object"==typeof self&&self&&self.Object===Object&&self,lu=au||su||Function("return this")(),uu=lu,cu=uu.Symbol,fu=cu,hu=Object.prototype,du=hu.hasOwnProperty,pu=hu.toString,vu=fu?fu.toStringTag:void 0;function gu(t){var e=du.call(t,vu),n=t[vu];try{t[vu]=void 0;var r=!0}catch(o){}var i=pu.call(t);return r&&(e?t[vu]=n:delete t[vu]),i}var yu=Object.prototype,mu=yu.toString;function bu(t){return mu.call(t)}var xu="[object Null]",wu="[object Undefined]",_u=fu?fu.toStringTag:void 0;function Ou(t){return null==t?void 0===t?wu:xu:_u&&_u in Object(t)?gu(t):bu(t)}function Cu(t){return null!=t&&"object"==typeof t}var Su="[object Symbol]";function Eu(t){return"symbol"==typeof t||Cu(t)&&Ou(t)==Su}var Mu=NaN;function ku(t){return"number"==typeof t?t:Eu(t)?Mu:+t}function Tu(t,e){var n=-1,r=null==t?0:t.length,i=Array(r);while(++n<r)i[n]=e(t[n],n,t);return i}var Au=Array.isArray,Lu=Au,Pu=1/0,Ru=fu?fu.prototype:void 0,Iu=Ru?Ru.toString:void 0;function ju(t){if("string"==typeof t)return t;if(Lu(t))return Tu(t,ju)+"";if(Eu(t))return Iu?Iu.call(t):"";var e=t+"";return"0"==e&&1/t==-Pu?"-0":e}function Nu(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=ju(n),r=ju(r)):(n=ku(n),r=ku(r)),i=t(n,r)}return i}}var Bu=Nu((function(t,e){return t+e}),0),Du=Bu,Fu=/\s/;function zu(t){var e=t.length;while(e--&&Fu.test(t.charAt(e)));return e}var Wu=/^\s+/;function Hu(t){return t?t.slice(0,zu(t)+1).replace(Wu,""):t}function $u(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var Gu=NaN,Vu=/^[-+]0x[0-9a-f]+$/i,Uu=/^0b[01]+$/i,Yu=/^0o[0-7]+$/i,qu=parseInt;function Xu(t){if("number"==typeof t)return t;if(Eu(t))return Gu;if($u(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=$u(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Hu(t);var n=Uu.test(t);return n||Yu.test(t)?qu(t.slice(2),n?2:8):Vu.test(t)?Gu:+t}var Ku=1/0,Zu=17976931348623157e292;function Qu(t){if(!t)return 0===t?t:0;if(t=Xu(t),t===Ku||t===-Ku){var e=t<0?-1:1;return e*Zu}return t===t?t:0}function Ju(t){var e=Qu(t),n=e%1;return e===e?n?e-n:e:0}var tc="Expected a function";function ec(t,e){if("function"!=typeof e)throw new TypeError(tc);return t=Ju(t),function(){if(--t<1)return e.apply(this,arguments)}}function nc(t){return t}var rc="[object AsyncFunction]",ic="[object Function]",oc="[object GeneratorFunction]",ac="[object Proxy]";function sc(t){if(!$u(t))return!1;var e=Ou(t);return e==ic||e==oc||e==rc||e==ac}var lc=uu["__core-js_shared__"],uc=lc,cc=function(){var t=/[^.]+$/.exec(uc&&uc.keys&&uc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function fc(t){return!!cc&&cc in t}var hc=Function.prototype,dc=hc.toString;function pc(t){if(null!=t){try{return dc.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var vc=/[\\^$.*+?()[\]{}|]/g,gc=/^\[object .+?Constructor\]$/,yc=Function.prototype,mc=Object.prototype,bc=yc.toString,xc=mc.hasOwnProperty,wc=RegExp("^"+bc.call(xc).replace(vc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _c(t){if(!$u(t)||fc(t))return!1;var e=sc(t)?wc:gc;return e.test(pc(t))}function Oc(t,e){return null==t?void 0:t[e]}function Cc(t,e){var n=Oc(t,e);return _c(n)?n:void 0}var Sc=Cc(uu,"WeakMap"),Ec=Sc,Mc=Ec&&new Ec,kc=Mc,Tc=kc?function(t,e){return kc.set(t,e),t}:nc,Ac=Tc,Lc=Object.create,Pc=function(){function t(){}return function(e){if(!$u(e))return{};if(Lc)return Lc(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Rc=Pc;function Ic(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Rc(t.prototype),r=t.apply(n,e);return $u(r)?r:n}}var jc=1;function Nc(t,e,n){var r=e&jc,i=Ic(t);function o(){var e=this&&this!==uu&&this instanceof o?i:t;return e.apply(r?n:this,arguments)}return o}function Bc(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Dc=Math.max;function Fc(t,e,n,r){var i=-1,o=t.length,a=n.length,s=-1,l=e.length,u=Dc(o-a,0),c=Array(l+u),f=!r;while(++s<l)c[s]=e[s];while(++i<a)(f||i<o)&&(c[n[i]]=t[i]);while(u--)c[s++]=t[i++];return c}var zc=Math.max;function Wc(t,e,n,r){var i=-1,o=t.length,a=-1,s=n.length,l=-1,u=e.length,c=zc(o-s,0),f=Array(c+u),h=!r;while(++i<c)f[i]=t[i];var d=i;while(++l<u)f[d+l]=e[l];while(++a<s)(h||i<o)&&(f[d+n[a]]=t[i++]);return f}function Hc(t,e){var n=t.length,r=0;while(n--)t[n]===e&&++r;return r}function $c(){}var Gc=4294967295;function Vc(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Gc,this.__views__=[]}function Uc(){}Vc.prototype=Rc($c.prototype),Vc.prototype.constructor=Vc;var Yc=kc?function(t){return kc.get(t)}:Uc,qc=Yc,Xc={},Kc=Xc,Zc=Object.prototype,Qc=Zc.hasOwnProperty;function Jc(t){var e=t.name+"",n=Kc[e],r=Qc.call(Kc,e)?n.length:0;while(r--){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function tf(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function ef(t,e){var n=-1,r=t.length;e||(e=Array(r));while(++n<r)e[n]=t[n];return e}function nf(t){if(t instanceof Vc)return t.clone();var e=new tf(t.__wrapped__,t.__chain__);return e.__actions__=ef(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}tf.prototype=Rc($c.prototype),tf.prototype.constructor=tf;var rf=Object.prototype,of=rf.hasOwnProperty;function af(t){if(Cu(t)&&!Lu(t)&&!(t instanceof Vc)){if(t instanceof tf)return t;if(of.call(t,"__wrapped__"))return nf(t)}return new tf(t)}function sf(t){var e=Jc(t),n=af[e];if("function"!=typeof n||!(e in Vc.prototype))return!1;if(t===n)return!0;var r=qc(n);return!!r&&t===r[0]}af.prototype=$c.prototype,af.prototype.constructor=af;var lf=800,uf=16,cf=Date.now;function ff(t){var e=0,n=0;return function(){var r=cf(),i=uf-(r-n);if(n=r,i>0){if(++e>=lf)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var hf=ff(Ac),df=hf,pf=/\{\n\/\* \[wrapped with (.+)\] \*/,vf=/,? & /;function gf(t){var e=t.match(pf);return e?e[1].split(vf):[]}var yf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function mf(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(yf,"{\n/* [wrapped with "+e+"] */\n")}function bf(t){return function(){return t}}var xf=function(){try{var t=Cc(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),wf=xf,_f=wf?function(t,e){return wf(t,"toString",{configurable:!0,enumerable:!1,value:bf(e),writable:!0})}:nc,Of=_f,Cf=ff(Of),Sf=Cf;function Ef(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!1===e(t[n],n,t))break;return t}function Mf(t,e,n,r){var i=t.length,o=n+(r?1:-1);while(r?o--:++o<i)if(e(t[o],o,t))return o;return-1}function kf(t){return t!==t}function Tf(t,e,n){var r=n-1,i=t.length;while(++r<i)if(t[r]===e)return r;return-1}function Af(t,e,n){return e===e?Tf(t,e,n):Mf(t,kf,n)}function Lf(t,e){var n=null==t?0:t.length;return!!n&&Af(t,e,0)>-1}var Pf=1,Rf=2,If=8,jf=16,Nf=32,Bf=64,Df=128,Ff=256,zf=512,Wf=[["ary",Df],["bind",Pf],["bindKey",Rf],["curry",If],["curryRight",jf],["flip",zf],["partial",Nf],["partialRight",Bf],["rearg",Ff]];function Hf(t,e){return Ef(Wf,(function(n){var r="_."+n[0];e&n[1]&&!Lf(t,r)&&t.push(r)})),t.sort()}function $f(t,e,n){var r=e+"";return Sf(t,mf(r,Hf(gf(r),n)))}var Gf=1,Vf=2,Uf=4,Yf=8,qf=32,Xf=64;function Kf(t,e,n,r,i,o,a,s,l,u){var c=e&Yf,f=c?a:void 0,h=c?void 0:a,d=c?o:void 0,p=c?void 0:o;e|=c?qf:Xf,e&=~(c?Xf:qf),e&Uf||(e&=~(Gf|Vf));var v=[t,e,i,d,f,p,h,s,l,u],g=n.apply(void 0,v);return sf(t)&&df(g,v),g.placeholder=r,$f(g,t,e)}function Zf(t){var e=t;return e.placeholder}var Qf=9007199254740991,Jf=/^(?:0|[1-9]\d*)$/;function th(t,e){var n=typeof t;return e=null==e?Qf:e,!!e&&("number"==n||"symbol"!=n&&Jf.test(t))&&t>-1&&t%1==0&&t<e}var eh=Math.min;function nh(t,e){var n=t.length,r=eh(e.length,n),i=ef(t);while(r--){var o=e[r];t[r]=th(o,n)?i[o]:void 0}return t}var rh="__lodash_placeholder__";function ih(t,e){var n=-1,r=t.length,i=0,o=[];while(++n<r){var a=t[n];a!==e&&a!==rh||(t[n]=rh,o[i++]=n)}return o}var oh=1,ah=2,sh=8,lh=16,uh=128,ch=512;function fh(t,e,n,r,i,o,a,s,l,u){var c=e&uh,f=e&oh,h=e&ah,d=e&(sh|lh),p=e&ch,v=h?void 0:Ic(t);function g(){var y=arguments.length,m=Array(y),b=y;while(b--)m[b]=arguments[b];if(d)var x=Zf(g),w=Hc(m,x);if(r&&(m=Fc(m,r,i,d)),o&&(m=Wc(m,o,a,d)),y-=w,d&&y<u){var _=ih(m,x);return Kf(t,e,fh,g.placeholder,n,m,_,s,l,u-y)}var O=f?n:this,C=h?O[t]:t;return y=m.length,s?m=nh(m,s):p&&y>1&&m.reverse(),c&&l<y&&(m.length=l),this&&this!==uu&&this instanceof g&&(C=v||Ic(C)),C.apply(O,m)}return g}function hh(t,e,n){var r=Ic(t);function i(){var o=arguments.length,a=Array(o),s=o,l=Zf(i);while(s--)a[s]=arguments[s];var u=o<3&&a[0]!==l&&a[o-1]!==l?[]:ih(a,l);if(o-=u.length,o<n)return Kf(t,e,fh,i.placeholder,void 0,a,u,void 0,void 0,n-o);var c=this&&this!==uu&&this instanceof i?r:t;return Bc(c,this,a)}return i}var dh=1;function ph(t,e,n,r){var i=e&dh,o=Ic(t);function a(){var e=-1,s=arguments.length,l=-1,u=r.length,c=Array(u+s),f=this&&this!==uu&&this instanceof a?o:t;while(++l<u)c[l]=r[l];while(s--)c[l++]=arguments[++e];return Bc(f,i?n:this,c)}return a}var vh="__lodash_placeholder__",gh=1,yh=2,mh=4,bh=8,xh=128,wh=256,_h=Math.min;function Oh(t,e){var n=t[1],r=e[1],i=n|r,o=i<(gh|yh|xh),a=r==xh&&n==bh||r==xh&&n==wh&&t[7].length<=e[8]||r==(xh|wh)&&e[7].length<=e[8]&&n==bh;if(!o&&!a)return t;r&gh&&(t[2]=e[2],i|=n&gh?0:mh);var s=e[3];if(s){var l=t[3];t[3]=l?Fc(l,s,e[4]):s,t[4]=l?ih(t[3],vh):e[4]}return s=e[5],s&&(l=t[5],t[5]=l?Wc(l,s,e[6]):s,t[6]=l?ih(t[5],vh):e[6]),s=e[7],s&&(t[7]=s),r&xh&&(t[8]=null==t[8]?e[8]:_h(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}var Ch="Expected a function",Sh=1,Eh=2,Mh=8,kh=16,Th=32,Ah=64,Lh=Math.max;function Ph(t,e,n,r,i,o,a,s){var l=e&Eh;if(!l&&"function"!=typeof t)throw new TypeError(Ch);var u=r?r.length:0;if(u||(e&=~(Th|Ah),r=i=void 0),a=void 0===a?a:Lh(Ju(a),0),s=void 0===s?s:Ju(s),u-=i?i.length:0,e&Ah){var c=r,f=i;r=i=void 0}var h=l?void 0:qc(t),d=[t,e,n,r,i,c,f,o,a,s];if(h&&Oh(d,h),t=d[0],e=d[1],n=d[2],r=d[3],i=d[4],s=d[9]=void 0===d[9]?l?0:t.length:Lh(d[9]-u,0),!s&&e&(Mh|kh)&&(e&=~(Mh|kh)),e&&e!=Sh)p=e==Mh||e==kh?hh(t,e,s):e!=Th&&e!=(Sh|Th)||i.length?fh.apply(void 0,d):ph(t,e,n,r);else var p=Nc(t,e,n);var v=h?Ac:df;return $f(v(p,d),t,e)}var Rh=128;function Ih(t,e,n){return e=n?void 0:e,e=t&&null==e?t.length:e,Ph(t,Rh,void 0,void 0,void 0,void 0,e)}function jh(t,e,n){"__proto__"==e&&wf?wf(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Nh(t,e){return t===e||t!==t&&e!==e}var Bh=Object.prototype,Dh=Bh.hasOwnProperty;function Fh(t,e,n){var r=t[e];Dh.call(t,e)&&Nh(r,n)&&(void 0!==n||e in t)||jh(t,e,n)}function zh(t,e,n,r){var i=!n;n||(n={});var o=-1,a=e.length;while(++o<a){var s=e[o],l=r?r(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),i?jh(n,s,l):Fh(n,s,l)}return n}var Wh=Math.max;function Hh(t,e,n){return e=Wh(void 0===e?t.length-1:e,0),function(){var r=arguments,i=-1,o=Wh(r.length-e,0),a=Array(o);while(++i<o)a[i]=r[e+i];i=-1;var s=Array(e+1);while(++i<e)s[i]=r[i];return s[e]=n(a),Bc(t,this,s)}}function $h(t,e){return Sf(Hh(t,e,nc),t+"")}var Gh=9007199254740991;function Vh(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Gh}function Uh(t){return null!=t&&Vh(t.length)&&!sc(t)}function Yh(t,e,n){if(!$u(n))return!1;var r=typeof e;return!!("number"==r?Uh(n)&&th(e,n.length):"string"==r&&e in n)&&Nh(n[e],t)}function qh(t){return $h((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&Yh(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);while(++r<i){var s=n[r];s&&t(e,s,r,o)}return e}))}var Xh=Object.prototype;function Kh(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||Xh;return t===n}function Zh(t,e){var n=-1,r=Array(t);while(++n<t)r[n]=e(n);return r}var Qh="[object Arguments]";function Jh(t){return Cu(t)&&Ou(t)==Qh}var td=Object.prototype,ed=td.hasOwnProperty,nd=td.propertyIsEnumerable,rd=Jh(function(){return arguments}())?Jh:function(t){return Cu(t)&&ed.call(t,"callee")&&!nd.call(t,"callee")},id=rd;function od(){return!1}var ad="object"==typeof exports&&exports&&!exports.nodeType&&exports,sd=ad&&t&&!t.nodeType&&t,ld=sd&&sd.exports===ad,ud=ld?uu.Buffer:void 0,cd=ud?ud.isBuffer:void 0,fd=cd||od,hd=fd,dd="[object Arguments]",pd="[object Array]",vd="[object Boolean]",gd="[object Date]",yd="[object Error]",md="[object Function]",bd="[object Map]",xd="[object Number]",wd="[object Object]",_d="[object RegExp]",Od="[object Set]",Cd="[object String]",Sd="[object WeakMap]",Ed="[object ArrayBuffer]",Md="[object DataView]",kd="[object Float32Array]",Td="[object Float64Array]",Ad="[object Int8Array]",Ld="[object Int16Array]",Pd="[object Int32Array]",Rd="[object Uint8Array]",Id="[object Uint8ClampedArray]",jd="[object Uint16Array]",Nd="[object Uint32Array]",Bd={};function Dd(t){return Cu(t)&&Vh(t.length)&&!!Bd[Ou(t)]}function Fd(t){return function(e){return t(e)}}Bd[kd]=Bd[Td]=Bd[Ad]=Bd[Ld]=Bd[Pd]=Bd[Rd]=Bd[Id]=Bd[jd]=Bd[Nd]=!0,Bd[dd]=Bd[pd]=Bd[Ed]=Bd[vd]=Bd[Md]=Bd[gd]=Bd[yd]=Bd[md]=Bd[bd]=Bd[xd]=Bd[wd]=Bd[_d]=Bd[Od]=Bd[Cd]=Bd[Sd]=!1;var zd="object"==typeof exports&&exports&&!exports.nodeType&&exports,Wd=zd&&t&&!t.nodeType&&t,Hd=Wd&&Wd.exports===zd,$d=Hd&&au.process,Gd=function(){try{var t=Wd&&Wd.require&&Wd.require("util").types;return t||$d&&$d.binding&&$d.binding("util")}catch(e){}}(),Vd=Gd,Ud=Vd&&Vd.isTypedArray,Yd=Ud?Fd(Ud):Dd,qd=Yd,Xd=Object.prototype,Kd=Xd.hasOwnProperty;function Zd(t,e){var n=Lu(t),r=!n&&id(t),i=!n&&!r&&hd(t),o=!n&&!r&&!i&&qd(t),a=n||r||i||o,s=a?Zh(t.length,String):[],l=s.length;for(var u in t)!e&&!Kd.call(t,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||th(u,l))||s.push(u);return s}function Qd(t,e){return function(n){return t(e(n))}}var Jd=Qd(Object.keys,Object),tp=Jd,ep=Object.prototype,np=ep.hasOwnProperty;function rp(t){if(!Kh(t))return tp(t);var e=[];for(var n in Object(t))np.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ip(t){return Uh(t)?Zd(t):rp(t)}var op=Object.prototype,ap=op.hasOwnProperty,sp=qh((function(t,e){if(Kh(e)||Uh(e))zh(e,ip(e),t);else for(var n in e)ap.call(e,n)&&Fh(t,n,e[n])})),lp=sp;function up(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}var cp=Object.prototype,fp=cp.hasOwnProperty;function hp(t){if(!$u(t))return up(t);var e=Kh(t),n=[];for(var r in t)("constructor"!=r||!e&&fp.call(t,r))&&n.push(r);return n}function dp(t){return Uh(t)?Zd(t,!0):hp(t)}var pp=qh((function(t,e){zh(e,dp(e),t)})),vp=pp,gp=qh((function(t,e,n,r){zh(e,dp(e),t,r)})),yp=gp,mp=qh((function(t,e,n,r){zh(e,ip(e),t,r)})),bp=mp,xp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wp=/^\w*$/;function _p(t,e){if(Lu(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Eu(t))||(wp.test(t)||!xp.test(t)||null!=e&&t in Object(e))}var Op=Cc(Object,"create"),Cp=Op;function Sp(){this.__data__=Cp?Cp(null):{},this.size=0}function Ep(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Mp="__lodash_hash_undefined__",kp=Object.prototype,Tp=kp.hasOwnProperty;function Ap(t){var e=this.__data__;if(Cp){var n=e[t];return n===Mp?void 0:n}return Tp.call(e,t)?e[t]:void 0}var Lp=Object.prototype,Pp=Lp.hasOwnProperty;function Rp(t){var e=this.__data__;return Cp?void 0!==e[t]:Pp.call(e,t)}var Ip="__lodash_hash_undefined__";function jp(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Cp&&void 0===e?Ip:e,this}function Np(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Bp(){this.__data__=[],this.size=0}function Dp(t,e){var n=t.length;while(n--)if(Nh(t[n][0],e))return n;return-1}Np.prototype.clear=Sp,Np.prototype["delete"]=Ep,Np.prototype.get=Ap,Np.prototype.has=Rp,Np.prototype.set=jp;var Fp=Array.prototype,zp=Fp.splice;function Wp(t){var e=this.__data__,n=Dp(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():zp.call(e,n,1),--this.size,!0}function Hp(t){var e=this.__data__,n=Dp(e,t);return n<0?void 0:e[n][1]}function $p(t){return Dp(this.__data__,t)>-1}function Gp(t,e){var n=this.__data__,r=Dp(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Vp(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}Vp.prototype.clear=Bp,Vp.prototype["delete"]=Wp,Vp.prototype.get=Hp,Vp.prototype.has=$p,Vp.prototype.set=Gp;var Up=Cc(uu,"Map"),Yp=Up;function qp(){this.size=0,this.__data__={hash:new Np,map:new(Yp||Vp),string:new Np}}function Xp(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Kp(t,e){var n=t.__data__;return Xp(e)?n["string"==typeof e?"string":"hash"]:n.map}function Zp(t){var e=Kp(this,t)["delete"](t);return this.size-=e?1:0,e}function Qp(t){return Kp(this,t).get(t)}function Jp(t){return Kp(this,t).has(t)}function tv(t,e){var n=Kp(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ev(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}ev.prototype.clear=qp,ev.prototype["delete"]=Zp,ev.prototype.get=Qp,ev.prototype.has=Jp,ev.prototype.set=tv;var nv="Expected a function";function rv(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(nv);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(rv.Cache||ev),n}rv.Cache=ev;var iv=500;function ov(t){var e=rv(t,(function(t){return n.size===iv&&n.clear(),t})),n=e.cache;return e}var av=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sv=/\\(\\)?/g,lv=ov((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(av,(function(t,n,r,i){e.push(r?i.replace(sv,"$1"):n||t)})),e})),uv=lv;function cv(t){return null==t?"":ju(t)}function fv(t,e){return Lu(t)?t:_p(t,e)?[t]:uv(cv(t))}var hv=1/0;function dv(t){if("string"==typeof t||Eu(t))return t;var e=t+"";return"0"==e&&1/t==-hv?"-0":e}function pv(t,e){e=fv(e,t);var n=0,r=e.length;while(null!=t&&n<r)t=t[dv(e[n++])];return n&&n==r?t:void 0}function vv(t,e,n){var r=null==t?void 0:pv(t,e);return void 0===r?n:r}function gv(t,e){var n=-1,r=e.length,i=Array(r),o=null==t;while(++n<r)i[n]=o?void 0:vv(t,e[n]);return i}function yv(t,e){var n=-1,r=e.length,i=t.length;while(++n<r)t[i+n]=e[n];return t}var mv=fu?fu.isConcatSpreadable:void 0;function bv(t){return Lu(t)||id(t)||!!(mv&&t&&t[mv])}function xv(t,e,n,r,i){var o=-1,a=t.length;n||(n=bv),i||(i=[]);while(++o<a){var s=t[o];e>0&&n(s)?e>1?xv(s,e-1,n,r,i):yv(i,s):r||(i[i.length]=s)}return i}function wv(t){var e=null==t?0:t.length;return e?xv(t,1):[]}function _v(t){return Sf(Hh(t,void 0,wv),t+"")}var Ov=_v(gv),Cv=Ov,Sv=Qd(Object.getPrototypeOf,Object),Ev=Sv,Mv="[object Object]",kv=Function.prototype,Tv=Object.prototype,Av=kv.toString,Lv=Tv.hasOwnProperty,Pv=Av.call(Object);function Rv(t){if(!Cu(t)||Ou(t)!=Mv)return!1;var e=Ev(t);if(null===e)return!0;var n=Lv.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Av.call(n)==Pv}var Iv="[object DOMException]",jv="[object Error]";function Nv(t){if(!Cu(t))return!1;var e=Ou(t);return e==jv||e==Iv||"string"==typeof t.message&&"string"==typeof t.name&&!Rv(t)}var Bv=$h((function(t,e){try{return Bc(t,void 0,e)}catch(n){return Nv(n)?n:new Error(n)}})),Dv=Bv,Fv="Expected a function";function zv(t,e){var n;if("function"!=typeof e)throw new TypeError(Fv);return t=Ju(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var Wv=1,Hv=32,$v=$h((function(t,e,n){var r=Wv;if(n.length){var i=ih(n,Zf($v));r|=Hv}return Ph(t,r,e,n,i)}));$v.placeholder={};var Gv=$v,Vv=_v((function(t,e){return Ef(e,(function(e){e=dv(e),jh(t,e,Gv(t[e],t))})),t})),Uv=Vv,Yv=1,qv=2,Xv=32,Kv=$h((function(t,e,n){var r=Yv|qv;if(n.length){var i=ih(n,Zf(Kv));r|=Xv}return Ph(e,r,t,n,i)}));Kv.placeholder={};var Zv=Kv;function Qv(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;var o=Array(i);while(++r<i)o[r]=t[r+e];return o}function Jv(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Qv(t,e,n)}var tg="\\ud800-\\udfff",eg="\\u0300-\\u036f",ng="\\ufe20-\\ufe2f",rg="\\u20d0-\\u20ff",ig=eg+ng+rg,og="\\ufe0e\\ufe0f",ag="\\u200d",sg=RegExp("["+ag+tg+ig+og+"]");function lg(t){return sg.test(t)}function ug(t){return t.split("")}var cg="\\ud800-\\udfff",fg="\\u0300-\\u036f",hg="\\ufe20-\\ufe2f",dg="\\u20d0-\\u20ff",pg=fg+hg+dg,vg="\\ufe0e\\ufe0f",gg="["+cg+"]",yg="["+pg+"]",mg="\\ud83c[\\udffb-\\udfff]",bg="(?:"+yg+"|"+mg+")",xg="[^"+cg+"]",wg="(?:\\ud83c[\\udde6-\\uddff]){2}",_g="[\\ud800-\\udbff][\\udc00-\\udfff]",Og="\\u200d",Cg=bg+"?",Sg="["+vg+"]?",Eg="(?:"+Og+"(?:"+[xg,wg,_g].join("|")+")"+Sg+Cg+")*",Mg=Sg+Cg+Eg,kg="(?:"+[xg+yg+"?",yg,wg,_g,gg].join("|")+")",Tg=RegExp(mg+"(?="+mg+")|"+kg+Mg,"g");function Ag(t){return t.match(Tg)||[]}function Lg(t){return lg(t)?Ag(t):ug(t)}function Pg(t){return function(e){e=cv(e);var n=lg(e)?Lg(e):void 0,r=n?n[0]:e.charAt(0),i=n?Jv(n,1).join(""):e.slice(1);return r[t]()+i}}var Rg=Pg("toUpperCase"),Ig=Rg;function jg(t){return Ig(cv(t).toLowerCase())}function Ng(t,e,n,r){var i=-1,o=null==t?0:t.length;r&&o&&(n=t[++i]);while(++i<o)n=e(n,t[i],i,t);return n}function Bg(t){return function(e){return null==t?void 0:t[e]}}var Dg={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},Fg=Bg(Dg),zg=Fg,Wg=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Hg="\\u0300-\\u036f",$g="\\ufe20-\\ufe2f",Gg="\\u20d0-\\u20ff",Vg=Hg+$g+Gg,Ug="["+Vg+"]",Yg=RegExp(Ug,"g");function qg(t){return t=cv(t),t&&t.replace(Wg,zg).replace(Yg,"")}var Xg=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Kg(t){return t.match(Xg)||[]}var Zg=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Qg(t){return Zg.test(t)}var Jg="\\ud800-\\udfff",ty="\\u0300-\\u036f",ey="\\ufe20-\\ufe2f",ny="\\u20d0-\\u20ff",ry=ty+ey+ny,iy="\\u2700-\\u27bf",oy="a-z\\xdf-\\xf6\\xf8-\\xff",ay="\\xac\\xb1\\xd7\\xf7",sy="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ly="\\u2000-\\u206f",uy=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",cy="A-Z\\xc0-\\xd6\\xd8-\\xde",fy="\\ufe0e\\ufe0f",hy=ay+sy+ly+uy,dy="[']",py="["+hy+"]",vy="["+ry+"]",gy="\\d+",yy="["+iy+"]",my="["+oy+"]",by="[^"+Jg+hy+gy+iy+oy+cy+"]",xy="\\ud83c[\\udffb-\\udfff]",wy="(?:"+vy+"|"+xy+")",_y="[^"+Jg+"]",Oy="(?:\\ud83c[\\udde6-\\uddff]){2}",Cy="[\\ud800-\\udbff][\\udc00-\\udfff]",Sy="["+cy+"]",Ey="\\u200d",My="(?:"+my+"|"+by+")",ky="(?:"+Sy+"|"+by+")",Ty="(?:"+dy+"(?:d|ll|m|re|s|t|ve))?",Ay="(?:"+dy+"(?:D|LL|M|RE|S|T|VE))?",Ly=wy+"?",Py="["+fy+"]?",Ry="(?:"+Ey+"(?:"+[_y,Oy,Cy].join("|")+")"+Py+Ly+")*",Iy="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jy="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ny=Py+Ly+Ry,By="(?:"+[yy,Oy,Cy].join("|")+")"+Ny,Dy=RegExp([Sy+"?"+my+"+"+Ty+"(?="+[py,Sy,"$"].join("|")+")",ky+"+"+Ay+"(?="+[py,Sy+My,"$"].join("|")+")",Sy+"?"+My+"+"+Ty,Sy+"+"+Ay,jy,Iy,gy,By].join("|"),"g");function Fy(t){return t.match(Dy)||[]}function zy(t,e,n){return t=cv(t),e=n?void 0:e,void 0===e?Qg(t)?Fy(t):Kg(t):t.match(e)||[]}var Wy="[']",Hy=RegExp(Wy,"g");function $y(t){return function(e){return Ng(zy(qg(e).replace(Hy,"")),t,"")}}var Gy=$y((function(t,e,n){return e=e.toLowerCase(),t+(n?jg(e):e)})),Vy=Gy;function Uy(){if(!arguments.length)return[];var t=arguments[0];return Lu(t)?t:[t]}var Yy=uu.isFinite,qy=Math.min;function Xy(t){var e=Math[t];return function(t,n){if(t=Xu(t),n=null==n?0:qy(Ju(n),292),n&&Yy(t)){var r=(cv(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(cv(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}var Ky=Xy("ceil"),Zy=Ky;function Qy(t){var e=af(t);return e.__chain__=!0,e}var Jy=Math.ceil,tm=Math.max;function em(t,e,n){e=(n?Yh(t,e,n):void 0===e)?1:tm(Ju(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];var i=0,o=0,a=Array(Jy(r/e));while(i<r)a[o++]=Qv(t,i,i+=e);return a}function nm(t,e,n){return t===t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function rm(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=Xu(n),n=n===n?n:0),void 0!==e&&(e=Xu(e),e=e===e?e:0),nm(Xu(t),e,n)}function im(){this.__data__=new Vp,this.size=0}function om(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function am(t){return this.__data__.get(t)}function sm(t){return this.__data__.has(t)}var lm=200;function um(t,e){var n=this.__data__;if(n instanceof Vp){var r=n.__data__;if(!Yp||r.length<lm-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ev(r)}return n.set(t,e),this.size=n.size,this}function cm(t){var e=this.__data__=new Vp(t);this.size=e.size}function fm(t,e){return t&&zh(e,ip(e),t)}function hm(t,e){return t&&zh(e,dp(e),t)}cm.prototype.clear=im,cm.prototype["delete"]=om,cm.prototype.get=am,cm.prototype.has=sm,cm.prototype.set=um;var dm="object"==typeof exports&&exports&&!exports.nodeType&&exports,pm=dm&&t&&!t.nodeType&&t,vm=pm&&pm.exports===dm,gm=vm?uu.Buffer:void 0,ym=gm?gm.allocUnsafe:void 0;function mm(t,e){if(e)return t.slice();var n=t.length,r=ym?ym(n):new t.constructor(n);return t.copy(r),r}function bm(t,e){var n=-1,r=null==t?0:t.length,i=0,o=[];while(++n<r){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function xm(){return[]}var wm=Object.prototype,_m=wm.propertyIsEnumerable,Om=Object.getOwnPropertySymbols,Cm=Om?function(t){return null==t?[]:(t=Object(t),bm(Om(t),(function(e){return _m.call(t,e)})))}:xm,Sm=Cm;function Em(t,e){return zh(t,Sm(t),e)}var Mm=Object.getOwnPropertySymbols,km=Mm?function(t){var e=[];while(t)yv(e,Sm(t)),t=Ev(t);return e}:xm,Tm=km;function Am(t,e){return zh(t,Tm(t),e)}function Lm(t,e,n){var r=e(t);return Lu(t)?r:yv(r,n(t))}function Pm(t){return Lm(t,ip,Sm)}function Rm(t){return Lm(t,dp,Tm)}var Im=Cc(uu,"DataView"),jm=Im,Nm=Cc(uu,"Promise"),Bm=Nm,Dm=Cc(uu,"Set"),Fm=Dm,zm="[object Map]",Wm="[object Object]",Hm="[object Promise]",$m="[object Set]",Gm="[object WeakMap]",Vm="[object DataView]",Um=pc(jm),Ym=pc(Yp),qm=pc(Bm),Xm=pc(Fm),Km=pc(Ec),Zm=Ou;(jm&&Zm(new jm(new ArrayBuffer(1)))!=Vm||Yp&&Zm(new Yp)!=zm||Bm&&Zm(Bm.resolve())!=Hm||Fm&&Zm(new Fm)!=$m||Ec&&Zm(new Ec)!=Gm)&&(Zm=function(t){var e=Ou(t),n=e==Wm?t.constructor:void 0,r=n?pc(n):"";if(r)switch(r){case Um:return Vm;case Ym:return zm;case qm:return Hm;case Xm:return $m;case Km:return Gm}return e});var Qm=Zm,Jm=Object.prototype,tb=Jm.hasOwnProperty;function eb(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&tb.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var nb=uu.Uint8Array,rb=nb;function ib(t){var e=new t.constructor(t.byteLength);return new rb(e).set(new rb(t)),e}function ob(t,e){var n=e?ib(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var ab=/\w*$/;function sb(t){var e=new t.constructor(t.source,ab.exec(t));return e.lastIndex=t.lastIndex,e}var lb=fu?fu.prototype:void 0,ub=lb?lb.valueOf:void 0;function cb(t){return ub?Object(ub.call(t)):{}}function fb(t,e){var n=e?ib(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var hb="[object Boolean]",db="[object Date]",pb="[object Map]",vb="[object Number]",gb="[object RegExp]",yb="[object Set]",mb="[object String]",bb="[object Symbol]",xb="[object ArrayBuffer]",wb="[object DataView]",_b="[object Float32Array]",Ob="[object Float64Array]",Cb="[object Int8Array]",Sb="[object Int16Array]",Eb="[object Int32Array]",Mb="[object Uint8Array]",kb="[object Uint8ClampedArray]",Tb="[object Uint16Array]",Ab="[object Uint32Array]";function Lb(t,e,n){var r=t.constructor;switch(e){case xb:return ib(t);case hb:case db:return new r(+t);case wb:return ob(t,n);case _b:case Ob:case Cb:case Sb:case Eb:case Mb:case kb:case Tb:case Ab:return fb(t,n);case pb:return new r;case vb:case mb:return new r(t);case gb:return sb(t);case yb:return new r;case bb:return cb(t)}}function Pb(t){return"function"!=typeof t.constructor||Kh(t)?{}:Rc(Ev(t))}var Rb="[object Map]";function Ib(t){return Cu(t)&&Qm(t)==Rb}var jb=Vd&&Vd.isMap,Nb=jb?Fd(jb):Ib,Bb=Nb,Db="[object Set]";function Fb(t){return Cu(t)&&Qm(t)==Db}var zb=Vd&&Vd.isSet,Wb=zb?Fd(zb):Fb,Hb=Wb,$b=1,Gb=2,Vb=4,Ub="[object Arguments]",Yb="[object Array]",qb="[object Boolean]",Xb="[object Date]",Kb="[object Error]",Zb="[object Function]",Qb="[object GeneratorFunction]",Jb="[object Map]",tx="[object Number]",ex="[object Object]",nx="[object RegExp]",rx="[object Set]",ix="[object String]",ox="[object Symbol]",ax="[object WeakMap]",sx="[object ArrayBuffer]",lx="[object DataView]",ux="[object Float32Array]",cx="[object Float64Array]",fx="[object Int8Array]",hx="[object Int16Array]",dx="[object Int32Array]",px="[object Uint8Array]",vx="[object Uint8ClampedArray]",gx="[object Uint16Array]",yx="[object Uint32Array]",mx={};function bx(t,e,n,r,i,o){var a,s=e&$b,l=e&Gb,u=e&Vb;if(n&&(a=i?n(t,r,i,o):n(t)),void 0!==a)return a;if(!$u(t))return t;var c=Lu(t);if(c){if(a=eb(t),!s)return ef(t,a)}else{var f=Qm(t),h=f==Zb||f==Qb;if(hd(t))return mm(t,s);if(f==ex||f==Ub||h&&!i){if(a=l||h?{}:Pb(t),!s)return l?Am(t,hm(a,t)):Em(t,fm(a,t))}else{if(!mx[f])return i?t:{};a=Lb(t,f,s)}}o||(o=new cm);var d=o.get(t);if(d)return d;o.set(t,a),Hb(t)?t.forEach((function(r){a.add(bx(r,e,n,r,t,o))})):Bb(t)&&t.forEach((function(r,i){a.set(i,bx(r,e,n,i,t,o))}));var p=u?l?Rm:Pm:l?dp:ip,v=c?void 0:p(t);return Ef(v||t,(function(r,i){v&&(i=r,r=t[i]),Fh(a,i,bx(r,e,n,i,t,o))})),a}mx[Ub]=mx[Yb]=mx[sx]=mx[lx]=mx[qb]=mx[Xb]=mx[ux]=mx[cx]=mx[fx]=mx[hx]=mx[dx]=mx[Jb]=mx[tx]=mx[ex]=mx[nx]=mx[rx]=mx[ix]=mx[ox]=mx[px]=mx[vx]=mx[gx]=mx[yx]=!0,mx[Kb]=mx[Zb]=mx[ax]=!1;var xx=4;function wx(t){return bx(t,xx)}var _x=1,Ox=4;function Cx(t){return bx(t,_x|Ox)}var Sx=1,Ex=4;function Mx(t,e){return e="function"==typeof e?e:void 0,bx(t,Sx|Ex,e)}var kx=4;function Tx(t,e){return e="function"==typeof e?e:void 0,bx(t,kx,e)}function Ax(){return new tf(this.value(),this.__chain__)}function Lx(t){var e=-1,n=null==t?0:t.length,r=0,i=[];while(++e<n){var o=t[e];o&&(i[r++]=o)}return i}function Px(){var t=arguments.length;if(!t)return[];var e=Array(t-1),n=arguments[0],r=t;while(r--)e[r-1]=arguments[r];return yv(Lu(n)?ef(n):[n],xv(e,1))}var Rx="__lodash_hash_undefined__";function Ix(t){return this.__data__.set(t,Rx),this}function jx(t){return this.__data__.has(t)}function Nx(t){var e=-1,n=null==t?0:t.length;this.__data__=new ev;while(++e<n)this.add(t[e])}function Bx(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(e(t[n],n,t))return!0;return!1}function Dx(t,e){return t.has(e)}Nx.prototype.add=Nx.prototype.push=Ix,Nx.prototype.has=jx;var Fx=1,zx=2;function Wx(t,e,n,r,i,o){var a=n&Fx,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,d=n&zx?new Nx:void 0;o.set(t,e),o.set(e,t);while(++f<s){var p=t[f],v=e[f];if(r)var g=a?r(v,p,f,e,t,o):r(p,v,f,t,e,o);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!Bx(e,(function(t,e){if(!Dx(d,e)&&(p===t||i(p,t,n,r,o)))return d.push(e)}))){h=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){h=!1;break}}return o["delete"](t),o["delete"](e),h}function Hx(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function $x(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var Gx=1,Vx=2,Ux="[object Boolean]",Yx="[object Date]",qx="[object Error]",Xx="[object Map]",Kx="[object Number]",Zx="[object RegExp]",Qx="[object Set]",Jx="[object String]",tw="[object Symbol]",ew="[object ArrayBuffer]",nw="[object DataView]",rw=fu?fu.prototype:void 0,iw=rw?rw.valueOf:void 0;function ow(t,e,n,r,i,o,a){switch(n){case nw:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ew:return!(t.byteLength!=e.byteLength||!o(new rb(t),new rb(e)));case Ux:case Yx:case Kx:return Nh(+t,+e);case qx:return t.name==e.name&&t.message==e.message;case Zx:case Jx:return t==e+"";case Xx:var s=Hx;case Qx:var l=r&Gx;if(s||(s=$x),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=Vx,a.set(t,e);var c=Wx(s(t),s(e),r,i,o,a);return a["delete"](t),c;case tw:if(iw)return iw.call(t)==iw.call(e)}return!1}var aw=1,sw=Object.prototype,lw=sw.hasOwnProperty;function uw(t,e,n,r,i,o){var a=n&aw,s=Pm(t),l=s.length,u=Pm(e),c=u.length;if(l!=c&&!a)return!1;var f=l;while(f--){var h=s[f];if(!(a?h in e:lw.call(e,h)))return!1}var d=o.get(t),p=o.get(e);if(d&&p)return d==e&&p==t;var v=!0;o.set(t,e),o.set(e,t);var g=a;while(++f<l){h=s[f];var y=t[h],m=e[h];if(r)var b=a?r(m,y,h,e,t,o):r(y,m,h,t,e,o);if(!(void 0===b?y===m||i(y,m,n,r,o):b)){v=!1;break}g||(g="constructor"==h)}if(v&&!g){var x=t.constructor,w=e.constructor;x==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(v=!1)}return o["delete"](t),o["delete"](e),v}var cw=1,fw="[object Arguments]",hw="[object Array]",dw="[object Object]",pw=Object.prototype,vw=pw.hasOwnProperty;function gw(t,e,n,r,i,o){var a=Lu(t),s=Lu(e),l=a?hw:Qm(t),u=s?hw:Qm(e);l=l==fw?dw:l,u=u==fw?dw:u;var c=l==dw,f=u==dw,h=l==u;if(h&&hd(t)){if(!hd(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new cm),a||qd(t)?Wx(t,e,n,r,i,o):ow(t,e,l,n,r,i,o);if(!(n&cw)){var d=c&&vw.call(t,"__wrapped__"),p=f&&vw.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,g=p?e.value():e;return o||(o=new cm),i(v,g,n,r,o)}}return!!h&&(o||(o=new cm),uw(t,e,n,r,i,o))}function yw(t,e,n,r,i){return t===e||(null==t||null==e||!Cu(t)&&!Cu(e)?t!==t&&e!==e:gw(t,e,n,r,yw,i))}var mw=1,bw=2;function xw(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;t=Object(t);while(i--){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}while(++i<o){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in t))return!1}else{var f=new cm;if(r)var h=r(u,c,l,t,e,f);if(!(void 0===h?yw(c,u,mw|bw,r,f):h))return!1}}return!0}function ww(t){return t===t&&!$u(t)}function _w(t){var e=ip(t),n=e.length;while(n--){var r=e[n],i=t[r];e[n]=[r,i,ww(i)]}return e}function Ow(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function Cw(t){var e=_w(t);return 1==e.length&&e[0][2]?Ow(e[0][0],e[0][1]):function(n){return n===t||xw(n,t,e)}}function Sw(t,e){return null!=t&&e in Object(t)}function Ew(t,e,n){e=fv(e,t);var r=-1,i=e.length,o=!1;while(++r<i){var a=dv(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=null==t?0:t.length,!!i&&Vh(i)&&th(a,i)&&(Lu(t)||id(t)))}function Mw(t,e){return null!=t&&Ew(t,e,Sw)}var kw=1,Tw=2;function Aw(t,e){return _p(t)&&ww(e)?Ow(dv(t),e):function(n){var r=vv(n,t);return void 0===r&&r===e?Mw(n,t):yw(e,r,kw|Tw)}}function Lw(t){return function(e){return null==e?void 0:e[t]}}function Pw(t){return function(e){return pv(e,t)}}function Rw(t){return _p(t)?Lw(dv(t)):Pw(t)}function Iw(t){return"function"==typeof t?t:null==t?nc:"object"==typeof t?Lu(t)?Aw(t[0],t[1]):Cw(t):Rw(t)}var jw="Expected a function";function Nw(t){var e=null==t?0:t.length,n=Iw;return t=e?Tu(t,(function(t){if("function"!=typeof t[1])throw new TypeError(jw);return[n(t[0]),t[1]]})):[],$h((function(n){var r=-1;while(++r<e){var i=t[r];if(Bc(i[0],this,n))return Bc(i[1],this,n)}}))}function Bw(t,e,n){var r=n.length;if(null==t)return!r;t=Object(t);while(r--){var i=n[r],o=e[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function Dw(t){var e=ip(t);return function(n){return Bw(n,t,e)}}var Fw=1;function zw(t){return Dw(bx(t,Fw))}function Ww(t,e){return null==e||Bw(t,e,ip(e))}function Hw(t,e,n,r){var i=-1,o=null==t?0:t.length;while(++i<o){var a=t[i];e(r,a,n(a),t)}return r}function $w(t){return function(e,n,r){var i=-1,o=Object(e),a=r(e),s=a.length;while(s--){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}var Gw=$w(),Vw=Gw;function Uw(t,e){return t&&Vw(t,e,ip)}function Yw(t,e){return function(n,r){if(null==n)return n;if(!Uh(n))return t(n,r);var i=n.length,o=e?i:-1,a=Object(n);while(e?o--:++o<i)if(!1===r(a[o],o,a))break;return n}}var qw=Yw(Uw),Xw=qw;function Kw(t,e,n,r){return Xw(t,(function(t,i,o){e(r,t,n(t),o)})),r}function Zw(t,e){return function(n,r){var i=Lu(n)?Hw:Kw,o=e?e():{};return i(n,t,Iw(r),o)}}var Qw=Object.prototype,Jw=Qw.hasOwnProperty,t_=Zw((function(t,e,n){Jw.call(t,n)?++t[n]:jh(t,n,1)})),e_=t_;function n_(t,e){var n=Rc(t);return null==e?n:fm(n,e)}var r_=8;function i_(t,e,n){e=n?void 0:e;var r=Ph(t,r_,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=i_.placeholder,r}i_.placeholder={};var o_=16;function a_(t,e,n){e=n?void 0:e;var r=Ph(t,o_,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=a_.placeholder,r}a_.placeholder={};var s_=function(){return uu.Date.now()},l_=s_,u_="Expected a function",c_=Math.max,f_=Math.min;function h_(t,e,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,h=!0;if("function"!=typeof t)throw new TypeError(u_);function d(e){var n=r,o=i;return r=i=void 0,u=e,a=t.apply(o,n),a}function p(t){return u=t,s=setTimeout(y,e),c?d(t):a}function v(t){var n=t-l,r=t-u,i=e-n;return f?f_(i,o-r):i}function g(t){var n=t-l,r=t-u;return void 0===l||n>=e||n<0||f&&r>=o}function y(){var t=l_();if(g(t))return m(t);s=setTimeout(y,v(t))}function m(t){return s=void 0,h&&r?d(t):(r=i=void 0,a)}function b(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0}function x(){return void 0===s?a:m(l_())}function w(){var t=l_(),n=g(t);if(r=arguments,i=this,l=t,n){if(void 0===s)return p(l);if(f)return clearTimeout(s),s=setTimeout(y,e),d(l)}return void 0===s&&(s=setTimeout(y,e)),a}return e=Xu(e)||0,$u(n)&&(c=!!n.leading,f="maxWait"in n,o=f?c_(Xu(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h),w.cancel=b,w.flush=x,w}function d_(t,e){return null==t||t!==t?e:t}var p_=Object.prototype,v_=p_.hasOwnProperty,g_=$h((function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;i&&Yh(e[0],e[1],i)&&(r=1);while(++n<r){var o=e[n],a=dp(o),s=-1,l=a.length;while(++s<l){var u=a[s],c=t[u];(void 0===c||Nh(c,p_[u])&&!v_.call(t,u))&&(t[u]=o[u])}}return t})),y_=g_;function m_(t,e,n){(void 0!==n&&!Nh(t[e],n)||void 0===n&&!(e in t))&&jh(t,e,n)}function b_(t){return Cu(t)&&Uh(t)}function x_(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}function w_(t){return zh(t,dp(t))}function __(t,e,n,r,i,o,a){var s=x_(t,n),l=x_(e,n),u=a.get(l);if(u)m_(t,n,u);else{var c=o?o(s,l,n+"",t,e,a):void 0,f=void 0===c;if(f){var h=Lu(l),d=!h&&hd(l),p=!h&&!d&&qd(l);c=l,h||d||p?Lu(s)?c=s:b_(s)?c=ef(s):d?(f=!1,c=mm(l,!0)):p?(f=!1,c=fb(l,!0)):c=[]:Rv(l)||id(l)?(c=s,id(s)?c=w_(s):$u(s)&&!sc(s)||(c=Pb(l))):f=!1}f&&(a.set(l,c),i(c,l,r,o,a),a["delete"](l)),m_(t,n,c)}}function O_(t,e,n,r,i){t!==e&&Vw(e,(function(o,a){if(i||(i=new cm),$u(o))__(t,e,a,n,O_,r,i);else{var s=r?r(x_(t,a),o,a+"",t,e,i):void 0;void 0===s&&(s=o),m_(t,a,s)}}),dp)}function C_(t,e,n,r,i,o){return $u(t)&&$u(e)&&(o.set(e,t),O_(t,e,void 0,C_,o),o["delete"](e)),t}var S_=qh((function(t,e,n,r){O_(t,e,n,r)})),E_=S_,M_=$h((function(t){return t.push(void 0,C_),Bc(E_,void 0,t)})),k_=M_,T_="Expected a function";function A_(t,e,n){if("function"!=typeof t)throw new TypeError(T_);return setTimeout((function(){t.apply(void 0,n)}),e)}var L_=$h((function(t,e){return A_(t,1,e)})),P_=L_,R_=$h((function(t,e,n){return A_(t,Xu(e)||0,n)})),I_=R_;function j_(t,e,n){var r=-1,i=null==t?0:t.length;while(++r<i)if(n(e,t[r]))return!0;return!1}var N_=200;function B_(t,e,n,r){var i=-1,o=Lf,a=!0,s=t.length,l=[],u=e.length;if(!s)return l;n&&(e=Tu(e,Fd(n))),r?(o=j_,a=!1):e.length>=N_&&(o=Dx,a=!1,e=new Nx(e));t:while(++i<s){var c=t[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f===f){var h=u;while(h--)if(e[h]===f)continue t;l.push(c)}else o(e,f,r)||l.push(c)}return l}var D_=$h((function(t,e){return b_(t)?B_(t,xv(e,1,b_,!0)):[]})),F_=D_;function z_(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var W_=$h((function(t,e){var n=z_(e);return b_(n)&&(n=void 0),b_(t)?B_(t,xv(e,1,b_,!0),Iw(n)):[]})),H_=W_,$_=$h((function(t,e){var n=z_(e);return b_(n)&&(n=void 0),b_(t)?B_(t,xv(e,1,b_,!0),void 0,n):[]})),G_=$_,V_=Nu((function(t,e){return t/e}),1),U_=V_;function Y_(t,e,n){var r=null==t?0:t.length;return r?(e=n||void 0===e?1:Ju(e),Qv(t,e<0?0:e,r)):[]}function q_(t,e,n){var r=null==t?0:t.length;return r?(e=n||void 0===e?1:Ju(e),e=r-e,Qv(t,0,e<0?0:e)):[]}function X_(t,e,n,r){var i=t.length,o=r?i:-1;while((r?o--:++o<i)&&e(t[o],o,t));return n?Qv(t,r?0:o,r?o+1:i):Qv(t,r?o+1:0,r?i:o)}function K_(t,e){return t&&t.length?X_(t,Iw(e),!0,!0):[]}function Z_(t,e){return t&&t.length?X_(t,Iw(e),!0):[]}function Q_(t){return"function"==typeof t?t:nc}function J_(t,e){var n=Lu(t)?Ef:Xw;return n(t,Q_(e))}function tO(t,e){var n=null==t?0:t.length;while(n--)if(!1===e(t[n],n,t))break;return t}var eO=$w(!0),nO=eO;function rO(t,e){return t&&nO(t,e,ip)}var iO=Yw(rO,!0),oO=iO;function aO(t,e){var n=Lu(t)?tO:oO;return n(t,Q_(e))}function sO(t,e,n){t=cv(t),e=ju(e);var r=t.length;n=void 0===n?r:nm(Ju(n),0,r);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function lO(t,e){return Tu(e,(function(e){return[e,t[e]]}))}function uO(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}var cO="[object Map]",fO="[object Set]";function hO(t){return function(e){var n=Qm(e);return n==cO?Hx(e):n==fO?uO(e):lO(e,t(e))}}var dO=hO(ip),pO=dO,vO=hO(dp),gO=vO,yO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mO=Bg(yO),bO=mO,xO=/[&<>"']/g,wO=RegExp(xO.source);function _O(t){return t=cv(t),t&&wO.test(t)?t.replace(xO,bO):t}var OO=/[\\^$.*+?()[\]{}|]/g,CO=RegExp(OO.source);function SO(t){return t=cv(t),t&&CO.test(t)?t.replace(OO,"\\$&"):t}function EO(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!e(t[n],n,t))return!1;return!0}function MO(t,e){var n=!0;return Xw(t,(function(t,r,i){return n=!!e(t,r,i),n})),n}function kO(t,e,n){var r=Lu(t)?EO:MO;return n&&Yh(t,e,n)&&(e=void 0),r(t,Iw(e))}var TO=4294967295;function AO(t){return t?nm(Ju(t),0,TO):0}function LO(t,e,n,r){var i=t.length;n=Ju(n),n<0&&(n=-n>i?0:i+n),r=void 0===r||r>i?i:Ju(r),r<0&&(r+=i),r=n>r?0:AO(r);while(n<r)t[n++]=e;return t}function PO(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Yh(t,e,n)&&(n=0,r=i),LO(t,e,n,r)):[]}function RO(t,e){var n=[];return Xw(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function IO(t,e){var n=Lu(t)?bm:RO;return n(t,Iw(e))}function jO(t){return function(e,n,r){var i=Object(e);if(!Uh(e)){var o=Iw(n);e=ip(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var NO=Math.max;function BO(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Ju(n);return i<0&&(i=NO(r+i,0)),Mf(t,Iw(e),i)}var DO=jO(BO),FO=DO;function zO(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function WO(t,e){return zO(t,Iw(e),Uw)}var HO=Math.max,$O=Math.min;function GO(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=Ju(n),i=n<0?HO(r+i,0):$O(i,r-1)),Mf(t,Iw(e),i,!0)}var VO=jO(GO),UO=VO;function YO(t,e){return zO(t,Iw(e),rO)}function qO(t){return t&&t.length?t[0]:void 0}function XO(t,e){var n=-1,r=Uh(t)?Array(t.length):[];return Xw(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function KO(t,e){var n=Lu(t)?Tu:XO;return n(t,Iw(e))}function ZO(t,e){return xv(KO(t,e),1)}var QO=1/0;function JO(t,e){return xv(KO(t,e),QO)}function tC(t,e,n){return n=void 0===n?1:Ju(n),xv(KO(t,e),n)}var eC=1/0;function nC(t){var e=null==t?0:t.length;return e?xv(t,eC):[]}function rC(t,e){var n=null==t?0:t.length;return n?(e=void 0===e?1:Ju(e),xv(t,e)):[]}var iC=512;function oC(t){return Ph(t,iC)}var aC=Xy("floor"),sC=aC,lC="Expected a function",uC=8,cC=32,fC=128,hC=256;function dC(t){return _v((function(e){var n=e.length,r=n,i=tf.prototype.thru;t&&e.reverse();while(r--){var o=e[r];if("function"!=typeof o)throw new TypeError(lC);if(i&&!a&&"wrapper"==Jc(o))var a=new tf([],!0)}r=a?r:n;while(++r<n){o=e[r];var s=Jc(o),l="wrapper"==s?qc(o):void 0;a=l&&sf(l[0])&&l[1]==(fC|uC|cC|hC)&&!l[4].length&&1==l[9]?a[Jc(l[0])].apply(a,l[3]):1==o.length&&sf(o)?a[s]():a.thru(o)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&Lu(r))return a.plant(r).value();var i=0,o=n?e[i].apply(this,t):r;while(++i<n)o=e[i].call(this,o);return o}}))}var pC=dC(),vC=pC,gC=dC(!0),yC=gC;function mC(t,e){return null==t?t:Vw(t,Q_(e),dp)}function bC(t,e){return null==t?t:nO(t,Q_(e),dp)}function xC(t,e){return t&&Uw(t,Q_(e))}function wC(t,e){return t&&rO(t,Q_(e))}function _C(t){var e=-1,n=null==t?0:t.length,r={};while(++e<n){var i=t[e];r[i[0]]=i[1]}return r}function OC(t,e){return bm(e,(function(e){return sc(t[e])}))}function CC(t){return null==t?[]:OC(t,ip(t))}function SC(t){return null==t?[]:OC(t,dp(t))}var EC=Object.prototype,MC=EC.hasOwnProperty,kC=Zw((function(t,e,n){MC.call(t,n)?t[n].push(e):jh(t,n,[e])})),TC=kC;function AC(t,e){return t>e}function LC(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Xu(e),n=Xu(n)),t(e,n)}}var PC=LC(AC),RC=PC,IC=LC((function(t,e){return t>=e})),jC=IC,NC=Object.prototype,BC=NC.hasOwnProperty;function DC(t,e){return null!=t&&BC.call(t,e)}function FC(t,e){return null!=t&&Ew(t,e,DC)}var zC=Math.max,WC=Math.min;function HC(t,e,n){return t>=WC(e,n)&&t<zC(e,n)}function $C(t,e,n){return e=Qu(e),void 0===n?(n=e,e=0):n=Qu(n),t=Xu(t),HC(t,e,n)}var GC="[object String]";function VC(t){return"string"==typeof t||!Lu(t)&&Cu(t)&&Ou(t)==GC}function UC(t,e){return Tu(e,(function(e){return t[e]}))}function YC(t){return null==t?[]:UC(t,ip(t))}var qC=Math.max;function XC(t,e,n,r){t=Uh(t)?t:YC(t),n=n&&!r?Ju(n):0;var i=t.length;return n<0&&(n=qC(i+n,0)),VC(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Af(t,e,n)>-1}var KC=Math.max;function ZC(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Ju(n);return i<0&&(i=KC(r+i,0)),Af(t,e,i)}function QC(t){var e=null==t?0:t.length;return e?Qv(t,0,-1):[]}var JC=Math.min;function tS(t,e,n){var r=n?j_:Lf,i=t[0].length,o=t.length,a=o,s=Array(o),l=1/0,u=[];while(a--){var c=t[a];a&&e&&(c=Tu(c,Fd(e))),l=JC(c.length,l),s[a]=!n&&(e||i>=120&&c.length>=120)?new Nx(a&&c):void 0}c=t[0];var f=-1,h=s[0];t:while(++f<i&&u.length<l){var d=c[f],p=e?e(d):d;if(d=n||0!==d?d:0,!(h?Dx(h,p):r(u,p,n))){a=o;while(--a){var v=s[a];if(!(v?Dx(v,p):r(t[a],p,n)))continue t}h&&h.push(p),u.push(d)}}return u}function eS(t){return b_(t)?t:[]}var nS=$h((function(t){var e=Tu(t,eS);return e.length&&e[0]===t[0]?tS(e):[]})),rS=nS,iS=$h((function(t){var e=z_(t),n=Tu(t,eS);return e===z_(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?tS(n,Iw(e)):[]})),oS=iS,aS=$h((function(t){var e=z_(t),n=Tu(t,eS);return e="function"==typeof e?e:void 0,e&&n.pop(),n.length&&n[0]===t[0]?tS(n,void 0,e):[]})),sS=aS;function lS(t,e,n,r){return Uw(t,(function(t,i,o){e(r,n(t),i,o)})),r}function uS(t,e){return function(n,r){return lS(n,t,e(r),{})}}var cS=Object.prototype,fS=cS.toString,hS=uS((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=fS.call(e)),t[e]=n}),bf(nc)),dS=hS,pS=Object.prototype,vS=pS.hasOwnProperty,gS=pS.toString,yS=uS((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=gS.call(e)),vS.call(t,e)?t[e].push(n):t[e]=[n]}),Iw),mS=yS;function bS(t,e){return e.length<2?t:pv(t,Qv(e,0,-1))}function xS(t,e,n){e=fv(e,t),t=bS(t,e);var r=null==t?t:t[dv(z_(e))];return null==r?void 0:Bc(r,t,n)}var wS=$h(xS),_S=wS,OS=$h((function(t,e,n){var r=-1,i="function"==typeof e,o=Uh(t)?Array(t.length):[];return Xw(t,(function(t){o[++r]=i?Bc(e,t,n):xS(t,e,n)})),o})),CS=OS,SS="[object ArrayBuffer]";function ES(t){return Cu(t)&&Ou(t)==SS}var MS=Vd&&Vd.isArrayBuffer,kS=MS?Fd(MS):ES,TS=kS,AS="[object Boolean]";function LS(t){return!0===t||!1===t||Cu(t)&&Ou(t)==AS}var PS="[object Date]";function RS(t){return Cu(t)&&Ou(t)==PS}var IS=Vd&&Vd.isDate,jS=IS?Fd(IS):RS,NS=jS;function BS(t){return Cu(t)&&1===t.nodeType&&!Rv(t)}var DS="[object Map]",FS="[object Set]",zS=Object.prototype,WS=zS.hasOwnProperty;function HS(t){if(null==t)return!0;if(Uh(t)&&(Lu(t)||"string"==typeof t||"function"==typeof t.splice||hd(t)||qd(t)||id(t)))return!t.length;var e=Qm(t);if(e==DS||e==FS)return!t.size;if(Kh(t))return!rp(t).length;for(var n in t)if(WS.call(t,n))return!1;return!0}function $S(t,e){return yw(t,e)}function GS(t,e,n){n="function"==typeof n?n:void 0;var r=n?n(t,e):void 0;return void 0===r?yw(t,e,void 0,n):!!r}var VS=uu.isFinite;function US(t){return"number"==typeof t&&VS(t)}function YS(t){return"number"==typeof t&&t==Ju(t)}function qS(t,e){return t===e||xw(t,e,_w(e))}function XS(t,e,n){return n="function"==typeof n?n:void 0,xw(t,e,_w(e),n)}var KS="[object Number]";function ZS(t){return"number"==typeof t||Cu(t)&&Ou(t)==KS}function QS(t){return ZS(t)&&t!=+t}var JS=uc?sc:od,tE=JS,eE="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function nE(t){if(tE(t))throw new Error(eE);return _c(t)}function rE(t){return null==t}function iE(t){return null===t}var oE="[object RegExp]";function aE(t){return Cu(t)&&Ou(t)==oE}var sE=Vd&&Vd.isRegExp,lE=sE?Fd(sE):aE,uE=lE,cE=9007199254740991;function fE(t){return YS(t)&&t>=-cE&&t<=cE}function hE(t){return void 0===t}var dE="[object WeakMap]";function pE(t){return Cu(t)&&Qm(t)==dE}var vE="[object WeakSet]";function gE(t){return Cu(t)&&Ou(t)==vE}var yE=1;function mE(t){return Iw("function"==typeof t?t:bx(t,yE))}var bE=Array.prototype,xE=bE.join;function wE(t,e){return null==t?"":xE.call(t,e)}var _E=$y((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),OE=_E,CE=Zw((function(t,e,n){jh(t,n,e)})),SE=CE;function EE(t,e,n){var r=n+1;while(r--)if(t[r]===e)return r;return r}var ME=Math.max,kE=Math.min;function TE(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=Ju(n),i=i<0?ME(r+i,0):kE(i,r-1)),e===e?EE(t,e,i):Mf(t,kf,i,!0)}var AE=$y((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),LE=AE,PE=Pg("toLowerCase"),RE=PE;function IE(t,e){return t<e}var jE=LC(IE),NE=jE,BE=LC((function(t,e){return t<=e})),DE=BE;function FE(t,e){var n={};return e=Iw(e),Uw(t,(function(t,r,i){jh(n,e(t,r,i),t)})),n}function zE(t,e){var n={};return e=Iw(e),Uw(t,(function(t,r,i){jh(n,r,e(t,r,i))})),n}var WE=1;function HE(t){return Cw(bx(t,WE))}var $E=1;function GE(t,e){return Aw(t,bx(e,$E))}function VE(t,e,n){var r=-1,i=t.length;while(++r<i){var o=t[r],a=e(o);if(null!=a&&(void 0===s?a===a&&!Eu(a):n(a,s)))var s=a,l=o}return l}function UE(t){return t&&t.length?VE(t,nc,AC):void 0}function YE(t,e){return t&&t.length?VE(t,Iw(e),AC):void 0}function qE(t,e){var n,r=-1,i=t.length;while(++r<i){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}var XE=NaN;function KE(t,e){var n=null==t?0:t.length;return n?qE(t,e)/n:XE}function ZE(t){return KE(t,nc)}function QE(t,e){return KE(t,Iw(e))}var JE=qh((function(t,e,n){O_(t,e,n)})),tM=JE,eM=$h((function(t,e){return function(n){return xS(n,t,e)}})),nM=eM,rM=$h((function(t,e){return function(n){return xS(t,n,e)}})),iM=rM;function oM(t){return t&&t.length?VE(t,nc,IE):void 0}function aM(t,e){return t&&t.length?VE(t,Iw(e),IE):void 0}function sM(t,e,n){var r=ip(e),i=OC(e,r),o=!($u(n)&&"chain"in n)||!!n.chain,a=sc(t);return Ef(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=ef(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,yv([this.value()],arguments))})})),t}var lM=Nu((function(t,e){return t*e}),1),uM=lM,cM="Expected a function";function fM(t){if("function"!=typeof t)throw new TypeError(cM);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function hM(t){var e,n=[];while(!(e=t.next()).done)n.push(e.value);return n}var dM="[object Map]",pM="[object Set]",vM=fu?fu.iterator:void 0;function gM(t){if(!t)return[];if(Uh(t))return VC(t)?Lg(t):ef(t);if(vM&&t[vM])return hM(t[vM]());var e=Qm(t),n=e==dM?Hx:e==pM?$x:YC;return n(t)}function yM(){void 0===this.__values__&&(this.__values__=gM(this.value()));var t=this.__index__>=this.__values__.length,e=t?void 0:this.__values__[this.__index__++];return{done:t,value:e}}function mM(t,e){var n=t.length;if(n)return e+=e<0?n:0,th(e,n)?t[e]:void 0}function bM(t,e){return t&&t.length?mM(t,Ju(e)):void 0}function xM(t){return t=Ju(t),$h((function(e){return mM(e,t)}))}function wM(t,e){return e=fv(e,t),t=bS(t,e),null==t||delete t[dv(z_(e))]}function _M(t){return Rv(t)?void 0:t}var OM=1,CM=2,SM=4,EM=_v((function(t,e){var n={};if(null==t)return n;var r=!1;e=Tu(e,(function(e){return e=fv(e,t),r||(r=e.length>1),e})),zh(t,Rm(t),n),r&&(n=bx(n,OM|CM|SM,_M));var i=e.length;while(i--)wM(n,e[i]);return n})),MM=EM;function kM(t,e,n,r){if(!$u(t))return t;e=fv(e,t);var i=-1,o=e.length,a=o-1,s=t;while(null!=s&&++i<o){var l=dv(e[i]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(i!=a){var c=s[l];u=r?r(c,l,s):void 0,void 0===u&&(u=$u(c)?c:th(e[i+1])?[]:{})}Fh(s,l,u),s=s[l]}return t}function TM(t,e,n){var r=-1,i=e.length,o={};while(++r<i){var a=e[r],s=pv(t,a);n(s,a)&&kM(o,fv(a,t),s)}return o}function AM(t,e){if(null==t)return{};var n=Tu(Rm(t),(function(t){return[t]}));return e=Iw(e),TM(t,n,(function(t,n){return e(t,n[0])}))}function LM(t,e){return AM(t,fM(Iw(e)))}function PM(t){return zv(2,t)}function RM(t,e){var n=t.length;t.sort(e);while(n--)t[n]=t[n].value;return t}function IM(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t===t,o=Eu(t),a=void 0!==e,s=null===e,l=e===e,u=Eu(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}function jM(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;while(++r<a){var l=IM(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*("desc"==u?-1:1)}}return t.index-e.index}function NM(t,e,n){e=e.length?Tu(e,(function(t){return Lu(t)?function(e){return pv(e,1===t.length?t[0]:t)}:t})):[nc];var r=-1;e=Tu(e,Fd(Iw));var i=XO(t,(function(t,n,i){var o=Tu(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return RM(i,(function(t,e){return jM(t,e,n)}))}function BM(t,e,n,r){return null==t?[]:(Lu(e)||(e=null==e?[]:[e]),n=r?void 0:n,Lu(n)||(n=null==n?[]:[n]),NM(t,e,n))}function DM(t){return _v((function(e){return e=Tu(e,Fd(Iw)),$h((function(n){var r=this;return t(e,(function(t){return Bc(t,r,n)}))}))}))}var FM=DM(Tu),zM=FM,WM=$h,HM=WM,$M=Math.min,GM=HM((function(t,e){e=1==e.length&&Lu(e[0])?Tu(e[0],Fd(Iw)):Tu(xv(e,1),Fd(Iw));var n=e.length;return $h((function(r){var i=-1,o=$M(r.length,n);while(++i<o)r[i]=e[i].call(this,r[i]);return Bc(t,this,r)}))})),VM=GM,UM=DM(EO),YM=UM,qM=DM(Bx),XM=qM,KM=9007199254740991,ZM=Math.floor;function QM(t,e){var n="";if(!t||e<1||e>KM)return n;do{e%2&&(n+=t),e=ZM(e/2),e&&(t+=t)}while(e);return n}var JM=Lw("length"),tk=JM,ek="\\ud800-\\udfff",nk="\\u0300-\\u036f",rk="\\ufe20-\\ufe2f",ik="\\u20d0-\\u20ff",ok=nk+rk+ik,ak="\\ufe0e\\ufe0f",sk="["+ek+"]",lk="["+ok+"]",uk="\\ud83c[\\udffb-\\udfff]",ck="(?:"+lk+"|"+uk+")",fk="[^"+ek+"]",hk="(?:\\ud83c[\\udde6-\\uddff]){2}",dk="[\\ud800-\\udbff][\\udc00-\\udfff]",pk="\\u200d",vk=ck+"?",gk="["+ak+"]?",yk="(?:"+pk+"(?:"+[fk,hk,dk].join("|")+")"+gk+vk+")*",mk=gk+vk+yk,bk="(?:"+[fk+lk+"?",lk,hk,dk,sk].join("|")+")",xk=RegExp(uk+"(?="+uk+")|"+bk+mk,"g");function wk(t){var e=xk.lastIndex=0;while(xk.test(t))++e;return e}function _k(t){return lg(t)?wk(t):tk(t)}var Ok=Math.ceil;function Ck(t,e){e=void 0===e?" ":ju(e);var n=e.length;if(n<2)return n?QM(e,t):e;var r=QM(e,Ok(t/_k(e)));return lg(e)?Jv(Lg(r),0,t).join(""):r.slice(0,t)}var Sk=Math.ceil,Ek=Math.floor;function Mk(t,e,n){t=cv(t),e=Ju(e);var r=e?_k(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Ck(Ek(i),n)+t+Ck(Sk(i),n)}function kk(t,e,n){t=cv(t),e=Ju(e);var r=e?_k(t):0;return e&&r<e?t+Ck(e-r,n):t}function Tk(t,e,n){t=cv(t),e=Ju(e);var r=e?_k(t):0;return e&&r<e?Ck(e-r,n)+t:t}var Ak=/^\s+/,Lk=uu.parseInt;function Pk(t,e,n){return n||null==e?e=0:e&&(e=+e),Lk(cv(t).replace(Ak,""),e||0)}var Rk=32,Ik=$h((function(t,e){var n=ih(e,Zf(Ik));return Ph(t,Rk,void 0,e,n)}));Ik.placeholder={};var jk=Ik,Nk=64,Bk=$h((function(t,e){var n=ih(e,Zf(Bk));return Ph(t,Nk,void 0,e,n)}));Bk.placeholder={};var Dk=Bk,Fk=Zw((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),zk=Fk;function Wk(t,e){return TM(t,e,(function(e,n){return Mw(t,n)}))}var Hk=_v((function(t,e){return null==t?{}:Wk(t,e)})),$k=Hk;function Gk(t){var e,n=this;while(n instanceof $c){var r=nf(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e}function Vk(t){return function(e){return null==t?void 0:pv(t,e)}}function Uk(t,e,n,r){var i=n-1,o=t.length;while(++i<o)if(r(t[i],e))return i;return-1}var Yk=Array.prototype,qk=Yk.splice;function Xk(t,e,n,r){var i=r?Uk:Af,o=-1,a=e.length,s=t;t===e&&(e=ef(e)),n&&(s=Tu(t,Fd(n)));while(++o<a){var l=0,u=e[o],c=n?n(u):u;while((l=i(s,c,l,r))>-1)s!==t&&qk.call(s,l,1),qk.call(t,l,1)}return t}function Kk(t,e){return t&&t.length&&e&&e.length?Xk(t,e):t}var Zk=$h(Kk),Qk=Zk;function Jk(t,e,n){return t&&t.length&&e&&e.length?Xk(t,e,Iw(n)):t}function tT(t,e,n){return t&&t.length&&e&&e.length?Xk(t,e,void 0,n):t}var eT=Array.prototype,nT=eT.splice;function rT(t,e){var n=t?e.length:0,r=n-1;while(n--){var i=e[n];if(n==r||i!==o){var o=i;th(i)?nT.call(t,i,1):wM(t,i)}}return t}var iT=_v((function(t,e){var n=null==t?0:t.length,r=gv(t,e);return rT(t,Tu(e,(function(t){return th(t,n)?+t:t})).sort(IM)),r})),oT=iT,aT=Math.floor,sT=Math.random;function lT(t,e){return t+aT(sT()*(e-t+1))}var uT=parseFloat,cT=Math.min,fT=Math.random;function hT(t,e,n){if(n&&"boolean"!=typeof n&&Yh(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=Qu(t),void 0===e?(e=t,t=0):e=Qu(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=fT();return cT(t+i*(e-t+uT("1e-"+((i+"").length-1))),e)}return lT(t,e)}var dT=Math.ceil,pT=Math.max;function vT(t,e,n,r){var i=-1,o=pT(dT((e-t)/(n||1)),0),a=Array(o);while(o--)a[r?o:++i]=t,t+=n;return a}function gT(t){return function(e,n,r){return r&&"number"!=typeof r&&Yh(e,n,r)&&(n=r=void 0),e=Qu(e),void 0===n?(n=e,e=0):n=Qu(n),r=void 0===r?e<n?1:-1:Qu(r),vT(e,n,r,t)}}var yT=gT(),mT=yT,bT=gT(!0),xT=bT,wT=256,_T=_v((function(t,e){return Ph(t,wT,void 0,void 0,void 0,e)})),OT=_T;function CT(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function ST(t,e,n){var r=Lu(t)?Ng:CT,i=arguments.length<3;return r(t,Iw(e),n,i,Xw)}function ET(t,e,n,r){var i=null==t?0:t.length;r&&i&&(n=t[--i]);while(i--)n=e(n,t[i],i,t);return n}function MT(t,e,n){var r=Lu(t)?ET:CT,i=arguments.length<3;return r(t,Iw(e),n,i,oO)}function kT(t,e){var n=Lu(t)?bm:RO;return n(t,fM(Iw(e)))}function TT(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;e=Iw(e);while(++r<o){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return rT(t,i),n}function AT(t,e,n){return e=(n?Yh(t,e,n):void 0===e)?1:Ju(e),QM(cv(t),e)}function LT(){var t=arguments,e=cv(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var PT="Expected a function";function RT(t,e){if("function"!=typeof t)throw new TypeError(PT);return e=void 0===e?e:Ju(e),$h(t,e)}function IT(t,e,n){e=fv(e,t);var r=-1,i=e.length;i||(i=1,t=void 0);while(++r<i){var o=null==t?void 0:t[dv(e[r])];void 0===o&&(r=i,o=n),t=sc(o)?o.call(t):o}return t}var jT=Array.prototype,NT=jT.reverse;function BT(t){return null==t?t:NT.call(t)}var DT=Xy("round"),FT=DT;function zT(t){var e=t.length;return e?t[lT(0,e-1)]:void 0}function WT(t){return zT(YC(t))}function HT(t){var e=Lu(t)?zT:WT;return e(t)}function $T(t,e){var n=-1,r=t.length,i=r-1;e=void 0===e?r:e;while(++n<e){var o=lT(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function GT(t,e){return $T(ef(t),nm(e,0,t.length))}function VT(t,e){var n=YC(t);return $T(n,nm(e,0,n.length))}function UT(t,e,n){e=(n?Yh(t,e,n):void 0===e)?1:Ju(e);var r=Lu(t)?GT:VT;return r(t,e)}function YT(t,e,n){return null==t?t:kM(t,e,n)}function qT(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:kM(t,e,n,r)}function XT(t){return $T(ef(t))}function KT(t){return $T(YC(t))}function ZT(t){var e=Lu(t)?XT:KT;return e(t)}var QT="[object Map]",JT="[object Set]";function tA(t){if(null==t)return 0;if(Uh(t))return VC(t)?_k(t):t.length;var e=Qm(t);return e==QT||e==JT?t.size:rp(t).length}function eA(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Yh(t,e,n)?(e=0,n=r):(e=null==e?0:Ju(e),n=void 0===n?r:Ju(n)),Qv(t,e,n)):[]}var nA=$y((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),rA=nA;function iA(t,e){var n;return Xw(t,(function(t,r,i){return n=e(t,r,i),!n})),!!n}function oA(t,e,n){var r=Lu(t)?Bx:iA;return n&&Yh(t,e,n)&&(e=void 0),r(t,Iw(e))}var aA=$h((function(t,e){if(null==t)return[];var n=e.length;return n>1&&Yh(t,e[0],e[1])?e=[]:n>2&&Yh(e[0],e[1],e[2])&&(e=[e[0]]),NM(t,xv(e,1),[])})),sA=aA,lA=4294967295,uA=lA-1,cA=Math.floor,fA=Math.min;function hA(t,e,n,r){var i=0,o=null==t?0:t.length;if(0===o)return 0;e=n(e);var a=e!==e,s=null===e,l=Eu(e),u=void 0===e;while(i<o){var c=cA((i+o)/2),f=n(t[c]),h=void 0!==f,d=null===f,p=f===f,v=Eu(f);if(a)var g=r||p;else g=u?p&&(r||h):s?p&&h&&(r||!d):l?p&&h&&!d&&(r||!v):!d&&!v&&(r?f<=e:f<e);g?i=c+1:o=c}return fA(o,uA)}var dA=4294967295,pA=dA>>>1;function vA(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=pA){while(r<i){var o=r+i>>>1,a=t[o];null!==a&&!Eu(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return hA(t,e,nc,n)}function gA(t,e){return vA(t,e)}function yA(t,e,n){return hA(t,e,Iw(n))}function mA(t,e){var n=null==t?0:t.length;if(n){var r=vA(t,e);if(r<n&&Nh(t[r],e))return r}return-1}function bA(t,e){return vA(t,e,!0)}function xA(t,e,n){return hA(t,e,Iw(n),!0)}function wA(t,e){var n=null==t?0:t.length;if(n){var r=vA(t,e,!0)-1;if(Nh(t[r],e))return r}return-1}function _A(t,e){var n=-1,r=t.length,i=0,o=[];while(++n<r){var a=t[n],s=e?e(a):a;if(!n||!Nh(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function OA(t){return t&&t.length?_A(t):[]}function CA(t,e){return t&&t.length?_A(t,Iw(e)):[]}var SA=4294967295;function EA(t,e,n){return n&&"number"!=typeof n&&Yh(t,e,n)&&(e=n=void 0),n=void 0===n?SA:n>>>0,n?(t=cv(t),t&&("string"==typeof e||null!=e&&!uE(e))&&(e=ju(e),!e&&lg(t))?Jv(Lg(t),0,n):t.split(e,n)):[]}var MA="Expected a function",kA=Math.max;function TA(t,e){if("function"!=typeof t)throw new TypeError(MA);return e=null==e?0:kA(Ju(e),0),$h((function(n){var r=n[e],i=Jv(n,0,e);return r&&yv(i,r),Bc(t,this,i)}))}var AA=$y((function(t,e,n){return t+(n?" ":"")+Ig(e)})),LA=AA;function PA(t,e,n){return t=cv(t),n=null==n?0:nm(Ju(n),0,t.length),e=ju(e),t.slice(n,n+e.length)==e}function RA(){return{}}function IA(){return""}function jA(){return!0}var NA=Nu((function(t,e){return t-e}),0),BA=NA;function DA(t){return t&&t.length?qE(t,nc):0}function FA(t,e){return t&&t.length?qE(t,Iw(e)):0}function zA(t){var e=null==t?0:t.length;return e?Qv(t,1,e):[]}function WA(t,e,n){return t&&t.length?(e=n||void 0===e?1:Ju(e),Qv(t,0,e<0?0:e)):[]}function HA(t,e,n){var r=null==t?0:t.length;return r?(e=n||void 0===e?1:Ju(e),e=r-e,Qv(t,e<0?0:e,r)):[]}function $A(t,e){return t&&t.length?X_(t,Iw(e),!1,!0):[]}function GA(t,e){return t&&t.length?X_(t,Iw(e)):[]}function VA(t,e){return e(t),t}var UA=Object.prototype,YA=UA.hasOwnProperty;function qA(t,e,n,r){return void 0===t||Nh(t,UA[n])&&!YA.call(r,n)?e:t}var XA={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function KA(t){return"\\"+XA[t]}var ZA=/<%=([\s\S]+?)%>/g,QA=ZA,JA=/<%-([\s\S]+?)%>/g,tL=JA,eL=/<%([\s\S]+?)%>/g,nL=eL,rL={escape:tL,evaluate:nL,interpolate:QA,variable:"",imports:{_:{escape:_O}}},iL=rL,oL="Invalid `variable` option passed into `_.template`",aL=/\b__p \+= '';/g,sL=/\b(__p \+=) '' \+/g,lL=/(__e\(.*?\)|\b__t\)) \+\n'';/g,uL=/[()=,{}\[\]\/\s]/,cL=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fL=/($^)/,hL=/['\n\r\u2028\u2029\\]/g,dL=Object.prototype,pL=dL.hasOwnProperty;function vL(t,e,n){var r=iL.imports._.templateSettings||iL;n&&Yh(t,e,n)&&(e=void 0),t=cv(t),e=yp({},e,r,qA);var i,o,a=yp({},e.imports,r.imports,qA),s=ip(a),l=UC(a,s),u=0,c=e.interpolate||fL,f="__p += '",h=RegExp((e.escape||fL).source+"|"+c.source+"|"+(c===QA?cL:fL).source+"|"+(e.evaluate||fL).source+"|$","g"),d=pL.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+"\n":"";t.replace(h,(function(e,n,r,a,s,l){return r||(r=a),f+=t.slice(u,l).replace(hL,KA),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+e.length,e})),f+="';\n";var p=pL.call(e,"variable")&&e.variable;if(p){if(uL.test(p))throw new Error(oL)}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(aL,""):f).replace(sL,"$1").replace(lL,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Dv((function(){return Function(s,d+"return "+f).apply(void 0,l)}));if(v.source=f,Nv(v))throw v;return v}var gL="Expected a function";function yL(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError(gL);return $u(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),h_(t,e,{leading:r,maxWait:e,trailing:i})}function mL(t,e){return e(t)}var bL=9007199254740991,xL=4294967295,wL=Math.min;function _L(t,e){if(t=Ju(t),t<1||t>bL)return[];var n=xL,r=wL(t,xL);e=Q_(e),t-=xL;var i=Zh(r,e);while(++n<t)e(n);return i}function OL(){return this}function CL(t,e){var n=t;return n instanceof Vc&&(n=n.value()),Ng(e,(function(t,e){return e.func.apply(e.thisArg,yv([t],e.args))}),n)}function SL(){return CL(this.__wrapped__,this.__actions__)}function EL(t){return cv(t).toLowerCase()}function ML(t){return Lu(t)?Tu(t,dv):Eu(t)?[t]:ef(uv(cv(t)))}var kL=9007199254740991;function TL(t){return t?nm(Ju(t),-kL,kL):0===t?t:0}function AL(t){return cv(t).toUpperCase()}function LL(t,e,n){var r=Lu(t),i=r||hd(t)||qd(t);if(e=Iw(e),null==n){var o=t&&t.constructor;n=i?r?new o:[]:$u(t)&&sc(o)?Rc(Ev(t)):{}}return(i?Ef:Uw)(t,(function(t,r,i){return e(n,t,r,i)})),n}function PL(t,e){var n=t.length;while(n--&&Af(e,t[n],0)>-1);return n}function RL(t,e){var n=-1,r=t.length;while(++n<r&&Af(e,t[n],0)>-1);return n}function IL(t,e,n){if(t=cv(t),t&&(n||void 0===e))return Hu(t);if(!t||!(e=ju(e)))return t;var r=Lg(t),i=Lg(e),o=RL(r,i),a=PL(r,i)+1;return Jv(r,o,a).join("")}function jL(t,e,n){if(t=cv(t),t&&(n||void 0===e))return t.slice(0,zu(t)+1);if(!t||!(e=ju(e)))return t;var r=Lg(t),i=PL(r,Lg(e))+1;return Jv(r,0,i).join("")}var NL=/^\s+/;function BL(t,e,n){if(t=cv(t),t&&(n||void 0===e))return t.replace(NL,"");if(!t||!(e=ju(e)))return t;var r=Lg(t),i=RL(r,Lg(e));return Jv(r,i).join("")}var DL=30,FL="...",zL=/\w*$/;function WL(t,e){var n=DL,r=FL;if($u(e)){var i="separator"in e?e.separator:i;n="length"in e?Ju(e.length):n,r="omission"in e?ju(e.omission):r}t=cv(t);var o=t.length;if(lg(t)){var a=Lg(t);o=a.length}if(n>=o)return t;var s=n-_k(r);if(s<1)return r;var l=a?Jv(a,0,s).join(""):t.slice(0,s);if(void 0===i)return l+r;if(a&&(s+=l.length-s),uE(i)){if(t.slice(s).search(i)){var u,c=l;i.global||(i=RegExp(i.source,cv(zL.exec(i))+"g")),i.lastIndex=0;while(u=i.exec(c))var f=u.index;l=l.slice(0,void 0===f?s:f)}}else if(t.indexOf(ju(i),s)!=s){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r}function HL(t){return Ih(t,1)}var $L={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},GL=Bg($L),VL=GL,UL=/&(?:amp|lt|gt|quot|#39);/g,YL=RegExp(UL.source);function qL(t){return t=cv(t),t&&YL.test(t)?t.replace(UL,VL):t}var XL=1/0,KL=Fm&&1/$x(new Fm([,-0]))[1]==XL?function(t){return new Fm(t)}:Uc,ZL=KL,QL=200;function JL(t,e,n){var r=-1,i=Lf,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=j_;else if(o>=QL){var u=e?null:ZL(t);if(u)return $x(u);a=!1,i=Dx,l=new Nx}else l=e?[]:s;t:while(++r<o){var c=t[r],f=e?e(c):c;if(c=n||0!==c?c:0,a&&f===f){var h=l.length;while(h--)if(l[h]===f)continue t;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var tP=$h((function(t){return JL(xv(t,1,b_,!0))})),eP=tP,nP=$h((function(t){var e=z_(t);return b_(e)&&(e=void 0),JL(xv(t,1,b_,!0),Iw(e))})),rP=nP,iP=$h((function(t){var e=z_(t);return e="function"==typeof e?e:void 0,JL(xv(t,1,b_,!0),void 0,e)})),oP=iP;function aP(t){return t&&t.length?JL(t):[]}function sP(t,e){return t&&t.length?JL(t,Iw(e)):[]}function lP(t,e){return e="function"==typeof e?e:void 0,t&&t.length?JL(t,void 0,e):[]}var uP=0;function cP(t){var e=++uP;return cv(t)+e}function fP(t,e){return null==t||wM(t,e)}var hP=Math.max;function dP(t){if(!t||!t.length)return[];var e=0;return t=bm(t,(function(t){if(b_(t))return e=hP(t.length,e),!0})),Zh(e,(function(e){return Tu(t,Lw(e))}))}function pP(t,e){if(!t||!t.length)return[];var n=dP(t);return null==e?n:Tu(n,(function(t){return Bc(e,void 0,t)}))}function vP(t,e,n,r){return kM(t,e,n(pv(t,e)),r)}function gP(t,e,n){return null==t?t:vP(t,e,Q_(n))}function yP(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:vP(t,e,Q_(n),r)}var mP=$y((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),bP=mP;function xP(t){return null==t?[]:UC(t,dp(t))}var wP=$h((function(t,e){return b_(t)?B_(t,e):[]})),_P=wP;function OP(t,e){return jk(Q_(e),t)}var CP=_v((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return gv(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Vc&&th(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:mL,args:[i],thisArg:void 0}),new tf(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)})),SP=CP;function EP(){return Qy(this)}function MP(){var t=this.__wrapped__;if(t instanceof Vc){var e=t;return this.__actions__.length&&(e=new Vc(this)),e=e.reverse(),e.__actions__.push({func:mL,args:[BT],thisArg:void 0}),new tf(e,this.__chain__)}return this.thru(BT)}function kP(t,e,n){var r=t.length;if(r<2)return r?JL(t[0]):[];var i=-1,o=Array(r);while(++i<r){var a=t[i],s=-1;while(++s<r)s!=i&&(o[i]=B_(o[i]||a,t[s],e,n))}return JL(xv(o,1),e,n)}var TP=$h((function(t){return kP(bm(t,b_))})),AP=TP,LP=$h((function(t){var e=z_(t);return b_(e)&&(e=void 0),kP(bm(t,b_),Iw(e))})),PP=LP,RP=$h((function(t){var e=z_(t);return e="function"==typeof e?e:void 0,kP(bm(t,b_),void 0,e)})),IP=RP,jP=$h(dP),NP=jP;function BP(t,e,n){var r=-1,i=t.length,o=e.length,a={};while(++r<i){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a}function DP(t,e){return BP(t||[],e||[],Fh)}function FP(t,e){return BP(t||[],e||[],kM)}var zP=$h((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,pP(t,n)})),WP=zP,HP={chunk:em,compact:Lx,concat:Px,difference:F_,differenceBy:H_,differenceWith:G_,drop:Y_,dropRight:q_,dropRightWhile:K_,dropWhile:Z_,fill:PO,findIndex:BO,findLastIndex:GO,first:qO,flatten:wv,flattenDeep:nC,flattenDepth:rC,fromPairs:_C,head:qO,indexOf:ZC,initial:QC,intersection:rS,intersectionBy:oS,intersectionWith:sS,join:wE,last:z_,lastIndexOf:TE,nth:bM,pull:Qk,pullAll:Kk,pullAllBy:Jk,pullAllWith:tT,pullAt:oT,remove:TT,reverse:BT,slice:eA,sortedIndex:gA,sortedIndexBy:yA,sortedIndexOf:mA,sortedLastIndex:bA,sortedLastIndexBy:xA,sortedLastIndexOf:wA,sortedUniq:OA,sortedUniqBy:CA,tail:zA,take:WA,takeRight:HA,takeRightWhile:$A,takeWhile:GA,union:eP,unionBy:rP,unionWith:oP,uniq:aP,uniqBy:sP,uniqWith:lP,unzip:dP,unzipWith:pP,without:_P,xor:AP,xorBy:PP,xorWith:IP,zip:NP,zipObject:DP,zipObjectDeep:FP,zipWith:WP},$P={countBy:e_,each:J_,eachRight:aO,every:kO,filter:IO,find:FO,findLast:UO,flatMap:ZO,flatMapDeep:JO,flatMapDepth:tC,forEach:J_,forEachRight:aO,groupBy:TC,includes:XC,invokeMap:CS,keyBy:SE,map:KO,orderBy:BM,partition:zk,reduce:ST,reduceRight:MT,reject:kT,sample:HT,sampleSize:UT,shuffle:ZT,size:tA,some:oA,sortBy:sA},GP={now:l_},VP={after:ec,ary:Ih,before:zv,bind:Gv,bindKey:Zv,curry:i_,curryRight:a_,debounce:h_,defer:P_,delay:I_,flip:oC,memoize:rv,negate:fM,once:PM,overArgs:VM,partial:jk,partialRight:Dk,rearg:OT,rest:RT,spread:TA,throttle:yL,unary:HL,wrap:OP},UP={castArray:Uy,clone:wx,cloneDeep:Cx,cloneDeepWith:Mx,cloneWith:Tx,conformsTo:Ww,eq:Nh,gt:RC,gte:jC,isArguments:id,isArray:Lu,isArrayBuffer:TS,isArrayLike:Uh,isArrayLikeObject:b_,isBoolean:LS,isBuffer:hd,isDate:NS,isElement:BS,isEmpty:HS,isEqual:$S,isEqualWith:GS,isError:Nv,isFinite:US,isFunction:sc,isInteger:YS,isLength:Vh,isMap:Bb,isMatch:qS,isMatchWith:XS,isNaN:QS,isNative:nE,isNil:rE,isNull:iE,isNumber:ZS,isObject:$u,isObjectLike:Cu,isPlainObject:Rv,isRegExp:uE,isSafeInteger:fE,isSet:Hb,isString:VC,isSymbol:Eu,isTypedArray:qd,isUndefined:hE,isWeakMap:pE,isWeakSet:gE,lt:NE,lte:DE,toArray:gM,toFinite:Qu,toInteger:Ju,toLength:AO,toNumber:Xu,toPlainObject:w_,toSafeInteger:TL,toString:cv},YP={add:Du,ceil:Zy,divide:U_,floor:sC,max:UE,maxBy:YE,mean:ZE,meanBy:QE,min:oM,minBy:aM,multiply:uM,round:FT,subtract:BA,sum:DA,sumBy:FA},qP={clamp:rm,inRange:$C,random:hT},XP={assign:lp,assignIn:vp,assignInWith:yp,assignWith:bp,at:Cv,create:n_,defaults:y_,defaultsDeep:k_,entries:pO,entriesIn:gO,extend:vp,extendWith:yp,findKey:WO,findLastKey:YO,forIn:mC,forInRight:bC,forOwn:xC,forOwnRight:wC,functions:CC,functionsIn:SC,get:vv,has:FC,hasIn:Mw,invert:dS,invertBy:mS,invoke:_S,keys:ip,keysIn:dp,mapKeys:FE,mapValues:zE,merge:tM,mergeWith:E_,omit:MM,omitBy:LM,pick:$k,pickBy:AM,result:IT,set:YT,setWith:qT,toPairs:pO,toPairsIn:gO,transform:LL,unset:fP,update:gP,updateWith:yP,values:YC,valuesIn:xP},KP={at:SP,chain:Qy,commit:Ax,lodash:af,next:yM,plant:Gk,reverse:MP,tap:VA,thru:mL,toIterator:OL,toJSON:SL,value:SL,valueOf:SL,wrapperChain:EP},ZP={camelCase:Vy,capitalize:jg,deburr:qg,endsWith:sO,escape:_O,escapeRegExp:SO,kebabCase:OE,lowerCase:LE,lowerFirst:RE,pad:Mk,padEnd:kk,padStart:Tk,parseInt:Pk,repeat:AT,replace:LT,snakeCase:rA,split:EA,startCase:LA,startsWith:PA,template:vL,templateSettings:iL,toLower:EL,toUpper:AL,trim:IL,trimEnd:jL,trimStart:BL,truncate:WL,unescape:qL,upperCase:bP,upperFirst:Ig,words:zy},QP={attempt:Dv,bindAll:Uv,cond:Nw,conforms:zw,constant:bf,defaultTo:d_,flow:vC,flowRight:yC,identity:nc,iteratee:mE,matches:HE,matchesProperty:GE,method:nM,methodOf:iM,mixin:sM,noop:Uc,nthArg:xM,over:zM,overEvery:YM,overSome:XM,property:Rw,propertyOf:Vk,range:mT,rangeRight:xT,stubArray:xm,stubFalse:od,stubObject:RA,stubString:IA,stubTrue:jA,times:_L,toPath:ML,uniqueId:cP};function JP(){var t=new Vc(this.__wrapped__);return t.__actions__=ef(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ef(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ef(this.__views__),t}function tR(){if(this.__filtered__){var t=new Vc(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}var eR=Math.max,nR=Math.min;function rR(t,e,n){var r=-1,i=n.length;while(++r<i){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=nR(e,t+a);break;case"takeRight":t=eR(t,e-a);break}}return{start:t,end:e}}var iR=1,oR=2,aR=Math.min;function sR(){var t=this.__wrapped__.value(),e=this.__dir__,n=Lu(t),r=e<0,i=n?t.length:0,o=rR(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,f=c.length,h=0,d=aR(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return CL(t,this.__actions__);var p=[];t:while(l--&&h<d){u+=e;var v=-1,g=t[u];while(++v<f){var y=c[v],m=y.iteratee,b=y.type,x=m(g);if(b==oR)g=x;else if(!x){if(b==iR)continue t;break t}}p[h++]=g}return p}
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var lR="4.17.21",uR=2,cR=1,fR=3,hR=4294967295,dR=Array.prototype,pR=Object.prototype,vR=pR.hasOwnProperty,gR=fu?fu.iterator:void 0,yR=Math.max,mR=Math.min,bR=function(t){return function(e,n,r){if(null==r){var i=$u(n),o=i&&ip(n),a=o&&o.length&&OC(n,o);(a?a.length:i)||(r=n,n=e,e=this)}return t(e,n,r)}}(sM);af.after=VP.after,af.ary=VP.ary,af.assign=XP.assign,af.assignIn=XP.assignIn,af.assignInWith=XP.assignInWith,af.assignWith=XP.assignWith,af.at=XP.at,af.before=VP.before,af.bind=VP.bind,af.bindAll=QP.bindAll,af.bindKey=VP.bindKey,af.castArray=UP.castArray,af.chain=KP.chain,af.chunk=HP.chunk,af.compact=HP.compact,af.concat=HP.concat,af.cond=QP.cond,af.conforms=QP.conforms,af.constant=QP.constant,af.countBy=$P.countBy,af.create=XP.create,af.curry=VP.curry,af.curryRight=VP.curryRight,af.debounce=VP.debounce,af.defaults=XP.defaults,af.defaultsDeep=XP.defaultsDeep,af.defer=VP.defer,af.delay=VP.delay,af.difference=HP.difference,af.differenceBy=HP.differenceBy,af.differenceWith=HP.differenceWith,af.drop=HP.drop,af.dropRight=HP.dropRight,af.dropRightWhile=HP.dropRightWhile,af.dropWhile=HP.dropWhile,af.fill=HP.fill,af.filter=$P.filter,af.flatMap=$P.flatMap,af.flatMapDeep=$P.flatMapDeep,af.flatMapDepth=$P.flatMapDepth,af.flatten=HP.flatten,af.flattenDeep=HP.flattenDeep,af.flattenDepth=HP.flattenDepth,af.flip=VP.flip,af.flow=QP.flow,af.flowRight=QP.flowRight,af.fromPairs=HP.fromPairs,af.functions=XP.functions,af.functionsIn=XP.functionsIn,af.groupBy=$P.groupBy,af.initial=HP.initial,af.intersection=HP.intersection,af.intersectionBy=HP.intersectionBy,af.intersectionWith=HP.intersectionWith,af.invert=XP.invert,af.invertBy=XP.invertBy,af.invokeMap=$P.invokeMap,af.iteratee=QP.iteratee,af.keyBy=$P.keyBy,af.keys=ip,af.keysIn=XP.keysIn,af.map=$P.map,af.mapKeys=XP.mapKeys,af.mapValues=XP.mapValues,af.matches=QP.matches,af.matchesProperty=QP.matchesProperty,af.memoize=VP.memoize,af.merge=XP.merge,af.mergeWith=XP.mergeWith,af.method=QP.method,af.methodOf=QP.methodOf,af.mixin=bR,af.negate=fM,af.nthArg=QP.nthArg,af.omit=XP.omit,af.omitBy=XP.omitBy,af.once=VP.once,af.orderBy=$P.orderBy,af.over=QP.over,af.overArgs=VP.overArgs,af.overEvery=QP.overEvery,af.overSome=QP.overSome,af.partial=VP.partial,af.partialRight=VP.partialRight,af.partition=$P.partition,af.pick=XP.pick,af.pickBy=XP.pickBy,af.property=QP.property,af.propertyOf=QP.propertyOf,af.pull=HP.pull,af.pullAll=HP.pullAll,af.pullAllBy=HP.pullAllBy,af.pullAllWith=HP.pullAllWith,af.pullAt=HP.pullAt,af.range=QP.range,af.rangeRight=QP.rangeRight,af.rearg=VP.rearg,af.reject=$P.reject,af.remove=HP.remove,af.rest=VP.rest,af.reverse=HP.reverse,af.sampleSize=$P.sampleSize,af.set=XP.set,af.setWith=XP.setWith,af.shuffle=$P.shuffle,af.slice=HP.slice,af.sortBy=$P.sortBy,af.sortedUniq=HP.sortedUniq,af.sortedUniqBy=HP.sortedUniqBy,af.split=ZP.split,af.spread=VP.spread,af.tail=HP.tail,af.take=HP.take,af.takeRight=HP.takeRight,af.takeRightWhile=HP.takeRightWhile,af.takeWhile=HP.takeWhile,af.tap=KP.tap,af.throttle=VP.throttle,af.thru=mL,af.toArray=UP.toArray,af.toPairs=XP.toPairs,af.toPairsIn=XP.toPairsIn,af.toPath=QP.toPath,af.toPlainObject=UP.toPlainObject,af.transform=XP.transform,af.unary=VP.unary,af.union=HP.union,af.unionBy=HP.unionBy,af.unionWith=HP.unionWith,af.uniq=HP.uniq,af.uniqBy=HP.uniqBy,af.uniqWith=HP.uniqWith,af.unset=XP.unset,af.unzip=HP.unzip,af.unzipWith=HP.unzipWith,af.update=XP.update,af.updateWith=XP.updateWith,af.values=XP.values,af.valuesIn=XP.valuesIn,af.without=HP.without,af.words=ZP.words,af.wrap=VP.wrap,af.xor=HP.xor,af.xorBy=HP.xorBy,af.xorWith=HP.xorWith,af.zip=HP.zip,af.zipObject=HP.zipObject,af.zipObjectDeep=HP.zipObjectDeep,af.zipWith=HP.zipWith,af.entries=XP.toPairs,af.entriesIn=XP.toPairsIn,af.extend=XP.assignIn,af.extendWith=XP.assignInWith,bR(af,af),af.add=YP.add,af.attempt=QP.attempt,af.camelCase=ZP.camelCase,af.capitalize=ZP.capitalize,af.ceil=YP.ceil,af.clamp=qP.clamp,af.clone=UP.clone,af.cloneDeep=UP.cloneDeep,af.cloneDeepWith=UP.cloneDeepWith,af.cloneWith=UP.cloneWith,af.conformsTo=UP.conformsTo,af.deburr=ZP.deburr,af.defaultTo=QP.defaultTo,af.divide=YP.divide,af.endsWith=ZP.endsWith,af.eq=UP.eq,af.escape=ZP.escape,af.escapeRegExp=ZP.escapeRegExp,af.every=$P.every,af.find=$P.find,af.findIndex=HP.findIndex,af.findKey=XP.findKey,af.findLast=$P.findLast,af.findLastIndex=HP.findLastIndex,af.findLastKey=XP.findLastKey,af.floor=YP.floor,af.forEach=$P.forEach,af.forEachRight=$P.forEachRight,af.forIn=XP.forIn,af.forInRight=XP.forInRight,af.forOwn=XP.forOwn,af.forOwnRight=XP.forOwnRight,af.get=XP.get,af.gt=UP.gt,af.gte=UP.gte,af.has=XP.has,af.hasIn=XP.hasIn,af.head=HP.head,af.identity=nc,af.includes=$P.includes,af.indexOf=HP.indexOf,af.inRange=qP.inRange,af.invoke=XP.invoke,af.isArguments=UP.isArguments,af.isArray=Lu,af.isArrayBuffer=UP.isArrayBuffer,af.isArrayLike=UP.isArrayLike,af.isArrayLikeObject=UP.isArrayLikeObject,af.isBoolean=UP.isBoolean,af.isBuffer=UP.isBuffer,af.isDate=UP.isDate,af.isElement=UP.isElement,af.isEmpty=UP.isEmpty,af.isEqual=UP.isEqual,af.isEqualWith=UP.isEqualWith,af.isError=UP.isError,af.isFinite=UP.isFinite,af.isFunction=UP.isFunction,af.isInteger=UP.isInteger,af.isLength=UP.isLength,af.isMap=UP.isMap,af.isMatch=UP.isMatch,af.isMatchWith=UP.isMatchWith,af.isNaN=UP.isNaN,af.isNative=UP.isNative,af.isNil=UP.isNil,af.isNull=UP.isNull,af.isNumber=UP.isNumber,af.isObject=$u,af.isObjectLike=UP.isObjectLike,af.isPlainObject=UP.isPlainObject,af.isRegExp=UP.isRegExp,af.isSafeInteger=UP.isSafeInteger,af.isSet=UP.isSet,af.isString=UP.isString,af.isSymbol=UP.isSymbol,af.isTypedArray=UP.isTypedArray,af.isUndefined=UP.isUndefined,af.isWeakMap=UP.isWeakMap,af.isWeakSet=UP.isWeakSet,af.join=HP.join,af.kebabCase=ZP.kebabCase,af.last=z_,af.lastIndexOf=HP.lastIndexOf,af.lowerCase=ZP.lowerCase,af.lowerFirst=ZP.lowerFirst,af.lt=UP.lt,af.lte=UP.lte,af.max=YP.max,af.maxBy=YP.maxBy,af.mean=YP.mean,af.meanBy=YP.meanBy,af.min=YP.min,af.minBy=YP.minBy,af.stubArray=QP.stubArray,af.stubFalse=QP.stubFalse,af.stubObject=QP.stubObject,af.stubString=QP.stubString,af.stubTrue=QP.stubTrue,af.multiply=YP.multiply,af.nth=HP.nth,af.noop=QP.noop,af.now=GP.now,af.pad=ZP.pad,af.padEnd=ZP.padEnd,af.padStart=ZP.padStart,af.parseInt=ZP.parseInt,af.random=qP.random,af.reduce=$P.reduce,af.reduceRight=$P.reduceRight,af.repeat=ZP.repeat,af.replace=ZP.replace,af.result=XP.result,af.round=YP.round,af.sample=$P.sample,af.size=$P.size,af.snakeCase=ZP.snakeCase,af.some=$P.some,af.sortedIndex=HP.sortedIndex,af.sortedIndexBy=HP.sortedIndexBy,af.sortedIndexOf=HP.sortedIndexOf,af.sortedLastIndex=HP.sortedLastIndex,af.sortedLastIndexBy=HP.sortedLastIndexBy,af.sortedLastIndexOf=HP.sortedLastIndexOf,af.startCase=ZP.startCase,af.startsWith=ZP.startsWith,af.subtract=YP.subtract,af.sum=YP.sum,af.sumBy=YP.sumBy,af.template=ZP.template,af.times=QP.times,af.toFinite=UP.toFinite,af.toInteger=Ju,af.toLength=UP.toLength,af.toLower=ZP.toLower,af.toNumber=UP.toNumber,af.toSafeInteger=UP.toSafeInteger,af.toString=UP.toString,af.toUpper=ZP.toUpper,af.trim=ZP.trim,af.trimEnd=ZP.trimEnd,af.trimStart=ZP.trimStart,af.truncate=ZP.truncate,af.unescape=ZP.unescape,af.uniqueId=QP.uniqueId,af.upperCase=ZP.upperCase,af.upperFirst=ZP.upperFirst,af.each=$P.forEach,af.eachRight=$P.forEachRight,af.first=HP.head,bR(af,function(){var t={};return Uw(af,(function(e,n){vR.call(af.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),af.VERSION=lR,(af.templateSettings=ZP.templateSettings).imports._=af,Ef(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){af[t].placeholder=af})),Ef(["drop","take"],(function(t,e){Vc.prototype[t]=function(n){n=void 0===n?1:yR(Ju(n),0);var r=this.__filtered__&&!e?new Vc(this):this.clone();return r.__filtered__?r.__takeCount__=mR(n,r.__takeCount__):r.__views__.push({size:mR(n,hR),type:t+(r.__dir__<0?"Right":"")}),r},Vc.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ef(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=n==cR||n==fR;Vc.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Iw(t),type:n}),e.__filtered__=e.__filtered__||r,e}})),Ef(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Vc.prototype[t]=function(){return this[n](1).value()[0]}})),Ef(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Vc.prototype[t]=function(){return this.__filtered__?new Vc(this):this[n](1)}})),Vc.prototype.compact=function(){return this.filter(nc)},Vc.prototype.find=function(t){return this.filter(t).head()},Vc.prototype.findLast=function(t){return this.reverse().find(t)},Vc.prototype.invokeMap=$h((function(t,e){return"function"==typeof t?new Vc(this):this.map((function(n){return xS(n,t,e)}))})),Vc.prototype.reject=function(t){return this.filter(fM(Iw(t)))},Vc.prototype.slice=function(t,e){t=Ju(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Vc(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(e=Ju(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},Vc.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Vc.prototype.toArray=function(){return this.take(hR)},Uw(Vc.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=af[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(af.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,s=e instanceof Vc,l=a[0],u=s||Lu(e),c=function(t){var e=i.apply(af,yv([t],a));return r&&f?e[0]:e};u&&n&&"function"==typeof l&&1!=l.length&&(s=u=!1);var f=this.__chain__,h=!!this.__actions__.length,d=o&&!f,p=s&&!h;if(!o&&u){e=p?e:new Vc(this);var v=t.apply(e,a);return v.__actions__.push({func:mL,args:[c],thisArg:void 0}),new tf(v,f)}return d&&p?t.apply(this,a):(v=this.thru(c),d?r?v.value()[0]:v.value():v)})})),Ef(["pop","push","shift","sort","splice","unshift"],(function(t){var e=dR[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);af.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Lu(i)?i:[],t)}return this[n]((function(n){return e.apply(Lu(n)?n:[],t)}))}})),Uw(Vc.prototype,(function(t,e){var n=af[e];if(n){var r=n.name+"";vR.call(Kc,r)||(Kc[r]=[]),Kc[r].push({name:e,func:n})}})),Kc[fh(void 0,uR).name]=[{name:"wrapper",func:void 0}],Vc.prototype.clone=JP,Vc.prototype.reverse=tR,Vc.prototype.value=sR,af.prototype.at=KP.at,af.prototype.chain=KP.wrapperChain,af.prototype.commit=KP.commit,af.prototype.next=KP.next,af.prototype.plant=KP.plant,af.prototype.reverse=KP.reverse,af.prototype.toJSON=af.prototype.valueOf=af.prototype.value=KP.value,af.prototype.first=af.prototype.head,gR&&(af.prototype[gR]=KP.toIterator);var xR={exports:{}};(function(t){(function(e){var n=/^\s+/,r=/\s+$/,i=0,o=e.round,a=e.min,s=e.max,l=e.random;function u(t,e){if(t=t||"",e=e||{},t instanceof u)return t;if(!(this instanceof u))return new u(t,e);var n=c(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=o(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=n.ok,this._tc_id=i++}function c(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,l=!1,u=!1;return"string"==typeof t&&(t=Y(t)),"object"==typeof t&&(U(t.r)&&U(t.g)&&U(t.b)?(e=f(t.r,t.g,t.b),l=!0,u="%"===String(t.r).substr(-1)?"prgb":"rgb"):U(t.h)&&U(t.s)&&U(t.v)?(r=H(t.s),i=H(t.v),e=v(t.h,r,i),l=!0,u="hsv"):U(t.h)&&U(t.s)&&U(t.l)&&(r=H(t.s),o=H(t.l),e=d(t.h,r,o),l=!0,u="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=j(n),{ok:l,format:t.format||u,r:a(255,s(e.r,0)),g:a(255,s(e.g,0)),b:a(255,s(e.b,0)),a:n}}function f(t,e,n){return{r:255*N(t,255),g:255*N(e,255),b:255*N(n,255)}}function h(t,e,n){t=N(t,255),e=N(e,255),n=N(n,255);var r,i,o=s(t,e,n),l=a(t,e,n),u=(o+l)/2;if(o==l)r=i=0;else{var c=o-l;switch(i=u>.5?c/(2-o-l):c/(o+l),o){case t:r=(e-n)/c+(e<n?6:0);break;case e:r=(n-t)/c+2;break;case n:r=(t-e)/c+4;break}r/=6}return{h:r,s:i,l:u}}function d(t,e,n){var r,i,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=N(t,360),e=N(e,100),n=N(n,100),0===e)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;r=a(l,s,t+1/3),i=a(l,s,t),o=a(l,s,t-1/3)}return{r:255*r,g:255*i,b:255*o}}function p(t,e,n){t=N(t,255),e=N(e,255),n=N(n,255);var r,i,o=s(t,e,n),l=a(t,e,n),u=o,c=o-l;if(i=0===o?0:c/o,o==l)r=0;else{switch(o){case t:r=(e-n)/c+(e<n?6:0);break;case e:r=(n-t)/c+2;break;case n:r=(t-e)/c+4;break}r/=6}return{h:r,s:i,v:u}}function v(t,n,r){t=6*N(t,360),n=N(n,100),r=N(r,100);var i=e.floor(t),o=t-i,a=r*(1-n),s=r*(1-o*n),l=r*(1-(1-o)*n),u=i%6,c=[r,s,a,a,l,r][u],f=[l,r,r,s,a,a][u],h=[a,a,l,r,r,s][u];return{r:255*c,g:255*f,b:255*h}}function g(t,e,n,r){var i=[W(o(t).toString(16)),W(o(e).toString(16)),W(o(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function y(t,e,n,r,i){var a=[W(o(t).toString(16)),W(o(e).toString(16)),W(o(n).toString(16)),W($(r))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function m(t,e,n,r){var i=[W($(r)),W(o(t).toString(16)),W(o(e).toString(16)),W(o(n).toString(16))];return i.join("")}function b(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.s-=e/100,n.s=B(n.s),u(n)}function x(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.s+=e/100,n.s=B(n.s),u(n)}function w(t){return u(t).desaturate(100)}function _(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.l+=e/100,n.l=B(n.l),u(n)}function O(t,e){e=0===e?0:e||10;var n=u(t).toRgb();return n.r=s(0,a(255,n.r-o(-e/100*255))),n.g=s(0,a(255,n.g-o(-e/100*255))),n.b=s(0,a(255,n.b-o(-e/100*255))),u(n)}function C(t,e){e=0===e?0:e||10;var n=u(t).toHsl();return n.l-=e/100,n.l=B(n.l),u(n)}function S(t,e){var n=u(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,u(n)}function E(t){var e=u(t).toHsl();return e.h=(e.h+180)%360,u(e)}function M(t){var e=u(t).toHsl(),n=e.h;return[u(t),u({h:(n+120)%360,s:e.s,l:e.l}),u({h:(n+240)%360,s:e.s,l:e.l})]}function k(t){var e=u(t).toHsl(),n=e.h;return[u(t),u({h:(n+90)%360,s:e.s,l:e.l}),u({h:(n+180)%360,s:e.s,l:e.l}),u({h:(n+270)%360,s:e.s,l:e.l})]}function T(t){var e=u(t).toHsl(),n=e.h;return[u(t),u({h:(n+72)%360,s:e.s,l:e.l}),u({h:(n+216)%360,s:e.s,l:e.l})]}function A(t,e,n){e=e||6,n=n||30;var r=u(t).toHsl(),i=360/n,o=[u(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(u(r));return o}function L(t,e){e=e||6;var n=u(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;while(e--)a.push(u({h:r,s:i,v:o})),o=(o+s)%1;return a}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,n,r,i,o,a,s=this.toRgb();return t=s.r/255,n=s.g/255,r=s.b/255,i=t<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4),o=n<=.03928?n/12.92:e.pow((n+.055)/1.055,2.4),a=r<=.03928?r/12.92:e.pow((r+.055)/1.055,2.4),.2126*i+.7152*o+.0722*a},setAlpha:function(t){return this._a=j(t),this._roundA=o(100*this._a)/100,this},toHsv:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=p(this._r,this._g,this._b),e=o(360*t.h),n=o(100*t.s),r=o(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=h(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=h(this._r,this._g,this._b),e=o(360*t.h),n=o(100*t.s),r=o(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return g(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return y(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*N(this._r,255))+"%",g:o(100*N(this._g,255))+"%",b:o(100*N(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+o(100*N(this._r,255))+"%, "+o(100*N(this._g,255))+"%, "+o(100*N(this._b,255))+"%)":"rgba("+o(100*N(this._r,255))+"%, "+o(100*N(this._g,255))+"%, "+o(100*N(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(R[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+m(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=u(t);n="#"+m(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0,i=!e&&r&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t);return i?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(O,arguments)},darken:function(){return this._applyModification(C,arguments)},desaturate:function(){return this._applyModification(b,arguments)},saturate:function(){return this._applyModification(x,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(S,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(A,arguments)},complement:function(){return this._applyCombination(E,arguments)},monochromatic:function(){return this._applyCombination(L,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(M,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},u.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:H(t[r]));t=n}return u(t,e)},u.equals=function(t,e){return!(!t||!e)&&u(t).toRgbString()==u(e).toRgbString()},u.random=function(){return u.fromRatio({r:l(),g:l(),b:l()})},u.mix=function(t,e,n){n=0===n?0:n||50;var r=u(t).toRgb(),i=u(e).toRgb(),o=n/100,a={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return u(a)},u.readability=function(t,n){var r=u(t),i=u(n);return(e.max(r.getLuminance(),i.getLuminance())+.05)/(e.min(r.getLuminance(),i.getLuminance())+.05)},u.isReadable=function(t,e,n){var r,i,o=u.readability(t,e);switch(i=!1,r=q(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7;break}return i},u.mostReadable=function(t,e,n){var r,i,o,a,s=null,l=0;n=n||{},i=n.includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<e.length;c++)r=u.readability(t,e[c]),r>l&&(l=r,s=u(e[c]));return u.isReadable(t,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,u.mostReadable(t,["#fff","#000"],n))};var P=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},R=u.hexNames=I(P);function I(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function j(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function N(t,n){F(t)&&(t="100%");var r=z(t);return t=a(n,s(0,parseFloat(t))),r&&(t=parseInt(t*n,10)/100),e.abs(t-n)<1e-6?1:t%n/parseFloat(n)}function B(t){return a(1,s(0,t))}function D(t){return parseInt(t,16)}function F(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function z(t){return"string"===typeof t&&-1!=t.indexOf("%")}function W(t){return 1==t.length?"0"+t:""+t}function H(t){return t<=1&&(t=100*t+"%"),t}function $(t){return e.round(255*parseFloat(t)).toString(16)}function G(t){return D(t)/255}var V=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function U(t){return!!V.CSS_UNIT.exec(t)}function Y(t){t=t.replace(n,"").replace(r,"").toLowerCase();var e,i=!1;if(P[t])t=P[t],i=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=V.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=V.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=V.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=V.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=V.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=V.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=V.hex8.exec(t))?{r:D(e[1]),g:D(e[2]),b:D(e[3]),a:G(e[4]),format:i?"name":"hex8"}:(e=V.hex6.exec(t))?{r:D(e[1]),g:D(e[2]),b:D(e[3]),format:i?"name":"hex"}:(e=V.hex4.exec(t))?{r:D(e[1]+""+e[1]),g:D(e[2]+""+e[2]),b:D(e[3]+""+e[3]),a:G(e[4]+""+e[4]),format:i?"name":"hex8"}:!!(e=V.hex3.exec(t))&&{r:D(e[1]+""+e[1]),g:D(e[2]+""+e[2]),b:D(e[3]+""+e[3]),format:i?"name":"hex"}}function q(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}t.exports?t.exports=u:window.tinycolor=u})(Math)})(xR);var wR,_R=xR.exports,OR="#FFFFFF",CR="#000000",SR=[95,85,75,30,15,0,15,30,45,60,80],ER=15,MR=function(t){return _R(t).getLuminance()<=.5},kR=[{fontColorIndex:0,bgColorIndex:3},{fontColorIndex:13,bgColorIndex:8},{fontColorIndex:14,bgColorIndex:1}],TR=function(t){for(var e=[],n=0;n<11;n++){var r=SR[n];e.push(AL(0===r?t:_R.mix(t,n<5?OR:CR,r).toHexString()))}return e},AR=function(t){void 0===t&&(t={});var e=Array.from(Array(ER)).fill(Ol),n=t.basicColorRelations,r=void 0===n?[]:n,i=t.brandColor,o=TR(i);return r.forEach((function(t){e[t.basicColorIndex]=o[t.standardColorIndex]})),kR.forEach((function(t){var n=t.fontColorIndex,r=t.bgColorIndex;e[n]=MR(e[r])?Ol:_l})),tu(tu({},t),{basicColors:e})},LR={brandColor:"#3471F9",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:5},{basicColorIndex:4,standardColorIndex:6},{basicColorIndex:5,standardColorIndex:6},{basicColorIndex:6,standardColorIndex:6},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:4},{basicColorIndex:11,standardColorIndex:4},{basicColorIndex:12,standardColorIndex:5}]},PR=AR(LR),RR={brandColor:"#326EF4",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:1},{basicColorIndex:4,standardColorIndex:2},{basicColorIndex:5,standardColorIndex:7},{basicColorIndex:6,standardColorIndex:5},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:2},{basicColorIndex:11,standardColorIndex:5},{basicColorIndex:12,standardColorIndex:5}]},IR=AR(RR),jR={brandColor:"#9DA7B6",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:1},{basicColorIndex:4,standardColorIndex:2},{basicColorIndex:5,standardColorIndex:7},{basicColorIndex:6,standardColorIndex:8},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:2},{basicColorIndex:11,standardColorIndex:3},{basicColorIndex:12,standardColorIndex:3}]},NR=AR(jR),BR={default:IR,colorful:PR,gray:NR},DR="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif",FR=12,zR={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},WR={"":"Total","":"Total","":"SUM","":"items","":"selected","":"Index","":"Measure","":"Measure","":"Total","":"","":"Hide","":"Trend","":"Group ASC","":"Group DESC","":"ASC","":"DESC","":"No order"},HR="zh_CN",$R=HR,GR={zh_CN:zR,en_US:WR},VR=function(t,e){return void 0===e&&(e=t),vv(GR,[$R,t],e)},UR="".concat(bl,"-tooltip"),YR="".concat(UR,"-container"),qR="".concat(YR,"-show"),XR="".concat(YR,"-hide"),KR=("".concat(UR,"-operation"),{x:15,y:10}),ZR=function(){return{key:"hiddenColumns",text:VR(""),icon:"EyeOutlined"}},QR=function(){return{key:"trend",text:VR(""),icon:"Trend"}},JR=function(){return[{key:"asc",icon:"groupAsc",text:VR("")},{key:"desc",icon:"groupDesc",text:VR("")},{key:"none",text:VR("")}]},tI=function(){return[{key:"asc",icon:"groupAsc",text:VR("")},{key:"desc",icon:"groupDesc",text:VR("")},{key:"none",text:VR("")}]};(function(t){t[t["ALL"]=0]="ALL",t[t["COL"]=1]="COL",t[t["ROW"]=2]="ROW"})(wR||(wR={}));var eI=1;function nI(t){return"mobile"===t||/(iPhone|iPad|SymbianOS|Windows Phone|iPod|iOS|Android)/i.test(navigator.userAgent)}function rI(){return/iPhone/gi.test(navigator.userAgent)&&812===window.screen.height&&375===window.screen.width}function iI(){return/windows/i.test(navigator.userAgent)}var oI=function(t){var e=t||"default";return BR[e.toLowerCase()]},aI=function(t){var e,n,r,i,o,a=(null===t||void 0===t?void 0:t.palette)||oI(null===t||void 0===t?void 0:t.name),s=a.basicColors,l=a.semanticColors,u=a.others,c=null===(e=null===t||void 0===t?void 0:t.spreadsheet)||void 0===e?void 0:e.isTableMode(),f=iI()?"bold":700,h=function(){var t,e;return{bolderText:{fontFamily:DR,fontSize:12,fontWeight:f,fill:s[13],opacity:1,textAlign:"right",textBaseline:"middle",linkTextFill:s[6]},text:{fontFamily:DR,fontSize:12,fontWeight:"normal",fill:s[13],opacity:1,textAlign:"right",textBaseline:"middle",linkTextFill:s[6]},cell:{crossBackgroundColor:s[1],backgroundColor:s[8],backgroundColorOpacity:1,horizontalBorderColor:s[9],horizontalBorderColorOpacity:1,verticalBorderColor:s[9],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:8,right:8,bottom:8,left:8},interactionState:{hover:{backgroundColor:s[2],backgroundOpacity:.6},hoverFocus:{backgroundColor:s[2],backgroundOpacity:.6,borderColor:s[14],borderWidth:1,borderOpacity:1},selected:{backgroundColor:s[2],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},searchResult:{backgroundColor:null!==(t=null===u||void 0===u?void 0:u.results)&&void 0!==t?t:s[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(e=null===u||void 0===u?void 0:u.highlight)&&void 0!==e?e:s[6],backgroundOpacity:1},prepareSelect:{borderColor:s[14],borderOpacity:1,borderWidth:1}}},miniChart:{line:{point:{size:2.2,fill:s[6],opacity:1},linkLine:{size:1.5,fill:s[6],opacity:.6}},bar:{intervalPadding:4,fill:s[6],opacity:1},bullet:{progressBar:{widthPercent:.6,height:10,innerHeight:6},comparativeMeasure:{width:1,height:12,fill:s[13],opacity:.25},rangeColors:{good:null===l||void 0===l?void 0:l.green,satisfactory:l.yellow,bad:l.red},backgroundColor:"#E9E9E9"},interval:{height:FR,fill:s[7]}},icon:{fill:s[13],downIconColor:l.red,upIconColor:l.green,size:10,margin:{right:4,left:4}}}};return{cornerCell:{bolderText:{fontFamily:DR,fontSize:12,fontWeight:f,fill:s[0],opacity:1,textAlign:c?"center":"left",textBaseline:"middle"},text:{fontFamily:DR,fontSize:12,fontWeight:f,fill:s[0],opacity:1,textAlign:"right",textBaseline:"middle"},cell:{backgroundColor:s[3],backgroundColorOpacity:1,horizontalBorderColor:s[10],horizontalBorderColorOpacity:1,verticalBorderColor:s[10],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:0,right:8,bottom:0,left:8}},icon:{fill:s[0],size:10,margin:{right:4,left:4}}},rowCell:{seriesText:{fontFamily:DR,fontSize:12,fontWeight:"normal",fill:s[14],linkTextFill:s[6],opacity:1,textBaseline:"middle",textAlign:"center"},measureText:{fontFamily:DR,fontSize:12,fontWeight:"normal",fill:s[14],linkTextFill:s[6],opacity:1,textAlign:c?"center":"left",textBaseline:"top"},bolderText:{fontFamily:DR,fontSize:12,fontWeight:f,fill:s[14],linkTextFill:s[6],opacity:1,textAlign:c?"center":"left",textBaseline:"top"},text:{fontFamily:DR,fontSize:12,fontWeight:"normal",fill:s[14],linkTextFill:s[6],opacity:1,textBaseline:"top",textAlign:c?"center":"left"},cell:{backgroundColor:s[1],backgroundColorOpacity:1,horizontalBorderColor:s[9],horizontalBorderColorOpacity:1,verticalBorderColor:s[9],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:0,right:8,bottom:0,left:8},interactionState:{hover:{backgroundColor:s[2],backgroundOpacity:.6},selected:{backgroundColor:s[2],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},prepareSelect:{borderColor:s[14],borderOpacity:1,borderWidth:1},searchResult:{backgroundColor:null!==(n=null===u||void 0===u?void 0:u.results)&&void 0!==n?n:s[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(r=null===u||void 0===u?void 0:u.highlight)&&void 0!==r?r:s[6],backgroundOpacity:1}}},icon:{fill:s[14],size:10,margin:{right:4,left:4}},seriesNumberWidth:80},colCell:{measureText:{fontFamily:DR,fontSize:12,fontWeight:"normal",fill:s[0],opacity:1,textAlign:"right",textBaseline:"middle"},bolderText:{fontFamily:DR,fontSize:12,fontWeight:f,fill:s[0],opacity:1,textAlign:"center",textBaseline:"middle"},text:{fontFamily:DR,fontSize:12,fontWeight:"normal",fill:s[0],opacity:1,textAlign:"center",textBaseline:"middle"},cell:{backgroundColor:s[3],backgroundColorOpacity:1,horizontalBorderColor:s[10],horizontalBorderColorOpacity:1,verticalBorderColor:s[10],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:0,right:8,bottom:0,left:8},interactionState:{hover:{backgroundColor:s[4],backgroundOpacity:.6},selected:{backgroundColor:s[4],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},prepareSelect:{borderColor:s[14],borderOpacity:1,borderWidth:1},searchResult:{backgroundColor:null!==(i=null===u||void 0===u?void 0:u.results)&&void 0!==i?i:s[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(o=null===u||void 0===u?void 0:u.highlight)&&void 0!==o?o:s[6],backgroundOpacity:1}}},icon:{fill:s[0],size:10,margin:{top:6,right:4,bottom:6,left:4}}},dataCell:h(),mergedCell:h(),resizeArea:{size:3,background:s[7],backgroundOpacity:0,guideLineColor:s[7],guideLineDisableColor:"rgba(0,0,0,0.25)",guideLineDash:[3,3],interactionState:{hover:{backgroundColor:s[7],backgroundOpacity:1}}},scrollBar:{trackColor:"rgba(0,0,0,0.01)",thumbHoverColor:"rgba(0,0,0,0.25)",thumbColor:"rgba(0,0,0,0.15)",thumbHorizontalMinSize:32,thumbVerticalMinSize:32,size:nI()?3:6,hoverSize:nI()?4:8,lineCap:"round"},splitLine:{horizontalBorderColor:s[12],horizontalBorderColorOpacity:.2,horizontalBorderWidth:2,verticalBorderColor:s[11],verticalBorderColorOpacity:.25,verticalBorderWidth:2,showShadow:!0,shadowWidth:8,shadowColors:{left:"rgba(0,0,0,0.1)",right:"rgba(0,0,0,0)"}},prepareSelectMask:{backgroundColor:s[5],backgroundOpacity:.3},background:{color:s[8],opacity:1}}},sI=function(){function t(t){this.x=0,this.y=0,this.width=0,this.height=0,this.colIndex=-1,this.level=0,this.isLeaf=!1,this.children=[],this.padding=0;var e=t.id,n=t.key,r=t.value,i=t.label,o=t.parent,a=t.level,s=t.rowIndex,l=t.isTotals,u=t.isGrandTotals,c=t.isSubTotals,f=t.isCollapsed,h=t.hierarchy,d=t.isPivotMode,p=t.seriesNumberWidth,v=t.field,g=t.spreadsheet,y=t.query,m=t.belongsCell,b=t.inCollapseNode,x=t.isTotalMeasure,w=t.isLeaf,_=t.extra;this.id=e,this.key=n,this.value=r,this.label=i||r,this.parent=o,this.level=a,this.rowIndex=s,this.isTotals=l,this.isCollapsed=f,this.hierarchy=h,this.isPivotMode=d,this.seriesNumberWidth=p,this.field=v,this.spreadsheet=g,this.query=y,this.belongsCell=m,this.inCollapseNode=b,this.isTotalMeasure=x,this.isLeaf=w,this.isGrandTotals=u,this.isSubTotals=c,this.extra=_}return t.getFieldPath=function(t,e){if(t&&!t.isTotals||t&&e){var n=t.parent,r=[t.field];while(n&&n.id!==al)r.push(n.field),n=n.parent;return r.reverse()}return[]},t.getAllLeaveNodes=function(t){var e=[];if(t.isLeaf)return[t];var n=iu([],ru(t.children),!1),r=n.shift();while(r)r.isLeaf?e.push(r):n.unshift.apply(n,iu([],ru(r.children),!1)),r=n.shift();return e},t.getAllChildrenNodes=function(t){var e=[];if(t.isLeaf)return[t];var n=iu([],ru(t.children||[]),!1),r=n.shift();while(r)e.push(r),n.unshift.apply(n,iu([],ru(r.children),!1)),r=n.shift();return e},t.getAllBranch=function(t){var e=[],n=this.getAllLeaveNodes(t),r=n.shift(),i=[];while(r){i.unshift(r);var o=r.parent;while(o){if($S(o,t))break;i.unshift(o),o=o.parent}e.push(i),r=n.shift(),i=[]}return e},t.blankNode=function(){return new t({id:"",key:"",value:""})},t.rootNode=function(){return new t({id:"root",key:"",value:""})},t.prototype.toJSON=function(){return MM(this,["config","hierarchy","parent","spreadsheet"])},t.prototype.getHeadLeafChild=function(){var t=this;while(!HS(t.children))t=qO(t.children);return t},t}(),lI=function(){function t(){this.width=0,this.height=0,this.maxLevel=-1,this.sampleNodesForAllLevels=[],this.sampleNodeForLastLevel=null,this.allNodesWithoutRoot=[],this.indexNode=[]}return t.prototype.getLeaves=function(){return this.allNodesWithoutRoot.filter((function(t){return t.isLeaf}))},t.prototype.getNodes=function(t){return void 0!==t?this.allNodesWithoutRoot.filter((function(e){return e.level===t})):this.allNodesWithoutRoot},t.prototype.getNodesLessThanLevel=function(t){return this.allNodesWithoutRoot.filter((function(e){return e.level<=t}))},t.prototype.pushNode=function(t,e){void 0===e&&(e=-1),-1===e?this.allNodesWithoutRoot.push(t):this.allNodesWithoutRoot.splice(e,0,t)},t.prototype.pushIndexNode=function(t){this.indexNode.push(t)},t.prototype.getIndexNodes=function(){return this.indexNode},t}(),uI=function(){function t(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.label=t,this.isSubTotals=e,this.isGrandTotals=n}return t}(),cI=function(t){var e,n,r,i=t.isFirstField,o=t.currentField,a=t.fieldValues,s=t.spreadsheet,l=t.lastField,u=s.getTotalsConfig(i?o:l);i?(null===u||void 0===u?void 0:u.showGrandTotals)&&(n=u.reverseLayout?"unshift":"push",r=new uI(u.label,!1,!0)):(null===u||void 0===u?void 0:u.showSubTotals)&&(af.size(a)>1||!1!==af.get(u,"showSubTotals.always"))&&o!==Os&&(n=u.reverseSubLayout?"unshift":"push",r=new uI(u.subLabel,!0)),null===(e=a[n])||void 0===e||e.call(a,r)};function fI(t,e){var n={},r=t;while(r&&r.key)r.isTotals&&!e||(n[r.key]=r.value),r=r.parent;return n}var hI=function(t,e,n,r){return e.layoutArrange?e.layoutArrange(e.spreadsheet,n,r,t):t},dI=function(t,e,n,r){var i,o,a=null===(o=null===(i=t.spreadsheet)||void 0===i?void 0:i.facet)||void 0===o?void 0:o.getHiddenColumnsInfo(n);if(a)return!1;var s=!0,l=function(t,n,i){void 0===n&&(n=-1),void 0===i&&(i=-1),-1===n?(e.children.push(t),r.pushNode(t)):(e.children.splice(n,0,t),r.pushNode(t,i))};if(t.layoutHierarchy){var u=t.layoutHierarchy(t.spreadsheet,n);if(u){var c=!!LS(null===u||void 0===u?void 0:u.delete)&&(null===u||void 0===u?void 0:u.delete);s=!c;var f=u.push,h=u.unshift,d=e.children.length,p=r.getNodes().length;HS(h)||(J_(h,(function(t){l(t)})),d=e.children.length,p=r.getNodes().length),HS(f)||J_(f,(function(t){l(t)})),c||l(n,d,p)}else l(n)}else l(n);return s},pI=function(t,e,n){(null===t||void 0===t?void 0:t.layoutCoordinate)&&((null===e||void 0===e?void 0:e.isLeaf)||(null===n||void 0===n?void 0:n.isLeaf))&&(null===t||void 0===t||t.layoutCoordinate(t.spreadsheet,e,n))},vI=function(t,e){var n=null===t||void 0===t?void 0:t.layoutDataPosition;if(n){var r=e.getCellMeta,i=n(t.spreadsheet,r);return tu(tu({},e),{getCellMeta:i})}return e},gI=function(){function t(t){this.label=t}return t}(),yI=function(t,e,n){var r,i,o,a,s=null!==(a=null===(o=n.colCfg)||void 0===o?void 0:o.hideMeasureColumn)&&void 0!==a&&a,l=n.dataSet.fields.valueInCols;try{for(var u=nu(t),c=u.next();!c.done;c=u.next()){var f=c.value;s&&l&&e===Os&&t.splice(t.indexOf(f),1)}}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}},mI=function(t){var e,n=t.addTotalMeasureInTotal,r=t.addMeasureInTotalQuery,i=t.parentNode,o=t.currentField,a=t.fields,s=t.facetCfg,l=t.hierarchy,u=a.indexOf(o),c=s.dataSet,f=s.values,h=s.spreadsheet,d=[],p={};if(i.isTotals)n&&(p=fI(i.parent,!0),d.push.apply(d,iu([],ru(f.map((function(t){return new gI(t)}))),!1)));else{p=fI(i,!0);var v=c.getDimensionValues(o,p),g=hI(v,s,i,o);d.push.apply(d,iu([],ru(g||[]),!1));var y=c.getFieldName(o);HS(d)&&(o===Os?d.push.apply(d,iu([],ru(null===(e=c.fields)||void 0===e?void 0:e.values),!1)):d.push(y)),yI(d,o,s),cI({currentField:o,lastField:a[u-1],isFirstField:0===u,fieldValues:d,spreadsheet:h})}var m=d.filter((function(t){return!hE(t)}));xI({currentField:o,fields:a,fieldValues:m,facetCfg:s,hierarchy:l,parentNode:i,level:u,query:p,addMeasureInTotalQuery:r,addTotalMeasureInTotal:n})},bI=function(t,e){return"".concat(t).concat(sl).concat(e)},xI=function(t){var e,n,r,i,o,a,s,l,u,c,f,h,d=t.currentField,p=t.fields,v=t.fieldValues,g=t.facetCfg,y=t.hierarchy,m=t.parentNode,b=t.level,x=t.query,w=t.addMeasureInTotalQuery,_=t.addTotalMeasureInTotal,O=g.spreadsheet,C=g.collapsedCols,S=g.colCfg;try{for(var E=nu(v.entries()),M=E.next();!M.done;M=E.next()){var k=ru(M.value,2),T=k[0],A=k[1],L=A instanceof uI,P=A instanceof gI,R=void 0,I=void 0,j=!1,N=!1,B=!1,D=d;if(L){var F=A;N=F.isGrandTotals,B=F.isSubTotals,R=VR(A.label),w?(I=tu(tu({},x),(r={},r[Os]=null===(s=null===O||void 0===O?void 0:O.dataSet)||void 0===s?void 0:s.fields.values[0],r)),j=!0):(I=x,_||(j=!0))}else if(P)R=VR(A.label),I=tu(tu({},x),(i={},i[Os]=R,i)),D=Os,j=!0;else if(O.isTableMode())R=A,D=p[T],I=tu(tu({},x),(o={},o[D]=R,o)),j=!0;else{R=A,I=tu(tu({},x),(a={},a[d]=R,a));var z=null===(u=null===(l=O.dataCfg.fields)||void 0===l?void 0:l.valueInCols)||void 0===u||u,W=(null===S||void 0===S?void 0:S.hideMeasureColumn)&&z&&XC(p,Os),H=W?2:1;j=b===p.length-H}var $=bI(m.id,R);if(!$)return;var G=!!LS(null===C||void 0===C?void 0:C[$])&&(null===C||void 0===C?void 0:C[$]),V=new sI({id:$,key:D,value:R,level:b,field:D,parent:m,isTotals:L,isGrandTotals:N,isSubTotals:B,isTotalMeasure:P,isCollapsed:G,hierarchy:y,query:I,spreadsheet:O,isLeaf:j||G}),U=dI(g,m,V,y),Y=null===(c=null===O||void 0===O?void 0:O.facet)||void 0===c?void 0:c.getHiddenColumnsInfo(V);Y&&m&&(m.hiddenChildNodeInfo=Y),!(b>y.maxLevel)||N||m.isGrandTotals||m.isSubTotals||V.isSubTotals||(y.sampleNodesForAllLevels.push(V),y.maxLevel=b,y.sampleNodeForLastLevel=Y?(null===(f=null===Y||void 0===Y?void 0:Y.displaySiblingNode)||void 0===f?void 0:f.next)||(null===(h=null===Y||void 0===Y?void 0:Y.displaySiblingNode)||void 0===h?void 0:h.prev):V);var q=j||G||!U;q?(V.isLeaf=!0,y.pushIndexNode(V),V.rowIndex=y.getIndexNodes().length-1):mI({addTotalMeasureInTotal:_,addMeasureInTotalQuery:w,parentNode:V,currentField:p[b+1],fields:p,facetCfg:g,hierarchy:y})}}catch(X){e={error:X}}finally{try{M&&!M.done&&(n=E.return)&&n.call(E)}finally{if(e)throw e.error}}},wI=function(t,e,n,r){var i=e.facetCfg,o=e.hierarchy,a=e.parentNode,s=i.dataSet;t.forEach((function(t,l){"string"===typeof t&&(t={key:t});var u=t.key,c=u===Es?VR(""):s.getFieldName(u),f=r||a;if(xI({currentField:u,fields:[u],fieldValues:[c],facetCfg:i,hierarchy:o,parentNode:f,level:n,query:{},addMeasureInTotalQuery:!1,addTotalMeasureInTotal:!1}),t.children&&t.children.length){var h=f.children[l];h.isLeaf=!1,wI(t.children,e,n+1,h)}}))},_I=function(t,e){return e>0&&t<e},OI=function(t,e,n){return e>0&&t>=n-e},CI=function(t,e,n){return n>0&&t<e+n},SI=function(t,e,n){return n>0&&t>=e+1-n},EI=function(t,e,n,r,i,o){var a=BO(n,(function(e,r){var a=t-(rE(o)?0:o)+i.x;return a>=e&&a<n[r+1]}),0);a=Math.max(a,0);var s=BO(n,(function(e,r){var o=i.width+t+i.x;return o>=e&&o<n[r+1]}),a);s=Math.min(-1===s?1/0:s,n.length-2);var l=r.getIndexRange(e+i.y,i.height+e+i.y),u=l.start,c=l.end;return[a,s,u,c]},MI=function(t,e,n){var r=2,i=Math.abs(t/e),o=i<=1/r?0:t,a=i>r?0:e;return[o*n.horizontal,a*n.vertical]},kI=function(t,e,n){var r,i,o=null===t||void 0===t?void 0:t.getMatrix(),a=null!==(r=null===o||void 0===o?void 0:o[6])&&void 0!==r?r:0,s=null!==(i=null===o||void 0===o?void 0:o[7])&&void 0!==i?i:0;null===t||void 0===t||t.translate(e-a,n-s)},TI=function(t,e){var n,r=null===t||void 0===t?void 0:t.getMatrix(),i=null!==(n=null===r||void 0===r?void 0:r[6])&&void 0!==n?n:0;null===t||void 0===t||t.translate(e-i,0)},AI=function(t,e){var n,r=null===t||void 0===t?void 0:t.getMatrix(),i=null!==(n=null===r||void 0===r?void 0:r[7])&&void 0!==n?n:0;null===t||void 0===t||t.translate(0,e-i)},LI=function(t,e,n,r){var i=e.frozenColCount,o=e.frozenRowCount,a=e.frozenTrailingColCount,s=e.frozenTrailingRowCount,l=t.colIndex,u=t.rowIndex;return CI(u,r.start,o)?vl.ROW:SI(u,r.end,s)?vl.TRAILING_ROW:_I(l,i)?vl.COL:OI(l,a,n)?vl.TRAILING_COL:vl.SCROLL},PI=function(t,e,n){for(var r,i=t.frozenColCount,o=t.frozenRowCount,a=t.frozenTrailingColCount,s=t.frozenTrailingRowCount,l=(r={},r[vl.TOP]=[],r[vl.BOTTOM]=[],r),u=0;u<i;u++){for(var c=n.start;c<n.start+o;c++)l[vl.TOP].push({x:u,y:c});if(s>0)for(c=0;c<s;c++){var f=n.end-c;l[vl.BOTTOM].push({x:u,y:f})}}for(u=0;u<a;u++){var h=e-1-u;for(c=n.start;c<n.start+o;c++)l[vl.TOP].push({x:h,y:c});if(s>0)for(c=0;c<s;c++){f=n.end-c;l[vl.BOTTOM].push({x:h,y:f})}}return l},RI=function(t,e,n,r){var i=e.frozenColCount,o=e.frozenRowCount,a=e.frozenTrailingColCount,s=e.frozenTrailingRowCount,l=iu([],ru(t),!1);_I(l[0],i)&&(l[0]=i),OI(l[1],a,n)&&(l[1]=n-a-1),CI(l[2],r.start,o)&&(l[2]=r.start+o),SI(l[3],r.end,s)&&(l[3]=r.end-s);var u=iu([],ru(l),!1);u[2]=r.start,u[3]=r.start+o-1;var c=iu([],ru(l),!1);c[0]=0,c[1]=i-1;var f=iu([],ru(l),!1);f[2]=r.end+1-s,f[3]=r.end;var h=iu([],ru(l),!1);return h[0]=n-a,h[1]=n-1,{center:l,frozenRow:u,frozenCol:c,frozenTrailingCol:h,frozenTrailingRow:f}},II=function(t,e){var n=t,r=0,i=n.getTotalLength()-1;if(e){var o=e.current,a=void 0===o?eI:o,s=e.pageSize;r=Math.max((a-1)*s,0),i=Math.min(a*s-1,n.getTotalLength()-1)}return{start:r,end:i}},jI=function(t,e,n){var r=e,i=n,o=function(t){return t.isLeaf?1:t.children?t.children.reduce((function(t,e){return t+=o(e),t}),0):0};return e&&(r=t.slice(0,e).reduce((function(t,e){return t+=o(e),t}),0)),n&&(i=t.slice(t.length-n).reduce((function(t,e){return t+=o(e),t}),0)),{colCount:r,trailingColCount:i}},NI=function(t,e){return t.reduce((function(t,n){"string"===typeof n&&(n={key:n});var r=tu({},n);return r.children?(r.children=NI(r.children,e),t.push(r),t):(e[r.key]&&t.push(r),t)}),[])},BI=function(t){return"root"===t.parent.id},DI=function(t){while(!BI(t))t=t.parent;return t},FI=function(t){var e=[],n=function(t){t.forEach((function(t){"string"!==typeof t&&t.children?n(t.children):e.push(t)}))};return n(t),e},zI=function(t){var e=FI(t);return e.map((function(t){return"string"===typeof t?t:t.key}))},WI=function(t){var e=t.children[0];return e?e.isLeaf?e:WI(e):t},HI=function(t){return HS(t.rows)&&HS(t.columns)&&HS(t.values)&&HS(t.customTreeItems)},$I=function(t){var e=t.facetCfg,n=e.columns,r=e.spreadsheet,i=r.store.get("hiddenColumnsDetail"),o=null===e||void 0===e?void 0:e.showSeriesNumber,a=zI(n),s=a.filter((function(t){return!i||i.every((function(e){return e.hideColumnNodes.every((function(e){return e.field!==t}))}))})),l=iu([],ru(s),!1),u=iu([],ru(n),!1),c={};o&&(u.unshift({key:Es}),c[Es]=!0),l.reduce((function(t,e){return t[e]=!0,t}),c),wI(NI(u,c),t,0,null)},GI="Transform Data",VI="Header Layout",UI="Data Cell Render",YI=function(){function t(){var t=this;this.debug=!1,this.debugCallback=function(e,n){if(t.debug){var r=performance.now();n();var i=performance.now();console.log(e,"".concat(i-r," ms"))}else n()},this.logger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t.debug&&console.log.apply(console,iu([e],ru(n),!1))}}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.setDebug=function(t){this.debug=t},t}(),qI='\n<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">\n    <text id="" fill="#29A294">\n        <tspan x="-0.225097656" y="8.5"></tspan>\n    </text>\n</g>\n</svg>',XI='<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">\n    <text id="" fill="#FF4D4F">\n        <tspan x="-0.225097656" y="8.5"></tspan>\n    </text>\n</g>\n</svg>\n',KI='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 58 (84663) - https://sketch.com --\x3e\n    <title>down</title>\n    <desc>Created with Sketch.</desc>\n    <g id="" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon id="down" fill="#58AE57" transform="translate(3.500000, 4.500000) scale(1, -1) translate(-3.500000, -4.500000) " points="3.5 0 7 9 0 9"></polygon>\n    </g>\n</svg>',ZI='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 58 (84663) - https://sketch.com --\x3e\n    <title>up</title>\n    <desc>Created with Sketch.</desc>\n    <g id="" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon id="up" fill="#F46649" points="3.5 0 7 9 0 9"></polygon>\n    </g>\n</svg> ',QI='<svg t="1557124621626" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\nxmlns="http://www.w3.org/2000/svg" p-id="17452"\nxmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n<defs>\n  <style type="text/css"></style>\n</defs>\n<path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 626.944h176c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8h-176A8 8 0 0 1 384 857.984v-56c0-4.416 3.584-8 8-8z m0-424h368c4.416 0 8 3.648 8 8v56a8 8 0 0 1-8 8h-368A8 8 0 0 1 384 433.984v-56c0-4.352 3.584-8 8-8z m528-139.968h-528A8 8 0 0 1 384 222.016v-56c0-4.416 3.584-8 8-8h528c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z m-256 424h-272A8 8 0 0 1 384 646.016v-56c0-4.416 3.584-8 8-8h272c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z" p-id="17453"></path>\n</svg>',JI='<svg t="1557124685600" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\n  xmlns="http://www.w3.org/2000/svg" p-id="17561"\n  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h176A8 8 0 0 0 576 222.016v-56a8 8 0 0 0-8-8h-176A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h368a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-368A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m-256-424h-272A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h272a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17562"></path>\n</svg>',tj='<svg t="1557124695786" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\n  xmlns="http://www.w3.org/2000/svg" p-id="17670"\n  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 62.976h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17671"></path>\n</svg>',ej='<svg t="1557124710652" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\n  xmlns="http://www.w3.org/2000/svg" p-id="17779"\n  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17780"></path>\n</svg>',nj='<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="" stroke="none" stroke-width="1" fill-opacity="0.25" fill-rule="evenodd">\n    <g id="--" transform="translate(-3275.000000, -724.000000)" fill-rule="nonzero">\n        <g id="-39" transform="translate(3064.500000, 667.000000)">\n            <g id="-36" transform="translate(80.500000, 44.000000)">\n                <g id="" transform="translate(130.000000, 13.000000)">\n                    <path d="M12.0009375,12.40625 C12.0696875,12.40625 12.1259375,12.4625 12.1259375,12.53125 L12.1259375,12.53125 L12.1259375,13.40625 C12.1259375,13.475 12.0696875,13.53125 12.0009375,13.53125 L12.0009375,13.53125 L6.25093747,13.53125 C6.18218747,13.53125 6.12593747,13.475 6.12593747,13.40625 L6.12593747,13.40625 L6.12593747,12.53125 C6.12593747,12.4625 6.18218747,12.40625 6.25093747,12.40625 L6.25093747,12.40625 Z M2.93949997,2.5801875 L2.97437497,2.6109375 L4.72437497,4.828125 C4.78062497,4.89776786 4.74503823,4.99725765 4.66779698,5.02426203 L4.62593747,5.03125 L3.438,5.03089062 L3.43843747,10.9691406 L4.62593747,10.9691406 C4.73062497,10.9691406 4.78999997,11.0910156 4.72437497,11.1722656 L2.97437497,13.3894531 C2.92437497,13.4535156 2.82749997,13.4535156 2.77749997,13.3894531 L1.02749997,11.1722656 C0.961874969,11.0894531 1.02124997,10.9691406 1.12593747,10.9691406 L2.31343747,10.9691406 L2.313,5.03089062 L1.12593747,5.03125 C1.03620533,5.03125 0.979764,4.94285714 1.00679571,4.8654519 L1.02749997,4.828125 L2.77749997,2.6109375 C2.81749997,2.5596875 2.88749997,2.5494375 2.93949997,2.5801875 Z M10.5009375,9.09375 C10.5696875,9.09375 10.6259375,9.15 10.6259375,9.21875 L10.6259375,9.21875 L10.6259375,10.09375 C10.6259375,10.1625 10.5696875,10.21875 10.5009375,10.21875 L10.5009375,10.21875 L6.25093747,10.21875 C6.18218747,10.21875 6.12593747,10.1625 6.12593747,10.09375 L6.12593747,10.09375 L6.12593747,9.21875 C6.12593747,9.15 6.18218747,9.09375 6.25093747,9.09375 L6.25093747,9.09375 Z M14.5009375,5.78125 C14.5696875,5.78125 14.6259375,5.8375 14.6259375,5.90625 L14.6259375,5.90625 L14.6259375,6.78125 C14.6259375,6.85 14.5696875,6.90625 14.5009375,6.90625 L14.5009375,6.90625 L6.25093747,6.90625 C6.18218747,6.90625 6.12593747,6.85 6.12593747,6.78125 L6.12593747,6.78125 L6.12593747,5.90625 C6.12593747,5.8375 6.18218747,5.78125 6.25093747,5.78125 L6.25093747,5.78125 Z M9.00093747,2.46875 C9.06968747,2.46875 9.12593747,2.525 9.12593747,2.59375 L9.12593747,2.59375 L9.12593747,3.46875 C9.12593747,3.5375 9.06968747,3.59375 9.00093747,3.59375 L9.00093747,3.59375 L6.25093747,3.59375 C6.18218747,3.59375 6.12593747,3.5375 6.12593747,3.46875 L6.12593747,3.46875 L6.12593747,2.59375 C6.12593747,2.525 6.18218747,2.46875 6.25093747,2.46875 L6.25093747,2.46875 Z" id=""></path>\n                </g>\n            </g>\n        </g>\n    </g>q\n</g>\n</svg>',rj='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1590389330617" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19656" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M512 64c-247.4 0-448 200.6-448 448s200.6 448 448 448 448-200.6 448-448-200.6-448-448-448z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" fill="" p-id="19657"></path><path d="M464 336c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48-48 21.5-48 48zM536 448h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-272c0-4.4-3.6-8-8-8z" fill="" p-id="19658"></path></svg>',ij='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="23px" height="12px" viewBox="0 0 23 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title> 8 3</title>\n    <g id="----" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="" transform="translate(-275.000000, -824.000000)">\n            <rect fill="#FFFFFF" x="0" y="0" width="1333" height="1167"></rect>\n            <g id="-8-3" transform="translate(275.000000, 824.000000)">\n                <rect id="" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="0.5" y="0.5" width="11" height="11"></rect>\n                <rect id="-9" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="11.5" y="0.5" width="11" height="11"></rect>\n                <g id="7.Icon/arrow/15.down/fill" transform="translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) " fill="#000000" fill-rule="nonzero" opacity="0.65">\n                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>\n                </g>\n                <g id="7.Icon/arrow/15.down/fill" transform="translate(17.000000, 6.000000) rotate(270.000000) translate(-17.000000, -6.000000) translate(11.000000, 0.000000)" fill="#000000" fill-rule="nonzero" opacity="0.65">\n                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>\n                </g>\n            </g>\n            <line x1="286.5" y1="813" x2="286.5" y2="864.5" id="-2-3" stroke="#000000" opacity="0.25"></line>\n        </g>\n    </g>\n</svg>',oj='<svg t="1557140120188" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\nxmlns="http://www.w3.org/2000/svg" p-id="16909" xmlns:xlink="http://www.w3.org/1999/xlink"\nwidth="200" height="200">\n\t<defs>\n\t\t<style type="text/css">\n\t\t</style>\n\t</defs>\n\t<path d="M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"\n\tp-id="16910">\n\t</path>\n\t<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"\n\tp-id="16911">\n\t</path>\n</svg>',aj='<svg t="1557140186692" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\nxmlns="http://www.w3.org/2000/svg" p-id="17025" xmlns:xlink="http://www.w3.org/1999/xlink"\nwidth="200" height="200">\n\t<defs>\n\t\t<style type="text/css">\n\t\t</style>\n\t</defs>\n\t<path d="M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"\n\tp-id="17026">\n\t</path>\n\t<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"\n\tp-id="17027">\n\t</path>\n</svg>',sj='<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\n     p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"\n    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>\n</svg>\n',lj='<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\n     p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    fill-opacity="0.45"\n    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"\n    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>\n</svg>\n',uj='<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\np-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n<defs>\n<style type="text/css"></style>\n</defs>\n<path\nd="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"\np-id="17621"></path>\n</svg>\n',cj='<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\n     p-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    fill-opacity="0.45"\n    d="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"\n    p-id="17621"></path>\n</svg>\n',fj='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1596433821690" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20229" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM305.8 637.7c3.1 3.1 8.1 3.1 11.3 0l138.3-137.6L583 628.5c3.1 3.1 8.2 3.1 11.3 0l275.4-275.3c3.1-3.1 3.1-8.2 0-11.3l-39.6-39.6c-3.1-3.1-8.2-3.1-11.3 0l-230 229.9L461.4 404c-3.1-3.1-8.2-3.1-11.3 0L266.3 586.7c-3.1 3.1-3.1 8.2 0 11.3l39.5 39.7z" p-id="20230"></path></svg>',hj='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1608030723688" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21482" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M547.648 696a32 32 0 0 1 31.488 26.24l0.512 5.76v151.68l145.216-144.512a32 32 0 0 1 40.832-3.648l4.416 3.712a32 32 0 0 1 3.584 40.832l-3.712 4.48-203.072 202.24a32 32 0 0 1-40.768 3.648l-4.416-3.712-202.24-202.24a32 32 0 0 1 40.832-48.96l4.416 3.712 150.912 150.912v-158.144a32 32 0 0 1 32-32z m194.56-529.28l4.928 3.072 233.792 180.224a32 32 0 0 1 1.728 49.28l-4.864 3.52-409.792 245.568a32 32 0 0 1-27.328 2.624l-5.184-2.432-422.4-245.568a32 32 0 0 1-7.552-49.28l4.544-4.032 242.816-180.288a32 32 0 0 1 42.432 47.552l-4.288 3.84-203.84 151.296 364.16 211.648 353.28-211.712-196.608-151.552a32 32 0 0 1-8.896-40l3.136-4.864a32 32 0 0 1 40-8.96zM547.712 28.672a32 32 0 0 1 31.488 26.24l0.512 5.76v396.992a32 32 0 0 1-63.488 5.76l-0.512-5.76V60.736a32 32 0 0 1 32-32z" p-id="21483" fill="currentColor"></path></svg>\n',dj='<svg viewBox="64 64 896 896" focusable="false" data-icon="eye" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"></path></svg>',pj=Object.freeze({__proto__:null,ArrowDown:qI,ArrowUp:XI,CellDown:KI,CellUp:ZI,GlobalAsc:QI,GlobalDesc:JI,GroupAsc:tj,GroupDesc:ej,GroupNone:nj,Minus:oj,Plus:aj,SortDown:lj,SortUp:cj,SortDownSelected:sj,SortUpSelected:uj,InfoCircle:rj,ExpandColIcon:ij,Trend:fj,DrillDownIcon:hj,EyeOutlined:dj}),vj={},gj=function(t,e){vj[LE(t)]=e},yj=function(t){return vj[LE(t)]};ip(pj).forEach((function(t){gj(t,pj[t])}));var mj,bj,xj,wj="<svg",_j="data:image/svg+xml",Oj={},Cj=function(t){function e(e){var n=t.call(this,e)||this;return n.isOnlineLink=function(t){return/^(https?:)?(\/\/)/.test(t)},n.render(),n}return Jl(e,t),e.prototype.getImage=function(t,e,n){var r=this;return new Promise((function(i,o){var a=yj(t);if(a){var s=new Image;s.onload=function(){Oj[e]=s,i(s)},s.onerror=o,a.includes(_j)||r.isOnlineLink(a)?s.src=a:(n&&(a=a.replace(/fill=[\'\"]#?\w+[\'\"]/g,""),a=a.replace(/fill>/g,">")),a=a.replace(wj,"".concat(wj,' fill="').concat(n,'"')),s.src="".concat(_j,";utf-8,").concat(encodeURIComponent(a)))}}))},e.prototype.render=function(){var t=this.cfg,n=t.name,r=t.fill,i=wx(this.cfg),o=tu(tu({},MM(i,"fill")),{type:e.type}),a=new ja({attrs:o});this.iconImageShape=a,this.setImageAttrs({name:n,fill:r})},e.prototype.setImageAttrs=function(t){var e=this,n=t.name,r=t.fill,i=this.iconImageShape;n=n||i.attrs.name,r=r||i.attrs.fill;var o="".concat(n,"-").concat(r),a=Oj[o];a?(i.attr("img",a),this.addShape("image",i)):this.getImage(n,o,r).then((function(t){e.destroyed||(i.attr("img",t),e.addShape("image",i))})).catch((function(t){console.error("GuiIcon ".concat(n," load failed"),t)}))},e.type="__GUI_ICON__",e}(Sa);(function(t){t["TOP"]="TOP",t["BOTTOM"]="BOTTOM",t["LEFT"]="LEFT",t["RIGHT"]="RIGHT"})(mj||(mj={})),function(t){t["SUM"]="SUM",t["MIN"]="MIN",t["MAX"]="MAX",t["AVG"]="AVG"}(bj||(bj={})),function(t){t["Row"]="row",t["Col"]="col",t["Series"]="series"}(xj||(xj={}));var Sj=function(){function t(){this.store=new Map}return t.prototype.set=function(t,e){return this.store.set(t,e)},t.prototype.get=function(t,e){var n,r=this.store.get(t);return null!==(n=r)&&void 0!==n?n:e},t.prototype.clear=function(){this.store.clear()},t.prototype.size=function(){return this.store.size},t}(),Ej=function(t,e,n){return t.sort((function(t,r){n&&(t=n(t),r=n(r));var i=e.indexOf(t),o=e.indexOf(r);return-1===i&&-1===o?0:-1===i?1:-1===o?-1:i-o}))},Mj=function(t){return IO(t,(function(t){return!hE(t)&&"undefined"!==t}))},kj=function(t){var e;return null===(e=ip(t))||void 0===e?void 0:e.reduce((function(e,n){var r=vv(t,n);return Array.isArray(r)?e=e.concat(kj(r)):null===e||void 0===e||e.push(r),e}),[])},Tj=function(t){var e=[];if(Array.isArray(t)){var n="undefined"in t,r=t.length+(n?1:0),i=0,o=function(){var n=i===t.length?t["undefined"]:t[i];i++,n&&"undefined"in n?ip(n).forEach((function(t){e.push(n[t])})):Array.isArray(n)?e.push.apply(e,iu([],ru(n),!1)):e.push(n)};while(i<r)o()}else e.push(t);return e},Aj=function(t){return null===t||void 0===t?void 0:t.every((function(t){return hE(t)}))},Lj=function(t,e){var n=[];return null===t||void 0===t||t.forEach((function(t,r){void 0===t&&e[r]&&n.push(e[r])})),n},Pj=function(t,e){var n;return null===(n=null===t||void 0===t?void 0:t.filter((function(t){return!(null===e||void 0===e?void 0:e.includes(t))})))||void 0===n?void 0:n.concat(e)},Rj=function(t,e){return!kO(t,(function(t){return e[t]}))};function Ij(t,e){var n=e.rows,r=e.columns;return ST(t,(function(t,e){return Rj([].concat(n).concat(r),e)&&t.push(e),t}),[])}function jj(t,e){var n=t.isRowTotal,r=t.isRowSubTotal,i=t.isColTotal,o=t.isColSubTotal,a=e||{},s=a.row,l=a.col,u=s||{},c=u.calcTotals,f=void 0===c?{}:c,h=u.calcSubTotals,d=void 0===h?{}:h,p=l||{},v=p.calcTotals,g=void 0===v?{}:v,y=p.calcSubTotals,m=void 0===y?{}:y,b=function(t,e){if((t.aggregation||t.calcFunc)&&e)return{aggregation:t.aggregation,calcFunc:t.calcFunc}};return b(g,i)||b(m,o)||b(f,n)||b(d,r)}"KMBTP".split("");var Nj=function(t){return Number.parseFloat((Xu(t)||0).toPrecision(fl))},Bj=function(t,e,n){if(void 0===n&&(n=0),!Object.values(t).find((function(t){return t>0})))return t;var r=tu({},t);r.frozenColCount>=e&&(r.frozenColCount=e);var i=e-r.frozenColCount;r.frozenTrailingColCount>i&&(r.frozenTrailingColCount=i),r.frozenRowCount>=n&&(r.frozenRowCount=n);var o=n-r.frozenRowCount;return r.frozenTrailingRowCount>o&&(r.frozenTrailingRowCount=o),r};function Dj(t,e,n){var r;return null===(r=null===t||void 0===t?void 0:t.addShape)||void 0===r?void 0:r.call(t,"rect",tu({zIndex:1,attrs:e},n||{}))}function Fj(t,e){var n;return null===(n=null===t||void 0===t?void 0:t.addShape)||void 0===n?void 0:n.call(t,"polygon",{attrs:e})}function zj(t,e){var n;return null===(n=null===t||void 0===t?void 0:t.addShape)||void 0===n?void 0:n.call(t,"polyline",{attrs:e})}function Wj(t,e){var n;return null===(n=null===t||void 0===t?void 0:t.addShape)||void 0===n?void 0:n.call(t,"circle",{attrs:e})}function Hj(t,e,n,r,i,o,a,s){var l;return!HS(e)&&t&&J_(e,(function(e){t.contain(e)&&t.removeChild(e,!0)})),null===(l=null===t||void 0===t?void 0:t.addShape)||void 0===l?void 0:l.call(t,"text",{attrs:tu(tu({x:n,y:r,text:i,originalText:s},o),a)})}function $j(t,e,n){var r;return null===(r=null===t||void 0===t?void 0:t.addShape)||void 0===r?void 0:r.call(t,"line",{zIndex:100,attrs:tu(tu({},e),n)})}function Gj(t,e,n){if(!HS(t)){var r=Lu(t)?t:[t];r.forEach((function(t){YT(t,"attrs.".concat(e),n)}))}}function Vj(t,e){var n=new Cj(e);return null===t||void 0===t||t.add(n),n}function Uj(t,e,n,r,i){var o=new Cj(tu(tu({name:r?"Plus":"Minus"},e),{fill:n}));return sc(i)&&o.on("click",i),null===t||void 0===t||t.add(o),o}var Yj,qj="s2-offscreen-canvas",Xj=function(){var t=document.getElementById(qj);return t||(t=document.createElement("canvas"),t.id=qj,t.style.display="none",document.body.appendChild(t),t)},Kj=function(){var t;null===(t=document.getElementById(qj))||void 0===t||t.remove()},Zj=function(t){var e;return null!==(e=null===t||void 0===t?void 0:t.position)&&void 0!==e?e:"right"},Qj=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),t=Nj(t),e=Nj(e);var n=t>=0,r=e>=0&&t<=0,i=n?t:e,o=r?0:i,a=e-t;return function(e){var i=n?0:1,s=r?rm(Math.abs(0-t)/a,0,1):i,l=rm((e-o)/a,-1,1);return{zeroScale:s,scale:l}}},Jj=function(t,e){var n,r,i,o=t.data,a=t.encode,s=t.type,l=e.getMeta(),u=l.x,c=l.y,f=l.height,h=l.width,d=e.getStyle(Ml.DATA_CELL),p=d.cell,v=d.miniChart,g=[],y=KO(o,(function(t){return g.push(null===t||void 0===t?void 0:t[a.y]),{x:t[a.x],y:t[a.y]}})),m=UE(g),b=oM(g),x=m-b,w=u+p.padding.left,_=u+h-p.padding.right,O=c+p.padding.top,C=c+f-p.padding.bottom,S=C-O,E=s===ws.Bar?(_-w-(g.length-1)*(null===(n=null===v||void 0===v?void 0:v.bar)||void 0===n?void 0:n.intervalPadding))/g.length+(null===(r=null===v||void 0===v?void 0:v.bar)||void 0===r?void 0:r.intervalPadding):null!==(i=(_-w)/(g.length-1))&&void 0!==i?i:0,M=[],k=KO(y,(function(t,e){var n,r,i=w+e*E;if(r=0!==x?C-((null===t||void 0===t?void 0:t.y)-b)/x*S:b>0?O:C,s===ws.Bar){var o=void 0,a=void 0;b<0&&m>0&&0!==x?(o=C-(0-b)/x*S,a=Math.abs(r-o),(null===t||void 0===t?void 0:t.y)<0&&(r=o)):(o=b<0?O:C,x=UE([Math.abs(m),Math.abs(b)]),a=0===x?S:Math.abs((null===t||void 0===t?void 0:t.y)-0)/x*S,r=o);var l=E-(null===(n=null===v||void 0===v?void 0:v.bar)||void 0===n?void 0:n.intervalPadding);M.push([l,a])}return[i,r]}));return{points:k,box:M}},tN=function(t,e){if(!HS(null===t||void 0===t?void 0:t.data)&&!HS(e)){var n=e.getStyle(Ml.DATA_CELL),r=n.miniChart,i=r.line,o=i.point,a=i.linkLine,s=Jj(t,e).points;zj(e,{points:s,stroke:a.fill,lineWidth:a.size,opacity:a.opacity});for(var l=0;l<s.length;l++)Wj(e,{x:s[l][0],y:s[l][1],r:o.size,fill:o.fill,fillOpacity:o.opacity})}},eN=function(t,e){if(!HS(null===t||void 0===t?void 0:t.data)&&!HS(e))for(var n=e.getStyle(Ml.DATA_CELL),r=n.miniChart,i=r.bar,o=Jj(t,e),a=o.points,s=o.box,l=0;l<a.length;l++)Dj(e,{x:a[l][0],y:a[l][1],width:s[l][0],height:s[l][1],fill:i.fill,fillOpacity:i.opacity})},nN=function(t,e,n){var r=Number(e)-Number(t);return Number.isNaN(r)||Number(t)<0?n.bad:r<=.1?n.good:r>.1&&r<=.2?n.satisfactory:n.bad},rN=function(t,e){var n,r;void 0===e&&(e={min:0,max:0});var i=Number(t);if(Number.isNaN(i))return t;var o=null!==(n=null===e||void 0===e?void 0:e.min)&&void 0!==n?n:e,a=null!==(r=null===e||void 0===e?void 0:e.max)&&void 0!==r?r:e,s=new Intl.NumberFormat("en-US",{minimumFractionDigits:o,maximumFractionDigits:a,useGrouping:!1,style:"percent"});return s.format(i)},iN=function(t){var e,n,r,i,o,a;if(!HS(t)){var s=t.getCellArea(),l=s.x,u=s.y,c=s.height,f=s.width,h=t.findFieldCondition(null===(e=t.cellConditions)||void 0===e?void 0:e.interval);if(h&&h.mapping){var d=t.mappingValue(h);if(!d)return;var p=d.isCompare?d:t.valueRangeByField,v=Nj(p.minValue),g=Nj(p.maxValue),y=rE(null===d||void 0===d?void 0:d.fieldValue)?Nj(t.getMeta().fieldValue):Nj(null===d||void 0===d?void 0:d.fieldValue);if(y<v||y>g)return;var m=null!==(r=null===(n=t.getStyle().miniChart.interval)||void 0===n?void 0:n.height)&&void 0!==r?r:t.getStyle().cell.miniBarChartHeight,b=null!==(o=null===(i=t.getStyle().miniChart.interval)||void 0===i?void 0:i.fill)&&void 0!==o?o:t.getStyle().cell.miniBarChartFillColor,x=Qj(v,g),w=x(y),_=w.zeroScale,O=w.scale,C=null!==(a=d.fill)&&void 0!==a?a:b;return Dj(t,{x:l+f*_,y:u+c/2-m/2,width:f*O,height:m,fill:C})}}},oN=function(t,e){var n,r=e.getStyle(Ml.DATA_CELL),i=e.getMeta(),o=i.x,a=i.y,s=i.height,l=i.width,u=i.spreadsheet;if(HS(t))Hj(e,[],o+l-r.cell.padding.right,a+s/2,_N(e,u.options.placeholder),r.text);else{var c=r.miniChart.bullet,f=c.progressBar,h=c.comparativeMeasure,d=c.rangeColors,p=c.backgroundColor,v=t.measure,g=t.target,y=Math.max(Number(v),0),m=Math.max(Number(g),0),b=rN(v,2),x=(null===f||void 0===f?void 0:f.widthPercent)>1?(null===f||void 0===f?void 0:f.widthPercent)/100:null===f||void 0===f?void 0:f.widthPercent,w=r.cell.padding,_=l-w.left-w.right,O=x*_,C=_-O,S=o+l-w.right-O,E=a+s/2-f.height/2;Dj(e,{x:S,y:E,width:O,height:f.height,fill:p,textBaseline:r.text.textBaseline});var M=vv(e.getMeta(),"spreadsheet.options.bullet.getRangeColor"),k=Math.max(Math.min(O*y,O),0);Dj(e,{x:S,y:E+(f.height-f.innerHeight)/2,width:k,height:f.innerHeight,fill:null!==(n=null===M||void 0===M?void 0:M(y,m))&&void 0!==n?n:nN(y,m,d)});var T=S+O*m;$j(e,{x1:T,y1:a+(s-h.height)/2,x2:T,y2:a+(s-h.height)/2+h.height},{stroke:(null===h||void 0===h?void 0:h.fill)||(null===h||void 0===h?void 0:h.color),lineWidth:h.width,opacity:null===h||void 0===h?void 0:h.opacity}),Hj(e,[],S-w.right,a+s/2,mN({measureTextWidth:u.measureTextWidth,text:b,maxWidth:C-w.right,fontParam:r.text}),r.text)}},aN=function(t,e){switch(null===e||void 0===e?void 0:e.type){case ws.Line:tN(e,t);break;case ws.Bar:eN(e,t);break;default:oN(e,t);break}},sN=function(t,e){var n=t.x,r=t.y,i=t.width,o=t.height,a=i-(null===e||void 0===e?void 0:e.left)-(null===e||void 0===e?void 0:e.right),s=o-(null===e||void 0===e?void 0:e.top)-(null===e||void 0===e?void 0:e.bottom);return{x:n+(null===e||void 0===e?void 0:e.left),y:r+(null===e||void 0===e?void 0:e.top),width:a,height:s}},lN=function(t){return tM({size:0,position:"right",margin:{left:0,right:0}},t)},uN=function(t,e){return e=lN(e),t-e.size-e.margin.right-e.margin.left},cN=function(t,e,n){var r=t.y,i=t.height;void 0===n&&(n=0);var o=0;switch(e){case"top":o=r;break;case"middle":o=r+i/2-n/2;break;default:o=r+i-n;break}return o},fN=function(t,e,n,r,i){void 0===n&&(n=0),void 0===i&&(i=1);var o,a,s=t.x,l=t.width,u=e.textAlign,c=e.textBaseline,f=lN(r),h=f.size,d=f.margin,p=f.position,v=i*(h+d.left)+(i?d.right:0);switch(u){case"left":o=s+("left"===p?v:0),a=s+("left"===p?d.left:n+d.left);break;case"center":var g=v-("left"===p?d.left:d.right)+n,y=s+l/2-g/2;o=y+n/2+("left"===p?v-d.left:0),a=y+("left"===p?0:n+d.left);break;default:o=s+l-("right"===p?v:0),a=s+l-("right"===p?v-d.left:n+v-d.left);break}var m=cN(t,c,0),b=cN(t,c,h);return{text:{x:o,y:m},icon:{x:a,y:b}}},hN=function(t,e){return fN(t,e).text},dN=function(t,e,n){var r,i,o=e.start+e.width,a=t.start+t.width;if(e.start<=t.start&&o>=a)r=t.start+t.width/2,i=t.width;else if(e.start<=t.start){var s=e.width-(t.start-e.start);r=s<n?o-n/2:o-s/2,i=s}else if(o>=a){s=e.width-(o-a);r=s<n?e.start+n/2:e.start+s/2,i=s}else r=e.start+e.width/2,i=e.width;return{start:r,width:i}},pN=function(t,e,n){var r,i,o,a,s,l=e.x,u=e.y,c=e.width,f=e.height,h=n.horizontalBorderWidth,d=n.horizontalBorderColorOpacity,p=n.horizontalBorderColor,v=n.verticalBorderWidth,g=n.verticalBorderColor,y=n.verticalBorderColorOpacity;if(t===mj.TOP||t===mj.BOTTOM){var m=u;m=t===mj.TOP?u+v/2:u+f-v/2,i=m,a=m,r=l,o=l+c,s={lineWidth:h,stroke:p,strokeOpacity:d}}if(t===mj.LEFT||t===mj.RIGHT){var b=l;b=t===mj.LEFT?l+h/2:l+c-h/2,r=b,o=b,i=u,a=u+f,s={lineWidth:v,stroke:g,strokeOpacity:y}}return{position:{x1:r,x2:o,y1:i,y2:a},style:s}},vN=function(t,e,n){void 0===n&&(n={left:0,right:0});var r=tu({},t);return"left"===e?(r.start+=n.left,r.width-=n.left):"right"===e&&(r.width-=n.right),r},gN=function(t,e,n,r){var i=e+n,o=t.start;if("center"===r)return o-n/2;var a=t.width-i>0,s=a?t.width/2:i/2;return"left"===r?o-s:o+s-n},yN=(rv((function(t,e){if(void 0===t&&(t=""),!e)return 0;var n=Xj().getContext("2d"),r=e,i=r.fontSize,o=r.fontFamily,a=r.fontWeight,s=r.fontStyle,l=r.fontVariant;return n.font=[s,l,a,"".concat(i,"px"),o].join(" ").trim(),n.measureText("".concat(t)).width}),(function(t,e){return iu([t],ru(YC(e)),!1).join("")})),function(t,e,n,r){var i,o=16,a=t(ml,r);i=VC(e)?e:cv(e);var s,l,u=n,c=[];if(t(e,r)<=n)return e;var f=!0;while(f){if(s=i.substr(0,o),l=t(s,r),l+a>u&&l>u){f=!1;break}if(c.push(s),u-=l,i=i.substr(o),!i)return c.join("")}var h=!0;while(h){if(s=i.substr(0,1),l=t(s,r),l+a>u){h=!1;break}if(c.push(s),u-=l,i=i.substr(1),!i)return c.join("")}return"".concat(c.join(""),"...")}),mN=function(t){var e=t.measureTextWidth,n=t.text,r=t.maxWidth,i=t.fontParam,o=t.priorityParam,a=t.placeholder,s={},l=null!==a&&void 0!==a?a:ll,u=rE(n)||""===n?l:"".concat(n),c=o;if(i&&Lu(i)?c=i:s=i||{},!c||!c.length)return yN(e,u,r,s);var f=[],h=[u];c.forEach((function(t){h.forEach((function(e,n){var r=-1,i=e.match(new RegExp(t));if(i){var o=i[0];r=i.index,f.push(o);var a=r+o.length,s=e.slice(0,r),l=e.slice(a),u=[s,l].filter((function(t){return!!t}));h.splice.apply(h,iu([n,1],ru(u),!1))}}))})),h=f.concat(h);var d=u,p=e(ml,s),v=r;return h.forEach((function(t){if(v<=0){var n=d.indexOf(t),r=d.slice(n-3,n);if(r&&r!==ml){var i=e(t,s);d=d.replace(t,i>p?ml:t)}else d=d.replace(t,"");v-=p}else{i=e(t,s);if(v<i&&i>p){var o=yN(e,t,v,s);d=d.replace(t,o),v=0}else v-=i}})),d},bN=function(t,e,n,r){void 0===r&&(r="left");var i=e.right,o=e.left,a=n||0;return"left"===r?t+i/2+a:"right"===r?t-i/2-a:t+o/2+a},xN=function(t){var e,n,r,i=t.getMeta().isTotals,o=null===(n=(e=t).isMeasureField)||void 0===n?void 0:n.call(e),a=t.getStyle(o?Ml.COL_CELL:Ml.DATA_CELL);return r=o?a.measureText:i?a.bolderText:a.text,{cellStyle:a,textStyle:r}},wN=function(t){var e=t.rowIndex,n=t.colIndex,r=t.meta,i=t.data,o=t.textStyle,a=t.textCondition,s=o.fill;return(null===a||void 0===a?void 0:a.mapping)&&(s=null===a||void 0===a?void 0:a.mapping(i,{rowIndex:e,colIndex:n,meta:r}).fill),tu(tu({},o),{fill:s})},_N=function(t,e){return sc(e)?e(t):e},ON=function(t,e,n){for(var r,i,o,a=t.x,s=t.y,l=t.width,u=t.height,c=u/tA(e),f=[],h=0,d=KO(n,(function(t){return t>1?t/100:t})),p=0;p<tA(e);p++){i=s+c*p;var v=[];r=a,h=0;for(var g=0;g<tA(e[p]);g++)o=HS(d)?l/tA(e[0]):l*d[g],r=bN(a,{left:0,right:0},h,"left"),h+=o,v.push({x:r,y:i,width:o,height:c});f.push(v)}return f},CN=function(t,e,n){var r,i,o,a;void 0===n&&(n=!0);var s=t.getContentArea(),l=s.x,u=s.y,c=s.height,f=s.width,h=e||t.getMeta().fieldValue,d=h.values,p=t.getMeta().spreadsheet,v=p.options,g=p.measureTextWidth,y=v.style.cellCfg.valuesCfg,m=null===(i=null===(r=null===v||void 0===v?void 0:v.conditions)||void 0===r?void 0:r.text)||void 0===i?void 0:i[0],b=null===(a=null===(o=null===v||void 0===v?void 0:v.conditions)||void 0===o?void 0:o.icon)||void 0===a?void 0:a[0];if(Lu(d)){var x=null===y||void 0===y?void 0:y.widthPercent,w=0;if(null===h||void 0===h?void 0:h.label){var _=t.getStyle(Ml.DATA_CELL),O=_.bolderText;w=c/(d.length+1);var C=Hj(t,[],l,u+w/2,mN({measureTextWidth:g,text:h.label,maxWidth:f,fontParam:O}),O);t.addTextShape(C)}for(var S,E=xN(t),M=E.cellStyle,k=E.textStyle,T=null===M||void 0===M?void 0:M.icon,A=b&&b.mapping&&{size:null===T||void 0===T?void 0:T.size,margin:null===T||void 0===T?void 0:T.margin,position:null===b||void 0===b?void 0:b.position},L=ON({x:l,y:u+w,height:c-w,width:f},d,x),P=0;P<d.length;P++)for(var R=wx(d[P]),I=0;I<R.length;I++){S=R[I];var j=n?wN({rowIndex:P,colIndex:I,meta:null===t||void 0===t?void 0:t.getMeta(),data:S,textStyle:k,textCondition:m}):k,N=(null===t||void 0===t?void 0:t.getMeta().spreadsheet.options).placeholder,B=_N(null===t||void 0===t?void 0:t.getMeta(),N),D=uN(L[P][I].width,T),F=mN({measureTextWidth:g,text:S,maxWidth:D,fontParam:j,placeholder:B}),z=g(F,k),W=fN(L[P][I],k,z,A,b?1:0);C=Hj(t,[],W.text.x,W.text.y,F,j,{},null===S||void 0===S?void 0:S.toString());if(t.addTextShape(C),b&&n){var H=null===b||void 0===b?void 0:b.mapping(S,{rowIndex:P,colIndex:I,meta:null===t||void 0===t?void 0:t.getMeta()});if(H){var $=Vj(t,tu(tu({},W.icon),{name:H.icon,width:null===T||void 0===T?void 0:T.size,height:null===T||void 0===T?void 0:T.size,fill:H.fill}));t.addConditionIconShape($)}}}}else aN(t,d)},SN=function(t,e){return void 0===e&&(e=1),(null===t||void 0===t?void 0:t.width)*e},EN=function(t){try{return JSON.parse(t)}catch(e){return null}};function MN(t,e){return!(!t||!e)&&String(t).toLowerCase()===String(e).toLowerCase()}var kN,TN="\r\n",AN="\t",LN=function(t,e){var n=t.getColumnNodes().find((function(t){return t.id===e}));return t.isPivotMode()?null===n||void 0===n?void 0:n.value:null===n||void 0===n?void 0:n.field},PN=function(t,e){var n=e.getColumnNodes().find((function(e){return e.colIndex===t}));return LN(e,n.id)},RN=function(t,e){var n=t.rowIndex,r=t.colIndex;return[e.getRowNodes().find((function(t){return t.rowIndex===n})),e.getColumnNodes().find((function(t){return t.colIndex===r}))]},IN=function(t,e){var n=e.getColumnNodes().find((function(e){return e.colIndex===t})),r=LN(e,n.id);return e.options.interaction.copyWithFormat?e.dataSet.getFieldFormatter(r):function(t){return t}},jN=function(t){var e,n,r,i,o=(null===(i=null===(r=null===(n=t.options)||void 0===n?void 0:n.style)||void 0===r?void 0:r.colCfg)||void 0===i?void 0:i.hideMeasureColumn)&&t.isValueInCols();return o?(e={},e[Os]=t.dataCfg.fields.values[0],e):{}},NN=function(t,e,n){var r,i;if(n.isPivotMode()){var o=ru(RN(t,n),2),a=o[0],s=o[1],l=jN(n),u=n.dataSet.getCellData({query:tu(tu(tu({},a.query),s.query),l),rowNode:a,isTotals:a.isTotals||a.isTotalMeasure||s.isTotals||s.isTotalMeasure});return null!==(r=null===u||void 0===u?void 0:u[_s])&&void 0!==r?r:""}var c=PN(t.colIndex,n);return null===(i=e[t.rowIndex])||void 0===i?void 0:i[c]},BN=function(t,e,n){var r=IN(t.colIndex,n);return r(NN(t,e,n))},DN=function(t){return/\n/.test(t)?'"'+t.replace(/\r\n?/g,"\n")+'"':t},FN=function(t,e){var n=t.split(sl);return e?n.slice(n.length-e):(n.shift(),n)};(function(t){t["PLAIN"]="text/plain",t["HTML"]="text/html"})(kN||(kN={}));var zN=function(t){return{type:kN.PLAIN,content:KO(t,(function(t){return t.join(AN)})).join(TN)}},WN=function(t){function e(t,e){return t.map((function(t){return"<".concat(e,">").concat(_O(t),"</").concat(e,">")})).join("")}function n(t,n){return t.map((function(t){return"<".concat(n,">").concat(e(t,"td"),"</").concat(n,">")})).join("")}return{type:kN.HTML,content:'<meta charset="utf-8"><table><tbody>'.concat(n(t,"tr"),"</tbody></table>")}},HN=(Yj={},Yj[kN.PLAIN]=zN,Yj[kN.HTML]=WN,Yj);function $N(t){return HN[t]}function GN(t,e){return void 0===e&&(e=kN.PLAIN),Array.isArray(e)?[].concat(t).filter((function(t){return e.includes(t.type)})).map((function(t){return t.content})):[].concat(t).filter((function(t){return(null===t||void 0===t?void 0:t.type)===e})).map((function(t){return t.content}))[0]||""}var VN=function(t,e,n){var r,i,o,a,s,l,u=null!==(i=null===(r=t[0])||void 0===r?void 0:r.length)&&void 0!==i?i:0,c=null!==(o=null===e||void 0===e?void 0:e.length)&&void 0!==o?o:0,f=null!==(s=null===(a=n[0])||void 0===a?void 0:a.length)&&void 0!==s?s:0,h=null!==(l=n.length)&&void 0!==l?l:0,d=u+f,p=c+h,v=Array.from(Array(p),(function(){return new Array(d)}));return v=KO(v,(function(r,i){return KO(r,(function(r,o){return o>=0&&o<u&&i>=0&&i<c?"":o>=u&&o<=d&&i>=0&&i<c?e[i][o-u]:o>=0&&o<u&&i>=c&&i<p?t[i-c][o]:o>=u&&o<=d&&i>=c&&i<p?n[i-c][o-u]:void 0}))})),[$N(kN.PLAIN)(v),$N(kN.HTML)(v)]},UN=function(t,e,n){var r=e.map((function(e){return e.map((function(e){return e?DN(BN(e,t,n)):""}))}));return[$N(kN.PLAIN)(r),$N(kN.HTML)(r)]},YN=function(t){if(!(null===t||void 0===t?void 0:t.length))return[];var e=ru([{row:1/0,col:1/0},{row:0,col:0}],2),n=e[0],r=e[1];t.forEach((function(t){var e=t.rowIndex,i=t.colIndex;n.col=Math.min(i,n.col),n.row=Math.min(e,n.row),r.col=Math.max(i,r.col),r.row=Math.max(e,r.row)}));var i=ru([r.row-n.row+1,r.col-n.col+1],2),o=i[0],a=i[1],s=new Array(o).fill("").map((function(){return new Array(a).fill("")}));return t.forEach((function(t){var e=t.rowIndex,r=t.colIndex,i=ru([e-n.row,r-n.col],2),o=i[0],a=i[1];s[o][a]=t})),s},qN=function(t,e){var n=t.dataSet.getDisplayDataSet(),r=e.length?e.map((function(e){return{field:LN(t,e.id),formatter:IN(e.colIndex,t)}})):t.dataCfg.fields.columns.map((function(e){return t.getColumnNodes().find((function(t){return t.field===e}))})).map((function(e){return{field:LN(t,e.id),formatter:IN(e.colIndex,t)}})),i=n.map((function(t){return r.map((function(e){var n=e.field,r=e.formatter;return DN(r(t[n]))}))}));return[$N(kN.PLAIN)(i),$N(kN.HTML)(i)]},XN=function(t,e,n){return KO(t,(function(t){return e.map((function(e){var r,i=n.dataSet.getCellData({query:tu(tu({},t.query),e.query),rowNode:t,isTotals:t.isTotals||t.isTotalMeasure||e.isTotals||e.isTotalMeasure});return IN(e.colIndex,n)(null!==(r=null===i||void 0===i?void 0:i[_s])&&void 0!==r?r:"")}))}))},KN=function(t,e,n){var r=XN(e,n,t);return[$N(kN.PLAIN)(r),$N(kN.HTML)(r)]},ZN=function(t,e,n){var r=KO(e,(function(t){return FN(t.id)})),i=NP.apply(void 0,iu([],ru(KO(n,(function(t){return FN(t.id)}))),!1)),o=XN(e,n,t);return VN(r,i,o)};function QN(t,e,n){var r=t.options.interaction.copyWithHeader;return r?ZN(t,e,n):KN(t,e,n)}var JN=function(t,e){var n=t.getRowNodes().filter((function(e){return e.isLeaf||t.isHierarchyTreeType()})),r=t.getColumnNodes().filter((function(t){return t.isLeaf})),i=e.length?e.reduce((function(t,e){return t.push.apply(t,iu([],ru(r.filter((function(t){return t.id.startsWith(e.id)}))),!1)),t}),[]):r;return QN(t,n,i)},tB=function(t,e,n){return e.isPivotMode()?JN(e,n):qN(e,n)},eB=function(t,e){var n=t.dataSet.getDisplayDataSet(),r=n.filter((function(t,n){return e.map((function(t){return t.rowIndex})).includes(n)})).map((function(e){return Object.keys(e).map((function(e){return t.getColumnNodes().find((function(t){return t.field===e}))})).filter(Boolean).map((function(n){return DN(IN(n.colIndex,t)(e[n.field]))}))}));return[$N(kN.PLAIN)(r),$N(kN.HTML)(r)]},nB=function(t,e){var n=t.getRowNodes().filter((function(e){return e.isLeaf||t.isHierarchyTreeType()})),r=t.getColumnNodes().filter((function(t){return t.isLeaf})),i=e.reduce((function(t,e){return t.push.apply(t,iu([],ru(n.filter((function(t){return t.id.startsWith(e.id)}))),!1)),t}),[]);return QN(t,i,r)},rB=function(t,e,n){return e.isPivotMode()?nB(e,n):eB(e,n)};var iB=function(t,e,n){var r=NP.apply(void 0,iu([],ru(KO(t[0],(function(t){var e,n,r=null!==(n=null===(e=t.id.split(ll))||void 0===e?void 0:e[1])&&void 0!==n?n:"";return FN(r)}))),!1)),i=KO(t,(function(t){var e,n,r=null!==(n=null===(e=t[0].id.split(ll))||void 0===e?void 0:e[0])&&void 0!==n?n:"";return FN(r)})),o=KO(t,(function(t){return KO(t,(function(t){return BN(t,e,n)}))}));return VN(i,r,o)};function oB(t){var e=new Set;return J_(t,(function(t){var n=t.getMeta().level;e.has(n)||e.add(n)})),e}function aB(t,e){return IO(t,(function(t){var n=t.getMeta(),r=n.level===e,i=n.isTotals&&HS(n.children);return r||i}))}function sB(t,e,n){return KO(t,(function(t){var r=t.getMeta(),i=r.id,o=r.label,a=r.isTotals,s=r.level,l=i;a&&s!==e&&(l=i+sl+AT(o,e-s));var u=t.getActualText(),c=FN(l,n.size),f=KO(c,(function(t){return $S(t,o)?u:t}));return f}))}function lB(t){var e,n=oB(t),r=null!==(e=UE(Array.from(n)))&&void 0!==e?e:0,i=aB(t,r),o=t[0].cellType===Ml.COL_CELL,a=sB(i,r,n);return o&&(a=NP.apply(void 0,iu([],ru(a),!1))),[$N(kN.PLAIN)(a),$N(kN.HTML)(a)]}var uB=function(t,e,n){return KO(e,(function(e){var r;return null!==(r=t[e])&&void 0!==r?r:n}))},cB=function(t,e){var n=t.options.placeholder,r=t.dataCfg.fields,i=r.rows,o=r.columns,a=r.values,s=_N(t,n),l=t.getColumnLeafNodes(),u=[];if(t.isTableMode()){var c=IO(l,(function(t){return t.field!==Es}));u=KO(e,(function(t){return KO(c,(function(e){var n;return null!==(n=null===t||void 0===t?void 0:t[e.field])&&void 0!==n?n:s}))}))}else if(t.isPivotMode()){var f=iu(iu(iu([],ru(i),!1),ru(o),!1),ru(a),!1),h=kj(e),d=h.filter((function(t){return iu(iu([],ru(i),!1),ru(o),!1).every((function(e){return!rE(t[e])}))}));u=ST(d,(function(t,e){return iu(iu([],ru(t),!1),[uB(e,f,s)],!1)}),[])}return[$N(kN.PLAIN)(u),$N(kN.HTML)(u)]};function fB(t,e){var n,r,i=e.filter((function(t){var e=t.type;return e===Ml.COL_CELL})),o=e.filter((function(t){var e=t.type;return e===Ml.ROW_CELL})),a=t.dataSet.getDisplayDataSet();if(t.interaction.getCurrentStateName()===El.ALL_SELECTED)r=tB(a,t,[]);else if(i.length)r=tB(a,t,i);else if(o.length)r=rB(a,t,o);else{if(!e.length)return;var s=YN(e),l=t.interaction.getSelectedCellHighlight().currentRow;if(l){var u=BM(e,"rowIndex","asc").map((function(e){return t.dataSet.getRowData(e)}));r=cB(t,u)}else r=(null===(n=t.options.interaction)||void 0===n?void 0:n.copyWithHeader)?iB(s,a,t):UN(a,s,t)}return r}var hB=function(t){var e,n,r=t.interaction,i=r.getState().cells||[],o=null!==(e=r.getInteractedCells())&&void 0!==e?e:[],a=!HS(o)&&kO(o,(function(t){return t.cellType===Ml.ROW_CELL||t.cellType===Ml.COL_CELL}));return n=a?lB(o):fB(t,i),n&&vB(n),GN(n,kN.PLAIN)};var dB=function(t){return new Promise((function(e,n){var r;r=Array.isArray(t)?vv(t.filter((function(t){return t.type===kN.PLAIN})),"[0].content",""):t.content||"";var i=document.createElement("textarea");i.value=r,document.body.appendChild(i),i.focus({preventScroll:!0}),i.select();var o=document.execCommand("copy");document.body.removeChild(i),o?e():n()}))},pB=function(t){return navigator.clipboard.write([new ClipboardItem([].concat(t).reduce((function(t,e){var n,r=e.type,i=e.content,o=i.replace(/\x00/g,"");return tu(tu({},t),(n={},n[r]=new Blob([o],{type:r}),n))}),{}))]).catch((function(){return dB(t)}))},vB=function(t,e){var n;return void 0===e&&(e=!1),n="string"===typeof t?{content:t,type:kN.PLAIN}:t,navigator.clipboard&&window.ClipboardItem&&!e?pB(n):dB(n)},gB=function(t,e,n){var r,i=t.split(sl);if(n)r=[t];else{r=[bI(i[0],i[1])];for(var o=2;o<i.length;o+=1)r.push(bI(r[o-2],i[o]))}var a=IO(e,(function(t){var e;return r.includes(null===(e=t.getMeta())||void 0===e?void 0:e.id)}));return a},yB=function(t,e,n){if(t){var r=gB(t,e);J_(r,(function(t){t.updateByState(n)}))}},mB=function(t,e){return"function"===typeof t?t(e):t.some((function(t){return t===e.key||t===e.id||t===e.valueField}))},bB=function(t){function e(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=t.call(this,{})||this;return o.textShapes=[],o.actualTextWidth=0,o.conditionIconShapes=[],o.stateShapes=new Map,o.meta=e,o.spreadsheet=n,o.theme=n.theme,o.conditions=o.spreadsheet.options.conditions,o.handleRestOptions.apply(o,iu([],ru(r),!1)),o.shouldInit()&&o.initCell(),o}return Jl(e,t),e.prototype.getMeta=function(){return this.meta},e.prototype.setMeta=function(t){this.meta=t},e.prototype.getIconStyle=function(){return this.theme[this.cellType].icon},e.prototype.getTextAndIconPosition=function(t){void 0===t&&(t=1);var e=this.getTextStyle(),n=this.getIconStyle();return fN(this.getContentArea(),e,this.actualTextWidth,n,t)},e.prototype.getActualText=function(){return this.actualText},e.prototype.getFieldValue=function(){return this.getFormattedFieldValue().formattedValue},e.prototype.handleRestOptions=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.shouldInit=function(){var t=this.meta,e=t.width,n=t.height;return e>0&&n>0},e.prototype.getStyle=function(t){return vv(this.theme,t||this.cellType)},e.prototype.getResizeAreaStyle=function(){return this.getStyle("resizeArea")},e.prototype.shouldDrawResizeAreaByType=function(t,e){var n=this.spreadsheet.options.interaction.resize;return LS(n)?n:sc(n.visible)?n.visible(e):n[t]},e.prototype.getCellArea=function(){var t=this.meta,e=t.x,n=t.y,r=t.height,i=t.width;return{x:e,y:n,height:r,width:i}},e.prototype.getContentArea=function(){var t=this.getStyle()||this.theme.dataCell,e=(null===t||void 0===t?void 0:t.cell).padding;return sN(this.getCellArea(),e)},e.prototype.getIconPosition=function(t){return void 0===t&&(t=1),this.getTextAndIconPosition(t).icon},e.prototype.drawTextShape=function(){var t=this.getFormattedFieldValue().formattedValue,e=this.getMaxTextWidth(),n=this.getTextStyle(),r=this.spreadsheet,i=r.options.placeholder,o=r.measureTextWidth,a=_N(this,i),s=mN({measureTextWidth:o,text:t,maxWidth:e,fontParam:n,placeholder:a});this.actualText=s,this.actualTextWidth=o(s,n);var l=this.getTextPosition();this.textShape=Hj(this,[this.textShape],l.x,l.y,s,n),this.textShapes.push(this.textShape)},e.prototype.drawLinkFieldShape=function(t,e){if(t){var n=this.spreadsheet.options.style.device;if(!nI(n)){var r=this.getTextStyle(),i=this.getTextPosition(),o=i.x;"center"===r.textAlign?o-=this.actualTextWidth/2:"right"===r.textAlign&&(o-=this.actualTextWidth);var a=this.textShape.getBBox().maxY;this.linkFieldShape=$j(this,{x1:o,y1:a+1,x2:o+this.actualTextWidth,y2:a+1},{stroke:e,lineWidth:1})}this.textShape.attr({fill:e,cursor:"pointer",appendInfo:{isLinkFieldText:!0,cellData:this.meta}})}},e.prototype.getLinkFieldStyle=function(){return this.getTextStyle().linkTextFill},e.prototype.drawLinkField=function(t){var e=this.spreadsheet.options.interaction.linkFields,n=void 0===e?[]:e,r=this.getLinkFieldStyle(),i=mB(n,t);this.drawLinkFieldShape(i,r)},e.prototype.updateByState=function(t,e){var n=this;this.spreadsheet.interaction.setInteractedCells(e);var r=vv(this.theme,"".concat(this.cellType,".cell.interactionState.").concat(t));J_(r,(function(t,e){var r=ip(AM(jl,(function(t){return XC(t,e)})));r.forEach((function(r){var i=n.stateShapes.has(r),o=i?n.stateShapes.get(r):n[r],a=Lu(o)?o:[o];if(i&&a.forEach((function(t){t.set("visible",!0)})),"interactiveBorderShape"===r&&"borderWidth"===e&&ZS(t)){var s=n.getInteractiveBorderShapeStyle(t);J_(s,(function(t,e){Gj(a,e,t)}))}Gj(a,Il[e],t)}))}))},e.prototype.getInteractiveBorderShapeStyle=function(t){var e=this.getCellArea(),n=e.x,r=e.y,i=e.height,o=e.width,a=this.theme.dataCell.cell,s=a.horizontalBorderWidth,l=a.verticalBorderWidth;return{x:n+l/2+t/2,y:r+s/2+t/2,width:o-l-t,height:i-s-t}},e.prototype.hideInteractionShape=function(){this.stateShapes.forEach((function(t){Gj(t,Il.backgroundOpacity,0),Gj(t,Il.backgroundColor,"transparent"),Gj(t,Il.borderOpacity,0),Gj(t,Il.borderWidth,1),Gj(t,Il.borderColor,"transparent")}))},e.prototype.clearUnselectedState=function(){Gj(this.backgroundShape,Il.backgroundOpacity,1),Gj(this.textShapes,Il.textOpacity,1),Gj(this.linkFieldShape,Il.opacity,1)},e.prototype.getTextShape=function(){return this.textShape},e.prototype.getTextShapes=function(){return this.textShapes||[this.textShape]},e.prototype.addTextShape=function(t){t&&this.textShapes.push(t)},e.prototype.getConditionIconShape=function(){return this.conditionIconShape},e.prototype.getConditionIconShapes=function(){return this.conditionIconShapes||[this.conditionIconShape]},e.prototype.addConditionIconShape=function(t){t&&this.conditionIconShapes.push(t)},e.prototype.resetTextAndConditionIconShapes=function(){this.textShapes=[],this.conditionIconShapes=[]},Object.defineProperty(e.prototype,"cellConditions",{get:function(){return this.conditions},enumerable:!1,configurable:!0}),e.prototype.drawConditionIconShapes=function(){var t,e=this.findFieldCondition(null===(t=this.conditions)||void 0===t?void 0:t.icon);if(e&&e.mapping){var n=this.mappingValue(e),r=this.getIconPosition(),i=this.theme.dataCell.icon.size;HS(null===n||void 0===n?void 0:n.icon)||(this.conditionIconShape=Vj(this,tu(tu({},r),{name:n.icon,width:i,height:i,fill:n.fill})),this.addConditionIconShape(this.conditionIconShape))}},e.prototype.getTextConditionFill=function(t){var e,n,r=t.fill,i=this.findFieldCondition(null===(e=this.conditions)||void 0===e?void 0:e.text);return(null===i||void 0===i?void 0:i.mapping)&&(r=(null===(n=this.mappingValue(i))||void 0===n?void 0:n.fill)||t.fill),r},e}(Sa),xB=function(t,e){return e?e(t[Os],t[_s]):t[_s]},wB=function(t,e){var n=e.getMeta().id;return t.some((function(t){return $S(t.id,n)}))},_B=function(t,e){return"".concat(t).concat(ll).concat(e)},OB=function(t){var e=t.interaction.getSelectedCellHighlight(),n=e.currentRow,r=e.currentCol,i=e.rowHeader,o=e.colHeader;return n||r||i||o},CB=function(t){return t.type===Ml.DATA_CELL},SB=function(t,e){J_(t,(function(t){CB(t)&&t.rowIndex===e.getMeta().rowIndex&&e.updateByState(El.SELECTED)}))},EB=function(t,e){J_(t,(function(t){CB(t)&&t.colIndex===e.getMeta().colIndex&&e.updateByState(El.SELECTED)}))},MB=function(t,e){J_(t,(function(t){CB(t)&&t.rowIndex===e.getMeta().rowIndex&&t.colIndex===e.getMeta().colIndex&&e.updateByState(El.SELECTED)}))},kB=function(t,e,n){var r=n.interaction.getSelectedCellHighlight(),i=r.rowHeader,o=r.colHeader,a=r.currentRow,s=r.currentCol,l=e.cellType===Ml.ROW_CELL,u=n.isTableMode()&&n.options.showSeriesNumber&&i&&l;(a||u)&&SB(t,e),s&&EB(t,e),(i||o)&&MB(t,e)},TB=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),Object.defineProperty(e.prototype,"cellType",{get:function(){return Ml.DATA_CELL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valueRangeByField",{get:function(){return this.spreadsheet.dataSet.getValueRangeByField(this.meta.valueField)},enumerable:!1,configurable:!0}),e.prototype.handleByStateName=function(t,e){wB(t,this)&&this.updateByState(e)},e.prototype.handleSearchResult=function(t){if(wB(t,this)){var e=FO(t,(function(t){return null===t||void 0===t?void 0:t.isTarget}));e.id===this.getMeta().id?this.updateByState(El.HIGHLIGHT):this.updateByState(El.SEARCH_RESULT)}},e.prototype.handleSelect=function(t){var e,n=null===(e=null===t||void 0===t?void 0:t[0])||void 0===e?void 0:e.type;switch(n){case Ml.COL_CELL:this.changeRowColSelectState("colIndex");break;case Ml.ROW_CELL:this.changeRowColSelectState("rowIndex");break;case Ml.DATA_CELL:OB(this.spreadsheet)?kB(t,this,this.spreadsheet):wB(t,this)?this.updateByState(El.SELECTED):this.spreadsheet.options.interaction.selectedCellsSpotlight&&this.updateByState(El.UNSELECTED);break}},e.prototype.handleHover=function(t){var e=qO(t);if(e.type===Ml.DATA_CELL){var n=this.spreadsheet.interaction.getHoverHighlight(),r=n.currentRow,i=n.currentCol;if(r||i){var o=this.meta.colIndex,a=this.meta.rowIndex;i&&o===(null===e||void 0===e?void 0:e.colIndex)||r&&a===(null===e||void 0===e?void 0:e.rowIndex)?this.updateByState(El.HOVER):this.hideInteractionShape()}var s=this.getMeta(),l=s.id,u=s.rowIndex,c=s.colIndex;$S(e.id,l)&&$S(e.rowIndex,u)&&$S(e.colIndex,c)&&this.updateByState(El.HOVER_FOCUS)}else this.hideInteractionShape()},e.prototype.update=function(){var t=this.spreadsheet.interaction.getCurrentStateName(),e=this.spreadsheet.interaction.getCells();if(t!==El.ALL_SELECTED){if(!HS(e)&&t)switch(t){case El.SELECTED:this.handleSelect(e);break;case El.HOVER_FOCUS:case El.HOVER:this.handleHover(e);break;case El.SEARCH_RESULT:this.handleSearchResult(e);break;default:this.handleByStateName(e,t);break}}else this.updateByState(El.SELECTED)},e.prototype.setMeta=function(e){t.prototype.setMeta.call(this,e),this.initCell()},e.prototype.drawTextShape=function(){t.prototype.drawTextShape.call(this),this.drawLinkField(this.meta)},e.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.shouldHideRowSubtotalData()||(this.drawConditionIntervalShape(),this.drawTextShape(),this.drawConditionIconShapes()),this.drawInteractiveBorderShape(),this.meta.isFrozenCorner&&this.drawBorderShape(),this.update()},e.prototype.getDefaultTextFill=function(t){var e=t.fill,n=this.getBackgroundColor(),r=n.backgroundColor,i=n.intelligentReverseTextColor;return MR(r)&&t.fill===_l&&i&&(e=Ol),e},e.prototype.getTextStyle=function(){var t=this.meta.isTotals,e=t?this.theme.dataCell.bolderText:this.theme.dataCell.text,n=this.getTextConditionFill(tu(tu({},e),{fill:this.getDefaultTextFill(e)}));return tu(tu({},e),{fill:n})},e.prototype.getIconStyle=function(){var t,e=this.theme.dataCell.icon,n=e.size,r=e.margin,i=this.findFieldCondition(null===(t=this.conditions)||void 0===t?void 0:t.icon),o=i&&i.mapping&&{size:n,margin:r,position:Zj(i)};return o},e.prototype.drawConditionIntervalShape=function(){this.conditionIntervalShape=iN(this)},e.prototype.shouldHideRowSubtotalData=function(){var t,e=(null!==(t=this.spreadsheet.options.totals)&&void 0!==t?t:{}).row,n=void 0===e?{}:e,r=this.meta.rowIndex,i=this.spreadsheet.facet.layoutResult.rowLeafNodes[r],o=!(null===i||void 0===i?void 0:i.isGrandTotals)&&(null===i||void 0===i?void 0:i.isTotals);return"tree"===this.spreadsheet.options.hierarchyType&&!n.showSubTotals&&o},e.prototype.getFormattedFieldValue=function(){if(this.shouldHideRowSubtotalData())return{value:null,formattedValue:ll};var t=this.meta,e=t.rowId,n=t.valueField,r=t.fieldValue,i=t.data,o=this.spreadsheet.dataSet.getFieldMeta(e),a=o?e:n,s=this.spreadsheet.dataSet.getFieldFormatter(a),l=s(r,i,this.meta);return{value:r,formattedValue:l}},e.prototype.getMaxTextWidth=function(){var t=this.getContentArea().width;return uN(t,this.getIconStyle())},e.prototype.getTextPosition=function(){return this.getTextAndIconPosition().text},e.prototype.getBackgroundColor=function(){var t,e=this.getStyle().cell,n=e.crossBackgroundColor,r=e.backgroundColorOpacity,i=this.getStyle().cell.backgroundColor;if(n&&this.meta.rowIndex%2===0&&(i=n),this.shouldHideRowSubtotalData())return{backgroundColor:i,backgroundColorOpacity:r};var o=this.findFieldCondition(null===(t=this.conditions)||void 0===t?void 0:t.background),a=!1;if(o&&o.mapping){var s=this.mappingValue(o);s&&(i=s.fill,a=s.intelligentReverseTextColor)}return{backgroundColor:i,backgroundColorOpacity:r,intelligentReverseTextColor:a}},e.prototype.drawBackgroundShape=function(){var t=this.getBackgroundColor(),e=t.backgroundColor,n=t.backgroundColorOpacity;this.backgroundShape=Dj(this,tu(tu({},this.getCellArea()),{fill:e,fillOpacity:n}))},e.prototype.drawInteractiveBorderShape=function(){var t=1,e=this.getCellArea(),n=e.x,r=e.y,i=e.height,o=e.width;this.stateShapes.set("interactiveBorderShape",Dj(this,{x:n+t,y:r+t,width:o-2*t,height:i-2*t},{capture:!1,visible:!1}))},e.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",Dj(this,tu({},this.getCellArea()),{visible:!1}))},e.prototype.changeRowColSelectState=function(t){var e=this.spreadsheet.interaction,n=vv(this.meta,t),r=e.getState(),i=r.nodes,o=void 0===i?[]:i,a=r.cells,s=void 0===a?[]:a,l=!1;if(this.spreadsheet.isTableMode()&&o.length){var u=o[0].hierarchy.getLeaves();l=u.some((function(t,e){return!!o.some((function(e){return e===t}))&&e===n}))}else l=iu(iu([],ru(o),!1),ru(s),!1).some((function(e){return vv(e,t)===n}));l?this.updateByState(El.SELECTED):this.spreadsheet.options.interaction.selectedCellsSpotlight?this.updateByState(El.UNSELECTED):this.hideInteractionShape()},e.prototype.drawBorderShape=function(){var t=this;[mj.BOTTOM,mj.RIGHT].forEach((function(e){var n=pN(e,t.getCellArea(),t.getStyle().cell),r=n.position,i=n.style;$j(t,r,i)}))},e.prototype.findFieldCondition=function(t){var e=this;return UO(t,(function(t){return t.field instanceof RegExp?t.field.test(e.meta.valueField):t.field===e.meta.valueField}))},e.prototype.mappingValue=function(t){var e=this.meta.fieldValue,n=this.spreadsheet.isTableMode()?this.spreadsheet.dataSet.getCellData({query:{rowIndex:this.meta.rowIndex}}):this.meta.data;return null===t||void 0===t?void 0:t.mapping(e,n)},e.prototype.updateByState=function(e){if(t.prototype.updateByState.call(this,e,this),e===El.UNSELECTED){var n=vv(this.theme,"".concat(this.cellType,".cell.interactionState.").concat(e));n&&this.toggleConditionIntervalShapeOpacity(n.opacity)}},e.prototype.clearUnselectedState=function(){t.prototype.clearUnselectedState.call(this),this.toggleConditionIntervalShapeOpacity(1)},e.prototype.toggleConditionIntervalShapeOpacity=function(t){Gj(this.conditionIntervalShape,Il.backgroundOpacity,t),Gj(this.conditionIconShapes,Il.opacity,t)},e.prototype.drawLeftBorder=function(){var t=pN(mj.LEFT,this.getCellArea(),this.getStyle().cell),e=t.position,n=t.style;$j(this,e,n)},e}(bB),AB=function(t){function e(e,n,r){return t.call(this,r,e,n)||this}return Jl(e,t),e.prototype.handleRestOptions=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ru(t,1),r=n[0];this.cells=r},Object.defineProperty(e.prototype,"cellType",{get:function(){return Ml.MERGED_CELL},enumerable:!1,configurable:!0}),e.prototype.update=function(){},e.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.conditions=this.spreadsheet.options.conditions,this.drawBackgroundShape(),this.drawTextShape()},e.prototype.drawBackgroundShape=function(){var t=IB(this.cells),e=this.theme.dataCell.cell;this.backgroundShape=Fj(this,{points:t,stroke:e.horizontalBorderColor,fill:e.backgroundColor,lineHeight:e.horizontalBorderWidth})},e.prototype.drawTextShape=function(){HS(this.meta)||($u(this.meta.fieldValue)?CN(this):t.prototype.drawTextShape.call(this))},e}(TB),LB=function(t,e,n,r){var i=[t,e],o=[t+n,e],a=[t+n,e+r],s=[t,e+r];return[[i,o],[o,a],[a,s],[s,i]]},PB=function(t){var e=[];return J_(t,(function(n){var r=[n[1],n[0]];JSON.stringify(t).includes(JSON.stringify(r))||e.push(n)})),e},RB=function(t,e){return FO(e,(function(e){return $S(e[0],t[1])}))},IB=function(t){var e=[];t.forEach((function(t){var n=t.getMeta(),r=n.x,i=n.y,o=n.width,a=n.height;e=e.concat(LB(r,i,o,a))})),e=PB(e);var n=[],r=e[0],i=r,o=[];while(!$S(r,o))n=n.concat(i),o=RB(i,e),i=o;return n},jB=function(t,e){var n,r=[];return J_(t,(function(t){var i,o,a,s=null===(o=null===(i=null===e||void 0===e?void 0:e.facet)||void 0===i?void 0:i.layoutResult)||void 0===o?void 0:o.getCellMeta(t.rowIndex,t.colIndex);if(s){var l=null===(a=null===e||void 0===e?void 0:e.facet)||void 0===a?void 0:a.cfg.dataCell(s);n=(null===t||void 0===t?void 0:t.showText)?s:n,r.push(l)}})),{cells:r,cellsMeta:n}},NB=function(t,e){var n,r=[],i=[];return J_(t,(function(t){var o=FO(e,(function(e){var n,r=null===(n=null===e||void 0===e?void 0:e.getMeta)||void 0===n?void 0:n.call(e);if((null===r||void 0===r?void 0:r.colIndex)===(null===t||void 0===t?void 0:t.colIndex)&&(null===r||void 0===r?void 0:r.rowIndex)===(null===t||void 0===t?void 0:t.rowIndex))return e}));o?(r.push(o),n=(null===t||void 0===t?void 0:t.showText)?null===o||void 0===o?void 0:o.getMeta():n):i.push(t)})),{cells:r,invisibleCellInfo:i,cellsMeta:n}},BB=function(t,e,n){var r;void 0===n&&(n=[]);var i=NB(n,t),o=i.cellsMeta,a=i.cells,s=i.invisibleCellInfo,l=o,u=a,c=(null===s||void 0===s?void 0:s.length)>0&&s.length<n.length;if(c){var f=jB(s,e),h=f.cells,d=f.cellsMeta;l=l||d,u=a.concat(h)}return HS(a)||l||(l=null===(r=u[0])||void 0===r?void 0:r.getMeta()),{cells:u,viewMeta:l}},DB=function(t){var e=t.interaction,n=e.getActiveCells(),r=[];return J_(n,(function(t,e){var n=t.getMeta(),i=0===e?{showText:!0}:{};r.push(tu(tu({},i),{colIndex:null===n||void 0===n?void 0:n.colIndex,rowIndex:null===n||void 0===n?void 0:n.rowIndex}))})),r},FB=function(t,e,n){return t.options.mergedCell?t.options.mergedCell(t,e,n):new AB(t,e,n)},zB=function(t,e,n){var r,i=e||DB(t);if((null===i||void 0===i?void 0:i.length)<=1)console.error("then merged cells must be more than one");else{var o=t.interaction.getPanelGroupAllDataCells(),a=BB(o,t,i),s=a.cells,l=a.viewMeta;if(!HS(s)){var u=(null===(r=t.options)||void 0===r?void 0:r.mergedCellsInfo)||[];u.push(i),t.setOptions({mergedCellsInfo:u});var c=n?void 0:l;t.panelScrollGroup.addMergeCell(FB(t,s,c))}}},WB=function(t,e){var n=KO(t.cells,(function(t){return{colIndex:t.getMeta().colIndex,rowIndex:t.getMeta().rowIndex}}));return IO(e,(function(t){var e=t.map((function(t){return t.showText?{colIndex:t.colIndex,rowIndex:t.rowIndex}:t}));return!$S(e,n)}))},HB=function(t,e){var n,r,i;if(e&&e.cellType===Ml.MERGED_CELL){var o=WB(e,null===(n=t.options)||void 0===n?void 0:n.mergedCellsInfo);(null===o||void 0===o?void 0:o.length)!==(null===(i=null===(r=t.options)||void 0===r?void 0:r.mergedCellsInfo)||void 0===i?void 0:i.length)&&(t.setOptions({mergedCellsInfo:o}),e.remove(!0))}else console.error("unmergeCell: the ".concat(e," is not a MergedCell"))},$B=function(t){return KO(t,(function(t){return{cells:t.cells,viewMeta:t.getMeta()}}))},GB=function(t,e){return G_(t,e,(function(t,e){return $S(t.viewMeta.id,e.viewMeta.id)}))},VB=function(t,e){var n,r=null===(n=t.options)||void 0===n?void 0:n.mergedCellsInfo;if(!HS(r)){var i=t.interaction.getPanelGroupAllDataCells();if(!HS(i)){var o=[];r.forEach((function(e){var n=BB(i,t,e);n.cells.length>0&&o.push(n)}));var a=e.getChildren(),s=$B(a),l=GB(s,o),u=GB(o,s);J_(l,(function(t){var e=FO(a,(function(e){return $S(e.getMeta().id,t.viewMeta.id)}));null===e||void 0===e||e.remove(!0)})),J_(u,(function(n){var r=n.cells,i=n.viewMeta;e.add(FB(t,r,i))}))}}},UB=function(t){var e=t.includes(sl)?"id":"field";return e},YB=function(t,e){void 0===e&&(e=[]);var n=t.getInitColumnLeafNodes();return Lx(e.map((function(t){var e=UB(t);return n.find((function(n){return n[e]===t}))})))},qB=function(t,e){if(void 0===e&&(e=[]),HS(e))return{prev:null,next:null};var n=t.getInitColumnLeafNodes(),r=YB(t,e).map((function(t){return null===t||void 0===t?void 0:t.colIndex})),i=Math.max.apply(Math,iu([],ru(r),!1)),o=Math.min.apply(Math,iu([],ru(r),!1)),a=n.find((function(t){return t.colIndex===i+1})),s=n.find((function(t){return t.colIndex===o-1}));return{prev:s||null,next:a||null}},XB=function(t,e){if(HS(e))return[];var n=Number.NEGATIVE_INFINITY;return t.reduce((function(t,r,i){if(!e.includes(r))return t;if(i===n+1){var o=z_(t);o.push(r)}else{var a=[r];t.push(a)}return n=i,t}),[])},KB=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=!1);var r=function(e,n){void 0===e&&(e=[]),void 0===n&&(n=[]),t.setOptions({interaction:{hiddenColumnFields:e}}),t.interaction.reset(),t.store.set("hiddenColumnsDetail",n),t.render(!1,{reBuildHiddenColumnsDetail:!1})};if(HS(e)&&n)r();else{var i=t.store.get("hiddenColumnsDetail",[]),o=t.options.interaction.hiddenColumnFields;if(!$S(e,o)||n){var a=aP(iu(iu([],ru(e),!1),ru(o),!1)),s=YB(t,a).every((function(t,e,n){var r=n[e+1];return!r||1===Math.abs(t.colIndex-r.colIndex)})),l=qB(t,s?a:e),u={hideColumnNodes:YB(t,e),displaySiblingNode:l},c=iu(iu([],ru(i),!1),[u],!1);t.emit(bs.LAYOUT_COLS_HIDDEN,u,c),r(a,c)}}},ZB=function(t){var e=t.dataCfg.fields.columns,n=void 0===e?[]:e;return t.isTableMode()?n:t.getInitColumnLeafNodes().map((function(t){var e=t.id;return e}))},QB=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=!1),HS(e)&&n&&KB(t,e,!0);var r=ZB(t),i=zI(r),o=XB(i,e);o.forEach((function(e){KB(t,e,n)}))},JB=function(t,e){var n=t.getColumnLeafNodes(),r=t.getInitColumnLeafNodes(),i=UB(e);return vv(z_(n),i)===e&&vv(z_(r),i)!==e},tD=function(t){return(null===t||void 0===t?void 0:t.next)||(null===t||void 0===t?void 0:t.prev)},eD=function(t){var e=tD(t);return null===e||void 0===e?void 0:e.id},nD=function(t,e){return eD(t)===e},rD=function(t){var e=t.type,n=t.id,r=t.theme,i=t.width,o=t.height,a=eu(t,["type","id","theme","width","height"]),s=e===Wl.Horizontal?r.size:null,l=e===Wl.Vertical?r.size:null;return{fill:r.background,fillOpacity:r.backgroundOpacity,cursor:"".concat(e,"-resize"),width:s,height:l,appendInfo:tu(tu({},a),{isResizeArea:!0,type:e,id:n,width:i,height:o,size:r.size})}},iD=function(t,e){if(t.foregroundGroup){var n=t.foregroundGroup.findById(e);return n||t.foregroundGroup.addGroup({id:e,zIndex:Ls})}},oD=function(t,e,n){var r=null!==n&&void 0!==n?n:{},i=r.scrollX,o=void 0===i?0:i,a=r.scrollY,s=void 0===a?0:a,l=!(t.x-o>e.x+e.width||t.x+t.width-o<e.x),u=!(t.y-s>e.y+e.height||t.y+t.height-s<e.y);return l&&u},aD=function(t,e,n){if(!t)return!1;var r=t.iconNames,i=t.displayCondition,o=t.belongsCell;return!HS(r)&&(o===n&&(!i||r.some((function(t){return i(e,t)}))))},sD=function(t,e,n){var r=FO(t,(function(t){return aD(t,e,n)}));if(r){var i=r.iconNames;return r.displayCondition&&(i=i.filter((function(t){return r.displayCondition(e,t)}))),tu(tu({},r),{iconNames:i})}},lD=function(t,e){var n=t.label,r=t.field;return $S(r,Os)?{formattedValue:e||n,value:n}:{formattedValue:n,value:n}};function uD(t,e){return e.map((function(e){var n=t[e];return void 0===n?n:"".concat(n)}))}function cD(t){return t.map((function(t){var e=null===t||void 0===t?void 0:t.split(sl);return e[(null===e||void 0===e?void 0:e.length)-1]||t}))}function fD(t,e,n){var r,i=e.slice(0,e.indexOf(t)+1);return null===(r=n.map((function(t){return i.map((function(e){return t[e]})).join("".concat(sl))})))||void 0===r?void 0:r.filter((function(t){return t}))}function hD(t){var e=t.rowDimensionValues,n=t.colDimensionValues,r=t.careUndefined,i=t.isFirstCreate,o=t.onFirstCreate,a=t.rowFields,s=t.colFields,l=t.rowPivotMeta,u=t.colPivotMeta,c=function(t,e,n,l){void 0===e&&(e=!0);for(var u=e?n:l,c=e?a:s,f=[],h=0;h<t.length;h++){var d=t[h];if(!u.has(d))if(i)u.set(d,{level:u.size,children:new Map}),null===o||void 0===o||o({isRow:e,dimension:null===c||void 0===c?void 0:c[h],dimensionPath:t.slice(0,h+1)});else{var p=u.get(d);if(p&&f.push(p.level),!r)break}var v=u.get(d);hE(d)&&r?f.push(d):f.push(null===v||void 0===v?void 0:v.level),v&&(i&&(v.childField=null===c||void 0===c?void 0:c[h+1]),u=null===v||void 0===v?void 0:v.children)}return f},f=c(e,!0,l,u),h=c(n,!1,l,u),d=f.concat.apply(f,iu([],ru(h),!1));return d}function dD(t,e){return ST(t,(function(t,n){return t.push(e[n]),t}),[])}function pD(t){var e=t.rows,n=t.columns,r=t.originData,i=void 0===r?[]:r,o=t.indexesData,a=void 0===o?[]:o,s=t.totalData,l=void 0===s?[]:s,u=t.sortedDimensionValues,c=t.rowPivotMeta,f=t.colPivotMeta,h=[],d=new Set(rS(e,n)),p=function(t){var e=t.isRow,n=t.dimension,r=t.dimensionPath;!e&&d.has(n)||(u[n]||(u[n]=[])).push(r.map((function(t){return"".concat(t)})).join(sl))},v=i.concat(l);return v.forEach((function(t){var r=uD(t,e),i=uD(t,n),o=hD({rowDimensionValues:r,colDimensionValues:i,rowPivotMeta:c,colPivotMeta:f,isFirstCreate:!0,onFirstCreate:p,careUndefined:(null===l||void 0===l?void 0:l.length)>0,rowFields:e,colFields:n});h.push(o),YT(a,o,t)})),{paths:h,indexesData:a,rowPivotMeta:c,colPivotMeta:f,sortedDimensionValues:u}}function vD(t,e){if(t&&e){var n=e.split(sl),r=z_(n),i=t;J_(n,(function(t,e){var n=i.get(t);return n?(t===r?(n.children=new Map,n.childField=void 0):i=n.children,!0):0===e&&t===al}))}}function gD(t,e,n){var r=function(e){var n=FO(t,(function(t){var n=t.field;return n===e}));return vv(n,"name",e)},i=e||n,o={field:Os,name:i,formatter:function(t){return r(t)}};return o}var yD=function(t){return"ASC"===AL(t)},mD=function(t){return"DESC"===AL(t)},bD=function(t){return!QS(Number(t))},xD=function(t,e,n){var r=yD(e)?1:-1,i=["-",void 0];return null===t||void 0===t?void 0:t.sort((function(t,e){var o=t,a=e;if(n){if(o=t[n],a=e[n],bD(o)&&bD(a))return(Number(o)-Number(a))*r;if(o&&(null===i||void 0===i?void 0:i.includes(null===o||void 0===o?void 0:o.toString())))return-r;if(Number(o)&&(null===i||void 0===i?void 0:i.includes(null===a||void 0===a?void 0:a.toString())))return r}return rE(o)||rE(a)?o?r:-r:o.toString().localeCompare(a.toString(),"zh")*r}))},wD=function(t,e,n){return n?Pj(e,aP(t)):iu([],ru(new Set(iu(iu([],ru(t),!1),ru(e),!1))),!1)},_D=function(t){var e=t.sortByValues,n=t.originValues,r=n.filter((function(t){return e.find((function(e){return sO(t,e)}))})),i=r.map((function(t){var e=t.split(sl);if(e.length>1){var n=e.slice(0,e.length-1).join(sl);return[n,e[e.length-1]]}return e})),o=Array.from(new Set(i.map((function(t){return t[0]}))));i.sort((function(t,n){var r=t.slice(0,t.length-1),i=n.slice(0,n.length-1);if(r.join()!==i.join()){var a=o.indexOf(r[0]),s=o.indexOf(i[0]);return a-s}var l=e.indexOf(t[t.length-1]),u=e.indexOf(n[n.length-1]);return l-u}));var a=i.map((function(t){return t.join(sl)}));return Ej(n,a)},OD=function(t){var e=t.originValues,n=t.measureValues,r=t.sortParam,i=t.dataSet,o=r.sortFunc,a=r.sortFieldId,s=r.sortMethod,l=o(tu({data:n},r));return(null===l||void 0===l?void 0:l.length)?(i.fields.rows.indexOf(a)>0||i.fields.columns.indexOf(a)>0)&&!XC(l[0],sl)?_D({sortByValues:l,originValues:e}):wD(l,e,yD(s)):e},CD=function(t){var e,n=t.sortParam,r=t.measureValues,i=t.originValues,o=t.dataSet,a=n.sortByMeasure,s=n.query,l=n.sortFieldId,u=n.sortMethod,c=o.fields,f=c.rows,h=c.columns,d=f.includes(l);if(a){var p=xD(r,u,a===Ss?s[Os]:a);e=fD(l,d?f:zI(h),p)}else e=KO(xD(r,u));return wD(e,i,yD(u))},SD=function(t){var e=t.sortParam,n=t.originValues,r=t.measureValues,i=t.dataSet,o=e.sortFunc,a=e.sortMethod,s=e.sortBy,l=n,u={originValues:n,measureValues:r,sortParam:e,dataSet:i};return o?l=OD(u):s?l=_D({sortByValues:s,originValues:n}):(yD(a)||mD(a))&&(l=CD(u)),l},ED=function(t,e,n){var r,i={},o=XC(t,sl);if(o)for(var a=EA(t,sl),s=(null===(r=null===e||void 0===e?void 0:e.rows)||void 0===r?void 0:r.includes(n))?e.rows:zI(e.columns),l=0;l<=ZC(s,n);l++)i[s[l]]=a[l];else i[n]=t;return i},MD=function(t){return t.filter((function(t){return t!==Os}))},kD=function(t){var e=t.dataSet,n=t.sortParam,r=t.originValues,i=e.fields,o=n.sortByMeasure,a=n.query,s=n.sortFieldId,l=e.getMultiData(a),u=zI(i.columns);if(o!==Ss){var c=Px(i.rows,u);return l.filter((function(t){var e=new Set(ip(t));return c.every((function(t){return e.has(t)}))}))}var f=XC(i.rows,s),h=MD(f?i.rows:u),d=MD(f?u:i.rows),p=h[h.indexOf(s)+1],v=ip(a),g=d.filter((function(t){return!v.includes(t)})),y=l.filter((function(t){var e=new Set(ip(t));if(!e.has(s))return!1;if(e.has(p))return!1;var n=g.every((function(t){return!e.has(t)}));return n}));return HS(y)?Lx(KO(r,(function(t){var n=ED(t,i,s);return e.getTotalValue(tu(tu({},a),n))}))):y},TD=function(t){var e,n=t.dataSet,r=t.sortParam,i=t.originValues,o=t.isSortByMeasure;return e=o?kD(t):i,SD({sortParam:r,originValues:i,measureValues:e,dataSet:n})},AD=function(t,e){if(null===t||void 0===t?void 0:t.sortMethod){if(yD(null===t||void 0===t?void 0:t.sortMethod))return"groupAsc";if(mD(null===t||void 0===t?void 0:t.sortMethod))return"groupDesc"}if(e)return"SortDown"},LD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.handleRestOptions=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ru(t,1),r=n[0];this.headerConfig=tu({},r);var i=this.meta,o=i.value,a=i.query,s=this.spreadsheet.dataCfg.sortParams,l=this.isSortCell(),u=FO(iu([],ru(s),!1).reverse(),(function(t){return l&&(null===t||void 0===t?void 0:t.sortByMeasure)===o&&$S(vv(t,"query"),a)})),c=AD(u,l);this.headerConfig.sortParam=tu(tu(tu({},this.headerConfig.sortParam),u||{query:a}),{type:c})},e.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.actionIcons=[],this.hasDefaultHiddenIcon=!1},e.prototype.getInteractiveBorderShapeStyle=function(t){var e=this.getCellArea(),n=e.x,r=e.y,i=e.height,o=e.width;return{x:n+t,y:r+t,width:o-2*t,height:i-2*t}},e.prototype.getFormattedFieldValue=function(){var t=this.meta,e=t.label,n=t.isTotals,r=t.isGrandTotals,i=this.spreadsheet.dataSet.getFieldFormatter(this.meta.field),o=!0;o=!this.spreadsheet.isTableMode()&&(this.spreadsheet.isHierarchyTreeType()?!r:!n);var a=o&&i?i(e,void 0,this.meta):e;return{formattedValue:a,value:e}},e.prototype.getActionIconCfg=function(){return sD(this.spreadsheet.options.headerActionIcons,this.meta,this.cellType)},e.prototype.showSortIcon=function(){var t=this.spreadsheet,e=t.options,n=t.dataCfg,r=HS(n.fields.values);if(e.showDefaultHeaderActionIcon&&!r){var i=this.headerConfig.sortParam,o=this.meta.query;return o&&$S(null===i||void 0===i?void 0:i.query,o)&&(null===i||void 0===i?void 0:i.type)&&"none"!==(null===i||void 0===i?void 0:i.type)}return!1},e.prototype.getActionIconsCount=function(){if(this.showSortIcon())return 1;var t=this.getActionIconCfg();if(t){var e=t.iconNames;return e.length}return 0},e.prototype.getActionIconsWidth=function(){var t=this.getStyle().icon,e=t.size,n=t.margin;return(e+n.left)*this.getActionIconsCount()},e.prototype.drawSortIcons=function(){var t=this;if(this.showSortIcon()){var e=this.getStyle(),n=e.icon,r=e.text,i=this.getTextConditionFill(r),o=this.headerConfig.sortParam,a=this.getIconPosition(),s=new Cj(tu(tu({name:vv(o,"type","none")},a),{width:n.size,height:n.size,fill:i}));s.on("click",(function(e){t.spreadsheet.emit(bs.GLOBAL_ACTION_ICON_CLICK,e),t.spreadsheet.handleGroupSort(e,t.meta)})),this.add(s),this.actionIcons.push(s)}},e.prototype.hasDefaultHideActionIcon=function(){return this.hasDefaultHiddenIcon},e.prototype.addActionIcon=function(t){var e=this,n=t.x,r=t.y,i=t.iconName,o=t.defaultHide,a=t.action,s=t.onClick,l=t.onHover,u=this.getStyle(),c=u.icon,f=u.text,h=this.getTextConditionFill(f),d=(null===c||void 0===c?void 0:c.fill)||h,p=new Cj({name:i,x:n,y:r,width:null===c||void 0===c?void 0:c.size,height:null===c||void 0===c?void 0:c.size,fill:d});p.set("visible",!o),p.on("mouseover",(function(t){e.spreadsheet.emit(bs.GLOBAL_ACTION_ICON_HOVER,t),null===l||void 0===l||l({hovering:!0,iconName:i,meta:e.meta,event:t})})),p.on("mouseleave",(function(t){e.spreadsheet.emit(bs.GLOBAL_ACTION_ICON_HOVER_OFF,t),null===l||void 0===l||l({hovering:!1,iconName:i,meta:e.meta,event:t})})),p.on("click",(function(t){var n;e.spreadsheet.emit(bs.GLOBAL_ACTION_ICON_CLICK,t),null===(n=s||a)||void 0===n||n({iconName:i,meta:e.meta,event:t})})),this.actionIcons.push(p),this.add(p)},e.prototype.drawActionIcons=function(){var t=this;if(this.showSortIcon())this.drawSortIcons();else{var e=this.getActionIconCfg();if(e){var n=e.iconNames,r=e.action,i=e.onClick,o=e.onHover,a=e.defaultHide,s=this.getIconPosition(n.length),l=this.getStyle().icon,u=l.size,c=l.margin;J_(n,(function(e,n){var l=s.x+n*u+n*c.left,f=s.y,h="function"===typeof a?a(t.meta,e):a;h&&(t.hasDefaultHiddenIcon=!0),t.addActionIcon({iconName:e,x:l,y:f,defaultHide:h,action:r,onClick:i,onHover:o})}))}}},e.prototype.drawBackgroundShape=function(){var t=this.getBackgroundColor(),e=t.backgroundColor,n=t.backgroundColorOpacity;this.backgroundShape=Dj(this,tu(tu({},this.getCellArea()),{fill:e,fillOpacity:n}))},e.prototype.isSortCell=function(){var t,e,n,r=null===(e=null===(t=this.meta.spreadsheet)||void 0===t?void 0:t.isValueInCols)||void 0===e?void 0:e.call(t),i=this.meta.level===(null===(n=this.meta.hierarchy)||void 0===n?void 0:n.maxLevel);return r?i&&this.cellType===Ml.COL_CELL:i&&this.cellType===Ml.ROW_CELL},e.prototype.handleByStateName=function(t,e){wB(t,this)&&this.updateByState(e)},e.prototype.handleSearchResult=function(t){if(wB(t,this)){var e=FO(t,(function(t){return null===t||void 0===t?void 0:t.isTarget}));e.id===this.getMeta().id?this.updateByState(El.HIGHLIGHT):this.updateByState(El.SEARCH_RESULT)}},e.prototype.handleHover=function(t){var e;wB(t,this)&&(this.updateByState(El.HOVER),this.hasDefaultHideActionIcon()&&this.toggleActionIcon(null===(e=null===t||void 0===t?void 0:t[0])||void 0===e?void 0:e.id))},e.prototype.handleSelect=function(t,e){wB(t,this)&&this.updateByState(El.SELECTED);var n=KO(e,"id");XC(n,this.meta.id)&&this.updateByState(El.SELECTED)},e.prototype.getTextStyle=function(){var t,e=this.getStyle(),n=e.text,r=e.bolderText,i=e.measureText;t=this.isMeasureField()?i||n:this.isBolderText()?r:n;var o=this.getTextConditionFill(t);return tu(tu({},t),{fill:o})},e.prototype.getBackgroundColor=function(){var t,e,n=(null===(t=this.getStyle())||void 0===t?void 0:t.cell)||{},r=n.backgroundColor,i=n.backgroundColorOpacity,o=r,a=this.findFieldCondition(null===(e=this.conditions)||void 0===e?void 0:e.background);if(a&&a.mapping){var s=this.mappingValue(a);s&&(o=s.fill)}return{backgroundColor:o,backgroundColorOpacity:i}},e.prototype.toggleActionIcon=function(t){if(this.getMeta().id===t){var e=[];J_(this.actionIcons,(function(t){t.get("visible")||(t.set("visible",!0),e.push(t))})),this.spreadsheet.store.set("visibleActionIcons",e)}},e.prototype.update=function(){var t=this.spreadsheet.interaction,e=null===t||void 0===t?void 0:t.getState(),n=null===t||void 0===t?void 0:t.getCells([Ml.CORNER_CELL,Ml.COL_CELL,Ml.ROW_CELL]);if(qO(n))switch(null===e||void 0===e?void 0:e.stateName){case El.SELECTED:this.handleSelect(n,null===e||void 0===e?void 0:e.nodes);break;case El.HOVER_FOCUS:case El.HOVER:this.handleHover(n);break;case El.SEARCH_RESULT:this.handleSearchResult(n);break;default:this.handleByStateName(n,null===e||void 0===e?void 0:e.stateName);break}},e.prototype.updateByState=function(e){t.prototype.updateByState.call(this,e,this)},e.prototype.hideInteractionShape=function(){t.prototype.hideInteractionShape.call(this)},e.prototype.isMeasureField=function(){return[Os,Cs].includes(this.meta.field)},e.prototype.mappingValue=function(t){var e=this.getMeta().label;return null===t||void 0===t?void 0:t.mapping(e,this.meta)},e.prototype.findFieldCondition=function(t){var e=this;return UO(t,(function(t){return t.field instanceof RegExp?t.field.test(e.meta.field):t.field===e.meta.field}))},e}(bB),PD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),Object.defineProperty(e.prototype,"cellType",{get:function(){return Ml.COL_CELL},enumerable:!1,configurable:!0}),e.prototype.initCell=function(){t.prototype.initCell.call(this),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextShape(),this.drawConditionIconShapes(),this.drawActionIcons(),this.drawBorders(),this.drawResizeArea(),this.addExpandColumnIconShapes(),this.update()},e.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",Dj(this,tu({},this.getCellArea()),{visible:!1}))},e.prototype.drawInteractiveBorderShape=function(){var t=2;this.stateShapes.set("interactiveBorderShape",Dj(this,this.getInteractiveBorderShapeStyle(t),{visible:!1}))},e.prototype.getMaxTextWidth=function(){var t=this.getContentArea().width;return t-this.getActionIconsWidth()},e.prototype.getIconPosition=function(){if(this.meta.isLeaf)return t.prototype.getIconPosition.call(this,this.getActionIconsCount());var e=this.getIconStyle(),n=e.margin.left,r=this.getTextStyle(),i=this.textPosition,o=i.x,a=i.y-e.size/2;return"left"===r.textAlign?{x:o+this.actualTextWidth+n,y:a}:"right"===r.textAlign?{x:o+n,y:a}:{x:o+this.actualTextWidth/2+n,y:a}},e.prototype.isBolderText=function(){var t=this.meta,e=t.isLeaf,n=t.isTotals;return!(!n&&e)},e.prototype.getTextPosition=function(){var t,e=this.meta.isLeaf,n=this.headerConfig,r=n.width,i=n.scrollContainsRowHeader,o=n.cornerWidth,a=n.scrollX,s=this.getTextStyle(),l=this.getContentArea(),u=this.getIconStyle();if(e)return fN(l,s,this.actualTextWidth,u,this.getActionIconsCount()).text;var c={start:a-(i?o:0),width:r+(i?o:0)},f=this.getTextStyle().textAlign,h=vN(c,f,null===(t=this.getStyle().cell)||void 0===t?void 0:t.padding),d=this.getActionIconsWidth(),p=this.actualTextWidth+d,v=dN(h,{start:l.x,width:l.width},p),g=gN(v,this.actualTextWidth,d,f),y=l.y+l.height/2;return this.textPosition={x:g,y:y},this.textPosition},e.prototype.getActionIconsWidth=function(){var t=this.getStyle().icon,e=t.size,n=t.margin,r=this.getActionIconsCount();return(e+n.left)*r+(r>0?n.right:0)},e.prototype.getColResizeAreaKey=function(){return this.meta.key},e.prototype.getColResizeArea=function(){return iD(this.spreadsheet,Qs)},e.prototype.getHorizontalResizeAreaName=function(){return"".concat(ol).concat(this.meta.key)},e.prototype.drawHorizontalResizeArea=function(){var t,e,n=0===(null===(e=null===(t=this.spreadsheet.options.style)||void 0===t?void 0:t.colCfg)||void 0===e?void 0:e.height);if(!n&&this.shouldDrawResizeAreaByType("colCellVertical",this)){var r=this.headerConfig,i=r.cornerWidth,o=r.viewportWidth,a=this.meta,s=a.y,l=a.height,u=this.getResizeAreaStyle(),c=this.getColResizeArea(),f=this.getHorizontalResizeAreaName(),h=c.find((function(t){return t.attrs.name===f}));if(!h){var d=i+o;c.addShape("rect",{attrs:tu(tu({},rD({theme:u,type:Wl.Vertical,id:this.getColResizeAreaKey(),effect:Hl.Field,offsetX:0,offsetY:s,width:d,height:l,meta:this.meta})),{name:f,x:0,y:s+l-u.size/2,width:d})})}}},e.prototype.shouldAddVerticalResizeArea=function(){var t=this.meta,e=t.x,n=t.y,r=t.width,i=t.height,o=this.headerConfig,a=o.scrollX,s=o.scrollY,l=o.scrollContainsRowHeader,u=o.cornerWidth,c=o.height,f=o.width,h=this.getResizeAreaStyle(),d={x:e+r-h.size/2,y:n,width:h.size,height:i},p={x:l?-u:0,y:0,width:l?u+f:f,height:c};return oD(d,p,{scrollX:a,scrollY:s})},e.prototype.getVerticalResizeAreaOffset=function(){var t=this.meta,e=t.x,n=t.y,r=this.headerConfig,i=r.scrollX,o=r.position;return{x:o.x+e-i,y:o.y+n}},e.prototype.drawVerticalResizeArea=function(){if(this.meta.isLeaf&&this.shouldDrawResizeAreaByType("colCellHorizontal",this)){var t=this.meta,e=t.label,n=t.width,r=t.height,i=this.getResizeAreaStyle(),o=this.getColResizeArea();if(this.shouldAddVerticalResizeArea()){var a=this.getVerticalResizeAreaOffset(),s=a.x,l=a.y;o.addShape("rect",{attrs:tu(tu({},rD({theme:i,type:Wl.Horizontal,effect:Hl.Cell,id:e,offsetX:s,offsetY:l,width:n,height:r,meta:this.meta})),{x:s+n-i.size/2,y:l,height:r})})}}},e.prototype.drawResizeArea=function(){this.drawHorizontalResizeArea(),this.drawVerticalResizeArea()},e.prototype.drawHorizontalBorder=function(){var t=pN(mj.TOP,this.meta,this.theme.colCell.cell),e=t.position,n=t.style;$j(this,e,n)},e.prototype.drawVerticalBorder=function(t){var e=pN(t,this.meta,this.theme.colCell.cell),n=e.position,r=e.style;$j(this,n,r)},e.prototype.drawBorders=function(){var t=this.spreadsheet,e=t.options,n=t.isTableMode;0===this.meta.colIndex&&n()&&!e.showSeriesNumber&&this.drawVerticalBorder(mj.LEFT),this.drawHorizontalBorder(),this.drawVerticalBorder(mj.RIGHT)},e.prototype.hasHiddenColumnCell=function(){var t=this,e=this.spreadsheet.options,n=e.interaction.hiddenColumnFields,r=void 0===n?[]:n,i=e.tooltip.operation,o=this.spreadsheet.store.get("hiddenColumnsDetail",[]);return!(HS(o)||HS(r)||!i.hiddenColumns)&&!!o.find((function(e){return nD(null===e||void 0===e?void 0:e.displaySiblingNode,t.meta.id)}))},e.prototype.getExpandIconTheme=function(){var t=this.getStyle();return t.icon},e.prototype.addExpandColumnSplitLine=function(){var t=this.meta,e=t.x,n=t.y,r=t.width,i=t.height,o=this.theme.splitLine,a=o.horizontalBorderColor,s=o.horizontalBorderWidth,l=o.horizontalBorderColorOpacity,u=this.isLastColumn()?e+r-s:e;$j(this,{x1:u,y1:n,x2:u,y2:n+i},{stroke:a,lineWidth:s,strokeOpacity:l})},e.prototype.addExpandColumnIconShapes=function(){this.hasHiddenColumnCell()&&(this.addExpandColumnSplitLine(),this.addExpandColumnIcons())},e.prototype.addExpandColumnIcons=function(){var t=this.isLastColumn();this.addExpandColumnIcon(t),this.isAllDisplaySiblingNodeHidden()&&t&&this.addExpandColumnIcon(!1)},e.prototype.addExpandColumnIcon=function(t){var e=this,n=this.getExpandColumnIconConfig(t),r=Vj(this,tu(tu({},n),{name:"ExpandColIcon",cursor:"pointer"}));r.on("click",(function(){e.spreadsheet.emit(bs.LAYOUT_COLS_EXPANDED,e.meta)}))},e.prototype.getExpandColumnIconConfig=function(t){var e=this.getExpandIconTheme().size,n=this.getCellArea(),r=n.x,i=n.y,o=n.width,a=n.height,s=r-e,l=t?s+o:s,u=i+a/2-e/2;return{x:l,y:u,width:2*e,height:e}},e.prototype.isLastColumn=function(){return JB(this.spreadsheet,this.meta.id)},e.prototype.isAllDisplaySiblingNodeHidden=function(){var t=this.meta.id,e=this.spreadsheet.store.get("hiddenColumnsDetail",[]),n=e.find((function(e){var n,r=e.displaySiblingNode;return(null===(n=null===r||void 0===r?void 0:r.next)||void 0===n?void 0:n.id)===t})),r=e.find((function(e){var n,r=e.displaySiblingNode;return(null===(n=null===r||void 0===r?void 0:r.prev)||void 0===n?void 0:n.id)===t}));return r&&n},e}(LD),RD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.isBolderText=function(){var t=this.meta.cornerType;return t===xj.Col},Object.defineProperty(e.prototype,"cellType",{get:function(){return Ml.CORNER_CELL},enumerable:!1,configurable:!0}),e.prototype.initCell=function(){t.prototype.initCell.call(this),this.resetTextAndConditionIconShapes(),this.drawBackgroundShape(),this.drawTreeIcon(),this.drawCellText(),this.drawConditionIconShapes(),this.drawActionIcons(),this.drawBorderShape(),this.drawResizeArea(),this.update()},e.prototype.drawCellText=function(){this.drawTextShape()},e.prototype.drawTextShape=function(){var t=this.getContentArea().x,e=this.getCellArea(),n=e.y,r=e.height,i=this.getTextStyle(),o=this.getCornerText(),a=this.getMaxTextWidth(),s=_N(this.meta,this.spreadsheet.options.placeholder),l=this.spreadsheet.measureTextWidth,u=mN({measureTextWidth:l,text:o,maxWidth:a,fontParam:i,placeholder:s});this.actualText=u;var c=u.indexOf(ml),f=u,h="";if(-1!==c&&this.spreadsheet.isHierarchyTreeType()){var d=c+(rI()?1:0);f=o.substr(0,d),h=o.slice(d),h=mN({measureTextWidth:l,text:h,maxWidth:a,fontParam:i})}var p=hN({x:t+this.getTreeIconWidth(),y:n,width:a,height:r},i).x,v=n+(HS(h)?r/2:r/4);this.addTextShape(Hj(this,[this.textShapes[0]],p,v,f,i)),HS(h)||this.addTextShape(Hj(this,[this.textShapes[1]],p,n+.75*r,h,i)),this.actualTextWidth=UE([l(f,i),l(h,i)])},e.prototype.drawTreeIcon=function(){var t=this;if(this.showTreeIcon()&&this.meta.cornerType!==xj.Col){var e=this.headerConfig.hierarchyCollapse,n=this.getStyle().icon.size,r=this.getTextStyle(),i=r.textBaseline,o=r.fill,a=this.getContentArea();this.treeIcon=Uj(this,{x:a.x,y:cN(a,i,n),width:n,height:n},o,e,(function(){t.headerConfig.spreadsheet.store.set("scrollY",0),t.headerConfig.spreadsheet.emit(bs.LAYOUT_TREE_ROWS_COLLAPSE_ALL,e)}))}},e.prototype.drawBorderShape=function(){var t=this;[mj.TOP,mj.LEFT].forEach((function(e){var n=pN(e,t.getCellArea(),t.getStyle().cell),r=n.position,i=n.style;$j(t,r,i)}))},e.prototype.isLastRowCornerCell=function(){var t=this.meta,e=t.cornerType,n=t.field,r=this.headerConfig.rows;return e===xj.Row&&(this.spreadsheet.isHierarchyTreeType()||z_(r)===n)},e.prototype.getResizeAreaEffect=function(){var t=this.meta.cornerType;return t===xj.Series?Hl.Series:this.isLastRowCornerCell()&&this.spreadsheet.isHierarchyTreeType()?Hl.Tree:Hl.Field},e.prototype.drawResizeArea=function(){if(this.shouldDrawResizeAreaByType("cornerCellHorizontal",this)){var t=this.getResizeAreaStyle(),e=iD(this.spreadsheet,Zs),n=this.headerConfig,r=n.position,i=n.scrollX,o=n.scrollY,a=n.width,s=n.height,l=this.meta,u=l.x,c=l.y,f=l.width,h=l.height,d=l.field,p=l.cornerType,v={x:u+f-t.size/2,y:c,width:t.size,height:h},g={x:0,y:0,width:a,height:s};if(p!==xj.Col&&oD(v,g,{scrollX:i,scrollY:o})){var y=r.x+u-i,m=r.y+(this.isLastRowCornerCell()?0:c);e.addShape("rect",{attrs:tu(tu({},rD({theme:t,id:d,type:Wl.Horizontal,effect:this.getResizeAreaEffect(),offsetX:y,offsetY:m,width:f,height:h,meta:this.meta})),{x:y+f-t.size/2,y:m,height:this.isLastRowCornerCell()?s:h})})}}},e.prototype.showTreeIcon=function(){var t;return this.spreadsheet.isHierarchyTreeType()&&0===(null===(t=this.meta)||void 0===t?void 0:t.x)},e.prototype.getIconPosition=function(){var t,e,n=null===(e=null===(t=this.textShapes)||void 0===t?void 0:t[0])||void 0===e?void 0:e.cfg.attrs,r=this.getTextStyle(),i=r.textBaseline,o=r.textAlign,a=this.getStyle().icon,s=a.size,l=a.margin,u=(null===n||void 0===n?void 0:n.x)+Nw([[HE("center"),bf(this.actualTextWidth/2)],[HE("right"),bf(0)],[jA,bf(this.actualTextWidth)]])(o)+l.left,c=cN(this.getContentArea(),i,s);return{x:u,y:c}},e.prototype.getTreeIconWidth=function(){var t=this.getStyle().icon,e=t.size,n=t.margin;return this.showTreeIcon()?e+n.right:0},e.prototype.getTextStyle=function(){var t=this.getStyle(),e=t.text,n=t.bolderText,r=this.isBolderText()?e:n,i=this.getTextConditionFill(r);return tu(tu({},r),{fill:i})},e.prototype.getMaxTextWidth=function(){var t=this.getContentArea().width;return t-this.getTreeIconWidth()-this.getActionIconsWidth()},e.prototype.getTextPosition=function(){return{x:0,y:0}},e.prototype.getFormattedFieldValue=function(){return lD(this.meta,this.spreadsheet.dataSet.getFieldName(this.meta.label))},e.prototype.getCornerText=function(){var t=this.getFormattedFieldValue().formattedValue;return t},e}(LD),ID=function(){function t(t){this.EVENT="gesture",this.gm=t}return t.prototype.do=function(t){var e=t.type;switch(e){case"touchstart":this.onTouchStart(t);break;case"touchmove":this.onTouchMove(t);break;case"touchend":this.onTouchEnd(t);break;case"touchcancel":this.onTouchCancel(t);break;default:return}},t.prototype.emit=function(t){this.gm.emit(this.EVENT,t)},t}(),jD=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EVENT="pan",e}return Jl(e,t),e.prototype.onTouchCancel=function(t){},e.prototype.onTouchEnd=function(t){},e.prototype.onTouchMove=function(t){var e=t.x,n=t.y,r=e-this.preX,i=n-this.preY;this.preX=e,this.preY=n,this.emit({x:e,y:n,deltaX:r,deltaY:i,event:t})},e.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.preX=e,this.preY=n},e}(ID),ND="object"===typeof performance&&performance.now?performance:Date,BD=300,DD=10,FD=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EVENT="press",e}return Jl(e,t),e.prototype.onTouchCancel=function(t){this.clearTimeout()},e.prototype.onTouchEnd=function(t){this.clearTimeout()},e.prototype.onTouchMove=function(t){var e=t.x,n=t.y;(e-this.touchStartX>DD||n-this.touchStartY>DD)&&this.clearTimeout()},e.prototype.onTouchStart=function(t){var e=this;this.clearTimeout();var n=t.x,r=t.y;this.touchStartTime=ND.now(),this.touchStartX=n,this.touchStartY=r,this.pressTimeout=window.setTimeout((function(){e.emit({x:n,y:r,event:t})}),BD)},e.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},e}(ID),zD=100,WD=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EVENT="swipe",e.latestMoveTime=0,e.ms=0,e.speedX=0,e.speedY=0,e.preX=0,e.preY=0,e}return Jl(e,t),e.prototype.onTouchCancel=function(t){},e.prototype.onTouchEnd=function(t){var e=this.speedX,n=this.speedY;if(ND.now()-this.latestMoveTime<zD){var r=t.x,i=t.y;this.emit({x:r,y:i,speedX:e,speedY:n,event:t})}},e.prototype.onTouchMove=function(t){var e=t.x,n=t.y,r=ND.now(),i=e-this.preX,o=n-this.preY,a=r-this.ms;this.speedX=i/a,this.speedY=o/a,this.latestMoveTime=r},e.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.speedX=this.speedY=0,this.preX=e,this.preY=n,this.ms=ND.now()},e}(ID),HD=300,$D=2,GD=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EVENT="tap",e}return Jl(e,t),e.prototype.onTouchCancel=function(t){},e.prototype.onTouchEnd=function(t){var e=t.x,n=t.y;e-this.touchStartX<$D&&n-this.touchStartY<$D&&ND.now()-this.touchStartTime<HD&&this.emit({x:e,y:n,event:t})},e.prototype.onTouchMove=function(t){},e.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.touchStartTime=ND.now(),this.touchStartX=e,this.touchStartY=n},e}(ID),VD={Pan:jD,Press:FD,Swipe:WD,Tap:GD},UD=function(t){return VD[t]},YD=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this)||this;return r.onTouchStart=function(t){r.preventEvent(t),r.element.on("touchmove",r.onTouchMove),r.element.on("touchend",r.onTouchEnd),r.element.on("touchcancel",r.onTouchCancel),r.emit("touchdown",t),r.doGestures(t)},r.onTouchMove=function(t){r.preventEvent(t),r.emit("touchmove",t),r.doGestures(t)},r.onTouchEnd=function(t){r.preventEvent(t),r.emit("touchend",t),r.element.off("touchmove",r.onTouchMove),r.element.off("touchend",r.onTouchEnd),r.element.off("touchcancel",r.onTouchCancel),r.doGestures(t)},r.onTouchCancel=function(t){r.preventEvent(t),r.emit("touchcancel",t),r.element.off("touchmove",r.onTouchMove),r.element.off("touchend",r.onTouchEnd),r.element.off("touchcancel",r.onTouchCancel),r.doGestures(t)},r.element=e,r.options=n,r.initialGestures(),r.bindTouchStart(),r}return Jl(e,t),e.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},e.prototype.initialGestures=function(){var t=this,e=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=e.map((function(e){var n=UD(e);return new n(t)}))},e.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},e.prototype.preventEvent=function(t){var e=t.type,n=this.options.prevents||[];n.includes(e)&&t.preventDefault()},e.prototype.doGestures=function(t){this.gestures.forEach((function(e){e.do(t)}))},e}(kt),qD=rr,XD=800,KD="swipe",ZD="pan",QD="wheel",JD=function(t){function e(e){var n=t.call(this)||this;return n.rafMs=0,n.onPan=function(t){n.raf&&cancelAnimationFrame(n.raf);var e=t.deltaX,r=t.deltaY,i=n.getWrapperEvent(t,e,r);n.emit(QD,i)},n.onSwipe=function(t){var e=t.speedX,r=t.speedY;n.rafMs=ND.now(),n.ms=n.rafMs,0===e&&0===r||n.rafInertia(t)},n.element=e,n.gm=new YD(e,{gestures:["Pan","Swipe"]}),n.gm.on(KD,n.onSwipe),n.gm.on(ZD,n.onPan),n}return Jl(e,t),e.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},e.prototype.rafInertia=function(t){var e=this,n=t.speedX,r=t.speedY;this.raf=window.requestAnimationFrame((function(){var i=ND.now(),o=(i-e.ms)/XD;if(o<1){o=qD(1-o);var a=i-e.rafMs,s=n*o*a,l=r*o*a,u=e.getWrapperEvent(t,s,l);e.emit(QD,u),e.rafMs=i,e.rafInertia(t)}}))},e.prototype.getWrapperEvent=function(t,e,n){return tu(tu({},t),{deltaX:-e,deltaY:-n})},e}(kt),tF=function(t){var e=0,n=t.children;return null===n||void 0===n||n.forEach((function(t){e+=t.height||0})),e},eF=function(t,e,n,r,i){var o=0,a=t+(e-i)/2,s=t+(e+i)/2,l=n+r;return o=t+i>=l?t:l<s?n+r-i:n>a?t+e-n>i?n:t+e-i:t+(e-i)/2,o},nF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),Object.defineProperty(e.prototype,"cellType",{get:function(){return Ml.ROW_CELL},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var e;t.prototype.destroy.call(this),null===(e=this.gm)||void 0===e||e.destroy()},e.prototype.initCell=function(){t.prototype.initCell.call(this),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextShape(),this.drawConditionIconShapes(),this.drawTreeIcon(),this.drawTreeLeafNodeAlignDot(),this.drawRectBorder(),this.drawResizeAreaInLeaf(),this.drawActionIcons(),this.update()},e.prototype.drawInteractiveBorderShape=function(){var t=2;this.stateShapes.set("interactiveBorderShape",Dj(this,this.getInteractiveBorderShapeStyle(t),{visible:!1}))},e.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",Dj(this,tu({},this.getCellArea()),{visible:!1}))},e.prototype.showTreeIcon=function(){return this.spreadsheet.isHierarchyTreeType()&&!this.meta.isLeaf},e.prototype.showTreeLeafNodeAlignDot=function(){var t;return(null===(t=this.spreadsheet.options.style)||void 0===t?void 0:t.showTreeLeafNodeAlignDot)&&this.spreadsheet.isHierarchyTreeType()},e.prototype.getParentTreeIconCfg=function(){if(this.showTreeLeafNodeAlignDot()&&this.spreadsheet.isHierarchyTreeType()&&this.meta.isLeaf)return vv(this.meta,"parent.belongsCell.treeIcon.cfg")},e.prototype.drawTreeIcon=function(){var t=this;if(this.showTreeIcon()){var e=this.meta,n=e.isCollapsed,r=e.id,i=e.hierarchy,o=this.getContentArea().x,a=this.getTextStyle().fill,s=this.getStyle().icon.size,l=this.getContentIndent(),u=o+l,c=this.getIconYPosition();this.treeIcon=Uj(this,{x:u,y:c,width:s,height:s},a,n,(function(){if(!nI()){if(!n){var e=t.spreadsheet.store.get("scrollY"),o=t.spreadsheet.facet.panelBBox.viewportHeight||0,a=tF(t.meta),s=i.height-a;if(e>0&&e+o>s){var l=s-o;t.spreadsheet.store.set("scrollY",l>0?l:0)}}t.spreadsheet.emit(bs.ROW_CELL_COLLAPSE_TREE_ROWS,{id:r,isCollapsed:!n,node:t.meta})}})),nI()&&(this.gm=new YD(this,{gestures:["Tap"]}),this.gm.on("tap",(function(){t.spreadsheet.emit(bs.ROW_CELL_COLLAPSE_TREE_ROWS,{id:r,isCollapsed:!n,node:t.meta})})))}},e.prototype.drawTreeLeafNodeAlignDot=function(){var t=this.getParentTreeIconCfg();if(t){var e=this.getStyle().icon,n=e.size,r=e.margin,i=t.x+n+r.right,o=this.getTextPosition().y,a=this.getTextStyle(),s=a.fill,l=a.fontSize,u=n/5;this.treeLeafNodeAlignDot=Wj(this,{x:i+n/2,y:o+(l-u)/2,r:u,fill:s,fillOpacity:.3})}},e.prototype.isBolderText=function(){var t=this.meta,e=t.isLeaf,n=t.isTotals,r=t.level;return!e&&0===r||n},e.prototype.drawTextShape=function(){t.prototype.drawTextShape.call(this),this.drawLinkField(this.meta)},e.prototype.drawRectBorder=function(){var t=this,e=this.getCellArea().x,n=this.getContentIndent(),r=this.spreadsheet.isHierarchyTreeType()?e:e+n;[mj.BOTTOM,mj.LEFT].forEach((function(e){var n=pN(e,tu(tu({},t.getCellArea()),{x:r}),t.getStyle().cell),i=n.position,o=n.style;$j(t,i,o)}))},e.prototype.drawResizeAreaInLeaf=function(){if(this.meta.isLeaf&&this.shouldDrawResizeAreaByType("rowCellVertical",this)){var t=this.getCellArea(),e=t.x,n=t.y,r=t.width,i=t.height,o=this.getResizeAreaStyle(),a=iD(this.spreadsheet,Ys),s=this.headerConfig,l=s.position,u=s.seriesNumberWidth,c=s.width,f=s.viewportHeight,h=s.scrollX,d=s.scrollY,p={x:e,y:n+i-o.size/2,width:r,height:o.size},v={x:0,y:0,width:c,height:f};if(oD(p,v,{scrollX:h,scrollY:d})){var g=(null===l||void 0===l?void 0:l.x)+e-h+u,y=(null===l||void 0===l?void 0:l.y)+n-d,m=this.spreadsheet.isFrozenRowHeader()?c-u-(e-h):r;a.addShape("rect",{attrs:tu(tu({},rD({id:this.meta.id,theme:o,type:Wl.Vertical,effect:Hl.Cell,offsetX:g,offsetY:y,width:r,height:i,meta:this.meta})),{x:g,y:y+i-o.size/2,width:m})})}}},e.prototype.getContentIndent=function(){if(!this.spreadsheet.isHierarchyTreeType())return 0;var t=this.getStyle(),e=t.icon,n=t.cell,r=e.size+e.margin.right,i=this.meta.parent,o=0;while(i)0!==i.height&&(o+=r),i=i.parent;return this.showTreeLeafNodeAlignDot()&&(o+=this.isTreeLevel()?0:n.padding.right+e.margin.right),o},e.prototype.getTextIndent=function(){var t=this.getStyle().icon,e=t.size,n=t.margin,r=this.getContentIndent(),i=this.showTreeIcon()||this.isTreeLevel()&&this.showTreeLeafNodeAlignDot()?e+n.right:0;return r+i},e.prototype.isTreeLevel=function(){return FO(vv(this.meta,"parent.children"),(function(t){return!t.isLeaf}))},e.prototype.getIconPosition=function(){var t=this.textShape.cfg.attrs,e=t.x,n=t.y,r=t.textAlign,i=this.getStyle().icon.margin.left;return"left"===r?{x:e+this.actualTextWidth+i,y:n}:"right"===r?{x:e+i,y:n}:{x:e+this.actualTextWidth/2+i,y:n}},e.prototype.getMaxTextWidth=function(){var t=this.getContentArea().width;return t-this.getTextIndent()-this.getActionIconsWidth()},e.prototype.getTextArea=function(){var t=this.getContentArea(),e=this.getTextIndent();return tu(tu({},t),{x:t.x+e,width:t.width-e})},e.prototype.getAdjustTextAreaHeight=function(t,e,n){var r=t.height;return!this.spreadsheet.facet.vScrollBar&&t.y+t.height>e+n&&(r=e+n-t.y),r},e.prototype.getTextPosition=function(){var t=this.getTextArea(),e=this.headerConfig,n=e.scrollY,r=e.viewportHeight,i=this.getAdjustTextAreaHeight(t,n,r),o=this.getTextStyle().fontSize,a=eF(t.y,i,n,r,o),s=fN(t,this.getTextStyle(),0,this.getIconStyle(),this.getActionIconsCount()).text.x;return{x:s,y:a}},e.prototype.getIconYPosition=function(){var t=this.getTextPosition().y,e=this.getStyle().icon.size,n=this.getTextStyle().fontSize;return t+(n-e)/2},e}(LD),rF=function(t,e,n,r){var i,o,a=vv(r,"size"),s=vv(r,"margin"),l=0;return l=t.options.showDefaultHeaderActionIcon?1:null!==(o=null===(i=sD(t.options.headerActionIcons,e,n))||void 0===i?void 0:i.iconNames.length)&&void 0!==o?o:0,l*(a+s.left)+(l>0?s.right:0)},iF=function(t,e,n){var r,i,o=(null===(r=n.icon.margin)||void 0===r?void 0:r.left)||0,a=(null===(i=n.icon.margin)||void 0===i?void 0:i.right)||0,s=t.store.get("hiddenColumnsDetail",[]),l=!1,u=!1;s.forEach((function(t){var n,r,i,o;(null===(r=null===(n=null===t||void 0===t?void 0:t.displaySiblingNode)||void 0===n?void 0:n.prev)||void 0===r?void 0:r.field)===e&&(l=!0),(null===(o=null===(i=null===t||void 0===t?void 0:t.displaySiblingNode)||void 0===i?void 0:i.next)||void 0===o?void 0:o.field)===e&&(u=!0)}));var c=vv(n,"icon.size");return{left:u?c+a:0,right:l?c+o:0}},oF=function(t,e,n){var r=vv(n,"cell.padding"),i=iF(t,e.field,n);return r.left+r.right+rF(t,e,Ml.COL_CELL,vv(n,"icon"))+i.left+i.right},aF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.handleRestOptions=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ru(t,1),r=n[0];this.headerConfig=tu({},r);var i=this.meta.field,o=this.spreadsheet.dataCfg.sortParams,a=FO(o,(function(t){return(null===t||void 0===t?void 0:t.sortFieldId)===i})),s=AD(a,!0);this.headerConfig.sortParam=tu(tu(tu({},this.headerConfig.sortParam),a||{}),{type:s})},e.prototype.isFrozenCell=function(){var t=this.spreadsheet.options,e=t.frozenColCount,n=t.frozenTrailingColCount,r=this.spreadsheet.facet.layoutResult.colNodes.filter((function(t){return BI(t)})),i=DI(this.meta).colIndex;return _I(i,e)||OI(i,n,r.length)},e.prototype.getFormattedFieldValue=function(){return lD(this.meta,this.spreadsheet.dataSet.getFieldName(this.meta.label))},e.prototype.shouldAddVerticalResizeArea=function(){return!!this.isFrozenCell()||t.prototype.shouldAddVerticalResizeArea.call(this)},e.prototype.getVerticalResizeAreaOffset=function(){var t=this.meta,e=t.x,n=t.y,r=this.headerConfig,i=r.scrollX,o=r.position;return this.isFrozenCell()?{x:e,y:n}:{x:o.x+e-i,y:o.y+n}},e.prototype.getColResizeArea=function(){var e=this.isFrozenCell();return e?iD(this.spreadsheet,Js):t.prototype.getColResizeArea.call(this)},e.prototype.isSortCell=function(){return!0},e.prototype.showSortIcon=function(){return this.spreadsheet.options.showDefaultHeaderActionIcon},e.prototype.getTextStyle=function(){var t=this.getStyle();return null===t||void 0===t?void 0:t.bolderText},e.prototype.getContentArea=function(){var t,e=((null===(t=this.getStyle())||void 0===t?void 0:t.cell)||this.theme.dataCell.cell).padding,n=tu({},e),r=iF(this.spreadsheet,this.meta.field,this.getStyle());return r.left&&(n.left=(n.left||0)+r.left),r.right&&(n.right=(n.right||0)+r.right),sN(this.getCellArea(),n)},e.prototype.getHorizontalResizeAreaName=function(){return"".concat(ol).concat("table-col-cell")},e.prototype.drawBackgroundShape=function(){var t=this.getStyle().cell.backgroundColor;this.backgroundShape=Dj(this,tu(tu({},this.getCellArea()),{fill:t}))},e}(PD),sF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.getStyle=function(t){return t?this.theme[t]:vv(this,"theme.cornerCell")},e.prototype.showSortIcon=function(){return!1},e.prototype.drawLeftBorder=function(){var t=pN(mj.LEFT,this.getCellArea(),this.getStyle().cell),e=t.position,n=t.style;$j(this,e,n)},e.prototype.drawBorders=function(){t.prototype.drawBorders.call(this),0===this.meta.colIndex&&this.drawLeftBorder()},e}(aF),lF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.getLinkFieldStyle=function(){return this.theme.rowCell.text.linkTextFill},e.prototype.drawBorderShape=function(){t.prototype.drawBorderShape.call(this),0===this.meta.colIndex&&this.drawLeftBorder()},e.prototype.shouldDrawResizeArea=function(){return 0===this.meta.colIndex},e.prototype.drawResizeArea=function(){if(this.shouldDrawResizeArea()){var t=this.getCellArea(),e=t.x,n=t.y,r=t.width,i=t.height,o=this.meta.rowIndex,a=this.getResizeAreaStyle(),s=this.spreadsheet.options,l=s.frozenRowCount,u=s.frozenTrailingRowCount,c=this.spreadsheet.facet.getCellRange(),f=CI(o,c.start,l),h=SI(o,c.end,u),d=f||h,p=d?qs:Ys,v=iD(this.spreadsheet,p),g=this.spreadsheet.facet.layoutResult.colsHierarchy.height,y=this.spreadsheet.facet.getScrollOffset().scrollY,m=this.spreadsheet.facet.getPaginationScrollY(),b=y+m,x=n+(h?0:g);h||(x-=f?m:b),v.addShape("rect",{attrs:tu(tu({},rD({id:String(this.meta.rowIndex),theme:a,type:Wl.Vertical,effect:Hl.Cell,offsetX:e,offsetY:x,width:r,height:i,meta:this.meta})),{x:e,y:x+i-a.size/2,width:r})})}},e}(TB),uF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),Object.defineProperty(e.prototype,"cellType",{get:function(){return Ml.ROW_CELL},enumerable:!1,configurable:!0}),e.prototype.getTextStyle=function(){return this.theme.rowCell.seriesText},e}(lF),cF=function(t){return[Al.META,Al.CONTROL].includes(t.key)},fF=function(t){return t.ctrlKey||t.metaKey},hF=function(t){var e=t.getMeta(),n=e||{},r=n.id,i=n.colIndex,o=n.rowIndex,a=n.rowQuery;return{id:r,colIndex:i,rowIndex:o,type:t.cellType,rowQuery:a}},dF=function(t,e){var n=t.interaction;n.changeState({stateName:El.SELECTED,cells:e}),t.emit(bs.GLOBAL_SELECTED,n.getActiveCells())};function pF(t,e){var n=Math.min(t.rowIndex,e.rowIndex),r=Math.max(t.rowIndex,e.rowIndex),i=Math.min(t.colIndex,e.colIndex),o=Math.max(t.colIndex,e.colIndex);return{start:{rowIndex:n,colIndex:i},end:{rowIndex:r,colIndex:o}}}function vF(t,e){var n=e.interaction,r=e.facet,i=e.options;if(e.isTableMode()){if(!i.showSeriesNumber)return[];var o=r.layoutResult.colLeafNodes[0].id,a=_B(String(t.rowIndex),o),s=[],l=n.getAllCells().find((function(t){return t.getMeta().id===a}));return l&&l instanceof uF&&s.push(l),s}return gB(t.rowId,n.getAllRowHeaderCells(),e.isHierarchyTreeType())}var gF,yF,mF=function(t,e){var n=t.getSelectedCellHighlight(),r=n.colHeader,i=n.rowHeader;r&&t.updateCells(t.getAllColHeaderCells()),i&&t.updateCells(t.getAllRowHeaderCells()),e()},bF=function(t){var e=t.store.get("visibleActionIcons"),n=t.interaction.getInteractedCells(),r=t.interaction.getState().cells;if(HS(n)&&HS(r)&&HS(e))return!1;if(J_(e,(function(t){t.set("visible",!1)})),t.store.set("visibleActionIcons",[]),J_(n,(function(t){t.hideInteractionShape()})),t.interaction.resetState(),t.options.interaction.selectedCellsSpotlight){var i=t.interaction.getPanelGroupAllUnSelectedDataCells()||[];J_(i,(function(t){t.clearUnselectedState()}))}return!0},xF=function(t,e){var n=null===e||void 0===e?void 0:e.stateName;t.interaction.isEqualStateName(n)||(bF(t),t.hideTooltip(),t.store.set(Nl,e))},wF=function(t,e,n){var r,i,o=n.facet,a=o.panelBBox.width,s=null===o||void 0===o?void 0:o.frozenGroupInfo,l=null!==(r=null===s||void 0===s?void 0:s.frozenCol.width)&&void 0!==r?r:0,u=null!==(i=null===s||void 0===s?void 0:s.frozenTrailingCol.width)&&void 0!==i?i:0,c=o.layoutResult.colLeafNodes[t];return e===Dl.SCROLL_UP?c.x-l:c.x+c.width-(a-u)},_F=function(t,e,n){var r,i,o=n.facet,a=o.viewCellHeights.getCellOffsetY,s=o.panelBBox.height,l=a(t+1);if(rE(l))return 0;var u=null===o||void 0===o?void 0:o.frozenGroupInfo,c=null!==(r=null===u||void 0===u?void 0:u.frozenRow.height)&&void 0!==r?r:0,f=null!==(i=null===u||void 0===u?void 0:u.frozenTrailingRow.height)&&void 0!==i?i:0;return e===Dl.SCROLL_UP?a(t)-c:l-(s-f)},OF=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(t,e){if(Lu(t)&&Lu(e))return e},r=iu(iu([],ru(t),!1),[n],!1);return E_.apply(void 0,iu([{}],ru(r),!1))},CF=function(t){var e=["rows","columns","values"],n=e.reduce((function(e,n){var r=t[n],i=aP(r);return $S(i,r)||console.warn("fields.".concat(n,":[").concat(r,"] should be unique")),e[n]=i,e}),{});return tu(tu({},t),n)},SF=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=OF.apply(void 0,iu([Cl],ru(t),!1));return n.fields=CF(n.fields),HS(n.fields.customTreeItems)&&!HS(n.fields.values)||(n.fields.valueInCols=!1),n},EF=function(t){return OF(Zl,t)},MF=9e15,kF=1e9,TF="0123456789abcdef",AF="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",LF="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",PF={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-MF,maxE:MF,crypto:!1},RF=!0,IF="[DecimalError] ",jF=IF+"Invalid argument: ",NF=IF+"Precision limit exceeded",BF=IF+"crypto unavailable",DF="[object Decimal]",FF=Math.floor,zF=Math.pow,WF=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,HF=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,$F=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,GF=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,VF=1e7,UF=7,YF=9007199254740991,qF=AF.length-1,XF=LF.length-1,KF={toStringTag:DF};function ZF(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=UF-r.length,n&&(o+=uz(n)),o+=r;a=t[e],r=a+"",n=UF-r.length,n&&(o+=uz(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}function QF(t,e,n){if(t!==~~t||t<e||t>n)throw Error(jF+t)}function JF(t,e,n,r){var i,o,a,s;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=UF,i=0):(i=Math.ceil((e+1)/UF),e%=UF),o=zF(10,UF-e),s=t[i]%o|0,null==r?e<3?(0==e?s=s/100|0:1==e&&(s=s/10|0),a=n<4&&99999==s||n>3&&49999==s||5e4==s||0==s):a=(n<4&&s+1==o||n>3&&s+1==o/2)&&(t[i+1]/o/100|0)==zF(10,e-2)-1||(s==o/2||0==s)&&0==(t[i+1]/o/100|0):e<4?(0==e?s=s/1e3|0:1==e?s=s/100|0:2==e&&(s=s/10|0),a=(r||n<4)&&9999==s||!r&&n>3&&4999==s):a=((r||n<4)&&s+1==o||!r&&n>3&&s+1==o/2)&&(t[i+1]/o/1e3|0)==zF(10,e-3)-1,a}function tz(t,e,n){for(var r,i,o=[0],a=0,s=t.length;a<s;){for(i=o.length;i--;)o[i]*=e;for(o[0]+=TF.indexOf(t.charAt(a++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}function ez(t,e){var n,r,i;if(e.isZero())return e;r=e.d.length,r<32?(n=Math.ceil(r/3),i=(1/xz(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),t.precision+=n,e=bz(t,1,e.times(i),new t(1));for(var o=n;o--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=n,e}KF.absoluteValue=KF.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),rz(t)},KF.ceil=function(){return rz(new this.constructor(this),this.e+1,2)},KF.clampedTo=KF.clamp=function(t,e){var n,r=this,i=r.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(jF+e);return n=r.cmp(t),n<0?t:r.cmp(e)>0?e:new i(r)},KF.comparedTo=KF.cmp=function(t){var e,n,r,i,o=this,a=o.d,s=(t=new o.constructor(t)).d,l=o.s,u=t.s;if(!a||!s)return l&&u?l!==u?l:a===s?0:!a^l<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?l:s[0]?-u:0;if(l!==u)return l;if(o.e!==t.e)return o.e>t.e^l<0?1:-1;for(r=a.length,i=s.length,e=0,n=r<i?r:i;e<n;++e)if(a[e]!==s[e])return a[e]>s[e]^l<0?1:-1;return r===i?0:r>i^l<0?1:-1},KF.cosine=KF.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+UF,r.rounding=1,n=ez(r,wz(r,n)),r.precision=t,r.rounding=e,rz(2==yF||3==yF?n.neg():n,t,e,!0)):new r(1):new r(NaN)},KF.cubeRoot=KF.cbrt=function(){var t,e,n,r,i,o,a,s,l,u,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(RF=!1,o=c.s*zF(c.s*c,1/3),o&&Math.abs(o)!=1/0?r=new f(o.toString()):(n=ZF(c.d),t=c.e,(o=(t-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=zF(n,1/3),t=FF((t+1)/3)-(t%3==(t<0?-1:2)),o==1/0?n="5e"+t:(n=o.toExponential(),n=n.slice(0,n.indexOf("e")+1)+t),r=new f(n),r.s=c.s),a=(t=f.precision)+3;;)if(s=r,l=s.times(s).times(s),u=l.plus(c),r=nz(u.plus(c).times(s),u.plus(l),a+2,1),ZF(s.d).slice(0,a)===(n=ZF(r.d)).slice(0,a)){if(n=n.slice(a-3,a+1),"9999"!=n&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(rz(r,t+1,1),e=!r.times(r).times(r).eq(c));break}if(!i&&(rz(s,t+1,0),s.times(s).times(s).eq(c))){r=s;break}a+=4,i=1}return RF=!0,rz(r,t,f.rounding,e)},KF.decimalPlaces=KF.dp=function(){var t,e=this.d,n=NaN;if(e){if(t=e.length-1,n=(t-FF(this.e/UF))*UF,t=e[t],t)for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},KF.dividedBy=KF.div=function(t){return nz(this,new this.constructor(t))},KF.dividedToIntegerBy=KF.divToInt=function(t){var e=this,n=e.constructor;return rz(nz(e,new n(t),0,1,1),n.precision,n.rounding)},KF.equals=KF.eq=function(t){return 0===this.cmp(t)},KF.floor=function(){return rz(new this.constructor(this),this.e+1,3)},KF.greaterThan=KF.gt=function(t){return this.cmp(t)>0},KF.greaterThanOrEqualTo=KF.gte=function(t){var e=this.cmp(t);return 1==e||0===e},KF.hyperbolicCosine=KF.cosh=function(){var t,e,n,r,i,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;n=a.precision,r=a.rounding,a.precision=n+Math.max(o.e,o.sd())+4,a.rounding=1,i=o.d.length,i<32?(t=Math.ceil(i/3),e=(1/xz(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),o=bz(a,1,o.times(e),new a(1),!0);for(var l,u=t,c=new a(8);u--;)l=o.times(o),o=s.minus(l.times(c.minus(l.times(c))));return rz(o,a.precision=n,a.rounding=r,!0)},KF.hyperbolicSine=KF.sinh=function(){var t,e,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,r=i.d.length,r<3)i=bz(o,2,i,i,!0);else{t=1.4*Math.sqrt(r),t=t>16?16:0|t,i=i.times(1/xz(5,t)),i=bz(o,2,i,i,!0);for(var a,s=new o(5),l=new o(16),u=new o(20);t--;)a=i.times(i),i=i.times(s.plus(a.times(l.times(a).plus(u))))}return o.precision=e,o.rounding=n,rz(i,e,n,!0)},KF.hyperbolicTangent=KF.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,nz(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)},KF.inverseCosine=KF.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,o=n.rounding;return-1!==r?0===r?e.isNeg()?sz(n,i,o):new n(0):new n(NaN):e.isZero()?sz(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=sz(n,i+4,o).times(.5),n.precision=i,n.rounding=o,t.minus(e))},KF.inverseHyperbolicCosine=KF.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,RF=!1,n=n.times(n).minus(1).sqrt().plus(n),RF=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)},KF.inverseHyperbolicSine=KF.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,RF=!1,n=n.times(n).plus(1).sqrt().plus(n),RF=!0,r.precision=t,r.rounding=e,n.ln())},KF.inverseHyperbolicTangent=KF.atanh=function(){var t,e,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?rz(new o(i),t,e,!0):(o.precision=n=r-i.e,i=nz(i.plus(1),new o(1).minus(i),n+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)},KF.inverseSine=KF.asin=function(){var t,e,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==e?0===e?(t=sz(o,n+4,r).times(.5),t.s=i.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},KF.inverseTangent=KF.atan=function(){var t,e,n,r,i,o,a,s,l,u=this,c=u.constructor,f=c.precision,h=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&f+4<=XF)return a=sz(c,f+4,h).times(.25),a.s=u.s,a}else{if(!u.s)return new c(NaN);if(f+4<=XF)return a=sz(c,f+4,h).times(.5),a.s=u.s,a}for(c.precision=s=f+10,c.rounding=1,n=Math.min(28,s/UF+2|0),t=n;t;--t)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(RF=!1,e=Math.ceil(s/UF),r=1,l=u.times(u),a=new c(u),i=u;-1!==t;)if(i=i.times(l),o=a.minus(i.div(r+=2)),i=i.times(l),a=o.plus(i.div(r+=2)),void 0!==a.d[e])for(t=e;a.d[t]===o.d[t]&&t--;);return n&&(a=a.times(2<<n-1)),RF=!0,rz(a,c.precision=f,c.rounding=h,!0)},KF.isFinite=function(){return!!this.d},KF.isInteger=KF.isInt=function(){return!!this.d&&FF(this.e/UF)>this.d.length-2},KF.isNaN=function(){return!this.s},KF.isNegative=KF.isNeg=function(){return this.s<0},KF.isPositive=KF.isPos=function(){return this.s>0},KF.isZero=function(){return!!this.d&&0===this.d[0]},KF.lessThan=KF.lt=function(t){return this.cmp(t)<0},KF.lessThanOrEqualTo=KF.lte=function(t){return this.cmp(t)<1},KF.logarithm=KF.log=function(t){var e,n,r,i,o,a,s,l,u=this,c=u.constructor,f=c.precision,h=c.rounding,d=5;if(null==t)t=new c(10),e=!0;else{if(t=new c(t),n=t.d,t.s<0||!n||!n[0]||t.eq(1))return new c(NaN);e=t.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new c(n&&!n[0]?-1/0:1!=u.s?NaN:n?0:1/0);if(e)if(n.length>1)o=!0;else{for(i=n[0];i%10===0;)i/=10;o=1!==i}if(RF=!1,s=f+d,a=pz(u,s),r=e?az(c,s+10):pz(t,s),l=nz(a,r,s,1),JF(l.d,i=f,h))do{if(s+=10,a=pz(u,s),r=e?az(c,s+10):pz(t,s),l=nz(a,r,s,1),!o){+ZF(l.d).slice(i+1,i+15)+1==1e14&&(l=rz(l,f+1,0));break}}while(JF(l.d,i+=10,h));return RF=!0,rz(l,f,h)},KF.minus=KF.sub=function(t){var e,n,r,i,o,a,s,l,u,c,f,h,d=this,p=d.constructor;if(t=new p(t),!d.d||!t.d)return d.s&&t.s?d.d?t.s=-t.s:t=new p(t.d||d.s!==t.s?d:NaN):t=new p(NaN),t;if(d.s!=t.s)return t.s=-t.s,d.plus(t);if(u=d.d,h=t.d,s=p.precision,l=p.rounding,!u[0]||!h[0]){if(h[0])t.s=-t.s;else{if(!u[0])return new p(3===l?-0:0);t=new p(d)}return RF?rz(t,s,l):t}if(n=FF(t.e/UF),c=FF(d.e/UF),u=u.slice(),o=c-n,o){for(f=o<0,f?(e=u,o=-o,a=h.length):(e=h,n=c,a=u.length),r=Math.max(Math.ceil(s/UF),a)+2,o>r&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for(r=u.length,a=h.length,f=r<a,f&&(a=r),r=0;r<a;r++)if(u[r]!=h[r]){f=u[r]<h[r];break}o=0}for(f&&(e=u,u=h,h=e,t.s=-t.s),a=u.length,r=h.length-a;r>0;--r)u[a++]=0;for(r=h.length;r>o;){if(u[--r]<h[r]){for(i=r;i&&0===u[--i];)u[i]=VF-1;--u[i],u[r]+=VF}u[r]-=h[r]}for(;0===u[--a];)u.pop();for(;0===u[0];u.shift())--n;return u[0]?(t.d=u,t.e=oz(u,n),RF?rz(t,s,l):t):new p(3===l?-0:0)},KF.modulo=KF.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?rz(new r(n),r.precision,r.rounding):(RF=!1,9==r.modulo?(e=nz(n,t.abs(),0,3,1),e.s*=t.s):e=nz(n,t,0,r.modulo,1),e=e.times(t),RF=!0,n.minus(e))},KF.naturalExponential=KF.exp=function(){return dz(this)},KF.naturalLogarithm=KF.ln=function(){return pz(this)},KF.negated=KF.neg=function(){var t=new this.constructor(this);return t.s=-t.s,rz(t)},KF.plus=KF.add=function(t){var e,n,r,i,o,a,s,l,u,c,f=this,h=f.constructor;if(t=new h(t),!f.d||!t.d)return f.s&&t.s?f.d||(t=new h(t.d||f.s===t.s?f:NaN)):t=new h(NaN),t;if(f.s!=t.s)return t.s=-t.s,f.minus(t);if(u=f.d,c=t.d,s=h.precision,l=h.rounding,!u[0]||!c[0])return c[0]||(t=new h(f)),RF?rz(t,s,l):t;if(o=FF(f.e/UF),r=FF(t.e/UF),u=u.slice(),i=o-r,i){for(i<0?(n=u,i=-i,a=c.length):(n=c,r=o,a=u.length),o=Math.ceil(s/UF),a=o>a?o+1:a+1,i>a&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(a=u.length,i=c.length,a-i<0&&(i=a,n=c,c=u,u=n),e=0;i;)e=(u[--i]=u[i]+c[i]+e)/VF|0,u[i]%=VF;for(e&&(u.unshift(e),++r),a=u.length;0==u[--a];)u.pop();return t.d=u,t.e=oz(u,r),RF?rz(t,s,l):t},KF.precision=KF.sd=function(t){var e,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(jF+t);return n.d?(e=lz(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e},KF.round=function(){var t=this,e=t.constructor;return rz(new e(t),t.e+1,e.rounding)},KF.sine=KF.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+UF,r.rounding=1,n=mz(r,wz(r,n)),r.precision=t,r.rounding=e,rz(yF>2?n.neg():n,t,e,!0)):new r(NaN)},KF.squareRoot=KF.sqrt=function(){var t,e,n,r,i,o,a=this,s=a.d,l=a.e,u=a.s,c=a.constructor;if(1!==u||!s||!s[0])return new c(!u||u<0&&(!s||s[0])?NaN:s?a:1/0);for(RF=!1,u=Math.sqrt(+a),0==u||u==1/0?(e=ZF(s),(e.length+l)%2==0&&(e+="0"),u=Math.sqrt(e),l=FF((l+1)/2)-(l<0||l%2),u==1/0?e="5e"+l:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),r=new c(e)):r=new c(u.toString()),n=(l=c.precision)+3;;)if(o=r,r=o.plus(nz(a,o,n+2,1)).times(.5),ZF(o.d).slice(0,n)===(e=ZF(r.d)).slice(0,n)){if(e=e.slice(n-3,n+1),"9999"!=e&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(rz(r,l+1,1),t=!r.times(r).eq(a));break}if(!i&&(rz(o,l+1,0),o.times(o).eq(a))){r=o;break}n+=4,i=1}return RF=!0,rz(r,l,c.rounding,t)},KF.tangent=KF.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,n=n.sin(),n.s=1,n=nz(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,rz(2==yF||4==yF?n.neg():n,t,e,!0)):new r(NaN)},KF.times=KF.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,f=c.constructor,h=c.d,d=(t=new f(t)).d;if(t.s*=c.s,!h||!h[0]||!d||!d[0])return new f(!t.s||h&&!h[0]&&!d||d&&!d[0]&&!h?NaN:h&&d?0*t.s:t.s/0);for(n=FF(c.e/UF)+FF(t.e/UF),l=h.length,u=d.length,l<u&&(o=h,h=d,d=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+d[r]*h[i-r-1]+e,o[i--]=s%VF|0,e=s/VF|0;o[i]=(o[i]+e)%VF|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=oz(o,n),RF?rz(t,f.precision,f.rounding):t},KF.toBinary=function(t,e){return _z(this,2,t,e)},KF.toDecimalPlaces=KF.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(QF(t,0,kF),void 0===e?e=r.rounding:QF(e,0,8),rz(n,t+n.e+1,e))},KF.toExponential=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=iz(r,!0):(QF(t,0,kF),void 0===e?e=i.rounding:QF(e,0,8),r=rz(new i(r),t+1,e),n=iz(r,!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n},KF.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return void 0===t?n=iz(i):(QF(t,0,kF),void 0===e?e=o.rounding:QF(e,0,8),r=rz(new o(i),t+i.e+1,e),n=iz(r,!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},KF.toFraction=function(t){var e,n,r,i,o,a,s,l,u,c,f,h,d=this,p=d.d,v=d.constructor;if(!p)return new v(d);if(u=n=new v(1),r=l=new v(0),e=new v(r),o=e.e=lz(p)-d.e-1,a=o%UF,e.d[0]=zF(10,a<0?UF+a:a),null==t)t=o>0?e:u;else{if(s=new v(t),!s.isInt()||s.lt(u))throw Error(jF+s);t=s.gt(e)?o>0?e:u:s}for(RF=!1,s=new v(ZF(p)),c=v.precision,v.precision=o=p.length*UF*2;;){if(f=nz(s,e,0,1,1),i=n.plus(f.times(r)),1==i.cmp(t))break;n=r,r=i,i=u,u=l.plus(f.times(i)),l=i,i=e,e=s.minus(f.times(i)),s=i}return i=nz(t.minus(n),r,0,1,1),l=l.plus(i.times(u)),n=n.plus(i.times(r)),l.s=u.s=d.s,h=nz(u,r,o,1).minus(d).abs().cmp(nz(l,n,o,1).minus(d).abs())<1?[u,r]:[l,n],v.precision=c,RF=!0,h},KF.toHexadecimal=KF.toHex=function(t,e){return _z(this,16,t,e)},KF.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),null==t){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),void 0===e?e=r.rounding:QF(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(RF=!1,n=nz(n,t,0,e,1).times(t),RF=!0,rz(n)):(t.s=n.s,n=t),n},KF.toNumber=function(){return+this},KF.toOctal=function(t,e){return _z(this,8,t,e)},KF.toPower=KF.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=+(t=new l(t));if(!s.d||!t.d||!s.d[0]||!t.d[0])return new l(zF(+s,u));if(s=new l(s),s.eq(1))return s;if(r=l.precision,o=l.rounding,t.eq(1))return rz(s,r,o);if(e=FF(t.e/UF),e>=t.d.length-1&&(n=u<0?-u:u)<=YF)return i=cz(l,s,n,r),t.s<0?new l(1).div(i):rz(i,r,o);if(a=s.s,a<0){if(e<t.d.length-1)return new l(NaN);if(0==(1&t.d[e])&&(a=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=a,s}return n=zF(+s,u),e=0!=n&&isFinite(n)?new l(n+"").e:FF(u*(Math.log("0."+ZF(s.d))/Math.LN10+s.e+1)),e>l.maxE+1||e<l.minE-1?new l(e>0?a/0:0):(RF=!1,l.rounding=s.s=1,n=Math.min(12,(e+"").length),i=dz(t.times(pz(s,r+n)),r),i.d&&(i=rz(i,r+5,1),JF(i.d,r,o)&&(e=r+10,i=rz(dz(t.times(pz(s,e+n)),e),e+5,1),+ZF(i.d).slice(r+1,r+15)+1==1e14&&(i=rz(i,r+1,0)))),i.s=a,RF=!0,l.rounding=o,rz(i,r,o))},KF.toPrecision=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=iz(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(QF(t,1,kF),void 0===e?e=i.rounding:QF(e,0,8),r=rz(new i(r),t,e),n=iz(r,t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n},KF.toSignificantDigits=KF.toSD=function(t,e){var n=this,r=n.constructor;return void 0===t?(t=r.precision,e=r.rounding):(QF(t,1,kF),void 0===e?e=r.rounding:QF(e,0,8)),rz(new r(n),t,e)},KF.toString=function(){var t=this,e=t.constructor,n=iz(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},KF.truncated=KF.trunc=function(){return rz(new this.constructor(this),this.e+1,1)},KF.valueOf=KF.toJSON=function(){var t=this,e=t.constructor,n=iz(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};var nz=function(){function t(t,e,n){var r,i=0,o=t.length;for(t=t.slice();o--;)r=t[o]*e+i,t[o]=r%n|0,i=r/n|0;return i&&t.unshift(i),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(r,i,o,a,s,l){var u,c,f,h,d,p,v,g,y,m,b,x,w,_,O,C,S,E,M,k,T=r.constructor,A=r.s==i.s?1:-1,L=r.d,P=i.d;if(!L||!L[0]||!P||!P[0])return new T(r.s&&i.s&&(L?!P||L[0]!=P[0]:P)?L&&0==L[0]||!P?0*A:A/0:NaN);for(l?(d=1,c=r.e-i.e):(l=VF,d=UF,c=FF(r.e/d)-FF(i.e/d)),M=P.length,S=L.length,y=new T(A),m=y.d=[],f=0;P[f]==(L[f]||0);f++);if(P[f]>(L[f]||0)&&c--,null==o?(_=o=T.precision,a=T.rounding):_=s?o+(r.e-i.e)+1:o,_<0)m.push(1),p=!0;else{if(_=_/d+2|0,f=0,1==M){for(h=0,P=P[0],_++;(f<S||h)&&_--;f++)O=h*l+(L[f]||0),m[f]=O/P|0,h=O%P|0;p=h||f<S}else{for(h=l/(P[0]+1)|0,h>1&&(P=t(P,h,l),L=t(L,h,l),M=P.length,S=L.length),C=M,b=L.slice(0,M),x=b.length;x<M;)b[x++]=0;k=P.slice(),k.unshift(0),E=P[0],P[1]>=l/2&&++E;do{h=0,u=e(P,b,M,x),u<0?(w=b[0],M!=x&&(w=w*l+(b[1]||0)),h=w/E|0,h>1?(h>=l&&(h=l-1),v=t(P,h,l),g=v.length,x=b.length,u=e(v,b,g,x),1==u&&(h--,n(v,M<g?k:P,g,l))):(0==h&&(u=h=1),v=P.slice()),g=v.length,g<x&&v.unshift(0),n(b,v,x,l),-1==u&&(x=b.length,u=e(P,b,M,x),u<1&&(h++,n(b,M<x?k:P,x,l))),x=b.length):0===u&&(h++,b=[0]),m[f++]=h,u&&b[0]?b[x++]=L[C]||0:(b=[L[C]],x=1)}while((C++<S||void 0!==b[0])&&_--);p=void 0!==b[0]}m[0]||m.shift()}if(1==d)y.e=c,gF=p;else{for(f=1,h=m[0];h>=10;h/=10)f++;y.e=f+c*d-1,rz(y,s?o+y.e+1:o,a,p)}return y}}();function rz(t,e,n,r){var i,o,a,s,l,u,c,f,h,d=t.constructor;t:if(null!=e){if(f=t.d,!f)return t;for(i=1,s=f[0];s>=10;s/=10)i++;if(o=e-i,o<0)o+=UF,a=e,c=f[h=0],l=c/zF(10,i-a-1)%10|0;else if(h=Math.ceil((o+1)/UF),s=f.length,h>=s){if(!r)break t;for(;s++<=h;)f.push(0);c=l=0,i=1,o%=UF,a=o-UF+1}else{for(c=s=f[h],i=1;s>=10;s/=10)i++;o%=UF,a=o-UF+i,l=a<0?0:c/zF(10,i-a-1)%10|0}if(r=r||e<0||void 0!==f[h+1]||(a<0?c:c%zF(10,i-a-1)),u=n<4?(l||r)&&(0==n||n==(t.s<0?3:2)):l>5||5==l&&(4==n||r||6==n&&(o>0?a>0?c/zF(10,i-a):0:f[h-1])%10&1||n==(t.s<0?8:7)),e<1||!f[0])return f.length=0,u?(e-=t.e+1,f[0]=zF(10,(UF-e%UF)%UF),t.e=-e||0):f[0]=t.e=0,t;if(0==o?(f.length=h,s=1,h--):(f.length=h+1,s=zF(10,UF-o),f[h]=a>0?(c/zF(10,i-a)%zF(10,a)|0)*s:0),u)for(;;){if(0==h){for(o=1,a=f[0];a>=10;a/=10)o++;for(a=f[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(t.e++,f[0]==VF&&(f[0]=1));break}if(f[h]+=s,f[h]!=VF)break;f[h--]=0,s=1}for(o=f.length;0===f[--o];)f.pop()}return RF&&(t.e>d.maxE?(t.d=null,t.e=NaN):t.e<d.minE&&(t.e=0,t.d=[0])),t}function iz(t,e,n){if(!t.isFinite())return vz(t);var r,i=t.e,o=ZF(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+uz(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):i<0?(o="0."+uz(-i-1)+o,n&&(r=n-a)>0&&(o+=uz(r))):i>=a?(o+=uz(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+uz(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=uz(r))),o}function oz(t,e){var n=t[0];for(e*=UF;n>=10;n/=10)e++;return e}function az(t,e,n){if(e>qF)throw RF=!0,n&&(t.precision=n),Error(NF);return rz(new t(AF),e,1,!0)}function sz(t,e,n){if(e>XF)throw Error(NF);return rz(new t(LF),e,n,!0)}function lz(t){var e=t.length-1,n=e*UF+1;if(e=t[e],e){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function uz(t){for(var e="";t--;)e+="0";return e}function cz(t,e,n,r){var i,o=new t(1),a=Math.ceil(r/UF+4);for(RF=!1;;){if(n%2&&(o=o.times(e),Oz(o.d,a)&&(i=!0)),n=FF(n/2),0===n){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}e=e.times(e),Oz(e.d,a)}return RF=!0,o}function fz(t){return 1&t.d[t.d.length-1]}function hz(t,e,n){for(var r,i=new t(e[0]),o=0;++o<e.length;){if(r=new t(e[o]),!r.s){i=r;break}i[n](r)&&(i=r)}return i}function dz(t,e){var n,r,i,o,a,s,l,u=0,c=0,f=0,h=t.constructor,d=h.rounding,p=h.precision;if(!t.d||!t.d[0]||t.e>17)return new h(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);null==e?(RF=!1,l=p):l=e,s=new h(.03125);while(t.e>-2)t=t.times(s),f+=5;for(r=Math.log(zF(2,f))/Math.LN10*2+5|0,l+=r,n=o=a=new h(1),h.precision=l;;){if(o=rz(o.times(t),l,1),n=n.times(++c),s=a.plus(nz(o,n,l,1)),ZF(s.d).slice(0,l)===ZF(a.d).slice(0,l)){i=f;while(i--)a=rz(a.times(a),l,1);if(null!=e)return h.precision=p,a;if(!(u<3&&JF(a.d,l-r,d,u)))return rz(a,h.precision=p,d,RF=!0);h.precision=l+=10,n=o=s=new h(1),c=0,u++}a=s}}function pz(t,e){var n,r,i,o,a,s,l,u,c,f,h,d=1,p=10,v=t,g=v.d,y=v.constructor,m=y.rounding,b=y.precision;if(v.s<0||!g||!g[0]||!v.e&&1==g[0]&&1==g.length)return new y(g&&!g[0]?-1/0:1!=v.s?NaN:g?0:v);if(null==e?(RF=!1,c=b):c=e,y.precision=c+=p,n=ZF(g),r=n.charAt(0),!(Math.abs(o=v.e)<15e14))return u=az(y,c+2,b).times(o+""),v=pz(new y(r+"."+n.slice(1)),c-p).plus(u),y.precision=b,null==e?rz(v,b,m,RF=!0):v;while(r<7&&1!=r||1==r&&n.charAt(1)>3)v=v.times(t),n=ZF(v.d),r=n.charAt(0),d++;for(o=v.e,r>1?(v=new y("0."+n),o++):v=new y(r+"."+n.slice(1)),f=v,l=a=v=nz(v.minus(1),v.plus(1),c,1),h=rz(v.times(v),c,1),i=3;;){if(a=rz(a.times(h),c,1),u=l.plus(nz(a,new y(i),c,1)),ZF(u.d).slice(0,c)===ZF(l.d).slice(0,c)){if(l=l.times(2),0!==o&&(l=l.plus(az(y,c+2,b).times(o+""))),l=nz(l,new y(d),c,1),null!=e)return y.precision=b,l;if(!JF(l.d,c-p,m,s))return rz(l,y.precision=b,m,RF=!0);y.precision=c+=p,u=a=v=nz(f.minus(1),f.plus(1),c,1),h=rz(v.times(v),c,1),i=s=1}l=u,i+=2}}function vz(t){return String(t.s*t.s/0)}function gz(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);r++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i),e){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%UF,n<0&&(r+=UF),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=UF;r<i;)t.d.push(+e.slice(r,r+=UF));e=e.slice(r),r=UF-e.length}else r-=i;for(;r--;)e+="0";t.d.push(+e),RF&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function yz(t,e){var n,r,i,o,a,s,l,u,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),GF.test(e))return gz(t,e)}else if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(HF.test(e))n=16,e=e.toLowerCase();else if(WF.test(e))n=2;else{if(!$F.test(e))throw Error(jF+e);n=8}for(o=e.search(/p/i),o>0?(l=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),a=o>=0,r=t.constructor,a&&(e=e.replace(".",""),s=e.length,o=s-o,i=cz(r,new r(n),o,2*o)),u=tz(e,n,VF),c=u.length-1,o=c;0===u[o];--o)u.pop();return o<0?new r(0*t.s):(t.e=oz(u,c),t.d=u,RF=!1,a&&(t=nz(t,i,4*s)),l&&(t=t.times(Math.abs(l)<54?zF(2,l):hW.pow(2,l))),RF=!0,t)}function mz(t,e){var n,r=e.d.length;if(r<3)return e.isZero()?e:bz(t,2,e,e);n=1.4*Math.sqrt(r),n=n>16?16:0|n,e=e.times(1/xz(5,n)),e=bz(t,2,e,e);for(var i,o=new t(5),a=new t(16),s=new t(20);n--;)i=e.times(e),e=e.times(o.plus(i.times(a.times(i).minus(s))));return e}function bz(t,e,n,r,i){var o,a,s,l,u=t.precision,c=Math.ceil(u/UF);for(RF=!1,l=n.times(n),s=new t(r);;){if(a=nz(s.times(l),new t(e++*e++),u,1),s=i?r.plus(a):r.minus(a),r=nz(a.times(l),new t(e++*e++),u,1),a=s.plus(r),void 0!==a.d[c]){for(o=c;a.d[o]===s.d[o]&&o--;);if(-1==o)break}o=s,s=r,r=a,a=o}return RF=!0,a.d.length=c+1,a}function xz(t,e){var n=t;while(--e)n*=t;return n}function wz(t,e){var n,r=e.s<0,i=sz(t,t.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return yF=r?4:1,e;if(n=e.divToInt(i),n.isZero())yF=r?3:2;else{if(e=e.minus(n.times(i)),e.lte(o))return yF=fz(n)?r?2:3:r?4:1,e;yF=fz(n)?r?1:4:r?3:2}return e.minus(i).abs()}function _z(t,e,n,r){var i,o,a,s,l,u,c,f,h,d=t.constructor,p=void 0!==n;if(p?(QF(n,1,kF),void 0===r?r=d.rounding:QF(r,0,8)):(n=d.precision,r=d.rounding),t.isFinite()){for(c=iz(t),a=c.indexOf("."),p?(i=2,16==e?n=4*n-3:8==e&&(n=3*n-2)):i=e,a>=0&&(c=c.replace(".",""),h=new d(1),h.e=c.length-a,h.d=tz(iz(h),10,i),h.e=h.d.length),f=tz(c,10,i),o=l=f.length;0==f[--l];)f.pop();if(f[0]){if(a<0?o--:(t=new d(t),t.d=f,t.e=o,t=nz(t,h,n,r,0,i),f=t.d,o=t.e,u=gF),a=f[n],s=i/2,u=u||void 0!==f[n+1],u=r<4?(void 0!==a||u)&&(0===r||r===(t.s<0?3:2)):a>s||a===s&&(4===r||u||6===r&&1&f[n-1]||r===(t.s<0?8:7)),f.length=n,u)for(;++f[--n]>i-1;)f[n]=0,n||(++o,f.unshift(1));for(l=f.length;!f[l-1];--l);for(a=0,c="";a<l;a++)c+=TF.charAt(f[a]);if(p){if(l>1)if(16==e||8==e){for(a=16==e?4:3,--l;l%a;l++)c+="0";for(f=tz(c,i,e),l=f.length;!f[l-1];--l);for(a=1,c="1.";a<l;a++)c+=TF.charAt(f[a])}else c=c.charAt(0)+"."+c.slice(1);c=c+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)c="0"+c;c="0."+c}else if(++o>l)for(o-=l;o--;)c+="0";else o<l&&(c=c.slice(0,o)+"."+c.slice(o))}else c=p?"0p+0":"0";c=(16==e?"0x":2==e?"0b":8==e?"0o":"")+c}else c=vz(t);return t.s<0?"-"+c:c}function Oz(t,e){if(t.length>e)return t.length=e,!0}function Cz(t){return new this(t).abs()}function Sz(t){return new this(t).acos()}function Ez(t){return new this(t).acosh()}function Mz(t,e){return new this(t).plus(e)}function kz(t){return new this(t).asin()}function Tz(t){return new this(t).asinh()}function Az(t){return new this(t).atan()}function Lz(t){return new this(t).atanh()}function Pz(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,o=r+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?sz(this,r,i):new this(0),n.s=t.s):!t.d||e.isZero()?(n=sz(this,o,1).times(.5),n.s=t.s):e.s<0?(this.precision=o,this.rounding=1,n=this.atan(nz(t,e,o,1)),e=sz(this,o,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(nz(t,e,o,1)):(n=sz(this,o,1).times(e.s>0?.25:.75),n.s=t.s):n=new this(NaN),n}function Rz(t){return new this(t).cbrt()}function Iz(t){return rz(t=new this(t),t.e+1,2)}function jz(t,e,n){return new this(t).clamp(e,n)}function Nz(t){if(!t||"object"!==typeof t)throw Error(IF+"Object expected");var e,n,r,i=!0===t.defaults,o=["precision",1,kF,"rounding",0,8,"toExpNeg",-MF,0,"toExpPos",0,MF,"maxE",0,MF,"minE",-MF,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(n=o[e],i&&(this[n]=PF[n]),void 0!==(r=t[n])){if(!(FF(r)===r&&r>=o[e+1]&&r<=o[e+2]))throw Error(jF+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=PF[n]),void 0!==(r=t[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(jF+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(BF);this[n]=!0}else this[n]=!1}return this}function Bz(t){return new this(t).cos()}function Dz(t){return new this(t).cosh()}function Fz(t){var e,n,r;function i(t){var e,n,r,o=this;if(!(o instanceof i))return new i(t);if(o.constructor=i,Gz(t))return o.s=t.s,void(RF?!t.d||t.e>i.maxE?(o.e=NaN,o.d=null):t.e<i.minE?(o.e=0,o.d=[0]):(o.e=t.e,o.d=t.d.slice()):(o.e=t.e,o.d=t.d?t.d.slice():t.d));if(r=typeof t,"number"===r){if(0===t)return o.s=1/t<0?-1:1,o.e=0,void(o.d=[0]);if(t<0?(t=-t,o.s=-1):o.s=1,t===~~t&&t<1e7){for(e=0,n=t;n>=10;n/=10)e++;return void(RF?e>i.maxE?(o.e=NaN,o.d=null):e<i.minE?(o.e=0,o.d=[0]):(o.e=e,o.d=[t]):(o.e=e,o.d=[t]))}return 0*t!==0?(t||(o.s=NaN),o.e=NaN,void(o.d=null)):gz(o,t.toString())}if("string"!==r)throw Error(jF+t);return 45===(n=t.charCodeAt(0))?(t=t.slice(1),o.s=-1):(43===n&&(t=t.slice(1)),o.s=1),GF.test(t)?gz(o,t):yz(o,t)}if(i.prototype=KF,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Nz,i.clone=Fz,i.isDecimal=Gz,i.abs=Cz,i.acos=Sz,i.acosh=Ez,i.add=Mz,i.asin=kz,i.asinh=Tz,i.atan=Az,i.atanh=Lz,i.atan2=Pz,i.cbrt=Rz,i.ceil=Iz,i.clamp=jz,i.cos=Bz,i.cosh=Dz,i.div=zz,i.exp=Wz,i.floor=Hz,i.hypot=$z,i.ln=Vz,i.log=Uz,i.log10=qz,i.log2=Yz,i.max=Xz,i.min=Kz,i.mod=Zz,i.mul=Qz,i.pow=Jz,i.random=tW,i.round=eW,i.sign=nW,i.sin=rW,i.sinh=iW,i.sqrt=oW,i.sub=aW,i.sum=sW,i.tan=lW,i.tanh=uW,i.trunc=cW,void 0===t&&(t={}),t&&!0!==t.defaults)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function zz(t,e){return new this(t).div(e)}function Wz(t){return new this(t).exp()}function Hz(t){return rz(t=new this(t),t.e+1,3)}function $z(){var t,e,n=new this(0);for(RF=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return RF=!0,new this(1/0);n=e}return RF=!0,n.sqrt()}function Gz(t){return t instanceof hW||t&&t.toStringTag===DF||!1}function Vz(t){return new this(t).ln()}function Uz(t,e){return new this(t).log(e)}function Yz(t){return new this(t).log(2)}function qz(t){return new this(t).log(10)}function Xz(){return hz(this,arguments,"lt")}function Kz(){return hz(this,arguments,"gt")}function Zz(t,e){return new this(t).mod(e)}function Qz(t,e){return new this(t).mul(e)}function Jz(t,e){return new this(t).pow(e)}function tW(t){var e,n,r,i,o=0,a=new this(1),s=[];if(void 0===t?t=this.precision:QF(t,1,kF),r=Math.ceil(t/UF),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));o<r;)i=e[o],i>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(BF);for(e=crypto.randomBytes(r*=4);o<r;)i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((127&e[o+3])<<24),i>=214e7?crypto.randomBytes(4).copy(e,o):(s.push(i%1e7),o+=4);o=r/4}else for(;o<r;)s[o++]=1e7*Math.random()|0;for(r=s[--o],t%=UF,r&&t&&(i=zF(10,UF-t),s[o]=(r/i|0)*i);0===s[o];o--)s.pop();if(o<0)n=0,s=[0];else{for(n=-1;0===s[0];n-=UF)s.shift();for(r=1,i=s[0];i>=10;i/=10)r++;r<UF&&(n-=UF-r)}return a.e=n,a.d=s,a}function eW(t){return rz(t=new this(t),t.e+1,this.rounding)}function nW(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function rW(t){return new this(t).sin()}function iW(t){return new this(t).sinh()}function oW(t){return new this(t).sqrt()}function aW(t,e){return new this(t).sub(e)}function sW(){var t=0,e=arguments,n=new this(e[t]);for(RF=!1;n.s&&++t<e.length;)n=n.plus(e[t]);return RF=!0,rz(n,this.precision,this.rounding)}function lW(t){return new this(t).tan()}function uW(t){return new this(t).tanh()}function cW(t){return rz(t=new this(t),t.e+1,1)}KF[Symbol.for("nodejs.util.inspect.custom")]=KF.toString,KF[Symbol.toStringTag]="Decimal";var fW,hW=KF.constructor=Fz(PF);AF=new hW(AF),LF=new hW(LF);var dW,pW=function(t){return"number"===typeof t?Number.isNaN(t):!t||("string"!==typeof t||Number.isNaN(Number(t)))},vW=function(t,e,n){return void 0===n&&(n=!1),(null===t||void 0===t?void 0:t.length)?t.reduce((function(t,r){var i=vv(r,e),o=pW(i);if(n&&o)return t;var a=o?0:i;return t.push(new hW(a)),t}),[]):[]},gW=function(t,e){var n=vW(t,e);return n.length?hW.sum.apply(hW,iu([],ru(n),!1)).toNumber():0},yW=function(t,e,n){var r=vW(e,n,!0);if(null===r||void 0===r?void 0:r.length)return hW[t].apply(hW,iu([],ru(r),!1)).toNumber()},mW=function(t,e){var n=vW(t,e);return(null===n||void 0===n?void 0:n.length)?hW.sum.apply(hW,iu([],ru(n),!1)).dividedBy(n.length).toNumber():0},bW=(fW={},fW[bj.SUM]=gW,fW[bj.MIN]=function(t,e){return yW("min",t,e)},fW[bj.MAX]=function(t,e){return yW("max",t,e)},fW[bj.AVG]=mW,fW),xW=function(t){return $u(t)&&"values"in t},wW=function(t){var e=t.spreadsheet,n=t.position,r=t.tooltipContainer,i=t.autoAdjustBoundary,o=e.getCanvasElement(),a=n.x+KR.x,s=n.y+KR.y;if(!i||!o)return{x:a,y:s};var l="body"===i,u=e.facet.panelBBox,c=u.maxX,f=u.maxY,h=e.options,d=h.width,p=h.height,v=o.getBoundingClientRect(),g=v.top,y=v.left,m=r.getBoundingClientRect(),b=m.width,x=m.height,w=document.body.getBoundingClientRect(),_=w.width,O=w.height,C=l?_:Math.min(d,c)+y,S=l?O:Math.min(p,f)+g;return a+b>=C&&(a=C-b),s+x>=S&&(s=S-x),{x:a,y:s}},_W=function(t){return tu({operator:{onClick:Uc,menus:[]},enterable:!0,enableFormat:!0},t)},OW=function(t){return tu(tu({},null===t||void 0===t?void 0:t.colQuery),null===t||void 0===t?void 0:t.rowQuery)},CW=function(t,e){var n;if(t){var r=e.style,i=e.className,o=void 0===i?[]:i,a=e.visible;if(r&&Object.assign(t.style,r),o.length){var s=o.filter(Boolean);(n=t.classList).add.apply(n,iu([],ru(s),!1))}t.classList.toggle(qR,a),t.classList.toggle(XR,!a)}},SW=function(t){var e=ZS(t)&&Number.isNaN(t),n=""===t;return rE(t)||e||n?"-":t},EW=function(t,e){var n,r=null===(n=null===t||void 0===t?void 0:t.dataSet)||void 0===n?void 0:n.getFieldFormatter(e);return function(t,e){return SW(r(t,e))}},MW=function(t,e){var n,r=e.data,i=e.field,o=e.valueField,a=e.useCompleteDataForFormatter,s=void 0===a||a,l=null===(n=null===t||void 0===t?void 0:t.dataSet)||void 0===n?void 0:n.getFieldName(i),u=EW(t,i),c=$u(r[i])?JSON.stringify(r[i]):r[i],f=u(o||c,s?r:void 0);return{name:l,value:f}},kW=function(t,e,n){var r=IO(Px([],e),(function(t){return t!==Os&&n[t]})),i=KO(r,(function(e){return MW(t,{data:n,field:e,useCompleteDataForFormatter:!1})}));return i},TW=function(t,e,n){var r,i,o,a,s=(n||{}).isTotals,l=[],u=[];if(e){var c=null===(i=null===(r=null===t||void 0===t?void 0:t.dataSet)||void 0===r?void 0:r.fields)||void 0===i?void 0:i.columns,f=null===(a=null===(o=null===t||void 0===t?void 0:t.dataSet)||void 0===o?void 0:o.fields)||void 0===a?void 0:a.rows;l=kW(t,zI(c||[]),e),u=kW(t,f,e)}return HS(l)&&HS(u)&&s&&(l=[{value:VR("")}]),{cols:l,rows:u}},AW=function(t,e,n){if(e){var r=n.isTotals,i=e[Os],o=e[i],a=[];if(r)a.push(MW(t,{data:e,field:i,valueField:vv(e,_s)}));else if(xW(o)&&t.getTooltipDataItemMappingCallback()){var s=xB(e,t.getTooltipDataItemMappingCallback());J_(s,(function(e,n){a.push(MW(t,{data:s,field:n}))}))}else a.push(MW(t,{data:e,field:i}));return a}},LW=function(t,e,n){var r;if(n)return VR("");var i=null===(r=null===t||void 0===t?void 0:t.dataSet)||void 0===r?void 0:r.getFieldName(e);return i&&"undefined"!==i?i:""},PW=function(t,e,n){void 0===n&&(n=!0);var r=[];return J_(e,(function(e,i){J_(t,(function(t){n||-1===t.colIndex?n&&-1!==t.rowIndex&&r.push([t.rowIndex,i]):r.push([i,t.colIndex])}))})),r},RW=function(t,e){var n,r=e.rowLeafNodes,i=e.colLeafNodes,o=t.interaction.getState(),a=o.nodes,s=void 0===a?[]:a,l=o.cells,u=void 0===l?[]:l,c=null===(n=null===u||void 0===u?void 0:u[0])||void 0===n?void 0:n.type;return c===Ml.COL_CELL?PW(s,r,!1):c===Ml.ROW_CELL?PW(s,i):[]},IW=function(t,e,n){var r,i=null===(r=t.facet)||void 0===r?void 0:r.layoutResult,o=function(t){var n=null===e||void 0===e?void 0:e.getMeta(),r=null===n||void 0===n?void 0:n.isTotals,o=(null===e||void 0===e?void 0:e.cellType)===Ml.COL_CELL,a=(null===e||void 0===e?void 0:e.cellType)===Ml.ROW_CELL;if(!o&&!a)return!1;var s=i.colNodes.find((function(e){return e.colIndex===t.colIndex})),l=i.rowNodes.find((function(e){return e.rowIndex===t.rowIndex})),u=o?null===l||void 0===l?void 0:l.isTotals:null===s||void 0===s?void 0:s.isTotals;return!r&&(null===t||void 0===t?void 0:t.isTotals)||r&&u};if(n){var a=RW(t,i);return Lx(KO(a,(function(t){var e=ru(t,2),n=e[0],r=e[1],a=i.getCellMeta(n,r);if(!o(a))return(null===a||void 0===a?void 0:a.data)||OW(a)})))}var s=t.interaction.getCells();return s.filter((function(t){var e=i.getCellMeta(t.rowIndex,t.colIndex);return!o(e)})).map((function(t){var e=i.getCellMeta(t.rowIndex,t.colIndex);return(null===e||void 0===e?void 0:e.data)||OW(e)}))},jW=function(t){var e=t.spreadsheet,n=t.targetCell,r=t.options,i=void 0===r?{}:r,o=[],a={},s=e.isTableMode();if(s&&(null===i||void 0===i?void 0:i.showSingleTips)){var l=e.dataSet.getMultiData({});return[{selectedData:l,name:"",value:""}]}var u=IW(e,n,i.showSingleTips);return J_(u,(function(t){var e;a[null===t||void 0===t?void 0:t[Os]]?null===(e=a[null===t||void 0===t?void 0:t[Os]])||void 0===e||e.push(t):a[null===t||void 0===t?void 0:t[Os]]=[t]})),FE(a,(function(t,n){var r,s=LW(e,n,null===i||void 0===i?void 0:i.isTotals),l="",u="";if(kO(t,(function(t){return pW(vv(t,_s))}))){var c=e.options.placeholder,f=_N(a,c);l=f,u=f}else{var h=EW(e,n),d=gW(t,_s);u=d,l=null!==(r=null===h||void 0===h?void 0:h(d,t))&&void 0!==r?r:parseFloat(d.toPrecision(fl))}o.push({selectedData:t,name:s,value:l,originValue:u})})),o},NW=function(t){if(t){var e=t.getMeta();if(!e.isTotals){var n=FO(e.spreadsheet.dataCfg.meta,{field:e.field||e.value||e.valueField}),r=null===n||void 0===n?void 0:n.field;return e.spreadsheet.dataSet.getFieldDescription(r)}}},BW=function(t){var e=t.spreadsheet,n=t.cellInfos,r=void 0===n?[]:n,i=t.options,o=void 0===i?{}:i,a=t.targetCell,s=null,l=null,u=null,c=NW(a),f=r[0]||{};if(null===o||void 0===o?void 0:o.hideSummary)if(o.showSingleTips){var h=EW(e,f.valueField),d=h(f.value),p=o.enableFormat?e.dataSet.getFieldName(f.value)||d:e.dataSet.getFieldName(f.valueField);f.name=p||""}else l=TW(e,f,o),u=AW(e,f,o);else s=jW({spreadsheet:e,options:o,targetCell:a});var v=f||{},g=v.interpretation,y=v.infos,m=v.tips,b=v.name;return{summaries:s,interpretation:g,infos:y,tips:m,name:b,headInfo:l,details:u,description:c}},DW=function(t){return KO(t,(function(t){var e=t.getMeta();return lp({},e.query||{},$k(e,["colIndex","rowIndex"]))}))},FW=function(t){if(!t.interaction.isSelectedState())return[];var e=t.dataCfg.fields.valueInCols;return t.interaction.getCells().reduce((function(n,r){var i=t.facet.layoutResult.getCellMeta(null===r||void 0===r?void 0:r.rowIndex,null===r||void 0===r?void 0:r.colIndex),o=OW(i);if(HS(i)||HS(o))return[];var a=tu(tu({},o),{colIndex:e?i.colIndex:null,rowIndex:e?null:i.rowIndex}),s=n.find((function(t){return $S(a,t)}));return s||n.push(a),n}),[])},zW=function(t,e){void 0===t&&(t={});var n=function(e){return OF(t,e)},r=t.col,i=t.row,o=t.data,a=t.corner;return e===Ml.COL_CELL?n(r):e===Ml.ROW_CELL?n(i):e===Ml.DATA_CELL?n(o):e===Ml.CORNER_CELL?n(a):tu({},t)},WW=function(t,e){var n;if(e&&t){var r=null===(n=t.getCellType)||void 0===n?void 0:n.call(t,null===e||void 0===e?void 0:e.target);return zW(t.options.tooltip,r)}},HW=function(t,e){var n=e.defaultMenus,r=void 0===n?[]:n,i=e.cell,o=function(t){return void 0===t&&(t=[]),t.filter((function(t){var e;return sc(t.visible)?t.visible(i):null===(e=t.visible)||void 0===e||e})).map((function(t){return t.children&&(t.children=o(t.children)),t}))},a=o(t.menus);return{onClick:t.onClick,menus:Lx(iu(iu([],ru(r),!1),ru(a),!1))}},$W=function(t,e){var n=!1,r=e;while(r&&r!==document.body){if(t===r){n=!0;break}r=r.parentElement}return n},GW=function(t){t.store.set(xl,wl)},VW=function(t,e){var n=t.store.get(xl,wl);t.store.set(xl,tu(tu({},n),e))},UW=function(t,e){var n=t.store.get(xl,wl);return n[e]},YW=function(){function t(t){var e=this;this.getFieldMeta=rv((function(t,n){return FO(e.meta||n,(function(e){return e.field===t}))})),this.spreadsheet=t}return t.prototype.getFieldName=function(t){return vv(this.getFieldMeta(t,this.meta),"name",t)},t.prototype.getFieldFormatter=function(t){return vv(this.getFieldMeta(t,this.meta),"formatter",nc)},t.prototype.getFieldDescription=function(t){return vv(this.getFieldMeta(t,this.meta),"description")},t.prototype.setDataCfg=function(t){this.getFieldMeta.cache.clear();var e=this.processDataCfg(t),n=e.fields,r=e.meta,i=e.data,o=e.totalData,a=e.sortParams,s=e.filterParams;this.fields=n,this.meta=r,this.originData=i,this.totalData=o,this.sortParams=a,this.filterParams=s,this.displayData=this.originData,this.indexesData=[]},t.prototype.processMeta=function(t,e){var n,r;return void 0===t&&(t=[]),iu(iu([],ru(t),!1),[gD(t,null===(r=null===(n=this.spreadsheet)||void 0===n?void 0:n.options)||void 0===r?void 0:r.cornerExtraFieldText,e)],!1)},t.prototype.getDisplayDataSet=function(){return this.displayData},t.prototype.getValueRangeByField=function(t){var e,n=UW(this.spreadsheet,t);if(n)return n;var r=Lx(KO(this.originData,(function(e){var n=e[t];return rE(n)?null:Number.parseFloat(n)}))),i={maxValue:UE(r),minValue:oM(r)};return VW(this.spreadsheet,(e={},e[t]=i,e)),i},t.prototype.moreThanOneValue=function(){var t,e;return(null===(e=null===(t=this.fields)||void 0===t?void 0:t.values)||void 0===e?void 0:e.length)>1},t}(),qW=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleDimensionValuesSort=function(){J_(e.sortParams,(function(t){var n=t.sortFieldId,r=t.sortByMeasure;if(n){var i=iu([],ru(e.sortedDimensionValues[n]||[]),!1),o=TD({dataSet:e,sortParam:t,originValues:i,isSortByMeasure:!HS(r)});e.sortedDimensionValues[n]=o}}))},e.getCustomData=function(t){for(var n,r=!1,i=e.indexesData,o=function(e){var o=t[e];r?i=hE(o)?Tj(i):null===(n=YC(i))||void 0===n?void 0:n.map((function(t){return t&&vv(t,o)})):hE(o)?r=!0:i=null===i||void 0===i?void 0:i[o]},a=0;a<t.length;a++)o(a);return i},e.getTotalStatus=function(t){var n=e.fields,r=n.columns,i=n.rows,o=function(e,n){if(n){var r=FO(e,(function(e){return!FC(t,e)}));return r&&r!==qO(e)}return kO(e,(function(e){return!FC(t,e)}))},a=function(t,e){return e?t.filter((function(t){return t!==Os})):t};return{isRowTotal:o(a(i,!e.spreadsheet.isValueInCols())),isRowSubTotal:o(i,!0),isColTotal:o(a(r,e.spreadsheet.isValueInCols())),isColSubTotal:o(r,!0)}},e}return Jl(e,t),e.prototype.setDataCfg=function(e){var n=this;t.prototype.setDataCfg.call(this,e),this.sortedDimensionValues={},this.rowPivotMeta=new Map,this.colPivotMeta=new Map,this.totalData=[].concat(Ij(e.data,e.fields)).concat(this.totalData),YI.getInstance().debugCallback(GI,(function(){var t=n.fields,e=t.rows,r=t.columns,i=pD({rows:e,columns:r,originData:n.originData,totalData:n.totalData,indexesData:n.indexesData,sortedDimensionValues:n.sortedDimensionValues,rowPivotMeta:n.rowPivotMeta,colPivotMeta:n.colPivotMeta}).indexesData;n.indexesData=i})),this.handleDimensionValuesSort()},e.prototype.transformDrillDownData=function(t,e,n){var r,i=this,o=this.fields,a=o.columns,s=o.values,l=sI.getFieldPath(n,!0),u=iu(iu([],ru(l),!1),[t],!1),c=this.spreadsheet.store,f=this.standardTransform(e,s),h=Ij(f,{columns:this.fields.columns,rows:u}),d=F_(f,h),p=null===n||void 0===n?void 0:n.id,v=null!==(r=c.get("drillDownIdPathMap"))&&void 0!==r?r:new Map;v.has(p)&&(J_(v.get(p),(function(t){fP(i.indexesData,t)})),vD(this.rowPivotMeta,p));var g=pD({rows:u,columns:a,originData:d,totalData:h,indexesData:this.indexesData,sortedDimensionValues:this.sortedDimensionValues,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),y=g.paths,m=g.indexesData,b=g.rowPivotMeta,x=g.colPivotMeta,w=g.sortedDimensionValues;this.indexesData=m,this.rowPivotMeta=b,this.colPivotMeta=x,this.sortedDimensionValues=w,v.set(p,y),c.set("drillDownIdPathMap",v)},e.prototype.clearDrillDownData=function(t){var e=this,n=this.spreadsheet.store,r=n.get("drillDownIdPathMap");if(r){var i=n.get("drillDownDataCache",[]);if(t){var o=r.get(t);o&&J_(o,(function(t){fP(e.indexesData,t)})),vD(this.rowPivotMeta,t),r.delete(t);var a=IO(i,(function(t){return r.has(null===t||void 0===t?void 0:t.rowId)}));n.set("drillDownDataCache",a);var s=a.map((function(t){return null===t||void 0===t?void 0:t.drillLevel})),l=n.get("drillDownFieldInLevel",[]),u=l.filter((function(t){return XC(s,null===t||void 0===t?void 0:t.drillLevel)}));n.set("drillDownFieldInLevel",u)}else{r.clear();var c=this.spreadsheet.store.get("originalDataCfg");HS(c)||this.spreadsheet.setDataCfg(c),this.spreadsheet.store.set("drillItemsNum",-1),this.spreadsheet.store.set("drillDownDataCache",[]),this.spreadsheet.store.set("drillDownFieldInLevel",[])}n.set("drillDownIdPathMap",r)}},e.prototype.standardTransform=function(t,e){if(HS(e))return t;var n=[];return J_(e,(function(e){J_(t,(function(t){var r;FC(t,e)&&n.push(tu(tu({},t),(r={},r[Os]=e,r[_s]=t[e],r)))}))})),n},e.prototype.processDataCfg=function(t){var e=t.data,n=t.meta,r=void 0===n?[]:n,i=t.fields,o=t.sortParams,a=void 0===o?[]:o,s=t.totalData,l=i.columns,u=i.rows,c=i.values,f=i.valueInCols,h=i.customValueOrder,d=l,p=u;f?d=this.isCustomMeasuresPosition(h)?this.handleCustomMeasuresOrder(h,d):aP(iu(iu([],ru(l),!1),[Os],!1)):p=this.isCustomMeasuresPosition(h)?this.handleCustomMeasuresOrder(h,p):aP(iu(iu([],ru(u),!1),[Os],!1));var v=this.processMeta(r,VR("")),g=this.standardTransform(e,c),y=this.standardTransform(s,c);return{data:g,meta:v,fields:tu(tu({},i),{rows:p,columns:d,values:c}),totalData:y,sortParams:a}},e.prototype.getDimensionValues=function(t,e){var n,r,i,o,a=this.fields||{},s=a.rows,l=void 0===s?[]:s,u=a.columns,c=void 0===u?[]:u,f=new Map,h=[];if(XC(l,t)?(f=this.rowPivotMeta,h=l):XC(c,t)&&(f=this.colPivotMeta,h=c),!HS(e)){var d=[],p=[],v=function(t){var n=vv(e,t);p.push("".concat(n));var r=p.join("".concat(sl));if(f.has(n)&&!hE(n)){var a=null===(i=f.get(n))||void 0===i?void 0:i.childField;if(f=f.get(n).children,FO(g.sortParams,(function(t){return t.sortFieldId===a}))&&g.sortedDimensionValues[a]){var s=null===(o=g.sortedDimensionValues[a])||void 0===o?void 0:o.filter((function(t){return null===t||void 0===t?void 0:t.startsWith(r)}));d=cD(iu([],ru(s),!1))}else d=iu([],ru(f.keys()),!1)}},g=this;try{for(var y=nu(h),m=y.next();!m.done;m=y.next()){var b=m.value;v(b)}}catch(x){n={error:x}}finally{try{m&&!m.done&&(r=y.return)&&r.call(y)}finally{if(n)throw n.error}}return HS(d)?[]:Mj(Ej(iu([],ru(f.keys()),!1),d))}return this.sortedDimensionValues[t]?Mj(cD(iu([],ru(this.sortedDimensionValues[t]),!1))):Mj(iu([],ru(f.keys()),!1))},e.prototype.getTotalValue=function(t){var e,n,r=jj(this.getTotalStatus(t),null===(n=this.spreadsheet.options)||void 0===n?void 0:n.totals)||{},i=r.aggregation,o=r.calcFunc,a=bW[i];if(a||o){var s=this.getMultiData(t),l=void 0;return o?l=o(t,s):a&&(l=a(s,_s)),tu(tu({},t),(e={},e[_s]=l,e[t[Os]]=l,e))}},e.prototype.getCellData=function(t){var e,n,r,i=t||{},o=i.query,a=i.rowNode,s=i.isTotals,l=void 0!==s&&s,u=this.fields,c=u.columns,f=u.rows,h=f,d=null===(e=this.spreadsheet)||void 0===e?void 0:e.store.get("drillDownIdPathMap"),p=Array.from(null!==(n=null===d||void 0===d?void 0:d.keys())&&void 0!==n?n:[]).some((function(t){return a.id.startsWith(t)}));l&&!p||(h=null!==(r=sI.getFieldPath(a,p))&&void 0!==r?r:f);var v=dD(h,o),g=dD(c,o),y=hD({rowDimensionValues:v,colDimensionValues:g,careUndefined:l||Rj([].concat(f).concat(c),o),rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),m=vv(this.indexesData,y);return m||(l?this.getTotalValue(o):m)},e.prototype.getMultiData=function(t,e,n,r){var i;if(HS(t))return Lx(kj(this.indexesData));var o=this.fields,a=o.rows,s=o.columns,l=o.values,u=HS(r)?a:a.concat(r),c=dD(u,t),f=dD(s,t),h=hD({rowDimensionValues:c,colDimensionValues:f,careUndefined:!0,isFirstCreate:!0,rowFields:a,colFields:s,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),d=this.getCustomData(h),p=Lx(Tj(d));if(e){var v=[],g=Lj(c,a),y=Lj(f,s);if(n)v=g;else{var m=1===(null===(i=ip(t))||void 0===i?void 0:i.length)&&FC(t,Os);if(m)v=y;else{var b=function(t){return Aj(null===t||void 0===t?void 0:t.filter((function(t){return!(null===l||void 0===l?void 0:l.includes(t))})))},x=b(f),w=b(c);v=x?g:w?y:iu(iu([],ru(g),!1),ru(y),!1)}}p=p.filter((function(t){return!(null===v||void 0===v?void 0:v.find((function(e){var n;return e!==Os&&(null===(n=ip(t))||void 0===n?void 0:n.includes(e))})))}))}return p||[]},e.prototype.getFieldFormatter=function(e,n){return e===Ss?this.getFieldFormatterForTotalValue(n):t.prototype.getFieldFormatter.call(this,e)},e.prototype.getFieldFormatterForTotalValue=function(e){var n;return!this.spreadsheet.isValueInCols()&&e&&(n=vv(e.rowQuery,Os)),n=null!==n&&void 0!==n?n:vv(this.fields.values,0),t.prototype.getFieldFormatter.call(this,n)},e.prototype.handleCustomMeasuresOrder=function(t,e){var n=aP(iu([],ru(e),!1));return e.length>=t?(n.splice(t,0,Os),n):iu(iu([],ru(n),!1),[Os],!1)},e.prototype.isCustomMeasuresPosition=function(t){return ZS(t)},e.prototype.getRowData=function(t){return this.getMultiData(t.rowQuery)},e}(YW),XW=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleDimensionValueFilter=function(){J_(e.filterParams,(function(t){var n=t.filterKey,r=t.filteredValues,i=t.customFilter,o=function(t){return!XC(r,t[n])};e.displayData=iu(iu(iu([],ru(e.getStartRows()),!1),ru(IO(e.getMovableRows(),(function(t){return i?i(t)&&o(t):o(t)}))),!1),ru(e.getEndRows()),!1)}))},e.handleDimensionValuesSort=function(){J_(e.sortParams,(function(t){var n=t.sortFieldId,r=t.sortBy,i=t.sortFunc,o=t.sortMethod,a=t.query;if(n){var s=e.getMovableRows(),l=[];if(a){var u=[];s.forEach((function(t){for(var e=Object.keys(a),n=!0,r=0;r<e.length;r++){var i=e[r];if(t[i]!==a[i]){n=!1,l.push(t);break}}n&&u.push(t)})),s=u}var c=s;if(i)c=i(tu(tu({},t),{data:s}));else if(r&&!sc(r)){var f=iu([],ru(r),!1).reverse();c=s.sort((function(t,e){var r=f.indexOf(t[n]),i=f.indexOf(e[n]);return i-r}))}else if(yD(o)||mD(o)){var h=sc(r)?r:null;c=BM(s,[h||n],[o.toLocaleLowerCase()])}l.length&&(c=iu(iu([],ru(c),!1),ru(l),!1)),e.displayData=iu(iu(iu([],ru(e.getStartRows()),!1),ru(c),!1),ru(e.getEndRows()),!1)}}))},e}return Jl(e,t),e.prototype.processDataCfg=function(t){return t},e.prototype.setDataCfg=function(e){t.prototype.setDataCfg.call(this,e),this.handleDimensionValueFilter(),this.handleDimensionValuesSort()},e.prototype.getStartRows=function(){var t=(this.spreadsheet.options||{}).frozenRowCount;if(!t)return[];var e=this.displayData;return e.slice(0,t)},e.prototype.getEndRows=function(){var t=(this.spreadsheet.options||{}).frozenTrailingRowCount;if(!t)return[];var e=this.displayData;return e.slice(-t)},e.prototype.getMovableRows=function(){var t=this.displayData,e=this.spreadsheet.options||{},n=e.frozenTrailingRowCount,r=e.frozenRowCount;return t.slice(r||0,-n||void 0)},e.prototype.getDimensionValues=function(t,e){return[]},e.prototype.getCellData=function(t){var e=t.query;if(0!==this.displayData.length||0!==e.rowIndex){var n=this.displayData[e.rowIndex];return"col"in e&&$u(n)?n[e.col]:n}},e.prototype.getMultiData=function(t,e){return this.displayData},e.prototype.getRowData=function(t){return this.getCellData({query:{rowIndex:t.rowIndex}})},e}(YW),KW=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.getCellData=function(t){var e=t.query,n=this.fields,r=n.columns,i=n.rows,o=dD(i,e),a=dD(r,e),s=hD({rowDimensionValues:o,colDimensionValues:a,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta,isFirstCreate:!0,careUndefined:!0,rowFields:i,colFields:r}),l=vv(this.indexesData,s);return l},e.prototype.setDataCfg=function(e){t.prototype.setDataCfg.call(this,e),this.sortedDimensionValues={},this.rowPivotMeta=new Map,this.colPivotMeta=new Map;var n=this.fields,r=n.rows,i=n.columns,o=pD({rows:r,columns:i,originData:this.originData,totalData:[],indexesData:this.indexesData,sortedDimensionValues:this.sortedDimensionValues,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}).indexesData;this.indexesData=o,this.handleDimensionValuesSort()},e.prototype.processDataCfg=function(t){t.fields.valueInCols=!1;var e=t.data,n=t.meta,r=eu(t,["data","meta"]),i=t.fields.values,o=[];J_(e,(function(t){HS(rS(ip(t),i))?o.push(t):J_(i,(function(e){var n;FC(t,e)&&o.push(tu(tu({},t),(n={},n[Os]=e,n[_s]=t[e],n)))}))}));var a=this.processMeta(n,VR(""));return tu(tu({},r),{meta:a,data:aP(o),fields:tu(tu({},t.fields),{rows:[Os]})})},e}(qW);(function(t){t["ScrollChange"]="scroll-change",t["ScrollEnd"]="scroll-end"})(dW||(dW={}));var ZW=function(t){function e(e){var n=t.call(this,e)||this;n.isMobile=!1,n.eventHandlers=[],n.scrollFrameId=null,n.getCoordinatesName=function(){var t=n.isHorizontal?"x1":"y1",e=n.isHorizontal?"x2":"y2";return{from:t,to:e}},n.getCoordinatesWithBBoxExtraPadding=function(){var t=n.theme.size,e=n.isHorizontal?0:t/2,r=n.isHorizontal?t:t/2;return{start:n.thumbOffset+e,end:n.thumbOffset+n.thumbLen-r}},n.current=function(){var t=n.thumbLen/n.trackLen,e=n.thumbOffset/n.trackLen;return e/(1-t)},n.updateThumbLen=function(t){if(n.thumbLen!==t){n.thumbLen=t;var e=n.getCoordinatesName();n.thumbShape.attr(e.to,n.thumbOffset+t),n.emitScrollChange(n.thumbOffset/(n.trackLen-n.thumbLen)*n.scrollTargetMaxOffset,!1)}},n.updateThumbOffset=function(t,e){var r;void 0===e&&(e=!0);var i=n.validateRange(t),o=n.thumbOffset===i&&0!==i;if(!o){n.thumbOffset=i;var a=n.getCoordinatesName(),s=a.from,l=a.to,u=n.getCoordinatesWithBBoxExtraPadding(),c=u.start,f=u.end;n.thumbShape.attr((r={},r[s]=c,r[l]=f,r)),e&&n.emitScrollChange(i/(n.trackLen-n.thumbLen)*n.scrollTargetMaxOffset,!1)}},n.onlyUpdateThumbOffset=function(t){var e;n.updateThumbOffset(t,!1),null===(e=n.get("canvas"))||void 0===e||e.draw()},n.emitScrollChange=function(t,e){void 0===e&&(e=!0),cancelAnimationFrame(n.scrollFrameId),n.scrollFrameId=requestAnimationFrame((function(){n.emit(dW.ScrollChange,{offset:t,updateThumbOffset:e})}))},n.addEventListener=function(t,e,n){return null===t||void 0===t||t.addEventListener(e,n,!1),{remove:function(){null===t||void 0===t||t.removeEventListener(e,n,!1)}}},n.addEvent=function(t,e,r){t.on(e,r),n.eventHandlers.push({target:t,type:e,handler:r})},n.initScrollBar=function(){n.scrollBarGroup=n.createScrollBarGroup(),n.scrollBarGroup.move(n.position.x,n.position.y),n.bindEvents()},n.createScrollBarGroup=function(){var t=n.addGroup({className:n.isHorizontal?"horizontalBar":"verticalBar"});return n.trackShape=n.createTrackShape(t),n.thumbShape=n.createThumbShape(t),t},n.createTrackShape=function(t){var e=n.theme,r=e.lineCap,i=void 0===r?"round":r,o=e.trackColor,a=e.size,s={lineWidth:a,stroke:o,lineCap:i};return n.isHorizontal?t.addShape("line",{attrs:tu(tu({},s),{x1:0,y1:a/2,x2:n.trackLen,y2:a/2})}):t.addShape("line",{attrs:tu(tu({},s),{x1:a/2,y1:0,x2:a/2,y2:n.trackLen})})},n.createThumbShape=function(t){var e=n.theme,r=e.size,i=e.lineCap,o=void 0===i?"round":i,a=e.thumbColor,s={lineWidth:r,stroke:a,lineCap:o,cursor:"default"},l=n.getCoordinatesWithBBoxExtraPadding(),u=l.start,c=l.end;return n.isHorizontal?t.addShape("line",{attrs:tu(tu({},s),{x1:u,y1:r/2,x2:c,y2:r/2})}):t.addShape("line",{attrs:tu(tu({},s),{x1:r/2,y1:u,x2:r/2,y2:c})})},n.bindEvents=function(){n.on("mousedown",n.onStartEvent(!1)),n.on("mouseup",n.onMouseUp),n.on("touchstart",n.onStartEvent(!0)),n.on("touchend",n.onMouseUp),n.trackShape.on("click",n.onTrackClick),n.thumbShape.on("mouseover",n.onTrackMouseOver),n.thumbShape.on("mouseout",n.onTrackMouseOut)},n.onStartEvent=function(t){return function(e){e.preventDefault(),n.isMobile=t;var r=n.isMobile?vv(e,"touches.0",e):e,i=r.clientX,o=r.clientY;n.startPos=n.isHorizontal?i:o,n.bindLaterEvent()}},n.bindLaterEvent=function(){var t=n.get("canvas"),e=document.body,r=[];n.isMobile?(r=[n.addEventListener(e,"touchmove",n.onMouseMove),n.addEventListener(e,"touchend",n.onMouseUp),n.addEventListener(e,"touchcancel",n.onMouseUp)],n.addEvent(t,"touchend",n.onMouseUp),n.addEvent(t,"touchcancel",n.onMouseUp)):(r=[n.addEventListener(e,"mousemove",n.onMouseMove),n.addEventListener(e,"mouseup",n.onMouseUp),n.addEventListener(e,"mouseleave",n.onMouseUp)],n.addEvent(t,"mouseup",n.onMouseUp)),n.clearEvents=function(){r.forEach((function(t){null===t||void 0===t||t.remove()})),J_(n.eventHandlers,(function(t){var e;null===(e=t.target)||void 0===e||e.off(t.type,t.handler)})),n.eventHandlers.length=0}},n.onTrackClick=function(t){var e=n.isHorizontal?t.x-n.position.x-n.thumbLen/2:t.y-n.position.y-n.thumbLen/2,r=n.validateRange(e);n.updateThumbOffset(r)},n.onMouseMove=function(t){t.preventDefault();var e=n.isMobile?vv(t,"touches.0",t):t,r=e.clientX,i=e.clientY,o=n.isHorizontal?r:i,a=o-n.startPos;n.startPos=o,n.updateThumbOffset(n.thumbOffset+a)},n.onMouseUp=function(t){var e;n.emit(dW.ScrollEnd,{}),t.preventDefault(),null===(e=n.clearEvents)||void 0===e||e.call(n)},n.onTrackMouseOver=function(){var t=n.theme,e=t.thumbHoverColor,r=t.hoverSize;n.thumbShape.attr("stroke",e),n.thumbShape.attr("lineWidth",r)},n.onTrackMouseOut=function(){var t=n.theme,e=t.thumbColor,r=t.size;n.thumbShape.attr("stroke",e),n.thumbShape.attr("lineWidth",r)},n.validateRange=function(t){var e=t;return t+n.thumbLen>n.trackLen?e=n.trackLen-n.thumbLen:t+n.thumbLen<n.thumbLen&&(e=0),e};var r=e.isHorizontal,i=void 0!==r&&r,o=e.trackLen,a=e.thumbLen,s=e.position,l=e.thumbOffset,u=void 0===l?0:l,c=e.theme,f=e.scrollTargetMaxOffset;return n.isHorizontal=i,n.thumbOffset=u,n.trackLen=o,n.thumbLen=a,n.position=s,n.theme=c,n.scrollTargetMaxOffset=f,n.initScrollBar(),n}return Jl(e,t),e}(Sa),QW=function(t,e,n){return t.filter((function(t){return t.level>=e})).map((function(t){return t[n]})).reduce((function(t,e){return t+e}),0)},JW=function(t,e,n){if(n<=0)return{start:0,end:0};var r=BO(t,(function(n,r){var i=e;return i>=n&&i<t[r+1]}),0);r=Math.max(r,0);var i=n===e?r:BO(t,(function(e,r){var i=n;return i>e&&i<=t[r+1]}),r);return i=Math.min(-1===i?1/0:i,t.length-2),{start:r,end:i}},tH=function(t,e){var n=e.width,r=e.originalWidth,i=Math.min(r-n,t);return i<0?0:i},eH=function(t,e,n){var r=Math.min(e-n,t);return r<0?0:r},nH=function(t,e){if(void 0===t&&(t=[]),HS(t))return[];var n=[];return t.forEach((function(t){if(t instanceof e&&n.push(t),t instanceof Sa){var r=t.getChildren();r.forEach((function(t){t instanceof e&&n.push(t)}))}})),n},rH=function(t,e,n){return n.slice(t,e+1).map((function(t){return t.x+t.width}))},iH=function(t,e,n){for(var r=[],i=t;i<e+1;i++)r.push(n.getCellOffsetY(i+1));return r},oH=function(t,e,n,r){var i=iH(t,e,r),o=r.getCellOffsetY(t);return i.map((function(t){return t-o+n}))},aH=function(t,e,n){var r=ru(n,4),i=r[0],o=r[1],a=r[2],s=r[3];return t>=i&&t<=o&&e>=a&&e<=s},sH=function(t){for(var e=ru(t,4),n=e[0],r=e[1],i=e[2],o=e[3],a=[],s=n;s<=r;s+=1)for(var l=i;l<=o;l+=1)a.push([s,l]);return a},lH=function(t,e){var n=[],r=[];if(HS(t))return HS(e)?{add:n,remove:r}:{add:sH(e),remove:r};if(HS(e))return{add:n,remove:sH(t)};for(var i=ru(t,4),o=i[0],a=i[1],s=i[2],l=i[3],u=ru(e,4),c=u[0],f=u[1],h=u[2],d=u[3],p=o;p<=a;p++)for(var v=s;v<=l;v++)aH(p,v,e)||r.push([p,v]);for(p=c;p<=f;p+=1)for(v=h;v<=d;v+=1)aH(p,v,t)||n.push([p,v]);return{add:n,remove:r}},uH=function(t,e){var n=[],r=[];return Object.keys(e).forEach((function(i){var o=lH((null===t||void 0===t?void 0:t[i])||[],e[i]),a=o.add,s=o.remove;n.push.apply(n,iu([],ru(a),!1)),r.push.apply(r,iu([],ru(s),!1))})),{add:n,remove:r}},cH=function(){function t(t,e){void 0===e&&(e=!1),this.x=0,this.y=0,this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.width=0,this.height=0,this.originalWidth=0,this.originalHeight=0,this.viewportHeight=0,this.viewportWidth=0,this.facet=t,this.spreadsheet=t.spreadsheet,this.layoutResult=t.layoutResult,e&&this.calculateBBox()}return t}(),fH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.calculateBBox=function(){var t=this.getCornerBBoxWidth(),e=this.getCornerBBoxHeight();this.width=t,this.height=e,this.maxX=t,this.maxY=e},e.prototype.getCornerBBoxOriginalHeight=function(){var t=this.layoutResult.colsHierarchy,e=this.spreadsheet.options.style.colCfg;return t.sampleNodeForLastLevel?Math.floor(t.height):null===e||void 0===e?void 0:e.height},e.prototype.getCornerBBoxHeight=function(){return this.originalHeight=this.getCornerBBoxOriginalHeight(),this.originalHeight},e.prototype.getCornerBBoxWidth=function(){var t=this.layoutResult.rowsHierarchy;return this.originalWidth=Math.floor(t.width+this.facet.getSeriesNumberWidth()),this.spreadsheet.isScrollContainsRowHeader()?this.originalWidth:this.adjustCornerBBoxWidth()},e.prototype.adjustCornerBBoxWidth=function(){var t=this.layoutResult.colsHierarchy,e=this.spreadsheet.options.width,n=e*hl,r=null===t||void 0===t?void 0:t.width,i=e-this.originalWidth;if(this.originalWidth<=n||r<=i)return this.originalWidth;var o=0,a=e-n;return o=r<=a?this.originalWidth-(r-i):n,Math.floor(o)},e}(cH),hH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.calculateBBox=function(){this.originalWidth=this.facet.getRealWidth(),this.originalHeight=this.facet.getRealHeight();var t=this.facet.cornerBBox,e={x:Math.floor(t.maxX),y:Math.floor(t.maxY)},n=this.spreadsheet.theme.scrollBar.size,r=this.spreadsheet.options,i=r.width,o=r.height,a=Math.max(0,i-e.x),s=Math.max(0,o-e.y-n);this.x=e.x,this.y=e.y,this.width=a,this.height=s,this.viewportHeight=Math.abs(Math.floor(Math.min(s,this.originalHeight))),this.viewportWidth=Math.abs(Math.floor(Math.min(a,this.originalWidth))),this.maxX=e.x+this.viewportWidth,this.maxY=e.y+this.viewportHeight,this.minX=e.x,this.minY=e.y;var l=this.spreadsheet.options,u=l.frozenTrailingColCount,c=l.frozenTrailingRowCount;u>0&&(this.viewportWidth=this.width,this.maxX=e.x+this.width),c>0&&(this.viewportHeight=this.height,this.maxY=e.y+this.height)},e}(cH),dH=function(t){function e(e){var n=t.call(this,e)||this;return n.isHeaderCellInViewport=function(t,e,n,r){return t+e>=n&&n+r>=t},n.headerConfig=e,n}return Jl(e,t),e.prototype.getConfig=function(){return this.headerConfig},e.prototype.clearResizeAreaGroup=function(t){var e=this.get("parent"),n=null===e||void 0===e?void 0:e.findById(t);null===n||void 0===n||n.clear()},e.prototype.render=function(t){this.clearResizeAreaGroup(t),this.clear(),this.layout(),this.offset(),this.clip()},e.prototype.onScrollXY=function(t,e,n){this.headerConfig.scrollX=t,this.headerConfig.scrollY=e,this.render(n)},e.prototype.onRowScrollX=function(t,e){this.headerConfig.scrollX=t,this.render(e)},e.prototype.clear=function(){t.prototype.clear.call(this)},e}(Sa),pH=function(t){function e(e){var n=t.call(this,e)||this;return n.scrollGroup=n.addGroup({name:tl,zIndex:Ts}),n}return Jl(e,t),e.prototype.onColScroll=function(t,e){this.headerConfig.scrollX!==t&&(this.headerConfig.scrollX=t,this.render(e))},e.prototype.clip=function(){var t=this.headerConfig,e=t.width,n=t.height,r=t.scrollX,i=t.spreadsheet,o=i.isFrozenRowHeader();this.scrollGroup.setClip({type:"rect",attrs:{x:o?r:0,y:0,width:o?e:e+r,height:n}})},e.prototype.clear=function(){var t,e;null===(t=this.scrollGroup)||void 0===t||t.clear(),null===(e=this.background)||void 0===e||e.remove(!0)},e.prototype.getCellInstance=function(t,e,n){return new PD(t,e,n)},e.prototype.getCellGroup=function(t){return this.scrollGroup},e.prototype.isColCellInRect=function(t){var e=this.headerConfig,n=e.spreadsheet,r=e.cornerWidth,i=e.width,o=e.scrollX;return i+o>t.x&&o-(n.isFrozenRowHeader()?0:r)<t.x+t.width},e.prototype.layout=function(){var t=this,e=this.headerConfig,n=e.data,r=e.spreadsheet,i=r.options.colCell;J_(n,(function(e){var n=e;if(t.isColCellInRect(n)){var o=(null===i||void 0===i?void 0:i(n,r,t.headerConfig))||t.getCellInstance(n,r,t.headerConfig);n.belongsCell=o;var a=t.getCellGroup(n);a.add(o)}}))},e.prototype.offset=function(){var t=this.headerConfig,e=t.position,n=t.scrollX;TI(this.scrollGroup,e.x-n)},e}(dH),vH=function(t){function e(e){return t.call(this,e)||this}return Jl(e,t),e.getCornerHeader=function(t,n,r,i,o,a){var s=t.width,l=t.height,u=n.originalWidth,c=n.originalHeight,f=n.width,h=n.height,d=this.getCornerNodes({x:n.x,y:n.y},u,c,i.rows,i.columns,o.rowsHierarchy,o.colsHierarchy,i.dataSet,r,a);return new e({data:d,position:{x:n.x,y:n.y},width:f,height:h,originalHeight:c,originalWidth:u,viewportWidth:s,viewportHeight:l,hierarchyType:i.hierarchyType,hierarchyCollapse:i.hierarchyCollapse,rows:i.rows,columns:i.columns,seriesNumberWidth:r,spreadsheet:a})},e.getCornerNodes=function(t,e,n,r,i,o,a,s,l,u){var c,f,h,d=[],p=u.options.style.colCfg,v=null===a||void 0===a?void 0:a.sampleNodeForLastLevel,g=null!==(c=null===v||void 0===v?void 0:v.y)&&void 0!==c?c:0,y=null!==(h=null!==(f=null===v||void 0===v?void 0:v.height)&&void 0!==f?f:null===p||void 0===p?void 0:p.height)&&void 0!==h?h:0;if(l){var m=new sI({id:"",key:il,value:VR("")});m.x=null===t||void 0===t?void 0:t.x,m.y=g,m.width=l,m.height=y,m.isPivotMode=!0,m.spreadsheet=u,m.cornerType=xj.Series,d.push(m)}if(u.isHierarchyTreeType()){var b=this.getTreeCornerText(u),x=new sI({key:"",id:b,value:b});x.x=t.x+l,x.y=g,x.width=e-l,x.height=y,x.seriesNumberWidth=l,x.isPivotMode=!0,x.spreadsheet=u,x.cornerType=xj.Row,d.push(x)}else o.sampleNodesForAllLevels.forEach((function(t){var e=r[t.level],n=new sI({key:e,id:e,value:s.getFieldName(e)});n.x=t.x+l,n.y=g,n.width=t.width,n.height=y,n.field=e,n.isPivotMode=!0,n.cornerType=xj.Row,n.spreadsheet=u,d.push(n)}));return a.sampleNodesForAllLevels.forEach((function(n){if(n.level<a.maxLevel){var r=i[n.level],o=new sI({key:r,id:r,value:s.getFieldName(r)});o.x=t.x,o.y=n.y,o.width=e,o.height=n.height,o.field=r,o.isPivotMode=!0,o.cornerType=xj.Col,o.spreadsheet=u,d.push(o)}})),d},e.getTreeCornerText=function(t){var e=t.dataSet.fields.rows,n=void 0===e?[]:e,r=t.options.cornerText;if(r)return r;var i=t.store.get("drillDownFieldInLevel",[]),o=i.map((function(t){return t.drillField})),a=n.filter((function(t){return!XC(o,t)})).map((function(e){return t.dataSet.getFieldName(e)})).join("/");return a},e.prototype.onCorScroll=function(t,e){this.headerConfig.scrollX=t,this.render(e)},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.layout=function(){this.renderCells()},e.prototype.renderCells=function(){var t,e,n,r,i=this,o=this.headerConfig,a=o.data,s=o.spreadsheet,l=null===(e=null===(t=null===s||void 0===s?void 0:s.facet)||void 0===t?void 0:t.cfg)||void 0===e?void 0:e.cornerHeader,u=null===(r=null===(n=null===s||void 0===s?void 0:s.facet)||void 0===n?void 0:n.cfg)||void 0===r?void 0:r.cornerCell;l?l(this,s,this.headerConfig):a.forEach((function(t){var e;u&&(e=u(t,i.headerConfig.spreadsheet,i.headerConfig)),HS(e)&&(e=new RD(t,i.headerConfig.spreadsheet,i.headerConfig)),i.add(e)}))},e.prototype.offset=function(){var t=this.headerConfig.scrollX;TI(this,-t)},e.prototype.clip=function(){var t=this.headerConfig,e=t.width,n=t.height,r=t.scrollX;this.setClip({type:"rect",attrs:{x:r,y:0,width:e,height:n}})},e.prototype.getNodes=function(){return this.headerConfig.data||[]},e}(dH),gH=function(t){function e(e){var n=t.call(this,e)||this;return n.render(),n}return Jl(e,t),e.prototype.layout=function(){this.addCornerBottomBorder(),this.addCornerRightBorder(),this.addSplitLineShadow()},e.prototype.render=function(){this.clear(),this.layout()},e.prototype.onBorderScroll=function(t){this.cfg.scrollX=t;var e=this.cfg.position;kI(this,e.x-t,0),this.render()},e.prototype.onChangeShadowVisibility=function(t,e){this.cfg.showViewportLeftShadow=t>0,this.cfg.showViewportRightShadow=Math.floor(t)<Math.floor(e),this.render()},e.prototype.addCornerRightBorder=function(){var t,e=this.cfg,n=e.isPivotMode;if(n){var r=e.width,i=e.height,o=e.viewportHeight,a=e.position,s=e.spreadsheet,l=null===(t=s.theme)||void 0===t?void 0:t.splitLine,u=a.x+r,c=a.y,f=a.y+i+o;this.addShape("line",{attrs:{x1:u,y1:c,x2:u,y2:f,stroke:l.verticalBorderColor,lineWidth:l.verticalBorderWidth,opacity:l.verticalBorderColorOpacity}})}},e.prototype.addCornerBottomBorder=function(){var t,e=this.cfg,n=e.width,r=e.height,i=e.viewportWidth,o=e.position,a=e.scrollX,s=e.scrollContainsRowHeader,l=e.spreadsheet,u=null===(t=l.theme)||void 0===t?void 0:t.splitLine,c=o.x,f=c+n+i+(s?a:0),h=o.y+r-1;this.addShape("line",{attrs:{x1:c,y1:h,x2:f,y2:h,stroke:u.horizontalBorderColor,lineWidth:u.horizontalBorderWidth,opacity:u.horizontalBorderColorOpacity}})},e.prototype.addSplitLineShadow=function(){var t,e=this.cfg,n=e.isPivotMode,r=e.spreadsheet,i=null===(t=r.theme)||void 0===t?void 0:t.splitLine;n&&i.showShadow&&r.isFrozenRowHeader()&&(this.addSplitLineLeftShadow(),this.addSplitLineRightShadow())},e.prototype.addSplitLineLeftShadow=function(){var t,e,n;if(this.cfg.showViewportLeftShadow){var r=this.cfg,i=r.width,o=r.height,a=r.viewportHeight,s=r.position,l=r.spreadsheet,u=null===(t=l.theme)||void 0===t?void 0:t.splitLine,c=s.x+i,f=s.y;this.addShape("rect",{attrs:{x:c,y:f,width:u.shadowWidth,height:a+o,fill:"l (0) 0:".concat(null===(e=u.shadowColors)||void 0===e?void 0:e.left," 1:").concat(null===(n=u.shadowColors)||void 0===n?void 0:n.right)}})}},e.prototype.addSplitLineRightShadow=function(){var t,e,n;if(this.cfg.showViewportRightShadow){var r=this.cfg,i=r.width,o=r.height,a=r.viewportHeight,s=r.viewportWidth,l=r.position,u=r.spreadsheet,c=null===(t=u.theme)||void 0===t?void 0:t.splitLine,f=l.x+i+s-c.shadowWidth,h=l.y;this.addShape("rect",{attrs:{x:f,y:h,width:c.shadowWidth,height:a+o,fill:"l (0) 0:".concat(null===(e=c.shadowColors)||void 0===e?void 0:e.right," 1:").concat(null===(n=c.shadowColors)||void 0===n?void 0:n.left)}})}},e}(Sa),yH=function(t){function e(e){return t.call(this,e)||this}return Jl(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.gm&&this.gm.destroy()},e.prototype.layout=function(){var t,e,n=this,r=this.headerConfig,i=r.data,o=r.spreadsheet,a=r.width,s=r.viewportHeight,l=r.seriesNumberWidth,u=r.scrollY,c=r.scrollX,f=null===(e=null===(t=null===o||void 0===o?void 0:o.facet)||void 0===t?void 0:t.cfg)||void 0===e?void 0:e.rowCell,h=function(t){return s+u>t.y&&u<t.y+t.height&&a-l+c>t.x&&c-l<t.x+t.width};J_(i,(function(t){if(h(t)&&0!==t.height){var e=void 0;f&&(e=f(t,o,n.headerConfig)),HS(e)&&o.isPivotMode()&&(e=new nF(t,o,n.headerConfig)),t.belongsCell=e,n.add(e)}}))},e.prototype.offset=function(){var t=this.headerConfig,e=t.scrollX,n=t.scrollY,r=t.position,i=t.seriesNumberWidth;kI(this,r.x-e+i,r.y-n)},e.prototype.clip=function(){var t=this.headerConfig,e=t.width,n=t.viewportHeight,r=t.scrollX,i=t.scrollY,o=t.seriesNumberWidth;this.setClip({type:"rect",attrs:{x:r-o,y:i,width:e,height:n}})},e}(dH),mH=function(t){function e(e){return t.call(this,e)||this}return Jl(e,t),e.getSeriesNumberHeader=function(t,n,r,i,o){var a=t.height,s=t.viewportHeight,l=[],u=i.isHierarchyTreeType();return r.forEach((function(t){if(!t.isTotals||u){var e=new sI({id:"",key:"",value:"".concat(l.length+1)});e.x=t.x,e.y=t.y,e.height=t.height,e.width=n,l.push(e)}})),new e({width:o,height:a,viewportWidth:o,viewportHeight:s,position:{x:0,y:t.y},data:l,spreadsheet:i})},e.prototype.clip=function(){var t=this.headerConfig,e=t.width,n=t.viewportHeight,r=t.scrollY;this.setClip({type:"rect",attrs:{x:0,y:r,width:e,height:n}})},e.prototype.layout=function(){var t=this,e=this.headerConfig,n=e.data,r=e.scrollY,i=e.viewportHeight,o=e.spreadsheet;o.isPivotMode&&this.addBackGround();var a=this.addGroup();J_(n,(function(e){var n=e.y,o=e.height,s=e.isLeaf,l=t.isHeaderCellInViewport(n,o,r,i);if(l){var u=t.addGroup();t.addText(u,e),t.add(u),s||t.addBorder(a,e)}}))},e.prototype.offset=function(){var t=this.headerConfig,e=t.scrollY,n=t.scrollX,r=t.position;kI(this,r.x-n,r.y-e),this.backgroundShape&&this.backgroundShape.translate(r.x,r.y+e),this.leftBorderShape&&this.leftBorderShape.translate(r.x,r.y+e)},e.prototype.addBackGround=function(){var t=this.getStyle().cell,e=this.headerConfig,n=e.position,r=e.width,i=e.viewportHeight;this.backgroundShape=Dj(this,{x:n.x,y:-n.y,width:r,height:i,fill:t.backgroundColor,stroke:"transparent",opacity:t.backgroundColorOpacity});var o=pN(mj.LEFT,{x:n.x,y:-n.y,width:r,height:i},t),a=o.position,s=o.style;this.leftBorderShape=$j(this,a,s)},e.prototype.addBorder=function(t,e){var n=this.getStyle().cell,r=pN(mj.BOTTOM,e,n),i=r.position,o=r.style;$j(t,i,o)},e.prototype.getStyle=function(){return this.headerConfig.spreadsheet.theme.rowCell},e.prototype.addText=function(t,e){var n=this.headerConfig,r=n.scrollY,i=n.viewportHeight,o=tu(tu({},this.getStyle().seriesText),{textBaseline:"top"}),a=e.label,s=e.x,l=e.y,u=e.width,c=e.height,f=this.getTextPadding(a,u),h=eF(l+f.top,c-f.top-f.bottom,r,i,o.fontSize);t.addShape("text",{attrs:tu(tu({x:s+f.left,y:h,text:a},o),{cursor:"pointer"})})},e.prototype.getTextPadding=function(t,e){var n=this.getStyle(),r=this.headerConfig.spreadsheet.measureTextWidth(t,n.seriesText),i=Math.max(Math.abs((e-r)/2),4);return tu(tu({},n.cell.padding),{left:i,right:i})},e}(dH),bH=function(){function t(t){var e=this;this.scrollFrameId=null,this.hideScrollBar=function(){var t,n,r;null===(t=e.hRowScrollBar)||void 0===t||t.hide(),null===(n=e.hScrollBar)||void 0===n||n.hide(),null===(r=e.vScrollBar)||void 0===r||r.hide()},this.delayHideScrollBar=h_(this.hideScrollBar,1e3),this.delayHideScrollbarOnMobile=function(){nI()&&e.delayHideScrollBar()},this.showVerticalScrollBar=function(){var t;null===(t=e.vScrollBar)||void 0===t||t.show()},this.showHorizontalScrollBar=function(){var t,n;null===(t=e.hRowScrollBar)||void 0===t||t.show(),null===(n=e.hScrollBar)||void 0===n||n.show()},this.onContainerWheel=function(){e.onContainerWheelForPc(),e.onContainerWheelForMobile()},this.onContainerWheelForPc=function(){var t=e.spreadsheet.getCanvasElement();null===t||void 0===t||t.addEventListener("wheel",e.onWheel)},this.onContainerWheelForMobile=function(){e.mobileWheel=new JD(e.spreadsheet.container),e.mobileWheel.on("wheel",(function(t){e.spreadsheet.hideTooltip();var n=t.event,r=t.deltaX,i=t.deltaY,o=t.x,a=t.y;e.onWheel(tu(tu({},n),{deltaX:r,deltaY:i,offsetX:o,offsetY:a}))}))},this.bindEvents=function(){e.onContainerWheel(),e.emitPaginationEvent()},this.setScrollOffset=function(t){Object.keys(t).forEach((function(n){var r=t[n];hE(r)||e.spreadsheet.store.set(n,Math.floor(r))}))},this.getScrollOffset=function(){var t=e.spreadsheet.store;return{scrollX:t.get("scrollX",0),scrollY:t.get("scrollY",0),rowHeaderScrollX:t.get("rowHeaderScrollX",0)}},this.emitPaginationEvent=function(){var t=e.cfg.pagination;if(t){var n=t.current,r=void 0===n?eI:n,i=t.pageSize,o=e.viewCellHeights.getTotalLength(),a=Math.floor((o-1)/i)+1;e.cfg.spreadsheet.emit(bs.LAYOUT_PAGINATION,{pageSize:i,pageCount:a,total:o,current:r})}},this.unbindEvents=function(){var t=e.spreadsheet.getCanvasElement();null===t||void 0===t||t.removeEventListener("wheel",e.onWheel),e.mobileWheel.destroy()},this.clipPanelGroup=function(){var t;e.foregroundGroup=e.spreadsheet.foregroundGroup,e.backgroundGroup=e.spreadsheet.backgroundGroup,e.panelGroup=e.spreadsheet.panelGroup;var n=e.panelBBox,r=n.width,i=n.height;null===(t=e.spreadsheet.panelScrollGroup)||void 0===t||t.setClip({type:"rect",attrs:{x:0,y:e.cornerBBox.height,width:r,height:i}})},this.calculateCellWidthHeight=function(){var t=e.layoutResult.colLeafNodes,n=ST(t,(function(t,e){return t.push(z_(t)+e.width),t}),[0]);e.viewCellWidths=n,e.viewCellHeights=e.getViewCellHeights(e.layoutResult)},this.getRealScrollX=function(t,n){return void 0===n&&(n=0),e.cfg.spreadsheet.isScrollContainsRowHeader()?t:n},this.calculatePanelBBox=function(){e.panelBBox=new hH(e,!0)},this.getRealWidth=function(){return z_(e.viewCellWidths)},this.getRealHeight=function(){var t=e.cfg.pagination,n=e.viewCellHeights;if(t){var r=e.getCellRange(),i=r.start,o=r.end;return n.getCellOffsetY(o+1)-n.getCellOffsetY(i)}return n.getTotalHeight()},this.clearAllGroup=function(){for(var t=e.panelGroup.getChildren()||[],n=t.length-1;n>=0;n--){var r=t[n];r instanceof Sa?r.set("children",[]):t[n].remove()}e.foregroundGroup.set("children",[]),e.backgroundGroup.set("children",[])},this.scrollWithAnimation=function(t,n,r){var i,o,a,s;void 0===t&&(t={}),void 0===n&&(n=200);var l=e.getAdjustedScrollOffset({scrollX:(null===(i=t.offsetX)||void 0===i?void 0:i.value)||0,scrollY:(null===(o=t.offsetY)||void 0===o?void 0:o.value)||0,rowHeaderScrollX:(null===(a=t.rowHeaderOffsetX)||void 0===a?void 0:a.value)||0}),u=l.scrollX,c=l.scrollY,f=l.rowHeaderScrollX;null===(s=e.timer)||void 0===s||s.stop();var h=e.getScrollOffset(),d=[null!==u&&void 0!==u?u:h.scrollX,null!==c&&void 0!==c?c:h.scrollY,null!==f&&void 0!==f?f:h.rowHeaderScrollX],p=Hn(Object.values(h),d);e.timer=qe((function(t){var i=Math.min(t/n,1),o=ru(p(i),3),a=o[0],s=o[1],l=o[2];e.setScrollOffset({rowHeaderScrollX:l,scrollX:a,scrollY:s}),e.startScroll(),t>n&&(e.timer.stop(),null===r||void 0===r||r())}))},this.scrollImmediately=function(t){var n,r,i;void 0===t&&(t={});var o=e.getAdjustedScrollOffset({scrollX:(null===(n=t.offsetX)||void 0===n?void 0:n.value)||0,scrollY:(null===(r=t.offsetY)||void 0===r?void 0:r.value)||0,rowHeaderScrollX:(null===(i=t.rowHeaderOffsetX)||void 0===i?void 0:i.value)||0}),a=o.scrollX,s=o.scrollY,l=o.rowHeaderScrollX;e.setScrollOffset({scrollX:a,scrollY:s,rowHeaderScrollX:l}),e.startScroll()},this.startScroll=function(t){var n,r,i;void 0===t&&(t=!1);var o=e.getScrollOffset(),a=o.rowHeaderScrollX,s=o.scrollX,l=o.scrollY;null===(n=e.hRowScrollBar)||void 0===n||n.onlyUpdateThumbOffset(e.getScrollBarOffset(a,e.hRowScrollBar)),null===(r=e.hScrollBar)||void 0===r||r.onlyUpdateThumbOffset(e.getScrollBarOffset(s,e.hScrollBar)),null===(i=e.vScrollBar)||void 0===i||i.onlyUpdateThumbOffset(e.getScrollBarOffset(l,e.vScrollBar)),e.dynamicRenderCell(t)},this.getRendererHeight=function(){var t=e.getCellRange(),n=t.start,r=t.end;return e.viewCellHeights.getCellOffsetY(r+1)-e.viewCellHeights.getCellOffsetY(n)},this.getAdjustedScrollOffset=function(t){var n=t.scrollX,r=t.scrollY,i=t.rowHeaderScrollX;return{scrollX:eH(n,e.layoutResult.colsHierarchy.width,e.panelBBox.width),scrollY:eH(r,e.getRendererHeight(),e.panelBBox.height),rowHeaderScrollX:tH(i,e.cornerBBox)}},this.renderRowScrollBar=function(t){if(!e.cfg.spreadsheet.isScrollContainsRowHeader()&&e.cornerBBox.width<e.cornerBBox.originalWidth){var n=e.cornerBBox.originalWidth-e.cornerBBox.width,r=e.getScrollbarPosition().maxY,i=e.spreadsheet.theme,o=i.splitLine,a=i.scrollBar,s=Math.max(e.cornerBBox.width*e.cornerBBox.width/e.cornerBBox.originalWidth,null===a||void 0===a?void 0:a.thumbHorizontalMinSize),l=s-(null===o||void 0===o?void 0:o.verticalBorderWidth);e.hRowScrollBar=new ZW({isHorizontal:!0,trackLen:e.cornerBBox.width,thumbLen:l,position:{x:e.cornerBBox.minX+e.scrollBarSize/2,y:r},thumbOffset:t*(e.cornerBBox.width-s)/n,theme:e.scrollBarTheme,scrollTargetMaxOffset:n}),e.hRowScrollBar.on(dW.ScrollChange,(function(t){var r,i,o=t.offset,a=e.getValidScrollBarOffset(o,n),s=Math.floor(a);e.setScrollOffset({rowHeaderScrollX:s}),null===(r=e.rowHeader)||void 0===r||r.onRowScrollX(s,Ys),null===(i=e.rowIndexHeader)||void 0===i||i.onRowScrollX(s,Ks),e.cornerHeader.onRowScrollX(s,Zs);var l=e.getScrollBarOffset(s,e.hRowScrollBar),u=e.getScrollOffset(),c=u.scrollX,f=u.scrollY,h={scrollX:c,scrollY:f,rowHeaderScrollX:l};e.hRowScrollBar.updateThumbOffset(l,!1),e.spreadsheet.emit(bs.ROW_CELL_SCROLL,h),e.spreadsheet.emit(bs.GLOBAL_SCROLL,h)})),e.foregroundGroup.add(e.hRowScrollBar)}},this.getValidScrollBarOffset=function(t,e){return rm(t,0,e)},this.renderHScrollBar=function(t,n,r){if(Math.floor(t)<Math.floor(n)){var i=e.scrollBarSize/2,o=e.getScrollbarPosition().maxY,a=t+(e.cfg.spreadsheet.isScrollContainsRowHeader()?Math.min(e.cornerBBox.width,e.getCanvasHW().width):0),s={x:e.panelBBox.minX+(e.cfg.spreadsheet.isScrollContainsRowHeader()?-e.cornerBBox.width+i:i),y:o},l=n+(e.cfg.spreadsheet.isScrollContainsRowHeader()?e.cornerBBox.width:0),u=e.spreadsheet.theme.scrollBar,c=l-a,f=Math.max(a/l*a,null===u||void 0===u?void 0:u.thumbHorizontalMinSize);e.hScrollBar=new ZW({isHorizontal:!0,trackLen:a,thumbLen:f,position:s,thumbOffset:r*(a-f)/c,theme:e.scrollBarTheme,scrollTargetMaxOffset:c}),e.hScrollBar.on(dW.ScrollChange,(function(t){var n=t.offset,r=t.updateThumbOffset,i=e.getValidScrollBarOffset(n,c);r&&e.hScrollBar.updateThumbOffset(e.getScrollBarOffset(i,e.hScrollBar),!1),e.setScrollOffset({scrollX:i}),e.dynamicRenderCell()})),e.foregroundGroup.add(e.hScrollBar)}},this.getScrollbarPosition=function(){var t=e.panelBBox,n=t.maxX,r=t.maxY,i=e.getCanvasHW(),o=i.width,a=i.height,s=e.spreadsheet.options.interaction.scrollbarPosition===Bl.CONTENT;return{maxX:(s?n:o)-e.scrollBarSize,maxY:s?r:a-e.scrollBarSize}},this.renderVScrollBar=function(t,n,r){if(t<n){var i=e.spreadsheet.theme.scrollBar,o=Math.max(t/n*t,null===i||void 0===i?void 0:i.thumbVerticalMinSize),a=n-t,s=e.getScrollbarPosition().maxX;e.vScrollBar=new ZW({isHorizontal:!1,trackLen:t,thumbLen:o,thumbOffset:r*(t-o)/a,position:{x:s,y:e.panelBBox.minY},theme:e.scrollBarTheme,scrollTargetMaxOffset:a}),e.vScrollBar.on(dW.ScrollChange,(function(t){var n=t.offset,r=t.updateThumbOffset,i=e.getValidScrollBarOffset(n,a);r&&e.vScrollBar.updateThumbOffset(e.getScrollBarOffset(i,e.vScrollBar),!1),e.setScrollOffset({scrollY:i}),e.dynamicRenderCell()})),e.foregroundGroup.add(e.vScrollBar)}},this.getScrollBarOffset=function(t,e){var n=e.trackLen,r=e.thumbLen,i=e.scrollTargetMaxOffset;return t*(n-r)/i},this.isScrollOverThePanelArea=function(t){var n=t.offsetX,r=t.offsetY;return n>e.panelBBox.minX&&n<e.panelBBox.maxX&&r>e.panelBBox.minY&&r<e.panelBBox.maxY},this.isScrollOverTheCornerArea=function(t){var n=t.offsetX,r=t.offsetY;return n>e.cornerBBox.minX&&n<e.cornerBBox.maxX&&r>e.cornerBBox.minY&&r<e.cornerBBox.maxY+e.panelBBox.height},this.updateHorizontalRowScrollOffset=function(t){var n,r=t.offset,i=t.offsetX,o=t.offsetY;e.isScrollOverTheCornerArea({offsetX:i,offsetY:o})&&(null===(n=e.hRowScrollBar)||void 0===n||n.emitScrollChange(r))},this.updateHorizontalScrollOffset=function(t){var n,r=t.offset,i=t.offsetX,o=t.offsetY;e.hRowScrollBar&&!e.isScrollOverThePanelArea({offsetX:i,offsetY:o})||null===(n=e.hScrollBar)||void 0===n||n.emitScrollChange(r)},this.isScrollToLeft=function(t){var n=t.deltaX,r=t.offsetX,i=t.offsetY;if(!e.hScrollBar&&!e.hRowScrollBar)return!0;var o=!e.hRowScrollBar||e.isScrollOverThePanelArea({offsetY:i,offsetX:r})||e.hRowScrollBar.thumbOffset<=0,a=!e.hScrollBar||e.hScrollBar.thumbOffset<=0;return n<=0&&a&&o},this.isScrollToRight=function(t){var n,r,i,o,a,s,l=t.deltaX,u=t.offsetX,c=t.offsetY;if(!e.hScrollBar&&!e.hRowScrollBar)return!0;var f=e.spreadsheet.isFrozenRowHeader()?null===(n=e.panelBBox)||void 0===n?void 0:n.width:null===(r=e.panelBBox)||void 0===r?void 0:r.maxX,h=!e.hRowScrollBar||e.isScrollOverThePanelArea({offsetY:c,offsetX:u})||(null===(i=e.hRowScrollBar)||void 0===i?void 0:i.thumbOffset)+(null===(o=e.hRowScrollBar)||void 0===o?void 0:o.thumbLen)>=e.cornerBBox.width,d=e.hRowScrollBar&&e.isScrollOverTheCornerArea({offsetX:u,offsetY:c})||(null===(a=e.hScrollBar)||void 0===a?void 0:a.thumbOffset)+(null===(s=e.hScrollBar)||void 0===s?void 0:s.thumbLen)>=f;return l>=0&&d&&h},this.isScrollToTop=function(t){var n;return!e.vScrollBar||t<=0&&(null===(n=e.vScrollBar)||void 0===n?void 0:n.thumbOffset)<=0},this.isScrollToBottom=function(t){var n,r,i;return!e.vScrollBar||t>=0&&(null===(n=e.vScrollBar)||void 0===n?void 0:n.thumbOffset)+(null===(r=e.vScrollBar)||void 0===r?void 0:r.thumbLen)>=(null===(i=e.panelBBox)||void 0===i?void 0:i.height)},this.isVerticalScrollOverTheViewport=function(t){return!e.isScrollToTop(t)&&!e.isScrollToBottom(t)},this.isHorizontalScrollOverTheViewport=function(t){return!e.isScrollToLeft(t)&&!e.isScrollToRight(t)},this.isScrollOverTheViewport=function(t){var n=t.deltaY,r=t.deltaX,i=t.offsetY,o=i<=e.cornerBBox.maxY;return!o&&(0!==n?e.isVerticalScrollOverTheViewport(n):0!==r&&e.isHorizontalScrollOverTheViewport(t))},this.cancelScrollFrame=function(){return(!nI()||!e.scrollFrameId)&&(cancelAnimationFrame(e.scrollFrameId),!0)},this.clearScrollFrameIdOnMobile=function(){nI()&&(e.scrollFrameId=null)},this.stopScrollChainingIfNeeded=function(t){var n=e.spreadsheet.options.interaction;"auto"!==n.overscrollBehavior&&e.stopScrollChaining(t)},this.stopScrollChaining=function(t){var e,n,r;null===(e=null===t||void 0===t?void 0:t.preventDefault)||void 0===e||e.call(t),null===(r=null===(n=null===t||void 0===t?void 0:t.originalEvent)||void 0===n?void 0:n.preventDefault)||void 0===r||r.call(n)},this.onWheel=function(t){var n=e.spreadsheet.options.interaction,r=t.deltaX,i=t.deltaY,o=t.offsetX,a=t.offsetY,s=t.shiftKey;s&&iI()&&(o=o-r+i,r=i,a-=i,i=0);var l=ru(MI(r,i,n.scrollSpeedRatio),2),u=l[0],c=l[1];e.spreadsheet.hideTooltip(),e.spreadsheet.interaction.clearHoverTimer(),e.isScrollOverTheViewport({deltaX:u,deltaY:c,offsetX:o,offsetY:a})?(e.stopScrollChaining(t),e.spreadsheet.interaction.addIntercepts([Pl.HOVER]),e.cancelScrollFrame()&&(e.scrollFrameId=requestAnimationFrame((function(){var t,n=e.getScrollOffset(),r=n.scrollX,i=n.scrollY,s=n.rowHeaderScrollX;0!==u&&(e.showHorizontalScrollBar(),e.updateHorizontalRowScrollOffset({offsetX:o,offsetY:a,offset:u+s}),e.updateHorizontalScrollOffset({offsetX:o,offsetY:a,offset:u+r})),0!==c&&(e.showVerticalScrollBar(),null===(t=e.vScrollBar)||void 0===t||t.emitScrollChange(c+i)),e.delayHideScrollbarOnMobile(),e.clearScrollFrameIdOnMobile()})))):e.stopScrollChainingIfNeeded(t)},this.addCell=function(t){var n=e.spreadsheet.panelScrollGroup;null===n||void 0===n||n.add(t)},this.realCellRender=function(t,n){var r=e.calculateXYIndexes(t,n);YI.getInstance().logger("renderIndex:",e.preCellIndexes,r);var i=uH(e.preCellIndexes,r),o=i.add,a=i.remove;YI.getInstance().debugCallback(UI,(function(){J_(o,(function(t){var n=ru(t,2),r=n[0],i=n[1],o=e.layoutResult.getCellMeta(i,r);if(o){var a=e.cfg.dataCell(o);a.set("name","".concat(r,"-").concat(i)),e.addCell(a)}}));var t=nH(e.panelGroup.getChildren(),TB);J_(a,(function(e){var n=ru(e,2),r=n[0],i=n[1],o=FO(t,(function(t){return t.get("name")==="".concat(r,"-").concat(i)}));null===o||void 0===o||o.remove(!0)})),YI.getInstance().logger("Render Cell Panel: ".concat(null===t||void 0===t?void 0:t.length,", Add: ").concat(null===o||void 0===o?void 0:o.length,", Remove: ").concat(null===a||void 0===a?void 0:a.length))})),e.preCellIndexes=r,e.spreadsheet.emit(bs.LAYOUT_AFTER_REAL_DATA_CELL_RENDER,{add:o,remove:a,spreadsheet:e.spreadsheet})},this.getGridInfo=function(){var t=ru(e.preCellIndexes.center,4),n=t[0],r=t[1],i=t[2],o=t[3],a=rH(n,r,e.layoutResult.colLeafNodes),s=iH(i,o,e.viewCellHeights);return{cols:a,rows:s}},this.onAfterScroll=h_((function(){var t=e.spreadsheet,n=t.interaction,r=t.container;if(!n.isSelectedState()&&(n.removeIntercepts([Pl.HOVER]),n.getHoverAfterScroll())){var i=n.eventController.canvasMousemoveEvent;if(i){var o=i.x,a=i.y,s=r.getShape(o,a);s&&r.emit(ms.MOUSE_MOVE,tu(tu({},i),{shape:s,target:s,timestamp:performance.now()}))}}}),300),this.cfg=t,this.spreadsheet=t.spreadsheet,this.init()}return Object.defineProperty(t.prototype,"scrollBarTheme",{get:function(){return this.spreadsheet.theme.scrollBar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollBarSize",{get:function(){return this.scrollBarTheme.size},enumerable:!1,configurable:!0}),t.prototype.getCellCustomWidth=function(t,e){return sc(e)?null===e||void 0===e?void 0:e(t):e},t.prototype.getCellDraggedWidth=function(t){var e=this.cfg.colCfg;return vv(null===e||void 0===e?void 0:e.widthByFieldValue,"".concat(t.value))},t.prototype.render=function(){HI(this.spreadsheet.dataCfg.fields)||(this.adjustScrollOffset(),this.renderHeaders(),this.renderScrollBars(),this.renderBackground(),this.dynamicRenderCell())},t.prototype.adjustScrollOffset=function(){var t=this.getAdjustedScrollOffset(this.getScrollOffset());this.setScrollOffset(t)},t.prototype.getSeriesNumberWidth=function(){var t=this.cfg.showSeriesNumber;return t?this.spreadsheet.theme.rowCell.seriesNumberWidth:0},t.prototype.getCanvasHW=function(){return{width:this.cfg.width,height:this.cfg.height}},t.prototype.updateScrollOffset=function(t){var e,n,r,i,o,a;void 0===(null===(e=t.rowHeaderOffsetX)||void 0===e?void 0:e.value)?void 0===(null===(r=t.offsetX)||void 0===r?void 0:r.value)?void 0!==(null===(o=t.offsetY)||void 0===o?void 0:o.value)&&((null===(a=t.offsetY)||void 0===a?void 0:a.animate)?this.scrollWithAnimation(t):this.scrollImmediately(t)):(null===(i=t.offsetX)||void 0===i?void 0:i.animate)?this.scrollWithAnimation(t):this.scrollImmediately(t):(null===(n=t.rowHeaderOffsetX)||void 0===n?void 0:n.animate)?this.scrollWithAnimation(t):this.scrollImmediately(t)},t.prototype.getPaginationScrollY=function(){var t=this.cfg.pagination;if(t){var e=t.current,n=void 0===e?eI:e,r=t.pageSize,i=this.viewCellHeights,o=Math.max((n-1)*r,0);return i.getCellOffsetY(o)}return 0},t.prototype.destroy=function(){this.unbindEvents(),this.clearAllGroup(),this.preCellIndexes=null,cancelAnimationFrame(this.scrollFrameId)},t.prototype.calculateXYIndexes=function(t,e){var n=this.panelBBox,r=n.viewportHeight,i=n.viewportWidth,o=EI(t,e,this.viewCellWidths,this.viewCellHeights,{width:i,height:r,x:0,y:0},this.getRealScrollX(this.cornerBBox.width));return{center:o}},t.prototype.calculateCornerBBox=function(){this.cornerBBox=new fH(this,!0)},t.prototype.getCellRange=function(){var t=this.cfg.pagination;return II(this.viewCellHeights,t)},t.prototype.clip=function(t,e){var n,r=this.spreadsheet.isFrozenRowHeader();null===(n=this.spreadsheet.panelScrollGroup)||void 0===n||n.setClip({type:"rect",attrs:{x:r?t:0,y:e,width:this.panelBBox.width+(r?0:t),height:this.panelBBox.height}})},t.prototype.translateRelatedGroups=function(t,e,n){var r,i;kI(this.spreadsheet.panelScrollGroup,this.cornerBBox.width-t,this.cornerBBox.height-e),null===(r=this.rowHeader)||void 0===r||r.onScrollXY(this.getRealScrollX(t,n),e,Ys),null===(i=this.rowIndexHeader)||void 0===i||i.onScrollXY(this.getRealScrollX(t,n),e,Ks),this.cornerHeader.onCorScroll(this.getRealScrollX(t,n),Zs),this.centerFrame.onChangeShadowVisibility(t,this.getRealWidth()-this.panelBBox.width),this.centerFrame.onBorderScroll(this.getRealScrollX(t)),this.columnHeader.onColScroll(t,Qs)},t.prototype.init=function(){var t=this;YI.getInstance().debugCallback(VI,(function(){t.layoutResult=t.doLayout(),t.saveInitColumnLeafNodes(t.layoutResult.colLeafNodes),t.spreadsheet.emit(bs.LAYOUT_AFTER_HEADER_LAYOUT,t.layoutResult)})),this.calculateCellWidthHeight(),this.calculateCornerBBox(),this.calculatePanelBBox(),this.clipPanelGroup(),this.bindEvents()},t.prototype.renderBackground=function(){var t=this.getCanvasHW(),e=t.width,n=t.height,r=this.spreadsheet.theme.background,i=r.color,o=r.opacity;this.backgroundGroup.addShape("rect",{attrs:{fill:i,opacity:o,x:0,y:0,width:e,height:n}})},t.prototype.renderScrollBars=function(){var t=this.getScrollOffset(),e=t.scrollX,n=t.scrollY,r=t.rowHeaderScrollX,i=this.panelBBox,o=i.width,a=i.height,s=this.layoutResult.colsHierarchy.width,l=this.getRealHeight();this.renderRowScrollBar(r),this.renderHScrollBar(o,s,e),this.renderVScrollBar(a,l,n)},t.prototype.renderHeaders=function(){var t=this.getSeriesNumberWidth();this.rowHeader=this.getRowHeader(),this.columnHeader=this.getColHeader(),t>0&&!this.rowIndexHeader&&(this.rowIndexHeader=this.getSeriesNumberHeader()),this.cornerHeader=this.getCornerHeader(),this.centerFrame=this.getCenterFrame(),this.rowIndexHeader&&this.foregroundGroup.add(this.rowIndexHeader),this.rowHeader&&this.foregroundGroup.add(this.rowHeader),this.foregroundGroup.add(this.columnHeader),this.foregroundGroup.add(this.cornerHeader),this.foregroundGroup.add(this.centerFrame)},t.prototype.getRowHeader=function(){var t,e,n;if(!this.rowHeader){var r=this.panelBBox,i=r.y,o=r.viewportHeight,a=r.viewportWidth,s=r.height,l=this.getSeriesNumberWidth();return new yH({width:this.cornerBBox.width,height:s,viewportWidth:a,viewportHeight:o,position:{x:0,y:i},data:this.layoutResult.rowNodes,hierarchyType:this.cfg.hierarchyType,linkFields:null!==(n=null===(e=null===(t=this.cfg.spreadsheet.options)||void 0===t?void 0:t.interaction)||void 0===e?void 0:e.linkFields)&&void 0!==n?n:[],seriesNumberWidth:l,spreadsheet:this.spreadsheet})}return this.rowHeader},t.prototype.getColHeader=function(){if(!this.columnHeader){var t=this.panelBBox,e=t.x,n=t.width,r=t.viewportHeight,i=t.viewportWidth;return new pH({width:n,cornerWidth:this.cornerBBox.width,height:this.cornerBBox.height,viewportWidth:i,viewportHeight:r,position:{x:e,y:0},data:this.layoutResult.colNodes,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),sortParam:this.cfg.spreadsheet.store.get("sortParam"),spreadsheet:this.spreadsheet})}return this.columnHeader},t.prototype.getCornerHeader=function(){return this.cornerHeader?this.cornerHeader:vH.getCornerHeader(this.panelBBox,this.cornerBBox,this.getSeriesNumberWidth(),this.cfg,this.layoutResult,this.spreadsheet)},t.prototype.getSeriesNumberHeader=function(){return mH.getSeriesNumberHeader(this.panelBBox,this.getSeriesNumberWidth(),this.layoutResult.rowsHierarchy.getNodes(0),this.spreadsheet,this.cornerBBox.width)},t.prototype.getCenterFrame=function(){var t;if(!this.centerFrame){var e=this.panelBBox,n=e.viewportWidth,r=e.viewportHeight,i=this.cornerBBox.width,o=this.cornerBBox.height,a=null===(t=this.cfg)||void 0===t?void 0:t.frame,s={position:{x:this.cornerBBox.x,y:this.cornerBBox.y},width:i,height:o,viewportWidth:n,viewportHeight:r,showViewportLeftShadow:!1,showViewportRightShadow:!1,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),isPivotMode:this.cfg.spreadsheet.isPivotMode(),spreadsheet:this.cfg.spreadsheet};return a?a(s):new gH(s)}return this.centerFrame},t.prototype.updatePanelScrollGroup=function(){this.gridInfo=this.getGridInfo(),this.spreadsheet.panelScrollGroup.update(this.gridInfo)},t.prototype.dynamicRenderCell=function(t){var e=this.getScrollOffset(),n=e.scrollX,r=e.scrollY,i=e.rowHeaderScrollX,o=r+this.getPaginationScrollY(),a=eH(o,this.viewCellHeights.getTotalHeight(),this.panelBBox.viewportHeight);this.spreadsheet.hideTooltip(),this.spreadsheet.interaction.clearHoverTimer(),this.realCellRender(n,a),this.updatePanelScrollGroup(),this.translateRelatedGroups(n,a,i),this.clip(n,a),t||this.emitScrollEvent({scrollX:n,scrollY:a,rowHeaderScrollX:i}),this.onAfterScroll()},t.prototype.emitScrollEvent=function(t){this.spreadsheet.emit(bs.LAYOUT_CELL_SCROLL,t),this.spreadsheet.emit(bs.GLOBAL_SCROLL,t)},t.prototype.saveInitColumnLeafNodes=function(t){void 0===t&&(t=[]);var e=this.spreadsheet,n=e.store,r=e.options,i=r.interaction.hiddenColumnFields,o=t.length+i.length,a=n.get("initColumnLeafNodes",[]);o!==a.length&&n.set("initColumnLeafNodes",t)},t.prototype.getHiddenColumnsInfo=function(t){var e=this.spreadsheet.store.get("hiddenColumnsDetail",[]);return HS(e)?null:e.find((function(e){var n;return null===(n=null===e||void 0===e?void 0:e.hideColumnNodes)||void 0===n?void 0:n.some((function(e){return e.id===t.id}))}))},t.prototype.getCornerNodes=function(){var t;return(null===(t=this.cornerHeader)||void 0===t?void 0:t.getNodes())||[]},t}(),xH=function(t){var e,n,r,i=t.facetCfg,o=t.customTreeItems,a=void 0===o?[]:o,s=t.level,l=t.parentNode,u=t.hierarchy,c=i.spreadsheet,f=i.collapsedRows,h=i.hierarchyCollapse;try{for(var d=nu(a),p=d.next();!p.done;p=d.next()){var v=p.value,g=v.key,y=v.title,m=v.collapsed,b=v.children,x=eu(v,["key","title","collapsed","children"]),w=(r={},r[Os]=g,r),_=bI(l.id,y),O=null!==m&&void 0!==m&&m,C=vv(f,_),S=null!==C&&void 0!==C?C:h||O,E=new sI({id:_,key:g,label:y,value:y,level:s,parent:l,field:g,isTotals:!1,isCollapsed:S,hierarchy:u,query:w,spreadsheet:c,extra:x});s>u.maxLevel&&(u.maxLevel=s),HS(b)&&(E.isLeaf=!0);var M=dI(i,l,E,u);HS(b)||S||!M||xH({facetCfg:i,parentNode:E,level:s+1,hierarchy:u,customTreeItems:b})}}catch(k){e={error:k}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}},wH=function(t,e,n){var r=t.getTotalsConfig(e);if(r.showGrandTotals){var i=r.reverseLayout?"unshift":"push";n[i](new uI(r.label,!1,!0))}},_H=(al+sl).length,OH=function(t){var e,n,r,i,o,a,s,l=t.parentNode,u=t.currentField,c=t.level,f=t.facetCfg,h=t.hierarchy,d=t.pivotMeta,p=f.spreadsheet,v=f.dataSet,g=f.collapsedRows,y=f.hierarchyCollapse,m=f.rowExpandDepth,b=l.query,x=l.id,w=(null===(i=p.dataCfg.fields.rows)||void 0===i?void 0:i.length)<=c,_=(null===(o=null===v||void 0===v?void 0:v.sortedDimensionValues)||void 0===o?void 0:o[u])||[],O=Mj(Array.from(d.keys())),C=Ej(O,_,(function(t){return al===x?t:bI(x,t).slice(_H)})),S=hI(C,f,l,u),E=p.store.get("drillItemsNum");w&&E>0&&(S=S.slice(0,E)),0===c&&wH(p,u,S);try{for(var M=nu(S),k=M.next();!k.done;k=M.next()){var T=k.value,A=T instanceof uI,L=A?null:d.get(T),P=void 0,R=b,I=!1,j=!1;if(A){var N=T;I=N.isGrandTotals,j=N.isSubTotals,P=VR(T.label),R=b}else P=T,R=tu(tu({},b),(r={},r[u]=P,r));var B=bI(x,P),D=null===g||void 0===g?void 0:g[B],F=ZS(m)?c>m:null,z=null!==(a=null!==D&&void 0!==D?D:F)&&void 0!==a?a:y,W=new sI({id:B,key:u,label:P,value:P,level:c,parent:l,field:u,isTotals:A,isGrandTotals:I,isSubTotals:j,isCollapsed:z,hierarchy:h,query:R,spreadsheet:p});c>h.maxLevel&&(h.maxLevel=c);var H=!(null===(s=null===L||void 0===L?void 0:L.children)||void 0===s?void 0:s.size);(H||A)&&(W.isLeaf=!0),H||(W.isTotals=!0);var $=dI(f,l,W,h);H||z||A||!$||OH({level:c+1,currentField:L.childField,pivotMeta:L.children,facetCfg:f,parentNode:W,hierarchy:h})}}catch(G){e={error:G}}finally{try{k&&!k.done&&(n=M.return)&&n.call(M)}finally{if(e)throw e.error}}},CH=function(t){var e,n,r=t.isValueInCols,i=t.moreThanOneValue,o=t.rootNode,a=t.facetCfg,s=t.hierarchy,l=t.fields,u=t.isRowHeader;u?(e=!r&&i,n=!r&&!i):(e=r&&i,n=r&&!i),mI({addTotalMeasureInTotal:e,addMeasureInTotalQuery:n,parentNode:o,currentField:l[0],fields:l,facetCfg:a,hierarchy:s})},SH=function(t){var e=t.facetCfg,n=t.rootNode,r=t.hierarchy,i=e.dataSet.fields.customTreeItems;xH({customTreeItems:i,facetCfg:e,level:0,parentNode:n,hierarchy:r})},EH=function(t){var e=t.facetCfg,n=t.rootNode,r=t.hierarchy,i=e.hierarchyType,o=e.rows,a=e.dataSet;"tree"===i?OH({level:0,currentField:o[0],pivotMeta:a.rowPivotMeta,facetCfg:e,parentNode:n,hierarchy:r}):SH(t)},MH=function(t){var e=t.spreadsheet;e.isHierarchyTreeType()?EH(t):CH(t)},kH=function(t){var e=t.isPivotMode,n=t.hierarchy,r=t.rootNode,i=t.facetCfg;e?CH(t):$I({parentNode:r,hierarchy:n,facetCfg:i})},TH=function(t){var e=t.isRowHeader,n=t.facetCfg,r=n.spreadsheet,i=n.rows,o=void 0===i?[]:i,a=n.columns,s=void 0===a?[]:a,l=r.dataCfg.fields.valueInCols,u=r.isPivotMode(),c=n.dataSet.moreThanOneValue(),f=sI.rootNode(),h=new lI,d={isValueInCols:l,isPivotMode:u,moreThanOneValue:c,rootNode:f,hierarchy:h,spreadsheet:r,facetCfg:n,fields:e?o:s,isRowHeader:e};e?MH(d):kH(d);var p=function(){return e&&r.isHierarchyTreeType()?h.getNodes():h.getLeaves()};return{hierarchy:h,leafNodes:p()}},AH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),Object.defineProperty(e.prototype,"rowCellTheme",{get:function(){return this.spreadsheet.theme.rowCell.cell},enumerable:!1,configurable:!0}),e.prototype.getContentHeight=function(){var t=this.layoutResult,e=t.rowsHierarchy,n=t.colsHierarchy;return e.height+n.height},e.prototype.doLayout=function(){var t=TH({isRowHeader:!0,facetCfg:this.cfg}),e=t.leafNodes,n=t.hierarchy,r=TH({isRowHeader:!1,facetCfg:this.cfg}),i=r.leafNodes,o=r.hierarchy;this.calculateNodesCoordinate(e,n,i,o);var a=this.cfg,s=a.dataSet,l=a.spreadsheet,u=function(t,n){var r,o,a,u=t||0,c=n||0,f=e[u],h=i[c];if(!f||!h)return null;var d,p=f.query,v=h.query,g=f.isTotals||f.isTotalMeasure||h.isTotals||h.isTotalMeasure,y=l.options.hierarchyType,m=null!==(o=vv(l,"facet.cfg.colCfg.hideMeasureColumn"))&&void 0!==o&&o,b=m&&"customTree"!==y?(r={},r[Os]=null===(a=s.fields.values)||void 0===a?void 0:a[0],r):{},x=tM({},p,v,b),w=s.getCellData({query:x,rowNode:f,isTotals:g}),_=null;return HS(w)?d=vv(x,[Os],""):(d=vv(w,[Os],""),_=vv(w,[_s],null),g&&(d=vv(x,[Os],""),_=vv(w,d,null))),{spreadsheet:l,x:h.x,y:f.y,width:h.width,height:f.height,data:w,rowIndex:u,colIndex:c,isTotals:g,valueField:d,fieldValue:_,rowQuery:p,colQuery:v,rowId:f.id,colId:h.id,id:_B(f.id,h.id)}},c={colNodes:o.getNodes(),colsHierarchy:o,rowNodes:n.getNodes(),rowsHierarchy:n,rowLeafNodes:e,colLeafNodes:i,getCellMeta:u,spreadsheet:l};return vI(this.cfg,c)},e.prototype.calculateNodesCoordinate=function(t,e,n,r){this.calculateRowNodesCoordinate(t,e,n),this.calculateColNodesCoordinate(n,r,t,e.width)},e.prototype.calculateColNodesCoordinate=function(t,e,n,r){var i,o,a,s,l=sI.blankNode(),u=e.getNodes();try{for(var c=nu(e.sampleNodesForAllLevels),f=c.next();!f.done;f=c.next()){var h=f.value;h.height=this.getColNodeHeight(h),e.height+=h.height}}catch(y){i={error:y}}finally{try{f&&!f.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}for(var d=0,p=function(i){var o=u[i];if(o.isLeaf&&(o.colIndex=d,d+=1,o.x=l.x+l.width,o.width=v.calculateColLeafNodesWidth(o,t,n,r),e.width+=o.width,l=o),0===o.level)o.y=0;else{var s=e.sampleNodesForAllLevels.find((function(t){return t.level===o.level-1}));o.y=null!==(a=(null===s||void 0===s?void 0:s.y)+(null===s||void 0===s?void 0:s.height))&&void 0!==a?a:0}o.height=o.isGrandTotals&&o.isLeaf?e.height:v.getColNodeHeight(o),pI(v.cfg,null,o)},v=this,g=0;g<u.length;g++)p(g);this.autoCalculateColNodeWidthAndX(t),HS(null===(s=this.spreadsheet.options.totals)||void 0===s?void 0:s.col)||(this.adjustTotalNodesCoordinate(e),this.adjustSubTotalNodesCoordinate(e))},e.prototype.autoCalculateColNodeWidthAndX=function(t){var e,n=null,r=t.slice(0);while(r.length){var i=r.shift(),o=i.parent;if(n!==o&&o){r.push(o);var a=null===(e=o.children)||void 0===e?void 0:e.find((function(t){return!t.hiddenChildNodeInfo})),s=null===a||void 0===a?void 0:a.x,l=FA(o.children,"width");o.x=s,o.width=l,n=o}}},e.prototype.calculateColLeafNodesWidth=function(t,e,n,r){var i,o,a,s,l,u=this.cfg,c=u.colCfg,f=u.dataSet,h=u.filterDisplayDataItem,d=this.getCellDraggedWidth(t);if(ZS(d))return d;var p=this.getCellCustomWidth(t,null===c||void 0===c?void 0:c.width);if(ZS(p))return p;if(this.spreadsheet.getLayoutWidthType()===Yl.Compact){for(var v=this.spreadsheet.theme.colCell,g=v.bolderText,y=v.cell,m=v.icon,b=this.spreadsheet.dataSet.getFieldFormatter(t.field),x=null!==(i=null===b||void 0===b?void 0:b(t.value))&&void 0!==i?i:t.label,w=this.getExpectedCellIconWidth(Ml.COL_CELL,this.spreadsheet.isValueInCols()&&this.spreadsheet.options.showDefaultHeaderActionIcon,m),_=this.spreadsheet.measureTextWidthRoughly(x)+w,O=void 0,C=0,S=0;S<dl;S++){var E=n[S];if(E){var M=f.getCellData({query:tu(tu({},t.query),E.query),rowNode:E,isTotals:t.isTotals||t.isTotalMeasure||E.isTotals||E.isTotalMeasure});if(M){var k=xB(M,h),T=null!==(a=null===(o=this.spreadsheet.dataSet.getFieldFormatter(M[Os]))||void 0===o?void 0:o(k))&&void 0!==a?a:k,A="".concat(T),L=this.spreadsheet.measureTextWidthRoughly(A);L>C&&(O=A,C=L)}}}var P=_>C,R=P?x:O,I=P?w:0;return YI.getInstance().logger("Max Label In Col:",t.field,R),this.spreadsheet.measureTextWidth(R,g)+(null===(s=y.padding)||void 0===s?void 0:s.left)+(null===(l=y.padding)||void 0===l?void 0:l.right)+I}return this.spreadsheet.isHierarchyTreeType()?this.getAdaptTreeColWidth(t,e,n):this.getAdaptGridColWidth(e,r)},e.prototype.getColNodeHeight=function(t){var e=this.cfg.colCfg,n=vv(e,["heightByField",t.key]);return null!==n&&void 0!==n?n:null===e||void 0===e?void 0:e.height},e.prototype.getExpectedCellIconWidth=function(t,e,n){var r,i=0;if(e)i=1;else{var o=sD(KO(this.spreadsheet.options.headerActionIcons,(function(t){return tu(tu({},t),{displayCondition:function(){return!0}})})),null,t);i=null!==(r=null===o||void 0===o?void 0:o.iconNames.length)&&void 0!==r?r:0}return i?i*(n.size+n.margin.left)+n.margin.right:0},e.prototype.calculateRowNodesCoordinate=function(t,e,n){var r,i,o,a,s,l,u,c,f,h,d=this.cfg,p=d.cellCfg,v=d.spreadsheet,g=v.isHierarchyTreeType(),y=vv(v,"options.style.rowCfg.heightByField",{}),m=null!==(o=e.sampleNodesForAllLevels)&&void 0!==o?o:[];if(g)e.width=this.getTreeRowHeaderWidth();else try{for(var b=nu(e.sampleNodesForAllLevels),x=b.next();!x.done;x=b.next()){var w=x.value;w.width=this.calculateGridRowNodesWidth(w,n),e.width+=w.width;var _=null!==(a=m[w.level-1])&&void 0!==a?a:{x:0,width:0};w.x=(null===_||void 0===_?void 0:_.x)+(null===_||void 0===_?void 0:_.width)}}catch(T){r={error:T}}finally{try{x&&!x.done&&(i=b.return)&&i.call(b)}finally{if(r)throw r.error}}for(var O=sI.blankNode(),C=e.getNodes(),S=0;S<C.length;S++){var E=C[S],M=g||!g&&E.isLeaf;if(M&&(null!==(s=E.rowIndex)&&void 0!==s||(E.rowIndex=S),null!==(l=E.colIndex)&&void 0!==l||(E.colIndex=S),E.y=O.y+O.height,E.height=(null!==(u=null===y||void 0===y?void 0:y[E.id])&&void 0!==u?u:null===p||void 0===p?void 0:p.height)+(null===(c=this.rowCellTheme.padding)||void 0===c?void 0:c.top)+(null===(f=this.rowCellTheme.padding)||void 0===f?void 0:f.bottom),O=E,e.height+=E.height),g||0===E.level)E.x=0;else{_=m[E.level-1];E.x=(null===_||void 0===_?void 0:_.x)+(null===_||void 0===_?void 0:_.width)}if(g)E.width=this.getTreeRowHeaderWidth();else{var k=m[E.level];E.width=null===k||void 0===k?void 0:k.width}pI(this.cfg,E,null)}g||(this.autoCalculateRowNodeHeightAndY(t),HS(null===(h=v.options.totals)||void 0===h?void 0:h.row)||(this.adjustTotalNodesCoordinate(e,!0),this.adjustSubTotalNodesCoordinate(e,!0)))},e.prototype.autoCalculateRowNodeHeightAndY=function(t){var e=null,n=t.slice(0);while(n.length){var r=n.shift(),i=r.parent;e!==i&&i&&(n.push(i),i.y=i.children[0].y,i.height=i.children.map((function(t){return t.height})).reduce((function(t,e){return t+e}),0),e=i)}},e.prototype.adjustTotalNodesCoordinate=function(t,e){var n,r,i,o=this.cfg.dataSet.moreThanOneValue(),a=t.maxLevel,s=FO(t.getNodes(0),(function(t){return t.isGrandTotals}));if(s instanceof sI){var l=s.children;if(e)s.width=t.width,J_(l,(function(e){var n=t.getNodes(a)[0];e.x=n.x,e.width=n.width}));else if(a>1||a<=1&&!o){var u=null!==(r=null===(n=null===l||void 0===l?void 0:l[0])||void 0===n?void 0:n.height)&&void 0!==r?r:0;s.height=t.height-u;var c=null===(i=FO(t.getNodes(a),(function(t){return!t.isTotalMeasure})))||void 0===i?void 0:i.y;J_(l,(function(t){t.y=c}))}}},e.prototype.adjustSubTotalNodesCoordinate=function(t,e){var n=t.getNodes().filter((function(t){return t.isSubTotals}));if(!HS(n)){var r=t.maxLevel;J_(n,(function(n){var i,o,a,s=n.children;if(e)n.width=QW(t.sampleNodesForAllLevels,n.level,"width"),J_(s,(function(e){e.x=t.getNodes(r)[0].x}));else{var l=QW(t.sampleNodesForAllLevels,n.level,"height"),u=null!==(o=null===(i=null===s||void 0===s?void 0:s[0])||void 0===i?void 0:i.height)&&void 0!==o?o:0;n.height=l-u,J_(s,(function(e){e.y=t.getNodes(r)[0].y}));var c=null===(a=FO(t.getNodes(r),(function(t){return!t.isTotalMeasure})))||void 0===a?void 0:a.y;J_(s,(function(t){t.y=c}))}}))}},e.prototype.calculateGridRowNodesWidth=function(t,e){var n=this.cfg,r=n.rowCfg,i=n.spreadsheet,o=vv(r,["widthByField",t.key]);if(ZS(o))return o;var a=this.getCellCustomWidth(t,null===r||void 0===r?void 0:r.width);return ZS(a)?a:i.getLayoutWidthType()!==Yl.Adaptive?this.getCompactGridRowWidth(t):this.getAdaptGridColWidth(e)},e.prototype.getAdaptTreeColWidth=function(t,e,n){var r=this.getCanvasHW().width,i=r-this.getSeriesNumberWidth(),o=Math.min(i/2,this.getTreeRowHeaderWidth()),a=Math.max(1,e.length),s=this.cfg.cellCfg;return Math.max(SN(s,this.getColLabelLength(t,n)),(i-o)/a)},e.prototype.getColLabelLength=function(t,e){var n,r=EN(null===t||void 0===t?void 0:t.value);if(Lu(r))return r.length;for(var i=1,o=0;o<dl;o++){var a=e[o];if(!a)return i;for(var s=this.cfg.dataSet.getCellData({query:tu(tu({},t.query),a.query),rowNode:a,isTotals:t.isTotals||t.isTotalMeasure||a.isTotals||a.isTotalMeasure}),l=ip(s),u=0;u<l.length;u++){var c=s[l[u]],f=tA(null===(n=null===c||void 0===c?void 0:c.values)||void 0===n?void 0:n[0]);f>i&&(i=f)}}return i},e.prototype.getAdaptGridColWidth=function(t,e){var n=this.cfg,r=n.rows,i=n.cellCfg,o=r.length,a=t.length,s=this.getCanvasHW().width,l=s-this.getSeriesNumberWidth(),u=Math.max(1,o+a);return e?Math.max(SN(i),(l-e)/a):Math.max(SN(i),l/u)},e.prototype.getTreeRowHeaderWidth=function(){var t,e,n,r,i=this.cfg,o=i.rows,a=i.dataSet,s=i.rowCfg,l=i.treeRowsWidth,u=null!==l&&void 0!==l?l:null===s||void 0===s?void 0:s.treeRowsWidth;if(u)return u;var c=this.getCellCustomWidth(null,null===s||void 0===s?void 0:s.width);if(c)return c;var f=o.map((function(t){return a.getFieldName(t)})).join("/"),h=this.spreadsheet.theme.cornerCell,d=h.bolderText,p=h.icon,v=this.spreadsheet.measureTextWidth(f,d)+2*p.size+(null===(t=p.margin)||void 0===t?void 0:t.left)+(null===(e=p.margin)||void 0===e?void 0:e.right)+(null===(n=this.rowCellTheme.padding)||void 0===n?void 0:n.left)+(null===(r=this.rowCellTheme.padding)||void 0===r?void 0:r.right);return Math.max(null!==u&&void 0!==u?u:Xl,v)},e.prototype.getCompactGridRowWidth=function(t){var e,n=this,r=this.cfg,i=r.dataSet,o=r.spreadsheet,a=o.theme.rowCell,s=a.bolderText,l=a.icon,u=a.cell,c=o.theme.cornerCell,f=c.bolderText,h=c.icon,d=c.cell,p=t.field,v=t.isLeaf,g=this.getExpectedCellIconWidth(Ml.ROW_CELL,!o.isValueInCols()&&v&&o.options.showDefaultHeaderActionIcon,l),y=null===(e=i.getDimensionValues(p))||void 0===e?void 0:e.slice(0,dl).map((function(t){var e,r;return null!==(r=null===(e=n.spreadsheet.dataSet.getFieldFormatter(p))||void 0===e?void 0:e(t))&&void 0!==r?r:t})),m=YE(y,(function(t){return"".concat(t).length})),b=o.measureTextWidth(m,s)+g+u.padding.left+u.padding.right,x=i.getFieldName(p),w=this.getExpectedCellIconWidth(Ml.CORNER_CELL,!1,h),_=o.measureTextWidth(x,f)+w+d.padding.left+d.padding.right;return YI.getInstance().logger("Max Label In Row:",p,b>_?m:x),Math.max(b,_)},e.prototype.getViewCellHeights=function(t){var e=t.rowLeafNodes,n=ST(e,(function(t,e){return t.push(z_(t)+e.height),t}),[0]);return{getTotalHeight:function(){return z_(n)},getCellOffsetY:function(t){return n[t]},getTotalLength:function(){return n.length-1},getIndexRange:function(t,e){return JW(n,t,e)}}},e}(bH),LH=function(t){function e(e){var n,r=this;r=t.call(this,e)||this,r.getScrollGroupClipBBox=function(){var t,e=r.headerConfig,n=e.width,i=e.height,o=e.scrollX,a=e.spreadsheet,s=a.options;if(!s.frozenColCount&&!s.frozenTrailingColCount)return{x:o,y:0,width:n,height:i};for(var l=null===(t=a.facet)||void 0===t?void 0:t.layoutResult.colLeafNodes,u=Bj(a.options,l.length),c=u.frozenColCount,f=u.frozenTrailingColCount,h=0,d=0,p=0;p<c;p++)h+=l[p].width;for(p=0;p<f;p++)d+=l[l.length-1-p].width;var v=n-h-d;return{x:o+h,y:0,width:v,height:i}};var i=null===(n=r.headerConfig.spreadsheet)||void 0===n?void 0:n.options,o=i.frozenColCount,a=i.frozenTrailingColCount;return o&&(r.frozenColGroup=r.addGroup({name:el,zIndex:As})),a&&(r.frozenTrailingColGroup=r.addGroup({name:nl,zIndex:As})),r}return Jl(e,t),e.prototype.isFrozenCell=function(t){var e=this.headerConfig.spreadsheet,n=null===e||void 0===e?void 0:e.options,r=n.frozenColCount,i=n.frozenTrailingColCount,o=t.colIndex,a=null===e||void 0===e?void 0:e.facet.layoutResult.colLeafNodes;return _I(o,r)||OI(o,i,a.length)},e.prototype.clear=function(){var e,n,r=this.headerConfig.spreadsheet;t.prototype.clear.call(this),null===(e=this.frozenTrailingColGroup)||void 0===e||e.clear(),null===(n=this.frozenColGroup)||void 0===n||n.clear();var i=null===r||void 0===r?void 0:r.foregroundGroup.findById(Js);null===i||void 0===i||i.clear()},e.prototype.getCellInstance=function(t,e,n){return t.field===Es?new sF(t,e,n):new aF(t,e,n)},e.prototype.getCellGroup=function(t){var e,n,r=this.headerConfig.spreadsheet,i=null===r||void 0===r?void 0:r.options,o=i.frozenColCount,a=i.frozenTrailingColCount,s=null===(e=null===r||void 0===r?void 0:r.facet)||void 0===e?void 0:e.layoutResult.colNodes.filter((function(t){return BI(t)})),l=jI(s,o,a),u=l.colCount,c=l.trailingColCount;return _I(WI(t).colIndex,u)?this.frozenColGroup:OI(WI(t).colIndex,c,null===(n=null===r||void 0===r?void 0:r.facet)||void 0===n?void 0:n.layoutResult.colLeafNodes.length)?this.frozenTrailingColGroup:this.scrollGroup},e.prototype.isColCellInRect=function(e){var n,r,i=this.headerConfig.spreadsheet,o=null===i||void 0===i?void 0:i.options,a=o.frozenColCount,s=o.frozenTrailingColCount,l=null===(n=null===i||void 0===i?void 0:i.facet)||void 0===n?void 0:n.layoutResult.colLeafNodes.length,u=null===(r=null===i||void 0===i?void 0:i.facet)||void 0===r?void 0:r.layoutResult.colNodes.filter((function(t){return BI(t)})),c=jI(u,a,s),f=c.colCount,h=c.trailingColCount;return!(!_I(WI(e).colIndex,f)&&!OI(WI(e).colIndex,h,l))||t.prototype.isColCellInRect.call(this,e)},e.prototype.clip=function(){this.scrollGroup.setClip({type:"rect",attrs:this.getScrollGroupClipBBox()})},e}(pH),PH=function(t){function e(e){var n,r=t.call(this,e)||this;r.frozenGroupInfo=(n={},n[gl.FROZEN_COL]={width:0},n[gl.FROZEN_ROW]={height:0},n[gl.FROZEN_TRAILING_ROW]={height:0},n[gl.FROZEN_TRAILING_COL]={width:0},n),r.panelScrollGroupIndexes=[],r.onSortHandler=function(t){var e=r.spreadsheet,n=t;Array.isArray(t)||(n=[t]);var i=e.dataCfg.sortParams||[];n=n.map((function(t){var e,n,r=tu(tu({},t),{sortFieldId:null!==(e=t.sortKey)&&void 0!==e?e:t.sortFieldId}),o=null!==(n=i.find((function(t){return t.sortFieldId===r.sortFieldId})))&&void 0!==n?n:{};return tu(tu({},o),r)}));var o=i.filter((function(t){var e=n.find((function(e){return e.sortFieldId===t.sortFieldId}));return!e}));YT(e.dataCfg,"sortParams",iu(iu([],ru(o),!1),ru(n),!1)),e.setDataCfg(e.dataCfg),e.render(!0),e.emit(bs.RANGE_SORTED,e.dataSet.getDisplayDataSet())},r.onFilterHandler=function(t){var e=r.spreadsheet,n=!t.filteredValues||0===t.filteredValues.length,i=e.dataCfg.filterParams||[],o=i.findIndex((function(e){return e.filterKey===t.filterKey}));-1!==o?n?i.splice(o):i[o]=t:i.push(t),YT(e.dataCfg,"filterParams",i),e.render(!0),e.emit(bs.RANGE_FILTERED,e.dataSet.getDisplayDataSet())},r.initFrozenGroupPosition=function(){var t=r.getScrollOffset(),e=t.scrollY,n=t.scrollX,i=r.getPaginationScrollY();kI(r.spreadsheet.frozenRowGroup,r.cornerBBox.width-n,r.cornerBBox.height-i),kI(r.spreadsheet.frozenColGroup,r.cornerBBox.width,r.cornerBBox.height-e-i),kI(r.spreadsheet.frozenTrailingColGroup,r.cornerBBox.width,r.cornerBBox.height-e-i),kI(r.spreadsheet.frozenTopGroup,r.cornerBBox.width,r.cornerBBox.height-i)},r.getTotalHeightForRange=function(t,e){if(t<0||e<0)return 0;if(r.rowOffsets)return r.rowOffsets[e+1]-r.rowOffsets[t];for(var n=0,i=t;i<e+1;i++){var o=r.getDefaultCellHeight();n+=o}return n},r.getShadowFill=function(t){var e,n,i=vv(r.cfg,"spreadsheet.theme.splitLine");return"l (".concat(t,") 0:").concat(null===(e=i.shadowColors)||void 0===e?void 0:e.left," 1:").concat(null===(n=i.shadowColors)||void 0===n?void 0:n.right)},r.renderFrozenGroupSplitLine=function(t,e){var n,i=r.panelBBox,o=i.width,a=i.height,s=i.viewportWidth,l=i.viewportHeight,u=r.cornerBBox.height,c=r.layoutResult.colNodes.filter((function(t){return BI(t)})),f=r.getCellRange(),h=f.end-f.start,d=Bj(r.spreadsheet.options,c.length,h),p=d.frozenRowCount,v=d.frozenColCount,g=d.frozenTrailingColCount,y=d.frozenTrailingRowCount,m=Math.floor(e-r.getPaginationScrollY()),b=Math.max(0,z_(r.viewCellWidths)-s),x=Math.max(0,r.viewCellHeights.getCellOffsetY(f.end+1)-r.viewCellHeights.getCellOffsetY(f.start)-l);null===(n=r.foregroundGroup.findById(Xs))||void 0===n||n.remove();var w=vv(r.cfg,"spreadsheet.theme.splitLine"),_=r.foregroundGroup.addGroup({id:Xs,zIndex:As}),O={lineWidth:null===w||void 0===w?void 0:w.verticalBorderWidth,stroke:null===w||void 0===w?void 0:w.verticalBorderColor,opacity:null===w||void 0===w?void 0:w.verticalBorderColorOpacity},C={lineWidth:null===w||void 0===w?void 0:w.horizontalBorderWidth,stroke:null===w||void 0===w?void 0:w.horizontalBorderColor,opacity:null===w||void 0===w?void 0:w.horizontalBorderColorOpacity};if(v>0){var S=c.reduce((function(t,e,n){return n<v?t+e.width:t}),0),E=y>0?a:l;$j(_,{x1:S,x2:S,y1:u,y2:u+E},tu({},O)),w.showShadow&&t>0&&_.addShape("rect",{attrs:{x:S,y:u,width:w.shadowWidth,height:E,fill:r.getShadowFill(0)}})}if(p>0){var M=u+r.getTotalHeightForRange(f.start,f.start+p-1),k=g>0?o:s;$j(_,{x1:0,x2:k,y1:M,y2:M},tu({},C)),w.showShadow&&m>0&&_.addShape("rect",{attrs:{x:0,y:M,width:k,height:w.shadowWidth,fill:r.getShadowFill(90)}})}if(g>0){S=c[c.length-g].x,E=y?a:l;$j(_,{x1:S,x2:S,y1:u,y2:u+E},tu({},O)),w.showShadow&&Math.floor(t)<Math.floor(b)&&_.addShape("rect",{attrs:{x:S-w.shadowWidth,y:u,width:w.shadowWidth,height:E,fill:r.getShadowFill(180)}})}if(y>0){M=r.panelBBox.maxY-r.getTotalHeightForRange(f.end-y+1,f.end),k=g>0?o:s;$j(_,{x1:0,x2:k,y1:M,y2:M},tu({},C)),w.showShadow&&m<Math.floor(x)&&_.addShape("rect",{attrs:{x:0,y:M-w.shadowWidth,width:k,height:w.shadowWidth,fill:r.getShadowFill(270)}})}r.foregroundGroup.sort()},r.renderFrozenPanelCornerGroup=function(){var t=r.layoutResult.colNodes.filter((function(t){return BI(t)})),e=r.getCellRange(),n=Bj(r.spreadsheet.options,t.length,e.end-e.start+1),i=n.frozenRowCount,o=n.frozenColCount,a=n.frozenTrailingRowCount,s=n.frozenTrailingColCount,l=jI(t,o,s),u=l.colCount,c=l.trailingColCount,f=PI({frozenRowCount:i,frozenColCount:u,frozenTrailingRowCount:a,frozenTrailingColCount:c},r.layoutResult.colLeafNodes.length,e);Object.keys(f).forEach((function(t){var e=f[t],n=r.spreadsheet[kl[t]];n&&e.forEach((function(t){r.addFrozenCell(t.x,t.y,n)}))}))},r.addFrozenCell=function(t,e,n){var i=r.layoutResult.getCellMeta(e,t);if(i.isFrozenCorner=!0,i){var o=r.cfg.dataCell(i);n.add(o)}},r.getRealFrozenColumns=function(t,e){var n,i=t,o=e;if(t||e){var a=r.layoutResult.colsHierarchy.getNodes();a=a.filter((function(t){return BI(t)})),n=jI(a,t,e),i=n.colCount,o=n.trailingColCount}return{colCount:i,trailingColCount:o}},r.addCell=function(t){var e=r.spreadsheet.options,n=e.frozenRowCount,i=e.frozenColCount,o=e.frozenTrailingRowCount,a=e.frozenTrailingColCount,s=r.layoutResult.colsHierarchy.getLeaves().length,l=r.getCellRange(),u=r.getRealFrozenColumns(i,a),c=u.colCount,f=u.trailingColCount,h=LI(t.getMeta(),{frozenRowCount:n,frozenColCount:c,frozenTrailingRowCount:o,frozenTrailingColCount:f},s,l),d=kl[h];d&&r.spreadsheet[d].add(t)},r.getFrozenOptions=function(){var t=r.layoutResult.colLeafNodes.length,e=r.getCellRange();return Bj(r.cfg,t,e.end-e.start+1)};var i=r.spreadsheet;return i.on(bs.RANGE_SORT,r.onSortHandler),i.on(bs.RANGE_FILTER,r.onFilterHandler),r}return Jl(e,t),e.prototype.getContentHeight=function(){var t=this.getViewCellHeights().getTotalHeight,e=this.layoutResult.colsHierarchy;return t()+e.height},Object.defineProperty(e.prototype,"dataCellTheme",{get:function(){return this.spreadsheet.theme.dataCell.cell},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var e=this.spreadsheet;e.off(bs.RANGE_SORT,this.onSortHandler),e.off(bs.RANGE_FILTER,this.onFilterHandler),t.prototype.destroy.call(this)},e.prototype.calculateCornerBBox=function(){var t=this.layoutResult.colsHierarchy,e=Math.floor(t.height);this.cornerBBox=new fH(this),this.cornerBBox.height=e,this.cornerBBox.maxY=e},e.prototype.doLayout=function(){var t=this,e=this.cfg,n=e.dataSet,r=e.spreadsheet,i=new lI,o=TH({isRowHeader:!1,facetCfg:this.cfg}),a=o.leafNodes,s=o.hierarchy;this.calculateColNodesCoordinate(a,s);var l=function(e,i){var o,s,l=t.cfg.showSeriesNumber,u=a[i],c=t.getCellHeight(e),f=t.getCellRange(),h=Bj(t.cfg,a.length,f.end-f.start+1).frozenTrailingRowCount,d=u.x,p=t.viewCellHeights.getCellOffsetY(e);return SI(e,f.end,h)&&(p=t.panelBBox.maxY-t.getTotalHeightForRange(e,f.end)),s=l&&u.field===Es?e+1:n.getCellData({query:{col:u.field,rowIndex:e}}),{spreadsheet:r,x:d,y:p,width:u.width,height:c,data:(o={},o[u.field]=s,o),rowIndex:e,colIndex:i,isTotals:!1,colId:u.id,rowId:String(e),valueField:u.field,fieldValue:s,id:_B(String(e),u.id)}},u={colNodes:s.getNodes(),colsHierarchy:s,rowNodes:i.getNodes(),rowsHierarchy:i,rowLeafNodes:i.getLeaves(),colLeafNodes:a,getCellMeta:l,spreadsheet:r};return u},e.prototype.getAdaptiveColWidth=function(t){var e=this.cfg.cellCfg,n=this.cfg.showSeriesNumber;if(this.spreadsheet.getLayoutWidthType()!==Yl.Compact){var r=this.getSeriesNumberWidth(),i=t.length-(n?1:0),o=this.getCanvasHW().width-r;return Math.max(null===e||void 0===e?void 0:e.width,o/Math.max(1,i))}return null===e||void 0===e?void 0:e.width},e.prototype.getColNodeHeight=function(t,e){var n=this.cfg.colCfg,r=YC(null===n||void 0===n?void 0:n.heightByField)[0],i=r||(null===n||void 0===n?void 0:n.height);if(!e)return i;if(t.children&&t.children.length)return i;while(t.parent)e-=BI(t)?0:i,t=t.parent;return e},e.prototype.calculateColNodesCoordinate=function(t,e){var n,r,i,o,a,s,l=sI.blankNode(),u=e.getNodes();try{for(var c=nu(e.sampleNodesForAllLevels),f=c.next();!f.done;f=c.next()){var h=f.value;h.height=this.getColNodeHeight(h),e.height+=h.height}}catch(_){n={error:_}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}for(var d=this.getAdaptiveColWidth(t),p=0,v=0;v<u.length;v++){var g=u[v];g.isLeaf&&(g.colIndex=p,p+=1,g.x=l.x+l.width,g.width=this.calculateColLeafNodesWidth(g,d),pI(this.cfg,null,g),e.width+=g.width,l=g),0===g.level?g.y=0:g.y=null!==(a=(null===(i=g.parent)||void 0===i?void 0:i.y)+(null===(o=g.parent)||void 0===o?void 0:o.height))&&void 0!==a?a:0,g.height=this.getColNodeHeight(g,e.height)}var y=u.filter((function(t){return BI(t)})),m=Bj(null===(s=this.spreadsheet)||void 0===s?void 0:s.options,y.length).frozenTrailingColCount;l=sI.blankNode();var b=this.getCanvasHW().width;if(m>0){var x=jI(y,0,m).trailingColCount,w=u.filter((function(t){return t.isLeaf}));for(v=1;v<=x;v++){g=w[w.length-v];g.x=1===v?b-g.width:l.x-g.width,l=g}}this.autoCalculateColNodeWidthAndX(t)},e.prototype.autoCalculateColNodeWidthAndX=function(t){var e=null,n=t.slice(0);while(n.length){var r=n.shift(),i=r.parent;e!==i&&i&&(n.push(i),i.x=i.children[0].x,i.width=i.children.map((function(t){return t.width})).reduce((function(t,e){return t+e}),0),e=i)}},e.prototype.calculateColLeafNodesWidth=function(t,e){var n=this.cfg,r=n.colCfg,i=n.dataSet,o=n.spreadsheet,a=this.spreadsheet.getLayoutWidthType(),s=this.getCellDraggedWidth(t);if(ZS(s))return s;var l,u=this.getCellCustomWidth(t,null===r||void 0===r?void 0:r.width);if(ZS(u))return u;if(a===Yl.Compact){var c=i.getDisplayDataSet(),f=i.getFieldFormatter(t.field),h=YE(null===c||void 0===c?void 0:c.slice(0,50).map((function(e){var n;return"".concat(null!==(n=null===f||void 0===f?void 0:f(e[t.field]))&&void 0!==n?n:e[t.field])})),(function(t){return o.measureTextWidthRoughly(t)}));YI.getInstance().logger("Max Label In Col:",t.field,h);var d=o.theme.colCell.bolderText,p=o.theme.dataCell,v=p.text,g=p.cell,y=1,m=o.measureTextWidth(h,v)+g.padding.left+g.padding.right+y,b=o.measureTextWidth(t.label,d)+oF(this.spreadsheet,t,o.theme.colCell);l=Math.max(b,m)}else l=e;return t.field===Es&&(l=this.getSeriesNumberWidth()),l},e.prototype.getDefaultCellHeight=function(){var t=this.cfg.cellCfg;return null===t||void 0===t?void 0:t.height},e.prototype.getCellHeight=function(t){if(this.rowOffsets){var e=vv(this.spreadsheet,"options.style.rowCfg.heightByField",{}),n=null===e||void 0===e?void 0:e[String(t)];if(ZS(n))return n}return this.getDefaultCellHeight()},e.prototype.initRowOffsets=function(){var t=this,e=this.cfg.dataSet,n=vv(this.spreadsheet,"options.style.rowCfg.heightByField",{});if(Object.keys(n).length){var r=e.getDisplayDataSet();this.rowOffsets=[0];var i=0;r.forEach((function(e,r){var o,a=null!==(o=null===n||void 0===n?void 0:n[String(r)])&&void 0!==o?o:t.getDefaultCellHeight(),s=i+a;t.rowOffsets.push(s),i=s}))}},e.prototype.getViewCellHeights=function(){var t=this,e=this.cfg.dataSet;this.initRowOffsets();var n=this.getDefaultCellHeight();return{getTotalHeight:function(){return t.rowOffsets?z_(t.rowOffsets):n*e.getDisplayDataSet().length},getCellOffsetY:function(e){if(e<=0)return 0;if(t.rowOffsets)return t.rowOffsets[e];for(var r=0,i=0;i<e;i++)r+=n;return r},getTotalLength:function(){return e.getDisplayDataSet().length},getIndexRange:function(e,r){if(t.rowOffsets)return JW(t.rowOffsets,e,r);var i=Math.floor(e/n),o=r%n===0?r/n-1:Math.floor(r/n);return{start:Math.max(0,i),end:Math.max(0,o)}}}},e.prototype.init=function(){t.prototype.init.call(this);var e=this.panelBBox,n=e.width,r=e.height;this.spreadsheet.panelGroup.setClip({type:"rect",attrs:{x:0,y:this.cornerBBox.height,width:n,height:r}})},e.prototype.getColHeader=function(){if(!this.columnHeader){var t=this.panelBBox,e=t.x,n=t.width,r=t.viewportHeight,i=t.viewportWidth;return new LH({width:n,height:this.cornerBBox.height,viewportWidth:i,viewportHeight:r,cornerWidth:this.cornerBBox.width,position:{x:e,y:0},data:this.layoutResult.colNodes,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),sortParam:this.cfg.spreadsheet.store.get("sortParam"),spreadsheet:this.spreadsheet})}return this.columnHeader},e.prototype.updateRowResizeArea=function(){var t=this.spreadsheet,e=t.foregroundGroup,n=t.options,r=vv(n,"interaction.resize"),i=LS(r)?r:null===r||void 0===r?void 0:r.rowCellVertical;if(i){var o=e.findById(Ys),a=e.findById(qs);o&&o.set("children",[]),a&&a.set("children",[]);var s=nH(this.panelGroup.getChildren(),lF).filter((function(t){return t.shouldDrawResizeArea()}));s.forEach((function(t){t.drawResizeArea()}))}},e.prototype.render=function(){this.calculateFrozenGroupInfo(),this.renderFrozenPanelCornerGroup(),t.prototype.render.call(this),this.initFrozenGroupPosition()},e.prototype.calculateFrozenGroupInfo=function(){var t=this.getFrozenOptions(),e=t.frozenColCount,n=t.frozenRowCount,r=t.frozenTrailingColCount,i=t.frozenTrailingRowCount,o=this.layoutResult.colNodes.filter((function(t){return BI(t)})),a=this.viewCellHeights,s=this.getCellRange(),l=this.frozenGroupInfo,u=l.frozenCol,c=l.frozenTrailingCol,f=l.frozenRow,h=l.frozenTrailingRow;e>0&&(u.width=o[e-1].x+o[e-1].width-0,u.range=[0,e-1]),n>0&&(f.height=a.getCellOffsetY(s.start+n)-a.getCellOffsetY(s.start),f.range=[s.start,s.start+n-1]),r>0&&(c.width=o[o.length-1].x-o[o.length-r].x+o[o.length-1].width,c.range=[o.length-r,o.length-1]),i>0&&(h.height=a.getCellOffsetY(s.end+1)-a.getCellOffsetY(s.end+1-i),h.range=[s.end-i+1,s.end])},e.prototype.getRowHeader=function(){return null},e.prototype.getSeriesNumberHeader=function(){return null},e.prototype.translateRelatedGroups=function(e,n,r){var i=this,o=this.spreadsheet,a=o.frozenColGroup,s=o.frozenTrailingColGroup,l=o.frozenRowGroup,u=o.frozenTrailingRowGroup;[l,u].forEach((function(t){TI(t,i.cornerBBox.width-e)})),[a,s].forEach((function(t){AI(t,i.cornerBBox.height-n)})),t.prototype.translateRelatedGroups.call(this,e,n,r),this.updateRowResizeArea(),this.renderFrozenGroupSplitLine(e,n)},e.prototype.calculateXYIndexes=function(t,e){var n=this.layoutResult.colLeafNodes.length,r=this.getCellRange(),i=this.panelBBox,o=i.viewportHeight,a=i.viewportWidth,s=this.getFrozenOptions(),l=s.frozenColCount,u=s.frozenRowCount,c=s.frozenTrailingColCount,f=s.frozenTrailingRowCount,h={width:a,height:o,x:0,y:0};if(c>0||l>0){var d=this.frozenGroupInfo,p=d.frozenTrailingCol,v=d.frozenCol;h.width-=p.width+v.width,h.x+=v.width}if(f>0||u>0){var g=this.frozenGroupInfo,y=g.frozenRow,m=g.frozenTrailingRow;h.height<y.height+m.height?(h.height=0,h.y=0):(h.height-=y.height+m.height,h.y+=y.height)}var b=EI(t,e,this.viewCellWidths,this.viewCellHeights,h,this.getRealScrollX(this.cornerBBox.width));this.panelScrollGroupIndexes=b;var x=this.getRealFrozenColumns(l,c),w=x.colCount,_=x.trailingColCount;return RI(b,{frozenColCount:w,frozenRowCount:u,frozenTrailingColCount:_,frozenTrailingRowCount:f},n,r)},e.prototype.clip=function(t,e){var n,r,i=this.layoutResult.colLeafNodes,o=this.getPaginationScrollY(),a=this.spreadsheet,s=a.frozenRowGroup,l=a.frozenColGroup,u=a.frozenTrailingColGroup,c=a.frozenTrailingRowGroup,f=a.panelScrollGroup,h=l.getBBox().width,d=s.getBBox().height,p=u.getBBox(),v=c.getBBox().height,g=this.panelBBox.width-h-u.getBBox().width,y=this.panelBBox.height-d-v;f.setClip({type:"rect",attrs:{x:t+h,y:e+d,width:g,height:y}}),s.setClip({type:"rect",attrs:{x:t+h,y:o,width:g,height:d}}),c.setClip({type:"rect",attrs:{x:t+h,y:c.getBBox().minY,width:g,height:v}});var m={y:e+d,height:y};l.setClip({type:"rect",attrs:tu(tu({},m),{x:0,width:h})}),u.setClip({type:"rect",attrs:tu(tu({},m),{x:p.minX,width:p.width})});var b=this.spreadsheet.foregroundGroup.findById(Ys);b&&b.setClip({type:"rect",attrs:{x:0,y:d+this.cornerBBox.height,width:null!==(r=null===(n=null===i||void 0===i?void 0:i[0])||void 0===n?void 0:n.width)&&void 0!==r?r:0,height:y}})},e.prototype.updatePanelScrollGroup=function(){var e=this;t.prototype.updatePanelScrollGroup.call(this),[gl.FROZEN_COL,gl.FROZEN_ROW,gl.FROZEN_TRAILING_COL,gl.FROZEN_TRAILING_ROW].forEach((function(t){if(e.frozenGroupInfo[t].range){var n=[],r=[];if(t.toLowerCase().includes("row")){var i=ru(e.frozenGroupInfo[t].range,2),o=i[0],a=i[1];if(n=e.gridInfo.cols,r=iH(o,a,e.viewCellHeights),t===gl.FROZEN_TRAILING_ROW){var s=e.spreadsheet.frozenTrailingRowGroup.getBBox().minY;r=oH(o,a,Math.ceil(s),e.viewCellHeights)}}else{var l=ru(e.frozenGroupInfo[t].range,2),u=l[0],c=l[1],f=e.layoutResult.colNodes.filter((function(t){return BI(t)}));n=rH(u,c,f),r=e.gridInfo.rows}e.spreadsheet["".concat(t,"Group")].updateGrid({cols:n,rows:r},"".concat(t,"Group"))}}))},e}(bH),RH=function(t){function e(e){var n=t.call(this,e)||this;return n.gridInfo={cols:[],rows:[]},n.updateGrid=function(t,e){void 0===e&&(e=rl);var r=n.getBBox(),i=n.s2,o=i.theme,a=i.isTableMode,s=o.dataCell.cell,l=a()&&(e===rl||e===Hs);n.gridGroup&&n.findById(e)||(n.gridGroup=n.addGroup({id:e})),n.gridGroup.clear(),n.gridInfo=t,l&&n.gridInfo.cols.unshift(0);var u=s.verticalBorderWidth,c=s.verticalBorderWidth/2;n.gridInfo.cols.forEach((function(t){$j(n.gridGroup,{x1:t,x2:t,y1:Math.ceil(r.minY+c),y2:Math.floor(r.maxY-c)},{stroke:s.verticalBorderColor,strokeOpacity:s.verticalBorderColorOpacity,lineWidth:u,lineCap:yl})}));var f=s.horizontalBorderWidth,h=s.horizontalBorderWidth/2;n.gridInfo.rows.forEach((function(t){$j(n.gridGroup,{x1:Math.ceil(r.minX+h),x2:Math.floor(r.maxX-h),y1:t,y2:t},{stroke:s.horizontalBorderColor,strokeOpacity:s.horizontalBorderColorOpacity,lineWidth:f,lineCap:yl})})),n.gridGroup.toFront()},n.s2=e.s2,n}return Jl(e,t),e}(Sa),IH=function(t){function e(e){var n=t.call(this,e)||this;return n.initMergedCellsGroup(),n}return Jl(e,t),e.prototype.initMergedCellsGroup=function(){this.mergedCellsGroup&&this.findById(zs)||(this.mergedCellsGroup=this.addGroup({id:zs}))},e.prototype.updateMergedCells=function(){this.initMergedCellsGroup(),VB(this.s2,this.mergedCellsGroup),this.mergedCellsGroup.toFront()},e.prototype.addMergeCell=function(t){var e;null===(e=this.mergedCellsGroup)||void 0===e||e.add(t)},e.prototype.update=function(t){this.updateGrid(t),this.updateMergedCells()},e}(RH),jH=function(){function t(t){var e=this;this.isLinkFieldText=function(t){var n=e.getCellAppendInfo(t);return null===n||void 0===n?void 0:n.isLinkFieldText},this.spreadsheet=t,this.bindEvents()}return t.prototype.getCellAppendInfo=function(t){var e,n;return(null===(e=null===t||void 0===t?void 0:t.attr)||void 0===e?void 0:e.call(t,"appendInfo"))||(null===(n=null===t||void 0===t?void 0:t.attrs)||void 0===n?void 0:n.appendInfo)||{}},t.prototype.reset=function(){},t}(),NH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.bindEvents=function(){this.bindDataCellClick()},e.prototype.bindDataCellClick=function(){var t=this;this.spreadsheet.on(bs.DATA_CELL_CLICK,(function(e){var n;e.stopPropagation();var r=t.spreadsheet.interaction;if(r.clearHoverTimer(),!r.hasIntercepts([Pl.CLICK]))if(t.isLinkFieldText(e.target))t.emitLinkFieldClickEvent(e);else{var i=t.spreadsheet.getCell(e.target),o=i.getMeta();if(o)if(r.addIntercepts([Pl.HOVER]),r.isSelectedCell(i))1===(null===(n=e.originalEvent)||void 0===n?void 0:n.detail)&&r.reset();else{r.changeState({cells:[hF(i)],stateName:El.SELECTED,onUpdateCells:mF}),t.spreadsheet.emit(bs.GLOBAL_SELECTED,[i]),t.showTooltip(e,o);var a=o.rowId,s=o.colId,l=o.spreadsheet,u=r.getSelectedCellHighlight(),c=u.colHeader,f=u.rowHeader;if(c&&yB(s,r.getAllColHeaderCells(),El.SELECTED),f&&a){var h=vF(o,l);J_(h,(function(t){t.updateByState(El.SELECTED)}))}}}}))},e.prototype.getTooltipOperator=function(t,e){var n=this,r=QR(),i=this.spreadsheet.getCell(t.target),o=WW(this.spreadsheet,t).operation,a=o.trend&&tu(tu({},r),{onClick:function(){n.spreadsheet.emit(bs.DATA_CELL_TREND_ICON_CLICK,tu(tu({},e),{record:n.spreadsheet.isTableMode()?n.spreadsheet.dataSet.getCellData({query:{rowIndex:e.rowIndex}}):void 0})),n.spreadsheet.hideTooltip()}});return HW(o,{defaultMenus:[a],cell:i})},e.prototype.showTooltip=function(t,e){var n=e.data,r=e.isTotals,i=void 0!==r&&r,o=e.value,a=e.fieldValue,s=e.field,l=e.valueField,u=n,c=this.spreadsheet.isTableMode(),f=c?tu(tu({},u),{value:o||a,valueField:s||l}):u,h=[f||tu(tu({},e.rowQuery),e.colQuery)],d=this.getTooltipOperator(t,e);this.spreadsheet.showTooltipWithInfo(t,h,{isTotals:i,operator:d,enterable:!0,hideSummary:!0,showSingleTips:c})},e.prototype.emitLinkFieldClickEvent=function(t){var e=this.getCellAppendInfo(t.target).cellData,n=e.valueField,r=e.data;this.spreadsheet.emit(bs.GLOBAL_LINK_FIELD_JUMP,{key:n,cellData:e,record:Object.assign({rowIndex:e.rowIndex},r)})},e}(jH),BH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.bindEvents=function(){this.bindDataCellClick()},e.prototype.bindDataCellClick=function(){var t=this;this.spreadsheet.on(bs.MERGED_CELLS_CLICK,(function(e){e.stopPropagation();var n=t.spreadsheet.interaction;n.hasIntercepts([Pl.CLICK])||n.addIntercepts([Pl.HOVER])}))},e}(jH),DH=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMultiSelection=!1,e.handleRowColClick=function(t){if(t.stopPropagation(),!e.isLinkFieldText(t.target)){var n=e.spreadsheet,r=n.interaction,i=n.options,o=e.spreadsheet.getCell(t.target),a=i.interaction.multiSelection,s=!(!a||!e.isMultiSelection),l=r.selectHeaderCell({cell:o,isMultiSelection:s});l&&e.showTooltip(t)}},e.getHideColumnField=function(t){return e.spreadsheet.isTableMode()?t.field:t.id},e}return Jl(e,t),e.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindKeyboardUp(),this.bindColCellClick(),this.bindRowCellClick(),this.bindTableColExpand(),this.bindMouseMove()},e.prototype.reset=function(){this.isMultiSelection=!1,this.spreadsheet.interaction.removeIntercepts([Pl.CLICK])},e.prototype.bindKeyboardDown=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_KEYBOARD_DOWN,(function(e){cF(e)&&(t.isMultiSelection=!0)}))},e.prototype.bindKeyboardUp=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_KEYBOARD_UP,(function(e){cF(e)&&t.reset()}))},e.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_MOUSE_MOVE,(function(e){t.isMultiSelection&&!fF(e)&&t.reset()}))},e.prototype.bindRowCellClick=function(){var t=this;this.spreadsheet.on(bs.ROW_CELL_CLICK,(function(e){t.handleRowColClick(e)}))},e.prototype.bindColCellClick=function(){var t=this;this.spreadsheet.on(bs.COL_CELL_CLICK,(function(e){t.handleRowColClick(e)}))},e.prototype.showTooltip=function(t){var e=WW(this.spreadsheet,t),n=e.operation,r=e.showTooltip;if(r){var i=this.spreadsheet.interaction,o=i.isSelectedState()?DW(i.getActiveCells()):[],a=this.getTooltipOperator(t,n);this.spreadsheet.showTooltipWithInfo(t,o,{showSingleTips:!0,operator:a})}},e.prototype.getTooltipOperator=function(t,e){var n=this,r=this.spreadsheet.getCell(t.target),i=r.getMeta(),o=r.cellType===Ml.COL_CELL,a=1===this.spreadsheet.getColumnLeafNodes().length,s=ZR(),l=o&&!a&&i.isLeaf&&e.hiddenColumns,u=l&&tu(tu({},s),{onClick:function(){n.hideSelectedColumns()}});return HW(e,{defaultMenus:[u],cell:r})},e.prototype.bindTableColExpand=function(){var t=this;this.spreadsheet.on(bs.LAYOUT_COLS_EXPANDED,(function(e){t.handleExpandIconClick(e)}))},e.prototype.hideSelectedColumns=function(){var t=this.spreadsheet.interaction,e=t.getActiveCells().map((function(t){return t.getMeta()})),n=e.map(this.getHideColumnField);QB(this.spreadsheet,n,!0)},e.prototype.handleExpandIconClick=function(t){var e=this.spreadsheet.store.get("hiddenColumnsDetail",[]),n=(UO(e,(function(e){var n=e.displaySiblingNode;return nD(n,t.id)}))||{}).hideColumnNodes,r=void 0===n?[]:n,i=this.spreadsheet.options.interaction.hiddenColumnFields,o=r.map(this.getHideColumnField),a=F_(i,o),s=e.filter((function(e){var n=e.displaySiblingNode;return!nD(n,t.id)}));this.spreadsheet.setOptions({interaction:{hiddenColumnFields:a}}),this.spreadsheet.store.set("hiddenColumnsDetail",s),this.spreadsheet.interaction.reset(),this.spreadsheet.render(!1)},e}(jH),FH=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getRowData=function(t){var n,r=t.getHeadLeafChild(),i=e.spreadsheet.dataSet.getMultiData(null===r||void 0===r?void 0:r.query,null===r||void 0===r?void 0:r.isTotals,!0)[0];return tu(tu({},i),{rowIndex:null!==(n=t.rowIndex)&&void 0!==n?n:r.rowIndex})},e}return Jl(e,t),e.prototype.bindEvents=function(){this.bindRowCellClick()},e.prototype.bindRowCellClick=function(){var t=this;this.spreadsheet.on(bs.ROW_CELL_CLICK,(function(e){if(!t.spreadsheet.interaction.hasIntercepts([Pl.CLICK])&&t.isLinkFieldText(e.target)){var n=t.getCellAppendInfo(e.target).cellData,r=n.key,i=t.getRowData(n);t.spreadsheet.emit(bs.GLOBAL_LINK_FIELD_JUMP,{key:r,cellData:n,record:i})}}))},e}(jH),zH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.bindEvents=function(){this.bindCornerCellClick()},e.prototype.bindCornerCellClick=function(){var t=this;this.spreadsheet.on(bs.CORNER_CELL_CLICK,(function(e){var n,r=t.spreadsheet.interaction,i=t.spreadsheet.getCell(e.target);if(i){var o=i.getMeta(),a=t.getRowNodesByField(null===o||void 0===o?void 0:o.field),s=null===(n=a[0])||void 0===n?void 0:n.belongsCell,l=t.getRowCells(a);if(s&&r.isSelectedCell(s))return r.reset(),void t.spreadsheet.emit(bs.GLOBAL_SELECTED,r.getActiveCells());HS(a)||HS(l)||(r.addIntercepts([Pl.HOVER]),r.changeState({cells:l,stateName:El.SELECTED}),r.highlightNodes(a),t.showTooltip(e),t.spreadsheet.emit(bs.GLOBAL_SELECTED,r.getActiveCells()))}}))},e.prototype.getRowNodesByField=function(t){return this.spreadsheet.getRowNodes().filter((function(e){return e.field===t}))},e.prototype.getRowCells=function(t){return t.map((function(t){return{id:t.id,colIndex:-1,rowIndex:-1,type:Ml.ROW_CELL}}))},e.prototype.showTooltip=function(t){var e=this.spreadsheet.interaction.getActiveCells();this.spreadsheet.showTooltipWithInfo(t,[],{data:{summaries:[{selectedData:e,name:"",value:null}]}})},e}(jH),WH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.bindEvents=function(){this.bindCornerCellHover(),this.bindDataCellHover(),this.bindRowCellHover(),this.bindColCellHover()},e.prototype.updateRowColCells=function(t){var e=t.rowId,n=t.colId,r=this.spreadsheet.interaction,i=r.getHoverHighlight(),o=i.rowHeader,a=i.colHeader;if(a&&yB(n,r.getAllColHeaderCells(),El.HOVER),o&&e){var s=gB(e,r.getAllRowHeaderCells(),this.spreadsheet.isHierarchyTreeType());J_(s,(function(t){t.updateByState(El.HOVER)}))}},e.prototype.changeStateToHoverFocus=function(t,e,n){var r,i=this,o=this.spreadsheet.interaction,a=this.spreadsheet.options.interaction,s=a.hoverFocus;o.clearHoverTimer();var l=function(){if(!o.hasIntercepts([Pl.HOVER])){o.changeState({cells:[hF(t)],stateName:El.HOVER_FOCUS});var r=i.spreadsheet.isTableMode(),a={isTotals:n.isTotals,enterable:!0,hideSummary:!0,showSingleTips:r},s=o.getHoverHighlight(),l=s.rowHeader,u=s.colHeader;(l||u)&&i.updateRowColCells(n);var c=i.getCellData(n,r);i.spreadsheet.showTooltipWithInfo(e,c,a)}},u=Rl;if(LS(s)||(u=null!==(r=null===s||void 0===s?void 0:s.duration)&&void 0!==r?r:Rl),0===u)l();else{var c=window.setTimeout((function(){return l()}),u);o.setHoverTimer(c)}},e.prototype.handleHeaderHover=function(t){var e=this.spreadsheet.getCell(t.target);if(!HS(e)){var n=this.spreadsheet.interaction;n.clearHoverTimer(),n.isActiveCell(e)||(n.changeState({cells:[hF(e)],stateName:El.HOVER}),e.update(),this.showEllipsisTooltip(t,e))}},e.prototype.showEllipsisTooltip=function(t,e){if(e&&e.getActualText()!==e.getFieldValue()){var n=e.getMeta(),r=!0,i={isTotals:n.isTotals,enterable:!0,hideSummary:!0,showSingleTips:r,enableFormat:this.spreadsheet.isPivotMode()},o=this.getCellData(n,r);this.spreadsheet.showTooltipWithInfo(t,o,i)}},e.prototype.getCellData=function(t,e){void 0===t&&(t={});var n=t.data,r=t.query,i=t.value,o=t.field,a=t.fieldValue,s=t.valueField,l=t.rowQuery,u=t.colQuery,c=n,f=e?[tu(tu({},r),{value:i||a,valueField:o||s})]:[c||tu(tu({},l),u)];return f},e.prototype.bindDataCellHover=function(){var t=this;this.spreadsheet.on(bs.DATA_CELL_HOVER,(function(e){var n=t.spreadsheet.getCell(e.target);if(!HS(n)){var r=t.spreadsheet,i=r.interaction,o=r.options,a=o.interaction,s=null===n||void 0===n?void 0:n.getMeta();if(!i.isActiveCell(n)){i.changeState({cells:[hF(n)],stateName:El.HOVER});var l=i.getHoverHighlight(),u=l.rowHeader,c=l.colHeader;(u||c)&&t.updateRowColCells(s),a.hoverFocus&&t.changeStateToHoverFocus(n,e,s)}}}))},e.prototype.bindRowCellHover=function(){var t=this;this.spreadsheet.on(bs.ROW_CELL_HOVER,(function(e){t.handleHeaderHover(e)}))},e.prototype.bindColCellHover=function(){var t=this;this.spreadsheet.on(bs.COL_CELL_HOVER,(function(e){t.handleHeaderHover(e)}))},e.prototype.bindCornerCellHover=function(){var t=this;this.spreadsheet.on(bs.CORNER_CELL_HOVER,(function(e){t.handleHeaderHover(e)}))},e}(jH),HH=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayedCells=[],e.brushRangeCells=[],e.brushSelectionStage=Tl.UN_DRAGGED,e.brushSelectionMinimumMoveDistance=5,e.scrollAnimationComplete=!0,e.mouseMoveDistanceFromCanvas=0,e.setMoveDistanceFromCanvas=function(t,n,r){var i=0;if(n&&(i=t.x),r){var o=t.y;i=n?Math.max(o,i):o}e.mouseMoveDistanceFromCanvas=Math.abs(i)},e.formatBrushPointForScroll=function(t,n){var r,i,o,a;void 0===n&&(n=!1);var s=t.x,l=t.y,u=e.spreadsheet.facet,c=n?u.cornerBBox:u.panelBBox,f=c.minX,h=c.maxX,d=u.panelBBox,p=d.minY,v=d.maxY,g=(null===(r=e.endBrushPoint)||void 0===r?void 0:r.x)+s,y=(null===(i=e.endBrushPoint)||void 0===i?void 0:i.y)+l,m=!0,b=!0,x=null===(a=null===(o=u.vScrollBar)||void 0===o?void 0:o.getBBox())||void 0===a?void 0:a.width,w=2;return g>h?g=h-x-w:g<f?g=f+w:m=!1,y>v?y=v-w:y<=p?y=p+w:b=!1,{x:{value:g,needScroll:m},y:{value:y,needScroll:b}}},e.rectanglesIntersect=function(t,e){return t.maxX>e.minX&&t.minX<e.maxX&&t.minY<e.maxY&&t.maxY>e.minY},e.autoScrollIntervalId=null,e.autoScrollConfig=Cx(zl),e.validateYIndex=function(t){var n,r,i=e.spreadsheet.facet,o=i.frozenGroupInfo,a=0,s=null===(n=null===o||void 0===o?void 0:o.frozenRow)||void 0===n?void 0:n.range;if(s&&(a=s[1]+1),t<a)return null;var l=i.getCellRange().end,u=null===(r=null===o||void 0===o?void 0:o.frozenTrailingRow)||void 0===r?void 0:r.range;return u&&(l=u[0]-1),t>l?null:t},e.validateXIndex=function(t){var n,r,i=e.spreadsheet.facet,o=i.frozenGroupInfo,a=0,s=null===(n=null===o||void 0===o?void 0:o.frozenCol)||void 0===n?void 0:n.range;if(s&&(a=s[1]+1),t<a)return null;var l=i.layoutResult.colLeafNodes.length-1,u=null===(r=null===o||void 0===o?void 0:o.frozenTrailingCol)||void 0===r?void 0:r.range;return u&&(l=u[0]-1),t>l?null:t},e.adjustNextColIndexWithFrozen=function(t,n){var r=e.spreadsheet,i=r.facet,o=r.dataSet,a=r.options,s=o.getDisplayDataSet().length,l=i.layoutResult.colLeafNodes.length,u=Bj(a,l,s),c=u.frozenTrailingColCount,f=u.frozenColCount,h=i.panelScrollGroupIndexes;return c>0&&n===Dl.SCROLL_DOWN&&OI(t,c,l)?h[1]:f>0&&n===Dl.SCROLL_UP&&_I(t,f)?h[0]:t},e.adjustNextRowIndexWithFrozen=function(t,n){var r=e.spreadsheet,i=r.facet,o=r.dataSet,a=r.options,s=o.getDisplayDataSet().length,l=i.layoutResult.colLeafNodes.length,u=i.getCellRange(),c=Bj(a,l,s),f=c.frozenTrailingRowCount,h=c.frozenRowCount,d=i.panelScrollGroupIndexes;return f>0&&n===Dl.SCROLL_DOWN&&SI(t,u.end,f)?d[3]:h>0&&n===Dl.SCROLL_UP&&CI(t,u.start,h)?d[2]:t},e.getWillScrollRowIndexDiff=function(t){return t===Dl.SCROLL_DOWN?Fl.SCROLL_DOWN:Fl.SCROLL_UP},e.getDefaultWillScrollToRowIndex=function(t){var n=e.adjustNextRowIndexWithFrozen(e.endBrushPoint.rowIndex,t),r=n+e.getWillScrollRowIndexDiff(t);return e.validateYIndex(r)},e.getWillScrollToRowIndex=function(t){return e.getDefaultWillScrollToRowIndex(t)},e.getNextScrollDelta=function(t){var n=e.spreadsheet.facet.getScrollOffset(),r=n.scrollX,i=n.scrollY,o=0,a=0;if(t.y.scroll){var s=t.y.value>0?Dl.SCROLL_DOWN:Dl.SCROLL_UP,l=e.getWillScrollToRowIndex(s),u=_F(l,s,e.spreadsheet)-i,c=rE(l)||rE(u)||Number.isNaN(u);a=c?0:u}if(t.x.scroll){s=t.x.value>0?Dl.SCROLL_DOWN:Dl.SCROLL_UP;var f=e.adjustNextColIndexWithFrozen(e.endBrushPoint.colIndex,s),h=e.validateXIndex(f+(t.x.value>0?1:-1));o=rE(h)?0:wF(h,s,e.spreadsheet)-r}return{x:o,y:a}},e.onScrollAnimationComplete=function(){e.scrollAnimationComplete=!0,e.brushSelectionStage!==Tl.UN_DRAGGED&&e.renderPrepareSelected(e.endBrushPoint)},e.autoScroll=function(t){if(void 0===t&&(t=!1),e.brushSelectionStage!==Tl.UN_DRAGGED&&e.scrollAnimationComplete){var n=e.autoScrollConfig,r=e.spreadsheet.facet.getScrollOffset(),i=t?"rowHeaderOffsetX":"offsetX",o={rowHeaderOffsetX:{value:r.rowHeaderScrollX,animate:!0},offsetX:{value:r.scrollX,animate:!0},offsetY:{value:r.scrollY,animate:!0}},a=e.getNextScrollDelta(n),s=a.x,l=a.y;if(0!==l||0!==s){if(n.y.scroll&&(o.offsetY.value+=l),n.x.scroll){var u=o[i];u.value+=s,u.value<0&&(u.value=0)}e.scrollAnimationComplete=!1;var c=n.x.scroll?1:3,f=Math.max(16,300-e.mouseMoveDistanceFromCanvas*c);e.spreadsheet.facet.scrollWithAnimation(o,f,e.onScrollAnimationComplete)}else e.clearAutoScroll()}},e.handleScroll=yL((function(t,n,r){if(void 0===r&&(r=!1),e.brushSelectionStage!==Tl.UN_DRAGGED){var i=e.formatBrushPointForScroll({x:t,y:n},r),o=i.x,a=o.value,s=o.needScroll,l=i.y,u=l.value,c=l.needScroll,f=e.autoScrollConfig;c&&(f.y.value=n,f.y.scroll=!0),s&&(f.x.value=t,f.x.scroll=!0),e.setMoveDistanceFromCanvas({x:t,y:n},s,c),e.renderPrepareSelected({x:a,y:u}),(c||s)&&(e.clearAutoScroll(),e.autoScroll(r),e.autoScrollIntervalId=setInterval((function(){e.autoScroll(r)}),16))}}),30),e.clearAutoScroll=function(){e.autoScrollIntervalId&&(clearInterval(e.autoScrollIntervalId),e.autoScrollIntervalId=null,e.resetScrollDelta())},e.onUpdateCells=function(t,e){return e()},e.showPrepareSelectedCells=function(){e.brushRangeCells=e.getBrushRangeCells(),e.spreadsheet.interaction.changeState({cells:KO(e.brushRangeCells,(function(t){return hF(t)})),stateName:El.PREPARE_SELECT,force:!0,onUpdateCells:e.onUpdateCells})},e.renderPrepareSelected=function(t){var n=t.x,r=t.y,i=e.spreadsheet.container.getShape(n,r),o=e.spreadsheet.getCell(i),a=o instanceof TB||o instanceof nF||o instanceof PD;if(o&&a){var s=o.getMeta(),l=s.rowIndex,u=s.colIndex;e.endBrushPoint={x:n,y:r,rowIndex:l,colIndex:u};var c=e.spreadsheet.interaction;c.addIntercepts([Pl.HOVER]),c.clearStyleIndependent(),e.isValidBrushSelection()&&(e.showPrepareSelectedCells(),e.updatePrepareSelectMask())}},e}return Jl(e,t),e.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},e.prototype.getPrepareSelectMaskTheme=function(){var t;return null===(t=this.spreadsheet.theme)||void 0===t?void 0:t.prepareSelectMask},e.prototype.initPrepareSelectMaskShape=function(){var t=this.spreadsheet.foregroundGroup;if(t){t.removeChild(this.prepareSelectMaskShape);var e=this.getPrepareSelectMaskTheme();this.prepareSelectMaskShape=t.addShape("rect",{visible:!1,attrs:{width:0,height:0,x:0,y:0,fill:null===e||void 0===e?void 0:e.backgroundColor,fillOpacity:null===e||void 0===e?void 0:e.backgroundOpacity,zIndex:Ps},capture:!1})}},e.prototype.setBrushSelectionStage=function(t){this.brushSelectionStage=t},e.prototype.isPointInCanvas=function(t){var e=this.spreadsheet.facet.getCanvasHW(),n=e.height,r=e.width,i=this.spreadsheet.facet.panelBBox,o=i.minX,a=i.minY;return t.x>o&&t.x<r&&t.y>a&&t.y<n},e.prototype.resetDrag=function(){this.hidePrepareSelectMaskShape(),this.setBrushSelectionStage(Tl.UN_DRAGGED)},e.prototype.isValidBrushSelection=function(){var t=this.getBrushRange(),e=t.start,n=t.end,r=n.x-e.x>this.brushSelectionMinimumMoveDistance||n.y-e.y>this.brushSelectionMinimumMoveDistance;return r},e.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getPanelGroupAllDataCells()},e.prototype.updatePrepareSelectMask=function(){var t=this.getBrushRange(),e=this.getPrepareSelectMaskPosition(t),n=e.x,r=e.y;this.prepareSelectMaskShape.attr({x:n,y:r,width:t.width,height:t.height}),this.prepareSelectMaskShape.show()},e.prototype.hidePrepareSelectMaskShape=function(){var t;null===(t=this.prepareSelectMaskShape)||void 0===t||t.hide()},e.prototype.resetScrollDelta=function(){this.autoScrollConfig=Cx(zl)},e.prototype.getBrushPoint=function(t){var e=this.spreadsheet.facet.getScrollOffset(),n=e.scrollY,r=e.scrollX,i={x:null===t||void 0===t?void 0:t.x,y:null===t||void 0===t?void 0:t.y},o=this.spreadsheet.getCell(t.target),a=o.getMeta(),s=a.colIndex,l=a.rowIndex;return tu(tu({},i),{rowIndex:l,colIndex:s,scrollY:n,scrollX:r})},e.prototype.getBrushRange=function(){var t,e,n,r,i,o,a,s,l=this.spreadsheet.facet.getScrollOffset(),u=l.scrollX,c=l.scrollY,f=Math.min(this.startBrushPoint.rowIndex,null===(t=this.endBrushPoint)||void 0===t?void 0:t.rowIndex),h=Math.max(this.startBrushPoint.rowIndex,null===(e=this.endBrushPoint)||void 0===e?void 0:e.rowIndex),d=Math.min(this.startBrushPoint.colIndex,null===(n=this.endBrushPoint)||void 0===n?void 0:n.colIndex),p=Math.max(this.startBrushPoint.colIndex,null===(r=this.endBrushPoint)||void 0===r?void 0:r.colIndex),v=this.startBrushPoint.x+this.startBrushPoint.scrollX-u,g=this.startBrushPoint.y+this.startBrushPoint.scrollY-c,y=Math.min(v,null===(i=this.endBrushPoint)||void 0===i?void 0:i.x),m=Math.max(v,null===(o=this.endBrushPoint)||void 0===o?void 0:o.x),b=Math.min(g,null===(a=this.endBrushPoint)||void 0===a?void 0:a.y),x=Math.max(g,null===(s=this.endBrushPoint)||void 0===s?void 0:s.y);return{start:{rowIndex:f,colIndex:d,x:y,y:b},end:{rowIndex:h,colIndex:p,x:m,y:x},width:m-y,height:x-b}},e.prototype.getBrushRangeCells=function(){var t=this;return this.setDisplayedCells(),this.displayedCells.filter((function(e){var n=e.getMeta();return t.isInBrushRange(n)}))},e.prototype.mouseDown=function(t){var e;null===(e=null===t||void 0===t?void 0:t.preventDefault)||void 0===e||e.call(t),this.spreadsheet.interaction.hasIntercepts([Pl.CLICK])||(this.setBrushSelectionStage(Tl.CLICK),this.initPrepareSelectMaskShape(),this.setDisplayedCells(),this.startBrushPoint=this.getBrushPoint(t))},e.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([Pl.BRUSH_SELECTION])},e.prototype.bindMouseUp=function(t){var e=this;void 0===t&&(t=!1),this.spreadsheet.on(bs.GLOBAL_MOUSE_UP,(function(n){if(e.brushSelectionStage===Tl.DRAGGED){if(t&&e.clearAutoScroll(),e.isValidBrushSelection()){e.addBrushIntercepts(),e.updateSelectedCells();var r=FW(e.spreadsheet);e.spreadsheet.showTooltipWithInfo(n,r)}e.spreadsheet.interaction.getCurrentStateName()===El.PREPARE_SELECT&&e.spreadsheet.interaction.reset(),e.resetDrag()}else e.resetDrag()})),this.spreadsheet.on(bs.GLOBAL_CONTEXT_MENU,(function(){e.brushSelectionStage!==Tl.UN_DRAGGED&&(e.spreadsheet.interaction.removeIntercepts([Pl.HOVER]),e.resetDrag())}))},e.prototype.autoBrushScroll=function(t,e){var n,r;if(void 0===e&&(e=!1),this.clearAutoScroll(),!this.isPointInCanvas(t)){var i=(null===t||void 0===t?void 0:t.x)-(null===(n=this.endBrushPoint)||void 0===n?void 0:n.x),o=(null===t||void 0===t?void 0:t.y)-(null===(r=this.endBrushPoint)||void 0===r?void 0:r.y);return this.handleScroll(i,o,e),!0}return!1},e.prototype.emitBrushSelectionEvent=function(t,e){this.spreadsheet.emit(t,e),this.spreadsheet.emit(bs.GLOBAL_SELECTED,e),HS(e)&&this.spreadsheet.interaction.removeIntercepts([Pl.HOVER])},e.prototype.getVisibleBrushRangeCells=function(t){return this.brushRangeCells.find((function(e){var n=e.getMeta();return(null===n||void 0===n?void 0:n.id)===t}))},e.prototype.isInBrushRange=function(t){return!1},e.prototype.bindMouseDown=function(){},e.prototype.bindMouseMove=function(){},e.prototype.updateSelectedCells=function(){},e.prototype.getPrepareSelectMaskPosition=function(t){return{x:t.start.x,y:t.start.y}},e}(jH),$H=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayedCells=[],e.brushRangeCells=[],e.onUpdateCells=function(t){return t.updateCells(t.getAllColHeaderCells())},e}return Jl(e,t),e.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},e.prototype.bindMouseDown=function(){var e=this;this.spreadsheet.on(bs.COL_CELL_MOUSE_DOWN,(function(n){e.spreadsheet.interaction.getBrushSelection().col&&t.prototype.mouseDown.call(e,n)}))},e.prototype.isPointInCanvas=function(t){var e=this.spreadsheet.facet.getCanvasHW().width,n=this.spreadsheet.facet.cornerBBox,r=n.width,i=n.minY,o=n.maxY;return t.x>=r&&t.x<=e&&t.y>=i&&t.y<=o},e.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(bs.COL_CELL_MOUSE_MOVE,(function(e){if(t.brushSelectionStage!==Tl.UN_DRAGGED){t.setBrushSelectionStage(Tl.DRAGGED);var n=t.spreadsheet.container.getPointByEvent(e.originalEvent);t.isPointInCanvas(n)&&t.renderPrepareSelected(n)}}))},e.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getAllColHeaderCells()},e.prototype.isInBrushRange=function(t){var e=this.getBrushRange(),n=e.start,r=e.end,i=this.spreadsheet.facet.getScrollOffset().scrollX,o=this.spreadsheet.facet.cornerBBox,a=t.x,s=void 0===a?0:a,l=t.y,u=void 0===l?0:l,c=t.width,f=void 0===c?0:c,h=t.height,d=void 0===h?0:h;return this.rectanglesIntersect({minX:n.x-o.width+i,minY:n.y,maxX:r.x-o.width+i,maxY:r.y},{minX:s,maxX:s+f,minY:u,maxY:u+d})},e.prototype.updateSelectedCells=function(){var t=this.spreadsheet.interaction;t.changeState({cells:KO(this.brushRangeCells,hF),stateName:El.SELECTED,onUpdateCells:function(t){t.updateCells(t.getAllColHeaderCells())}}),this.spreadsheet.emit(bs.COL_CELL_BRUSH_SELECTION,this.brushRangeCells),this.spreadsheet.emit(bs.GLOBAL_SELECTED,this.brushRangeCells),HS(this.brushRangeCells)&&t.removeIntercepts([Pl.HOVER])},e.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([Pl.COL_BRUSH_SELECTION])},e}(HH),GH=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayedCells=[],e.brushRangeCells=[],e.getSelectedCellMetas=function(t){var n=[],r=e.spreadsheet.facet.layoutResult,i=r.rowLeafNodes,o=void 0===i?[]:i,a=r.colLeafNodes,s=void 0===a?[]:a,l=mT(t.start.rowIndex,t.end.rowIndex+1),u=mT(t.start.colIndex,t.end.colIndex+1);return l.forEach((function(t){u.forEach((function(r){var i=String(s[r].id),a=HS(o)?String(t):String(o[t].id);n.push({colIndex:r,rowIndex:t,id:"".concat(a,"-").concat(i),type:Ml.DATA_CELL,rowId:a,colId:i,spreadsheet:e.spreadsheet})}))})),n},e}return Jl(e,t),e.prototype.bindMouseDown=function(){var e=this;this.spreadsheet.on(bs.DATA_CELL_MOUSE_DOWN,(function(n){e.spreadsheet.interaction.getBrushSelection().data&&(t.prototype.mouseDown.call(e,n),e.resetScrollDelta())}))},e.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_MOUSE_MOVE,(function(e){if(t.brushSelectionStage!==Tl.UN_DRAGGED){t.setBrushSelectionStage(Tl.DRAGGED);var n=t.spreadsheet.container.getPointByEvent(e);t.autoBrushScroll(n)||t.renderPrepareSelected(n)}}))},e.prototype.isInBrushRange=function(t){var e=this.getBrushRange(),n=e.start,r=e.end,i=t.rowIndex,o=t.colIndex;return i>=n.rowIndex&&i<=r.rowIndex&&o>=n.colIndex&&o<=r.colIndex},e.prototype.updateSelectedCells=function(){var t=this.getBrushRange(),e=this.getSelectedCellMetas(t);this.spreadsheet.interaction.changeState({cells:e,stateName:El.SELECTED,onUpdateCells:mF});var n=this.getScrollBrushRangeCells(e);this.emitBrushSelectionEvent(bs.DATA_CELL_BRUSH_SELECTION,n)},e.prototype.getScrollBrushRangeCells=function(t){var e=this;return t.map((function(t){var n=e.getVisibleBrushRangeCells(t.id);if(n)return n;var r=e.spreadsheet.facet.layoutResult.getCellMeta(t.rowIndex,t.colIndex),i=e.spreadsheet.isTableMode()?lF:TB;return new i(r,e.spreadsheet)}))},e.prototype.bindMouseUp=function(){t.prototype.bindMouseUp.call(this,!0)},e.prototype.getPrepareSelectMaskPosition=function(t){var e=this.spreadsheet.facet.panelBBox,n=e.minX,r=e.minY,i=Math.max(t.start.x,n),o=Math.max(t.start.y,r);return{x:i,y:o}},e}(HH),VH=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isInBrushRange=function(t){var n=e.getBrushRange(),r=n.start,i=n.end,o=e.spreadsheet.facet.getScrollOffset(),a=o.scrollY,s=o.rowHeaderScrollX,l=e.spreadsheet.facet.cornerBBox,u=t.x,c=void 0===u?0:u,f=t.y,h=void 0===f?0:f,d=t.width,p=void 0===d?0:d,v=t.height,g=void 0===v?0:v;return e.rectanglesIntersect({minX:r.x+s,minY:r.y-l.height+a,maxX:i.x+s,maxY:i.y-l.height+a},{minX:c,maxX:c+p,minY:h,maxY:h+g})},e.onUpdateCells=function(t){return t.updateCells(t.getAllRowHeaderCells())},e.getSelectedRowNodes=function(){return e.spreadsheet.getRowNodes().filter(e.isInBrushRange)},e.getVisibleRowLeafCellByScrollDirection=function(t){var n=e.spreadsheet.interaction.getAllRowHeaderCells();return t===Dl.SCROLL_DOWN?z_(n):n.find((function(t){var e=t.getMeta();return e.isLeaf}))},e.getWillScrollToRowIndex=function(t){var n,r;if(!rE(e.endBrushPoint.rowIndex))return e.getDefaultWillScrollToRowIndex(t);var i=e.getVisibleRowLeafCellByScrollDirection(t),o=null!==(r=null===(n=null===i||void 0===i?void 0:i.getMeta())||void 0===n?void 0:n.rowIndex)&&void 0!==r?r:0,a=o+e.getWillScrollRowIndexDiff(t);return e.validateYIndex(a)},e}return Jl(e,t),e.prototype.bindMouseDown=function(){var e=this;this.spreadsheet.on(bs.ROW_CELL_MOUSE_DOWN,(function(n){e.spreadsheet.interaction.getBrushSelection().row&&t.prototype.mouseDown.call(e,n)}))},e.prototype.isPointInCanvas=function(t){var e=this.spreadsheet.facet.getCanvasHW().height,n=this.spreadsheet.facet.cornerBBox,r=n.minX,i=n.height,o=n.maxX;return t.x>=r&&t.x<=o&&t.y>=i&&t.y<=e},e.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_MOUSE_MOVE,(function(e){if(t.brushSelectionStage!==Tl.UN_DRAGGED){t.setBrushSelectionStage(Tl.DRAGGED);var n=t.spreadsheet.container.getPointByEvent(e);t.autoBrushScroll(n,!0)||t.renderPrepareSelected(n)}}))},e.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getAllRowHeaderCells()},e.prototype.updateSelectedCells=function(){var t=this.getSelectedRowNodes(),e=this.getScrollBrushRangeCells(t),n=KO(e,hF);this.spreadsheet.interaction.changeState({cells:n,stateName:El.SELECTED,onUpdateCells:this.onUpdateCells}),this.emitBrushSelectionEvent(bs.ROW_CELL_BRUSH_SELECTION,e)},e.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([Pl.ROW_BRUSH_SELECTION])},e.prototype.getScrollBrushRangeCells=function(t){var e=this;return t.map((function(t){var n=e.getVisibleBrushRangeCells(t.id);return n||new nF(t,e.spreadsheet)}))},e.prototype.getPrepareSelectMaskPosition=function(t){var e=this.spreadsheet.facet.panelBBox.minY,n=t.start.x,r=Math.max(t.start.y,e);return{x:n,y:r}},e}(HH),UH=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMultiSelection=!1,e}return Jl(e,t),e.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindDataCellClick(),this.bindKeyboardUp(),this.bindMouseMove()},e.prototype.reset=function(){this.isMultiSelection=!1,this.spreadsheet.interaction.removeIntercepts([Pl.CLICK])},e.prototype.bindKeyboardDown=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_KEYBOARD_DOWN,(function(e){cF(e)&&(t.isMultiSelection=!0,t.spreadsheet.interaction.addIntercepts([Pl.CLICK]))}))},e.prototype.bindKeyboardUp=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_KEYBOARD_UP,(function(e){cF(e)&&t.reset()}))},e.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_MOUSE_MOVE,(function(e){t.isMultiSelection&&!fF(e)&&t.reset()}))},e.prototype.getSelectedCells=function(t){var e=t.getMeta().id,n=this.spreadsheet.interaction,r=n.getCells([Ml.DATA_CELL]),i=[];return n.getCurrentStateName()!==El.SELECTED&&(r=[]),i=r.find((function(t){return t.id===e}))?r.filter((function(t){return t.id!==e})):iu(iu([],ru(r),!1),[hF(t)],!1),i},e.prototype.bindDataCellClick=function(){var t=this;this.spreadsheet.on(bs.DATA_CELL_CLICK,(function(e){e.stopPropagation();var n=t.spreadsheet.getCell(e.target),r=n.getMeta(),i=t.spreadsheet,o=i.interaction;if(i.options,t.isMultiSelection&&r){var a=t.getSelectedCells(n);if(HS(a))return o.clearState(),void t.spreadsheet.hideTooltip();o.addIntercepts([Pl.CLICK,Pl.HOVER]),t.spreadsheet.hideTooltip(),o.changeState({cells:a,stateName:El.SELECTED,onUpdateCells:mF}),t.spreadsheet.emit(bs.GLOBAL_SELECTED,o.getActiveCells()),t.spreadsheet.showTooltipWithInfo(e,FW(t.spreadsheet))}}))},e}(jH),YH=function(){function t(t){var e=this;this.canvasEventHandlers=[],this.s2EventHandlers=[],this.domEventListeners=[],this.isCanvasEffect=!1,this.isGuiIconShape=function(t){return t instanceof ja&&t.attrs.type===Cj.type},this.onCanvasMousedown=function(t){if(e.target=t.target,e.spreadsheet.interaction.clearHoverTimer(),e.isResizeArea(t)){e.spreadsheet.emit(bs.LAYOUT_RESIZE_MOUSE_DOWN,t);var n=function(n){if(!e.spreadsheet.getCanvasElement())return!1;e.spreadsheet.getCanvasElement()!==n.target&&(t.clientX=n.clientX,t.clientY=n.clientY,t.originalEvent=n,e.spreadsheet.emit(bs.LAYOUT_RESIZE_MOUSE_MOVE,t))};return window.addEventListener("mousemove",n),void window.addEventListener("mouseup",(function(){window.removeEventListener("mousemove",n)}),{once:!0})}var r=e.spreadsheet.getCellType(t.target);switch(r){case Ml.DATA_CELL:e.spreadsheet.emit(bs.DATA_CELL_MOUSE_DOWN,t);break;case Ml.ROW_CELL:e.spreadsheet.emit(bs.ROW_CELL_MOUSE_DOWN,t);break;case Ml.COL_CELL:e.spreadsheet.emit(bs.COL_CELL_MOUSE_DOWN,t);break;case Ml.CORNER_CELL:e.spreadsheet.emit(bs.CORNER_CELL_MOUSE_DOWN,t);break;case Ml.MERGED_CELL:e.spreadsheet.emit(bs.MERGED_CELLS_MOUSE_DOWN,t);break}},this.onCanvasMousemove=function(t){if(e.canvasMousemoveEvent=t,e.isResizeArea(t))return e.activeResizeArea(t),void e.spreadsheet.emit(bs.LAYOUT_RESIZE_MOUSE_MOVE,t);e.resetResizeArea();var n=e.spreadsheet.getCell(t.target);if(n){var r=n.cellType;switch(r){case Ml.DATA_CELL:e.spreadsheet.emit(bs.DATA_CELL_MOUSE_MOVE,t);break;case Ml.ROW_CELL:e.spreadsheet.emit(bs.ROW_CELL_MOUSE_MOVE,t);break;case Ml.COL_CELL:e.spreadsheet.emit(bs.COL_CELL_MOUSE_MOVE,t);break;case Ml.CORNER_CELL:e.spreadsheet.emit(bs.CORNER_CELL_MOUSE_MOVE,t);break;case Ml.MERGED_CELL:e.spreadsheet.emit(bs.MERGED_CELLS_MOUSE_MOVE,t);break}if(!e.hasBrushSelectionIntercepts())switch(e.spreadsheet.emit(bs.GLOBAL_HOVER,t),r){case Ml.DATA_CELL:e.spreadsheet.emit(bs.DATA_CELL_HOVER,t);break;case Ml.ROW_CELL:e.spreadsheet.emit(bs.ROW_CELL_HOVER,t);break;case Ml.COL_CELL:e.spreadsheet.emit(bs.COL_CELL_HOVER,t);break;case Ml.CORNER_CELL:e.spreadsheet.emit(bs.CORNER_CELL_HOVER,t);break;case Ml.MERGED_CELL:e.spreadsheet.emit(bs.MERGED_CELLS_HOVER,t);break}}},this.onCanvasMouseup=function(t){if(e.isResizeArea(t))e.spreadsheet.emit(bs.LAYOUT_RESIZE_MOUSE_UP,t);else{var n=e.spreadsheet.getCell(t.target);if(n){var r=n.cellType;if(e.target===t.target){var i=e.isGuiIconShape(t.target);switch(r){case Ml.DATA_CELL:e.spreadsheet.emit(bs.DATA_CELL_CLICK,t);break;case Ml.ROW_CELL:if(i)break;e.spreadsheet.emit(bs.ROW_CELL_CLICK,t);break;case Ml.COL_CELL:if(i)break;e.spreadsheet.emit(bs.COL_CELL_CLICK,t);break;case Ml.CORNER_CELL:if(i)break;e.spreadsheet.emit(bs.CORNER_CELL_CLICK,t);break;case Ml.MERGED_CELL:e.spreadsheet.emit(bs.MERGED_CELLS_CLICK,t);break}}switch(r){case Ml.DATA_CELL:e.spreadsheet.emit(bs.DATA_CELL_MOUSE_UP,t);break;case Ml.ROW_CELL:e.spreadsheet.emit(bs.ROW_CELL_MOUSE_UP,t);break;case Ml.COL_CELL:e.spreadsheet.emit(bs.COL_CELL_MOUSE_UP,t);break;case Ml.CORNER_CELL:e.spreadsheet.emit(bs.CORNER_CELL_MOUSE_UP,t);break;case Ml.MERGED_CELL:e.spreadsheet.emit(bs.MERGED_CELLS_MOUSE_UP,t);break}}}},this.onCanvasClick=function(t){e.spreadsheet.emit(bs.GLOBAL_CLICK,t)},this.onCanvasDoubleClick=function(t){var n=e.spreadsheet;if(e.isResizeArea(t))n.emit(bs.LAYOUT_RESIZE_MOUSE_UP,t);else{n.emit(bs.GLOBAL_DOUBLE_CLICK,t);var r=n.getCell(t.target);if(r){var i=r.cellType;if(e.target===t.target)switch(i){case Ml.DATA_CELL:n.emit(bs.DATA_CELL_DOUBLE_CLICK,t);break;case Ml.ROW_CELL:n.emit(bs.ROW_CELL_DOUBLE_CLICK,t);break;case Ml.COL_CELL:n.emit(bs.COL_CELL_DOUBLE_CLICK,t);break;case Ml.CORNER_CELL:n.emit(bs.CORNER_CELL_DOUBLE_CLICK,t);break;case Ml.MERGED_CELL:n.emit(bs.MERGED_CELLS_DOUBLE_CLICK,t);break}}}},this.onCanvasMouseout=function(t){if(e.isAutoResetSheetStyle&&!(null===t||void 0===t?void 0:t.shape)){var n=e.spreadsheet.interaction;n.isSelectedState()||n.intercepts.size>0||n.reset()}},this.onCanvasContextMenu=function(t){var n=e.spreadsheet;if(e.isResizeArea(t))n.emit(bs.LAYOUT_RESIZE_MOUSE_UP,t);else{n.emit(bs.GLOBAL_CONTEXT_MENU,t);var r=e.spreadsheet.getCellType(t.target);switch(r){case Ml.DATA_CELL:e.spreadsheet.emit(bs.DATA_CELL_CONTEXT_MENU,t);break;case Ml.ROW_CELL:e.spreadsheet.emit(bs.ROW_CELL_CONTEXT_MENU,t);break;case Ml.COL_CELL:e.spreadsheet.emit(bs.COL_CELL_CONTEXT_MENU,t);break;case Ml.CORNER_CELL:e.spreadsheet.emit(bs.CORNER_CELL_CONTEXT_MENU,t);break;case Ml.MERGED_CELL:e.spreadsheet.emit(bs.MERGED_CELLS_CONTEXT_MENU,t);break}}},this.spreadsheet=t,this.bindEvents()}return Object.defineProperty(t.prototype,"canvasContainer",{get:function(){return this.spreadsheet.container},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAutoResetSheetStyle",{get:function(){return this.spreadsheet.options.interaction.autoResetSheetStyle},enumerable:!1,configurable:!0}),t.prototype.bindEvents=function(){var t=this;this.clearAllEvents(),this.addCanvasEvent(ms.CLICK,this.onCanvasClick),this.addCanvasEvent(ms.MOUSE_DOWN,this.onCanvasMousedown),this.addCanvasEvent(ms.MOUSE_MOVE,this.onCanvasMousemove),this.addCanvasEvent(ms.MOUSE_OUT,this.onCanvasMouseout),this.addCanvasEvent(ms.MOUSE_UP,this.onCanvasMouseup),this.addCanvasEvent(ms.DOUBLE_CLICK,this.onCanvasDoubleClick),this.addCanvasEvent(ms.CONTEXT_MENU,this.onCanvasContextMenu),this.addS2Event(bs.GLOBAL_ACTION_ICON_CLICK,(function(){t.spreadsheet.interaction.addIntercepts([Pl.HOVER]),t.spreadsheet.interaction.clearState()})),this.addDomEventListener(window,ms.CLICK,(function(e){t.resetSheetStyle(e),t.isCanvasEffect=t.isMouseOnTheCanvasContainer(e)})),this.addDomEventListener(window,ms.KEY_DOWN,(function(e){t.onKeyboardCopy(e),t.onKeyboardEsc(e),t.spreadsheet.emit(bs.GLOBAL_KEYBOARD_DOWN,e)})),this.addDomEventListener(window,ms.KEY_UP,(function(e){t.spreadsheet.emit(bs.GLOBAL_KEYBOARD_UP,e)})),this.addDomEventListener(window,ms.MOUSE_UP,(function(e){t.spreadsheet.emit(bs.GLOBAL_MOUSE_UP,e)})),this.addDomEventListener(window,ms.MOUSE_MOVE,(function(e){t.spreadsheet.emit(bs.GLOBAL_MOUSE_MOVE,e)}))},t.prototype.onKeyboardCopy=function(t){if(this.isCanvasEffect&&this.spreadsheet.options.interaction.enableCopy&&MN(t.key,Al.COPY)&&(t.metaKey||t.ctrlKey)){var e=hB(this.spreadsheet);rE(e)||this.spreadsheet.emit(bs.GLOBAL_COPIED,e)}},t.prototype.onKeyboardEsc=function(t){this.isCanvasEffect&&MN(t.key,Al.ESC)&&this.resetSheetStyle(t)},t.prototype.resetSheetStyle=function(t){if(this.isAutoResetSheetStyle&&this.spreadsheet){var e=this.spreadsheet.interaction;e.hasIntercepts([Pl.BRUSH_SELECTION,Pl.COL_BRUSH_SELECTION,Pl.ROW_BRUSH_SELECTION])?e.removeIntercepts([Pl.BRUSH_SELECTION,Pl.ROW_BRUSH_SELECTION,Pl.COL_BRUSH_SELECTION]):this.isMouseOnTheTooltip(t)||this.isMouseOnTheCanvasContainer(t)||(this.spreadsheet.emit(bs.GLOBAL_RESET,t),e.reset())}},t.prototype.isMouseEvent=function(t){return Mw(t,"clientX")&&Mw(t,"clientY")},t.prototype.isMouseOnTheCanvasContainer=function(t){if(this.isMouseEvent(t)){var e=this.spreadsheet.getCanvasElement();if(!e)return!1;var n=e.getBoundingClientRect()||{},r=n.x,i=n.y,o=this.getContainerRect(),a=o.width,s=o.height;return e.contains(t.target)&&t.clientX<=r+a&&t.clientY<=i+s}return!1},t.prototype.getContainerRect=function(){var t,e=(null===(t=this.spreadsheet.facet)||void 0===t?void 0:t.panelBBox)||{},n=e.maxX,r=e.maxY,i=this.spreadsheet.options,o=i.width,a=i.height;return{width:Math.min(o,n),height:Math.min(a,r)}},t.prototype.isMouseOnTheTooltip=function(t){var e,n,r,i,o=this.spreadsheet.tooltip;if(!(null===o||void 0===o?void 0:o.visible))return!1;var a=(null===(r=null===(n=null===(e=this.spreadsheet.tooltip)||void 0===e?void 0:e.container)||void 0===n?void 0:n.getBoundingClientRect)||void 0===r?void 0:r.call(n))||{},s=a.x,l=a.y,u=a.width,c=a.height;return t.target instanceof Node?$W(null===(i=this.spreadsheet.tooltip)||void 0===i?void 0:i.container,t.target):!!this.isMouseEvent(t)&&(t.clientX>=s&&t.clientX<=s+u&&t.clientY>=l&&t.clientY<=l+c)},t.prototype.isResizeArea=function(t){var e=vv(t.target,"attrs.appendInfo");return null===e||void 0===e?void 0:e.isResizeArea},t.prototype.activeResizeArea=function(t){this.resetResizeArea();var e=t.target;this.spreadsheet.store.set("activeResizeArea",e),e.attr(Il.backgroundOpacity,this.spreadsheet.theme.resizeArea.interactionState.hover.backgroundOpacity)},t.prototype.resetResizeArea=function(){var t=this.spreadsheet.store.get("activeResizeArea");HS(t)||t.attr(Il.backgroundOpacity,this.spreadsheet.theme.resizeArea.backgroundOpacity),this.spreadsheet.store.set("activeResizeArea",t)},t.prototype.hasBrushSelectionIntercepts=function(){return this.spreadsheet.interaction.hasIntercepts([Pl.HOVER,Pl.BRUSH_SELECTION,Pl.ROW_BRUSH_SELECTION,Pl.COL_BRUSH_SELECTION])},t.prototype.clear=function(){this.unbindEvents()},t.prototype.unbindEvents=function(){this.clearAllEvents()},t.prototype.addCanvasEvent=function(t,e){var n;null===(n=this.canvasContainer)||void 0===n||n.on(t,e),this.canvasEventHandlers.push({type:t,handler:e})},t.prototype.addS2Event=function(t,e){this.spreadsheet.on(t,e),this.s2EventHandlers.push({type:t,handler:e})},t.prototype.addDomEventListener=function(t,e,n){if(t.addEventListener){var r=this.spreadsheet.options.interaction.eventListenerOptions;t.addEventListener(e,n,r),this.domEventListeners.push({target:t,type:e,handler:n,options:r})}else console.error("Please make sure ".concat(t," has addEventListener function"))},t.prototype.clearAllEvents=function(){var t=this;J_(this.canvasEventHandlers,(function(e){var n,r=e.type,i=e.handler;null===(n=t.canvasContainer)||void 0===n||n.off(r,i)})),J_(this.s2EventHandlers,(function(e){var n=e.type,r=e.handler;t.spreadsheet.off(n,r)})),J_(this.domEventListeners,(function(t){t.target.removeEventListener(t.type,t.handler,t.options)})),this.canvasEventHandlers=[],this.s2EventHandlers=[],this.domEventListeners=[]},t}(),qH=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isRangeSelection=!1,e.handleColClick=function(t){t.stopPropagation();var n=e.spreadsheet.interaction,r=e.spreadsheet.getCell(t.target),i=null===r||void 0===r?void 0:r.getMeta();if(!rE(null===i||void 0===i?void 0:i.x)){n.addIntercepts([Pl.HOVER]);var o=[hF(r)],a=e.spreadsheet.store.get("lastClickedCell");if(e.isRangeSelection&&a&&a.cellType===r.cellType&&a.getMeta().level===r.getMeta().level){var s=ru([e.spreadsheet.facet.layoutResult.rowsHierarchy.maxLevel,e.spreadsheet.facet.layoutResult.colsHierarchy.maxLevel],2),l=s[0],u=s[1],c=pF(a.getMeta(),r.getMeta()),f=c.start,h=c.end;r instanceof TB?o=e.handleSeriesNumberRowSelected(f.rowIndex,h.rowIndex,r):r.cellType===Ml.ROW_CELL&&r.getMeta().level===l?o=e.handleRowSelected(f.rowIndex,h.rowIndex,r):r.cellType===Ml.COL_CELL&&r.getMeta().level===u&&(o=e.handleColSelected(f.colIndex,h.colIndex,r)),n.changeState({cells:o,stateName:El.SELECTED})}else HS(n.getCells())&&n.removeIntercepts([Pl.HOVER]),e.spreadsheet.store.set("lastClickedCell",r);var d=o.map((function(t){var e=t.id;return e}));n.updateCells(n.getRowColActiveCells(d)),e.spreadsheet.emit(bs.GLOBAL_SELECTED,n.getActiveCells())}},e}return Jl(e,t),e.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindDataCellClick(),this.bindColCellClick(),this.bindKeyboardUp(),this.bindMouseMove()},e.prototype.reset=function(){this.isRangeSelection=!1,this.spreadsheet.interaction.removeIntercepts([Pl.CLICK])},e.prototype.bindKeyboardDown=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_KEYBOARD_DOWN,(function(e){e.key===Al.SHIFT&&(t.isRangeSelection=!0,t.spreadsheet.interaction.addIntercepts([Pl.CLICK]))}))},e.prototype.bindKeyboardUp=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_KEYBOARD_UP,(function(e){e.key===Al.SHIFT&&t.reset()}))},e.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_MOUSE_MOVE,(function(e){t.isRangeSelection&&!e.shiftKey&&t.reset()}))},e.prototype.bindColCellClick=function(){var t=this;this.spreadsheet.isTableMode()&&this.spreadsheet.on(bs.ROW_CELL_CLICK,(function(e){t.handleColClick(e)})),this.spreadsheet.on(bs.COL_CELL_CLICK,(function(e){t.handleColClick(e)}))},e.prototype.bindDataCellClick=function(){var t=this;this.spreadsheet.on(bs.DATA_CELL_CLICK,(function(e){e.stopPropagation();var n=t.spreadsheet.getCell(e.target),r=n.getMeta(),i=t.spreadsheet.interaction;if(r){var o=t.spreadsheet.store.get("lastClickedCell"),a=t.isRangeSelection&&(null===o||void 0===o?void 0:o.cellType)===n.cellType;if(a){var s=pF(o.getMeta(),n.getMeta()),l=s.start,u=s.end,c=mT(l.colIndex,u.colIndex+1).flatMap((function(e){var r=t.spreadsheet.facet.layoutResult.colLeafNodes[e].id;return mT(l.rowIndex,u.rowIndex+1).map((function(i){var o=t.spreadsheet.facet.getSeriesNumberWidth()||t.spreadsheet.isTableMode()?String(i):t.spreadsheet.facet.layoutResult.rowLeafNodes[i].id;return{id:o+"-"+r,colIndex:e,rowIndex:i,type:n.cellType}}))}));i.addIntercepts([Pl.CLICK,Pl.HOVER]),i.changeState({cells:c,stateName:El.SELECTED}),t.spreadsheet.showTooltipWithInfo(e,FW(t.spreadsheet)),t.spreadsheet.emit(bs.GLOBAL_SELECTED,i.getActiveCells())}else t.spreadsheet.store.set("lastClickedCell",n)}}))},e.prototype.handleSeriesNumberRowSelected=function(t,e,n){var r=this.spreadsheet.facet.layoutResult.colLeafNodes[0].id;return mT(t,e+1).map((function(t){var e=String(t);return{id:e+"-"+r,colIndex:0,rowIndex:t,type:n.cellType}}))},e.prototype.handleRowSelected=function(t,e,n){return this.spreadsheet.facet.layoutResult.rowNodes.filter((function(n){var r=n.rowIndex;return $C(r,t,e+1)})).map((function(t){return{id:t.id,colIndex:t.colIndex,rowIndex:t.rowIndex,type:n.cellType}}))},e.prototype.handleColSelected=function(t,e,n){return this.spreadsheet.facet.layoutResult.colLeafNodes.filter((function(n){var r=n.colIndex;return $C(r,t,e+1)})).map((function(t){return{id:t.id,colIndex:t.colIndex,rowIndex:t.rowIndex,type:n.cellType}}))},e}(jH),XH=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.resizeStartPosition={},e.resizeMouseMove=function(t){var n,r;if(null===(n=e.resizeReferenceGroup)||void 0===n?void 0:n.get("visible")){null===(r=null===t||void 0===t?void 0:t.preventDefault)||void 0===r||r.call(t);var i=t.originalEvent,o=e.getResizeInfo(),a=e.resizeReferenceGroup.getChildren()||[];if(!HS(a)){var s=ru(a,2),l=s[1],u=ru(wx(l.attr("path")),2),c=u[0],f=u[1];o.type===Wl.Horizontal?e.updateHorizontalResizingEndGuideLinePosition(i,o,c,f):e.updateVerticalResizingEndGuideLinePosition(i,o,c,f),e.updateResizeGuideLineTheme(l),l.attr("path",[c,f])}}},e}return Jl(e,t),e.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},e.prototype.initResizeGroup=function(){if(!this.resizeReferenceGroup){this.resizeReferenceGroup=this.spreadsheet.foregroundGroup.addGroup();var t=this.spreadsheet.options,e=t.width,n=t.height,r=this.getResizeAreaTheme(),i=r.guideLineColor,o=r.guideLineDash,a=r.size,s={path:"",lineDash:o,stroke:i,lineWidth:a};this.resizeReferenceGroup.addShape("path",{id:Gl,attrs:s}),this.resizeReferenceGroup.addShape("path",{id:Vl,attrs:s}),this.resizeReferenceGroup.addShape("rect",{id:Ul,attrs:{appendInfo:{isResizeArea:!0},x:0,y:0,width:e,height:n,fill:"transparent"}})}},e.prototype.getResizeAreaTheme=function(){return this.spreadsheet.theme.resizeArea},e.prototype.setResizeTarget=function(t){this.resizeTarget=t},e.prototype.getGuideLineWidthAndHeight=function(){var t=this.spreadsheet.options,e=t.width,n=t.height,r=this.spreadsheet.facet.panelBBox,i=r.maxY,o=r.maxX,a=Math.min(o,e),s=Math.min(i,n);return{width:a,height:s}},e.prototype.getResizeShapes=function(){var t;return(null===(t=this.resizeReferenceGroup)||void 0===t?void 0:t.get("children"))||[]},e.prototype.setResizeMaskCursor=function(t){var e=ru(this.getResizeShapes(),3),n=e[2];null===n||void 0===n||n.attr("cursor",t)},e.prototype.updateResizeGuideLinePosition=function(t,e){var n=this.getResizeShapes();if(!HS(n)){var r=ru(n,2),i=r[0],o=r[1],a=e.type,s=e.offsetX,l=e.offsetY,u=e.width,c=e.height,f=this.getGuideLineWidthAndHeight(),h=f.width,d=f.height;if(this.setResizeMaskCursor("".concat(a,"-resize")),a===Wl.Horizontal)return i.attr("path",[["M",s,l],["L",s,d]]),o.attr("path",[["M",s+u,l],["L",s+u,d]]),this.resizeStartPosition.offsetX=t.offsetX,void(this.resizeStartPosition.clientX=t.clientX);i.attr("path",[["M",s,l],["L",h,l]]),o.attr("path",[["M",s,l+c],["L",h,l+c]]),this.resizeStartPosition.offsetY=t.offsetY,this.resizeStartPosition.clientY=t.clientY}},e.prototype.bindMouseDown=function(){var t=this;this.spreadsheet.on(bs.LAYOUT_RESIZE_MOUSE_DOWN,(function(e){var n=e.target,r=e.originalEvent,i=t.getCellAppendInfo(e.target);t.spreadsheet.store.set("resized",!1),(null===i||void 0===i?void 0:i.isResizeArea)&&(t.spreadsheet.interaction.reset(),t.spreadsheet.interaction.addIntercepts([Pl.RESIZE]),t.setResizeTarget(n),t.showResizeGroup(),t.updateResizeGuideLinePosition(r,i))}))},e.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(bs.LAYOUT_RESIZE_MOUSE_MOVE,(function(e){yL(t.resizeMouseMove,33)(e)}))},e.prototype.getResizeGuideLinePosition=function(){var t=ru(this.resizeReferenceGroup.getChildren()||[],2),e=t[0],n=t[1],r=(null===e||void 0===e?void 0:e.attr("path"))||[],i=(null===n||void 0===n?void 0:n.attr("path"))||[],o=ru(r[0]||[],3),a=o[1],s=void 0===a?0:a,l=o[2],u=void 0===l?0:l,c=ru(i[0]||[],3),f=c[1],h=void 0===f?0:f,d=c[2],p=void 0===d?0:d;return{start:{x:s,y:u},end:{x:h,y:p}}},e.prototype.getDisAllowResizeInfo=function(){var t,e=this.getResizeInfo(),n=this.spreadsheet.options.interaction.resize,r=e.width,i=e.height,o=e.resizedWidth,a=e.resizedHeight,s=null===(t=null===n||void 0===n?void 0:n.disable)||void 0===t?void 0:t.call(n,e),l=s?r:o,u=s?i:a;return{displayWidth:l,displayHeight:u,isDisabled:s}},e.prototype.getResizeWidthDetail=function(){var t,e,n=this.getResizeInfo(),r=this.getDisAllowResizeInfo().displayWidth;switch(n.effect){case Hl.Field:return{eventType:bs.LAYOUT_RESIZE_ROW_WIDTH,style:{rowCfg:{widthByField:(t={},t[n.id]=r,t)}}};case Hl.Tree:return{eventType:bs.LAYOUT_RESIZE_TREE_WIDTH,style:{treeRowsWidth:r,rowCfg:{treeRowsWidth:r}}};case Hl.Cell:return{eventType:bs.LAYOUT_RESIZE_COL_WIDTH,style:{colCfg:{widthByFieldValue:(e={},e[n.id]=r,e)}}};case Hl.Series:return{eventType:bs.LAYOUT_RESIZE_SERIES_WIDTH,seriesNumberWidth:r};default:return null}},e.prototype.getResizeHeightDetail=function(){var t,e,n,r=this.spreadsheet.options,i=r.interaction.resize,o=r.style.rowCfg.heightByField,a=this.spreadsheet.theme.rowCell.cell.padding,s=this.getResizeInfo(),l=this.getDisAllowResizeInfo().displayHeight,u=l-a.top-a.bottom;switch(s.effect){case Hl.Field:return{eventType:bs.LAYOUT_RESIZE_COL_HEIGHT,style:{colCfg:{heightByField:(t={},t[s.id]=l,t)}}};case Hl.Cell:return n=(null===o||void 0===o?void 0:o[String(s.id)])||(null===i||void 0===i?void 0:i.rowResizeType)===$l.CURRENT?{rowCfg:{heightByField:(e={},e[s.id]=u,e)}}:{cellCfg:{height:u}},{eventType:bs.LAYOUT_RESIZE_ROW_HEIGHT,style:n};default:return null}},e.prototype.getResizeDetail=function(){var t=this.getResizeInfo();return t.type===Wl.Horizontal?this.getResizeWidthDetail():this.getResizeHeightDetail()},e.prototype.showResizeGroup=function(){this.initResizeGroup(),this.resizeReferenceGroup.set("visible",!0)},e.prototype.hideResizeGroup=function(){this.resizeReferenceGroup.set("visible",!1)},e.prototype.bindMouseUp=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_MOUSE_UP,(function(){var e;t.setResizeMaskCursor("default"),t.resizeReferenceGroup&&!HS(null===(e=t.resizeReferenceGroup)||void 0===e?void 0:e.getChildren())&&(t.hideResizeGroup(),t.renderResizedResult())}))},e.prototype.updateResizeGuideLineTheme=function(t){var e=this.getResizeAreaTheme(),n=e.guideLineColor,r=e.guideLineDisableColor,i=this.getDisAllowResizeInfo().isDisabled;t.attr("stroke",i?r:n),this.setResizeMaskCursor(i?"no-drop":"default")},e.prototype.updateHorizontalResizingEndGuideLinePosition=function(t,e,n,r){var i=t.clientX-this.resizeStartPosition.clientX;e.width+i<ul&&(i=-(e.width-ul));var o=e.offsetX+e.width+i;n[1]=o,r[1]=o,this.resizeTarget.attr({x:o-e.size/2})},e.prototype.updateVerticalResizingEndGuideLinePosition=function(t,e,n,r){var i=t.clientY-this.resizeStartPosition.clientY;e.height+i<cl&&(i=-(e.height-cl));var o=e.offsetY+e.height+i;n[2]=o,r[2]=o,this.resizeTarget.attr({y:o-e.size/2})},e.prototype.renderResizedResult=function(){var t=this.getResizeInfo(),e=this.getResizeDetail()||{},n=e.style,r=e.seriesNumberWidth,i=e.eventType,o={info:t,style:n};this.spreadsheet.emit(bs.LAYOUT_RESIZE,o),this.spreadsheet.emit(i,o),n&&this.spreadsheet.setOptions({style:n}),r&&this.spreadsheet.setTheme({rowCell:{seriesNumberWidth:r}}),this.spreadsheet.store.set("resized",!0),this.render()},e.prototype.getResizeInfo=function(){var t=this.getCellAppendInfo(this.resizeTarget),e=this.getResizeGuideLinePosition(),n=e.start,r=e.end,i=Math.floor(r.x-n.x),o=Math.floor(r.y-n.y);return tu(tu({},t),{resizedWidth:i,resizedHeight:o})},e.prototype.render=function(){this.resizeStartPosition={},this.resizeTarget=null,this.resizeReferenceGroup=null,this.spreadsheet.render(!1)},e}(jH),KH=[Al.ARROW_LEFT,Al.ARROW_RIGHT,Al.ARROW_UP,Al.ARROW_DOWN],ZH=function(t){function e(e){return t.call(this,e)||this}return Jl(e,t),e.prototype.isCanvasEffect=function(){return this.spreadsheet.interaction.eventController.isCanvasEffect},e.prototype.bindEvents=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_KEYBOARD_DOWN,(function(e){if(t.isCanvasEffect()){var n=e.shiftKey,r=e.metaKey,i=KH.includes(e.key),o=!1,a=!1,s=!1;i&&(r&&n?(o=!1,a=!0,s=!1):r?(o=!0,a=!0,s=!0):n?(o=!1,a=!1,s=!1):(o=!0,a=!1,s=!0),t.handleMove({event:e,changeStartCell:o,isJumpMode:a,isSingleSelection:s}))}})),this.spreadsheet.on(bs.DATA_CELL_CLICK,(function(e){var n=t.spreadsheet.getCell(e.target).getMeta();n&&(t.startCell=t.getCellMetaFromViewMeta(n),t.endCell=t.startCell)}))},e.prototype.getCellMetaFromViewMeta=function(t){return{rowIndex:t.rowIndex,colIndex:t.colIndex,id:t.id,type:Ml.DATA_CELL}},e.prototype.handleMove=function(t){var e=t.event,n=t.changeStartCell,r=t.isJumpMode,i=t.isSingleSelection,o=this,a=o.spreadsheet,s=o.startCell,l=o.endCell,u=n?s:l,c=this.getMoveInfo(e.key,u,r);if(c){var f=ru([c.row,c.col],2),h=f[0],d=f[1];this.scrollToActiveCell(a,h,d);var p=this.generateCellMeta(a,h,d),v=i?[p]:this.getRangeCells(a,s,p);dF(a,v),n&&(this.startCell=p),this.endCell=p,this.spreadsheet.emit(bs.DATA_CELL_SELECT_MOVE,v)}},e.prototype.generateCellMeta=function(t,e,n){var r=t.isTableMode,i=t.facet.layoutResult,o=i.colLeafNodes,a=i.rowLeafNodes,s=r()?String(e):a[e].id,l=o[n].id;return{rowIndex:e,colIndex:n,id:_B(s,l),type:Ml.DATA_CELL}},e.prototype.getRangeCells=function(t,e,n){for(var r=pF(e,n),i=r.start,o=i.rowIndex,a=i.colIndex,s=r.end,l=s.rowIndex,u=s.colIndex,c=[],f=o;f<=l;f++)for(var h=a;h<=u;h++)c.push(this.generateCellMeta(t,f,h));return c},e.prototype.getMoveInfo=function(t,e,n){var r=this.spreadsheet,i=r.options,o=i.frozenColCount,a=void 0===o?0:o,s=i.frozenRowCount,l=void 0===s?0:s,u=i.frozenTrailingColCount,c=void 0===u?0:u,f=i.frozenTrailingRowCount,h=void 0===f?0:f,d=r.facet.layoutResult,p=d.rowLeafNodes,v=d.colLeafNodes,g=ru([0+a,v.length-c-1],2),y=g[0],m=g[1],b=ru([0+l,(r.isTableMode()?r.dataSet.getDisplayDataSet().length:p.length)-h-1],2),x=b[0],w=b[1];if(e)switch(t){case Al.ARROW_RIGHT:if(e.colIndex+1>m)return;return{row:e.rowIndex,col:n?m:e.colIndex+1};case Al.ARROW_LEFT:if(e.colIndex-1<y)return;return{row:e.rowIndex,col:n?y:e.colIndex-1};case Al.ARROW_UP:if(e.rowIndex-1<x)return;return{row:n?x:e.rowIndex-1,col:e.colIndex};case Al.ARROW_DOWN:if(e.rowIndex+1>w)return;return{row:n?w:e.rowIndex+1,col:e.colIndex}}},e.prototype.calculateOffset=function(t,e,n){var r=t.options,i=r.frozenRowCount,o=void 0===i?0:i,a=r.frozenTrailingRowCount,s=void 0===a?0:a,l=t.facet,u=t.frozenColGroup,c=t.frozenTrailingColGroup,f=t.frozenRowGroup,h=t.frozenTrailingRowGroup,d=l.layoutResult.colLeafNodes,p=l.getScrollOffset(),v=p.scrollX,g=p.scrollY,y=l.panelBBox,m=y.viewportHeight,b=y.viewportWidth,x=vv(t,"theme.splitLine"),w=u?Math.floor(u.getBBox().width-x.verticalBorderWidth/2):0,_=c?Math.floor(c.getBBox().width):0,O=f?Math.floor(f.getBBox().height-x.horizontalBorderWidth/2):0,C=h?Math.floor(h.getBBox().height):0,S=EI(v,g,l.viewCellWidths,l.viewCellHeights,{width:b-w-_,height:m-O-C,x:w,y:O},l.getRealScrollX(l.cornerBBox.width)),E=-1,M=-1,k=d.find((function(t){return t.colIndex===n}));if(n<=S[0]?E=k.x-w:n>=S[1]&&n<d.length-s&&(E=k.x+k.width-b+_),e<=S[2])M=l.viewCellHeights.getCellOffsetY(e-o);else if(e>=S[3]){var T=l.viewCellHeights.getCellOffsetY(e+1);M=T+C-m}return{offsetX:E,offsetY:M}},e.prototype.scrollToActiveCell=function(t,e,n){var r=this.calculateOffset(t,e,n),i=r.offsetX,o=r.offsetY,a=t.facet,s=t.facet.getScrollOffset(),l=s.scrollX,u=s.scrollY;a.scrollWithAnimation({offsetX:{value:i>-1?i:l},offsetY:{value:o>-1?o:u}})},e}(jH),QH=function(){function t(t){var e=this;this.interactions=new Map,this.intercepts=new Set,this.hoverTimer=null,this.defaultState={cells:[],force:!1},this.onTriggerInteractionsResetEffect=function(){e.interactions.forEach((function(t){t.reset()}))},this.selectAll=function(){e.changeState({stateName:El.ALL_SELECTED})},this.getCellChildrenNodes=function(t){var n,r=null===(n=null===t||void 0===t?void 0:t.getMeta)||void 0===n?void 0:n.call(t),i=(null===t||void 0===t?void 0:t.cellType)===Ml.ROW_CELL,o=e.spreadsheet.isHierarchyTreeType();return o&&i?sI.getAllLeaveNodes(r).filter((function(t){return t.rowIndex===r.rowIndex})):sI.getAllChildrenNodes(r)},this.selectHeaderCell=function(t){var n;void 0===t&&(t={});var r=t.cell;if(!HS(r)){var i=null===(n=null===r||void 0===r?void 0:r.getMeta)||void 0===n?void 0:n.call(r);if(i&&!rE(null===i||void 0===i?void 0:i.x)){e.addIntercepts([Pl.HOVER]);var o=e.spreadsheet.isHierarchyTreeType(),a=(null===r||void 0===r?void 0:r.cellType)===Ml.COL_CELL,s=e.getState(),l=e.isSelectedCell(r),u=(null===t||void 0===t?void 0:t.isMultiSelection)&&e.isSelectedState(),c=l?[]:e.getCellChildrenNodes(r),f=l?[]:[hF(r)];if(u&&(f=Px(null===s||void 0===s?void 0:s.cells,f),c=Px(null===s||void 0===s?void 0:s.nodes,c),l&&(f=f.filter((function(t){var e=t.id;return e!==i.id})),c=c.filter((function(t){return!(null===t||void 0===t?void 0:t.id.includes(i.id))})))),HS(f))return e.reset(),void e.spreadsheet.emit(bs.GLOBAL_SELECTED,e.getActiveCells());var h=c.filter((function(t){return null===t||void 0===t?void 0:t.isLeaf}));e.changeState({cells:f,nodes:h,stateName:El.SELECTED});var d=f.map((function(t){var e=t.id;return e}));return e.updateCells(e.getRowColActiveCells(d)),o&&!a||e.highlightNodes(c),e.spreadsheet.emit(bs.GLOBAL_SELECTED,e.getActiveCells()),!0}}},this.highlightNodes=function(t){void 0===t&&(t=[]),t.forEach((function(t){var e;null===(e=null===t||void 0===t?void 0:t.belongsCell)||void 0===e||e.updateByState(El.SELECTED,t.belongsCell)}))},this.mergeCells=function(t,n){zB(e.spreadsheet,t,n)},this.unmergeCell=function(t){HB(e.spreadsheet,t)},this.spreadsheet=t,this.registerEventController(),this.registerInteractions(),window.addEventListener("visibilitychange",this.onTriggerInteractionsResetEffect)}return t.prototype.destroy=function(){this.interactions.clear(),this.intercepts.clear(),this.eventController.clear(),this.clearHoverTimer(),this.resetState(),window.removeEventListener("visibilitychange",this.onTriggerInteractionsResetEffect)},t.prototype.reset=function(){this.clearState(),this.clearHoverTimer(),this.intercepts.clear(),this.spreadsheet.hideTooltip()},t.prototype.setState=function(t){xF(this.spreadsheet,t)},t.prototype.getState=function(){return this.spreadsheet.store.get(Nl)||this.defaultState},t.prototype.setInteractedCells=function(t){var e=this.getInteractedCells().concat([t]),n=this.getState();n.interactedCells=e,this.setState(n)},t.prototype.getInteractedCells=function(){var t=this.getState();return(null===t||void 0===t?void 0:t.interactedCells)||[]},t.prototype.resetState=function(){this.spreadsheet.store.set(Nl,this.defaultState)},t.prototype.getCurrentStateName=function(){return this.getState().stateName},t.prototype.isEqualStateName=function(t){return this.getCurrentStateName()===t},t.prototype.isStateOf=function(t){var e=this.getState();return(null===e||void 0===e?void 0:e.stateName)===t},t.prototype.isSelectedState=function(){return this.isStateOf(El.SELECTED)},t.prototype.isAllSelectedState=function(){return this.isStateOf(El.ALL_SELECTED)},t.prototype.isHoverFocusState=function(){return this.isStateOf(El.HOVER_FOCUS)},t.prototype.isHoverState=function(){return this.isStateOf(El.HOVER)},t.prototype.isActiveCell=function(t){return!!this.getCells().find((function(e){return t.getMeta().id===e.id}))},t.prototype.isSelectedCell=function(t){return this.isSelectedState()&&this.isActiveCell(t)},t.prototype.getCells=function(t){var e=this.getState(),n=(null===e||void 0===e?void 0:e.cells)||[];return rE(t)?n:n.filter((function(e){return t.includes(e.type)}))},t.prototype.getActiveCells=function(){var t=this.getCells().map((function(t){return t.id})),e=this.getAllCells();return KO(t,(function(t){return FO(e,(function(e){var n;return(null===(n=null===e||void 0===e?void 0:e.getMeta())||void 0===n?void 0:n.id)===t}))})).filter((function(t){return t}))},t.prototype.clearStyleIndependent=function(){(this.isSelectedState()||this.isHoverState()||this.isAllSelectedState())&&this.getPanelGroupAllDataCells().forEach((function(t){t.hideInteractionShape()}))},t.prototype.getPanelGroupAllUnSelectedDataCells=function(){var t=this;return this.getPanelGroupAllDataCells().filter((function(e){return!t.isActiveCell(e)}))},t.prototype.getPanelGroupAllDataCells=function(){var t;return nH(null===(t=this.spreadsheet.panelGroup)||void 0===t?void 0:t.getChildren(),TB)},t.prototype.getAllRowHeaderCells=function(){var t,e,n=(null===(t=this.spreadsheet.foregroundGroup)||void 0===t?void 0:t.getChildren())||[],r=n.find((function(t){return t instanceof yH})),i=(null===(e=null===r||void 0===r?void 0:r.cfg)||void 0===e?void 0:e.children)||[];return nH(i,nF).filter((function(t){return t.cellType===Ml.ROW_CELL}))},t.prototype.getAllColHeaderCells=function(){var t,e,n=(null===(t=this.spreadsheet.foregroundGroup)||void 0===t?void 0:t.getChildren())||[],r=n.find((function(t){return t instanceof pH})),i=(null===(e=null===r||void 0===r?void 0:r.cfg)||void 0===e?void 0:e.children)||[];return nH(i,PD).filter((function(t){return t.cellType===Ml.COL_CELL}))},t.prototype.getRowColActiveCells=function(t){return Px(this.getAllRowHeaderCells(),this.getAllColHeaderCells()).filter((function(e){return t.includes(e.getMeta().id)}))},t.prototype.getAllCells=function(){return Px(this.getPanelGroupAllDataCells(),this.getAllRowHeaderCells(),this.getAllColHeaderCells())},t.prototype.hideColumns=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=!0),QB(this.spreadsheet,t,e)},t.prototype.getBrushSelectionInfo=function(t){var e,n,r;return LS(t)?{dataBrushSelection:t,rowBrushSelection:t,colBrushSelection:t}:{dataBrushSelection:null!==(e=null===t||void 0===t?void 0:t.data)&&void 0!==e&&e,rowBrushSelection:null!==(n=null===t||void 0===t?void 0:t.row)&&void 0!==n&&n,colBrushSelection:null!==(r=null===t||void 0===t?void 0:t.col)&&void 0!==r&&r}},t.prototype.getDefaultInteractions=function(){var t=this.spreadsheet.options.interaction,e=t.resize,n=t.brushSelection,r=t.multiSelection,i=t.rangeSelection,o=t.selectedCellMove,a=this.getBrushSelectionInfo(n),s=a.dataBrushSelection,l=a.rowBrushSelection,u=a.colBrushSelection;return[{key:Sl.CORNER_CELL_CLICK,interaction:zH},{key:Sl.DATA_CELL_CLICK,interaction:NH},{key:Sl.ROW_COLUMN_CLICK,interaction:DH},{key:Sl.ROW_TEXT_CLICK,interaction:FH},{key:Sl.MERGED_CELLS_CLICK,interaction:BH},{key:Sl.HOVER,interaction:WH,enable:!nI()},{key:Sl.BRUSH_SELECTION,interaction:GH,enable:!nI()&&s},{key:Sl.ROW_BRUSH_SELECTION,interaction:VH,enable:!nI()&&l},{key:Sl.COL_BRUSH_SELECTION,interaction:$H,enable:!nI()&&u},{key:Sl.COL_ROW_RESIZE,interaction:XH,enable:!nI()&&e},{key:Sl.DATA_CELL_MULTI_SELECTION,interaction:UH,enable:!nI()&&r},{key:Sl.RANGE_SELECTION,interaction:qH,enable:!nI()&&i},{key:Sl.SELECTED_CELL_MOVE,interaction:ZH,enable:!nI()&&o}]},t.prototype.registerInteractions=function(){var t=this,e=this.spreadsheet.options.interaction.customInteractions;this.interactions.clear();var n=this.getDefaultInteractions();n.forEach((function(e){var n=e.key,r=e.interaction,i=e.enable;!1!==i&&t.interactions.set(n,new r(t.spreadsheet))})),HS(e)||J_(e,(function(e){var n=e.interaction;t.interactions.set(e.key,new n(t.spreadsheet))}))},t.prototype.registerEventController=function(){this.eventController=new YH(this.spreadsheet)},t.prototype.draw=function(){this.spreadsheet.container.draw()},t.prototype.clearState=function(){bF(this.spreadsheet)&&this.draw()},t.prototype.changeState=function(t){var e=this,n=this.spreadsheet.interaction,r=t.cells,i=void 0===r?[]:r,o=t.force,a=t.stateName,s=t.onUpdateCells;if(HS(i)&&a===El.SELECTED)o&&n.changeState({cells:[],stateName:El.UNSELECTED});else{this.getCurrentStateName()===El.ALL_SELECTED&&this.clearStyleIndependent(),this.clearState(),this.setState(t);var l=function(){e.updatePanelGroupAllDataCells()};s?s(this,l):l(),this.draw()}},t.prototype.updatePanelGroupAllDataCells=function(){this.updateCells(this.getPanelGroupAllDataCells())},t.prototype.updateCells=function(t){void 0===t&&(t=[]),t.forEach((function(t){t.update()}))},t.prototype.addIntercepts=function(t){var e=this;void 0===t&&(t=[]),t.forEach((function(t){e.intercepts.add(t)}))},t.prototype.hasIntercepts=function(t){var e=this;return void 0===t&&(t=[]),t.some((function(t){return e.intercepts.has(t)}))},t.prototype.removeIntercepts=function(t){var e=this;void 0===t&&(t=[]),t.forEach((function(t){e.intercepts.delete(t)}))},t.prototype.clearHoverTimer=function(){clearTimeout(this.hoverTimer)},t.prototype.setHoverTimer=function(t){this.hoverTimer=t},t.prototype.getHoverTimer=function(){return this.hoverTimer},t.prototype.getSelectedCellHighlight=function(){var t=this.spreadsheet.options.interaction.selectedCellHighlight;if(LS(t))return{rowHeader:t,colHeader:t,currentRow:!1,currentCol:!1};var e=null!==t&&void 0!==t?t:{},n=e.rowHeader,r=void 0!==n&&n,i=e.colHeader,o=void 0!==i&&i,a=e.currentRow,s=void 0!==a&&a,l=e.currentCol,u=void 0!==l&&l;return{rowHeader:r,colHeader:o,currentRow:s,currentCol:u}},t.prototype.getHoverAfterScroll=function(){return this.spreadsheet.options.interaction.hoverAfterScroll},t.prototype.getHoverHighlight=function(){var t=this.spreadsheet.options.interaction.hoverHighlight;if(LS(t))return{rowHeader:t,colHeader:t,currentRow:t,currentCol:t};var e=null!==t&&void 0!==t?t:{},n=e.rowHeader,r=void 0!==n&&n,i=e.colHeader,o=void 0!==i&&i,a=e.currentRow,s=void 0!==a&&a,l=e.currentCol,u=void 0!==l&&l;return{rowHeader:r,colHeader:o,currentRow:s,currentCol:u}},t.prototype.getBrushSelection=function(){var t=this.spreadsheet.options.interaction.brushSelection;if(LS(t))return{data:t,row:t,col:t};var e=null!==t&&void 0!==t?t:{},n=e.data,r=void 0!==n&&n,i=e.row,o=void 0!==i&&i,a=e.col,s=void 0!==a&&a;return{data:r,row:o,col:s}},t}(),JH=function(){function t(t){var e=this;this.viewport=window,this.isDevicePixelRatioChange=!1,this.init=function(){e.initDevicePixelRatioListener(),e.initDeviceZoomListener()},this.destroy=function(){e.removeDevicePixelRatioListener(),e.removeDeviceZoomListener()},this.removeDevicePixelRatioListener=function(){var t;(null===(t=e.devicePixelRatioMedia)||void 0===t?void 0:t.removeEventListener)?e.devicePixelRatioMedia.removeEventListener("change",e.renderByDevicePixelRatioChanged):e.devicePixelRatioMedia.removeListener(e.renderByDevicePixelRatioChanged)},this.initDeviceZoomListener=function(){var t,n;nI()||null===(n=null===(t=e.viewport)||void 0===t?void 0:t.visualViewport)||void 0===n||n.addEventListener("resize",e.renderByZoomScaleWithoutResizeEffect)},this.removeDeviceZoomListener=function(){var t,n;nI()||null===(n=null===(t=e.viewport)||void 0===t?void 0:t.visualViewport)||void 0===n||n.removeEventListener("resize",e.renderByZoomScaleWithoutResizeEffect)},this.renderByZoomScaleWithoutResizeEffect=function(t){e.isDevicePixelRatioChange=!1,e.renderByZoomScale(t)},this.renderByDevicePixelRatioChanged=function(){e.isDevicePixelRatioChange=!0,e.renderByDevicePixelRatio()},this.renderByDevicePixelRatio=function(t){void 0===t&&(t=window.devicePixelRatio);var n=e.spreadsheet,r=n.container,i=n.options,o=i.width,a=i.height,s=i.devicePixelRatio,l=e.spreadsheet.getCanvasElement(),u=r.get("pixelRatio");if(u!==t&&l){var c=Math.max(t,s,ql);r.set("pixelRatio",c),r.changeSize(o,a),e.spreadsheet.render(!1)}},this.renderByZoomScale=h_((function(t){var n=Math.ceil(t.target.scale);n>=1&&!e.isDevicePixelRatioChange&&e.renderByDevicePixelRatio(n)}),350),this.spreadsheet=t}return t.prototype.initDevicePixelRatioListener=function(){var t;this.devicePixelRatioMedia=window.matchMedia("(resolution: ".concat(window.devicePixelRatio,"dppx)")),(null===(t=this.devicePixelRatioMedia)||void 0===t?void 0:t.addEventListener)?this.devicePixelRatioMedia.addEventListener("change",this.renderByDevicePixelRatioChanged):this.devicePixelRatioMedia.addListener(this.renderByDevicePixelRatioChanged)},t}(),t$=function(){function t(t){this.visible=!1,this.position={x:0,y:0},this.spreadsheet=t}return t.prototype.show=function(t){var e,n,r,i=t.position,o=t.options,a=t.content,s=t.event,l=_W(o).enterable,u=this.spreadsheet.options.tooltip||{},c=u.autoAdjustBoundary,f=u.adjustPosition;this.visible=!0,this.options=t;var h=this.getContainer();this.renderContent(a);var d=wW({spreadsheet:this.spreadsheet,position:i,tooltipContainer:h,autoAdjustBoundary:c}),p=d.x,v=d.y;this.position=null!==(e=null===f||void 0===f?void 0:f({position:{x:p,y:v},event:s}))&&void 0!==e?e:{x:p,y:v},CW(h,{style:{left:"".concat(null===(n=this.position)||void 0===n?void 0:n.x,"px"),top:"".concat(null===(r=this.position)||void 0===r?void 0:r.y,"px"),pointerEvents:l?"all":"none"},visible:!0})},t.prototype.hide=function(){this.visible=!1,this.container&&(CW(this.container,{style:{pointerEvents:"none"},visible:!1}),this.resetPosition())},t.prototype.destroy=function(){var t,e;this.visible=!1,this.container&&(this.resetPosition(),null===(e=(t=this.container).remove)||void 0===e||e.call(t),this.container=null)},t.prototype.renderContent=function(t){if(this.container){this.clearContent();var e=(this.spreadsheet.options.tooltip||{}).content,n=null!==t&&void 0!==t?t:e;rE(n)||("string"!==typeof n?n instanceof Element&&this.container.appendChild(n):this.container.innerHTML=n)}},t.prototype.clearContent=function(){this.container&&(this.container.innerHTML="")},t.prototype.disablePointerEvent=function(){this.container&&"none"!==this.container.style.pointerEvents&&CW(this.container,{style:{pointerEvents:"none"}})},t.prototype.resetPosition=function(){this.position={x:0,y:0}},t.prototype.getContainer=function(){var t;if(!this.container){var e=this.spreadsheet.options.tooltip,n=(null===(t=e.getContainer)||void 0===t?void 0:t.call(e))||document.body,r=document.createElement("div");return CW(r,{style:e.style,className:[YR].concat(e.className)}),n.appendChild(r),this.container=r,this.container}return this.container},t}(),e$=function(t){function e(e,n,r){var i=t.call(this)||this;return i.store=new Sj,i.untypedOn=i.on,i.untypedEmit=i.emit,i.on=function(t,e){return i.untypedOn(t,e)},i.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return i.untypedEmit.apply(i,iu([t],ru(e),!1))},i.initHiddenColumnsDetail=function(){var t=i.options.interaction.hiddenColumnFields,e=i.store.get("hiddenColumnsDetail");HS(t)&&HS(e)||QB(i,t,!0)},i.measureText=rv((function(t,e){var n;if(void 0===t&&(t=""),!e)return null;var r=null===(n=i.getCanvasElement())||void 0===n?void 0:n.getContext("2d"),o=e,a=o.fontSize,s=o.fontFamily,l=o.fontWeight,u=o.fontStyle,c=o.fontVariant;return r.font=[u,c,l,"".concat(a,"px"),s].join(" ").trim(),r.measureText(String(t))}),(function(t,e){return iu([t],ru(YC(e)),!1).join("")})),i.measureTextWidth=function(t,e){void 0===t&&(t="");var n=i.measureText(t,e);return(null===n||void 0===n?void 0:n.width)||0},i.measureTextHeight=function(t,e){void 0===t&&(t="");var n=i.measureText(t,e);return n?n.actualBoundingBoxAscent+n.actualBoundingBoxDescent:0},i.measureTextWidthRoughly=function(t,e){var n,r;void 0===e&&(e={});var o=i.measureTextWidth("a",e),a=i.measureTextWidth("",e),s=0;if(!t)return s;try{for(var l=nu(t),u=l.next();!u.done;u=l.next()){var c=u.value,f=c.charCodeAt(0);s+=f>=0&&f<=255?o:a}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return s},i.dataCfg=SF(n),i.options=EF(r),i.dataSet=i.getDataSet(i.options),i.setDebug(),i.initTooltip(),i.initGroups(e),i.bindEvents(),i.initInteraction(),i.initTheme(),i.initHdAdapter(),i.registerIcons(),i.setOverscrollBehavior(),i}return Jl(e,t),e.prototype.setOverscrollBehavior=function(){var t=this.options.interaction.overscrollBehavior,e=window.getComputedStyle(document.body).getPropertyValue("overscroll-behavior"),n=e&&"auto"!==e;n?this.store.set("initOverscrollBehavior",e):t&&(document.body.style.overscrollBehavior=t)},e.prototype.restoreOverscrollBehavior=function(){document.body.style.overscrollBehavior=this.store.get("initOverscrollBehavior")||""},e.prototype.setDebug=function(){YI.getInstance().setDebug(this.options.debug)},e.prototype.initTheme=function(){this.setThemeCfg({name:"default"})},e.prototype.getMountContainer=function(t){var e=VC(t)?document.querySelector(t):t;if(!e)throw new Error("Target mount container is not a DOM element");return e},e.prototype.initHdAdapter=function(){this.options.hdAdapter&&(this.hdAdapter=new JH(this),this.hdAdapter.init())},e.prototype.initInteraction=function(){var t,e;null===(e=null===(t=this.interaction)||void 0===t?void 0:t.destroy)||void 0===e||e.call(t),this.interaction=new QH(this)},e.prototype.initTooltip=function(){var t,e,n,r;null===(e=null===(t=this.tooltip)||void 0===t?void 0:t.destroy)||void 0===e||e.call(t),this.tooltip=this.renderTooltip(),this.tooltip instanceof t$||console.warn("[Custom Tooltip]: ".concat(null===(r=null===(n=this.tooltip)||void 0===n?void 0:n.constructor)||void 0===r?void 0:r.toString()," should be extends from BaseTooltip"))},e.prototype.renderTooltip=function(){var t,e;return(null===(e=null===(t=this.options.tooltip)||void 0===t?void 0:t.renderTooltip)||void 0===e?void 0:e.call(t,this))||new t$(this)},e.prototype.showTooltip=function(t){var e,n,r=t.content,i=t.event,o=this.getCell(null===i||void 0===i?void 0:i.target),a=sc(r)?r(o,t):r;null===(n=(e=this.tooltip).show)||void 0===n||n.call(e,tu(tu({},t),{content:a}))},e.prototype.showTooltipWithInfo=function(t,e,n){var r,i=WW(this,t),o=i.showTooltip,a=i.content;if(o){var s=this.getCell(null===t||void 0===t?void 0:t.target),l=null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:BW({spreadsheet:this,cellInfos:e,targetCell:s,options:tu({enableFormat:!0},n)});this.showTooltip({data:l,position:{x:t.clientX,y:t.clientY},options:tu({enterable:!0},n),event:t,content:a})}},e.prototype.hideTooltip=function(){var t,e;null===(e=(t=this.tooltip).hide)||void 0===e||e.call(t)},e.prototype.destroyTooltip=function(){var t,e;null===(e=(t=this.tooltip).destroy)||void 0===e||e.call(t)},e.prototype.registerIcons=function(){var t=this.options.customSVGIcons;HS(t)||J_(t,(function(t){gj(t.name,t.svg)}))},e.prototype.setDataCfg=function(t,e){this.store.set("originalDataCfg",t),this.dataCfg=e?SF(t):SF(this.dataCfg,t),GW(this)},e.prototype.setOptions=function(t,e){var n;this.hideTooltip(),this.options=e?EF(t):OF(this.options,t),(e||(null===(n=t.tooltip)||void 0===n?void 0:n.renderTooltip))&&this.initTooltip(),this.registerIcons()},e.prototype.render=function(t,e){if(void 0===t&&(t=!0),void 0===e&&(e={}),this.getCanvasElement()){var n=e.reBuildDataSet,r=void 0!==n&&n,i=e.reBuildHiddenColumnsDetail,o=void 0===i||i;this.emit(bs.LAYOUT_BEFORE_RENDER),r&&(this.dataSet=this.getDataSet(this.options)),t&&(this.clearDrillDownData("",!0),this.dataSet.setDataCfg(this.dataCfg)),this.buildFacet(),o&&this.initHiddenColumnsDetail(),this.emit(bs.LAYOUT_AFTER_RENDER)}},e.prototype.destroy=function(){var t,e,n,r,i;this.restoreOverscrollBehavior(),this.emit(bs.LAYOUT_DESTROY),null===(t=this.facet)||void 0===t||t.destroy(),null===(e=this.hdAdapter)||void 0===e||e.destroy(),null===(n=this.interaction)||void 0===n||n.destroy(),null===(r=this.store)||void 0===r||r.clear(),this.destroyTooltip(),this.clearCanvasEvent(),null===(i=this.container)||void 0===i||i.destroy(),Kj()},e.prototype.setThemeCfg=function(t){void 0===t&&(t={});var e=(null===t||void 0===t?void 0:t.theme)||{},n=aI(tu(tu({},t),{spreadsheet:this}));this.theme=OF(n,e)},e.prototype.setTheme=function(t){this.theme=OF(this.theme,t)},e.prototype.updatePagination=function(t){this.options=OF(this.options,{pagination:t}),this.store.set("scrollX",0),this.store.set("scrollY",0)},e.prototype.getContentHeight=function(){return this.facet.getContentHeight()},e.prototype.changeSize=function(t,e){void 0===t&&(t=this.options.width),void 0===e&&(e=this.options.height),this.changeSheetSize(t,e)},e.prototype.changeSheetSize=function(t,e){void 0===t&&(t=this.options.width),void 0===e&&(e=this.options.height);var n=this.getCanvasElement(),r=this.container.get("width"),i=this.container.get("height"),o=t!==r||e!==i;o&&n&&(this.options=OF(this.options,{width:t,height:e}),this.container.changeSize(t,e))},e.prototype.getCanvasElement=function(){return this.container.get("el")},e.prototype.getLayoutWidthType=function(){return this.options.style.layoutWidthType},e.prototype.getRowNodes=function(t){return void 0===t&&(t=-1),-1===t?this.facet.layoutResult.rowNodes:this.facet.layoutResult.rowNodes.filter((function(e){return e.level===t}))},e.prototype.getRowLeafNodes=function(){var t;return(null===(t=this.facet)||void 0===t?void 0:t.layoutResult.rowLeafNodes)||[]},e.prototype.getColumnNodes=function(t){var e;void 0===t&&(t=-1);var n=(null===(e=this.facet)||void 0===e?void 0:e.layoutResult.colNodes)||[];return-1===t?n:n.filter((function(e){return e.level===t}))},e.prototype.getColumnLeafNodes=function(){var t;return(null===(t=this.facet)||void 0===t?void 0:t.layoutResult.colLeafNodes)||[]},e.prototype.updateScrollOffset=function(t){var e={offsetX:{value:void 0,animate:!1},offsetY:{value:void 0,animate:!1},rowHeaderOffsetX:{value:void 0,animate:!1}};this.facet.updateScrollOffset(OF(e,t))},e.prototype.getTooltipDataItemMappingCallback=function(){var t;return null===(t=this.options)||void 0===t?void 0:t.mappingDisplayDataItem},e.prototype.getCell=function(t){var e,n=t;while(n&&!(n instanceof xs)){if(n instanceof bB)return n;n=null===(e=n.get)||void 0===e?void 0:e.call(n,"parent")}return null},e.prototype.getCellType=function(t){var e=this.getCell(t);return null===e||void 0===e?void 0:e.cellType},e.prototype.getTotalsConfig=function(t){var e=this.options.totals,n=this.dataSet.fields.rows,r=vv(e,XC(n,t)?"row":"col",{}),i=!(!r.showSubTotals||!XC(r.subTotalsDimensions,t))&&r.showSubTotals;return{showSubTotals:i,showGrandTotals:r.showGrandTotals,reverseLayout:r.reverseLayout,reverseSubLayout:r.reverseSubLayout,label:r.label||VR(""),subLabel:r.subLabel||VR("")}},e.prototype.initGroups=function(t){var e=this.options,n=e.width,r=e.height,i=e.supportCSSTransform,o=e.devicePixelRatio;this.container=new xs({container:this.getMountContainer(t),width:n,height:r,localRefresh:!1,supportCSSTransform:i,pixelRatio:Math.max(o,ql)}),this.backgroundGroup=this.container.addGroup({name:Ns,zIndex:Ms}),this.panelGroup=this.container.addGroup({name:Ds,zIndex:Rs}),this.foregroundGroup=this.container.addGroup({name:Bs,zIndex:ks}),this.initPanelGroupChildren(),this.updateContainerStyle()},e.prototype.updateContainerStyle=function(){var t=this.getCanvasElement();t&&(t.style.display="block")},e.prototype.initPanelGroupChildren=function(){this.panelScrollGroup=new IH({name:Fs,zIndex:Is,s2:this}),this.panelGroup.add(this.panelScrollGroup)},e.prototype.getInitColumnLeafNodes=function(){return this.store.get("initColumnLeafNodes",[])},e.prototype.clearColumnLeafNodes=function(){this.store.set("initColumnLeafNodes",void 0)},e.prototype.clearCanvasEvent=function(){var t=this,e=this.getEvents();mC(e,(function(e,n){t.off(n)}))},e.prototype.updateSortMethodMap=function(t,e,n){var r;void 0===n&&(n=!1);var i=n?null:this.store.get("sortMethodMap");this.store.set("sortMethodMap",tu(tu({},i),(r={},r[t]=e,r)))},e.prototype.getMenuDefaultSelectedKeys=function(t){var e=this.store.get("sortMethodMap"),n=vv(e,t);return n?[n]:[]},e}(kt),n$=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Jl(e,t),e.prototype.getDataSet=function(t){var e=t.dataSet,n=t.hierarchyType;if(e)return e(this);var r="customTree"===n?new KW(this):new qW(this);return r},e.prototype.getContentHeight=function(){return this.facet.getContentHeight()},e.prototype.isPivotMode=function(){return!0},e.prototype.isTableMode=function(){return!1},e.prototype.isHierarchyTreeType=function(){var t=this.options.hierarchyType;return"tree"===t||"customTree"===t},e.prototype.isScrollContainsRowHeader=function(){return!this.isFrozenRowHeader()},e.prototype.isFrozenRowHeader=function(){var t;return null===(t=this.options)||void 0===t?void 0:t.frozenRowHeader},e.prototype.isValueInCols=function(){return this.dataSet.fields.valueInCols},e.prototype.clearDrillDownData=function(t,e){this.dataSet instanceof qW&&(this.dataSet.clearDrillDownData(t),e||(this.interaction.reset(),this.render(!1)))},e.prototype.getFacetCfgFromDataSetAndOptions=function(){var t=this,e=this.dataSet,n=e.fields,r=e.meta,i=this.options,o=i.style,a=i.dataCell,s=function(e){return new TB(e,t)};return tu(tu(tu(tu({},this.options),n),o),{meta:r,spreadsheet:this,dataSet:this.dataSet,dataCell:null!==a&&void 0!==a?a:s})},e.prototype.buildFacet=function(){var t,e=this.getFacetCfgFromDataSetAndOptions();null===(t=this.facet)||void 0===t||t.destroy(),this.facet=new AH(e),this.facet.render()},e.prototype.bindEvents=function(){this.off(bs.ROW_CELL_COLLAPSE_TREE_ROWS),this.off(bs.LAYOUT_TREE_ROWS_COLLAPSE_ALL),this.on(bs.ROW_CELL_COLLAPSE_TREE_ROWS,this.handleRowCellCollapseTreeRows),this.on(bs.LAYOUT_TREE_ROWS_COLLAPSE_ALL,this.handleTreeRowsCollapseAll)},e.prototype.handleRowCellCollapseTreeRows=function(t){var e,n=t.id,r=t.isCollapsed,i={style:{collapsedRows:(e={},e[n]=r,e)}};this.emit(bs.LAYOUT_COLLAPSE_ROWS,{collapsedRows:i.style.collapsedRows,meta:null===t||void 0===t?void 0:t.node}),this.setOptions(i),this.render(!1),this.emit(bs.LAYOUT_AFTER_COLLAPSE_ROWS,{collapsedRows:i.style.collapsedRows,meta:null===t||void 0===t?void 0:t.node})},e.prototype.handleTreeRowsCollapseAll=function(t){var e={style:{hierarchyCollapse:!t,collapsedRows:null,rowExpandDepth:null}};this.setOptions(e),this.render(!1)},e.prototype.groupSortByMethod=function(t,e){var n=this.dataCfg.fields,r=n.rows,i=n.columns,o=this.options.style.colCfg.hideMeasureColumn,a=this.isValueInCols()?z_(r):z_(i),s=e.query,l=e.value,u=wx(s),c=l;o&&this.isValueInCols()&&(c=this.dataSet.fields.values[0],u[Os]=c);var f={sortFieldId:a,sortMethod:t,sortByMeasure:c,query:u},h=this.dataCfg.sortParams.filter((function(t){return(null===t||void 0===t?void 0:t.sortFieldId)!==a}));this.updateSortMethodMap(e.id,t,!0);var d=iu(iu([],ru(h),!1),[f],!1);this.emit(bs.RANGE_SORT,d),this.setDataCfg(tu(tu({},this.dataCfg),{sortParams:d})),this.render()},e.prototype.handleGroupSort=function(t,e){var n=this;t.stopPropagation(),this.interaction.addIntercepts([Pl.HOVER]);var r=this.getMenuDefaultSelectedKeys(null===e||void 0===e?void 0:e.id),i={onClick:function(r){var i=r.key,o=i;n.groupSortByMethod(o,e),n.emit(bs.RANGE_SORTED,t)},menus:JR(),defaultSelectedKeys:r};this.showTooltipWithInfo(t,[],{operator:i,onlyMenu:!0,forceRender:!0})}}(e$),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e}(RH)),r$=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onSortTooltipClick=function(t,n){var r=t.key,i=n.field,o={sortFieldId:i,sortMethod:r};e.updateSortMethodMap(n.id,r),e.emit(bs.RANGE_SORT,[o])},e}return Jl(e,t),e.prototype.getDataSet=function(t){var e=t.dataSet;return e?e(this):new XW(this)},e.prototype.isPivotMode=function(){return!1},e.prototype.isTableMode=function(){return!0},e.prototype.isHierarchyTreeType=function(){return!1},e.prototype.isScrollContainsRowHeader=function(){return!1},e.prototype.isFrozenRowHeader=function(){return!1},e.prototype.clearDrillDownData=function(){},e.prototype.isValueInCols=function(){return!1},e.prototype.bindEvents=function(){},e.prototype.initPanelGroupChildren=function(){var e,n=this;t.prototype.initPanelGroupChildren.call(this);var r={zIndex:js,s2:this};e=ru([Ws,Hs,$s,Gs,Vs,Us].map((function(t){var e=new n$(tu({name:t},r));return n.panelGroup.add(e),e})),6),this.frozenRowGroup=e[0],this.frozenColGroup=e[1],this.frozenTrailingRowGroup=e[2],this.frozenTrailingColGroup=e[3],this.frozenTopGroup=e[4],this.frozenBottomGroup=e[5]},e.prototype.getFacetCfgFromDataSetAndOptions=function(){var t=this,e=this.dataSet,n=e.fields,r=e.meta,i=this.options,o=i.style,a=i.dataCell,s=function(e){return t.options.showSeriesNumber&&0===e.colIndex?new uF(e,t):new lF(e,t)};return tu(tu(tu(tu({},this.options),n),o),{meta:r,spreadsheet:this,dataSet:this.dataSet,dataCell:null!==a&&void 0!==a?a:s})},e.prototype.buildFacet=function(){var t,e=this.getFacetCfgFromDataSetAndOptions();null===(t=this.facet)||void 0===t||t.destroy(),this.facet=new PH(e),this.facet.render()},e.prototype.clearFrozenGroups=function(){this.frozenRowGroup.set("children",[]),this.frozenColGroup.set("children",[]),this.frozenTrailingRowGroup.set("children",[]),this.frozenTrailingColGroup.set("children",[]),this.frozenTopGroup.set("children",[]),this.frozenBottomGroup.set("children",[])},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.clearFrozenGroups(),this.off(bs.RANGE_SORT),this.off(bs.RANGE_FILTER)},e.prototype.handleGroupSort=function(t,e){var n=this;t.stopPropagation(),this.interaction.addIntercepts([Pl.HOVER]);var r=this.getMenuDefaultSelectedKeys(null===e||void 0===e?void 0:e.id),i={onClick:function(t){var r=t.key,i=r;n.onSortTooltipClick({key:i},e)},menus:tI(),defaultSelectedKeys:r};this.showTooltipWithInfo(t,[],{operator:i,onlyMenu:!0,forceRender:!0})},e}(e$)},7074:function(t){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},9841:function(t,e,n){var r=n(7074),i=n(4579),o=Object.hasOwnProperty,a=Object.create(null);for(var s in r)o.call(r,s)&&(a[r[s]]=s);var l=t.exports={to:{},get:{}};function u(t,e,n){return Math.min(Math.max(e,t),n)}function c(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}l.get=function(t){var e,n,r=t.substring(0,3).toLowerCase();switch(r){case"hsl":e=l.get.hsl(t),n="hsl";break;case"hwb":e=l.get.hwb(t),n="hwb";break;default:e=l.get.rgb(t),n="rgb";break}return e?{model:n,value:e}:null},l.get.rgb=function(t){if(!t)return null;var e,n,i,a=/^#([a-f0-9]{3,4})$/i,s=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,l=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,c=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,f=/^(\w+)$/,h=[0,0,0,1];if(e=t.match(s)){for(i=e[2],e=e[1],n=0;n<3;n++){var d=2*n;h[n]=parseInt(e.slice(d,d+2),16)}i&&(h[3]=parseInt(i,16)/255)}else if(e=t.match(a)){for(e=e[1],i=e[3],n=0;n<3;n++)h[n]=parseInt(e[n]+e[n],16);i&&(h[3]=parseInt(i+i,16)/255)}else if(e=t.match(l)){for(n=0;n<3;n++)h[n]=parseInt(e[n+1],0);e[4]&&(e[5]?h[3]=.01*parseFloat(e[4]):h[3]=parseFloat(e[4]))}else{if(!(e=t.match(c)))return(e=t.match(f))?"transparent"===e[1]?[0,0,0,0]:o.call(r,e[1])?(h=r[e[1]],h[3]=1,h):null:null;for(n=0;n<3;n++)h[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(e[5]?h[3]=.01*parseFloat(e[4]):h[3]=parseFloat(e[4]))}for(n=0;n<3;n++)h[n]=u(h[n],0,255);return h[3]=u(h[3],0,1),h},l.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,o=u(parseFloat(n[2]),0,100),a=u(parseFloat(n[3]),0,100),s=u(isNaN(r)?1:r,0,1);return[i,o,a,s]}return null},l.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,o=u(parseFloat(n[2]),0,100),a=u(parseFloat(n[3]),0,100),s=u(isNaN(r)?1:r,0,1);return[i,o,a,s]}return null},l.to.hex=function(){var t=i(arguments);return"#"+c(t[0])+c(t[1])+c(t[2])+(t[3]<1?c(Math.round(255*t[3])):"")},l.to.rgb=function(){var t=i(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},l.to.rgb.percent=function(){var t=i(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},l.to.hsl=function(){var t=i(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},l.to.hwb=function(){var t=i(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},l.to.keyword=function(t){return a[t.slice(0,3)]}},1645:function(t,e,n){"use strict";n(7658);var r=function(t){return i(t)&&!o(t)};function i(t){return!!t&&"object"===typeof t}function o(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||l(t)}var a="function"===typeof Symbol&&Symbol.for,s=a?Symbol.for("react.element"):60103;function l(t){return t.$$typeof===s}function u(t){return Array.isArray(t)?[]:{}}function c(t,e){var n=e&&!0===e.clone;return n&&r(t)?d(u(t),t,e):t}function f(t,e,n){var i=t.slice();return e.forEach((function(e,o){"undefined"===typeof i[o]?i[o]=c(e,n):r(e)?i[o]=d(t[o],e,n):-1===t.indexOf(e)&&i.push(c(e,n))})),i}function h(t,e,n){var i={};return r(t)&&Object.keys(t).forEach((function(e){i[e]=c(t[e],n)})),Object.keys(e).forEach((function(o){r(e[o])&&t[o]?i[o]=d(t[o],e[o],n):i[o]=c(e[o],n)})),i}function d(t,e,n){var r=Array.isArray(e),i=Array.isArray(t),o=n||{arrayMerge:f},a=r===i;if(a){if(r){var s=o.arrayMerge||f;return s(t,e,n)}return h(t,e,n)}return c(e,n)}d.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce((function(t,n){return d(t,n,e)}))};var p=d;t.exports=p},6151:function(t){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=96)}({0:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var l,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,l):[l]}return{exports:t,options:u}}n.d(e,"a",(function(){return r}))},96:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"el-button",class:[t.type?"el-button--"+t.type:"",t.buttonSize?"el-button--"+t.buttonSize:"",{"is-disabled":t.buttonDisabled,"is-loading":t.loading,"is-plain":t.plain,"is-round":t.round,"is-circle":t.circle}],attrs:{disabled:t.buttonDisabled||t.loading,autofocus:t.autofocus,type:t.nativeType},on:{click:t.handleClick}},[t.loading?n("i",{staticClass:"el-icon-loading"}):t._e(),t.icon&&!t.loading?n("i",{class:t.icon}):t._e(),t.$slots.default?n("span",[t._t("default")],2):t._e()])},i=[];r._withStripped=!0;var o={name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.$options.propsData.hasOwnProperty("disabled")?this.disabled:(this.elForm||{}).disabled}},methods:{handleClick:function(t){this.$emit("click",t)}}},a=o,s=n(0),l=Object(s["a"])(a,r,i,!1,null,null,null);l.options.__file="packages/button/src/button.vue";var u=l.exports;u.install=function(t){t.component(u.name,u)};e["default"]=u}})},6997:function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=93)}({0:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var l,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,l):[l]}return{exports:t,options:u}}n.d(e,"a",(function(){return r}))},4:function(t,e){t.exports=n(4947)},93:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"el-checkbox-group",attrs:{role:"group","aria-label":"checkbox-group"}},[t._t("default")],2)},i=[];r._withStripped=!0;var o=n(4),a=n.n(o),s={name:"ElCheckboxGroup",componentName:"ElCheckboxGroup",mixins:[a.a],inject:{elFormItem:{default:""}},props:{value:{},disabled:Boolean,min:Number,max:Number,size:String,fill:String,textColor:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",[t])}}},l=s,u=n(0),c=Object(u["a"])(l,r,i,!1,null,null,null);c.options.__file="packages/checkbox/src/checkbox-group.vue";var f=c.exports;f.install=function(t){t.component(f.name,f)};e["default"]=f}})},8972:function(t,e,n){n(7658),t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=91)}({0:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var l,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,l):[l]}return{exports:t,options:u}}n.d(e,"a",(function(){return r}))},4:function(t,e){t.exports=n(4947)},91:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"el-checkbox",class:[t.border&&t.checkboxSize?"el-checkbox--"+t.checkboxSize:"",{"is-disabled":t.isDisabled},{"is-bordered":t.border},{"is-checked":t.isChecked}],attrs:{id:t.id}},[n("span",{staticClass:"el-checkbox__input",class:{"is-disabled":t.isDisabled,"is-checked":t.isChecked,"is-indeterminate":t.indeterminate,"is-focus":t.focus},attrs:{tabindex:!!t.indeterminate&&0,role:!!t.indeterminate&&"checkbox","aria-checked":!!t.indeterminate&&"mixed"}},[n("span",{staticClass:"el-checkbox__inner"}),t.trueLabel||t.falseLabel?n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":t.indeterminate?"true":"false",name:t.name,disabled:t.isDisabled,"true-value":t.trueLabel,"false-value":t.falseLabel},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t._q(t.model,t.trueLabel)},on:{change:[function(e){var n=t.model,r=e.target,i=r.checked?t.trueLabel:t.falseLabel;if(Array.isArray(n)){var o=null,a=t._i(n,o);r.checked?a<0&&(t.model=n.concat([o])):a>-1&&(t.model=n.slice(0,a).concat(n.slice(a+1)))}else t.model=i},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":t.indeterminate?"true":"false",disabled:t.isDisabled,name:t.name},domProps:{value:t.label,checked:Array.isArray(t.model)?t._i(t.model,t.label)>-1:t.model},on:{change:[function(e){var n=t.model,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t.label,a=t._i(n,o);r.checked?a<0&&(t.model=n.concat([o])):a>-1&&(t.model=n.slice(0,a).concat(n.slice(a+1)))}else t.model=i},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}})]),t.$slots.default||t.label?n("span",{staticClass:"el-checkbox__label"},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2):t._e()])},i=[];r._withStripped=!0;var o=n(4),a=n.n(o),s={name:"ElCheckbox",mixins:[a.a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElCheckbox",data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},computed:{model:{get:function(){return this.isGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(t){this.isGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&t.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&t.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[t])):(this.$emit("input",t),this.selfModel=t)}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?this.model.indexOf(this.label)>-1:null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},isGroup:function(){var t=this.$parent;while(t){if("ElCheckboxGroup"===t.$options.componentName)return this._checkboxGroup=t,!0;t=t.$parent}return!1},store:function(){return this._checkboxGroup?this._checkboxGroup.value:this.value},isLimitDisabled:function(){var t=this._checkboxGroup,e=t.max,n=t.min;return!(!e&&!n)&&this.model.length>=e&&!this.isChecked||this.model.length<=n&&this.isChecked},isDisabled:function(){return this.isGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxSize:function(){var t=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._checkboxGroup.checkboxGroupSize||t}},props:{value:{},label:{},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number],id:String,controls:String,border:Boolean,size:String},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(t){var e=this;if(!this.isLimitExceeded){var n=void 0;n=t.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",n,t),this.$nextTick((function(){e.isGroup&&e.dispatch("ElCheckboxGroup","change",[e._checkboxGroup.value])}))}}},created:function(){this.checked&&this.addToStore()},mounted:function(){this.indeterminate&&this.$el.setAttribute("aria-controls",this.controls)},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",t)}}},l=s,u=n(0),c=Object(u["a"])(l,r,i,!1,null,null,null);c.options.__file="packages/checkbox/src/checkbox.vue";var f=c.exports;f.install=function(t){t.component(f.name,f)};e["default"]=f}})},2661:function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=75)}({0:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var l,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,l):[l]}return{exports:t,options:u}}n.d(e,"a",(function(){return r}))},11:function(t,e){t.exports=n(5365)},21:function(t,e){t.exports=n(4541)},4:function(t,e){t.exports=n(4947)},75:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["textarea"===t.type?"el-textarea":"el-input",t.inputSize?"el-input--"+t.inputSize:"",{"is-disabled":t.inputDisabled,"is-exceed":t.inputExceed,"el-input-group":t.$slots.prepend||t.$slots.append,"el-input-group--append":t.$slots.append,"el-input-group--prepend":t.$slots.prepend,"el-input--prefix":t.$slots.prefix||t.prefixIcon,"el-input--suffix":t.$slots.suffix||t.suffixIcon||t.clearable||t.showPassword}],on:{mouseenter:function(e){t.hovering=!0},mouseleave:function(e){t.hovering=!1}}},["textarea"!==t.type?[t.$slots.prepend?n("div",{staticClass:"el-input-group__prepend"},[t._t("prepend")],2):t._e(),"textarea"!==t.type?n("input",t._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:t.tabindex,type:t.showPassword?t.passwordVisible?"text":"password":t.type,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"input",t.$attrs,!1)):t._e(),t.$slots.prefix||t.prefixIcon?n("span",{staticClass:"el-input__prefix"},[t._t("prefix"),t.prefixIcon?n("i",{staticClass:"el-input__icon",class:t.prefixIcon}):t._e()],2):t._e(),t.getSuffixVisible()?n("span",{staticClass:"el-input__suffix"},[n("span",{staticClass:"el-input__suffix-inner"},[t.showClear&&t.showPwdVisible&&t.isWordLimitVisible?t._e():[t._t("suffix"),t.suffixIcon?n("i",{staticClass:"el-input__icon",class:t.suffixIcon}):t._e()],t.showClear?n("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(t){t.preventDefault()},click:t.clear}}):t._e(),t.showPwdVisible?n("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:t.handlePasswordVisible}}):t._e(),t.isWordLimitVisible?n("span",{staticClass:"el-input__count"},[n("span",{staticClass:"el-input__count-inner"},[t._v("\n            "+t._s(t.textLength)+"/"+t._s(t.upperLimit)+"\n          ")])]):t._e()],2),t.validateState?n("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",t.validateIcon]}):t._e()]):t._e(),t.$slots.append?n("div",{staticClass:"el-input-group__append"},[t._t("append")],2):t._e()]:n("textarea",t._b({ref:"textarea",staticClass:"el-textarea__inner",style:t.textareaStyle,attrs:{tabindex:t.tabindex,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"textarea",t.$attrs,!1)),t.isWordLimitVisible&&"textarea"===t.type?n("span",{staticClass:"el-input__count"},[t._v(t._s(t.textLength)+"/"+t._s(t.upperLimit))]):t._e()],2)},i=[];r._withStripped=!0;var o=n(4),a=n.n(o),s=n(11),l=n.n(s),u=void 0,c="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",f=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function h(t){var e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),r=parseFloat(e.getPropertyValue("padding-bottom"))+parseFloat(e.getPropertyValue("padding-top")),i=parseFloat(e.getPropertyValue("border-bottom-width"))+parseFloat(e.getPropertyValue("border-top-width")),o=f.map((function(t){return t+":"+e.getPropertyValue(t)})).join(";");return{contextStyle:o,paddingSize:r,borderSize:i,boxSizing:n}}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;u||(u=document.createElement("textarea"),document.body.appendChild(u));var r=h(t),i=r.paddingSize,o=r.borderSize,a=r.boxSizing,s=r.contextStyle;u.setAttribute("style",s+";"+c),u.value=t.value||t.placeholder||"";var l=u.scrollHeight,f={};"border-box"===a?l+=o:"content-box"===a&&(l-=i),u.value="";var d=u.scrollHeight-i;if(null!==e){var p=d*e;"border-box"===a&&(p=p+i+o),l=Math.max(p,l),f.minHeight=p+"px"}if(null!==n){var v=d*n;"border-box"===a&&(v=v+i+o),l=Math.min(v,l)}return f.height=l+"px",u.parentNode&&u.parentNode.removeChild(u),u=null,f}var p=n(9),v=n.n(p),g=n(21),y={name:"ElInput",componentName:"ElInput",mixins:[a.a,l.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(t){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return v()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return"number"===typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(t){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[t])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var t=this;this.$nextTick((function(){t.setNativeInputValue(),t.resizeTextarea(),t.updateIconOffset()}))}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(t){this.focused=!1,this.$emit("blur",t),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var t=this.autosize,e=this.type;if("textarea"===e)if(t){var n=t.minRows,r=t.maxRows;this.textareaCalcStyle=d(this.$refs.textarea,n,r)}else this.textareaCalcStyle={minHeight:d(this.$refs.textarea).minHeight}}},setNativeInputValue:function(){var t=this.getInput();t&&t.value!==this.nativeInputValue&&(t.value=this.nativeInputValue)},handleFocus:function(t){this.focused=!0,this.$emit("focus",t)},handleCompositionStart:function(t){this.$emit("compositionstart",t),this.isComposing=!0},handleCompositionUpdate:function(t){this.$emit("compositionupdate",t);var e=t.target.value,n=e[e.length-1]||"";this.isComposing=!Object(g["isKorean"])(n)},handleCompositionEnd:function(t){this.$emit("compositionend",t),this.isComposing&&(this.isComposing=!1,this.handleInput(t))},handleInput:function(t){this.isComposing||t.target.value!==this.nativeInputValue&&(this.$emit("input",t.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(t){this.$emit("change",t.target.value)},calcIconOffset:function(t){var e=[].slice.call(this.$el.querySelectorAll(".el-input__"+t)||[]);if(e.length){for(var n=null,r=0;r<e.length;r++)if(e[r].parentNode===this.$el){n=e[r];break}if(n){var i={suffix:"append",prefix:"prepend"},o=i[t];this.$slots[o]?n.style.transform="translateX("+("suffix"===t?"-":"")+this.$el.querySelector(".el-input-group__"+o).offsetWidth+"px)":n.removeAttribute("style")}}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){var t=this;this.passwordVisible=!this.passwordVisible,this.$nextTick((function(){t.focus()}))},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},m=y,b=n(0),x=Object(b["a"])(m,r,i,!1,null,null,null);x.options.__file="packages/input/src/input.vue";var w=x.exports;w.install=function(t){t.component(w.name,w)};e["default"]=w},9:function(t,e){t.exports=n(2198)}})},342:function(t){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=122)}({0:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var l,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,l):[l]}return{exports:t,options:u}}n.d(e,"a",(function(){return r}))},122:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",t._b({class:["el-link",t.type?"el-link--"+t.type:"",t.disabled&&"is-disabled",t.underline&&!t.disabled&&"is-underline"],attrs:{href:t.disabled?null:t.href},on:{click:t.handleClick}},"a",t.$attrs,!1),[t.icon?n("i",{class:t.icon}):t._e(),t.$slots.default?n("span",{staticClass:"el-link--inner"},[t._t("default")],2):t._e(),t.$slots.icon?[t.$slots.icon?t._t("icon"):t._e()]:t._e()],2)},i=[];r._withStripped=!0;var o={name:"ElLink",props:{type:{type:String,default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:String,icon:String},methods:{handleClick:function(t){this.disabled||this.href||this.$emit("click",t)}}},a=o,s=n(0),l=Object(s["a"])(a,r,i,!1,null,null,null);l.options.__file="packages/link/src/main.vue";var u=l.exports;u.install=function(t){t.component(u.name,u)};e["default"]=u}})},3270:function(t,e,n){"use strict";e.__esModule=!0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e["default"]=function(t){function e(t){for(var e=arguments.length,n=Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];return 1===n.length&&"object"===r(n[0])&&(n=n[0]),n&&n.hasOwnProperty||(n={}),t.replace(o,(function(e,r,o,a){var s=void 0;return"{"===t[a-1]&&"}"===t[a+e.length]?o:(s=(0,i.hasOwn)(n,o)?n[o]:null,null===s||void 0===s?"":s)}))}return e};var i=n(8501),o=/(%|)\{([0-9a-zA-Z_]+)\}/g},503:function(t,e,n){"use strict";e.__esModule=!0,e.i18n=e.use=e.t=void 0;var r=n(3309),i=f(r),o=n(7195),a=f(o),s=n(1645),l=f(s),u=n(3270),c=f(u);function f(t){return t&&t.__esModule?t:{default:t}}var h=(0,c.default)(a.default),d=i.default,p=!1,v=function(){var t=Object.getPrototypeOf(this||a.default).$t;if("function"===typeof t&&a.default.locale)return p||(p=!0,a.default.locale(a.default.config.lang,(0,l.default)(d,a.default.locale(a.default.config.lang)||{},{clone:!0}))),t.apply(this,arguments)},g=e.t=function(t,e){var n=v.apply(this,arguments);if(null!==n&&void 0!==n)return n;for(var r=t.split("."),i=d,o=0,a=r.length;o<a;o++){var s=r[o];if(n=i[s],o===a-1)return h(n,e);if(!n)return"";i=n}return""},y=e.use=function(t){d=t||d},m=e.i18n=function(t){v=t||v};e["default"]={use:y,t:g,i18n:m}},3309:function(t,e){"use strict";e.__esModule=!0,e["default"]={el:{colorpicker:{confirm:"",clear:""},datepicker:{now:"",today:"",cancel:"",clear:"",confirm:"",selectDate:"",selectTime:"",startDate:"",startTime:"",endDate:"",endTime:"",prevYear:"",nextYear:"",prevMonth:"",nextMonth:"",year:"",month1:"1 ",month2:"2 ",month3:"3 ",month4:"4 ",month5:"5 ",month6:"6 ",month7:"7 ",month8:"8 ",month9:"9 ",month10:"10 ",month11:"11 ",month12:"12 ",weeks:{sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},months:{jan:"",feb:"",mar:"",apr:"",may:"",jun:"",jul:"",aug:"",sep:"",oct:"",nov:"",dec:""}},select:{loading:"",noMatch:"",noData:"",placeholder:""},cascader:{noMatch:"",loading:"",placeholder:"",noData:""},pagination:{goto:"",pagesize:"/",total:" {total} ",pageClassifier:""},messagebox:{title:"",confirm:"",cancel:"",error:"!"},upload:{deleteTip:" delete ",delete:"",preview:"",continue:""},table:{emptyText:"",confirmFilter:"",resetFilter:"",clearFilter:"",sumText:""},tree:{emptyText:""},transfer:{noMatch:"",noData:"",titles:[" 1"," 2"],filterPlaceholder:"",noCheckedFormat:" {total} ",hasCheckedFormat:" {checked}/{total} "},image:{error:""},pageHeader:{title:""},popconfirm:{confirmButtonText:"",cancelButtonText:""},empty:{description:""}}}},4947:function(t,e){"use strict";function n(t,e,r){this.$children.forEach((function(i){var o=i.$options.componentName;o===t?i.$emit.apply(i,[e].concat(r)):n.apply(i,[t,e].concat([r]))}))}e.__esModule=!0,e["default"]={methods:{dispatch:function(t,e,n){var r=this.$parent||this.$root,i=r.$options.componentName;while(r&&(!i||i!==t))r=r.$parent,r&&(i=r.$options.componentName);r&&r.$emit.apply(r,[e].concat(n))},broadcast:function(t,e,r){n.call(this,t,e,r)}}}},3398:function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){return{methods:{focus:function(){this.$refs[t].focus()}}}}},2373:function(t,e,n){"use strict";e.__esModule=!0;var r=n(503);e["default"]={methods:{t:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.t.apply(this,e)}}}},5365:function(t,e,n){"use strict";e.__esModule=!0;n(8501);e["default"]={mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}},9018:function(t,e,n){n(7658),t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=54)}({0:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var l,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,l):[l]}return{exports:t,options:u}}n.d(e,"a",(function(){return r}))},3:function(t,e){t.exports=n(8501)},33:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:t.itemSelected,"is-disabled":t.disabled||t.groupDisabled||t.limitReached,hover:t.hover},on:{mouseenter:t.hoverItem,click:function(e){return e.stopPropagation(),t.selectOptionClick(e)}}},[t._t("default",[n("span",[t._v(t._s(t.currentLabel))])])],2)},i=[];r._withStripped=!0;var o=n(4),a=n.n(o),s=n(3),l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u={mixins:[a.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(t,e){var n=this.select,r=n.remote,i=n.valueKey;if(!this.created&&!r){if(i&&"object"===("undefined"===typeof t?"undefined":l(t))&&"object"===("undefined"===typeof e?"undefined":l(e))&&t[i]===e[i])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(t,e){if(this.isObject){var n=this.select.valueKey;return Object(s["getValueByPath"])(t,n)===Object(s["getValueByPath"])(e,n)}return t===e},contains:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if(this.isObject){var n=this.select.valueKey;return t&&t.some((function(t){return Object(s["getValueByPath"])(t,n)===Object(s["getValueByPath"])(e,n)}))}return t&&t.indexOf(e)>-1},handleGroupDisabled:function(t){this.groupDisabled=t},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(t){this.visible=new RegExp(Object(s["escapeRegexpString"])(t),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var t=this.select,e=t.selected,n=t.multiple,r=n?e:[e],i=this.select.cachedOptions.indexOf(this),o=r.indexOf(this);i>-1&&o<0&&this.select.cachedOptions.splice(i,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},c=u,f=n(0),h=Object(f["a"])(c,r,i,!1,null,null,null);h.options.__file="packages/select/src/option.vue";e["a"]=h.exports},4:function(t,e){t.exports=n(4947)},54:function(t,e,n){"use strict";n.r(e);var r=n(33);r["a"].install=function(t){t.component(r["a"].name,r["a"])},e["default"]=r["a"]}})},3032:function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=133)}({133:function(t,e,n){"use strict";n.r(e);var r=n(16),i=n(39),o=n.n(i),a=n(3),s=n(2),l={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function u(t){var e=t.move,n=t.size,r=t.bar,i={},o="translate"+r.axis+"("+e+"%)";return i[r.size]=n,i.transform=o,i.msTransform=o,i.webkitTransform=o,i}var c={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar:function(){return l[this.vertical?"vertical":"horizontal"]},wrap:function(){return this.$parent.wrap}},render:function(t){var e=this.size,n=this.move,r=this.bar;return t("div",{class:["el-scrollbar__bar","is-"+r.key],on:{mousedown:this.clickTrackHandler}},[t("div",{ref:"thumb",class:"el-scrollbar__thumb",on:{mousedown:this.clickThumbHandler},style:u({size:e,move:n,bar:r})})])},methods:{clickThumbHandler:function(t){t.ctrlKey||2===t.button||(this.startDrag(t),this[this.bar.axis]=t.currentTarget[this.bar.offset]-(t[this.bar.client]-t.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler:function(t){var e=Math.abs(t.target.getBoundingClientRect()[this.bar.direction]-t[this.bar.client]),n=this.$refs.thumb[this.bar.offset]/2,r=100*(e-n)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=r*this.wrap[this.bar.scrollSize]/100},startDrag:function(t){t.stopImmediatePropagation(),this.cursorDown=!0,Object(s["on"])(document,"mousemove",this.mouseMoveDocumentHandler),Object(s["on"])(document,"mouseup",this.mouseUpDocumentHandler),document.onselectstart=function(){return!1}},mouseMoveDocumentHandler:function(t){if(!1!==this.cursorDown){var e=this[this.bar.axis];if(e){var n=-1*(this.$el.getBoundingClientRect()[this.bar.direction]-t[this.bar.client]),r=this.$refs.thumb[this.bar.offset]-e,i=100*(n-r)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=i*this.wrap[this.bar.scrollSize]/100}}},mouseUpDocumentHandler:function(t){this.cursorDown=!1,this[this.bar.axis]=0,Object(s["off"])(document,"mousemove",this.mouseMoveDocumentHandler),document.onselectstart=null}},destroyed:function(){Object(s["off"])(document,"mouseup",this.mouseUpDocumentHandler)}},f={name:"ElScrollbar",components:{Bar:c},props:{native:Boolean,wrapStyle:{},wrapClass:{},viewClass:{},viewStyle:{},noresize:Boolean,tag:{type:String,default:"div"}},data:function(){return{sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0}},computed:{wrap:function(){return this.$refs.wrap}},render:function(t){var e=o()(),n=this.wrapStyle;if(e){var r="-"+e+"px",i="margin-bottom: "+r+"; margin-right: "+r+";";Array.isArray(this.wrapStyle)?(n=Object(a["toObject"])(this.wrapStyle),n.marginRight=n.marginBottom=r):"string"===typeof this.wrapStyle?n+=i:n=i}var s=t(this.tag,{class:["el-scrollbar__view",this.viewClass],style:this.viewStyle,ref:"resize"},this.$slots.default),l=t("div",{ref:"wrap",style:n,on:{scroll:this.handleScroll},class:[this.wrapClass,"el-scrollbar__wrap",e?"":"el-scrollbar__wrap--hidden-default"]},[[s]]),u=void 0;return u=this.native?[t("div",{ref:"wrap",class:[this.wrapClass,"el-scrollbar__wrap"],style:n},[[s]])]:[l,t(c,{attrs:{move:this.moveX,size:this.sizeWidth}}),t(c,{attrs:{vertical:!0,move:this.moveY,size:this.sizeHeight}})],t("div",{class:"el-scrollbar"},u)},methods:{handleScroll:function(){var t=this.wrap;this.moveY=100*t.scrollTop/t.clientHeight,this.moveX=100*t.scrollLeft/t.clientWidth},update:function(){var t=void 0,e=void 0,n=this.wrap;n&&(t=100*n.clientHeight/n.scrollHeight,e=100*n.clientWidth/n.scrollWidth,this.sizeHeight=t<100?t+"%":"",this.sizeWidth=e<100?e+"%":"")}},mounted:function(){this.native||(this.$nextTick(this.update),!this.noresize&&Object(r["addResizeListener"])(this.$refs.resize,this.update))},beforeDestroy:function(){this.native||!this.noresize&&Object(r["removeResizeListener"])(this.$refs.resize,this.update)},install:function(t){t.component(f.name,f)}};e["default"]=f},16:function(t,e){t.exports=n(1432)},2:function(t,e){t.exports=n(1610)},3:function(t,e){t.exports=n(8501)},39:function(t,e){t.exports=n(5713)}})},7149:function(t,e,n){n(7658),t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=62)}({0:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var l,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,l):[l]}return{exports:t,options:u}}n.d(e,"a",(function(){return r}))},10:function(t,e){t.exports=n(2661)},12:function(t,e){t.exports=n(3949)},15:function(t,e){t.exports=n(3032)},16:function(t,e){t.exports=n(1432)},19:function(t,e){t.exports=n(6902)},21:function(t,e){t.exports=n(4541)},22:function(t,e){t.exports=n(3398)},3:function(t,e){t.exports=n(8501)},31:function(t,e){t.exports=n(2809)},33:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:t.itemSelected,"is-disabled":t.disabled||t.groupDisabled||t.limitReached,hover:t.hover},on:{mouseenter:t.hoverItem,click:function(e){return e.stopPropagation(),t.selectOptionClick(e)}}},[t._t("default",[n("span",[t._v(t._s(t.currentLabel))])])],2)},i=[];r._withStripped=!0;var o=n(4),a=n.n(o),s=n(3),l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u={mixins:[a.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(t,e){var n=this.select,r=n.remote,i=n.valueKey;if(!this.created&&!r){if(i&&"object"===("undefined"===typeof t?"undefined":l(t))&&"object"===("undefined"===typeof e?"undefined":l(e))&&t[i]===e[i])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(t,e){if(this.isObject){var n=this.select.valueKey;return Object(s["getValueByPath"])(t,n)===Object(s["getValueByPath"])(e,n)}return t===e},contains:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if(this.isObject){var n=this.select.valueKey;return t&&t.some((function(t){return Object(s["getValueByPath"])(t,n)===Object(s["getValueByPath"])(e,n)}))}return t&&t.indexOf(e)>-1},handleGroupDisabled:function(t){this.groupDisabled=t},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(t){this.visible=new RegExp(Object(s["escapeRegexpString"])(t),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var t=this.select,e=t.selected,n=t.multiple,r=n?e:[e],i=this.select.cachedOptions.indexOf(this),o=r.indexOf(this);i>-1&&o<0&&this.select.cachedOptions.splice(i,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},c=u,f=n(0),h=Object(f["a"])(c,r,i,!1,null,null,null);h.options.__file="packages/select/src/option.vue";e["a"]=h.exports},38:function(t,e){t.exports=n(3304)},4:function(t,e){t.exports=n(4947)},5:function(t,e){t.exports=n(2155)},6:function(t,e){t.exports=n(2373)},62:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],staticClass:"el-select",class:[t.selectSize?"el-select--"+t.selectSize:""],on:{click:function(e){return e.stopPropagation(),t.toggleMenu(e)}}},[t.multiple?n("div",{ref:"tags",staticClass:"el-select__tags",style:{"max-width":t.inputWidth-32+"px",width:"100%"}},[t.collapseTags&&t.selected.length?n("span",[n("el-tag",{attrs:{closable:!t.selectDisabled,size:t.collapseTagSize,hit:t.selected[0].hitState,type:"info","disable-transitions":""},on:{close:function(e){t.deleteTag(e,t.selected[0])}}},[n("span",{staticClass:"el-select__tags-text"},[t._v(t._s(t.selected[0].currentLabel))])]),t.selected.length>1?n("el-tag",{attrs:{closable:!1,size:t.collapseTagSize,type:"info","disable-transitions":""}},[n("span",{staticClass:"el-select__tags-text"},[t._v("+ "+t._s(t.selected.length-1))])]):t._e()],1):t._e(),t.collapseTags?t._e():n("transition-group",{on:{"after-leave":t.resetInputHeight}},t._l(t.selected,(function(e){return n("el-tag",{key:t.getValueKey(e),attrs:{closable:!t.selectDisabled,size:t.collapseTagSize,hit:e.hitState,type:"info","disable-transitions":""},on:{close:function(n){t.deleteTag(n,e)}}},[n("span",{staticClass:"el-select__tags-text"},[t._v(t._s(e.currentLabel))])])})),1),t.filterable?n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"input",staticClass:"el-select__input",class:[t.selectSize?"is-"+t.selectSize:""],style:{"flex-grow":"1",width:t.inputLength/(t.inputWidth-32)+"%","max-width":t.inputWidth-42+"px"},attrs:{type:"text",disabled:t.selectDisabled,autocomplete:t.autoComplete||t.autocomplete},domProps:{value:t.query},on:{focus:t.handleFocus,blur:function(e){t.softFocus=!1},keyup:t.managePlaceholder,keydown:[t.resetInputState,function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault(),t.handleNavigate("next")},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault(),t.handleNavigate("prev")},function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.selectOption(e))},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation(),e.preventDefault(),t.visible=!1},function(e){return!("button"in e)&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.deletePrevTag(e)},function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key,"Tab"))return null;t.visible=!1}],compositionstart:t.handleComposition,compositionupdate:t.handleComposition,compositionend:t.handleComposition,input:[function(e){e.target.composing||(t.query=e.target.value)},t.debouncedQueryChange]}}):t._e()],1):t._e(),n("el-input",{ref:"reference",class:{"is-focus":t.visible},attrs:{type:"text",placeholder:t.currentPlaceholder,name:t.name,id:t.id,autocomplete:t.autoComplete||t.autocomplete,size:t.selectSize,disabled:t.selectDisabled,readonly:t.readonly,"validate-event":!1,tabindex:t.multiple&&t.filterable?"-1":null},on:{focus:t.handleFocus,blur:t.handleBlur,input:t.debouncedOnInputChange,compositionstart:t.handleComposition,compositionupdate:t.handleComposition,compositionend:t.handleComposition},nativeOn:{keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.stopPropagation(),e.preventDefault(),t.handleNavigate("next")},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.stopPropagation(),e.preventDefault(),t.handleNavigate("prev")},function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.selectOption(e))},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation(),e.preventDefault(),t.visible=!1},function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key,"Tab"))return null;t.visible=!1}],mouseenter:function(e){t.inputHovering=!0},mouseleave:function(e){t.inputHovering=!1}},model:{value:t.selectedLabel,callback:function(e){t.selectedLabel=e},expression:"selectedLabel"}},[t.$slots.prefix?n("template",{slot:"prefix"},[t._t("prefix")],2):t._e(),n("template",{slot:"suffix"},[n("i",{directives:[{name:"show",rawName:"v-show",value:!t.showClose,expression:"!showClose"}],class:["el-select__caret","el-input__icon","el-icon-"+t.iconClass]}),t.showClose?n("i",{staticClass:"el-select__caret el-input__icon el-icon-circle-close",on:{click:t.handleClearClick}}):t._e()])],2),n("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":t.handleMenuEnter,"after-leave":t.doDestroy}},[n("el-select-menu",{directives:[{name:"show",rawName:"v-show",value:t.visible&&!1!==t.emptyText,expression:"visible && emptyText !== false"}],ref:"popper",attrs:{"append-to-body":t.popperAppendToBody}},[n("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:t.options.length>0&&!t.loading,expression:"options.length > 0 && !loading"}],ref:"scrollbar",class:{"is-empty":!t.allowCreate&&t.query&&0===t.filteredOptionsCount},attrs:{tag:"ul","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list"}},[t.showNewOption?n("el-option",{attrs:{value:t.query,created:""}}):t._e(),t._t("default")],2),t.emptyText&&(!t.allowCreate||t.loading||t.allowCreate&&0===t.options.length)?[t.$slots.empty?t._t("empty"):n("p",{staticClass:"el-select-dropdown__empty"},[t._v("\n          "+t._s(t.emptyText)+"\n        ")])]:t._e()],2)],1)],1)},i=[];r._withStripped=!0;var o=n(4),a=n.n(o),s=n(22),l=n.n(s),u=n(6),c=n.n(u),f=n(10),h=n.n(f),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"el-select-dropdown el-popper",class:[{"is-multiple":t.$parent.multiple},t.popperClass],style:{minWidth:t.minWidth}},[t._t("default")],2)},p=[];d._withStripped=!0;var v=n(5),g=n.n(v),y={name:"ElSelectDropdown",componentName:"ElSelectDropdown",mixins:[g.a],props:{placement:{default:"bottom-start"},boundariesPadding:{default:0},popperOptions:{default:function(){return{gpuAcceleration:!1}}},visibleArrow:{default:!0},appendToBody:{type:Boolean,default:!0}},data:function(){return{minWidth:""}},computed:{popperClass:function(){return this.$parent.popperClass}},watch:{"$parent.inputWidth":function(){this.minWidth=this.$parent.$el.getBoundingClientRect().width+"px"}},mounted:function(){var t=this;this.referenceElm=this.$parent.$refs.reference.$el,this.$parent.popperElm=this.popperElm=this.$el,this.$on("updatePopper",(function(){t.$parent.visible&&t.updatePopper()})),this.$on("destroyPopper",this.destroyPopper)}},m=y,b=n(0),x=Object(b["a"])(m,d,p,!1,null,null,null);x.options.__file="packages/select/src/select-dropdown.vue";var w=x.exports,_=n(33),O=n(38),C=n.n(O),S=n(15),E=n.n(S),M=n(19),k=n.n(M),T=n(12),A=n.n(T),L=n(16),P=n(31),R=n.n(P),I=n(3),j={data:function(){return{hoverOption:-1}},computed:{optionsAllDisabled:function(){return this.options.filter((function(t){return t.visible})).every((function(t){return t.disabled}))}},watch:{hoverIndex:function(t){var e=this;"number"===typeof t&&t>-1&&(this.hoverOption=this.options[t]||{}),this.options.forEach((function(t){t.hover=e.hoverOption===t}))}},methods:{navigateOptions:function(t){var e=this;if(this.visible){if(0!==this.options.length&&0!==this.filteredOptionsCount&&!this.optionsAllDisabled){"next"===t?(this.hoverIndex++,this.hoverIndex===this.options.length&&(this.hoverIndex=0)):"prev"===t&&(this.hoverIndex--,this.hoverIndex<0&&(this.hoverIndex=this.options.length-1));var n=this.options[this.hoverIndex];!0!==n.disabled&&!0!==n.groupDisabled&&n.visible||this.navigateOptions(t),this.$nextTick((function(){return e.scrollToOption(e.hoverOption)}))}}else this.visible=!0}}},N=n(21),B={mixins:[a.a,c.a,l()("reference"),j],name:"ElSelect",componentName:"ElSelect",inject:{elForm:{default:""},elFormItem:{default:""}},provide:function(){return{select:this}},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},readonly:function(){return!this.filterable||this.multiple||!Object(I["isIE"])()&&!Object(I["isEdge"])()&&!this.visible},showClose:function(){var t=this.multiple?Array.isArray(this.value)&&this.value.length>0:void 0!==this.value&&null!==this.value&&""!==this.value,e=this.clearable&&!this.selectDisabled&&this.inputHovering&&t;return e},iconClass:function(){return this.remote&&this.filterable?"":this.visible?"arrow-up is-reverse":"arrow-up"},debounce:function(){return this.remote?300:0},emptyText:function(){return this.loading?this.loadingText||this.t("el.select.loading"):(!this.remote||""!==this.query||0!==this.options.length)&&(this.filterable&&this.query&&this.options.length>0&&0===this.filteredOptionsCount?this.noMatchText||this.t("el.select.noMatch"):0===this.options.length?this.noDataText||this.t("el.select.noData"):null)},showNewOption:function(){var t=this,e=this.options.filter((function(t){return!t.created})).some((function(e){return e.currentLabel===t.query}));return this.filterable&&this.allowCreate&&""!==this.query&&!e},selectSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},selectDisabled:function(){return this.disabled||(this.elForm||{}).disabled},collapseTagSize:function(){return["small","mini"].indexOf(this.selectSize)>-1?"mini":"small"},propPlaceholder:function(){return"undefined"!==typeof this.placeholder?this.placeholder:this.t("el.select.placeholder")}},components:{ElInput:h.a,ElSelectMenu:w,ElOption:_["a"],ElTag:C.a,ElScrollbar:E.a},directives:{Clickoutside:A.a},props:{name:String,id:String,value:{required:!0},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(t){return!0}},automaticDropdown:Boolean,size:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:String,remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String,required:!1},defaultFirstOption:Boolean,reserveKeyword:Boolean,valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:!0}},data:function(){return{options:[],cachedOptions:[],createdLabel:null,createdSelected:!1,selected:this.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,cachedPlaceHolder:"",optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,currentPlaceholder:"",menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1}},watch:{selectDisabled:function(){var t=this;this.$nextTick((function(){t.resetInputHeight()}))},propPlaceholder:function(t){this.cachedPlaceHolder=this.currentPlaceholder=t},value:function(t,e){this.multiple&&(this.resetInputHeight(),t&&t.length>0||this.$refs.input&&""!==this.query?this.currentPlaceholder="":this.currentPlaceholder=this.cachedPlaceHolder,this.filterable&&!this.reserveKeyword&&(this.query="",this.handleQueryChange(this.query))),this.setSelected(),this.filterable&&!this.multiple&&(this.inputLength=20),Object(I["valueEquals"])(t,e)||this.dispatch("ElFormItem","el.form.change",t)},visible:function(t){var e=this;t?(this.broadcast("ElSelectDropdown","updatePopper"),this.filterable&&(this.query=this.remote?"":this.selectedLabel,this.handleQueryChange(this.query),this.multiple?this.$refs.input.focus():(this.remote||(this.broadcast("ElOption","queryChange",""),this.broadcast("ElOptionGroup","queryChange")),this.selectedLabel&&(this.currentPlaceholder=this.selectedLabel,this.selectedLabel="")))):(this.broadcast("ElSelectDropdown","destroyPopper"),this.$refs.input&&this.$refs.input.blur(),this.query="",this.previousQuery=null,this.selectedLabel="",this.inputLength=20,this.menuVisibleOnFocus=!1,this.resetHoverIndex(),this.$nextTick((function(){e.$refs.input&&""===e.$refs.input.value&&0===e.selected.length&&(e.currentPlaceholder=e.cachedPlaceHolder)})),this.multiple||(this.selected&&(this.filterable&&this.allowCreate&&this.createdSelected&&this.createdLabel?this.selectedLabel=this.createdLabel:this.selectedLabel=this.selected.currentLabel,this.filterable&&(this.query=this.selectedLabel)),this.filterable&&(this.currentPlaceholder=this.cachedPlaceHolder))),this.$emit("visible-change",t)},options:function(){var t=this;if(!this.$isServer){this.$nextTick((function(){t.broadcast("ElSelectDropdown","updatePopper")})),this.multiple&&this.resetInputHeight();var e=this.$el.querySelectorAll("input");-1===[].indexOf.call(e,document.activeElement)&&this.setSelected(),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()}}},methods:{handleNavigate:function(t){this.isOnComposition||this.navigateOptions(t)},handleComposition:function(t){var e=this,n=t.target.value;if("compositionend"===t.type)this.isOnComposition=!1,this.$nextTick((function(t){return e.handleQueryChange(n)}));else{var r=n[n.length-1]||"";this.isOnComposition=!Object(N["isKorean"])(r)}},handleQueryChange:function(t){var e=this;this.previousQuery===t||this.isOnComposition||(null!==this.previousQuery||"function"!==typeof this.filterMethod&&"function"!==typeof this.remoteMethod?(this.previousQuery=t,this.$nextTick((function(){e.visible&&e.broadcast("ElSelectDropdown","updatePopper")})),this.hoverIndex=-1,this.multiple&&this.filterable&&this.$nextTick((function(){var t=15*e.$refs.input.value.length+20;e.inputLength=e.collapseTags?Math.min(50,t):t,e.managePlaceholder(),e.resetInputHeight()})),this.remote&&"function"===typeof this.remoteMethod?(this.hoverIndex=-1,this.remoteMethod(t)):"function"===typeof this.filterMethod?(this.filterMethod(t),this.broadcast("ElOptionGroup","queryChange")):(this.filteredOptionsCount=this.optionsCount,this.broadcast("ElOption","queryChange",t),this.broadcast("ElOptionGroup","queryChange")),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()):this.previousQuery=t)},scrollToOption:function(t){var e=Array.isArray(t)&&t[0]?t[0].$el:t.$el;if(this.$refs.popper&&e){var n=this.$refs.popper.$el.querySelector(".el-select-dropdown__wrap");R()(n,e)}this.$refs.scrollbar&&this.$refs.scrollbar.handleScroll()},handleMenuEnter:function(){var t=this;this.$nextTick((function(){return t.scrollToOption(t.selected)}))},emitChange:function(t){Object(I["valueEquals"])(this.value,t)||this.$emit("change",t)},getOption:function(t){for(var e=void 0,n="[object object]"===Object.prototype.toString.call(t).toLowerCase(),r="[object null]"===Object.prototype.toString.call(t).toLowerCase(),i="[object undefined]"===Object.prototype.toString.call(t).toLowerCase(),o=this.cachedOptions.length-1;o>=0;o--){var a=this.cachedOptions[o],s=n?Object(I["getValueByPath"])(a.value,this.valueKey)===Object(I["getValueByPath"])(t,this.valueKey):a.value===t;if(s){e=a;break}}if(e)return e;var l=n||r||i?"":String(t),u={value:t,currentLabel:l};return this.multiple&&(u.hitState=!1),u},setSelected:function(){var t=this;if(!this.multiple){var e=this.getOption(this.value);return e.created?(this.createdLabel=e.currentLabel,this.createdSelected=!0):this.createdSelected=!1,this.selectedLabel=e.currentLabel,this.selected=e,void(this.filterable&&(this.query=this.selectedLabel))}var n=[];Array.isArray(this.value)&&this.value.forEach((function(e){n.push(t.getOption(e))})),this.selected=n,this.$nextTick((function(){t.resetInputHeight()}))},handleFocus:function(t){this.softFocus?this.softFocus=!1:((this.automaticDropdown||this.filterable)&&(this.filterable&&!this.visible&&(this.menuVisibleOnFocus=!0),this.visible=!0),this.$emit("focus",t))},blur:function(){this.visible=!1,this.$refs.reference.blur()},handleBlur:function(t){var e=this;setTimeout((function(){e.isSilentBlur?e.isSilentBlur=!1:e.$emit("blur",t)}),50),this.softFocus=!1},handleClearClick:function(t){this.deleteSelected(t)},doDestroy:function(){this.$refs.popper&&this.$refs.popper.doDestroy()},handleClose:function(){this.visible=!1},toggleLastOptionHitState:function(t){if(Array.isArray(this.selected)){var e=this.selected[this.selected.length-1];if(e)return!0===t||!1===t?(e.hitState=t,t):(e.hitState=!e.hitState,e.hitState)}},deletePrevTag:function(t){if(t.target.value.length<=0&&!this.toggleLastOptionHitState()){var e=this.value.slice();e.pop(),this.$emit("input",e),this.emitChange(e)}},managePlaceholder:function(){""!==this.currentPlaceholder&&(this.currentPlaceholder=this.$refs.input.value?"":this.cachedPlaceHolder)},resetInputState:function(t){8!==t.keyCode&&this.toggleLastOptionHitState(!1),this.inputLength=15*this.$refs.input.value.length+20,this.resetInputHeight()},resetInputHeight:function(){var t=this;this.collapseTags&&!this.filterable||this.$nextTick((function(){if(t.$refs.reference){var e=t.$refs.reference.$el.childNodes,n=[].filter.call(e,(function(t){return"INPUT"===t.tagName}))[0],r=t.$refs.tags,i=r?Math.round(r.getBoundingClientRect().height):0,o=t.initialInputHeight||40;n.style.height=0===t.selected.length?o+"px":Math.max(r?i+(i>o?6:0):0,o)+"px",t.visible&&!1!==t.emptyText&&t.broadcast("ElSelectDropdown","updatePopper")}}))},resetHoverIndex:function(){var t=this;setTimeout((function(){t.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map((function(e){return t.options.indexOf(e)}))):t.hoverIndex=-1:t.hoverIndex=t.options.indexOf(t.selected)}),300)},handleOptionSelect:function(t,e){var n=this;if(this.multiple){var r=(this.value||[]).slice(),i=this.getValueIndex(r,t.value);i>-1?r.splice(i,1):(this.multipleLimit<=0||r.length<this.multipleLimit)&&r.push(t.value),this.$emit("input",r),this.emitChange(r),t.created&&(this.query="",this.handleQueryChange(""),this.inputLength=20),this.filterable&&this.$refs.input.focus()}else this.$emit("input",t.value),this.emitChange(t.value),this.visible=!1;this.isSilentBlur=e,this.setSoftFocus(),this.visible||this.$nextTick((function(){n.scrollToOption(t)}))},setSoftFocus:function(){this.softFocus=!0;var t=this.$refs.input||this.$refs.reference;t&&t.focus()},getValueIndex:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n="[object object]"===Object.prototype.toString.call(e).toLowerCase();if(n){var r=this.valueKey,i=-1;return t.some((function(t,n){return Object(I["getValueByPath"])(t,r)===Object(I["getValueByPath"])(e,r)&&(i=n,!0)})),i}return t.indexOf(e)},toggleMenu:function(){this.selectDisabled||(this.menuVisibleOnFocus?this.menuVisibleOnFocus=!1:this.visible=!this.visible,this.visible&&(this.$refs.input||this.$refs.reference).focus())},selectOption:function(){this.visible?this.options[this.hoverIndex]&&this.handleOptionSelect(this.options[this.hoverIndex]):this.toggleMenu()},deleteSelected:function(t){t.stopPropagation();var e=this.multiple?[]:"";this.$emit("input",e),this.emitChange(e),this.visible=!1,this.$emit("clear")},deleteTag:function(t,e){var n=this.selected.indexOf(e);if(n>-1&&!this.selectDisabled){var r=this.value.slice();r.splice(n,1),this.$emit("input",r),this.emitChange(r),this.$emit("remove-tag",e.value)}t.stopPropagation()},onInputChange:function(){this.filterable&&this.query!==this.selectedLabel&&(this.query=this.selectedLabel,this.handleQueryChange(this.query))},onOptionDestroy:function(t){t>-1&&(this.optionsCount--,this.filteredOptionsCount--,this.options.splice(t,1))},resetInputWidth:function(){this.inputWidth=this.$refs.reference.$el.getBoundingClientRect().width},handleResize:function(){this.resetInputWidth(),this.multiple&&this.resetInputHeight()},checkDefaultFirstOption:function(){this.hoverIndex=-1;for(var t=!1,e=this.options.length-1;e>=0;e--)if(this.options[e].created){t=!0,this.hoverIndex=e;break}if(!t)for(var n=0;n!==this.options.length;++n){var r=this.options[n];if(this.query){if(!r.disabled&&!r.groupDisabled&&r.visible){this.hoverIndex=n;break}}else if(r.itemSelected){this.hoverIndex=n;break}}},getValueKey:function(t){return"[object object]"!==Object.prototype.toString.call(t.value).toLowerCase()?t.value:Object(I["getValueByPath"])(t.value,this.valueKey)}},created:function(){var t=this;this.cachedPlaceHolder=this.currentPlaceholder=this.propPlaceholder,this.multiple&&!Array.isArray(this.value)&&this.$emit("input",[]),!this.multiple&&Array.isArray(this.value)&&this.$emit("input",""),this.debouncedOnInputChange=k()(this.debounce,(function(){t.onInputChange()})),this.debouncedQueryChange=k()(this.debounce,(function(e){t.handleQueryChange(e.target.value)})),this.$on("handleOptionClick",this.handleOptionSelect),this.$on("setSelected",this.setSelected)},mounted:function(){var t=this;this.multiple&&Array.isArray(this.value)&&this.value.length>0&&(this.currentPlaceholder=""),Object(L["addResizeListener"])(this.$el,this.handleResize);var e=this.$refs.reference;if(e&&e.$el){var n={medium:36,small:32,mini:28},r=e.$el.querySelector("input");this.initialInputHeight=r.getBoundingClientRect().height||n[this.selectSize]}this.remote&&this.multiple&&this.resetInputHeight(),this.$nextTick((function(){e&&e.$el&&(t.inputWidth=e.$el.getBoundingClientRect().width)})),this.setSelected()},beforeDestroy:function(){this.$el&&this.handleResize&&Object(L["removeResizeListener"])(this.$el,this.handleResize)}},D=B,F=Object(b["a"])(D,r,i,!1,null,null,null);F.options.__file="packages/select/src/select.vue";var z=F.exports;z.install=function(t){t.component(z.name,z)};e["default"]=z}})},6694:function(t,e,n){n(7658),t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=136)}({136:function(t,e,n){"use strict";n.r(e);var r=n(3),i={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:"",className:"el-table-column--selection"},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},o={selection:{renderHeader:function(t,e){var n=e.store;return t("el-checkbox",{attrs:{disabled:n.states.data&&0===n.states.data.length,indeterminate:n.states.selection.length>0&&!this.isAllSelected,value:this.isAllSelected},on:{input:this.toggleAllSelection}})},renderCell:function(t,e){var n=e.row,r=e.column,i=e.isSelected,o=e.store,a=e.$index;return t("el-checkbox",{nativeOn:{click:function(t){return t.stopPropagation()}},attrs:{value:i,disabled:!!r.selectable&&!r.selectable.call(null,n,a)},on:{input:function(){o.commit("rowSelectedChanged",n)}}})},sortable:!1,resizable:!1},index:{renderHeader:function(t,e){var n=e.column;return n.label||"#"},renderCell:function(t,e){var n=e.$index,r=e.column,i=n+1,o=r.index;return"number"===typeof o?i=n+o:"function"===typeof o&&(i=o(n)),t("div",[i])},sortable:!1},expand:{renderHeader:function(t,e){var n=e.column;return n.label||""},renderCell:function(t,e){var n=e.row,r=e.store,i=e.isExpanded,o=["el-table__expand-icon"];i&&o.push("el-table__expand-icon--expanded");var a=function(t){t.stopPropagation(),r.toggleRowExpansion(n)};return t("div",{class:o,on:{click:a}},[t("i",{class:"el-icon el-icon-arrow-right"})])},sortable:!1,resizable:!1,className:"el-table__expand-column"}};function a(t,e){var n=e.row,i=e.column,o=e.$index,a=i.property,s=a&&Object(r["getPropByPath"])(n,a).v;return i&&i.formatter?i.formatter(n,i,s,o):s}function s(t,e){var n=e.row,r=e.treeNode,i=e.store;if(!r)return null;var o=[],a=function(t){t.stopPropagation(),i.loadOrToggle(n)};if(r.indent&&o.push(t("span",{class:"el-table__indent",style:{"padding-left":r.indent+"px"}})),"boolean"!==typeof r.expanded||r.noLazyChildren)o.push(t("span",{class:"el-table__placeholder"}));else{var s=["el-table__expand-icon",r.expanded?"el-table__expand-icon--expanded":""],l=["el-icon-arrow-right"];r.loading&&(l=["el-icon-loading"]),o.push(t("div",{class:s,on:{click:a}},[t("i",{class:l})]))}return o}var l=n(8),u=n(18),c=n.n(u),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=1,d={name:"ElTableColumn",props:{type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{},minWidth:{},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:function(){return["ascending","descending",null]},validator:function(t){return t.every((function(t){return["ascending","descending",null].indexOf(t)>-1}))}}},data:function(){return{isSubColumn:!1,columns:[]}},computed:{owner:function(){var t=this.$parent;while(t&&!t.tableId)t=t.$parent;return t},columnOrTableParent:function(){var t=this.$parent;while(t&&!t.tableId&&!t.columnId)t=t.$parent;return t},realWidth:function(){return Object(l["l"])(this.width)},realMinWidth:function(){return Object(l["k"])(this.minWidth)},realAlign:function(){return this.align?"is-"+this.align:null},realHeaderAlign:function(){return this.headerAlign?"is-"+this.headerAlign:this.realAlign}},methods:{getPropsData:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.reduce((function(e,n){return Array.isArray(n)&&n.forEach((function(n){e[n]=t[n]})),e}),{})},getColumnElIndex:function(t,e){return[].indexOf.call(t,e)},setColumnWidth:function(t){return this.realWidth&&(t.width=this.realWidth),this.realMinWidth&&(t.minWidth=this.realMinWidth),t.minWidth||(t.minWidth=80),t.realWidth=void 0===t.width?t.minWidth:t.width,t},setColumnForcedProps:function(t){var e=t.type,n=o[e]||{};return Object.keys(n).forEach((function(e){var r=n[e];void 0!==r&&(t[e]="className"===e?t[e]+" "+r:r)})),t},setColumnRenders:function(t){var e=this;this.$createElement;this.renderHeader?console.warn("[Element Warn][TableColumn]Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header."):"selection"!==t.type&&(t.renderHeader=function(n,r){var i=e.$scopedSlots.header;return i?i(r):t.label});var n=t.renderCell;return"expand"===t.type?(t.renderCell=function(t,e){return t("div",{class:"cell"},[n(t,e)])},this.owner.renderExpanded=function(t,n){return e.$scopedSlots.default?e.$scopedSlots.default(n):e.$slots.default}):(n=n||a,t.renderCell=function(r,i){var o=null;o=e.$scopedSlots.default?e.$scopedSlots.default(i):n(r,i);var a=s(r,i),l={class:"cell",style:{}};return t.showOverflowTooltip&&(l.class+=" el-tooltip",l.style={width:(i.column.realWidth||i.column.width)-1+"px"}),r("div",l,[a,o])}),t},registerNormalWatchers:function(){var t=this,e=["label","property","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],n={prop:"property",realAlign:"align",realHeaderAlign:"headerAlign",realWidth:"width"},r=e.reduce((function(t,e){return t[e]=e,t}),n);Object.keys(r).forEach((function(e){var r=n[e];t.$watch(e,(function(e){t.columnConfig[r]=e}))}))},registerComplexWatchers:function(){var t=this,e=["fixed"],n={realWidth:"width",realMinWidth:"minWidth"},r=e.reduce((function(t,e){return t[e]=e,t}),n);Object.keys(r).forEach((function(e){var r=n[e];t.$watch(e,(function(e){t.columnConfig[r]=e;var n="fixed"===r;t.owner.store.scheduleLayout(n)}))}))}},components:{ElCheckbox:c.a},beforeCreate:function(){this.row={},this.column={},this.$index=0,this.columnId=""},created:function(){var t=this.columnOrTableParent;this.isSubColumn=this.owner!==t,this.columnId=(t.tableId||t.columnId)+"_column_"+h++;var e=this.type||"default",n=""===this.sortable||this.sortable,r=f({},i[e],{id:this.columnId,type:e,property:this.prop||this.property,align:this.realAlign,headerAlign:this.realHeaderAlign,showOverflowTooltip:this.showOverflowTooltip||this.showTooltipWhenOverflow,filterable:this.filters||this.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,filterOpened:!1,sortable:n,index:this.index}),o=["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],a=["sortMethod","sortBy","sortOrders"],s=["selectable","reserveSelection"],u=["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"],c=this.getPropsData(o,a,s,u);c=Object(l["h"])(r,c);var d=Object(l["a"])(this.setColumnRenders,this.setColumnWidth,this.setColumnForcedProps);c=d(c),this.columnConfig=c,this.registerNormalWatchers(),this.registerComplexWatchers()},mounted:function(){var t=this.owner,e=this.columnOrTableParent,n=this.isSubColumn?e.$el.children:e.$refs.hiddenColumns.children,r=this.getColumnElIndex(n,this.$el);t.store.commit("insertColumn",this.columnConfig,r,this.isSubColumn?e.columnConfig:null)},destroyed:function(){if(this.$parent){var t=this.$parent;this.owner.store.commit("removeColumn",this.columnConfig,this.isSubColumn?t.columnConfig:null)}},render:function(t){return t("div",this.$slots.default)},install:function(t){t.component(d.name,d)}};e["default"]=d},18:function(t,e){t.exports=n(8972)},3:function(t,e){t.exports=n(8501)},8:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"i",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"g",(function(){return f})),n.d(e,"f",(function(){return h})),n.d(e,"h",(function(){return p})),n.d(e,"l",(function(){return v})),n.d(e,"k",(function(){return g})),n.d(e,"j",(function(){return y})),n.d(e,"a",(function(){return m})),n.d(e,"m",(function(){return b})),n.d(e,"n",(function(){return x}));var r=n(3),i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t){var e=t.target;while(e&&"HTML"!==e.tagName.toUpperCase()){if("TD"===e.tagName.toUpperCase())return e;e=e.parentNode}return null},a=function(t){return null!==t&&"object"===("undefined"===typeof t?"undefined":i(t))},s=function(t,e,n,i,o){if(!e&&!i&&(!o||Array.isArray(o)&&!o.length))return t;n="string"===typeof n?"descending"===n?-1:1:n&&n<0?-1:1;var s=i?null:function(n,i){return o?(Array.isArray(o)||(o=[o]),o.map((function(e){return"string"===typeof e?Object(r["getValueByPath"])(n,e):e(n,i,t)}))):("$key"!==e&&a(n)&&"$value"in n&&(n=n.$value),[a(n)?Object(r["getValueByPath"])(n,e):n])},l=function(t,e){if(i)return i(t.value,e.value);for(var n=0,r=t.key.length;n<r;n++){if(t.key[n]<e.key[n])return-1;if(t.key[n]>e.key[n])return 1}return 0};return t.map((function(t,e){return{value:t,index:e,key:s?s(t,e):null}})).sort((function(t,e){var r=l(t,e);return r||(r=t.index-e.index),r*n})).map((function(t){return t.value}))},l=function(t,e){var n=null;return t.columns.forEach((function(t){t.id===e&&(n=t)})),n},u=function(t,e){for(var n=null,r=0;r<t.columns.length;r++){var i=t.columns[r];if(i.columnKey===e){n=i;break}}return n},c=function(t,e){var n=(e.className||"").match(/el-table_[^\s]+/gm);return n?l(t,n[0]):null},f=function(t,e){if(!t)throw new Error("row is required when get row identity");if("string"===typeof e){if(e.indexOf(".")<0)return t[e];for(var n=e.split("."),r=t,i=0;i<n.length;i++)r=r[n[i]];return r}if("function"===typeof e)return e.call(null,t)},h=function(t,e){var n={};return(t||[]).forEach((function(t,r){n[f(t,e)]={row:t,index:r}})),n};function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function p(t,e){var n={},r=void 0;for(r in t)n[r]=t[r];for(r in e)if(d(e,r)){var i=e[r];"undefined"!==typeof i&&(n[r]=i)}return n}function v(t){return void 0!==t&&(t=parseInt(t,10),isNaN(t)&&(t=null)),t}function g(t){return"undefined"!==typeof t&&(t=v(t),isNaN(t)&&(t=80)),t}function y(t){return"number"===typeof t?t:"string"===typeof t?/^\d+(?:px)?$/.test(t)?parseInt(t,10):t:null}function m(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function b(t,e,n){var r=!1,i=t.indexOf(e),o=-1!==i,a=function(){t.push(e),r=!0},s=function(){t.splice(i,1),r=!0};return"boolean"===typeof n?n&&!o?a():!n&&o&&s():o?s():a(),r}function x(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hasChildren",i=function(t){return!(Array.isArray(t)&&t.length)};function o(t,a,s){e(t,a,s),a.forEach((function(t){if(t[r])e(t,null,s+1);else{var a=t[n];i(a)||o(t,a,s+1)}}))}t.forEach((function(t){if(t[r])e(t,null,0);else{var a=t[n];i(a)||o(t,a,0)}}))}}})},59:function(t,e,n){n(7658),t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=58)}([function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var l,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,l):[l]}return{exports:t,options:u}}n.d(e,"a",(function(){return r}))},,function(t,e){t.exports=n(1610)},function(t,e){t.exports=n(8501)},,function(t,e){t.exports=n(2155)},function(t,e){t.exports=n(2373)},function(t,e){t.exports=n(7195)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"i",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"g",(function(){return f})),n.d(e,"f",(function(){return h})),n.d(e,"h",(function(){return p})),n.d(e,"l",(function(){return v})),n.d(e,"k",(function(){return g})),n.d(e,"j",(function(){return y})),n.d(e,"a",(function(){return m})),n.d(e,"m",(function(){return b})),n.d(e,"n",(function(){return x}));var r=n(3),i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t){var e=t.target;while(e&&"HTML"!==e.tagName.toUpperCase()){if("TD"===e.tagName.toUpperCase())return e;e=e.parentNode}return null},a=function(t){return null!==t&&"object"===("undefined"===typeof t?"undefined":i(t))},s=function(t,e,n,i,o){if(!e&&!i&&(!o||Array.isArray(o)&&!o.length))return t;n="string"===typeof n?"descending"===n?-1:1:n&&n<0?-1:1;var s=i?null:function(n,i){return o?(Array.isArray(o)||(o=[o]),o.map((function(e){return"string"===typeof e?Object(r["getValueByPath"])(n,e):e(n,i,t)}))):("$key"!==e&&a(n)&&"$value"in n&&(n=n.$value),[a(n)?Object(r["getValueByPath"])(n,e):n])},l=function(t,e){if(i)return i(t.value,e.value);for(var n=0,r=t.key.length;n<r;n++){if(t.key[n]<e.key[n])return-1;if(t.key[n]>e.key[n])return 1}return 0};return t.map((function(t,e){return{value:t,index:e,key:s?s(t,e):null}})).sort((function(t,e){var r=l(t,e);return r||(r=t.index-e.index),r*n})).map((function(t){return t.value}))},l=function(t,e){var n=null;return t.columns.forEach((function(t){t.id===e&&(n=t)})),n},u=function(t,e){for(var n=null,r=0;r<t.columns.length;r++){var i=t.columns[r];if(i.columnKey===e){n=i;break}}return n},c=function(t,e){var n=(e.className||"").match(/el-table_[^\s]+/gm);return n?l(t,n[0]):null},f=function(t,e){if(!t)throw new Error("row is required when get row identity");if("string"===typeof e){if(e.indexOf(".")<0)return t[e];for(var n=e.split("."),r=t,i=0;i<n.length;i++)r=r[n[i]];return r}if("function"===typeof e)return e.call(null,t)},h=function(t,e){var n={};return(t||[]).forEach((function(t,r){n[f(t,e)]={row:t,index:r}})),n};function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function p(t,e){var n={},r=void 0;for(r in t)n[r]=t[r];for(r in e)if(d(e,r)){var i=e[r];"undefined"!==typeof i&&(n[r]=i)}return n}function v(t){return void 0!==t&&(t=parseInt(t,10),isNaN(t)&&(t=null)),t}function g(t){return"undefined"!==typeof t&&(t=v(t),isNaN(t)&&(t=80)),t}function y(t){return"number"===typeof t?t:"string"===typeof t?/^\d+(?:px)?$/.test(t)?parseInt(t,10):t:null}function m(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function b(t,e,n){var r=!1,i=t.indexOf(e),o=-1!==i,a=function(){t.push(e),r=!0},s=function(){t.splice(i,1),r=!0};return"boolean"===typeof n?n&&!o?a():!n&&o&&s():o?s():a(),r}function x(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hasChildren",i=function(t){return!(Array.isArray(t)&&t.length)};function o(t,a,s){e(t,a,s),a.forEach((function(t){if(t[r])e(t,null,s+1);else{var a=t[n];i(a)||o(t,a,s+1)}}))}t.forEach((function(t){if(t[r])e(t,null,0);else{var a=t[n];i(a)||o(t,a,0)}}))}},function(t,e){t.exports=n(2198)},,function(t,e){t.exports=n(5365)},function(t,e){t.exports=n(3949)},function(t,e){t.exports=n(7474)},,function(t,e){t.exports=n(3032)},function(t,e){t.exports=n(1432)},,function(t,e){t.exports=n(8972)},function(t,e){t.exports=n(6902)},,,,,,,,,,function(t,e){t.exports=n(1804)},,,,,,,,,,function(t,e){t.exports=n(5713)},function(t,e){t.exports=n(6997)},,,,function(t,e){t.exports=n(1009)},,,function(t,e){t.exports=n(3644)},,,,,,,,,,,function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"el-table",class:[{"el-table--fit":t.fit,"el-table--striped":t.stripe,"el-table--border":t.border||t.isGroup,"el-table--hidden":t.isHidden,"el-table--group":t.isGroup,"el-table--fluid-height":t.maxHeight,"el-table--scrollable-x":t.layout.scrollX,"el-table--scrollable-y":t.layout.scrollY,"el-table--enable-row-hover":!t.store.states.isComplex,"el-table--enable-row-transition":0!==(t.store.states.data||[]).length&&(t.store.states.data||[]).length<100},t.tableSize?"el-table--"+t.tableSize:""],on:{mouseleave:function(e){t.handleMouseLeave(e)}}},[n("div",{ref:"hiddenColumns",staticClass:"hidden-columns"},[t._t("default")],2),t.showHeader?n("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:t.handleHeaderFooterMousewheel,expression:"handleHeaderFooterMousewheel"}],ref:"headerWrapper",staticClass:"el-table__header-wrapper"},[n("table-header",{ref:"tableHeader",style:{width:t.layout.bodyWidth?t.layout.bodyWidth+"px":""},attrs:{store:t.store,border:t.border,"default-sort":t.defaultSort}})],1):t._e(),n("div",{ref:"bodyWrapper",staticClass:"el-table__body-wrapper",class:[t.layout.scrollX?"is-scrolling-"+t.scrollPosition:"is-scrolling-none"],style:[t.bodyHeight]},[n("table-body",{style:{width:t.bodyWidth},attrs:{context:t.context,store:t.store,stripe:t.stripe,"row-class-name":t.rowClassName,"row-style":t.rowStyle,highlight:t.highlightCurrentRow}}),t.data&&0!==t.data.length?t._e():n("div",{ref:"emptyBlock",staticClass:"el-table__empty-block",style:t.emptyBlockStyle},[n("span",{staticClass:"el-table__empty-text"},[t._t("empty",[t._v(t._s(t.emptyText||t.t("el.table.emptyText")))])],2)]),t.$slots.append?n("div",{ref:"appendWrapper",staticClass:"el-table__append-wrapper"},[t._t("append")],2):t._e()],1),t.showSummary?n("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&t.data.length>0,expression:"data && data.length > 0"},{name:"mousewheel",rawName:"v-mousewheel",value:t.handleHeaderFooterMousewheel,expression:"handleHeaderFooterMousewheel"}],ref:"footerWrapper",staticClass:"el-table__footer-wrapper"},[n("table-footer",{style:{width:t.layout.bodyWidth?t.layout.bodyWidth+"px":""},attrs:{store:t.store,border:t.border,"sum-text":t.sumText||t.t("el.table.sumText"),"summary-method":t.summaryMethod,"default-sort":t.defaultSort}})],1):t._e(),t.fixedColumns.length>0?n("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:t.handleFixedMousewheel,expression:"handleFixedMousewheel"}],ref:"fixedWrapper",staticClass:"el-table__fixed",style:[{width:t.layout.fixedWidth?t.layout.fixedWidth+"px":""},t.fixedHeight]},[t.showHeader?n("div",{ref:"fixedHeaderWrapper",staticClass:"el-table__fixed-header-wrapper"},[n("table-header",{ref:"fixedTableHeader",style:{width:t.bodyWidth},attrs:{fixed:"left",border:t.border,store:t.store}})],1):t._e(),n("div",{ref:"fixedBodyWrapper",staticClass:"el-table__fixed-body-wrapper",style:[{top:t.layout.headerHeight+"px"},t.fixedBodyHeight]},[n("table-body",{style:{width:t.bodyWidth},attrs:{fixed:"left",store:t.store,stripe:t.stripe,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"row-style":t.rowStyle}}),t.$slots.append?n("div",{staticClass:"el-table__append-gutter",style:{height:t.layout.appendHeight+"px"}}):t._e()],1),t.showSummary?n("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&t.data.length>0,expression:"data && data.length > 0"}],ref:"fixedFooterWrapper",staticClass:"el-table__fixed-footer-wrapper"},[n("table-footer",{style:{width:t.bodyWidth},attrs:{fixed:"left",border:t.border,"sum-text":t.sumText||t.t("el.table.sumText"),"summary-method":t.summaryMethod,store:t.store}})],1):t._e()]):t._e(),t.rightFixedColumns.length>0?n("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:t.handleFixedMousewheel,expression:"handleFixedMousewheel"}],ref:"rightFixedWrapper",staticClass:"el-table__fixed-right",style:[{width:t.layout.rightFixedWidth?t.layout.rightFixedWidth+"px":"",right:t.layout.scrollY?(t.border?t.layout.gutterWidth:t.layout.gutterWidth||0)+"px":""},t.fixedHeight]},[t.showHeader?n("div",{ref:"rightFixedHeaderWrapper",staticClass:"el-table__fixed-header-wrapper"},[n("table-header",{ref:"rightFixedTableHeader",style:{width:t.bodyWidth},attrs:{fixed:"right",border:t.border,store:t.store}})],1):t._e(),n("div",{ref:"rightFixedBodyWrapper",staticClass:"el-table__fixed-body-wrapper",style:[{top:t.layout.headerHeight+"px"},t.fixedBodyHeight]},[n("table-body",{style:{width:t.bodyWidth},attrs:{fixed:"right",store:t.store,stripe:t.stripe,"row-class-name":t.rowClassName,"row-style":t.rowStyle,highlight:t.highlightCurrentRow}}),t.$slots.append?n("div",{staticClass:"el-table__append-gutter",style:{height:t.layout.appendHeight+"px"}}):t._e()],1),t.showSummary?n("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&t.data.length>0,expression:"data && data.length > 0"}],ref:"rightFixedFooterWrapper",staticClass:"el-table__fixed-footer-wrapper"},[n("table-footer",{style:{width:t.bodyWidth},attrs:{fixed:"right",border:t.border,"sum-text":t.sumText||t.t("el.table.sumText"),"summary-method":t.summaryMethod,store:t.store}})],1):t._e()]):t._e(),t.rightFixedColumns.length>0?n("div",{ref:"rightFixedPatch",staticClass:"el-table__fixed-right-patch",style:{width:t.layout.scrollY?t.layout.gutterWidth+"px":"0",height:t.layout.headerHeight+"px"}}):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.resizeProxyVisible,expression:"resizeProxyVisible"}],ref:"resizeProxy",staticClass:"el-table__column-resize-proxy"})])},i=[];r._withStripped=!0;var o=n(18),a=n.n(o),s=n(44),l=n(16),u=n(47),c=n.n(u),f="undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,h=function(t,e){t&&t.addEventListener&&t.addEventListener(f?"DOMMouseScroll":"mousewheel",(function(t){var n=c()(t);e&&e.apply(this,[t,n])}))},d={bind:function(t,e){h(t,e.value)}},p=n(6),v=n.n(p),g=n(11),y=n.n(g),m=n(7),b=n.n(m),x=n(9),w=n.n(x),_=n(8),O={data:function(){return{states:{defaultExpandAll:!1,expandRows:[]}}},methods:{updateExpandRows:function(){var t=this.states,e=t.data,n=void 0===e?[]:e,r=t.rowKey,i=t.defaultExpandAll,o=t.expandRows;if(i)this.states.expandRows=n.slice();else if(r){var a=Object(_["f"])(o,r);this.states.expandRows=n.reduce((function(t,e){var n=Object(_["g"])(e,r),i=a[n];return i&&t.push(e),t}),[])}else this.states.expandRows=[]},toggleRowExpansion:function(t,e){var n=Object(_["m"])(this.states.expandRows,t,e);n&&(this.table.$emit("expand-change",t,this.states.expandRows.slice()),this.scheduleLayout())},setExpandRowKeys:function(t){this.assertRowKey();var e=this.states,n=e.data,r=e.rowKey,i=Object(_["f"])(n,r);this.states.expandRows=t.reduce((function(t,e){var n=i[e];return n&&t.push(n.row),t}),[])},isRowExpanded:function(t){var e=this.states,n=e.expandRows,r=void 0===n?[]:n,i=e.rowKey;if(i){var o=Object(_["f"])(r,i);return!!o[Object(_["g"])(t,i)]}return-1!==r.indexOf(t)}}},C=n(3),S={data:function(){return{states:{_currentRowKey:null,currentRow:null}}},methods:{setCurrentRowKey:function(t){this.assertRowKey(),this.states._currentRowKey=t,this.setCurrentRowByKey(t)},restoreCurrentRowKey:function(){this.states._currentRowKey=null},setCurrentRowByKey:function(t){var e=this.states,n=e.data,r=void 0===n?[]:n,i=e.rowKey,o=null;i&&(o=Object(C["arrayFind"])(r,(function(e){return Object(_["g"])(e,i)===t}))),e.currentRow=o},updateCurrentRow:function(t){var e=this.states,n=this.table,r=e.currentRow;if(t&&t!==r)return e.currentRow=t,void n.$emit("current-change",t,r);!t&&r&&(e.currentRow=null,n.$emit("current-change",null,r))},updateCurrentRowData:function(){var t=this.states,e=this.table,n=t.rowKey,r=t._currentRowKey,i=t.data||[],o=t.currentRow;if(-1===i.indexOf(o)&&o){if(n){var a=Object(_["g"])(o,n);this.setCurrentRowByKey(a)}else t.currentRow=null;null===t.currentRow&&e.$emit("current-change",null,o)}else r&&(this.setCurrentRowByKey(r),this.restoreCurrentRowKey())}}},E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M={data:function(){return{states:{expandRowKeys:[],treeData:{},indent:16,lazy:!1,lazyTreeNodeMap:{},lazyColumnIdentifier:"hasChildren",childrenColumnName:"children"}}},computed:{normalizedData:function(){if(!this.states.rowKey)return{};var t=this.states.data||[];return this.normalize(t)},normalizedLazyNode:function(){var t=this.states,e=t.rowKey,n=t.lazyTreeNodeMap,r=t.lazyColumnIdentifier,i=Object.keys(n),o={};return i.length?(i.forEach((function(t){if(n[t].length){var i={children:[]};n[t].forEach((function(t){var n=Object(_["g"])(t,e);i.children.push(n),t[r]&&!o[n]&&(o[n]={children:[]})})),o[t]=i}})),o):o}},watch:{normalizedData:"updateTreeData",normalizedLazyNode:"updateTreeData"},methods:{normalize:function(t){var e=this.states,n=e.childrenColumnName,r=e.lazyColumnIdentifier,i=e.rowKey,o=e.lazy,a={};return Object(_["n"])(t,(function(t,e,n){var r=Object(_["g"])(t,i);Array.isArray(e)?a[r]={children:e.map((function(t){return Object(_["g"])(t,i)})),level:n}:o&&(a[r]={children:[],lazy:!0,level:n})}),n,r),a},updateTreeData:function(){var t=this.normalizedData,e=this.normalizedLazyNode,n=Object.keys(t),r={};if(n.length){var i=this.states,o=i.treeData,a=i.defaultExpandAll,s=i.expandRowKeys,l=i.lazy,u=[],c=function(t,e){var n=a||s&&-1!==s.indexOf(e);return!!(t&&t.expanded||n)};n.forEach((function(e){var n=o[e],i=E({},t[e]);if(i.expanded=c(n,e),i.lazy){var a=n||{},s=a.loaded,l=void 0!==s&&s,f=a.loading,h=void 0!==f&&f;i.loaded=!!l,i.loading=!!h,u.push(e)}r[e]=i}));var f=Object.keys(e);l&&f.length&&u.length&&f.forEach((function(t){var n=o[t],i=e[t].children;if(-1!==u.indexOf(t)){if(0!==r[t].children.length)throw new Error("[ElTable]children must be an empty array.");r[t].children=i}else{var a=n||{},s=a.loaded,l=void 0!==s&&s,f=a.loading,h=void 0!==f&&f;r[t]={lazy:!0,loaded:!!l,loading:!!h,expanded:c(n,t),children:i,level:""}}}))}this.states.treeData=r,this.updateTableScrollY()},updateTreeExpandKeys:function(t){this.states.expandRowKeys=t,this.updateTreeData()},toggleTreeExpansion:function(t,e){this.assertRowKey();var n=this.states,r=n.rowKey,i=n.treeData,o=Object(_["g"])(t,r),a=o&&i[o];if(o&&a&&"expanded"in a){var s=a.expanded;e="undefined"===typeof e?!a.expanded:e,i[o].expanded=e,s!==e&&this.table.$emit("expand-change",t,e),this.updateTableScrollY()}},loadOrToggle:function(t){this.assertRowKey();var e=this.states,n=e.lazy,r=e.treeData,i=e.rowKey,o=Object(_["g"])(t,i),a=r[o];n&&a&&"loaded"in a&&!a.loaded?this.loadData(t,o,a):this.toggleTreeExpansion(t)},loadData:function(t,e,n){var r=this,i=this.table.load,o=this.states.treeData;i&&!o[e].loaded&&(o[e].loading=!0,i(t,n,(function(n){if(!Array.isArray(n))throw new Error("[ElTable] data must be an array");var i=r.states,o=i.lazyTreeNodeMap,a=i.treeData;a[e].loading=!1,a[e].loaded=!0,a[e].expanded=!0,n.length&&r.$set(o,e,n),r.table.$emit("expand-change",t,!0)})))}}},k=function(t,e){var n=e.sortingColumn;return n&&"string"!==typeof n.sortable?Object(_["i"])(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy):t},T=function t(e){var n=[];return e.forEach((function(e){e.children?n.push.apply(n,t(e.children)):n.push(e)})),n},A=b.a.extend({data:function(){return{states:{rowKey:null,data:[],isComplex:!1,_columns:[],originColumns:[],columns:[],fixedColumns:[],rightFixedColumns:[],leafColumns:[],fixedLeafColumns:[],rightFixedLeafColumns:[],leafColumnsLength:0,fixedLeafColumnsLength:0,rightFixedLeafColumnsLength:0,isAllSelected:!1,selection:[],reserveSelection:!1,selectOnIndeterminate:!1,selectable:null,filters:{},filteredData:null,sortingColumn:null,sortProp:null,sortOrder:null,hoverRow:null}}},mixins:[O,S,M],methods:{assertRowKey:function(){var t=this.states.rowKey;if(!t)throw new Error("[ElTable] prop row-key is required")},updateColumns:function(){var t=this.states,e=t._columns||[];t.fixedColumns=e.filter((function(t){return!0===t.fixed||"left"===t.fixed})),t.rightFixedColumns=e.filter((function(t){return"right"===t.fixed})),t.fixedColumns.length>0&&e[0]&&"selection"===e[0].type&&!e[0].fixed&&(e[0].fixed=!0,t.fixedColumns.unshift(e[0]));var n=e.filter((function(t){return!t.fixed}));t.originColumns=[].concat(t.fixedColumns).concat(n).concat(t.rightFixedColumns);var r=T(n),i=T(t.fixedColumns),o=T(t.rightFixedColumns);t.leafColumnsLength=r.length,t.fixedLeafColumnsLength=i.length,t.rightFixedLeafColumnsLength=o.length,t.columns=[].concat(i).concat(r).concat(o),t.isComplex=t.fixedColumns.length>0||t.rightFixedColumns.length>0},scheduleLayout:function(t){t&&this.updateColumns(),this.table.debouncedUpdateLayout()},isSelected:function(t){var e=this.states.selection,n=void 0===e?[]:e;return n.indexOf(t)>-1},clearSelection:function(){var t=this.states;t.isAllSelected=!1;var e=t.selection;e.length&&(t.selection=[],this.table.$emit("selection-change",[]))},cleanSelection:function(){var t=this.states,e=t.data,n=t.rowKey,r=t.selection,i=void 0;if(n){i=[];var o=Object(_["f"])(r,n),a=Object(_["f"])(e,n);for(var s in o)o.hasOwnProperty(s)&&!a[s]&&i.push(o[s].row)}else i=r.filter((function(t){return-1===e.indexOf(t)}));if(i.length){var l=r.filter((function(t){return-1===i.indexOf(t)}));t.selection=l,this.table.$emit("selection-change",l.slice())}},toggleRowSelection:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Object(_["m"])(this.states.selection,t,e);if(r){var i=(this.states.selection||[]).slice();n&&this.table.$emit("select",i,t),this.table.$emit("selection-change",i)}},_toggleAllSelection:function(){var t=this.states,e=t.data,n=void 0===e?[]:e,r=t.selection,i=t.selectOnIndeterminate?!t.isAllSelected:!(t.isAllSelected||r.length);t.isAllSelected=i;var o=!1;n.forEach((function(e,n){t.selectable?t.selectable.call(null,e,n)&&Object(_["m"])(r,e,i)&&(o=!0):Object(_["m"])(r,e,i)&&(o=!0)})),o&&this.table.$emit("selection-change",r?r.slice():[]),this.table.$emit("select-all",r)},updateSelectionByRowKey:function(){var t=this.states,e=t.selection,n=t.rowKey,r=t.data,i=Object(_["f"])(e,n);r.forEach((function(t){var r=Object(_["g"])(t,n),o=i[r];o&&(e[o.index]=t)}))},updateAllSelected:function(){var t=this.states,e=t.selection,n=t.rowKey,r=t.selectable,i=t.data||[];if(0!==i.length){var o=void 0;n&&(o=Object(_["f"])(e,n));for(var a=function(t){return o?!!o[Object(_["g"])(t,n)]:-1!==e.indexOf(t)},s=!0,l=0,u=0,c=i.length;u<c;u++){var f=i[u],h=r&&r.call(null,f,u);if(a(f))l++;else if(!r||h){s=!1;break}}0===l&&(s=!1),t.isAllSelected=s}else t.isAllSelected=!1},updateFilters:function(t,e){Array.isArray(t)||(t=[t]);var n=this.states,r={};return t.forEach((function(t){n.filters[t.id]=e,r[t.columnKey||t.id]=e})),r},updateSort:function(t,e,n){this.states.sortingColumn&&this.states.sortingColumn!==t&&(this.states.sortingColumn.order=null),this.states.sortingColumn=t,this.states.sortProp=e,this.states.sortOrder=n},execFilter:function(){var t=this,e=this.states,n=e._data,r=e.filters,i=n;Object.keys(r).forEach((function(n){var r=e.filters[n];if(r&&0!==r.length){var o=Object(_["d"])(t.states,n);o&&o.filterMethod&&(i=i.filter((function(t){return r.some((function(e){return o.filterMethod.call(null,e,t,o)}))})))}})),e.filteredData=i},execSort:function(){var t=this.states;t.data=k(t.filteredData,t)},execQuery:function(t){t&&t.filter||this.execFilter(),this.execSort()},clearFilter:function(t){var e=this.states,n=this.table.$refs,r=n.tableHeader,i=n.fixedTableHeader,o=n.rightFixedTableHeader,a={};r&&(a=w()(a,r.filterPanels)),i&&(a=w()(a,i.filterPanels)),o&&(a=w()(a,o.filterPanels));var s=Object.keys(a);if(s.length)if("string"===typeof t&&(t=[t]),Array.isArray(t)){var l=t.map((function(t){return Object(_["e"])(e,t)}));s.forEach((function(t){var e=l.find((function(e){return e.id===t}));e&&(a[t].filteredValue=[])})),this.commit("filterChange",{column:l,values:[],silent:!0,multi:!0})}else s.forEach((function(t){a[t].filteredValue=[]})),e.filters={},this.commit("filterChange",{column:{},values:[],silent:!0})},clearSort:function(){var t=this.states;t.sortingColumn&&(this.updateSort(null,null,null),this.commit("changeSortCondition",{silent:!0}))},setExpandRowKeysAdapter:function(t){this.setExpandRowKeys(t),this.updateTreeExpandKeys(t)},toggleRowExpansionAdapter:function(t,e){var n=this.states.columns.some((function(t){var e=t.type;return"expand"===e}));n?this.toggleRowExpansion(t,e):this.toggleTreeExpansion(t,e)}}});A.prototype.mutations={setData:function(t,e){var n=t._data!==e;t._data=e,this.execQuery(),this.updateCurrentRowData(),this.updateExpandRows(),t.reserveSelection?(this.assertRowKey(),this.updateSelectionByRowKey()):n?this.clearSelection():this.cleanSelection(),this.updateAllSelected(),this.updateTableScrollY()},insertColumn:function(t,e,n,r){var i=t._columns;r&&(i=r.children,i||(i=r.children=[])),"undefined"!==typeof n?i.splice(n,0,e):i.push(e),"selection"===e.type&&(t.selectable=e.selectable,t.reserveSelection=e.reserveSelection),this.table.$ready&&(this.updateColumns(),this.scheduleLayout())},removeColumn:function(t,e,n){var r=t._columns;n&&(r=n.children,r||(r=n.children=[])),r&&r.splice(r.indexOf(e),1),this.table.$ready&&(this.updateColumns(),this.scheduleLayout())},sort:function(t,e){var n=e.prop,r=e.order,i=e.init;if(n){var o=Object(C["arrayFind"])(t.columns,(function(t){return t.property===n}));o&&(o.order=r,this.updateSort(o,n,r),this.commit("changeSortCondition",{init:i}))}},changeSortCondition:function(t,e){var n=t.sortingColumn,r=t.sortProp,i=t.sortOrder;null===i&&(t.sortingColumn=null,t.sortProp=null);var o={filter:!0};this.execQuery(o),e&&(e.silent||e.init)||this.table.$emit("sort-change",{column:n,prop:r,order:i}),this.updateTableScrollY()},filterChange:function(t,e){var n=e.column,r=e.values,i=e.silent,o=this.updateFilters(n,r);this.execQuery(),i||this.table.$emit("filter-change",o),this.updateTableScrollY()},toggleAllSelection:function(){this.toggleAllSelection()},rowSelectedChanged:function(t,e){this.toggleRowSelection(e),this.updateAllSelected()},setHoverRow:function(t,e){t.hoverRow=e},setCurrentRow:function(t,e){this.updateCurrentRow(e)}},A.prototype.commit=function(t){var e=this.mutations;if(!e[t])throw new Error("Action not found: "+t);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e[t].apply(this,[this.states].concat(r))},A.prototype.updateTableScrollY=function(){b.a.nextTick(this.table.updateScrollY)};var L=A,P=n(19),R=n.n(P);function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("Table is required.");var n=new L;return n.table=t,n.toggleAllSelection=R()(10,n._toggleAllSelection),Object.keys(e).forEach((function(t){n.states[t]=e[t]})),n}function j(t){var e={};return Object.keys(t).forEach((function(n){var r=t[n],i=void 0;"string"===typeof r?i=function(){return this.store.states[r]}:"function"===typeof r?i=function(){return r.call(this,this.store.states)}:console.error("invalid value type"),i&&(e[n]=i)})),e}var N=n(39),B=n.n(N);function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var F=function(){function t(e){for(var n in D(this,t),this.observers=[],this.table=null,this.store=null,this.columns=null,this.fit=!0,this.showHeader=!0,this.height=null,this.scrollX=!1,this.scrollY=!1,this.bodyWidth=null,this.fixedWidth=null,this.rightFixedWidth=null,this.tableHeight=null,this.headerHeight=44,this.appendHeight=0,this.footerHeight=44,this.viewportHeight=null,this.bodyHeight=null,this.fixedBodyHeight=null,this.gutterWidth=B()(),e)e.hasOwnProperty(n)&&(this[n]=e[n]);if(!this.table)throw new Error("table is required for Table Layout");if(!this.store)throw new Error("store is required for Table Layout")}return t.prototype.updateScrollY=function(){var t=this.height;if(null===t)return!1;var e=this.table.bodyWrapper;if(this.table.$el&&e){var n=e.querySelector(".el-table__body"),r=this.scrollY,i=n.offsetHeight>this.bodyHeight;return this.scrollY=i,r!==i}return!1},t.prototype.setHeight=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"height";if(!b.a.prototype.$isServer){var r=this.table.$el;if(t=Object(_["j"])(t),this.height=t,!r&&(t||0===t))return b.a.nextTick((function(){return e.setHeight(t,n)}));"number"===typeof t?(r.style[n]=t+"px",this.updateElsHeight()):"string"===typeof t&&(r.style[n]=t,this.updateElsHeight())}},t.prototype.setMaxHeight=function(t){this.setHeight(t,"max-height")},t.prototype.getFlattenColumns=function(){var t=[],e=this.table.columns;return e.forEach((function(e){e.isColumnGroup?t.push.apply(t,e.columns):t.push(e)})),t},t.prototype.updateElsHeight=function(){var t=this;if(!this.table.$ready)return b.a.nextTick((function(){return t.updateElsHeight()}));var e=this.table.$refs,n=e.headerWrapper,r=e.appendWrapper,i=e.footerWrapper;if(this.appendHeight=r?r.offsetHeight:0,!this.showHeader||n){var o=n?n.querySelector(".el-table__header tr"):null,a=this.headerDisplayNone(o),s=this.headerHeight=this.showHeader?n.offsetHeight:0;if(this.showHeader&&!a&&n.offsetWidth>0&&(this.table.columns||[]).length>0&&s<2)return b.a.nextTick((function(){return t.updateElsHeight()}));var l=this.tableHeight=this.table.$el.clientHeight,u=this.footerHeight=i?i.offsetHeight:0;null!==this.height&&(this.bodyHeight=l-s-u+(i?1:0)),this.fixedBodyHeight=this.scrollX?this.bodyHeight-this.gutterWidth:this.bodyHeight;var c=!(this.store.states.data&&this.store.states.data.length);this.viewportHeight=this.scrollX?l-(c?0:this.gutterWidth):l,this.updateScrollY(),this.notifyObservers("scrollable")}},t.prototype.headerDisplayNone=function(t){if(!t)return!0;var e=t;while("DIV"!==e.tagName){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1},t.prototype.updateColumnsWidth=function(){if(!b.a.prototype.$isServer){var t=this.fit,e=this.table.$el.clientWidth,n=0,r=this.getFlattenColumns(),i=r.filter((function(t){return"number"!==typeof t.width}));if(r.forEach((function(t){"number"===typeof t.width&&t.realWidth&&(t.realWidth=null)})),i.length>0&&t){r.forEach((function(t){n+=t.width||t.minWidth||80}));var o=this.scrollY?this.gutterWidth:0;if(n<=e-o){this.scrollX=!1;var a=e-o-n;if(1===i.length)i[0].realWidth=(i[0].minWidth||80)+a;else{var s=i.reduce((function(t,e){return t+(e.minWidth||80)}),0),l=a/s,u=0;i.forEach((function(t,e){if(0!==e){var n=Math.floor((t.minWidth||80)*l);u+=n,t.realWidth=(t.minWidth||80)+n}})),i[0].realWidth=(i[0].minWidth||80)+a-u}}else this.scrollX=!0,i.forEach((function(t){t.realWidth=t.minWidth}));this.bodyWidth=Math.max(n,e),this.table.resizeState.width=this.bodyWidth}else r.forEach((function(t){t.width||t.minWidth?t.realWidth=t.width||t.minWidth:t.realWidth=80,n+=t.realWidth})),this.scrollX=n>e,this.bodyWidth=n;var c=this.store.states.fixedColumns;if(c.length>0){var f=0;c.forEach((function(t){f+=t.realWidth||t.width})),this.fixedWidth=f}var h=this.store.states.rightFixedColumns;if(h.length>0){var d=0;h.forEach((function(t){d+=t.realWidth||t.width})),this.rightFixedWidth=d}this.notifyObservers("columns")}},t.prototype.addObserver=function(t){this.observers.push(t)},t.prototype.removeObserver=function(t){var e=this.observers.indexOf(t);-1!==e&&this.observers.splice(e,1)},t.prototype.notifyObservers=function(t){var e=this,n=this.observers;n.forEach((function(n){switch(t){case"columns":n.onColumnsChange(e);break;case"scrollable":n.onScrollableChange(e);break;default:throw new Error("Table Layout don't have event "+t+".")}}))},t}(),z=F,W=n(2),H=n(29),$=n.n(H),G={created:function(){this.tableLayout.addObserver(this)},destroyed:function(){this.tableLayout.removeObserver(this)},computed:{tableLayout:function(){var t=this.layout;if(!t&&this.table&&(t=this.table.layout),!t)throw new Error("Can not find table layout.");return t}},mounted:function(){this.onColumnsChange(this.tableLayout),this.onScrollableChange(this.tableLayout)},updated:function(){this.__updated__||(this.onColumnsChange(this.tableLayout),this.onScrollableChange(this.tableLayout),this.__updated__=!0)},methods:{onColumnsChange:function(t){var e=this.$el.querySelectorAll("colgroup > col");if(e.length){var n=t.getFlattenColumns(),r={};n.forEach((function(t){r[t.id]=t}));for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.getAttribute("name"),l=r[s];l&&a.setAttribute("width",l.realWidth||l.width)}}},onScrollableChange:function(t){for(var e=this.$el.querySelectorAll("colgroup > col[name=gutter]"),n=0,r=e.length;n<r;n++){var i=e[n];i.setAttribute("width",t.scrollY?t.gutterWidth:"0")}for(var o=this.$el.querySelectorAll("th.gutter"),a=0,s=o.length;a<s;a++){var l=o[a];l.style.width=t.scrollY?t.gutterWidth+"px":"0",l.style.display=t.scrollY?"":"none"}}}},V=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U={name:"ElTableRow",props:["columns","row","index","isSelected","isExpanded","store","context","firstDefaultColumnIndex","treeRowData","treeIndent","columnsHidden","getSpan","getColspanRealWidth","getCellStyle","getCellClass","handleCellMouseLeave","handleCellMouseEnter","fixed"],components:{ElCheckbox:a.a},render:function(){var t=this,e=arguments[0],n=this.columns,r=this.row,i=this.index,o=this.store,a=this.context,s=this.firstDefaultColumnIndex,l=this.treeRowData,u=this.treeIndent,c=this.columnsHidden,f=void 0===c?[]:c,h=this.isSelected,d=this.isExpanded;return e("tr",[n.map((function(c,p){var v=t.getSpan(r,c,i,p),g=v.rowspan,y=v.colspan;if(!g||!y)return null;var m=V({},c);m.realWidth=t.getColspanRealWidth(n,y,p);var b={store:o,isSelected:h,isExpanded:d,_self:a,column:m,row:r,$index:i};return p===s&&l&&(b.treeNode={indent:l.level*u,level:l.level},"boolean"===typeof l.expanded&&(b.treeNode.expanded=l.expanded,"loading"in l&&(b.treeNode.loading=l.loading),"noLazyChildren"in l&&(b.treeNode.noLazyChildren=l.noLazyChildren))),e("td",{style:t.getCellStyle(i,p,r,c),class:t.getCellClass(i,p,r,c),attrs:{rowspan:g,colspan:y},on:{mouseenter:function(e){return t.handleCellMouseEnter(e,r)},mouseleave:t.handleCellMouseLeave}},[c.renderCell.call(t._renderProxy,t.$createElement,b,f[p])])}))])}},Y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X={name:"ElTableBody",mixins:[G],components:{ElCheckbox:a.a,ElTooltip:$.a,TableRow:U},props:{store:{required:!0},stripe:Boolean,context:{},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:String,highlight:Boolean},render:function(t){var e=this,n=this.data||[];return t("table",{class:"el-table__body",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("colgroup",[this.columns.map((function(e){return t("col",{attrs:{name:e.id},key:e.id})}))]),t("tbody",[n.reduce((function(t,n){return t.concat(e.wrappedRowRender(n,t.length))}),[]),t("el-tooltip",{attrs:{effect:this.table.tooltipEffect,placement:"top",content:this.tooltipContent},ref:"tooltip"})])])},computed:q({table:function(){return this.$parent}},j({data:"data",columns:"columns",treeIndent:"indent",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(t){return t.columns.length},leftFixedCount:function(t){return t.fixedColumns.length},rightFixedCount:function(t){return t.rightFixedColumns.length},hasExpandColumn:function(t){return t.columns.some((function(t){var e=t.type;return"expand"===e}))}}),{columnsHidden:function(){var t=this;return this.columns.map((function(e,n){return t.isColumnHidden(n)}))},firstDefaultColumnIndex:function(){return Object(C["arrayFindIndex"])(this.columns,(function(t){var e=t.type;return"default"===e}))}}),watch:{"store.states.hoverRow":function(t,e){var n=this;if(this.store.states.isComplex&&!this.$isServer){var r=window.requestAnimationFrame;r||(r=function(t){return setTimeout(t,16)}),r((function(){var r=n.$el.querySelectorAll(".el-table__row"),i=r[e],o=r[t];i&&Object(W["removeClass"])(i,"hover-row"),o&&Object(W["addClass"])(o,"hover-row")}))}}},data:function(){return{tooltipContent:""}},created:function(){this.activateTooltip=R()(50,(function(t){return t.handleShowPopper()}))},methods:{getKeyOfRow:function(t,e){var n=this.table.rowKey;return n?Object(_["g"])(t,n):e},isColumnHidden:function(t){return!0===this.fixed||"left"===this.fixed?t>=this.leftFixedLeafCount:"right"===this.fixed?t<this.columnsCount-this.rightFixedLeafCount:t<this.leftFixedLeafCount||t>=this.columnsCount-this.rightFixedLeafCount},getSpan:function(t,e,n,r){var i=1,o=1,a=this.table.spanMethod;if("function"===typeof a){var s=a({row:t,column:e,rowIndex:n,columnIndex:r});Array.isArray(s)?(i=s[0],o=s[1]):"object"===("undefined"===typeof s?"undefined":Y(s))&&(i=s.rowspan,o=s.colspan)}return{rowspan:i,colspan:o}},getRowStyle:function(t,e){var n=this.table.rowStyle;return"function"===typeof n?n.call(null,{row:t,rowIndex:e}):n||null},getRowClass:function(t,e){var n=["el-table__row"];this.table.highlightCurrentRow&&t===this.store.states.currentRow&&n.push("current-row"),this.stripe&&e%2===1&&n.push("el-table__row--striped");var r=this.table.rowClassName;return"string"===typeof r?n.push(r):"function"===typeof r&&n.push(r.call(null,{row:t,rowIndex:e})),this.store.states.expandRows.indexOf(t)>-1&&n.push("expanded"),n},getCellStyle:function(t,e,n,r){var i=this.table.cellStyle;return"function"===typeof i?i.call(null,{rowIndex:t,columnIndex:e,row:n,column:r}):i},getCellClass:function(t,e,n,r){var i=[r.id,r.align,r.className];this.isColumnHidden(e)&&i.push("is-hidden");var o=this.table.cellClassName;return"string"===typeof o?i.push(o):"function"===typeof o&&i.push(o.call(null,{rowIndex:t,columnIndex:e,row:n,column:r})),i.push("el-table__cell"),i.join(" ")},getColspanRealWidth:function(t,e,n){if(e<1)return t[n].realWidth;var r=t.map((function(t){var e=t.realWidth;return e})).slice(n,n+e);return r.reduce((function(t,e){return t+e}),-1)},handleCellMouseEnter:function(t,e){var n=this.table,r=Object(_["b"])(t);if(r){var i=Object(_["c"])(n,r),o=n.hoverState={cell:r,column:i,row:e};n.$emit("cell-mouse-enter",o.row,o.column,o.cell,t)}var a=t.target.querySelector(".cell");if(Object(W["hasClass"])(a,"el-tooltip")&&a.childNodes.length){var s=document.createRange();s.setStart(a,0),s.setEnd(a,a.childNodes.length);var l=s.getBoundingClientRect().width,u=(parseInt(Object(W["getStyle"])(a,"paddingLeft"),10)||0)+(parseInt(Object(W["getStyle"])(a,"paddingRight"),10)||0);if((l+u>a.offsetWidth||a.scrollWidth>a.offsetWidth)&&this.$refs.tooltip){var c=this.$refs.tooltip;this.tooltipContent=r.innerText||r.textContent,c.referenceElm=r,c.$refs.popper&&(c.$refs.popper.style.display="none"),c.doDestroy(),c.setExpectedState(!0),this.activateTooltip(c)}}},handleCellMouseLeave:function(t){var e=this.$refs.tooltip;e&&(e.setExpectedState(!1),e.handleClosePopper());var n=Object(_["b"])(t);if(n){var r=this.table.hoverState||{};this.table.$emit("cell-mouse-leave",r.row,r.column,r.cell,t)}},handleMouseEnter:R()(30,(function(t){this.store.commit("setHoverRow",t)})),handleMouseLeave:R()(30,(function(){this.store.commit("setHoverRow",null)})),handleContextMenu:function(t,e){this.handleEvent(t,e,"contextmenu")},handleDoubleClick:function(t,e){this.handleEvent(t,e,"dblclick")},handleClick:function(t,e){this.store.commit("setCurrentRow",e),this.handleEvent(t,e,"click")},handleEvent:function(t,e,n){var r=this.table,i=Object(_["b"])(t),o=void 0;i&&(o=Object(_["c"])(r,i),o&&r.$emit("cell-"+n,e,o,i,t)),r.$emit("row-"+n,e,o,t)},rowRender:function(t,e,n){var r=this,i=this.$createElement,o=this.treeIndent,a=this.columns,s=this.firstDefaultColumnIndex,l=this.getRowClass(t,e),u=!0;n&&(l.push("el-table__row--level-"+n.level),u=n.display);var c=u?null:{display:"none"};return i(U,{style:[c,this.getRowStyle(t,e)],class:l,key:this.getKeyOfRow(t,e),nativeOn:{dblclick:function(e){return r.handleDoubleClick(e,t)},click:function(e){return r.handleClick(e,t)},contextmenu:function(e){return r.handleContextMenu(e,t)},mouseenter:function(t){return r.handleMouseEnter(e)},mouseleave:this.handleMouseLeave},attrs:{columns:a,row:t,index:e,store:this.store,context:this.context||this.table.$vnode.context,firstDefaultColumnIndex:s,treeRowData:n,treeIndent:o,columnsHidden:this.columnsHidden,getSpan:this.getSpan,getColspanRealWidth:this.getColspanRealWidth,getCellStyle:this.getCellStyle,getCellClass:this.getCellClass,handleCellMouseEnter:this.handleCellMouseEnter,handleCellMouseLeave:this.handleCellMouseLeave,isSelected:this.store.isSelected(t),isExpanded:this.store.states.expandRows.indexOf(t)>-1,fixed:this.fixed}})},wrappedRowRender:function(t,e){var n=this,r=this.$createElement,i=this.store,o=i.isRowExpanded,a=i.assertRowKey,s=i.states,l=s.treeData,u=s.lazyTreeNodeMap,c=s.childrenColumnName,f=s.rowKey;if(this.hasExpandColumn&&o(t)){var h=this.table.renderExpanded,d=this.rowRender(t,e);return h?[[d,r("tr",{key:"expanded-row__"+d.key},[r("td",{attrs:{colspan:this.columnsCount},class:"el-table__cell el-table__expanded-cell"},[h(this.$createElement,{row:t,$index:e,store:this.store})])])]]:(console.error("[Element Error]renderExpanded is required."),d)}if(Object.keys(l).length){a();var p=Object(_["g"])(t,f),v=l[p],g=null;v&&(g={expanded:v.expanded,level:v.level,display:!0},"boolean"===typeof v.lazy&&("boolean"===typeof v.loaded&&v.loaded&&(g.noLazyChildren=!(v.children&&v.children.length)),g.loading=v.loading));var y=[this.rowRender(t,e,g)];if(v){var m=0,b=function t(r,i){r&&r.length&&i&&r.forEach((function(r){var o={display:i.display&&i.expanded,level:i.level+1},a=Object(_["g"])(r,f);if(void 0===a||null===a)throw new Error("for nested data item, row-key is required.");if(v=q({},l[a]),v&&(o.expanded=v.expanded,v.level=v.level||o.level,v.display=!(!v.expanded||!o.display),"boolean"===typeof v.lazy&&("boolean"===typeof v.loaded&&v.loaded&&(o.noLazyChildren=!(v.children&&v.children.length)),o.loading=v.loading)),m++,y.push(n.rowRender(r,e+m,o)),v){var s=u[a]||r[c];t(s,v)}}))};v.display=!0;var x=u[p]||t[c];b(x,v)}return y}return this.rowRender(t,e)}}},K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"el-zoom-in-top"}},[t.multiple?n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleOutsideClick,expression:"handleOutsideClick"},{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"}],staticClass:"el-table-filter"},[n("div",{staticClass:"el-table-filter__content"},[n("el-scrollbar",{attrs:{"wrap-class":"el-table-filter__wrap"}},[n("el-checkbox-group",{staticClass:"el-table-filter__checkbox-group",model:{value:t.filteredValue,callback:function(e){t.filteredValue=e},expression:"filteredValue"}},t._l(t.filters,(function(e){return n("el-checkbox",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.text))])})),1)],1)],1),n("div",{staticClass:"el-table-filter__bottom"},[n("button",{class:{"is-disabled":0===t.filteredValue.length},attrs:{disabled:0===t.filteredValue.length},on:{click:t.handleConfirm}},[t._v(t._s(t.t("el.table.confirmFilter")))]),n("button",{on:{click:t.handleReset}},[t._v(t._s(t.t("el.table.resetFilter")))])])]):n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleOutsideClick,expression:"handleOutsideClick"},{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"}],staticClass:"el-table-filter"},[n("ul",{staticClass:"el-table-filter__list"},[n("li",{staticClass:"el-table-filter__list-item",class:{"is-active":void 0===t.filterValue||null===t.filterValue},on:{click:function(e){t.handleSelect(null)}}},[t._v(t._s(t.t("el.table.clearFilter")))]),t._l(t.filters,(function(e){return n("li",{key:e.value,staticClass:"el-table-filter__list-item",class:{"is-active":t.isActive(e)},attrs:{label:e.value},on:{click:function(n){t.handleSelect(e.value)}}},[t._v(t._s(e.text))])}))],2)])])},Z=[];K._withStripped=!0;var Q=n(5),J=n.n(Q),tt=n(13),et=n(12),nt=n.n(et),rt=[];!b.a.prototype.$isServer&&document.addEventListener("click",(function(t){rt.forEach((function(e){var n=t.target;e&&e.$el&&(n===e.$el||e.$el.contains(n)||e.handleOutsideClick&&e.handleOutsideClick(t))}))}));var it={open:function(t){t&&rt.push(t)},close:function(t){var e=rt.indexOf(t);-1!==e&&rt.splice(t,1)}},ot=n(40),at=n.n(ot),st=n(15),lt=n.n(st),ut={name:"ElTableFilterPanel",mixins:[J.a,v.a],directives:{Clickoutside:nt.a},components:{ElCheckbox:a.a,ElCheckboxGroup:at.a,ElScrollbar:lt.a},props:{placement:{type:String,default:"bottom-end"}},methods:{isActive:function(t){return t.value===this.filterValue},handleOutsideClick:function(){var t=this;setTimeout((function(){t.showPopper=!1}),16)},handleConfirm:function(){this.confirmFilter(this.filteredValue),this.handleOutsideClick()},handleReset:function(){this.filteredValue=[],this.confirmFilter(this.filteredValue),this.handleOutsideClick()},handleSelect:function(t){this.filterValue=t,"undefined"!==typeof t&&null!==t?this.confirmFilter(this.filteredValue):this.confirmFilter([]),this.handleOutsideClick()},confirmFilter:function(t){this.table.store.commit("filterChange",{column:this.column,values:t}),this.table.store.updateAllSelected()}},data:function(){return{table:null,cell:null,column:null}},computed:{filters:function(){return this.column&&this.column.filters},filterValue:{get:function(){return(this.column.filteredValue||[])[0]},set:function(t){this.filteredValue&&("undefined"!==typeof t&&null!==t?this.filteredValue.splice(0,1,t):this.filteredValue.splice(0,1))}},filteredValue:{get:function(){return this.column&&this.column.filteredValue||[]},set:function(t){this.column&&(this.column.filteredValue=t)}},multiple:function(){return!this.column||this.column.filterMultiple}},mounted:function(){var t=this;this.popperElm=this.$el,this.referenceElm=this.cell,this.table.bodyWrapper.addEventListener("scroll",(function(){t.updatePopper()})),this.$watch("showPopper",(function(e){t.column&&(t.column.filterOpened=e),e?it.open(t):it.close(t)}))},watch:{showPopper:function(t){!0===t&&parseInt(this.popperJS._popper.style.zIndex,10)<tt["PopupManager"].zIndex&&(this.popperJS._popper.style.zIndex=tt["PopupManager"].nextZIndex())}}},ct=ut,ft=n(0),ht=Object(ft["a"])(ct,K,Z,!1,null,null,null);ht.options.__file="packages/table/src/filter-panel.vue";var dt=ht.exports,pt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vt=function t(e){var n=[];return e.forEach((function(e){e.children?(n.push(e),n.push.apply(n,t(e.children))):n.push(e)})),n},gt=function(t){var e=1,n=function t(n,r){if(r&&(n.level=r.level+1,e<n.level&&(e=n.level)),n.children){var i=0;n.children.forEach((function(e){t(e,n),i+=e.colSpan})),n.colSpan=i}else n.colSpan=1};t.forEach((function(t){t.level=1,n(t)}));for(var r=[],i=0;i<e;i++)r.push([]);var o=vt(t);return o.forEach((function(t){t.children?t.rowSpan=1:t.rowSpan=e-t.level+1,r[t.level-1].push(t)})),r},yt={name:"ElTableHeader",mixins:[G],render:function(t){var e=this,n=this.store.states.originColumns,r=gt(n,this.columns),i=r.length>1;return i&&(this.$parent.isGroup=!0),t("table",{class:"el-table__header",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("colgroup",[this.columns.map((function(e){return t("col",{attrs:{name:e.id},key:e.id})})),this.hasGutter?t("col",{attrs:{name:"gutter"}}):""]),t("thead",{class:[{"is-group":i,"has-gutter":this.hasGutter}]},[this._l(r,(function(n,r){return t("tr",{style:e.getHeaderRowStyle(r),class:e.getHeaderRowClass(r)},[n.map((function(i,o){return t("th",{attrs:{colspan:i.colSpan,rowspan:i.rowSpan},on:{mousemove:function(t){return e.handleMouseMove(t,i)},mouseout:e.handleMouseOut,mousedown:function(t){return e.handleMouseDown(t,i)},click:function(t){return e.handleHeaderClick(t,i)},contextmenu:function(t){return e.handleHeaderContextMenu(t,i)}},style:e.getHeaderCellStyle(r,o,n,i),class:e.getHeaderCellClass(r,o,n,i),key:i.id},[t("div",{class:["cell",i.filteredValue&&i.filteredValue.length>0?"highlight":"",i.labelClassName]},[i.renderHeader?i.renderHeader.call(e._renderProxy,t,{column:i,$index:o,store:e.store,_self:e.$parent.$vnode.context}):i.label,i.sortable?t("span",{class:"caret-wrapper",on:{click:function(t){return e.handleSortClick(t,i)}}},[t("i",{class:"sort-caret ascending",on:{click:function(t){return e.handleSortClick(t,i,"ascending")}}}),t("i",{class:"sort-caret descending",on:{click:function(t){return e.handleSortClick(t,i,"descending")}}})]):"",i.filterable?t("span",{class:"el-table__column-filter-trigger",on:{click:function(t){return e.handleFilterClick(t,i)}}},[t("i",{class:["el-icon-arrow-down",i.filterOpened?"el-icon-arrow-up":""]})]):""])])})),e.hasGutter?t("th",{class:"el-table__cell gutter"}):""])}))])])},props:{fixed:String,store:{required:!0},border:Boolean,defaultSort:{type:Object,default:function(){return{prop:"",order:""}}}},components:{ElCheckbox:a.a},computed:pt({table:function(){return this.$parent},hasGutter:function(){return!this.fixed&&this.tableLayout.gutterWidth}},j({columns:"columns",isAllSelected:"isAllSelected",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(t){return t.columns.length},leftFixedCount:function(t){return t.fixedColumns.length},rightFixedCount:function(t){return t.rightFixedColumns.length}})),created:function(){this.filterPanels={}},mounted:function(){var t=this;this.$nextTick((function(){var e=t.defaultSort,n=e.prop,r=e.order,i=!0;t.store.commit("sort",{prop:n,order:r,init:i})}))},beforeDestroy:function(){var t=this.filterPanels;for(var e in t)t.hasOwnProperty(e)&&t[e]&&t[e].$destroy(!0)},methods:{isCellHidden:function(t,e){for(var n=0,r=0;r<t;r++)n+=e[r].colSpan;var i=n+e[t].colSpan-1;return!0===this.fixed||"left"===this.fixed?i>=this.leftFixedLeafCount:"right"===this.fixed?n<this.columnsCount-this.rightFixedLeafCount:i<this.leftFixedLeafCount||n>=this.columnsCount-this.rightFixedLeafCount},getHeaderRowStyle:function(t){var e=this.table.headerRowStyle;return"function"===typeof e?e.call(null,{rowIndex:t}):e},getHeaderRowClass:function(t){var e=[],n=this.table.headerRowClassName;return"string"===typeof n?e.push(n):"function"===typeof n&&e.push(n.call(null,{rowIndex:t})),e.join(" ")},getHeaderCellStyle:function(t,e,n,r){var i=this.table.headerCellStyle;return"function"===typeof i?i.call(null,{rowIndex:t,columnIndex:e,row:n,column:r}):i},getHeaderCellClass:function(t,e,n,r){var i=[r.id,r.order,r.headerAlign,r.className,r.labelClassName];0===t&&this.isCellHidden(e,n)&&i.push("is-hidden"),r.children||i.push("is-leaf"),r.sortable&&i.push("is-sortable");var o=this.table.headerCellClassName;return"string"===typeof o?i.push(o):"function"===typeof o&&i.push(o.call(null,{rowIndex:t,columnIndex:e,row:n,column:r})),i.push("el-table__cell"),i.join(" ")},toggleAllSelection:function(){this.store.commit("toggleAllSelection")},handleFilterClick:function(t,e){t.stopPropagation();var n=t.target,r="TH"===n.tagName?n:n.parentNode;if(!Object(W["hasClass"])(r,"noclick")){r=r.querySelector(".el-table__column-filter-trigger")||r;var i=this.$parent,o=this.filterPanels[e.id];o&&e.filterOpened?o.showPopper=!1:(o||(o=new b.a(dt),this.filterPanels[e.id]=o,e.filterPlacement&&(o.placement=e.filterPlacement),o.table=i,o.cell=r,o.column=e,!this.$isServer&&o.$mount(document.createElement("div"))),setTimeout((function(){o.showPopper=!0}),16))}},handleHeaderClick:function(t,e){!e.filters&&e.sortable?this.handleSortClick(t,e):e.filterable&&!e.sortable&&this.handleFilterClick(t,e),this.$parent.$emit("header-click",e,t)},handleHeaderContextMenu:function(t,e){this.$parent.$emit("header-contextmenu",e,t)},handleMouseDown:function(t,e){var n=this;if(!this.$isServer&&!(e.children&&e.children.length>0)&&this.draggingColumn&&this.border){this.dragging=!0,this.$parent.resizeProxyVisible=!0;var r=this.$parent,i=r.$el,o=i.getBoundingClientRect().left,a=this.$el.querySelector("th."+e.id),s=a.getBoundingClientRect(),l=s.left-o+30;Object(W["addClass"])(a,"noclick"),this.dragState={startMouseLeft:t.clientX,startLeft:s.right-o,startColumnLeft:s.left-o,tableLeft:o};var u=r.$refs.resizeProxy;u.style.left=this.dragState.startLeft+"px",document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};var c=function(t){var e=t.clientX-n.dragState.startMouseLeft,r=n.dragState.startLeft+e;u.style.left=Math.max(l,r)+"px"},f=function i(){if(n.dragging){var o=n.dragState,s=o.startColumnLeft,l=o.startLeft,f=parseInt(u.style.left,10),h=f-s;e.width=e.realWidth=h,r.$emit("header-dragend",e.width,l-s,e,t),n.store.scheduleLayout(),document.body.style.cursor="",n.dragging=!1,n.draggingColumn=null,n.dragState={},r.resizeProxyVisible=!1}document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",i),document.onselectstart=null,document.ondragstart=null,setTimeout((function(){Object(W["removeClass"])(a,"noclick")}),0)};document.addEventListener("mousemove",c),document.addEventListener("mouseup",f)}},handleMouseMove:function(t,e){if(!(e.children&&e.children.length>0)){var n=t.target;while(n&&"TH"!==n.tagName)n=n.parentNode;if(e&&e.resizable&&!this.dragging&&this.border){var r=n.getBoundingClientRect(),i=document.body.style;r.width>12&&r.right-t.pageX<8?(i.cursor="col-resize",Object(W["hasClass"])(n,"is-sortable")&&(n.style.cursor="col-resize"),this.draggingColumn=e):this.dragging||(i.cursor="",Object(W["hasClass"])(n,"is-sortable")&&(n.style.cursor="pointer"),this.draggingColumn=null)}}},handleMouseOut:function(){this.$isServer||(document.body.style.cursor="")},toggleOrder:function(t){var e=t.order,n=t.sortOrders;if(""===e)return n[0];var r=n.indexOf(e||null);return n[r>n.length-2?0:r+1]},handleSortClick:function(t,e,n){t.stopPropagation();var r=e.order===n?null:n||this.toggleOrder(e),i=t.target;while(i&&"TH"!==i.tagName)i=i.parentNode;if(i&&"TH"===i.tagName&&Object(W["hasClass"])(i,"noclick"))Object(W["removeClass"])(i,"noclick");else if(e.sortable){var o=this.store.states,a=o.sortProp,s=void 0,l=o.sortingColumn;(l!==e||l===e&&null===l.order)&&(l&&(l.order=null),o.sortingColumn=e,a=e.property),s=e.order=r||null,o.sortProp=a,o.sortOrder=s,this.store.commit("changeSortCondition")}}},data:function(){return{draggingColumn:null,dragging:!1,dragState:{}}}},mt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bt={name:"ElTableFooter",mixins:[G],render:function(t){var e=this,n=[];return this.summaryMethod?n=this.summaryMethod({columns:this.columns,data:this.store.states.data}):this.columns.forEach((function(t,r){if(0!==r){var i=e.store.states.data.map((function(e){return Number(e[t.property])})),o=[],a=!0;i.forEach((function(t){if(!isNaN(t)){a=!1;var e=(""+t).split(".")[1];o.push(e?e.length:0)}}));var s=Math.max.apply(null,o);n[r]=a?"":i.reduce((function(t,e){var n=Number(e);return isNaN(n)?t:parseFloat((t+e).toFixed(Math.min(s,20)))}),0)}else n[r]=e.sumText})),t("table",{class:"el-table__footer",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("colgroup",[this.columns.map((function(e){return t("col",{attrs:{name:e.id},key:e.id})})),this.hasGutter?t("col",{attrs:{name:"gutter"}}):""]),t("tbody",{class:[{"has-gutter":this.hasGutter}]},[t("tr",[this.columns.map((function(r,i){return t("td",{key:i,attrs:{colspan:r.colSpan,rowspan:r.rowSpan},class:[].concat(e.getRowClasses(r,i),["el-table__cell"])},[t("div",{class:["cell",r.labelClassName]},[n[i]])])})),this.hasGutter?t("th",{class:"el-table__cell gutter"}):""])])])},props:{fixed:String,store:{required:!0},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:function(){return{prop:"",order:""}}}},computed:mt({table:function(){return this.$parent},hasGutter:function(){return!this.fixed&&this.tableLayout.gutterWidth}},j({columns:"columns",isAllSelected:"isAllSelected",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(t){return t.columns.length},leftFixedCount:function(t){return t.fixedColumns.length},rightFixedCount:function(t){return t.rightFixedColumns.length}})),methods:{isCellHidden:function(t,e,n){if(!0===this.fixed||"left"===this.fixed)return t>=this.leftFixedLeafCount;if("right"===this.fixed){for(var r=0,i=0;i<t;i++)r+=e[i].colSpan;return r<this.columnsCount-this.rightFixedLeafCount}return!(this.fixed||!n.fixed)||(t<this.leftFixedCount||t>=this.columnsCount-this.rightFixedCount)},getRowClasses:function(t,e){var n=[t.id,t.align,t.labelClassName];return t.className&&n.push(t.className),this.isCellHidden(e,this.columns,t)&&n.push("is-hidden"),t.children||n.push("is-leaf"),n}}},xt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wt=1,_t={name:"ElTable",mixins:[v.a,y.a],directives:{Mousewheel:d},props:{data:{type:Array,default:function(){return[]}},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],context:{},showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:function(){return{hasChildren:"hasChildren",children:"children"}}},lazy:Boolean,load:Function},components:{TableHeader:yt,TableFooter:bt,TableBody:X,ElCheckbox:a.a},methods:{getMigratingConfig:function(){return{events:{expand:"expand is renamed to expand-change"}}},setCurrentRow:function(t){this.store.commit("setCurrentRow",t)},toggleRowSelection:function(t,e){this.store.toggleRowSelection(t,e,!1),this.store.updateAllSelected()},toggleRowExpansion:function(t,e){this.store.toggleRowExpansionAdapter(t,e)},clearSelection:function(){this.store.clearSelection()},clearFilter:function(t){this.store.clearFilter(t)},clearSort:function(){this.store.clearSort()},handleMouseLeave:function(){this.store.commit("setHoverRow",null),this.hoverState&&(this.hoverState=null)},updateScrollY:function(){var t=this.layout.updateScrollY();t&&(this.layout.notifyObservers("scrollable"),this.layout.updateColumnsWidth())},handleFixedMousewheel:function(t,e){var n=this.bodyWrapper;if(Math.abs(e.spinY)>0){var r=n.scrollTop;e.pixelY<0&&0!==r&&t.preventDefault(),e.pixelY>0&&n.scrollHeight-n.clientHeight>r&&t.preventDefault(),n.scrollTop+=Math.ceil(e.pixelY/5)}else n.scrollLeft+=Math.ceil(e.pixelX/5)},handleHeaderFooterMousewheel:function(t,e){var n=e.pixelX,r=e.pixelY;Math.abs(n)>=Math.abs(r)&&(this.bodyWrapper.scrollLeft+=e.pixelX/5)},syncPostion:function(){var t=this.bodyWrapper,e=t.scrollLeft,n=t.scrollTop,r=t.offsetWidth,i=t.scrollWidth,o=this.$refs,a=o.headerWrapper,s=o.footerWrapper,l=o.fixedBodyWrapper,u=o.rightFixedBodyWrapper;a&&(a.scrollLeft=e),s&&(s.scrollLeft=e),l&&(l.scrollTop=n),u&&(u.scrollTop=n);var c=i-r-1;this.scrollPosition=e>=c?"right":0===e?"left":"middle"},throttleSyncPostion:Object(s["throttle"])(16,(function(){this.syncPostion()})),onScroll:function(t){var e=window.requestAnimationFrame;e?e(this.syncPostion):this.throttleSyncPostion()},bindEvents:function(){this.bodyWrapper.addEventListener("scroll",this.onScroll,{passive:!0}),this.fit&&Object(l["addResizeListener"])(this.$el,this.resizeListener)},unbindEvents:function(){this.bodyWrapper.removeEventListener("scroll",this.onScroll,{passive:!0}),this.fit&&Object(l["removeResizeListener"])(this.$el,this.resizeListener)},resizeListener:function(){if(this.$ready){var t=!1,e=this.$el,n=this.resizeState,r=n.width,i=n.height,o=e.offsetWidth;r!==o&&(t=!0);var a=e.offsetHeight;(this.height||this.shouldUpdateHeight)&&i!==a&&(t=!0),t&&(this.resizeState.width=o,this.resizeState.height=a,this.doLayout())}},doLayout:function(){this.shouldUpdateHeight&&this.layout.updateElsHeight(),this.layout.updateColumnsWidth()},sort:function(t,e){this.store.commit("sort",{prop:t,order:e})},toggleAllSelection:function(){this.store.commit("toggleAllSelection")}},computed:xt({tableSize:function(){return this.size||(this.$ELEMENT||{}).size},bodyWrapper:function(){return this.$refs.bodyWrapper},shouldUpdateHeight:function(){return this.height||this.maxHeight||this.fixedColumns.length>0||this.rightFixedColumns.length>0},bodyWidth:function(){var t=this.layout,e=t.bodyWidth,n=t.scrollY,r=t.gutterWidth;return e?e-(n?r:0)+"px":""},bodyHeight:function(){var t=this.layout,e=t.headerHeight,n=void 0===e?0:e,r=t.bodyHeight,i=t.footerHeight,o=void 0===i?0:i;if(this.height)return{height:r?r+"px":""};if(this.maxHeight){var a=Object(_["j"])(this.maxHeight);if("number"===typeof a)return{"max-height":a-o-(this.showHeader?n:0)+"px"}}return{}},fixedBodyHeight:function(){if(this.height)return{height:this.layout.fixedBodyHeight?this.layout.fixedBodyHeight+"px":""};if(this.maxHeight){var t=Object(_["j"])(this.maxHeight);if("number"===typeof t)return t=this.layout.scrollX?t-this.layout.gutterWidth:t,this.showHeader&&(t-=this.layout.headerHeight),t-=this.layout.footerHeight,{"max-height":t+"px"}}return{}},fixedHeight:function(){return this.maxHeight?this.showSummary?{bottom:0}:{bottom:this.layout.scrollX&&this.data.length?this.layout.gutterWidth+"px":""}:this.showSummary?{height:this.layout.tableHeight?this.layout.tableHeight+"px":""}:{height:this.layout.viewportHeight?this.layout.viewportHeight+"px":""}},emptyBlockStyle:function(){if(this.data&&this.data.length)return null;var t="100%";return this.layout.appendHeight&&(t="calc(100% - "+this.layout.appendHeight+"px)"),{width:this.bodyWidth,height:t}}},j({selection:"selection",columns:"columns",tableData:"data",fixedColumns:"fixedColumns",rightFixedColumns:"rightFixedColumns"})),watch:{height:{immediate:!0,handler:function(t){this.layout.setHeight(t)}},maxHeight:{immediate:!0,handler:function(t){this.layout.setMaxHeight(t)}},currentRowKey:{immediate:!0,handler:function(t){this.rowKey&&this.store.setCurrentRowKey(t)}},data:{immediate:!0,handler:function(t){this.store.commit("setData",t)}},expandRowKeys:{immediate:!0,handler:function(t){t&&this.store.setExpandRowKeysAdapter(t)}}},created:function(){var t=this;this.tableId="el-table_"+wt++,this.debouncedUpdateLayout=Object(s["debounce"])(50,(function(){return t.doLayout()}))},mounted:function(){var t=this;this.bindEvents(),this.store.updateColumns(),this.doLayout(),this.resizeState={width:this.$el.offsetWidth,height:this.$el.offsetHeight},this.store.states.columns.forEach((function(e){e.filteredValue&&e.filteredValue.length&&t.store.commit("filterChange",{column:e,values:e.filteredValue,silent:!0})})),this.$ready=!0},destroyed:function(){this.unbindEvents()},data:function(){var t=this.treeProps,e=t.hasChildren,n=void 0===e?"hasChildren":e,r=t.children,i=void 0===r?"children":r;this.store=I(this,{rowKey:this.rowKey,defaultExpandAll:this.defaultExpandAll,selectOnIndeterminate:this.selectOnIndeterminate,indent:this.indent,lazy:this.lazy,lazyColumnIdentifier:n,childrenColumnName:i});var o=new z({store:this.store,table:this,fit:this.fit,showHeader:this.showHeader});return{layout:o,isHidden:!1,renderExpanded:null,resizeProxyVisible:!1,resizeState:{width:null,height:null},isGroup:!1,scrollPosition:"left"}}},Ot=_t,Ct=Object(ft["a"])(Ot,r,i,!1,null,null,null);Ct.options.__file="packages/table/src/table.vue";var St=Ct.exports;St.install=function(t){t.component(St.name,St)};e["default"]=St}])},3304:function(t){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=132)}({0:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var l,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,l):[l]}return{exports:t,options:u}}n.d(e,"a",(function(){return r}))},132:function(t,e,n){"use strict";n.r(e);var r,i,o={name:"ElTag",props:{text:String,closable:Boolean,type:String,hit:Boolean,disableTransitions:Boolean,color:String,size:String,effect:{type:String,default:"light",validator:function(t){return-1!==["dark","light","plain"].indexOf(t)}}},methods:{handleClose:function(t){t.stopPropagation(),this.$emit("close",t)},handleClick:function(t){this.$emit("click",t)}},computed:{tagSize:function(){return this.size||(this.$ELEMENT||{}).size}},render:function(t){var e=this.type,n=this.tagSize,r=this.hit,i=this.effect,o=["el-tag",e?"el-tag--"+e:"",n?"el-tag--"+n:"",i?"el-tag--"+i:"",r&&"is-hit"],a=t("span",{class:o,style:{backgroundColor:this.color},on:{click:this.handleClick}},[this.$slots.default,this.closable&&t("i",{class:"el-tag__close el-icon-close",on:{click:this.handleClose}})]);return this.disableTransitions?a:t("transition",{attrs:{name:"el-zoom-in-center"}},[a])}},a=o,s=n(0),l=Object(s["a"])(a,r,i,!1,null,null,null);l.options.__file="packages/tag/src/tag.vue";var u=l.exports;u.install=function(t){t.component(u.name,u)};e["default"]=u}})},1804:function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=138)}({138:function(t,e,n){"use strict";n.r(e);var r=n(5),i=n.n(r),o=n(19),a=n.n(o),s=n(2),l=n(3),u=n(7),c=n.n(u),f={name:"ElTooltip",mixins:[i.a],props:{openDelay:{type:Number,default:0},disabled:Boolean,manual:Boolean,effect:{type:String,default:"dark"},arrowOffset:{type:Number,default:0},popperClass:String,content:String,visibleArrow:{default:!0},transition:{type:String,default:"el-fade-in-linear"},popperOptions:{default:function(){return{boundariesPadding:10,gpuAcceleration:!1}}},enterable:{type:Boolean,default:!0},hideAfter:{type:Number,default:0},tabindex:{type:Number,default:0}},data:function(){return{tooltipId:"el-tooltip-"+Object(l["generateId"])(),timeoutPending:null,focusing:!1}},beforeCreate:function(){var t=this;this.$isServer||(this.popperVM=new c.a({data:{node:""},render:function(t){return this.node}}).$mount(),this.debounceClose=a()(200,(function(){return t.handleClosePopper()})))},render:function(t){var e=this;this.popperVM&&(this.popperVM.node=t("transition",{attrs:{name:this.transition},on:{afterLeave:this.doDestroy}},[t("div",{on:{mouseleave:function(){e.setExpectedState(!1),e.debounceClose()},mouseenter:function(){e.setExpectedState(!0)}},ref:"popper",attrs:{role:"tooltip",id:this.tooltipId,"aria-hidden":this.disabled||!this.showPopper?"true":"false"},directives:[{name:"show",value:!this.disabled&&this.showPopper}],class:["el-tooltip__popper","is-"+this.effect,this.popperClass]},[this.$slots.content||this.content])]));var n=this.getFirstElement();if(!n)return null;var r=n.data=n.data||{};return r.staticClass=this.addTooltipClass(r.staticClass),n},mounted:function(){var t=this;this.referenceElm=this.$el,1===this.$el.nodeType&&(this.$el.setAttribute("aria-describedby",this.tooltipId),this.$el.setAttribute("tabindex",this.tabindex),Object(s["on"])(this.referenceElm,"mouseenter",this.show),Object(s["on"])(this.referenceElm,"mouseleave",this.hide),Object(s["on"])(this.referenceElm,"focus",(function(){if(t.$slots.default&&t.$slots.default.length){var e=t.$slots.default[0].componentInstance;e&&e.focus?e.focus():t.handleFocus()}else t.handleFocus()})),Object(s["on"])(this.referenceElm,"blur",this.handleBlur),Object(s["on"])(this.referenceElm,"click",this.removeFocusing)),this.value&&this.popperVM&&this.popperVM.$nextTick((function(){t.value&&t.updatePopper()}))},watch:{focusing:function(t){t?Object(s["addClass"])(this.referenceElm,"focusing"):Object(s["removeClass"])(this.referenceElm,"focusing")}},methods:{show:function(){this.setExpectedState(!0),this.handleShowPopper()},hide:function(){this.setExpectedState(!1),this.debounceClose()},handleFocus:function(){this.focusing=!0,this.show()},handleBlur:function(){this.focusing=!1,this.hide()},removeFocusing:function(){this.focusing=!1},addTooltipClass:function(t){return t?"el-tooltip "+t.replace("el-tooltip",""):"el-tooltip"},handleShowPopper:function(){var t=this;this.expectedState&&!this.manual&&(clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.showPopper=!0}),this.openDelay),this.hideAfter>0&&(this.timeoutPending=setTimeout((function(){t.showPopper=!1}),this.hideAfter)))},handleClosePopper:function(){this.enterable&&this.expectedState||this.manual||(clearTimeout(this.timeout),this.timeoutPending&&clearTimeout(this.timeoutPending),this.showPopper=!1,this.disabled&&this.doDestroy())},setExpectedState:function(t){!1===t&&clearTimeout(this.timeoutPending),this.expectedState=t},getFirstElement:function(){var t=this.$slots.default;if(!Array.isArray(t))return null;for(var e=null,n=0;n<t.length;n++)if(t[n]&&t[n].tag){e=t[n];break}return e}},beforeDestroy:function(){this.popperVM&&this.popperVM.$destroy()},destroyed:function(){var t=this.referenceElm;1===t.nodeType&&(Object(s["off"])(t,"mouseenter",this.show),Object(s["off"])(t,"mouseleave",this.hide),Object(s["off"])(t,"focus",this.handleFocus),Object(s["off"])(t,"blur",this.handleBlur),Object(s["off"])(t,"click",this.removeFocusing))},install:function(t){t.component(f.name,f)}};e["default"]=f},19:function(t,e){t.exports=n(6902)},2:function(t,e){t.exports=n(1610)},3:function(t,e){t.exports=n(8501)},5:function(t,e){t.exports=n(2155)},7:function(t,e){t.exports=n(7195)}})},3949:function(t,e,n){"use strict";n(7658),e.__esModule=!0;var r=n(7195),i=a(r),o=n(1610);function a(t){return t&&t.__esModule?t:{default:t}}var s=[],l="@@clickoutsideContext",u=void 0,c=0;function f(t,e,n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(n&&n.context&&r.target&&i.target)||t.contains(r.target)||t.contains(i.target)||t===r.target||n.context.popperElm&&(n.context.popperElm.contains(r.target)||n.context.popperElm.contains(i.target))||(e.expression&&t[l].methodName&&n.context[t[l].methodName]?n.context[t[l].methodName]():t[l].bindingFn&&t[l].bindingFn())}}!i.default.prototype.$isServer&&(0,o.on)(document,"mousedown",(function(t){return u=t})),!i.default.prototype.$isServer&&(0,o.on)(document,"mouseup",(function(t){s.forEach((function(e){return e[l].documentHandler(t,u)}))})),e["default"]={bind:function(t,e,n){s.push(t);var r=c++;t[l]={id:r,documentHandler:f(t,e,n),methodName:e.expression,bindingFn:e.value}},update:function(t,e,n){t[l].documentHandler=f(t,e,n),t[l].methodName=e.expression,t[l].bindingFn=e.value},unbind:function(t){for(var e=s.length,n=0;n<e;n++)if(s[n][l].id===t[l].id){s.splice(n,1);break}delete t[l]}}},1610:function(t,e,n){"use strict";e.__esModule=!0,e.isInContainer=e.getScrollContainer=e.isScroll=e.getStyle=e.once=e.off=e.on=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.hasClass=v,e.addClass=g,e.removeClass=y,e.setStyle=b;var i=n(7195),o=a(i);function a(t){return t&&t.__esModule?t:{default:t}}var s=o.default.prototype.$isServer,l=/([\:\-\_]+(.))/g,u=/^moz([A-Z])/,c=s?0:Number(document.documentMode),f=function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},h=function(t){return t.replace(l,(function(t,e,n,r){return r?n.toUpperCase():n})).replace(u,"Moz$1")},d=e.on=function(){return!s&&document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)}}(),p=e.off=function(){return!s&&document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)}}();e.once=function(t,e,n){var r=function r(){n&&n.apply(this,arguments),p(t,e,r)};d(t,e,r)};function v(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}function g(t,e){if(t){for(var n=t.className,r=(e||"").split(" "),i=0,o=r.length;i<o;i++){var a=r[i];a&&(t.classList?t.classList.add(a):v(t,a)||(n+=" "+a))}t.classList||t.setAttribute("class",n)}}function y(t,e){if(t&&e){for(var n=e.split(" "),r=" "+t.className+" ",i=0,o=n.length;i<o;i++){var a=n[i];a&&(t.classList?t.classList.remove(a):v(t,a)&&(r=r.replace(" "+a+" "," ")))}t.classList||t.setAttribute("class",f(r))}}var m=e.getStyle=c<9?function(t,e){if(!s){if(!t||!e)return null;e=h(e),"float"===e&&(e="styleFloat");try{switch(e){case"opacity":try{return t.filters.item("alpha").opacity/100}catch(n){return 1}default:return t.style[e]||t.currentStyle?t.currentStyle[e]:null}}catch(n){return t.style[e]}}}:function(t,e){if(!s){if(!t||!e)return null;e=h(e),"float"===e&&(e="cssFloat");try{var n=document.defaultView.getComputedStyle(t,"");return t.style[e]||n?n[e]:null}catch(r){return t.style[e]}}};function b(t,e,n){if(t&&e)if("object"===("undefined"===typeof e?"undefined":r(e)))for(var i in e)e.hasOwnProperty(i)&&b(t,i,e[i]);else e=h(e),"opacity"===e&&c<9?t.style.filter=isNaN(n)?"":"alpha(opacity="+100*n+")":t.style[e]=n}var x=e.isScroll=function(t,e){if(!s){var n=null!==e&&void 0!==e,r=m(t,n?e?"overflow-y":"overflow-x":"overflow");return r.match(/(scroll|auto|overlay)/)}};e.getScrollContainer=function(t,e){if(!s){var n=t;while(n){if([window,document,document.documentElement].includes(n))return window;if(x(n,e))return n;n=n.parentNode}return n}},e.isInContainer=function(t,e){if(s||!t||!e)return!1;var n=t.getBoundingClientRect(),r=void 0;return r=[window,document,document.documentElement,null,void 0].includes(e)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:e.getBoundingClientRect(),n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right}},2198:function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){for(var e=1,n=arguments.length;e<n;e++){var r=arguments[e]||{};for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];void 0!==o&&(t[i]=o)}}return t}},3242:function(t,e,n){"use strict";var r,i;"function"===typeof Symbol&&Symbol.iterator;(function(o,a){r=a,i="function"===typeof r?r.call(e,n,e,t):r,void 0===i||(t.exports=i)})(0,(function(){var t=window,e={placement:"bottom",gpuAcceleration:!0,offset:0,boundariesElement:"viewport",boundariesPadding:5,preventOverflowOrder:["left","right","top","bottom"],flipBehavior:"flip",arrowElement:"[x-arrow]",arrowOffset:0,modifiers:["shift","offset","preventOverflow","keepTogether","arrow","flip","applyStyle"],modifiersIgnored:[],forceAbsolute:!1};function n(t,n,r){this._reference=t.jquery?t[0]:t,this.state={};var i="undefined"===typeof n||null===n,o=n&&"[object Object]"===Object.prototype.toString.call(n);return this._popper=i||o?this.parse(o?n:{}):n.jquery?n[0]:n,this._options=Object.assign({},e,r),this._options.modifiers=this._options.modifiers.map(function(t){if(-1===this._options.modifiersIgnored.indexOf(t))return"applyStyle"===t&&this._popper.setAttribute("x-placement",this._options.placement),this.modifiers[t]||t}.bind(this)),this.state.position=this._getPosition(this._popper,this._reference),f(this._popper,{position:this.state.position,top:0}),this.update(),this._setupEventListeners(),this}function r(e){var n=e.style.display,r=e.style.visibility;e.style.display="block",e.style.visibility="hidden";e.offsetWidth;var i=t.getComputedStyle(e),o=parseFloat(i.marginTop)+parseFloat(i.marginBottom),a=parseFloat(i.marginLeft)+parseFloat(i.marginRight),s={width:e.offsetWidth+a,height:e.offsetHeight+o};return e.style.display=n,e.style.visibility=r,s}function i(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function o(t){var e=Object.assign({},t);return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function a(t,e){var n,r=0;for(n in t){if(t[n]===e)return r;r++}return null}function s(e,n){var r=t.getComputedStyle(e,null);return r[n]}function l(e){var n=e.offsetParent;return n!==t.document.body&&n?n:t.document.documentElement}function u(e){var n=e.parentNode;return n?n===t.document?t.document.body.scrollTop||t.document.body.scrollLeft?t.document.body:t.document.documentElement:-1!==["scroll","auto"].indexOf(s(n,"overflow"))||-1!==["scroll","auto"].indexOf(s(n,"overflow-x"))||-1!==["scroll","auto"].indexOf(s(n,"overflow-y"))?n:u(e.parentNode):e}function c(e){return e!==t.document.body&&("fixed"===s(e,"position")||(e.parentNode?c(e.parentNode):e))}function f(t,e){function n(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}Object.keys(e).forEach((function(r){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&n(e[r])&&(i="px"),t.style[r]=e[r]+i}))}function h(t){var e={};return t&&"[object Function]"===e.toString.call(t)}function d(t){var e={width:t.offsetWidth,height:t.offsetHeight,left:t.offsetLeft,top:t.offsetTop};return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function p(t){var e=t.getBoundingClientRect(),n=-1!=navigator.userAgent.indexOf("MSIE"),r=n&&"HTML"===t.tagName?-t.scrollTop:e.top;return{left:e.left,top:r,right:e.right,bottom:e.bottom,width:e.right-e.left,height:e.bottom-r}}function v(t,e,n){var r=p(t),i=p(e);if(n){var o=u(e);i.top+=o.scrollTop,i.bottom+=o.scrollTop,i.left+=o.scrollLeft,i.right+=o.scrollLeft}var a={top:r.top-i.top,left:r.left-i.left,bottom:r.top-i.top+r.height,right:r.left-i.left+r.width,width:r.width,height:r.height};return a}function g(e){for(var n=["","ms","webkit","moz","o"],r=0;r<n.length;r++){var i=n[r]?n[r]+e.charAt(0).toUpperCase()+e.slice(1):e;if("undefined"!==typeof t.document.body.style[i])return i}return null}return n.prototype.destroy=function(){return this._popper.removeAttribute("x-placement"),this._popper.style.left="",this._popper.style.position="",this._popper.style.top="",this._popper.style[g("transform")]="",this._removeEventListeners(),this._options.removeOnDestroy&&this._popper.remove(),this},n.prototype.update=function(){var t={instance:this,styles:{}};t.placement=this._options.placement,t._originalPlacement=this._options.placement,t.offsets=this._getOffsets(this._popper,this._reference,t.placement),t.boundaries=this._getBoundaries(t,this._options.boundariesPadding,this._options.boundariesElement),t=this.runModifiers(t,this._options.modifiers),"function"===typeof this.state.updateCallback&&this.state.updateCallback(t)},n.prototype.onCreate=function(t){return t(this),this},n.prototype.onUpdate=function(t){return this.state.updateCallback=t,this},n.prototype.parse=function(e){var n={tagName:"div",classNames:["popper"],attributes:[],parent:t.document.body,content:"",contentType:"text",arrowTagName:"div",arrowClassNames:["popper__arrow"],arrowAttributes:["x-arrow"]};e=Object.assign({},n,e);var r=t.document,i=r.createElement(e.tagName);if(s(i,e.classNames),l(i,e.attributes),"node"===e.contentType?i.appendChild(e.content.jquery?e.content[0]:e.content):"html"===e.contentType?i.innerHTML=e.content:i.textContent=e.content,e.arrowTagName){var o=r.createElement(e.arrowTagName);s(o,e.arrowClassNames),l(o,e.arrowAttributes),i.appendChild(o)}var a=e.parent.jquery?e.parent[0]:e.parent;if("string"===typeof a){if(a=r.querySelectorAll(e.parent),a.length>1&&console.warn("WARNING: the given `parent` query("+e.parent+") matched more than one element, the first one will be used"),0===a.length)throw"ERROR: the given `parent` doesn't exists!";a=a[0]}return a.length>1&&a instanceof Element===!1&&(console.warn("WARNING: you have passed as parent a list of elements, the first one will be used"),a=a[0]),a.appendChild(i),i;function s(t,e){e.forEach((function(e){t.classList.add(e)}))}function l(t,e){e.forEach((function(e){t.setAttribute(e.split(":")[0],e.split(":")[1]||"")}))}},n.prototype._getPosition=function(t,e){var n=l(e);if(this._options.forceAbsolute)return"absolute";var r=c(e,n);return r?"fixed":"absolute"},n.prototype._getOffsets=function(t,e,n){n=n.split("-")[0];var i={};i.position=this.state.position;var o="fixed"===i.position,a=v(e,l(t),o),s=r(t);return-1!==["right","left"].indexOf(n)?(i.top=a.top+a.height/2-s.height/2,i.left="left"===n?a.left-s.width:a.right):(i.left=a.left+a.width/2-s.width/2,i.top="top"===n?a.top-s.height:a.bottom),i.width=s.width,i.height=s.height,{popper:i,reference:a}},n.prototype._setupEventListeners=function(){if(this.state.updateBound=this.update.bind(this),t.addEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement){var e=u(this._reference);e!==t.document.body&&e!==t.document.documentElement||(e=t),e.addEventListener("scroll",this.state.updateBound),this.state.scrollTarget=e}},n.prototype._removeEventListeners=function(){t.removeEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement&&this.state.scrollTarget&&(this.state.scrollTarget.removeEventListener("scroll",this.state.updateBound),this.state.scrollTarget=null),this.state.updateBound=null},n.prototype._getBoundaries=function(e,n,r){var i,o,a={};if("window"===r){var s=t.document.body,c=t.document.documentElement;o=Math.max(s.scrollHeight,s.offsetHeight,c.clientHeight,c.scrollHeight,c.offsetHeight),i=Math.max(s.scrollWidth,s.offsetWidth,c.clientWidth,c.scrollWidth,c.offsetWidth),a={top:0,right:i,bottom:o,left:0}}else if("viewport"===r){var f=l(this._popper),h=u(this._popper),p=d(f),v=function(t){return t==document.body?Math.max(document.documentElement.scrollTop,document.body.scrollTop):t.scrollTop},g=function(t){return t==document.body?Math.max(document.documentElement.scrollLeft,document.body.scrollLeft):t.scrollLeft},y="fixed"===e.offsets.popper.position?0:v(h),m="fixed"===e.offsets.popper.position?0:g(h);a={top:0-(p.top-y),right:t.document.documentElement.clientWidth-(p.left-m),bottom:t.document.documentElement.clientHeight-(p.top-y),left:0-(p.left-m)}}else a=l(this._popper)===r?{top:0,left:0,right:r.clientWidth,bottom:r.clientHeight}:d(r);return a.left+=n,a.right-=n,a.top=a.top+n,a.bottom=a.bottom-n,a},n.prototype.runModifiers=function(t,e,n){var r=e.slice();return void 0!==n&&(r=this._options.modifiers.slice(0,a(this._options.modifiers,n))),r.forEach(function(e){h(e)&&(t=e.call(this,t))}.bind(this)),t},n.prototype.isModifierRequired=function(t,e){var n=a(this._options.modifiers,t);return!!this._options.modifiers.slice(0,n).filter((function(t){return t===e})).length},n.prototype.modifiers={},n.prototype.modifiers.applyStyle=function(t){var e,n={position:t.offsets.popper.position},r=Math.round(t.offsets.popper.left),i=Math.round(t.offsets.popper.top);return this._options.gpuAcceleration&&(e=g("transform"))?(n[e]="translate3d("+r+"px, "+i+"px, 0)",n.top=0,n.left=0):(n.left=r,n.top=i),Object.assign(n,t.styles),f(this._popper,n),this._popper.setAttribute("x-placement",t.placement),this.isModifierRequired(this.modifiers.applyStyle,this.modifiers.arrow)&&t.offsets.arrow&&f(t.arrowElement,t.offsets.arrow),t},n.prototype.modifiers.shift=function(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets.reference,a=o(t.offsets.popper),s={y:{start:{top:i.top},end:{top:i.top+i.height-a.height}},x:{start:{left:i.left},end:{left:i.left+i.width-a.width}}},l=-1!==["bottom","top"].indexOf(n)?"x":"y";t.offsets.popper=Object.assign(a,s[l][r])}return t},n.prototype.modifiers.preventOverflow=function(t){var e=this._options.preventOverflowOrder,n=o(t.offsets.popper),r={left:function(){var e=n.left;return n.left<t.boundaries.left&&(e=Math.max(n.left,t.boundaries.left)),{left:e}},right:function(){var e=n.left;return n.right>t.boundaries.right&&(e=Math.min(n.left,t.boundaries.right-n.width)),{left:e}},top:function(){var e=n.top;return n.top<t.boundaries.top&&(e=Math.max(n.top,t.boundaries.top)),{top:e}},bottom:function(){var e=n.top;return n.bottom>t.boundaries.bottom&&(e=Math.min(n.top,t.boundaries.bottom-n.height)),{top:e}}};return e.forEach((function(e){t.offsets.popper=Object.assign(n,r[e]())})),t},n.prototype.modifiers.keepTogether=function(t){var e=o(t.offsets.popper),n=t.offsets.reference,r=Math.floor;return e.right<r(n.left)&&(t.offsets.popper.left=r(n.left)-e.width),e.left>r(n.right)&&(t.offsets.popper.left=r(n.right)),e.bottom<r(n.top)&&(t.offsets.popper.top=r(n.top)-e.height),e.top>r(n.bottom)&&(t.offsets.popper.top=r(n.bottom)),t},n.prototype.modifiers.flip=function(t){if(!this.isModifierRequired(this.modifiers.flip,this.modifiers.preventOverflow))return console.warn("WARNING: preventOverflow modifier is required by flip modifier in order to work, be sure to include it before flip!"),t;if(t.flipped&&t.placement===t._originalPlacement)return t;var e=t.placement.split("-")[0],n=i(e),r=t.placement.split("-")[1]||"",a=[];return a="flip"===this._options.flipBehavior?[e,n]:this._options.flipBehavior,a.forEach(function(s,l){if(e===s&&a.length!==l+1){e=t.placement.split("-")[0],n=i(e);var u=o(t.offsets.popper),c=-1!==["right","bottom"].indexOf(e);(c&&Math.floor(t.offsets.reference[e])>Math.floor(u[n])||!c&&Math.floor(t.offsets.reference[e])<Math.floor(u[n]))&&(t.flipped=!0,t.placement=a[l+1],r&&(t.placement+="-"+r),t.offsets.popper=this._getOffsets(this._popper,this._reference,t.placement).popper,t=this.runModifiers(t,this._options.modifiers,this._flip))}}.bind(this)),t},n.prototype.modifiers.offset=function(t){var e=this._options.offset,n=t.offsets.popper;return-1!==t.placement.indexOf("left")?n.top-=e:-1!==t.placement.indexOf("right")?n.top+=e:-1!==t.placement.indexOf("top")?n.left-=e:-1!==t.placement.indexOf("bottom")&&(n.left+=e),t},n.prototype.modifiers.arrow=function(t){var e=this._options.arrowElement,n=this._options.arrowOffset;if("string"===typeof e&&(e=this._popper.querySelector(e)),!e)return t;if(!this._popper.contains(e))return console.warn("WARNING: `arrowElement` must be child of its popper element!"),t;if(!this.isModifierRequired(this.modifiers.arrow,this.modifiers.keepTogether))return console.warn("WARNING: keepTogether modifier is required by arrow modifier in order to work, be sure to include it before arrow!"),t;var i={},a=t.placement.split("-")[0],s=o(t.offsets.popper),l=t.offsets.reference,u=-1!==["left","right"].indexOf(a),c=u?"height":"width",f=u?"top":"left",h=u?"left":"top",d=u?"bottom":"right",p=r(e)[c];l[d]-p<s[f]&&(t.offsets.popper[f]-=s[f]-(l[d]-p)),l[f]+p>s[d]&&(t.offsets.popper[f]+=l[f]+p-s[d]);var v=l[f]+(n||l[c]/2-p/2),g=v-s[f];return g=Math.max(Math.min(s[c]-p-8,g),8),i[f]=g,i[h]="",t.offsets.arrow=i,t.arrowElement=e,t},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r){r=Object(r);for(var i=Object.keys(r),o=0,a=i.length;o<a;o++){var s=i[o],l=Object.getOwnPropertyDescriptor(r,s);void 0!==l&&l.enumerable&&(e[s]=r[s])}}}return e}}),n}))},7474:function(t,e,n){"use strict";e.__esModule=!0,e.PopupManager=void 0;var r=n(7195),i=h(r),o=n(2198),a=h(o),s=n(9453),l=h(s),u=n(5713),c=h(u),f=n(1610);function h(t){return t&&t.__esModule?t:{default:t}}var d=1,p=void 0;e["default"]={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount:function(){this._popupId="popup-"+d++,l.default.register(this._popupId,this)},beforeDestroy:function(){l.default.deregister(this._popupId),l.default.closeModal(this._popupId),this.restoreBodyStyle()},data:function(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible:function(t){var e=this;if(t){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,i.default.nextTick((function(){e.open()})))}else this.close()}},methods:{open:function(t){var e=this;this.rendered||(this.rendered=!0);var n=(0,a.default)({},this.$props||this,t);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var r=Number(n.openDelay);r>0?this._openTimer=setTimeout((function(){e._openTimer=null,e.doOpen(n)}),r):this.doOpen(n)},doOpen:function(t){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0;var e=this.$el,n=t.modal,r=t.zIndex;if(r&&(l.default.zIndex=r),n&&(this._closing&&(l.default.closeModal(this._popupId),this._closing=!1),l.default.openModal(this._popupId,l.default.nextZIndex(),this.modalAppendToBody?void 0:e,t.modalClass,t.modalFade),t.lockScroll)){this.withoutHiddenClass=!(0,f.hasClass)(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt((0,f.getStyle)(document.body,"paddingRight"),10)),p=(0,c.default)();var i=document.documentElement.clientHeight<document.body.scrollHeight,o=(0,f.getStyle)(document.body,"overflowY");p>0&&(i||"scroll"===o)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+p+"px"),(0,f.addClass)(document.body,"el-popup-parent--hidden")}"static"===getComputedStyle(e).position&&(e.style.position="absolute"),e.style.zIndex=l.default.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var t=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var e=Number(this.closeDelay);e>0?this._closeTimer=setTimeout((function(){t._closeTimer=null,t.doClose()}),e):this.doClose()}},doClose:function(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose:function(){l.default.closeModal(this._popupId),this._closing=!1},restoreBodyStyle:function(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,(0,f.removeClass)(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},e.PopupManager=l.default},9453:function(t,e,n){"use strict";n(7658),e.__esModule=!0;var r=n(7195),i=a(r),o=n(1610);function a(t){return t&&t.__esModule?t:{default:t}}var s=!1,l=!1,u=void 0,c=function(){if(!i.default.prototype.$isServer){var t=h.modalDom;return t?s=!0:(s=!1,t=document.createElement("div"),h.modalDom=t,t.addEventListener("touchmove",(function(t){t.preventDefault(),t.stopPropagation()})),t.addEventListener("click",(function(){h.doOnModalClick&&h.doOnModalClick()}))),t}},f={},h={modalFade:!0,getInstance:function(t){return f[t]},register:function(t,e){t&&e&&(f[t]=e)},deregister:function(t){t&&(f[t]=null,delete f[t])},nextZIndex:function(){return h.zIndex++},modalStack:[],doOnModalClick:function(){var t=h.modalStack[h.modalStack.length-1];if(t){var e=h.getInstance(t.id);e&&e.closeOnClickModal&&e.close()}},openModal:function(t,e,n,r,a){if(!i.default.prototype.$isServer&&t&&void 0!==e){this.modalFade=a;for(var l=this.modalStack,u=0,f=l.length;u<f;u++){var h=l[u];if(h.id===t)return}var d=c();if((0,o.addClass)(d,"v-modal"),this.modalFade&&!s&&(0,o.addClass)(d,"v-modal-enter"),r){var p=r.trim().split(/\s+/);p.forEach((function(t){return(0,o.addClass)(d,t)}))}setTimeout((function(){(0,o.removeClass)(d,"v-modal-enter")}),200),n&&n.parentNode&&11!==n.parentNode.nodeType?n.parentNode.appendChild(d):document.body.appendChild(d),e&&(d.style.zIndex=e),d.tabIndex=0,d.style.display="",this.modalStack.push({id:t,zIndex:e,modalClass:r})}},closeModal:function(t){var e=this.modalStack,n=c();if(e.length>0){var r=e[e.length-1];if(r.id===t){if(r.modalClass){var i=r.modalClass.trim().split(/\s+/);i.forEach((function(t){return(0,o.removeClass)(n,t)}))}e.pop(),e.length>0&&(n.style.zIndex=e[e.length-1].zIndex)}else for(var a=e.length-1;a>=0;a--)if(e[a].id===t){e.splice(a,1);break}}0===e.length&&(this.modalFade&&(0,o.addClass)(n,"v-modal-leave"),setTimeout((function(){0===e.length&&(n.parentNode&&n.parentNode.removeChild(n),n.style.display="none",h.modalDom=void 0),(0,o.removeClass)(n,"v-modal-leave")}),200))}};Object.defineProperty(h,"zIndex",{configurable:!0,get:function(){return l||(u=u||(i.default.prototype.$ELEMENT||{}).zIndex||2e3,l=!0),u},set:function(t){u=t}});var d=function(){if(!i.default.prototype.$isServer&&h.modalStack.length>0){var t=h.modalStack[h.modalStack.length-1];if(!t)return;var e=h.getInstance(t.id);return e}};i.default.prototype.$isServer||window.addEventListener("keydown",(function(t){if(27===t.keyCode){var e=d();e&&e.closeOnPressEscape&&(e.handleClose?e.handleClose():e.handleAction?e.handleAction("cancel"):e.close())}})),e["default"]=h},1432:function(t,e,n){"use strict";n(7658),e.__esModule=!0,e.removeResizeListener=e.addResizeListener=void 0;var r=n(5291),i=a(r),o=n(1009);function a(t){return t&&t.__esModule?t:{default:t}}var s="undefined"===typeof window,l=function(t){var e=t,n=Array.isArray(e),r=0;for(e=n?e:e[Symbol.iterator]();;){var i;if(n){if(r>=e.length)break;i=e[r++]}else{if(r=e.next(),r.done)break;i=r.value}var o=i,a=o.target.__resizeListeners__||[];a.length&&a.forEach((function(t){t()}))}};e.addResizeListener=function(t,e){s||(t.__resizeListeners__||(t.__resizeListeners__=[],t.__ro__=new i.default((0,o.debounce)(16,l)),t.__ro__.observe(t)),t.__resizeListeners__.push(e))},e.removeResizeListener=function(t,e){t&&t.__resizeListeners__&&(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||t.__ro__.disconnect())}},2809:function(t,e,n){"use strict";n(7658),e.__esModule=!0,e["default"]=a;var r=n(7195),i=o(r);function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!i.default.prototype.$isServer)if(e){var n=[],r=e.offsetParent;while(r&&t!==r&&t.contains(r))n.push(r),r=r.offsetParent;var o=e.offsetTop+n.reduce((function(t,e){return t+e.offsetTop}),0),a=o+e.offsetHeight,s=t.scrollTop,l=s+t.clientHeight;o<s?t.scrollTop=o:a>l&&(t.scrollTop=a-t.clientHeight)}else t.scrollTop=0}},5713:function(t,e,n){"use strict";e.__esModule=!0,e["default"]=function(){if(i.default.prototype.$isServer)return 0;if(void 0!==a)return a;var t=document.createElement("div");t.className="el-scrollbar__wrap",t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",t.appendChild(n);var r=n.offsetWidth;return t.parentNode.removeChild(t),a=e-r,a};var r=n(7195),i=o(r);function o(t){return t&&t.__esModule?t:{default:t}}var a=void 0},4541:function(t,e){"use strict";function n(t){return void 0!==t&&null!==t}function r(t){var e=/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi;return e.test(t)}e.__esModule=!0,e.isDef=n,e.isKorean=r},3860:function(t,e,n){"use strict";n(1439),n(7585),n(5315),e.__esModule=!0,e.isDefined=e.isUndefined=e.isFunction=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.isString=s,e.isObject=l,e.isHtmlElement=u;var i=n(7195),o=a(i);function a(t){return t&&t.__esModule?t:{default:t}}function s(t){return"[object String]"===Object.prototype.toString.call(t)}function l(t){return"[object Object]"===Object.prototype.toString.call(t)}function u(t){return t&&t.nodeType===Node.ELEMENT_NODE}var c=function(t){var e={};return t&&"[object Function]"===e.toString.call(t)};"object"===("undefined"===typeof Int8Array?"undefined":r(Int8Array))||!o.default.prototype.$isServer&&"function"===typeof document.childNodes||(e.isFunction=c=function(t){return"function"===typeof t||!1}),e.isFunction=c;e.isUndefined=function(t){return void 0===t},e.isDefined=function(t){return void 0!==t&&null!==t}},8501:function(t,e,n){"use strict";e.__esModule=!0,e.isMac=e.isEmpty=e.isEqual=e.arrayEquals=e.looseEqual=e.capitalize=e.kebabCase=e.autoprefixer=e.isFirefox=e.isEdge=e.isIE=e.coerceTruthyValueToArray=e.arrayFind=e.arrayFindIndex=e.escapeRegexpString=e.valueEquals=e.generateId=e.getValueByPath=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.noop=u,e.hasOwn=c,e.toObject=h,e.getPropByPath=d,e.rafThrottle=m,e.objToArray=b;var i=n(7195),o=s(i),a=n(3860);function s(t){return t&&t.__esModule?t:{default:t}}var l=Object.prototype.hasOwnProperty;function u(){}function c(t,e){return l.call(t,e)}function f(t,e){for(var n in e)t[n]=e[n];return t}function h(t){for(var e={},n=0;n<t.length;n++)t[n]&&f(e,t[n]);return e}e.getValueByPath=function(t,e){e=e||"";for(var n=e.split("."),r=t,i=null,o=0,a=n.length;o<a;o++){var s=n[o];if(!r)break;if(o===a-1){i=r[s];break}r=r[s]}return i};function d(t,e,n){var r=t;e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");for(var i=e.split("."),o=0,a=i.length;o<a-1;++o){if(!r&&!n)break;var s=i[o];if(!(s in r)){if(n)throw new Error("please transfer a valid prop path to form item!");break}r=r[s]}return{o:r,k:i[o],v:r?r[i[o]]:null}}e.generateId=function(){return Math.floor(1e4*Math.random())},e.valueEquals=function(t,e){if(t===e)return!0;if(!(t instanceof Array))return!1;if(!(e instanceof Array))return!1;if(t.length!==e.length)return!1;for(var n=0;n!==t.length;++n)if(t[n]!==e[n])return!1;return!0},e.escapeRegexpString=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(t).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};var p=e.arrayFindIndex=function(t,e){for(var n=0;n!==t.length;++n)if(e(t[n]))return n;return-1},v=(e.arrayFind=function(t,e){var n=p(t,e);return-1!==n?t[n]:void 0},e.coerceTruthyValueToArray=function(t){return Array.isArray(t)?t:t?[t]:[]},e.isIE=function(){return!o.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},e.isEdge=function(){return!o.default.prototype.$isServer&&navigator.userAgent.indexOf("Edge")>-1},e.isFirefox=function(){return!o.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},e.autoprefixer=function(t){if("object"!==("undefined"===typeof t?"undefined":r(t)))return t;var e=["transform","transition","animation"],n=["ms-","webkit-"];return e.forEach((function(e){var r=t[e];e&&r&&n.forEach((function(n){t[n+e]=r}))})),t},e.kebabCase=function(t){var e=/([^-])([A-Z])/g;return t.replace(e,"$1-$2").replace(e,"$1-$2").toLowerCase()},e.capitalize=function(t){return(0,a.isString)(t)?t.charAt(0).toUpperCase()+t.slice(1):t},e.looseEqual=function(t,e){var n=(0,a.isObject)(t),r=(0,a.isObject)(e);return n&&r?JSON.stringify(t)===JSON.stringify(e):!n&&!r&&String(t)===String(e)}),g=e.arrayEquals=function(t,e){if(t=t||[],e=e||[],t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!v(t[n],e[n]))return!1;return!0},y=(e.isEqual=function(t,e){return Array.isArray(t)&&Array.isArray(e)?g(t,e):v(t,e)},e.isEmpty=function(t){if(null==t)return!0;if("boolean"===typeof t)return!1;if("number"===typeof t)return!t;if(t instanceof Error)return""===t.message;switch(Object.prototype.toString.call(t)){case"[object String]":case"[object Array]":return!t.length;case"[object File]":case"[object Map]":case"[object Set]":return!t.size;case"[object Object]":return!Object.keys(t).length}return!1});function m(t){var e=!1;return function(){for(var n=this,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];e||(e=!0,window.requestAnimationFrame((function(r){t.apply(n,i),e=!1})))}}function b(t){return Array.isArray(t)?t:y(t)?[]:[t]}e.isMac=function(){return!o.default.prototype.$isServer&&/macintosh|mac os x/i.test(navigator.userAgent)}},2155:function(t,e,n){"use strict";e.__esModule=!0;var r=n(7195),i=a(r),o=n(7474);function a(t){return t&&t.__esModule?t:{default:t}}var s=i.default.prototype.$isServer?function(){}:n(3242),l=function(t){return t.stopPropagation()};e["default"]={props:{transformOrigin:{type:[Boolean,String],default:!0},placement:{type:String,default:"bottom"},boundariesPadding:{type:Number,default:5},reference:{},popper:{},offset:{default:0},value:Boolean,visibleArrow:Boolean,arrowOffset:{type:Number,default:35},appendToBody:{type:Boolean,default:!0},popperOptions:{type:Object,default:function(){return{gpuAcceleration:!1}}}},data:function(){return{showPopper:!1,currentPlacement:""}},watch:{value:{immediate:!0,handler:function(t){this.showPopper=t,this.$emit("input",t)}},showPopper:function(t){this.disabled||(t?this.updatePopper():this.destroyPopper(),this.$emit("input",t))}},methods:{createPopper:function(){var t=this;if(!this.$isServer&&(this.currentPlacement=this.currentPlacement||this.placement,/^(top|bottom|left|right)(-start|-end)?$/g.test(this.currentPlacement))){var e=this.popperOptions,n=this.popperElm=this.popperElm||this.popper||this.$refs.popper,r=this.referenceElm=this.referenceElm||this.reference||this.$refs.reference;!r&&this.$slots.reference&&this.$slots.reference[0]&&(r=this.referenceElm=this.$slots.reference[0].elm),n&&r&&(this.visibleArrow&&this.appendArrow(n),this.appendToBody&&document.body.appendChild(this.popperElm),this.popperJS&&this.popperJS.destroy&&this.popperJS.destroy(),e.placement=this.currentPlacement,e.offset=this.offset,e.arrowOffset=this.arrowOffset,this.popperJS=new s(r,n,e),this.popperJS.onCreate((function(e){t.$emit("created",t),t.resetTransformOrigin(),t.$nextTick(t.updatePopper)})),"function"===typeof e.onUpdate&&this.popperJS.onUpdate(e.onUpdate),this.popperJS._popper.style.zIndex=o.PopupManager.nextZIndex(),this.popperElm.addEventListener("click",l))}},updatePopper:function(){var t=this.popperJS;t?(t.update(),t._popper&&(t._popper.style.zIndex=o.PopupManager.nextZIndex())):this.createPopper()},doDestroy:function(t){!this.popperJS||this.showPopper&&!t||(this.popperJS.destroy(),this.popperJS=null)},destroyPopper:function(){this.popperJS&&this.resetTransformOrigin()},resetTransformOrigin:function(){if(this.transformOrigin){var t={top:"bottom",bottom:"top",left:"right",right:"left"},e=this.popperJS._popper.getAttribute("x-placement").split("-")[0],n=t[e];this.popperJS._popper.style.transformOrigin="string"===typeof this.transformOrigin?this.transformOrigin:["top","bottom"].indexOf(e)>-1?"center "+n:n+" center"}},appendArrow:function(t){var e=void 0;if(!this.appended){for(var n in this.appended=!0,t.attributes)if(/^_v-/.test(t.attributes[n].name)){e=t.attributes[n].name;break}var r=document.createElement("div");e&&r.setAttribute(e,""),r.setAttribute("x-arrow",""),r.className="popper__arrow",t.appendChild(r)}}},beforeDestroy:function(){this.doDestroy(!0),this.popperElm&&this.popperElm.parentNode===document.body&&(this.popperElm.removeEventListener("click",l),document.body.removeChild(this.popperElm))},deactivated:function(){this.$options.beforeDestroy[0].call(this)}}},4286:function(t,e,n){n(7658),function(t,n){n(e)}(0,(function(t){"use strict";function e(t,e,n,r){r=r||{};var i=r.maxIterations||100,o=r.tolerance||1e-10,a=t(e),s=t(n),l=n-e;if(a*s>0)throw"Initial bisect points must have opposite signs";if(0===a)return e;if(0===s)return n;for(var u=0;u<i;++u){l/=2;var c=e+l,f=t(c);if(f*a>=0&&(e=c),Math.abs(l)<o||0===f)return c}return e+l}function n(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=0;return e}function r(t,e){return n(t).map((function(){return n(e)}))}function i(t,e){for(var n=0,r=0;r<t.length;++r)n+=t[r]*e[r];return n}function o(t){return Math.sqrt(i(t,t))}function a(t,e,n){for(var r=0;r<e.length;++r)t[r]=e[r]*n}function s(t,e,n,r,i){for(var o=0;o<t.length;++o)t[o]=e*n[o]+r*i[o]}function l(t,e,n){n=n||{};var r,i=n.maxIterations||200*e.length,o=n.nonZeroDelta||1.05,a=n.zeroDelta||.001,l=n.minErrorDelta||1e-6,u=n.minErrorDelta||1e-5,c=void 0!==n.rho?n.rho:1,f=void 0!==n.chi?n.chi:2,h=void 0!==n.psi?n.psi:-.5,d=void 0!==n.sigma?n.sigma:.5,p=e.length,v=new Array(p+1);v[0]=e,v[0].fx=t(e),v[0].id=0;for(var g=0;g<p;++g){var y=e.slice();y[g]=y[g]?y[g]*o:a,v[g+1]=y,v[g+1].fx=t(y),v[g+1].id=g+1}function m(t){for(var e=0;e<t.length;e++)v[p][e]=t[e];v[p].fx=t.fx}for(var b=function(t,e){return t.fx-e.fx},x=e.slice(),w=e.slice(),_=e.slice(),O=e.slice(),C=0;C<i;++C){if(v.sort(b),n.history){var S=v.map((function(t){var e=t.slice();return e.fx=t.fx,e.id=t.id,e}));S.sort((function(t,e){return t.id-e.id})),n.history.push({x:v[0].slice(),fx:v[0].fx,simplex:S})}for(r=0,g=0;g<p;++g)r=Math.max(r,Math.abs(v[0][g]-v[1][g]));if(Math.abs(v[0].fx-v[p].fx)<l&&r<u)break;for(g=0;g<p;++g){x[g]=0;for(var E=0;E<p;++E)x[g]+=v[E][g];x[g]/=p}var M=v[p];if(s(w,1+c,x,-c,M),w.fx=t(w),w.fx<v[0].fx)s(O,1+f,x,-f,M),O.fx=t(O),O.fx<w.fx?m(O):m(w);else if(w.fx>=v[p-1].fx){var k=!1;if(w.fx>M.fx?(s(_,1+h,x,-h,M),_.fx=t(_),_.fx<M.fx?m(_):k=!0):(s(_,1-h*c,x,h*c,M),_.fx=t(_),_.fx<w.fx?m(_):k=!0),k){if(d>=1)break;for(g=1;g<v.length;++g)s(v[g],1-d,v[0],d,v[g]),v[g].fx=t(v[g])}}else m(w)}return v.sort(b),{fx:v[0].fx,x:v[0]}}function u(t,e,n,r,o,a,l){var u=n.fx,c=i(n.fxprime,e),f=u,h=u,d=c,p=0;function v(h,p,v){for(var g=0;g<16;++g)if(o=(h+p)/2,s(r.x,1,n.x,o,e),f=r.fx=t(r.x,r.fxprime),d=i(r.fxprime,e),f>u+a*o*c||f>=v)p=o;else{if(Math.abs(d)<=-l*c)return o;d*(p-h)>=0&&(p=h),h=o,v=f}return 0}o=o||1,a=a||1e-6,l=l||.1;for(var g=0;g<10;++g){if(s(r.x,1,n.x,o,e),f=r.fx=t(r.x,r.fxprime),d=i(r.fxprime,e),f>u+a*o*c||g&&f>=h)return v(p,o,h);if(Math.abs(d)<=-l*c)return o;if(d>=0)return v(o,p,f);h=f,p=o,o*=2}return o}function c(t,e,n){var r,l,c,f={x:e.slice(),fx:0,fxprime:e.slice()},h={x:e.slice(),fx:0,fxprime:e.slice()},d=e.slice(),p=1;n=n||{},c=n.maxIterations||20*e.length,f.fx=t(f.x,f.fxprime),r=f.fxprime.slice(),a(r,f.fxprime,-1);for(var v=0;v<c;++v){if(p=u(t,r,f,h,p),n.history&&n.history.push({x:f.x.slice(),fx:f.fx,fxprime:f.fxprime.slice(),alpha:p}),p){s(d,1,h.fxprime,-1,f.fxprime);var g=i(f.fxprime,f.fxprime),y=Math.max(0,i(d,h.fxprime)/g);s(r,y,r,-1,h.fxprime),l=f,f=h,h=l}else a(r,f.fxprime,-1);if(o(f.fxprime)<=1e-5)break}return n.history&&n.history.push({x:f.x.slice(),fx:f.fx,fxprime:f.fxprime.slice(),alpha:p}),f}function f(t,e,n){n=n||{};for(var r=n.maxIterations||100*e.length,i=n.learnRate||.001,a={x:e.slice(),fx:0,fxprime:e.slice()},l=0;l<r;++l)if(a.fx=t(a.x,a.fxprime),n.history&&n.history.push({x:a.x.slice(),fx:a.fx,fxprime:a.fxprime.slice()}),s(a.x,1,a.x,-i,a.fxprime),o(a.fxprime)<=1e-5)break;return a}function h(t,e,n){n=n||{};var r,i={x:e.slice(),fx:0,fxprime:e.slice()},s={x:e.slice(),fx:0,fxprime:e.slice()},l=n.maxIterations||100*e.length,c=n.learnRate||1,f=e.slice(),h=n.c1||.001,d=n.c2||.1,p=[];if(n.history){var v=t;t=function(t,e){return p.push(t.slice()),v(t,e)}}i.fx=t(i.x,i.fxprime);for(var g=0;g<l;++g)if(a(f,i.fxprime,-1),c=u(t,f,i,s,c,h,d),n.history&&(n.history.push({x:i.x.slice(),fx:i.fx,fxprime:i.fxprime.slice(),functionCalls:p,learnRate:c,alpha:c}),p=[]),r=i,i=s,s=r,0===c||o(i.fxprime)<1e-5)break;return i}t.bisect=e,t.nelderMead=l,t.conjugateGradient=c,t.gradientDescent=f,t.gradientDescentLineSearch=h,t.zeros=n,t.zerosM=r,t.norm2=o,t.weightedSum=s,t.scale=a}))},1579:function(t,e,n){var r;t=n.nmd(t),n(7658),function(){var i,o="4.17.21",a=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,h="__lodash_placeholder__",d=1,p=2,v=4,g=1,y=2,m=1,b=2,x=4,w=8,_=16,O=32,C=64,S=128,E=256,M=512,k=30,T="...",A=800,L=16,P=1,R=2,I=3,j=1/0,N=9007199254740991,B=17976931348623157e292,D=NaN,F=4294967295,z=F-1,W=F>>>1,H=[["ary",S],["bind",m],["bindKey",b],["curry",w],["curryRight",_],["flip",M],["partial",O],["partialRight",C],["rearg",E]],$="[object Arguments]",G="[object Array]",V="[object AsyncFunction]",U="[object Boolean]",Y="[object Date]",q="[object DOMException]",X="[object Error]",K="[object Function]",Z="[object GeneratorFunction]",Q="[object Map]",J="[object Number]",tt="[object Null]",et="[object Object]",nt="[object Promise]",rt="[object Proxy]",it="[object RegExp]",ot="[object Set]",at="[object String]",st="[object Symbol]",lt="[object Undefined]",ut="[object WeakMap]",ct="[object WeakSet]",ft="[object ArrayBuffer]",ht="[object DataView]",dt="[object Float32Array]",pt="[object Float64Array]",vt="[object Int8Array]",gt="[object Int16Array]",yt="[object Int32Array]",mt="[object Uint8Array]",bt="[object Uint8ClampedArray]",xt="[object Uint16Array]",wt="[object Uint32Array]",_t=/\b__p \+= '';/g,Ot=/\b(__p \+=) '' \+/g,Ct=/(__e\(.*?\)|\b__t\)) \+\n'';/g,St=/&(?:amp|lt|gt|quot|#39);/g,Et=/[&<>"']/g,Mt=RegExp(St.source),kt=RegExp(Et.source),Tt=/<%-([\s\S]+?)%>/g,At=/<%([\s\S]+?)%>/g,Lt=/<%=([\s\S]+?)%>/g,Pt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rt=/^\w*$/,It=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jt=/[\\^$.*+?()[\]{}|]/g,Nt=RegExp(jt.source),Bt=/^\s+/,Dt=/\s/,Ft=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,zt=/\{\n\/\* \[wrapped with (.+)\] \*/,Wt=/,? & /,Ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$t=/[()=,{}\[\]\/\s]/,Gt=/\\(\\)?/g,Vt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ut=/\w*$/,Yt=/^[-+]0x[0-9a-f]+$/i,qt=/^0b[01]+$/i,Xt=/^\[object .+?Constructor\]$/,Kt=/^0o[0-7]+$/i,Zt=/^(?:0|[1-9]\d*)$/,Qt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jt=/($^)/,te=/['\n\r\u2028\u2029\\]/g,ee="\\ud800-\\udfff",ne="\\u0300-\\u036f",re="\\ufe20-\\ufe2f",ie="\\u20d0-\\u20ff",oe=ne+re+ie,ae="\\u2700-\\u27bf",se="a-z\\xdf-\\xf6\\xf8-\\xff",le="\\xac\\xb1\\xd7\\xf7",ue="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ce="\\u2000-\\u206f",fe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",he="A-Z\\xc0-\\xd6\\xd8-\\xde",de="\\ufe0e\\ufe0f",pe=le+ue+ce+fe,ve="[']",ge="["+ee+"]",ye="["+pe+"]",me="["+oe+"]",be="\\d+",xe="["+ae+"]",we="["+se+"]",_e="[^"+ee+pe+be+ae+se+he+"]",Oe="\\ud83c[\\udffb-\\udfff]",Ce="(?:"+me+"|"+Oe+")",Se="[^"+ee+"]",Ee="(?:\\ud83c[\\udde6-\\uddff]){2}",Me="[\\ud800-\\udbff][\\udc00-\\udfff]",ke="["+he+"]",Te="\\u200d",Ae="(?:"+we+"|"+_e+")",Le="(?:"+ke+"|"+_e+")",Pe="(?:"+ve+"(?:d|ll|m|re|s|t|ve))?",Re="(?:"+ve+"(?:D|LL|M|RE|S|T|VE))?",Ie=Ce+"?",je="["+de+"]?",Ne="(?:"+Te+"(?:"+[Se,Ee,Me].join("|")+")"+je+Ie+")*",Be="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Fe=je+Ie+Ne,ze="(?:"+[xe,Ee,Me].join("|")+")"+Fe,We="(?:"+[Se+me+"?",me,Ee,Me,ge].join("|")+")",He=RegExp(ve,"g"),$e=RegExp(me,"g"),Ge=RegExp(Oe+"(?="+Oe+")|"+We+Fe,"g"),Ve=RegExp([ke+"?"+we+"+"+Pe+"(?="+[ye,ke,"$"].join("|")+")",Le+"+"+Re+"(?="+[ye,ke+Ae,"$"].join("|")+")",ke+"?"+Ae+"+"+Pe,ke+"+"+Re,De,Be,be,ze].join("|"),"g"),Ue=RegExp("["+Te+ee+oe+de+"]"),Ye=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xe=-1,Ke={};Ke[dt]=Ke[pt]=Ke[vt]=Ke[gt]=Ke[yt]=Ke[mt]=Ke[bt]=Ke[xt]=Ke[wt]=!0,Ke[$]=Ke[G]=Ke[ft]=Ke[U]=Ke[ht]=Ke[Y]=Ke[X]=Ke[K]=Ke[Q]=Ke[J]=Ke[et]=Ke[it]=Ke[ot]=Ke[at]=Ke[ut]=!1;var Ze={};Ze[$]=Ze[G]=Ze[ft]=Ze[ht]=Ze[U]=Ze[Y]=Ze[dt]=Ze[pt]=Ze[vt]=Ze[gt]=Ze[yt]=Ze[Q]=Ze[J]=Ze[et]=Ze[it]=Ze[ot]=Ze[at]=Ze[st]=Ze[mt]=Ze[bt]=Ze[xt]=Ze[wt]=!0,Ze[X]=Ze[K]=Ze[ut]=!1;var Qe={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},Je={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},en={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nn=parseFloat,rn=parseInt,on="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,an="object"==typeof self&&self&&self.Object===Object&&self,sn=on||an||Function("return this")(),ln=e&&!e.nodeType&&e,un=ln&&t&&!t.nodeType&&t,cn=un&&un.exports===ln,fn=cn&&on.process,hn=function(){try{var t=un&&un.require&&un.require("util").types;return t||fn&&fn.binding&&fn.binding("util")}catch(e){}}(),dn=hn&&hn.isArrayBuffer,pn=hn&&hn.isDate,vn=hn&&hn.isMap,gn=hn&&hn.isRegExp,yn=hn&&hn.isSet,mn=hn&&hn.isTypedArray;function bn(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function xn(t,e,n,r){var i=-1,o=null==t?0:t.length;while(++i<o){var a=t[i];e(r,a,n(a),t)}return r}function wn(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!1===e(t[n],n,t))break;return t}function _n(t,e){var n=null==t?0:t.length;while(n--)if(!1===e(t[n],n,t))break;return t}function On(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!e(t[n],n,t))return!1;return!0}function Cn(t,e){var n=-1,r=null==t?0:t.length,i=0,o=[];while(++n<r){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Sn(t,e){var n=null==t?0:t.length;return!!n&&Bn(t,e,0)>-1}function En(t,e,n){var r=-1,i=null==t?0:t.length;while(++r<i)if(n(e,t[r]))return!0;return!1}function Mn(t,e){var n=-1,r=null==t?0:t.length,i=Array(r);while(++n<r)i[n]=e(t[n],n,t);return i}function kn(t,e){var n=-1,r=e.length,i=t.length;while(++n<r)t[i+n]=e[n];return t}function Tn(t,e,n,r){var i=-1,o=null==t?0:t.length;r&&o&&(n=t[++i]);while(++i<o)n=e(n,t[i],i,t);return n}function An(t,e,n,r){var i=null==t?0:t.length;r&&i&&(n=t[--i]);while(i--)n=e(n,t[i],i,t);return n}function Ln(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(e(t[n],n,t))return!0;return!1}var Pn=Wn("length");function Rn(t){return t.split("")}function In(t){return t.match(Ht)||[]}function jn(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Nn(t,e,n,r){var i=t.length,o=n+(r?1:-1);while(r?o--:++o<i)if(e(t[o],o,t))return o;return-1}function Bn(t,e,n){return e===e?dr(t,e,n):Nn(t,Fn,n)}function Dn(t,e,n,r){var i=n-1,o=t.length;while(++i<o)if(r(t[i],e))return i;return-1}function Fn(t){return t!==t}function zn(t,e){var n=null==t?0:t.length;return n?Vn(t,e)/n:D}function Wn(t){return function(e){return null==e?i:e[t]}}function Hn(t){return function(e){return null==t?i:t[e]}}function $n(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Gn(t,e){var n=t.length;t.sort(e);while(n--)t[n]=t[n].value;return t}function Vn(t,e){var n,r=-1,o=t.length;while(++r<o){var a=e(t[r]);a!==i&&(n=n===i?a:n+a)}return n}function Un(t,e){var n=-1,r=Array(t);while(++n<t)r[n]=e(n);return r}function Yn(t,e){return Mn(e,(function(e){return[e,t[e]]}))}function qn(t){return t?t.slice(0,yr(t)+1).replace(Bt,""):t}function Xn(t){return function(e){return t(e)}}function Kn(t,e){return Mn(e,(function(e){return t[e]}))}function Zn(t,e){return t.has(e)}function Qn(t,e){var n=-1,r=t.length;while(++n<r&&Bn(e,t[n],0)>-1);return n}function Jn(t,e){var n=t.length;while(n--&&Bn(e,t[n],0)>-1);return n}function tr(t,e){var n=t.length,r=0;while(n--)t[n]===e&&++r;return r}var er=Hn(Qe),nr=Hn(Je);function rr(t){return"\\"+en[t]}function ir(t,e){return null==t?i:t[e]}function or(t){return Ue.test(t)}function ar(t){return Ye.test(t)}function sr(t){var e,n=[];while(!(e=t.next()).done)n.push(e.value);return n}function lr(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function ur(t,e){return function(n){return t(e(n))}}function cr(t,e){var n=-1,r=t.length,i=0,o=[];while(++n<r){var a=t[n];a!==e&&a!==h||(t[n]=h,o[i++]=n)}return o}function fr(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function hr(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function dr(t,e,n){var r=n-1,i=t.length;while(++r<i)if(t[r]===e)return r;return-1}function pr(t,e,n){var r=n+1;while(r--)if(t[r]===e)return r;return r}function vr(t){return or(t)?br(t):Pn(t)}function gr(t){return or(t)?xr(t):Rn(t)}function yr(t){var e=t.length;while(e--&&Dt.test(t.charAt(e)));return e}var mr=Hn(tn);function br(t){var e=Ge.lastIndex=0;while(Ge.test(t))++e;return e}function xr(t){return t.match(Ge)||[]}function wr(t){return t.match(Ve)||[]}var _r=function t(e){e=null==e?sn:Or.defaults(sn.Object(),e,Or.pick(sn,qe));var n=e.Array,r=e.Date,Dt=e.Error,Ht=e.Function,ee=e.Math,ne=e.Object,re=e.RegExp,ie=e.String,oe=e.TypeError,ae=n.prototype,se=Ht.prototype,le=ne.prototype,ue=e["__core-js_shared__"],ce=se.toString,fe=le.hasOwnProperty,he=0,de=function(){var t=/[^.]+$/.exec(ue&&ue.keys&&ue.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),pe=le.toString,ve=ce.call(ne),ge=sn._,ye=re("^"+ce.call(fe).replace(jt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=cn?e.Buffer:i,be=e.Symbol,xe=e.Uint8Array,we=me?me.allocUnsafe:i,_e=ur(ne.getPrototypeOf,ne),Oe=ne.create,Ce=le.propertyIsEnumerable,Se=ae.splice,Ee=be?be.isConcatSpreadable:i,Me=be?be.iterator:i,ke=be?be.toStringTag:i,Te=function(){try{var t=Ya(ne,"defineProperty");return t({},"",{}),t}catch(e){}}(),Ae=e.clearTimeout!==sn.clearTimeout&&e.clearTimeout,Le=r&&r.now!==sn.Date.now&&r.now,Pe=e.setTimeout!==sn.setTimeout&&e.setTimeout,Re=ee.ceil,Ie=ee.floor,je=ne.getOwnPropertySymbols,Ne=me?me.isBuffer:i,Be=e.isFinite,De=ae.join,Fe=ur(ne.keys,ne),ze=ee.max,We=ee.min,Ge=r.now,Ve=e.parseInt,Ue=ee.random,Ye=ae.reverse,Qe=Ya(e,"DataView"),Je=Ya(e,"Map"),tn=Ya(e,"Promise"),en=Ya(e,"Set"),on=Ya(e,"WeakMap"),an=Ya(ne,"create"),ln=on&&new on,un={},fn=Ps(Qe),hn=Ps(Je),Pn=Ps(tn),Rn=Ps(en),Hn=Ps(on),dr=be?be.prototype:i,br=dr?dr.valueOf:i,xr=dr?dr.toString:i;function _r(t){if(Sc(t)&&!lc(t)&&!(t instanceof Mr)){if(t instanceof Er)return t;if(fe.call(t,"__wrapped__"))return Is(t)}return new Er(t)}var Cr=function(){function t(){}return function(e){if(!Cc(e))return{};if(Oe)return Oe(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Sr(){}function Er(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Mr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=F,this.__views__=[]}function kr(){var t=new Mr(this.__wrapped__);return t.__actions__=ia(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ia(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ia(this.__views__),t}function Tr(){if(this.__filtered__){var t=new Mr(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Ar(){var t=this.__wrapped__.value(),e=this.__dir__,n=lc(t),r=e<0,i=n?t.length:0,o=Qa(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,f=c.length,h=0,d=We(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return Fo(t,this.__actions__);var p=[];t:while(l--&&h<d){u+=e;var v=-1,g=t[u];while(++v<f){var y=c[v],m=y.iteratee,b=y.type,x=m(g);if(b==R)g=x;else if(!x){if(b==P)continue t;break t}}p[h++]=g}return p}function Lr(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Pr(){this.__data__=an?an(null):{},this.size=0}function Rr(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Ir(t){var e=this.__data__;if(an){var n=e[t];return n===c?i:n}return fe.call(e,t)?e[t]:i}function jr(t){var e=this.__data__;return an?e[t]!==i:fe.call(e,t)}function Nr(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=an&&e===i?c:e,this}function Br(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Dr(){this.__data__=[],this.size=0}function Fr(t){var e=this.__data__,n=ci(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Se.call(e,n,1),--this.size,!0}function zr(t){var e=this.__data__,n=ci(e,t);return n<0?i:e[n][1]}function Wr(t){return ci(this.__data__,t)>-1}function Hr(t,e){var n=this.__data__,r=ci(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function $r(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Gr(){this.size=0,this.__data__={hash:new Lr,map:new(Je||Br),string:new Lr}}function Vr(t){var e=Va(this,t)["delete"](t);return this.size-=e?1:0,e}function Ur(t){return Va(this,t).get(t)}function Yr(t){return Va(this,t).has(t)}function qr(t,e){var n=Va(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Xr(t){var e=-1,n=null==t?0:t.length;this.__data__=new $r;while(++e<n)this.add(t[e])}function Kr(t){return this.__data__.set(t,c),this}function Zr(t){return this.__data__.has(t)}function Qr(t){var e=this.__data__=new Br(t);this.size=e.size}function Jr(){this.__data__=new Br,this.size=0}function ti(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function ei(t){return this.__data__.get(t)}function ni(t){return this.__data__.has(t)}function ri(t,e){var n=this.__data__;if(n instanceof Br){var r=n.__data__;if(!Je||r.length<a-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new $r(r)}return n.set(t,e),this.size=n.size,this}function ii(t,e){var n=lc(t),r=!n&&sc(t),i=!n&&!r&&dc(t),o=!n&&!r&&!i&&zc(t),a=n||r||i||o,s=a?Un(t.length,ie):[],l=s.length;for(var u in t)!e&&!fe.call(t,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||as(u,l))||s.push(u);return s}function oi(t){var e=t.length;return e?t[mo(0,e-1)]:i}function ai(t,e){return Ts(ia(t),gi(e,0,t.length))}function si(t){return Ts(ia(t))}function li(t,e,n){(n!==i&&!ic(t[e],n)||n===i&&!(e in t))&&pi(t,e,n)}function ui(t,e,n){var r=t[e];fe.call(t,e)&&ic(r,n)&&(n!==i||e in t)||pi(t,e,n)}function ci(t,e){var n=t.length;while(n--)if(ic(t[n][0],e))return n;return-1}function fi(t,e,n,r){return _i(t,(function(t,i,o){e(r,t,n(t),o)})),r}function hi(t,e){return t&&oa(e,Of(e),t)}function di(t,e){return t&&oa(e,Cf(e),t)}function pi(t,e,n){"__proto__"==e&&Te?Te(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function vi(t,e){var r=-1,o=e.length,a=n(o),s=null==t;while(++r<o)a[r]=s?i:yf(t,e[r]);return a}function gi(t,e,n){return t===t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function yi(t,e,n,r,o,a){var s,l=e&d,u=e&p,c=e&v;if(n&&(s=o?n(t,r,o,a):n(t)),s!==i)return s;if(!Cc(t))return t;var f=lc(t);if(f){if(s=es(t),!l)return ia(t,s)}else{var h=Za(t),g=h==K||h==Z;if(dc(t))return qo(t,l);if(h==et||h==$||g&&!o){if(s=u||g?{}:ns(t),!l)return u?sa(t,di(s,t)):aa(t,hi(s,t))}else{if(!Ze[h])return o?t:{};s=rs(t,h,l)}}a||(a=new Qr);var y=a.get(t);if(y)return y;a.set(t,s),Bc(t)?t.forEach((function(r){s.add(yi(r,e,n,r,t,a))})):Ec(t)&&t.forEach((function(r,i){s.set(i,yi(r,e,n,i,t,a))}));var m=c?u?za:Fa:u?Cf:Of,b=f?i:m(t);return wn(b||t,(function(r,i){b&&(i=r,r=t[i]),ui(s,i,yi(r,e,n,i,t,a))})),s}function mi(t){var e=Of(t);return function(n){return bi(n,t,e)}}function bi(t,e,n){var r=n.length;if(null==t)return!r;t=ne(t);while(r--){var o=n[r],a=e[o],s=t[o];if(s===i&&!(o in t)||!a(s))return!1}return!0}function xi(t,e,n){if("function"!=typeof t)throw new oe(l);return Ss((function(){t.apply(i,n)}),e)}function wi(t,e,n,r){var i=-1,o=Sn,s=!0,l=t.length,u=[],c=e.length;if(!l)return u;n&&(e=Mn(e,Xn(n))),r?(o=En,s=!1):e.length>=a&&(o=Zn,s=!1,e=new Xr(e));t:while(++i<l){var f=t[i],h=null==n?f:n(f);if(f=r||0!==f?f:0,s&&h===h){var d=c;while(d--)if(e[d]===h)continue t;u.push(f)}else o(e,h,r)||u.push(f)}return u}_r.templateSettings={escape:Tt,evaluate:At,interpolate:Lt,variable:"",imports:{_:_r}},_r.prototype=Sr.prototype,_r.prototype.constructor=_r,Er.prototype=Cr(Sr.prototype),Er.prototype.constructor=Er,Mr.prototype=Cr(Sr.prototype),Mr.prototype.constructor=Mr,Lr.prototype.clear=Pr,Lr.prototype["delete"]=Rr,Lr.prototype.get=Ir,Lr.prototype.has=jr,Lr.prototype.set=Nr,Br.prototype.clear=Dr,Br.prototype["delete"]=Fr,Br.prototype.get=zr,Br.prototype.has=Wr,Br.prototype.set=Hr,$r.prototype.clear=Gr,$r.prototype["delete"]=Vr,$r.prototype.get=Ur,$r.prototype.has=Yr,$r.prototype.set=qr,Xr.prototype.add=Xr.prototype.push=Kr,Xr.prototype.has=Zr,Qr.prototype.clear=Jr,Qr.prototype["delete"]=ti,Qr.prototype.get=ei,Qr.prototype.has=ni,Qr.prototype.set=ri;var _i=ca(Li),Oi=ca(Pi,!0);function Ci(t,e){var n=!0;return _i(t,(function(t,r,i){return n=!!e(t,r,i),n})),n}function Si(t,e,n){var r=-1,o=t.length;while(++r<o){var a=t[r],s=e(a);if(null!=s&&(l===i?s===s&&!Fc(s):n(s,l)))var l=s,u=a}return u}function Ei(t,e,n,r){var o=t.length;n=qc(n),n<0&&(n=-n>o?0:o+n),r=r===i||r>o?o:qc(r),r<0&&(r+=o),r=n>r?0:Xc(r);while(n<r)t[n++]=e;return t}function Mi(t,e){var n=[];return _i(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function ki(t,e,n,r,i){var o=-1,a=t.length;n||(n=os),i||(i=[]);while(++o<a){var s=t[o];e>0&&n(s)?e>1?ki(s,e-1,n,r,i):kn(i,s):r||(i[i.length]=s)}return i}var Ti=fa(),Ai=fa(!0);function Li(t,e){return t&&Ti(t,e,Of)}function Pi(t,e){return t&&Ai(t,e,Of)}function Ri(t,e){return Cn(e,(function(e){return wc(t[e])}))}function Ii(t,e){e=Go(e,t);var n=0,r=e.length;while(null!=t&&n<r)t=t[Ls(e[n++])];return n&&n==r?t:i}function ji(t,e,n){var r=e(t);return lc(t)?r:kn(r,n(t))}function Ni(t){return null==t?t===i?lt:tt:ke&&ke in ne(t)?qa(t):bs(t)}function Bi(t,e){return t>e}function Di(t,e){return null!=t&&fe.call(t,e)}function Fi(t,e){return null!=t&&e in ne(t)}function zi(t,e,n){return t>=We(e,n)&&t<ze(e,n)}function Wi(t,e,r){var o=r?En:Sn,a=t[0].length,s=t.length,l=s,u=n(s),c=1/0,f=[];while(l--){var h=t[l];l&&e&&(h=Mn(h,Xn(e))),c=We(h.length,c),u[l]=!r&&(e||a>=120&&h.length>=120)?new Xr(l&&h):i}h=t[0];var d=-1,p=u[0];t:while(++d<a&&f.length<c){var v=h[d],g=e?e(v):v;if(v=r||0!==v?v:0,!(p?Zn(p,g):o(f,g,r))){l=s;while(--l){var y=u[l];if(!(y?Zn(y,g):o(t[l],g,r)))continue t}p&&p.push(g),f.push(v)}}return f}function Hi(t,e,n,r){return Li(t,(function(t,i,o){e(r,n(t),i,o)})),r}function $i(t,e,n){e=Go(e,t),t=ws(t,e);var r=null==t?t:t[Ls(ol(e))];return null==r?i:bn(r,t,n)}function Gi(t){return Sc(t)&&Ni(t)==$}function Vi(t){return Sc(t)&&Ni(t)==ft}function Ui(t){return Sc(t)&&Ni(t)==Y}function Yi(t,e,n,r,i){return t===e||(null==t||null==e||!Sc(t)&&!Sc(e)?t!==t&&e!==e:qi(t,e,n,r,Yi,i))}function qi(t,e,n,r,i,o){var a=lc(t),s=lc(e),l=a?G:Za(t),u=s?G:Za(e);l=l==$?et:l,u=u==$?et:u;var c=l==et,f=u==et,h=l==u;if(h&&dc(t)){if(!dc(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new Qr),a||zc(t)?ja(t,e,n,r,i,o):Na(t,e,l,n,r,i,o);if(!(n&g)){var d=c&&fe.call(t,"__wrapped__"),p=f&&fe.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,y=p?e.value():e;return o||(o=new Qr),i(v,y,n,r,o)}}return!!h&&(o||(o=new Qr),Ba(t,e,n,r,i,o))}function Xi(t){return Sc(t)&&Za(t)==Q}function Ki(t,e,n,r){var o=n.length,a=o,s=!r;if(null==t)return!a;t=ne(t);while(o--){var l=n[o];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}while(++o<a){l=n[o];var u=l[0],c=t[u],f=l[1];if(s&&l[2]){if(c===i&&!(u in t))return!1}else{var h=new Qr;if(r)var d=r(c,f,u,t,e,h);if(!(d===i?Yi(f,c,g|y,r,h):d))return!1}}return!0}function Zi(t){if(!Cc(t)||fs(t))return!1;var e=wc(t)?ye:Xt;return e.test(Ps(t))}function Qi(t){return Sc(t)&&Ni(t)==it}function Ji(t){return Sc(t)&&Za(t)==ot}function to(t){return Sc(t)&&Oc(t.length)&&!!Ke[Ni(t)]}function eo(t){return"function"==typeof t?t:null==t?Lh:"object"==typeof t?lc(t)?so(t[0],t[1]):ao(t):Gh(t)}function no(t){if(!ds(t))return Fe(t);var e=[];for(var n in ne(t))fe.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ro(t){if(!Cc(t))return ms(t);var e=ds(t),n=[];for(var r in t)("constructor"!=r||!e&&fe.call(t,r))&&n.push(r);return n}function io(t,e){return t<e}function oo(t,e){var r=-1,i=cc(t)?n(t.length):[];return _i(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}function ao(t){var e=Ua(t);return 1==e.length&&e[0][2]?vs(e[0][0],e[0][1]):function(n){return n===t||Ki(n,t,e)}}function so(t,e){return ls(t)&&ps(e)?vs(Ls(t),e):function(n){var r=yf(n,t);return r===i&&r===e?bf(n,t):Yi(e,r,g|y)}}function lo(t,e,n,r,o){t!==e&&Ti(e,(function(a,s){if(o||(o=new Qr),Cc(a))uo(t,e,s,n,lo,r,o);else{var l=r?r(Os(t,s),a,s+"",t,e,o):i;l===i&&(l=a),li(t,s,l)}}),Cf)}function uo(t,e,n,r,o,a,s){var l=Os(t,n),u=Os(e,n),c=s.get(u);if(c)li(t,n,c);else{var f=a?a(l,u,n+"",t,e,s):i,h=f===i;if(h){var d=lc(u),p=!d&&dc(u),v=!d&&!p&&zc(u);f=u,d||p||v?lc(l)?f=l:fc(l)?f=ia(l):p?(h=!1,f=qo(u,!0)):v?(h=!1,f=Jo(u,!0)):f=[]:Ic(u)||sc(u)?(f=l,sc(l)?f=Zc(l):Cc(l)&&!wc(l)||(f=ns(u))):h=!1}h&&(s.set(u,f),o(f,u,r,a,s),s["delete"](u)),li(t,n,f)}}function co(t,e){var n=t.length;if(n)return e+=e<0?n:0,as(e,n)?t[e]:i}function fo(t,e,n){e=e.length?Mn(e,(function(t){return lc(t)?function(e){return Ii(e,1===t.length?t[0]:t)}:t})):[Lh];var r=-1;e=Mn(e,Xn(Ga()));var i=oo(t,(function(t,n,i){var o=Mn(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return Gn(i,(function(t,e){return ea(t,e,n)}))}function ho(t,e){return po(t,e,(function(e,n){return bf(t,n)}))}function po(t,e,n){var r=-1,i=e.length,o={};while(++r<i){var a=e[r],s=Ii(t,a);n(s,a)&&Co(o,Go(a,t),s)}return o}function vo(t){return function(e){return Ii(e,t)}}function go(t,e,n,r){var i=r?Dn:Bn,o=-1,a=e.length,s=t;t===e&&(e=ia(e)),n&&(s=Mn(t,Xn(n)));while(++o<a){var l=0,u=e[o],c=n?n(u):u;while((l=i(s,c,l,r))>-1)s!==t&&Se.call(s,l,1),Se.call(t,l,1)}return t}function yo(t,e){var n=t?e.length:0,r=n-1;while(n--){var i=e[n];if(n==r||i!==o){var o=i;as(i)?Se.call(t,i,1):No(t,i)}}return t}function mo(t,e){return t+Ie(Ue()*(e-t+1))}function bo(t,e,r,i){var o=-1,a=ze(Re((e-t)/(r||1)),0),s=n(a);while(a--)s[i?a:++o]=t,t+=r;return s}function xo(t,e){var n="";if(!t||e<1||e>N)return n;do{e%2&&(n+=t),e=Ie(e/2),e&&(t+=t)}while(e);return n}function wo(t,e){return Es(xs(t,e,Lh),t+"")}function _o(t){return oi(Hf(t))}function Oo(t,e){var n=Hf(t);return Ts(n,gi(e,0,n.length))}function Co(t,e,n,r){if(!Cc(t))return t;e=Go(e,t);var o=-1,a=e.length,s=a-1,l=t;while(null!=l&&++o<a){var u=Ls(e[o]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(o!=s){var f=l[u];c=r?r(f,u,l):i,c===i&&(c=Cc(f)?f:as(e[o+1])?[]:{})}ui(l,u,c),l=l[u]}return t}var So=ln?function(t,e){return ln.set(t,e),t}:Lh,Eo=Te?function(t,e){return Te(t,"toString",{configurable:!0,enumerable:!1,value:Mh(e),writable:!0})}:Lh;function Mo(t){return Ts(Hf(t))}function ko(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),r=r>o?o:r,r<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;var a=n(o);while(++i<o)a[i]=t[i+e];return a}function To(t,e){var n;return _i(t,(function(t,r,i){return n=e(t,r,i),!n})),!!n}function Ao(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=W){while(r<i){var o=r+i>>>1,a=t[o];null!==a&&!Fc(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Lo(t,e,Lh,n)}function Lo(t,e,n,r){var o=0,a=null==t?0:t.length;if(0===a)return 0;e=n(e);var s=e!==e,l=null===e,u=Fc(e),c=e===i;while(o<a){var f=Ie((o+a)/2),h=n(t[f]),d=h!==i,p=null===h,v=h===h,g=Fc(h);if(s)var y=r||v;else y=c?v&&(r||d):l?v&&d&&(r||!p):u?v&&d&&!p&&(r||!g):!p&&!g&&(r?h<=e:h<e);y?o=f+1:a=f}return We(a,z)}function Po(t,e){var n=-1,r=t.length,i=0,o=[];while(++n<r){var a=t[n],s=e?e(a):a;if(!n||!ic(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function Ro(t){return"number"==typeof t?t:Fc(t)?D:+t}function Io(t){if("string"==typeof t)return t;if(lc(t))return Mn(t,Io)+"";if(Fc(t))return xr?xr.call(t):"";var e=t+"";return"0"==e&&1/t==-j?"-0":e}function jo(t,e,n){var r=-1,i=Sn,o=t.length,s=!0,l=[],u=l;if(n)s=!1,i=En;else if(o>=a){var c=e?null:Ta(t);if(c)return fr(c);s=!1,i=Zn,u=new Xr}else u=e?[]:l;t:while(++r<o){var f=t[r],h=e?e(f):f;if(f=n||0!==f?f:0,s&&h===h){var d=u.length;while(d--)if(u[d]===h)continue t;e&&u.push(h),l.push(f)}else i(u,h,n)||(u!==l&&u.push(h),l.push(f))}return l}function No(t,e){return e=Go(e,t),t=ws(t,e),null==t||delete t[Ls(ol(e))]}function Bo(t,e,n,r){return Co(t,e,n(Ii(t,e)),r)}function Do(t,e,n,r){var i=t.length,o=r?i:-1;while((r?o--:++o<i)&&e(t[o],o,t));return n?ko(t,r?0:o,r?o+1:i):ko(t,r?o+1:0,r?i:o)}function Fo(t,e){var n=t;return n instanceof Mr&&(n=n.value()),Tn(e,(function(t,e){return e.func.apply(e.thisArg,kn([t],e.args))}),n)}function zo(t,e,r){var i=t.length;if(i<2)return i?jo(t[0]):[];var o=-1,a=n(i);while(++o<i){var s=t[o],l=-1;while(++l<i)l!=o&&(a[o]=wi(a[o]||s,t[l],e,r))}return jo(ki(a,1),e,r)}function Wo(t,e,n){var r=-1,o=t.length,a=e.length,s={};while(++r<o){var l=r<a?e[r]:i;n(s,t[r],l)}return s}function Ho(t){return fc(t)?t:[]}function $o(t){return"function"==typeof t?t:Lh}function Go(t,e){return lc(t)?t:ls(t,e)?[t]:As(Jc(t))}var Vo=wo;function Uo(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ko(t,e,n)}var Yo=Ae||function(t){return sn.clearTimeout(t)};function qo(t,e){if(e)return t.slice();var n=t.length,r=we?we(n):new t.constructor(n);return t.copy(r),r}function Xo(t){var e=new t.constructor(t.byteLength);return new xe(e).set(new xe(t)),e}function Ko(t,e){var n=e?Xo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Zo(t){var e=new t.constructor(t.source,Ut.exec(t));return e.lastIndex=t.lastIndex,e}function Qo(t){return br?ne(br.call(t)):{}}function Jo(t,e){var n=e?Xo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ta(t,e){if(t!==e){var n=t!==i,r=null===t,o=t===t,a=Fc(t),s=e!==i,l=null===e,u=e===e,c=Fc(e);if(!l&&!c&&!a&&t>e||a&&s&&u&&!l&&!c||r&&s&&u||!n&&u||!o)return 1;if(!r&&!a&&!c&&t<e||c&&n&&o&&!r&&!a||l&&n&&o||!s&&o||!u)return-1}return 0}function ea(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;while(++r<a){var l=ta(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*("desc"==u?-1:1)}}return t.index-e.index}function na(t,e,r,i){var o=-1,a=t.length,s=r.length,l=-1,u=e.length,c=ze(a-s,0),f=n(u+c),h=!i;while(++l<u)f[l]=e[l];while(++o<s)(h||o<a)&&(f[r[o]]=t[o]);while(c--)f[l++]=t[o++];return f}function ra(t,e,r,i){var o=-1,a=t.length,s=-1,l=r.length,u=-1,c=e.length,f=ze(a-l,0),h=n(f+c),d=!i;while(++o<f)h[o]=t[o];var p=o;while(++u<c)h[p+u]=e[u];while(++s<l)(d||o<a)&&(h[p+r[s]]=t[o++]);return h}function ia(t,e){var r=-1,i=t.length;e||(e=n(i));while(++r<i)e[r]=t[r];return e}function oa(t,e,n,r){var o=!n;n||(n={});var a=-1,s=e.length;while(++a<s){var l=e[a],u=r?r(n[l],t[l],l,n,t):i;u===i&&(u=t[l]),o?pi(n,l,u):ui(n,l,u)}return n}function aa(t,e){return oa(t,Xa(t),e)}function sa(t,e){return oa(t,Ka(t),e)}function la(t,e){return function(n,r){var i=lc(n)?xn:fi,o=e?e():{};return i(n,t,Ga(r,2),o)}}function ua(t){return wo((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;a=t.length>3&&"function"==typeof a?(o--,a):i,s&&ss(n[0],n[1],s)&&(a=o<3?i:a,o=1),e=ne(e);while(++r<o){var l=n[r];l&&t(e,l,r,a)}return e}))}function ca(t,e){return function(n,r){if(null==n)return n;if(!cc(n))return t(n,r);var i=n.length,o=e?i:-1,a=ne(n);while(e?o--:++o<i)if(!1===r(a[o],o,a))break;return n}}function fa(t){return function(e,n,r){var i=-1,o=ne(e),a=r(e),s=a.length;while(s--){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}function ha(t,e,n){var r=e&m,i=va(t);function o(){var e=this&&this!==sn&&this instanceof o?i:t;return e.apply(r?n:this,arguments)}return o}function da(t){return function(e){e=Jc(e);var n=or(e)?gr(e):i,r=n?n[0]:e.charAt(0),o=n?Uo(n,1).join(""):e.slice(1);return r[t]()+o}}function pa(t){return function(e){return Tn(_h(Xf(e).replace(He,"")),t,"")}}function va(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Cr(t.prototype),r=t.apply(n,e);return Cc(r)?r:n}}function ga(t,e,r){var o=va(t);function a(){var s=arguments.length,l=n(s),u=s,c=$a(a);while(u--)l[u]=arguments[u];var f=s<3&&l[0]!==c&&l[s-1]!==c?[]:cr(l,c);if(s-=f.length,s<r)return Ma(t,e,ba,a.placeholder,i,l,f,i,i,r-s);var h=this&&this!==sn&&this instanceof a?o:t;return bn(h,this,l)}return a}function ya(t){return function(e,n,r){var o=ne(e);if(!cc(e)){var a=Ga(n,3);e=Of(e),n=function(t){return a(o[t],t,o)}}var s=t(e,n,r);return s>-1?o[a?e[s]:s]:i}}function ma(t){return Da((function(e){var n=e.length,r=n,o=Er.prototype.thru;t&&e.reverse();while(r--){var a=e[r];if("function"!=typeof a)throw new oe(l);if(o&&!s&&"wrapper"==Ha(a))var s=new Er([],!0)}r=s?r:n;while(++r<n){a=e[r];var u=Ha(a),c="wrapper"==u?Wa(a):i;s=c&&cs(c[0])&&c[1]==(S|w|O|E)&&!c[4].length&&1==c[9]?s[Ha(c[0])].apply(s,c[3]):1==a.length&&cs(a)?s[u]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&lc(r))return s.plant(r).value();var i=0,o=n?e[i].apply(this,t):r;while(++i<n)o=e[i].call(this,o);return o}}))}function ba(t,e,r,o,a,s,l,u,c,f){var h=e&S,d=e&m,p=e&b,v=e&(w|_),g=e&M,y=p?i:va(t);function x(){var i=arguments.length,m=n(i),b=i;while(b--)m[b]=arguments[b];if(v)var w=$a(x),_=tr(m,w);if(o&&(m=na(m,o,a,v)),s&&(m=ra(m,s,l,v)),i-=_,v&&i<f){var O=cr(m,w);return Ma(t,e,ba,x.placeholder,r,m,O,u,c,f-i)}var C=d?r:this,S=p?C[t]:t;return i=m.length,u?m=_s(m,u):g&&i>1&&m.reverse(),h&&c<i&&(m.length=c),this&&this!==sn&&this instanceof x&&(S=y||va(S)),S.apply(C,m)}return x}function xa(t,e){return function(n,r){return Hi(n,t,e(r),{})}}function wa(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=Io(n),r=Io(r)):(n=Ro(n),r=Ro(r)),o=t(n,r)}return o}}function _a(t){return Da((function(e){return e=Mn(e,Xn(Ga())),wo((function(n){var r=this;return t(e,(function(t){return bn(t,r,n)}))}))}))}function Oa(t,e){e=e===i?" ":Io(e);var n=e.length;if(n<2)return n?xo(e,t):e;var r=xo(e,Re(t/vr(e)));return or(e)?Uo(gr(r),0,t).join(""):r.slice(0,t)}function Ca(t,e,r,i){var o=e&m,a=va(t);function s(){var e=-1,l=arguments.length,u=-1,c=i.length,f=n(c+l),h=this&&this!==sn&&this instanceof s?a:t;while(++u<c)f[u]=i[u];while(l--)f[u++]=arguments[++e];return bn(h,o?r:this,f)}return s}function Sa(t){return function(e,n,r){return r&&"number"!=typeof r&&ss(e,n,r)&&(n=r=i),e=Yc(e),n===i?(n=e,e=0):n=Yc(n),r=r===i?e<n?1:-1:Yc(r),bo(e,n,r,t)}}function Ea(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Kc(e),n=Kc(n)),t(e,n)}}function Ma(t,e,n,r,o,a,s,l,u,c){var f=e&w,h=f?s:i,d=f?i:s,p=f?a:i,v=f?i:a;e|=f?O:C,e&=~(f?C:O),e&x||(e&=~(m|b));var g=[t,e,o,p,h,v,d,l,u,c],y=n.apply(i,g);return cs(t)&&Cs(y,g),y.placeholder=r,Ms(y,t,e)}function ka(t){var e=ee[t];return function(t,n){if(t=Kc(t),n=null==n?0:We(qc(n),292),n&&Be(t)){var r=(Jc(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(Jc(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}var Ta=en&&1/fr(new en([,-0]))[1]==j?function(t){return new en(t)}:Fh;function Aa(t){return function(e){var n=Za(e);return n==Q?lr(e):n==ot?hr(e):Yn(e,t(e))}}function La(t,e,n,r,o,a,s,u){var c=e&b;if(!c&&"function"!=typeof t)throw new oe(l);var f=r?r.length:0;if(f||(e&=~(O|C),r=o=i),s=s===i?s:ze(qc(s),0),u=u===i?u:qc(u),f-=o?o.length:0,e&C){var h=r,d=o;r=o=i}var p=c?i:Wa(t),v=[t,e,n,r,o,h,d,a,s,u];if(p&&ys(v,p),t=v[0],e=v[1],n=v[2],r=v[3],o=v[4],u=v[9]=v[9]===i?c?0:t.length:ze(v[9]-f,0),!u&&e&(w|_)&&(e&=~(w|_)),e&&e!=m)g=e==w||e==_?ga(t,e,u):e!=O&&e!=(m|O)||o.length?ba.apply(i,v):Ca(t,e,n,r);else var g=ha(t,e,n);var y=p?So:Cs;return Ms(y(g,v),t,e)}function Pa(t,e,n,r){return t===i||ic(t,le[n])&&!fe.call(r,n)?e:t}function Ra(t,e,n,r,o,a){return Cc(t)&&Cc(e)&&(a.set(e,t),lo(t,e,i,Ra,a),a["delete"](e)),t}function Ia(t){return Ic(t)?i:t}function ja(t,e,n,r,o,a){var s=n&g,l=t.length,u=e.length;if(l!=u&&!(s&&u>l))return!1;var c=a.get(t),f=a.get(e);if(c&&f)return c==e&&f==t;var h=-1,d=!0,p=n&y?new Xr:i;a.set(t,e),a.set(e,t);while(++h<l){var v=t[h],m=e[h];if(r)var b=s?r(m,v,h,e,t,a):r(v,m,h,t,e,a);if(b!==i){if(b)continue;d=!1;break}if(p){if(!Ln(e,(function(t,e){if(!Zn(p,e)&&(v===t||o(v,t,n,r,a)))return p.push(e)}))){d=!1;break}}else if(v!==m&&!o(v,m,n,r,a)){d=!1;break}}return a["delete"](t),a["delete"](e),d}function Na(t,e,n,r,i,o,a){switch(n){case ht:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ft:return!(t.byteLength!=e.byteLength||!o(new xe(t),new xe(e)));case U:case Y:case J:return ic(+t,+e);case X:return t.name==e.name&&t.message==e.message;case it:case at:return t==e+"";case Q:var s=lr;case ot:var l=r&g;if(s||(s=fr),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=y,a.set(t,e);var c=ja(s(t),s(e),r,i,o,a);return a["delete"](t),c;case st:if(br)return br.call(t)==br.call(e)}return!1}function Ba(t,e,n,r,o,a){var s=n&g,l=Fa(t),u=l.length,c=Fa(e),f=c.length;if(u!=f&&!s)return!1;var h=u;while(h--){var d=l[h];if(!(s?d in e:fe.call(e,d)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var y=!0;a.set(t,e),a.set(e,t);var m=s;while(++h<u){d=l[h];var b=t[d],x=e[d];if(r)var w=s?r(x,b,d,e,t,a):r(b,x,d,t,e,a);if(!(w===i?b===x||o(b,x,n,r,a):w)){y=!1;break}m||(m="constructor"==d)}if(y&&!m){var _=t.constructor,O=e.constructor;_==O||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof O&&O instanceof O||(y=!1)}return a["delete"](t),a["delete"](e),y}function Da(t){return Es(xs(t,i,qs),t+"")}function Fa(t){return ji(t,Of,Xa)}function za(t){return ji(t,Cf,Ka)}var Wa=ln?function(t){return ln.get(t)}:Fh;function Ha(t){var e=t.name+"",n=un[e],r=fe.call(un,e)?n.length:0;while(r--){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function $a(t){var e=fe.call(_r,"placeholder")?_r:t;return e.placeholder}function Ga(){var t=_r.iteratee||Ph;return t=t===Ph?eo:t,arguments.length?t(arguments[0],arguments[1]):t}function Va(t,e){var n=t.__data__;return us(e)?n["string"==typeof e?"string":"hash"]:n.map}function Ua(t){var e=Of(t),n=e.length;while(n--){var r=e[n],i=t[r];e[n]=[r,i,ps(i)]}return e}function Ya(t,e){var n=ir(t,e);return Zi(n)?n:i}function qa(t){var e=fe.call(t,ke),n=t[ke];try{t[ke]=i;var r=!0}catch(a){}var o=pe.call(t);return r&&(e?t[ke]=n:delete t[ke]),o}var Xa=je?function(t){return null==t?[]:(t=ne(t),Cn(je(t),(function(e){return Ce.call(t,e)})))}:qh,Ka=je?function(t){var e=[];while(t)kn(e,Xa(t)),t=_e(t);return e}:qh,Za=Ni;function Qa(t,e,n){var r=-1,i=n.length;while(++r<i){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=We(e,t+a);break;case"takeRight":t=ze(t,e-a);break}}return{start:t,end:e}}function Ja(t){var e=t.match(zt);return e?e[1].split(Wt):[]}function ts(t,e,n){e=Go(e,t);var r=-1,i=e.length,o=!1;while(++r<i){var a=Ls(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=null==t?0:t.length,!!i&&Oc(i)&&as(a,i)&&(lc(t)||sc(t)))}function es(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&fe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function ns(t){return"function"!=typeof t.constructor||ds(t)?{}:Cr(_e(t))}function rs(t,e,n){var r=t.constructor;switch(e){case ft:return Xo(t);case U:case Y:return new r(+t);case ht:return Ko(t,n);case dt:case pt:case vt:case gt:case yt:case mt:case bt:case xt:case wt:return Jo(t,n);case Q:return new r;case J:case at:return new r(t);case it:return Zo(t);case ot:return new r;case st:return Qo(t)}}function is(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Ft,"{\n/* [wrapped with "+e+"] */\n")}function os(t){return lc(t)||sc(t)||!!(Ee&&t&&t[Ee])}function as(t,e){var n=typeof t;return e=null==e?N:e,!!e&&("number"==n||"symbol"!=n&&Zt.test(t))&&t>-1&&t%1==0&&t<e}function ss(t,e,n){if(!Cc(n))return!1;var r=typeof e;return!!("number"==r?cc(n)&&as(e,n.length):"string"==r&&e in n)&&ic(n[e],t)}function ls(t,e){if(lc(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Fc(t))||(Rt.test(t)||!Pt.test(t)||null!=e&&t in ne(e))}function us(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function cs(t){var e=Ha(t),n=_r[e];if("function"!=typeof n||!(e in Mr.prototype))return!1;if(t===n)return!0;var r=Wa(n);return!!r&&t===r[0]}function fs(t){return!!de&&de in t}(Qe&&Za(new Qe(new ArrayBuffer(1)))!=ht||Je&&Za(new Je)!=Q||tn&&Za(tn.resolve())!=nt||en&&Za(new en)!=ot||on&&Za(new on)!=ut)&&(Za=function(t){var e=Ni(t),n=e==et?t.constructor:i,r=n?Ps(n):"";if(r)switch(r){case fn:return ht;case hn:return Q;case Pn:return nt;case Rn:return ot;case Hn:return ut}return e});var hs=ue?wc:Xh;function ds(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||le;return t===n}function ps(t){return t===t&&!Cc(t)}function vs(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==i||t in ne(n)))}}function gs(t){var e=zu(t,(function(t){return n.size===f&&n.clear(),t})),n=e.cache;return e}function ys(t,e){var n=t[1],r=e[1],i=n|r,o=i<(m|b|S),a=r==S&&n==w||r==S&&n==E&&t[7].length<=e[8]||r==(S|E)&&e[7].length<=e[8]&&n==w;if(!o&&!a)return t;r&m&&(t[2]=e[2],i|=n&m?0:x);var s=e[3];if(s){var l=t[3];t[3]=l?na(l,s,e[4]):s,t[4]=l?cr(t[3],h):e[4]}return s=e[5],s&&(l=t[5],t[5]=l?ra(l,s,e[6]):s,t[6]=l?cr(t[5],h):e[6]),s=e[7],s&&(t[7]=s),r&S&&(t[8]=null==t[8]?e[8]:We(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function ms(t){var e=[];if(null!=t)for(var n in ne(t))e.push(n);return e}function bs(t){return pe.call(t)}function xs(t,e,r){return e=ze(e===i?t.length-1:e,0),function(){var i=arguments,o=-1,a=ze(i.length-e,0),s=n(a);while(++o<a)s[o]=i[e+o];o=-1;var l=n(e+1);while(++o<e)l[o]=i[o];return l[e]=r(s),bn(t,this,l)}}function ws(t,e){return e.length<2?t:Ii(t,ko(e,0,-1))}function _s(t,e){var n=t.length,r=We(e.length,n),o=ia(t);while(r--){var a=e[r];t[r]=as(a,n)?o[a]:i}return t}function Os(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var Cs=ks(So),Ss=Pe||function(t,e){return sn.setTimeout(t,e)},Es=ks(Eo);function Ms(t,e,n){var r=e+"";return Es(t,is(r,Rs(Ja(r),n)))}function ks(t){var e=0,n=0;return function(){var r=Ge(),o=L-(r-n);if(n=r,o>0){if(++e>=A)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Ts(t,e){var n=-1,r=t.length,o=r-1;e=e===i?r:e;while(++n<e){var a=mo(n,o),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var As=gs((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(It,(function(t,n,r,i){e.push(r?i.replace(Gt,"$1"):n||t)})),e}));function Ls(t){if("string"==typeof t||Fc(t))return t;var e=t+"";return"0"==e&&1/t==-j?"-0":e}function Ps(t){if(null!=t){try{return ce.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Rs(t,e){return wn(H,(function(n){var r="_."+n[0];e&n[1]&&!Sn(t,r)&&t.push(r)})),t.sort()}function Is(t){if(t instanceof Mr)return t.clone();var e=new Er(t.__wrapped__,t.__chain__);return e.__actions__=ia(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function js(t,e,r){e=(r?ss(t,e,r):e===i)?1:ze(qc(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];var a=0,s=0,l=n(Re(o/e));while(a<o)l[s++]=ko(t,a,a+=e);return l}function Ns(t){var e=-1,n=null==t?0:t.length,r=0,i=[];while(++e<n){var o=t[e];o&&(i[r++]=o)}return i}function Bs(){var t=arguments.length;if(!t)return[];var e=n(t-1),r=arguments[0],i=t;while(i--)e[i-1]=arguments[i];return kn(lc(r)?ia(r):[r],ki(e,1))}var Ds=wo((function(t,e){return fc(t)?wi(t,ki(e,1,fc,!0)):[]})),Fs=wo((function(t,e){var n=ol(e);return fc(n)&&(n=i),fc(t)?wi(t,ki(e,1,fc,!0),Ga(n,2)):[]})),zs=wo((function(t,e){var n=ol(e);return fc(n)&&(n=i),fc(t)?wi(t,ki(e,1,fc,!0),i,n):[]}));function Ws(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===i?1:qc(e),ko(t,e<0?0:e,r)):[]}function Hs(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===i?1:qc(e),e=r-e,ko(t,0,e<0?0:e)):[]}function $s(t,e){return t&&t.length?Do(t,Ga(e,3),!0,!0):[]}function Gs(t,e){return t&&t.length?Do(t,Ga(e,3),!0):[]}function Vs(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&ss(t,e,n)&&(n=0,r=i),Ei(t,e,n,r)):[]}function Us(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:qc(n);return i<0&&(i=ze(r+i,0)),Nn(t,Ga(e,3),i)}function Ys(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=qc(n),o=n<0?ze(r+o,0):We(o,r-1)),Nn(t,Ga(e,3),o,!0)}function qs(t){var e=null==t?0:t.length;return e?ki(t,1):[]}function Xs(t){var e=null==t?0:t.length;return e?ki(t,j):[]}function Ks(t,e){var n=null==t?0:t.length;return n?(e=e===i?1:qc(e),ki(t,e)):[]}function Zs(t){var e=-1,n=null==t?0:t.length,r={};while(++e<n){var i=t[e];r[i[0]]=i[1]}return r}function Qs(t){return t&&t.length?t[0]:i}function Js(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:qc(n);return i<0&&(i=ze(r+i,0)),Bn(t,e,i)}function tl(t){var e=null==t?0:t.length;return e?ko(t,0,-1):[]}var el=wo((function(t){var e=Mn(t,Ho);return e.length&&e[0]===t[0]?Wi(e):[]})),nl=wo((function(t){var e=ol(t),n=Mn(t,Ho);return e===ol(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Wi(n,Ga(e,2)):[]})),rl=wo((function(t){var e=ol(t),n=Mn(t,Ho);return e="function"==typeof e?e:i,e&&n.pop(),n.length&&n[0]===t[0]?Wi(n,i,e):[]}));function il(t,e){return null==t?"":De.call(t,e)}function ol(t){var e=null==t?0:t.length;return e?t[e-1]:i}function al(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=qc(n),o=o<0?ze(r+o,0):We(o,r-1)),e===e?pr(t,e,o):Nn(t,Fn,o,!0)}function sl(t,e){return t&&t.length?co(t,qc(e)):i}var ll=wo(ul);function ul(t,e){return t&&t.length&&e&&e.length?go(t,e):t}function cl(t,e,n){return t&&t.length&&e&&e.length?go(t,e,Ga(n,2)):t}function fl(t,e,n){return t&&t.length&&e&&e.length?go(t,e,i,n):t}var hl=Da((function(t,e){var n=null==t?0:t.length,r=vi(t,e);return yo(t,Mn(e,(function(t){return as(t,n)?+t:t})).sort(ta)),r}));function dl(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;e=Ga(e,3);while(++r<o){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return yo(t,i),n}function pl(t){return null==t?t:Ye.call(t)}function vl(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&ss(t,e,n)?(e=0,n=r):(e=null==e?0:qc(e),n=n===i?r:qc(n)),ko(t,e,n)):[]}function gl(t,e){return Ao(t,e)}function yl(t,e,n){return Lo(t,e,Ga(n,2))}function ml(t,e){var n=null==t?0:t.length;if(n){var r=Ao(t,e);if(r<n&&ic(t[r],e))return r}return-1}function bl(t,e){return Ao(t,e,!0)}function xl(t,e,n){return Lo(t,e,Ga(n,2),!0)}function wl(t,e){var n=null==t?0:t.length;if(n){var r=Ao(t,e,!0)-1;if(ic(t[r],e))return r}return-1}function _l(t){return t&&t.length?Po(t):[]}function Ol(t,e){return t&&t.length?Po(t,Ga(e,2)):[]}function Cl(t){var e=null==t?0:t.length;return e?ko(t,1,e):[]}function Sl(t,e,n){return t&&t.length?(e=n||e===i?1:qc(e),ko(t,0,e<0?0:e)):[]}function El(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===i?1:qc(e),e=r-e,ko(t,e<0?0:e,r)):[]}function Ml(t,e){return t&&t.length?Do(t,Ga(e,3),!1,!0):[]}function kl(t,e){return t&&t.length?Do(t,Ga(e,3)):[]}var Tl=wo((function(t){return jo(ki(t,1,fc,!0))})),Al=wo((function(t){var e=ol(t);return fc(e)&&(e=i),jo(ki(t,1,fc,!0),Ga(e,2))})),Ll=wo((function(t){var e=ol(t);return e="function"==typeof e?e:i,jo(ki(t,1,fc,!0),i,e)}));function Pl(t){return t&&t.length?jo(t):[]}function Rl(t,e){return t&&t.length?jo(t,Ga(e,2)):[]}function Il(t,e){return e="function"==typeof e?e:i,t&&t.length?jo(t,i,e):[]}function jl(t){if(!t||!t.length)return[];var e=0;return t=Cn(t,(function(t){if(fc(t))return e=ze(t.length,e),!0})),Un(e,(function(e){return Mn(t,Wn(e))}))}function Nl(t,e){if(!t||!t.length)return[];var n=jl(t);return null==e?n:Mn(n,(function(t){return bn(e,i,t)}))}var Bl=wo((function(t,e){return fc(t)?wi(t,e):[]})),Dl=wo((function(t){return zo(Cn(t,fc))})),Fl=wo((function(t){var e=ol(t);return fc(e)&&(e=i),zo(Cn(t,fc),Ga(e,2))})),zl=wo((function(t){var e=ol(t);return e="function"==typeof e?e:i,zo(Cn(t,fc),i,e)})),Wl=wo(jl);function Hl(t,e){return Wo(t||[],e||[],ui)}function $l(t,e){return Wo(t||[],e||[],Co)}var Gl=wo((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,Nl(t,n)}));function Vl(t){var e=_r(t);return e.__chain__=!0,e}function Ul(t,e){return e(t),t}function Yl(t,e){return e(t)}var ql=Da((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return vi(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Mr&&as(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:Yl,args:[o],thisArg:i}),new Er(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)}));function Xl(){return Vl(this)}function Kl(){return new Er(this.value(),this.__chain__)}function Zl(){this.__values__===i&&(this.__values__=Uc(this.value()));var t=this.__index__>=this.__values__.length,e=t?i:this.__values__[this.__index__++];return{done:t,value:e}}function Ql(){return this}function Jl(t){var e,n=this;while(n instanceof Sr){var r=Is(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e}function tu(){var t=this.__wrapped__;if(t instanceof Mr){var e=t;return this.__actions__.length&&(e=new Mr(this)),e=e.reverse(),e.__actions__.push({func:Yl,args:[pl],thisArg:i}),new Er(e,this.__chain__)}return this.thru(pl)}function eu(){return Fo(this.__wrapped__,this.__actions__)}var nu=la((function(t,e,n){fe.call(t,n)?++t[n]:pi(t,n,1)}));function ru(t,e,n){var r=lc(t)?On:Ci;return n&&ss(t,e,n)&&(e=i),r(t,Ga(e,3))}function iu(t,e){var n=lc(t)?Cn:Mi;return n(t,Ga(e,3))}var ou=ya(Us),au=ya(Ys);function su(t,e){return ki(gu(t,e),1)}function lu(t,e){return ki(gu(t,e),j)}function uu(t,e,n){return n=n===i?1:qc(n),ki(gu(t,e),n)}function cu(t,e){var n=lc(t)?wn:_i;return n(t,Ga(e,3))}function fu(t,e){var n=lc(t)?_n:Oi;return n(t,Ga(e,3))}var hu=la((function(t,e,n){fe.call(t,n)?t[n].push(e):pi(t,n,[e])}));function du(t,e,n,r){t=cc(t)?t:Hf(t),n=n&&!r?qc(n):0;var i=t.length;return n<0&&(n=ze(i+n,0)),Dc(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Bn(t,e,n)>-1}var pu=wo((function(t,e,r){var i=-1,o="function"==typeof e,a=cc(t)?n(t.length):[];return _i(t,(function(t){a[++i]=o?bn(e,t,r):$i(t,e,r)})),a})),vu=la((function(t,e,n){pi(t,n,e)}));function gu(t,e){var n=lc(t)?Mn:oo;return n(t,Ga(e,3))}function yu(t,e,n,r){return null==t?[]:(lc(e)||(e=null==e?[]:[e]),n=r?i:n,lc(n)||(n=null==n?[]:[n]),fo(t,e,n))}var mu=la((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));function bu(t,e,n){var r=lc(t)?Tn:$n,i=arguments.length<3;return r(t,Ga(e,4),n,i,_i)}function xu(t,e,n){var r=lc(t)?An:$n,i=arguments.length<3;return r(t,Ga(e,4),n,i,Oi)}function wu(t,e){var n=lc(t)?Cn:Mi;return n(t,Wu(Ga(e,3)))}function _u(t){var e=lc(t)?oi:_o;return e(t)}function Ou(t,e,n){e=(n?ss(t,e,n):e===i)?1:qc(e);var r=lc(t)?ai:Oo;return r(t,e)}function Cu(t){var e=lc(t)?si:Mo;return e(t)}function Su(t){if(null==t)return 0;if(cc(t))return Dc(t)?vr(t):t.length;var e=Za(t);return e==Q||e==ot?t.size:no(t).length}function Eu(t,e,n){var r=lc(t)?Ln:To;return n&&ss(t,e,n)&&(e=i),r(t,Ga(e,3))}var Mu=wo((function(t,e){if(null==t)return[];var n=e.length;return n>1&&ss(t,e[0],e[1])?e=[]:n>2&&ss(e[0],e[1],e[2])&&(e=[e[0]]),fo(t,ki(e,1),[])})),ku=Le||function(){return sn.Date.now()};function Tu(t,e){if("function"!=typeof e)throw new oe(l);return t=qc(t),function(){if(--t<1)return e.apply(this,arguments)}}function Au(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,La(t,S,i,i,i,i,e)}function Lu(t,e){var n;if("function"!=typeof e)throw new oe(l);return t=qc(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Pu=wo((function(t,e,n){var r=m;if(n.length){var i=cr(n,$a(Pu));r|=O}return La(t,r,e,n,i)})),Ru=wo((function(t,e,n){var r=m|b;if(n.length){var i=cr(n,$a(Ru));r|=O}return La(e,r,t,n,i)}));function Iu(t,e,n){e=n?i:e;var r=La(t,w,i,i,i,i,i,e);return r.placeholder=Iu.placeholder,r}function ju(t,e,n){e=n?i:e;var r=La(t,_,i,i,i,i,i,e);return r.placeholder=ju.placeholder,r}function Nu(t,e,n){var r,o,a,s,u,c,f=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw new oe(l);function v(e){var n=r,a=o;return r=o=i,f=e,s=t.apply(a,n),s}function g(t){return f=t,u=Ss(b,e),h?v(t):s}function y(t){var n=t-c,r=t-f,i=e-n;return d?We(i,a-r):i}function m(t){var n=t-c,r=t-f;return c===i||n>=e||n<0||d&&r>=a}function b(){var t=ku();if(m(t))return x(t);u=Ss(b,y(t))}function x(t){return u=i,p&&r?v(t):(r=o=i,s)}function w(){u!==i&&Yo(u),f=0,r=c=o=u=i}function _(){return u===i?s:x(ku())}function O(){var t=ku(),n=m(t);if(r=arguments,o=this,c=t,n){if(u===i)return g(c);if(d)return Yo(u),u=Ss(b,e),v(c)}return u===i&&(u=Ss(b,e)),s}return e=Kc(e)||0,Cc(n)&&(h=!!n.leading,d="maxWait"in n,a=d?ze(Kc(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),O.cancel=w,O.flush=_,O}var Bu=wo((function(t,e){return xi(t,1,e)})),Du=wo((function(t,e,n){return xi(t,Kc(e)||0,n)}));function Fu(t){return La(t,M)}function zu(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new oe(l);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(zu.Cache||$r),n}function Wu(t){if("function"!=typeof t)throw new oe(l);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Hu(t){return Lu(2,t)}zu.Cache=$r;var $u=Vo((function(t,e){e=1==e.length&&lc(e[0])?Mn(e[0],Xn(Ga())):Mn(ki(e,1),Xn(Ga()));var n=e.length;return wo((function(r){var i=-1,o=We(r.length,n);while(++i<o)r[i]=e[i].call(this,r[i]);return bn(t,this,r)}))})),Gu=wo((function(t,e){var n=cr(e,$a(Gu));return La(t,O,i,e,n)})),Vu=wo((function(t,e){var n=cr(e,$a(Vu));return La(t,C,i,e,n)})),Uu=Da((function(t,e){return La(t,E,i,i,i,e)}));function Yu(t,e){if("function"!=typeof t)throw new oe(l);return e=e===i?e:qc(e),wo(t,e)}function qu(t,e){if("function"!=typeof t)throw new oe(l);return e=null==e?0:ze(qc(e),0),wo((function(n){var r=n[e],i=Uo(n,0,e);return r&&kn(i,r),bn(t,this,i)}))}function Xu(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new oe(l);return Cc(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Nu(t,e,{leading:r,maxWait:e,trailing:i})}function Ku(t){return Au(t,1)}function Zu(t,e){return Gu($o(e),t)}function Qu(){if(!arguments.length)return[];var t=arguments[0];return lc(t)?t:[t]}function Ju(t){return yi(t,v)}function tc(t,e){return e="function"==typeof e?e:i,yi(t,v,e)}function ec(t){return yi(t,d|v)}function nc(t,e){return e="function"==typeof e?e:i,yi(t,d|v,e)}function rc(t,e){return null==e||bi(t,e,Of(e))}function ic(t,e){return t===e||t!==t&&e!==e}var oc=Ea(Bi),ac=Ea((function(t,e){return t>=e})),sc=Gi(function(){return arguments}())?Gi:function(t){return Sc(t)&&fe.call(t,"callee")&&!Ce.call(t,"callee")},lc=n.isArray,uc=dn?Xn(dn):Vi;function cc(t){return null!=t&&Oc(t.length)&&!wc(t)}function fc(t){return Sc(t)&&cc(t)}function hc(t){return!0===t||!1===t||Sc(t)&&Ni(t)==U}var dc=Ne||Xh,pc=pn?Xn(pn):Ui;function vc(t){return Sc(t)&&1===t.nodeType&&!Ic(t)}function gc(t){if(null==t)return!0;if(cc(t)&&(lc(t)||"string"==typeof t||"function"==typeof t.splice||dc(t)||zc(t)||sc(t)))return!t.length;var e=Za(t);if(e==Q||e==ot)return!t.size;if(ds(t))return!no(t).length;for(var n in t)if(fe.call(t,n))return!1;return!0}function yc(t,e){return Yi(t,e)}function mc(t,e,n){n="function"==typeof n?n:i;var r=n?n(t,e):i;return r===i?Yi(t,e,i,n):!!r}function bc(t){if(!Sc(t))return!1;var e=Ni(t);return e==X||e==q||"string"==typeof t.message&&"string"==typeof t.name&&!Ic(t)}function xc(t){return"number"==typeof t&&Be(t)}function wc(t){if(!Cc(t))return!1;var e=Ni(t);return e==K||e==Z||e==V||e==rt}function _c(t){return"number"==typeof t&&t==qc(t)}function Oc(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=N}function Cc(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Sc(t){return null!=t&&"object"==typeof t}var Ec=vn?Xn(vn):Xi;function Mc(t,e){return t===e||Ki(t,e,Ua(e))}function kc(t,e,n){return n="function"==typeof n?n:i,Ki(t,e,Ua(e),n)}function Tc(t){return Rc(t)&&t!=+t}function Ac(t){if(hs(t))throw new Dt(s);return Zi(t)}function Lc(t){return null===t}function Pc(t){return null==t}function Rc(t){return"number"==typeof t||Sc(t)&&Ni(t)==J}function Ic(t){if(!Sc(t)||Ni(t)!=et)return!1;var e=_e(t);if(null===e)return!0;var n=fe.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ce.call(n)==ve}var jc=gn?Xn(gn):Qi;function Nc(t){return _c(t)&&t>=-N&&t<=N}var Bc=yn?Xn(yn):Ji;function Dc(t){return"string"==typeof t||!lc(t)&&Sc(t)&&Ni(t)==at}function Fc(t){return"symbol"==typeof t||Sc(t)&&Ni(t)==st}var zc=mn?Xn(mn):to;function Wc(t){return t===i}function Hc(t){return Sc(t)&&Za(t)==ut}function $c(t){return Sc(t)&&Ni(t)==ct}var Gc=Ea(io),Vc=Ea((function(t,e){return t<=e}));function Uc(t){if(!t)return[];if(cc(t))return Dc(t)?gr(t):ia(t);if(Me&&t[Me])return sr(t[Me]());var e=Za(t),n=e==Q?lr:e==ot?fr:Hf;return n(t)}function Yc(t){if(!t)return 0===t?t:0;if(t=Kc(t),t===j||t===-j){var e=t<0?-1:1;return e*B}return t===t?t:0}function qc(t){var e=Yc(t),n=e%1;return e===e?n?e-n:e:0}function Xc(t){return t?gi(qc(t),0,F):0}function Kc(t){if("number"==typeof t)return t;if(Fc(t))return D;if(Cc(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Cc(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=qn(t);var n=qt.test(t);return n||Kt.test(t)?rn(t.slice(2),n?2:8):Yt.test(t)?D:+t}function Zc(t){return oa(t,Cf(t))}function Qc(t){return t?gi(qc(t),-N,N):0===t?t:0}function Jc(t){return null==t?"":Io(t)}var tf=ua((function(t,e){if(ds(e)||cc(e))oa(e,Of(e),t);else for(var n in e)fe.call(e,n)&&ui(t,n,e[n])})),ef=ua((function(t,e){oa(e,Cf(e),t)})),nf=ua((function(t,e,n,r){oa(e,Cf(e),t,r)})),rf=ua((function(t,e,n,r){oa(e,Of(e),t,r)})),of=Da(vi);function af(t,e){var n=Cr(t);return null==e?n:hi(n,e)}var sf=wo((function(t,e){t=ne(t);var n=-1,r=e.length,o=r>2?e[2]:i;o&&ss(e[0],e[1],o)&&(r=1);while(++n<r){var a=e[n],s=Cf(a),l=-1,u=s.length;while(++l<u){var c=s[l],f=t[c];(f===i||ic(f,le[c])&&!fe.call(t,c))&&(t[c]=a[c])}}return t})),lf=wo((function(t){return t.push(i,Ra),bn(kf,i,t)}));function uf(t,e){return jn(t,Ga(e,3),Li)}function cf(t,e){return jn(t,Ga(e,3),Pi)}function ff(t,e){return null==t?t:Ti(t,Ga(e,3),Cf)}function hf(t,e){return null==t?t:Ai(t,Ga(e,3),Cf)}function df(t,e){return t&&Li(t,Ga(e,3))}function pf(t,e){return t&&Pi(t,Ga(e,3))}function vf(t){return null==t?[]:Ri(t,Of(t))}function gf(t){return null==t?[]:Ri(t,Cf(t))}function yf(t,e,n){var r=null==t?i:Ii(t,e);return r===i?n:r}function mf(t,e){return null!=t&&ts(t,e,Di)}function bf(t,e){return null!=t&&ts(t,e,Fi)}var xf=xa((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),t[e]=n}),Mh(Lh)),wf=xa((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pe.call(e)),fe.call(t,e)?t[e].push(n):t[e]=[n]}),Ga),_f=wo($i);function Of(t){return cc(t)?ii(t):no(t)}function Cf(t){return cc(t)?ii(t,!0):ro(t)}function Sf(t,e){var n={};return e=Ga(e,3),Li(t,(function(t,r,i){pi(n,e(t,r,i),t)})),n}function Ef(t,e){var n={};return e=Ga(e,3),Li(t,(function(t,r,i){pi(n,r,e(t,r,i))})),n}var Mf=ua((function(t,e,n){lo(t,e,n)})),kf=ua((function(t,e,n,r){lo(t,e,n,r)})),Tf=Da((function(t,e){var n={};if(null==t)return n;var r=!1;e=Mn(e,(function(e){return e=Go(e,t),r||(r=e.length>1),e})),oa(t,za(t),n),r&&(n=yi(n,d|p|v,Ia));var i=e.length;while(i--)No(n,e[i]);return n}));function Af(t,e){return Pf(t,Wu(Ga(e)))}var Lf=Da((function(t,e){return null==t?{}:ho(t,e)}));function Pf(t,e){if(null==t)return{};var n=Mn(za(t),(function(t){return[t]}));return e=Ga(e),po(t,n,(function(t,n){return e(t,n[0])}))}function Rf(t,e,n){e=Go(e,t);var r=-1,o=e.length;o||(o=1,t=i);while(++r<o){var a=null==t?i:t[Ls(e[r])];a===i&&(r=o,a=n),t=wc(a)?a.call(t):a}return t}function If(t,e,n){return null==t?t:Co(t,e,n)}function jf(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Co(t,e,n,r)}var Nf=Aa(Of),Bf=Aa(Cf);function Df(t,e,n){var r=lc(t),i=r||dc(t)||zc(t);if(e=Ga(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Cc(t)&&wc(o)?Cr(_e(t)):{}}return(i?wn:Li)(t,(function(t,r,i){return e(n,t,r,i)})),n}function Ff(t,e){return null==t||No(t,e)}function zf(t,e,n){return null==t?t:Bo(t,e,$o(n))}function Wf(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Bo(t,e,$o(n),r)}function Hf(t){return null==t?[]:Kn(t,Of(t))}function $f(t){return null==t?[]:Kn(t,Cf(t))}function Gf(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=Kc(n),n=n===n?n:0),e!==i&&(e=Kc(e),e=e===e?e:0),gi(Kc(t),e,n)}function Vf(t,e,n){return e=Yc(e),n===i?(n=e,e=0):n=Yc(n),t=Kc(t),zi(t,e,n)}function Uf(t,e,n){if(n&&"boolean"!=typeof n&&ss(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=Yc(t),e===i?(e=t,t=0):e=Yc(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=Ue();return We(t+o*(e-t+nn("1e-"+((o+"").length-1))),e)}return mo(t,e)}var Yf=pa((function(t,e,n){return e=e.toLowerCase(),t+(n?qf(e):e)}));function qf(t){return wh(Jc(t).toLowerCase())}function Xf(t){return t=Jc(t),t&&t.replace(Qt,er).replace($e,"")}function Kf(t,e,n){t=Jc(t),e=Io(e);var r=t.length;n=n===i?r:gi(qc(n),0,r);var o=n;return n-=e.length,n>=0&&t.slice(n,o)==e}function Zf(t){return t=Jc(t),t&&kt.test(t)?t.replace(Et,nr):t}function Qf(t){return t=Jc(t),t&&Nt.test(t)?t.replace(jt,"\\$&"):t}var Jf=pa((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),th=pa((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),eh=da("toLowerCase");function nh(t,e,n){t=Jc(t),e=qc(e);var r=e?vr(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Oa(Ie(i),n)+t+Oa(Re(i),n)}function rh(t,e,n){t=Jc(t),e=qc(e);var r=e?vr(t):0;return e&&r<e?t+Oa(e-r,n):t}function ih(t,e,n){t=Jc(t),e=qc(e);var r=e?vr(t):0;return e&&r<e?Oa(e-r,n)+t:t}function oh(t,e,n){return n||null==e?e=0:e&&(e=+e),Ve(Jc(t).replace(Bt,""),e||0)}function ah(t,e,n){return e=(n?ss(t,e,n):e===i)?1:qc(e),xo(Jc(t),e)}function sh(){var t=arguments,e=Jc(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var lh=pa((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));function uh(t,e,n){return n&&"number"!=typeof n&&ss(t,e,n)&&(e=n=i),n=n===i?F:n>>>0,n?(t=Jc(t),t&&("string"==typeof e||null!=e&&!jc(e))&&(e=Io(e),!e&&or(t))?Uo(gr(t),0,n):t.split(e,n)):[]}var ch=pa((function(t,e,n){return t+(n?" ":"")+wh(e)}));function fh(t,e,n){return t=Jc(t),n=null==n?0:gi(qc(n),0,t.length),e=Io(e),t.slice(n,n+e.length)==e}function hh(t,e,n){var r=_r.templateSettings;n&&ss(t,e,n)&&(e=i),t=Jc(t),e=nf({},e,r,Pa);var o,a,s=nf({},e.imports,r.imports,Pa),l=Of(s),c=Kn(s,l),f=0,h=e.interpolate||Jt,d="__p += '",p=re((e.escape||Jt).source+"|"+h.source+"|"+(h===Lt?Vt:Jt).source+"|"+(e.evaluate||Jt).source+"|$","g"),v="//# sourceURL="+(fe.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xe+"]")+"\n";t.replace(p,(function(e,n,r,i,s,l){return r||(r=i),d+=t.slice(f,l).replace(te,rr),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=l+e.length,e})),d+="';\n";var g=fe.call(e,"variable")&&e.variable;if(g){if($t.test(g))throw new Dt(u)}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(_t,""):d).replace(Ot,"$1").replace(Ct,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var y=Oh((function(){return Ht(l,v+"return "+d).apply(i,c)}));if(y.source=d,bc(y))throw y;return y}function dh(t){return Jc(t).toLowerCase()}function ph(t){return Jc(t).toUpperCase()}function vh(t,e,n){if(t=Jc(t),t&&(n||e===i))return qn(t);if(!t||!(e=Io(e)))return t;var r=gr(t),o=gr(e),a=Qn(r,o),s=Jn(r,o)+1;return Uo(r,a,s).join("")}function gh(t,e,n){if(t=Jc(t),t&&(n||e===i))return t.slice(0,yr(t)+1);if(!t||!(e=Io(e)))return t;var r=gr(t),o=Jn(r,gr(e))+1;return Uo(r,0,o).join("")}function yh(t,e,n){if(t=Jc(t),t&&(n||e===i))return t.replace(Bt,"");if(!t||!(e=Io(e)))return t;var r=gr(t),o=Qn(r,gr(e));return Uo(r,o).join("")}function mh(t,e){var n=k,r=T;if(Cc(e)){var o="separator"in e?e.separator:o;n="length"in e?qc(e.length):n,r="omission"in e?Io(e.omission):r}t=Jc(t);var a=t.length;if(or(t)){var s=gr(t);a=s.length}if(n>=a)return t;var l=n-vr(r);if(l<1)return r;var u=s?Uo(s,0,l).join(""):t.slice(0,l);if(o===i)return u+r;if(s&&(l+=u.length-l),jc(o)){if(t.slice(l).search(o)){var c,f=u;o.global||(o=re(o.source,Jc(Ut.exec(o))+"g")),o.lastIndex=0;while(c=o.exec(f))var h=c.index;u=u.slice(0,h===i?l:h)}}else if(t.indexOf(Io(o),l)!=l){var d=u.lastIndexOf(o);d>-1&&(u=u.slice(0,d))}return u+r}function bh(t){return t=Jc(t),t&&Mt.test(t)?t.replace(St,mr):t}var xh=pa((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),wh=da("toUpperCase");function _h(t,e,n){return t=Jc(t),e=n?i:e,e===i?ar(t)?wr(t):In(t):t.match(e)||[]}var Oh=wo((function(t,e){try{return bn(t,i,e)}catch(n){return bc(n)?n:new Dt(n)}})),Ch=Da((function(t,e){return wn(e,(function(e){e=Ls(e),pi(t,e,Pu(t[e],t))})),t}));function Sh(t){var e=null==t?0:t.length,n=Ga();return t=e?Mn(t,(function(t){if("function"!=typeof t[1])throw new oe(l);return[n(t[0]),t[1]]})):[],wo((function(n){var r=-1;while(++r<e){var i=t[r];if(bn(i[0],this,n))return bn(i[1],this,n)}}))}function Eh(t){return mi(yi(t,d))}function Mh(t){return function(){return t}}function kh(t,e){return null==t||t!==t?e:t}var Th=ma(),Ah=ma(!0);function Lh(t){return t}function Ph(t){return eo("function"==typeof t?t:yi(t,d))}function Rh(t){return ao(yi(t,d))}function Ih(t,e){return so(t,yi(e,d))}var jh=wo((function(t,e){return function(n){return $i(n,t,e)}})),Nh=wo((function(t,e){return function(n){return $i(t,n,e)}}));function Bh(t,e,n){var r=Of(e),i=Ri(e,r);null!=n||Cc(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Ri(e,Of(e)));var o=!(Cc(n)&&"chain"in n)||!!n.chain,a=wc(t);return wn(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=ia(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,kn([this.value()],arguments))})})),t}function Dh(){return sn._===this&&(sn._=ge),this}function Fh(){}function zh(t){return t=qc(t),wo((function(e){return co(e,t)}))}var Wh=_a(Mn),Hh=_a(On),$h=_a(Ln);function Gh(t){return ls(t)?Wn(Ls(t)):vo(t)}function Vh(t){return function(e){return null==t?i:Ii(t,e)}}var Uh=Sa(),Yh=Sa(!0);function qh(){return[]}function Xh(){return!1}function Kh(){return{}}function Zh(){return""}function Qh(){return!0}function Jh(t,e){if(t=qc(t),t<1||t>N)return[];var n=F,r=We(t,F);e=Ga(e),t-=F;var i=Un(r,e);while(++n<t)e(n);return i}function td(t){return lc(t)?Mn(t,Ls):Fc(t)?[t]:ia(As(Jc(t)))}function ed(t){var e=++he;return Jc(t)+e}var nd=wa((function(t,e){return t+e}),0),rd=ka("ceil"),id=wa((function(t,e){return t/e}),1),od=ka("floor");function ad(t){return t&&t.length?Si(t,Lh,Bi):i}function sd(t,e){return t&&t.length?Si(t,Ga(e,2),Bi):i}function ld(t){return zn(t,Lh)}function ud(t,e){return zn(t,Ga(e,2))}function cd(t){return t&&t.length?Si(t,Lh,io):i}function fd(t,e){return t&&t.length?Si(t,Ga(e,2),io):i}var hd=wa((function(t,e){return t*e}),1),dd=ka("round"),pd=wa((function(t,e){return t-e}),0);function vd(t){return t&&t.length?Vn(t,Lh):0}function gd(t,e){return t&&t.length?Vn(t,Ga(e,2)):0}return _r.after=Tu,_r.ary=Au,_r.assign=tf,_r.assignIn=ef,_r.assignInWith=nf,_r.assignWith=rf,_r.at=of,_r.before=Lu,_r.bind=Pu,_r.bindAll=Ch,_r.bindKey=Ru,_r.castArray=Qu,_r.chain=Vl,_r.chunk=js,_r.compact=Ns,_r.concat=Bs,_r.cond=Sh,_r.conforms=Eh,_r.constant=Mh,_r.countBy=nu,_r.create=af,_r.curry=Iu,_r.curryRight=ju,_r.debounce=Nu,_r.defaults=sf,_r.defaultsDeep=lf,_r.defer=Bu,_r.delay=Du,_r.difference=Ds,_r.differenceBy=Fs,_r.differenceWith=zs,_r.drop=Ws,_r.dropRight=Hs,_r.dropRightWhile=$s,_r.dropWhile=Gs,_r.fill=Vs,_r.filter=iu,_r.flatMap=su,_r.flatMapDeep=lu,_r.flatMapDepth=uu,_r.flatten=qs,_r.flattenDeep=Xs,_r.flattenDepth=Ks,_r.flip=Fu,_r.flow=Th,_r.flowRight=Ah,_r.fromPairs=Zs,_r.functions=vf,_r.functionsIn=gf,_r.groupBy=hu,_r.initial=tl,_r.intersection=el,_r.intersectionBy=nl,_r.intersectionWith=rl,_r.invert=xf,_r.invertBy=wf,_r.invokeMap=pu,_r.iteratee=Ph,_r.keyBy=vu,_r.keys=Of,_r.keysIn=Cf,_r.map=gu,_r.mapKeys=Sf,_r.mapValues=Ef,_r.matches=Rh,_r.matchesProperty=Ih,_r.memoize=zu,_r.merge=Mf,_r.mergeWith=kf,_r.method=jh,_r.methodOf=Nh,_r.mixin=Bh,_r.negate=Wu,_r.nthArg=zh,_r.omit=Tf,_r.omitBy=Af,_r.once=Hu,_r.orderBy=yu,_r.over=Wh,_r.overArgs=$u,_r.overEvery=Hh,_r.overSome=$h,_r.partial=Gu,_r.partialRight=Vu,_r.partition=mu,_r.pick=Lf,_r.pickBy=Pf,_r.property=Gh,_r.propertyOf=Vh,_r.pull=ll,_r.pullAll=ul,_r.pullAllBy=cl,_r.pullAllWith=fl,_r.pullAt=hl,_r.range=Uh,_r.rangeRight=Yh,_r.rearg=Uu,_r.reject=wu,_r.remove=dl,_r.rest=Yu,_r.reverse=pl,_r.sampleSize=Ou,_r.set=If,_r.setWith=jf,_r.shuffle=Cu,_r.slice=vl,_r.sortBy=Mu,_r.sortedUniq=_l,_r.sortedUniqBy=Ol,_r.split=uh,_r.spread=qu,_r.tail=Cl,_r.take=Sl,_r.takeRight=El,_r.takeRightWhile=Ml,_r.takeWhile=kl,_r.tap=Ul,_r.throttle=Xu,_r.thru=Yl,_r.toArray=Uc,_r.toPairs=Nf,_r.toPairsIn=Bf,_r.toPath=td,_r.toPlainObject=Zc,_r.transform=Df,_r.unary=Ku,_r.union=Tl,_r.unionBy=Al,_r.unionWith=Ll,_r.uniq=Pl,_r.uniqBy=Rl,_r.uniqWith=Il,_r.unset=Ff,_r.unzip=jl,_r.unzipWith=Nl,_r.update=zf,_r.updateWith=Wf,_r.values=Hf,_r.valuesIn=$f,_r.without=Bl,_r.words=_h,_r.wrap=Zu,_r.xor=Dl,_r.xorBy=Fl,_r.xorWith=zl,_r.zip=Wl,_r.zipObject=Hl,_r.zipObjectDeep=$l,_r.zipWith=Gl,_r.entries=Nf,_r.entriesIn=Bf,_r.extend=ef,_r.extendWith=nf,Bh(_r,_r),_r.add=nd,_r.attempt=Oh,_r.camelCase=Yf,_r.capitalize=qf,_r.ceil=rd,_r.clamp=Gf,_r.clone=Ju,_r.cloneDeep=ec,_r.cloneDeepWith=nc,_r.cloneWith=tc,_r.conformsTo=rc,_r.deburr=Xf,_r.defaultTo=kh,_r.divide=id,_r.endsWith=Kf,_r.eq=ic,_r.escape=Zf,_r.escapeRegExp=Qf,_r.every=ru,_r.find=ou,_r.findIndex=Us,_r.findKey=uf,_r.findLast=au,_r.findLastIndex=Ys,_r.findLastKey=cf,_r.floor=od,_r.forEach=cu,_r.forEachRight=fu,_r.forIn=ff,_r.forInRight=hf,_r.forOwn=df,_r.forOwnRight=pf,_r.get=yf,_r.gt=oc,_r.gte=ac,_r.has=mf,_r.hasIn=bf,_r.head=Qs,_r.identity=Lh,_r.includes=du,_r.indexOf=Js,_r.inRange=Vf,_r.invoke=_f,_r.isArguments=sc,_r.isArray=lc,_r.isArrayBuffer=uc,_r.isArrayLike=cc,_r.isArrayLikeObject=fc,_r.isBoolean=hc,_r.isBuffer=dc,_r.isDate=pc,_r.isElement=vc,_r.isEmpty=gc,_r.isEqual=yc,_r.isEqualWith=mc,_r.isError=bc,_r.isFinite=xc,_r.isFunction=wc,_r.isInteger=_c,_r.isLength=Oc,_r.isMap=Ec,_r.isMatch=Mc,_r.isMatchWith=kc,_r.isNaN=Tc,_r.isNative=Ac,_r.isNil=Pc,_r.isNull=Lc,_r.isNumber=Rc,_r.isObject=Cc,_r.isObjectLike=Sc,_r.isPlainObject=Ic,_r.isRegExp=jc,_r.isSafeInteger=Nc,_r.isSet=Bc,_r.isString=Dc,_r.isSymbol=Fc,_r.isTypedArray=zc,_r.isUndefined=Wc,_r.isWeakMap=Hc,_r.isWeakSet=$c,_r.join=il,_r.kebabCase=Jf,_r.last=ol,_r.lastIndexOf=al,_r.lowerCase=th,_r.lowerFirst=eh,_r.lt=Gc,_r.lte=Vc,_r.max=ad,_r.maxBy=sd,_r.mean=ld,_r.meanBy=ud,_r.min=cd,_r.minBy=fd,_r.stubArray=qh,_r.stubFalse=Xh,_r.stubObject=Kh,_r.stubString=Zh,_r.stubTrue=Qh,_r.multiply=hd,_r.nth=sl,_r.noConflict=Dh,_r.noop=Fh,_r.now=ku,_r.pad=nh,_r.padEnd=rh,_r.padStart=ih,_r.parseInt=oh,_r.random=Uf,_r.reduce=bu,_r.reduceRight=xu,_r.repeat=ah,_r.replace=sh,_r.result=Rf,_r.round=dd,_r.runInContext=t,_r.sample=_u,_r.size=Su,_r.snakeCase=lh,_r.some=Eu,_r.sortedIndex=gl,_r.sortedIndexBy=yl,_r.sortedIndexOf=ml,_r.sortedLastIndex=bl,_r.sortedLastIndexBy=xl,_r.sortedLastIndexOf=wl,_r.startCase=ch,_r.startsWith=fh,_r.subtract=pd,_r.sum=vd,_r.sumBy=gd,_r.template=hh,_r.times=Jh,_r.toFinite=Yc,_r.toInteger=qc,_r.toLength=Xc,_r.toLower=dh,_r.toNumber=Kc,_r.toSafeInteger=Qc,_r.toString=Jc,_r.toUpper=ph,_r.trim=vh,_r.trimEnd=gh,_r.trimStart=yh,_r.truncate=mh,_r.unescape=bh,_r.uniqueId=ed,_r.upperCase=xh,_r.upperFirst=wh,_r.each=cu,_r.eachRight=fu,_r.first=Qs,Bh(_r,function(){var t={};return Li(_r,(function(e,n){fe.call(_r.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),_r.VERSION=o,wn(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){_r[t].placeholder=_r})),wn(["drop","take"],(function(t,e){Mr.prototype[t]=function(n){n=n===i?1:ze(qc(n),0);var r=this.__filtered__&&!e?new Mr(this):this.clone();return r.__filtered__?r.__takeCount__=We(n,r.__takeCount__):r.__views__.push({size:We(n,F),type:t+(r.__dir__<0?"Right":"")}),r},Mr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),wn(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=n==P||n==I;Mr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ga(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),wn(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Mr.prototype[t]=function(){return this[n](1).value()[0]}})),wn(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Mr.prototype[t]=function(){return this.__filtered__?new Mr(this):this[n](1)}})),Mr.prototype.compact=function(){return this.filter(Lh)},Mr.prototype.find=function(t){return this.filter(t).head()},Mr.prototype.findLast=function(t){return this.reverse().find(t)},Mr.prototype.invokeMap=wo((function(t,e){return"function"==typeof t?new Mr(this):this.map((function(n){return $i(n,t,e)}))})),Mr.prototype.reject=function(t){return this.filter(Wu(Ga(t)))},Mr.prototype.slice=function(t,e){t=qc(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Mr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(e=qc(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},Mr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Mr.prototype.toArray=function(){return this.take(F)},Li(Mr.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=_r[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);o&&(_r.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,l=e instanceof Mr,u=s[0],c=l||lc(e),f=function(t){var e=o.apply(_r,kn([t],s));return r&&h?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var h=this.__chain__,d=!!this.__actions__.length,p=a&&!h,v=l&&!d;if(!a&&c){e=v?e:new Mr(this);var g=t.apply(e,s);return g.__actions__.push({func:Yl,args:[f],thisArg:i}),new Er(g,h)}return p&&v?t.apply(this,s):(g=this.thru(f),p?r?g.value()[0]:g.value():g)})})),wn(["pop","push","shift","sort","splice","unshift"],(function(t){var e=ae[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);_r.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(lc(i)?i:[],t)}return this[n]((function(n){return e.apply(lc(n)?n:[],t)}))}})),Li(Mr.prototype,(function(t,e){var n=_r[e];if(n){var r=n.name+"";fe.call(un,r)||(un[r]=[]),un[r].push({name:e,func:n})}})),un[ba(i,b).name]=[{name:"wrapper",func:i}],Mr.prototype.clone=kr,Mr.prototype.reverse=Tr,Mr.prototype.value=Ar,_r.prototype.at=ql,_r.prototype.chain=Xl,_r.prototype.commit=Kl,_r.prototype.next=Zl,_r.prototype.plant=Jl,_r.prototype.reverse=tu,_r.prototype.toJSON=_r.prototype.valueOf=_r.prototype.value=eu,_r.prototype.first=_r.prototype.head,Me&&(_r.prototype[Me]=Ql),_r},Or=_r();sn._=Or,r=function(){return Or}.call(e,n,e,t),r===i||(t.exports=r)}.call(this)},3644:function(t,e,n){t.exports=n(4966)},2896:function(t){"use strict";var e=!("undefined"===typeof window||!window.document||!window.document.createElement),n={canUseDOM:e,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:e&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:e&&!!window.screen,isInWorker:!e};t.exports=n},2118:function(t){var e,n,r,i,o,a,s,l,u,c,f,h,d,p,v,g=!1;function y(){if(!g){g=!0;var t=navigator.userAgent,y=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),m=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(h=/\b(iPhone|iP[ao]d)/.exec(t),d=/\b(iP[ao]d)/.exec(t),c=/Android/i.exec(t),p=/FBAN\/\w+;/i.exec(t),v=/Mobile/i.exec(t),f=!!/Win64/.exec(t),y){e=y[1]?parseFloat(y[1]):y[5]?parseFloat(y[5]):NaN,e&&document&&document.documentMode&&(e=document.documentMode);var b=/(?:Trident\/(\d+.\d+))/.exec(t);a=b?parseFloat(b[1])+4:e,n=y[2]?parseFloat(y[2]):NaN,r=y[3]?parseFloat(y[3]):NaN,i=y[4]?parseFloat(y[4]):NaN,i?(y=/(?:Chrome\/(\d+\.\d+))/.exec(t),o=y&&y[1]?parseFloat(y[1]):NaN):o=NaN}else e=n=r=o=i=NaN;if(m){if(m[1]){var x=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);s=!x||parseFloat(x[1].replace("_","."))}else s=!1;l=!!m[2],u=!!m[3]}else s=l=u=!1}}var m={ie:function(){return y()||e},ieCompatibilityMode:function(){return y()||a>e},ie64:function(){return m.ie()&&f},firefox:function(){return y()||n},opera:function(){return y()||r},webkit:function(){return y()||i},safari:function(){return m.webkit()},chrome:function(){return y()||o},windows:function(){return y()||l},osx:function(){return y()||s},linux:function(){return y()||u},iphone:function(){return y()||h},mobile:function(){return y()||h||d||c||v},nativeApp:function(){return y()||p},android:function(){return y()||c},ipad:function(){return y()||d}};t.exports=m},7516:function(t,e,n){"use strict";var r,i=n(2896);
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */
function o(t,e){if(!i.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,o=n in document;if(!o){var a=document.createElement("div");a.setAttribute(n,"return;"),o="function"===typeof a[n]}return!o&&r&&"wheel"===t&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}i.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),t.exports=o},4966:function(t,e,n){"use strict";var r=n(2118),i=n(7516),o=10,a=40,s=800;function l(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*o,i=n*o,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(1==t.deltaMode?(r*=a,i*=a):(r*=s,i*=s)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}l.getEventType=function(){return r.firefox()?"DOMMouseScroll":i("wheel")?"wheel":"mousewheel"},t.exports=l},4372:function(t){"use strict";var e=t.exports;t.exports.isNumber=function(t){return"number"===typeof t},t.exports.findMin=function(t){if(0===t.length)return 1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.min(e,t[n]);return e},t.exports.findMax=function(t){if(0===t.length)return-1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.max(e,t[n]);return e},t.exports.findMinMulti=function(t){for(var n=e.findMin(t[0]),r=1;r<t.length;r++)n=Math.min(n,e.findMin(t[r]));return n},t.exports.findMaxMulti=function(t){for(var n=e.findMax(t[0]),r=1;r<t.length;r++)n=Math.max(n,e.findMax(t[r]));return n},t.exports.inside=function(t,e,n){return t<=n&&n<=e}},4824:function(t,e,n){"use strict";n(7658);var r=50,i=2,o=Math.log(2),a=t.exports,s=n(4372);function l(t){return 1-Math.abs(t)}function u(t,e){for(var n={},r=0,i=-e;i<=e;i++)r+=t(i/e),n[i]=r;return n}t.exports.getUnifiedMinMax=function(t,e){return a.getUnifiedMinMaxMulti([t],e)},t.exports.getUnifiedMinMaxMulti=function(t,e){e=e||{};var n=!1,o=!1,a=s.isNumber(e.width)?e.width:i,l=s.isNumber(e.size)?e.size:r,u=s.isNumber(e.min)?e.min:(n=!0,s.findMinMulti(t)),c=s.isNumber(e.max)?e.max:(o=!0,s.findMaxMulti(t)),f=c-u,h=f/(l-1);return n&&(u-=2*a*h),o&&(c+=2*a*h),{min:u,max:c}},t.exports.create=function(t,e){if(e=e||{},!t||0===t.length)return[];var n=s.isNumber(e.size)?e.size:r,o=s.isNumber(e.width)?e.width:i,c=a.getUnifiedMinMax(t,{size:n,width:o,min:e.min,max:e.max}),f=c.min,h=c.max,d=h-f,p=d/(n-1);if(0===d)return[{x:f,y:1}];for(var v=[],g=0;g<n;g++)v.push({x:f+g*p,y:0});var y=function(t){return Math.floor((t-f)/p)},m=u(l,o),b=m[o],x=m[o-1]-m[o-2],w=0;t.forEach((function(t){var e=y(t);if(!(e+o<0||e-o>=v.length)){var n=Math.max(e-o,0),r=e,i=Math.min(e+o,v.length-1),a=n-(e-o),l=e+o-i,u=m[-o-1+a]||0,c=m[-o-1+l]||0,f=b/(b-u-c);a>0&&(w+=f*(a-1)*x);var h=Math.max(0,e-o+1);s.inside(0,v.length-1,h)&&(v[h].y+=1*f*x),s.inside(0,v.length-1,r+1)&&(v[r+1].y-=2*f*x),s.inside(0,v.length-1,i+1)&&(v[i+1].y+=1*f*x)}}));var _=w,O=0,C=0;return v.forEach((function(t){O+=t.y,_+=O,t.y=_,C+=_})),C>0&&v.forEach((function(t){t.y/=C})),v},t.exports.getExpectedValueFromPdf=function(t){if(t&&0!==t.length){var e=0;return t.forEach((function(t){e+=t.x*t.y})),e}},t.exports.getXWithLeftTailArea=function(t,e){if(t&&0!==t.length){for(var n=0,r=0,i=0;i<t.length;i++)if(r=i,n+=t[i].y,n>=e)break;return t[r].x}},t.exports.getPerplexity=function(t){if(t&&0!==t.length){var e=0;return t.forEach((function(t){var n=Math.log(t.y);isFinite(n)&&(e+=t.y*n)})),e=-e/o,Math.pow(2,e)}}},5291:function(t,e,n){"use strict";n.r(e);n(7658);var r=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,o=function(){return"undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),a=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)}}(),s=2;function l(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&u()}function l(){a(o)}function u(){var t=Date.now();if(n){if(t-i<s)return;r=!0}else n=!0,r=!1,setTimeout(l,e);i=t}return u}var u=20,c=["top","right","bottom","left","width","height","size","weight"],f="undefined"!==typeof MutationObserver,h=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=l(this.refresh.bind(this),u)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),f?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e,r=c.some((function(t){return!!~n.indexOf(t)}));r&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),d=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},p=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||o},v=S(0,0,0,0);function g(t){return parseFloat(t)||0}function y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){var r=t["border-"+n+"-width"];return e+g(r)}),0)}function m(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],a=t["padding-"+o];n[o]=g(a)}return n}function b(t){var e=t.getBBox();return S(0,0,e.width,e.height)}function x(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return v;var r=p(t).getComputedStyle(t),i=m(r),o=i.left+i.right,a=i.top+i.bottom,s=g(r.width),l=g(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==e&&(s-=y(r,"left","right")+o),Math.round(l+a)!==n&&(l-=y(r,"top","bottom")+a)),!_(t)){var u=Math.round(s+o)-e,c=Math.round(l+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return S(i.left,i.top,s,l)}var w=function(){return"undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof p(t).SVGGraphicsElement}:function(t){return t instanceof p(t).SVGElement&&"function"===typeof t.getBBox}}();function _(t){return t===p(t).document.documentElement}function O(t){return i?w(t)?b(t):x(t):v}function C(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return d(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}function S(t,e,n,r){return{x:t,y:e,width:n,height:r}}var E=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=S(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=O(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),M=function(){function t(t,e){var n=C(e);d(this,{target:t,contentRect:n})}return t}(),k=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof p(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new E(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof p(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new M(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),T="undefined"!==typeof WeakMap?new WeakMap:new r,A=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=h.getInstance(),r=new k(e,n,this);T.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach((function(t){A.prototype[t]=function(){var e;return(e=T.get(this))[t].apply(e,arguments)}}));var L=function(){return"undefined"!==typeof o.ResizeObserver?o.ResizeObserver:A}();e["default"]=L},4579:function(t,e,n){"use strict";n(7658);var r=n(7419),i=Array.prototype.concat,o=Array.prototype.slice,a=t.exports=function(t){for(var e=[],n=0,a=t.length;n<a;n++){var s=t[n];r(s)?e=i.call(e,o.call(s)):e.push(s)}return e};a.wrap=function(t){return function(){return t(a(arguments))}}},7419:function(t){t.exports=function(t){return!(!t||"string"===typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},6902:function(t,e,n){var r=n(2129);t.exports=function(t,e,n){return void 0===n?r(t,e,!1):r(t,n,!1!==e)}},1009:function(t,e,n){var r=n(2129),i=n(6902);t.exports={throttle:r,debounce:i}},2129:function(t){t.exports=function(t,e,n,r){var i,o=0;function a(){var a=this,s=Number(new Date)-o,l=arguments;function u(){o=Number(new Date),n.apply(a,l)}function c(){i=void 0}r&&!i&&u(),i&&clearTimeout(i),void 0===r&&s>t?u():!0!==e&&(i=setTimeout(r?c:u,void 0===r?t-s:t))}return"boolean"!==typeof e&&(r=n,n=e,e=void 0),a}},2241:function(t,e,n){"use strict";n.d(e,{ZP:function(){return _e}});n(7658);function r(t,e){for(var n in e)t[n]=e[n];return t}var i=/[!'()*]/g,o=function(t){return"%"+t.charCodeAt(0).toString(16)},a=/%2C/g,s=function(t){return encodeURIComponent(t).replace(i,o).replace(a,",")};function l(t){try{return decodeURIComponent(t)}catch(e){0}return t}function u(t,e,n){void 0===e&&(e={});var r,i=n||f;try{r=i(t||"")}catch(s){r={}}for(var o in e){var a=e[o];r[o]=Array.isArray(a)?a.map(c):c(a)}return r}var c=function(t){return null==t||"object"===typeof t?t:String(t)};function f(t){var e={};return t=t.trim().replace(/^(\?|#|&)/,""),t?(t.split("&").forEach((function(t){var n=t.replace(/\+/g," ").split("="),r=l(n.shift()),i=n.length>0?l(n.join("=")):null;void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]})),e):e}function h(t){var e=t?Object.keys(t).map((function(e){var n=t[e];if(void 0===n)return"";if(null===n)return s(e);if(Array.isArray(n)){var r=[];return n.forEach((function(t){void 0!==t&&(null===t?r.push(s(e)):r.push(s(e)+"="+s(t)))})),r.join("&")}return s(e)+"="+s(n)})).filter((function(t){return t.length>0})).join("&"):null;return e?"?"+e:""}var d=/\/?$/;function p(t,e,n,r){var i=r&&r.options.stringifyQuery,o=e.query||{};try{o=v(o)}catch(s){}var a={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:m(e,i),matched:t?y(t):[]};return n&&(a.redirectedFrom=m(n,i)),Object.freeze(a)}function v(t){if(Array.isArray(t))return t.map(v);if(t&&"object"===typeof t){var e={};for(var n in t)e[n]=v(t[n]);return e}return t}var g=p(null,{path:"/"});function y(t){var e=[];while(t)e.unshift(t),t=t.parent;return e}function m(t,e){var n=t.path,r=t.query;void 0===r&&(r={});var i=t.hash;void 0===i&&(i="");var o=e||h;return(n||"/")+o(r)+i}function b(t,e,n){return e===g?t===e:!!e&&(t.path&&e.path?t.path.replace(d,"")===e.path.replace(d,"")&&(n||t.hash===e.hash&&x(t.query,e.query)):!(!t.name||!e.name)&&(t.name===e.name&&(n||t.hash===e.hash&&x(t.query,e.query)&&x(t.params,e.params))))}function x(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t).sort(),r=Object.keys(e).sort();return n.length===r.length&&n.every((function(n,i){var o=t[n],a=r[i];if(a!==n)return!1;var s=e[n];return null==o||null==s?o===s:"object"===typeof o&&"object"===typeof s?x(o,s):String(o)===String(s)}))}function w(t,e){return 0===t.path.replace(d,"/").indexOf(e.path.replace(d,"/"))&&(!e.hash||t.hash===e.hash)&&_(t.query,e.query)}function _(t,e){for(var n in e)if(!(n in t))return!1;return!0}function O(t){for(var e=0;e<t.matched.length;e++){var n=t.matched[e];for(var r in n.instances){var i=n.instances[r],o=n.enteredCbs[r];if(i&&o){delete n.enteredCbs[r];for(var a=0;a<o.length;a++)i._isBeingDestroyed||o[a](i)}}}}var C={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,i=e.children,o=e.parent,a=e.data;a.routerView=!0;var s=o.$createElement,l=n.name,u=o.$route,c=o._routerViewCache||(o._routerViewCache={}),f=0,h=!1;while(o&&o._routerRoot!==o){var d=o.$vnode?o.$vnode.data:{};d.routerView&&f++,d.keepAlive&&o._directInactive&&o._inactive&&(h=!0),o=o.$parent}if(a.routerViewDepth=f,h){var p=c[l],v=p&&p.component;return v?(p.configProps&&S(v,a,p.route,p.configProps),s(v,a,i)):s()}var g=u.matched[f],y=g&&g.components[l];if(!g||!y)return c[l]=null,s();c[l]={component:y},a.registerRouteInstance=function(t,e){var n=g.instances[l];(e&&n!==t||!e&&n===t)&&(g.instances[l]=e)},(a.hook||(a.hook={})).prepatch=function(t,e){g.instances[l]=e.componentInstance},a.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==g.instances[l]&&(g.instances[l]=t.componentInstance),O(u)};var m=g.props&&g.props[l];return m&&(r(c[l],{route:u,configProps:m}),S(y,a,u,m)),s(y,a,i)}};function S(t,e,n,i){var o=e.props=E(n,i);if(o){o=e.props=r({},o);var a=e.attrs=e.attrs||{};for(var s in o)t.props&&s in t.props||(a[s]=o[s],delete o[s])}}function E(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}function M(t,e,n){var r=t.charAt(0);if("/"===r)return t;if("?"===r||"#"===r)return e+t;var i=e.split("/");n&&i[i.length-1]||i.pop();for(var o=t.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function k(t){var e="",n="",r=t.indexOf("#");r>=0&&(e=t.slice(r),t=t.slice(0,r));var i=t.indexOf("?");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{path:t,query:n,hash:e}}function T(t){return t.replace(/\/(?:\s*\/)+/g,"/")}var A=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},L=K,P=B,R=D,I=W,j=X,N=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function B(t,e){var n,r=[],i=0,o=0,a="",s=e&&e.delimiter||"/";while(null!=(n=N.exec(t))){var l=n[0],u=n[1],c=n.index;if(a+=t.slice(o,c),o=c+l.length,u)a+=u[1];else{var f=t[o],h=n[2],d=n[3],p=n[4],v=n[5],g=n[6],y=n[7];a&&(r.push(a),a="");var m=null!=h&&null!=f&&f!==h,b="+"===g||"*"===g,x="?"===g||"*"===g,w=n[2]||s,_=p||v;r.push({name:d||i++,prefix:h||"",delimiter:w,optional:x,repeat:b,partial:m,asterisk:!!y,pattern:_?$(_):y?".*":"[^"+H(w)+"]+?"})}}return o<t.length&&(a+=t.substr(o)),a&&r.push(a),r}function D(t,e){return W(B(t,e),e)}function F(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function z(t){return encodeURI(t).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function W(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)"object"===typeof t[r]&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",V(e)));return function(e,r){for(var i="",o=e||{},a=r||{},s=a.pretty?F:encodeURIComponent,l=0;l<t.length;l++){var u=t[l];if("string"!==typeof u){var c,f=o[u.name];if(null==f){if(u.optional){u.partial&&(i+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(A(f)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var h=0;h<f.length;h++){if(c=s(f[h]),!n[l].test(c))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(c)+"`");i+=(0===h?u.prefix:u.delimiter)+c}}else{if(c=u.asterisk?z(f):s(f),!n[l].test(c))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+c+'"');i+=u.prefix+c}}else i+=u}return i}}function H(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function $(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function G(t,e){return t.keys=e,t}function V(t){return t&&t.sensitive?"":"i"}function U(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return G(t,e)}function Y(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(K(t[i],e,n).source);var o=new RegExp("(?:"+r.join("|")+")",V(n));return G(o,e)}function q(t,e,n){return X(B(t,n),e,n)}function X(t,e,n){A(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",a=0;a<t.length;a++){var s=t[a];if("string"===typeof s)o+=H(s);else{var l=H(s.prefix),u="(?:"+s.pattern+")";e.push(s),s.repeat&&(u+="(?:"+l+u+")*"),u=s.optional?s.partial?l+"("+u+")?":"(?:"+l+"("+u+"))?":l+"("+u+")",o+=u}}var c=H(n.delimiter||"/"),f=o.slice(-c.length)===c;return r||(o=(f?o.slice(0,-c.length):o)+"(?:"+c+"(?=$))?"),o+=i?"$":r&&f?"":"(?="+c+"|$)",G(new RegExp("^"+o,V(n)),e)}function K(t,e,n){return A(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?U(t,e):A(t)?Y(t,e,n):q(t,e,n)}L.parse=P,L.compile=R,L.tokensToFunction=I,L.tokensToRegExp=j;var Z=Object.create(null);function Q(t,e,n){e=e||{};try{var r=Z[t]||(Z[t]=L.compile(t));return"string"===typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(i){return""}finally{delete e[0]}}function J(t,e,n,i){var o="string"===typeof t?{path:t}:t;if(o._normalized)return o;if(o.name){o=r({},t);var a=o.params;return a&&"object"===typeof a&&(o.params=r({},a)),o}if(!o.path&&o.params&&e){o=r({},o),o._normalized=!0;var s=r(r({},e.params),o.params);if(e.name)o.name=e.name,o.params=s;else if(e.matched.length){var l=e.matched[e.matched.length-1].path;o.path=Q(l,s,"path "+e.path)}else 0;return o}var c=k(o.path||""),f=e&&e.path||"/",h=c.path?M(c.path,f,n||o.append):f,d=u(c.query,o.query,i&&i.options.parseQuery),p=o.hash||c.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:h,query:d,hash:p}}var tt,et=[String,Object],nt=[String,Array],rt=function(){},it={name:"RouterLink",props:{to:{type:et,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:nt,default:"click"}},render:function(t){var e=this,n=this.$router,i=this.$route,o=n.resolve(this.to,i,this.append),a=o.location,s=o.route,l=o.href,u={},c=n.options.linkActiveClass,f=n.options.linkExactActiveClass,h=null==c?"router-link-active":c,d=null==f?"router-link-exact-active":f,v=null==this.activeClass?h:this.activeClass,g=null==this.exactActiveClass?d:this.exactActiveClass,y=s.redirectedFrom?p(null,J(s.redirectedFrom),null,n):s;u[g]=b(i,y,this.exactPath),u[v]=this.exact||this.exactPath?u[g]:w(i,y);var m=u[g]?this.ariaCurrentValue:null,x=function(t){ot(t)&&(e.replace?n.replace(a,rt):n.push(a,rt))},_={click:ot};Array.isArray(this.event)?this.event.forEach((function(t){_[t]=x})):_[this.event]=x;var O={class:u},C=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:l,route:s,navigate:x,isActive:u[v],isExactActive:u[g]});if(C){if(1===C.length)return C[0];if(C.length>1||!C.length)return 0===C.length?t():t("span",{},C)}if("a"===this.tag)O.on=_,O.attrs={href:l,"aria-current":m};else{var S=at(this.$slots.default);if(S){S.isStatic=!1;var E=S.data=r({},S.data);for(var M in E.on=E.on||{},E.on){var k=E.on[M];M in _&&(E.on[M]=Array.isArray(k)?k:[k])}for(var T in _)T in E.on?E.on[T].push(_[T]):E.on[T]=x;var A=S.data.attrs=r({},S.data.attrs);A.href=l,A["aria-current"]=m}else O.on=_}return t(this.tag,O,this.$slots.default)}};function ot(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function at(t){if(t)for(var e,n=0;n<t.length;n++){if(e=t[n],"a"===e.tag)return e;if(e.children&&(e=at(e.children)))return e}}function st(t){if(!st.installed||tt!==t){st.installed=!0,tt=t;var e=function(t){return void 0!==t},n=function(t,n){var r=t.$options._parentVnode;e(r)&&e(r=r.data)&&e(r=r.registerRouteInstance)&&r(t,n)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",C),t.component("RouterLink",it);var r=t.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var lt="undefined"!==typeof window;function ut(t,e,n,r,i){var o=e||[],a=n||Object.create(null),s=r||Object.create(null);t.forEach((function(t){ct(o,a,s,t,i)}));for(var l=0,u=o.length;l<u;l++)"*"===o[l]&&(o.push(o.splice(l,1)[0]),u--,l--);return{pathList:o,pathMap:a,nameMap:s}}function ct(t,e,n,r,i,o){var a=r.path,s=r.name;var l=r.pathToRegexpOptions||{},u=ht(a,i,l.strict);"boolean"===typeof r.caseSensitive&&(l.sensitive=r.caseSensitive);var c={path:u,regex:ft(u,l),components:r.components||{default:r.component},alias:r.alias?"string"===typeof r.alias?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:s,parent:i,matchAs:o,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach((function(r){var i=o?T(o+"/"+r.path):void 0;ct(t,e,n,r,c,i)})),e[c.path]||(t.push(c.path),e[c.path]=c),void 0!==r.alias)for(var f=Array.isArray(r.alias)?r.alias:[r.alias],h=0;h<f.length;++h){var d=f[h];0;var p={path:d,children:r.children};ct(t,e,n,p,i,c.path||"/")}s&&(n[s]||(n[s]=c))}function ft(t,e){var n=L(t,[],e);return n}function ht(t,e,n){return n||(t=t.replace(/\/$/,"")),"/"===t[0]||null==e?t:T(e.path+"/"+t)}function dt(t,e){var n=ut(t),r=n.pathList,i=n.pathMap,o=n.nameMap;function a(t){ut(t,r,i,o)}function s(t,e){var n="object"!==typeof t?o[t]:void 0;ut([e||t],r,i,o,n),n&&n.alias.length&&ut(n.alias.map((function(t){return{path:t,children:[e]}})),r,i,o,n)}function l(){return r.map((function(t){return i[t]}))}function u(t,n,a){var s=J(t,n,!1,e),l=s.name;if(l){var u=o[l];if(!u)return h(null,s);var c=u.regex.keys.filter((function(t){return!t.optional})).map((function(t){return t.name}));if("object"!==typeof s.params&&(s.params={}),n&&"object"===typeof n.params)for(var f in n.params)!(f in s.params)&&c.indexOf(f)>-1&&(s.params[f]=n.params[f]);return s.path=Q(u.path,s.params,'named route "'+l+'"'),h(u,s,a)}if(s.path){s.params={};for(var d=0;d<r.length;d++){var p=r[d],v=i[p];if(pt(v.regex,s.path,s.params))return h(v,s,a)}}return h(null,s)}function c(t,n){var r=t.redirect,i="function"===typeof r?r(p(t,n,null,e)):r;if("string"===typeof i&&(i={path:i}),!i||"object"!==typeof i)return h(null,n);var a=i,s=a.name,l=a.path,c=n.query,f=n.hash,d=n.params;if(c=a.hasOwnProperty("query")?a.query:c,f=a.hasOwnProperty("hash")?a.hash:f,d=a.hasOwnProperty("params")?a.params:d,s){o[s];return u({_normalized:!0,name:s,query:c,hash:f,params:d},void 0,n)}if(l){var v=vt(l,t),g=Q(v,d,'redirect route with path "'+v+'"');return u({_normalized:!0,path:g,query:c,hash:f},void 0,n)}return h(null,n)}function f(t,e,n){var r=Q(n,e.params,'aliased route with path "'+n+'"'),i=u({_normalized:!0,path:r});if(i){var o=i.matched,a=o[o.length-1];return e.params=i.params,h(a,e)}return h(null,e)}function h(t,n,r){return t&&t.redirect?c(t,r||n):t&&t.matchAs?f(t,n,t.matchAs):p(t,n,r,e)}return{match:u,addRoute:s,getRoutes:l,addRoutes:a}}function pt(t,e,n){var r=e.match(t);if(!r)return!1;if(!n)return!0;for(var i=1,o=r.length;i<o;++i){var a=t.keys[i-1];a&&(n[a.name||"pathMatch"]="string"===typeof r[i]?l(r[i]):r[i])}return!0}function vt(t,e){return M(t,e.parent?e.parent.path:"/",!0)}var gt=lt&&window.performance&&window.performance.now?window.performance:Date;function yt(){return gt.now().toFixed(3)}var mt=yt();function bt(){return mt}function xt(t){return mt=t}var wt=Object.create(null);function _t(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,""),n=r({},window.history.state);return n.key=bt(),window.history.replaceState(n,"",e),window.addEventListener("popstate",St),function(){window.removeEventListener("popstate",St)}}function Ot(t,e,n,r){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick((function(){var o=Et(),a=i.call(t,e,n,r?o:null);a&&("function"===typeof a.then?a.then((function(t){Rt(t,o)})).catch((function(t){0})):Rt(a,o))}))}}function Ct(){var t=bt();t&&(wt[t]={x:window.pageXOffset,y:window.pageYOffset})}function St(t){Ct(),t.state&&t.state.key&&xt(t.state.key)}function Et(){var t=bt();if(t)return wt[t]}function Mt(t,e){var n=document.documentElement,r=n.getBoundingClientRect(),i=t.getBoundingClientRect();return{x:i.left-r.left-e.x,y:i.top-r.top-e.y}}function kt(t){return Lt(t.x)||Lt(t.y)}function Tt(t){return{x:Lt(t.x)?t.x:window.pageXOffset,y:Lt(t.y)?t.y:window.pageYOffset}}function At(t){return{x:Lt(t.x)?t.x:0,y:Lt(t.y)?t.y:0}}function Lt(t){return"number"===typeof t}var Pt=/^#\d/;function Rt(t,e){var n="object"===typeof t;if(n&&"string"===typeof t.selector){var r=Pt.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(r){var i=t.offset&&"object"===typeof t.offset?t.offset:{};i=At(i),e=Mt(r,i)}else kt(t)&&(e=Tt(t))}else n&&kt(t)&&(e=Tt(t));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:t.behavior}):window.scrollTo(e.x,e.y))}var It=lt&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"function"===typeof window.history.pushState)}();function jt(t,e){Ct();var n=window.history;try{if(e){var i=r({},n.state);i.key=bt(),n.replaceState(i,"",t)}else n.pushState({key:xt(yt())},"",t)}catch(o){window.location[e?"replace":"assign"](t)}}function Nt(t){jt(t,!0)}var Bt={redirected:2,aborted:4,cancelled:8,duplicated:16};function Dt(t,e){return Ht(t,e,Bt.redirected,'Redirected when going from "'+t.fullPath+'" to "'+Gt(e)+'" via a navigation guard.')}function Ft(t,e){var n=Ht(t,e,Bt.duplicated,'Avoided redundant navigation to current location: "'+t.fullPath+'".');return n.name="NavigationDuplicated",n}function zt(t,e){return Ht(t,e,Bt.cancelled,'Navigation cancelled from "'+t.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function Wt(t,e){return Ht(t,e,Bt.aborted,'Navigation aborted from "'+t.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}function Ht(t,e,n,r){var i=new Error(r);return i._isRouter=!0,i.from=t,i.to=e,i.type=n,i}var $t=["params","query","hash"];function Gt(t){if("string"===typeof t)return t;if("path"in t)return t.path;var e={};return $t.forEach((function(n){n in t&&(e[n]=t[n])})),JSON.stringify(e,null,2)}function Vt(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function Ut(t,e){return Vt(t)&&t._isRouter&&(null==e||t.type===e)}function Yt(t,e,n){var r=function(i){i>=t.length?n():t[i]?e(t[i],(function(){r(i+1)})):r(i+1)};r(0)}function qt(t){return function(e,n,r){var i=!1,o=0,a=null;Xt(t,(function(t,e,n,s){if("function"===typeof t&&void 0===t.cid){i=!0,o++;var l,u=Jt((function(e){Qt(e)&&(e=e.default),t.resolved="function"===typeof e?e:tt.extend(e),n.components[s]=e,o--,o<=0&&r()})),c=Jt((function(t){var e="Failed to resolve async component "+s+": "+t;a||(a=Vt(t)?t:new Error(e),r(a))}));try{l=t(u,c)}catch(h){c(h)}if(l)if("function"===typeof l.then)l.then(u,c);else{var f=l.component;f&&"function"===typeof f.then&&f.then(u,c)}}})),i||r()}}function Xt(t,e){return Kt(t.map((function(t){return Object.keys(t.components).map((function(n){return e(t.components[n],t.instances[n],t,n)}))})))}function Kt(t){return Array.prototype.concat.apply([],t)}var Zt="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Qt(t){return t.__esModule||Zt&&"Module"===t[Symbol.toStringTag]}function Jt(t){var e=!1;return function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];if(!e)return e=!0,t.apply(this,n)}}var te=function(t,e){this.router=t,this.base=ee(e),this.current=g,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function ee(t){if(!t)if(lt){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function ne(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r;n++)if(t[n]!==e[n])break;return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}function re(t,e,n,r){var i=Xt(t,(function(t,r,i,o){var a=ie(t,e);if(a)return Array.isArray(a)?a.map((function(t){return n(t,r,i,o)})):n(a,r,i,o)}));return Kt(r?i.reverse():i)}function ie(t,e){return"function"!==typeof t&&(t=tt.extend(t)),t.options[e]}function oe(t){return re(t,"beforeRouteLeave",se,!0)}function ae(t){return re(t,"beforeRouteUpdate",se)}function se(t,e){if(e)return function(){return t.apply(e,arguments)}}function le(t){return re(t,"beforeRouteEnter",(function(t,e,n,r){return ue(t,n,r)}))}function ue(t,e,n){return function(r,i,o){return t(r,i,(function(t){"function"===typeof t&&(e.enteredCbs[n]||(e.enteredCbs[n]=[]),e.enteredCbs[n].push(t)),o(t)}))}}te.prototype.listen=function(t){this.cb=t},te.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},te.prototype.onError=function(t){this.errorCbs.push(t)},te.prototype.transitionTo=function(t,e,n){var r,i=this;try{r=this.router.match(t,this.current)}catch(a){throw this.errorCbs.forEach((function(t){t(a)})),a}var o=this.current;this.confirmTransition(r,(function(){i.updateRoute(r),e&&e(r),i.ensureURL(),i.router.afterHooks.forEach((function(t){t&&t(r,o)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(t){t(r)})))}),(function(t){n&&n(t),t&&!i.ready&&(Ut(t,Bt.redirected)&&o===g||(i.ready=!0,i.readyErrorCbs.forEach((function(e){e(t)}))))}))},te.prototype.confirmTransition=function(t,e,n){var r=this,i=this.current;this.pending=t;var o=function(t){!Ut(t)&&Vt(t)&&(r.errorCbs.length?r.errorCbs.forEach((function(e){e(t)})):console.error(t)),n&&n(t)},a=t.matched.length-1,s=i.matched.length-1;if(b(t,i)&&a===s&&t.matched[a]===i.matched[s])return this.ensureURL(),t.hash&&Ot(this.router,i,t,!1),o(Ft(i,t));var l=ne(this.current.matched,t.matched),u=l.updated,c=l.deactivated,f=l.activated,h=[].concat(oe(c),this.router.beforeHooks,ae(u),f.map((function(t){return t.beforeEnter})),qt(f)),d=function(e,n){if(r.pending!==t)return o(zt(i,t));try{e(t,i,(function(e){!1===e?(r.ensureURL(!0),o(Wt(i,t))):Vt(e)?(r.ensureURL(!0),o(e)):"string"===typeof e||"object"===typeof e&&("string"===typeof e.path||"string"===typeof e.name)?(o(Dt(i,t)),"object"===typeof e&&e.replace?r.replace(e):r.push(e)):n(e)}))}catch(a){o(a)}};Yt(h,d,(function(){var n=le(f),a=n.concat(r.router.resolveHooks);Yt(a,d,(function(){if(r.pending!==t)return o(zt(i,t));r.pending=null,e(t),r.router.app&&r.router.app.$nextTick((function(){O(t)}))}))}))},te.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)},te.prototype.setupListeners=function(){},te.prototype.teardown=function(){this.listeners.forEach((function(t){t()})),this.listeners=[],this.current=g,this.pending=null};var ce=function(t){function e(e,n){t.call(this,e,n),this._startLocation=fe(this.base)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,r=It&&n;r&&this.listeners.push(_t());var i=function(){var n=t.current,i=fe(t.base);t.current===g&&i===t._startLocation||t.transitionTo(i,(function(t){r&&Ot(e,t,n,!0)}))};window.addEventListener("popstate",i),this.listeners.push((function(){window.removeEventListener("popstate",i)}))}},e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){jt(T(r.base+t.fullPath)),Ot(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){Nt(T(r.base+t.fullPath)),Ot(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.ensureURL=function(t){if(fe(this.base)!==this.current.fullPath){var e=T(this.base+this.current.fullPath);t?jt(e):Nt(e)}},e.prototype.getCurrentLocation=function(){return fe(this.base)},e}(te);function fe(t){var e=window.location.pathname,n=e.toLowerCase(),r=t.toLowerCase();return!t||n!==r&&0!==n.indexOf(T(r+"/"))||(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var he=function(t){function e(e,n,r){t.call(this,e,n),r&&de(this.base)||pe()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,r=It&&n;r&&this.listeners.push(_t());var i=function(){var e=t.current;pe()&&t.transitionTo(ve(),(function(n){r&&Ot(t.router,n,e,!0),It||me(n.fullPath)}))},o=It?"popstate":"hashchange";window.addEventListener(o,i),this.listeners.push((function(){window.removeEventListener(o,i)}))}},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){ye(t.fullPath),Ot(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){me(t.fullPath),Ot(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;ve()!==e&&(t?ye(e):me(e))},e.prototype.getCurrentLocation=function(){return ve()},e}(te);function de(t){var e=fe(t);if(!/^\/#/.test(e))return window.location.replace(T(t+"/#"+e)),!0}function pe(){var t=ve();return"/"===t.charAt(0)||(me("/"+t),!1)}function ve(){var t=window.location.href,e=t.indexOf("#");return e<0?"":(t=t.slice(e+1),t)}function ge(t){var e=window.location.href,n=e.indexOf("#"),r=n>=0?e.slice(0,n):e;return r+"#"+t}function ye(t){It?jt(ge(t)):window.location.hash=t}function me(t){It?Nt(ge(t)):window.location.replace(ge(t))}var be=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index+1).concat(t),r.index++,e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index).concat(t),e&&e(t)}),n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,(function(){var t=e.current;e.index=n,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,t)}))}),(function(t){Ut(t,Bt.duplicated)&&(e.index=n)}))}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(te),xe=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=dt(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!It&&!1!==t.fallback,this.fallback&&(e="hash"),lt||(e="abstract"),this.mode=e,e){case"history":this.history=new ce(this,t.base);break;case"hash":this.history=new he(this,t.base,this.fallback);break;case"abstract":this.history=new be(this,t.base);break;default:0}},we={currentRoute:{configurable:!0}};xe.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},we.currentRoute.get=function(){return this.history&&this.history.current},xe.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",(function(){var n=e.apps.indexOf(t);n>-1&&e.apps.splice(n,1),e.app===t&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=t;var n=this.history;if(n instanceof ce||n instanceof he){var r=function(t){var r=n.current,i=e.options.scrollBehavior,o=It&&i;o&&"fullPath"in t&&Ot(e,t,r,!1)},i=function(t){n.setupListeners(),r(t)};n.transitionTo(n.getCurrentLocation(),i,i)}n.listen((function(t){e.apps.forEach((function(e){e._route=t}))}))}},xe.prototype.beforeEach=function(t){return Oe(this.beforeHooks,t)},xe.prototype.beforeResolve=function(t){return Oe(this.resolveHooks,t)},xe.prototype.afterEach=function(t){return Oe(this.afterHooks,t)},xe.prototype.onReady=function(t,e){this.history.onReady(t,e)},xe.prototype.onError=function(t){this.history.onError(t)},xe.prototype.push=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise((function(e,n){r.history.push(t,e,n)}));this.history.push(t,e,n)},xe.prototype.replace=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise((function(e,n){r.history.replace(t,e,n)}));this.history.replace(t,e,n)},xe.prototype.go=function(t){this.history.go(t)},xe.prototype.back=function(){this.go(-1)},xe.prototype.forward=function(){this.go(1)},xe.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(t){return Object.keys(t.components).map((function(e){return t.components[e]}))}))):[]},xe.prototype.resolve=function(t,e,n){e=e||this.history.current;var r=J(t,e,n,this),i=this.match(r,e),o=i.redirectedFrom||i.fullPath,a=this.history.base,s=Ce(a,o,this.mode);return{location:r,route:i,href:s,normalizedTo:r,resolved:i}},xe.prototype.getRoutes=function(){return this.matcher.getRoutes()},xe.prototype.addRoute=function(t,e){this.matcher.addRoute(t,e),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},xe.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(xe.prototype,we);var _e=xe;function Oe(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function Ce(t,e,n){var r="hash"===n?"#"+e:e;return t?T(t+"/"+r):r}xe.install=st,xe.version="3.6.5",xe.isNavigationFailure=Ut,xe.NavigationFailureType=Bt,xe.START_LOCATION=g,lt&&window.Vue&&window.Vue.use(xe)},7195:function(t,e,n){"use strict";n.r(e),n.d(e,{EffectScope:function(){return ke},computed:function(){return ge},customRef:function(){return se},default:function(){return ro},defineAsyncComponent:function(){return er},defineComponent:function(){return mr},del:function(){return Wt},effectScope:function(){return Te},getCurrentInstance:function(){return gt},getCurrentScope:function(){return Le},h:function(){return Dn},inject:function(){return je},isProxy:function(){return Xt},isReactive:function(){return Ut},isReadonly:function(){return qt},isRef:function(){return Jt},isShallow:function(){return Yt},markRaw:function(){return Zt},mergeDefaults:function(){return Cn},nextTick:function(){return Qn},onActivated:function(){return cr},onBeforeMount:function(){return ir},onBeforeUnmount:function(){return lr},onBeforeUpdate:function(){return ar},onDeactivated:function(){return fr},onErrorCaptured:function(){return gr},onMounted:function(){return or},onRenderTracked:function(){return dr},onRenderTriggered:function(){return pr},onScopeDispose:function(){return Pe},onServerPrefetch:function(){return hr},onUnmounted:function(){return ur},onUpdated:function(){return sr},provide:function(){return Re},proxyRefs:function(){return oe},reactive:function(){return $t},readonly:function(){return he},ref:function(){return te},set:function(){return zt},shallowReactive:function(){return Gt},shallowReadonly:function(){return ve},shallowRef:function(){return ee},toRaw:function(){return Kt},toRef:function(){return ue},toRefs:function(){return le},triggerRef:function(){return re},unref:function(){return ie},useAttrs:function(){return wn},useCssModule:function(){return Jn},useCssVars:function(){return tr},useListeners:function(){return _n},useSlots:function(){return xn},version:function(){return yr},watch:function(){return Ee},watchEffect:function(){return we},watchPostEffect:function(){return _e},watchSyncEffect:function(){return Oe}});n(7658),n(4633);var r=Object.freeze({}),i=Array.isArray;function o(t){return void 0===t||null===t}function a(t){return void 0!==t&&null!==t}function s(t){return!0===t}function l(t){return!1===t}function u(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function c(t){return"function"===typeof t}function f(t){return null!==t&&"object"===typeof t}var h=Object.prototype.toString;function d(t){return"[object Object]"===h.call(t)}function p(t){return"[object RegExp]"===h.call(t)}function v(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function g(t){return a(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function y(t){return null==t?"":Array.isArray(t)||d(t)&&t.toString===h?JSON.stringify(t,null,2):String(t)}function m(t){var e=parseFloat(t);return isNaN(e)?t:e}function b(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}b("slot,component",!0);var x=b("key,ref,slot,slot-scope,is");function w(t,e){var n=t.length;if(n){if(e===t[n-1])return void(t.length=n-1);var r=t.indexOf(e);if(r>-1)return t.splice(r,1)}}var _=Object.prototype.hasOwnProperty;function O(t,e){return _.call(t,e)}function C(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}var S=/-(\w)/g,E=C((function(t){return t.replace(S,(function(t,e){return e?e.toUpperCase():""}))})),M=C((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),k=/\B([A-Z])/g,T=C((function(t){return t.replace(k,"-$1").toLowerCase()}));function A(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function L(t,e){return t.bind(e)}var P=Function.prototype.bind?L:A;function R(t,e){e=e||0;var n=t.length-e,r=new Array(n);while(n--)r[n]=t[n+e];return r}function I(t,e){for(var n in e)t[n]=e[n];return t}function j(t){for(var e={},n=0;n<t.length;n++)t[n]&&I(e,t[n]);return e}function N(t,e,n){}var B=function(t,e,n){return!1},D=function(t){return t};function F(t,e){if(t===e)return!0;var n=f(t),r=f(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every((function(t,n){return F(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every((function(n){return F(t[n],e[n])}))}catch(l){return!1}}function z(t,e){for(var n=0;n<t.length;n++)if(F(t[n],e))return n;return-1}function W(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function H(t,e){return t===e?0===t&&1/t!==1/e:t===t||e===e}var $="data-server-rendered",G=["component","directive","filter"],V=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],U={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:B,isReservedAttr:B,isUnknownElement:B,getTagNamespace:N,parsePlatformTagName:D,mustUseProp:B,async:!0,_lifecycleHooks:V},Y=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function q(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function X(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var K=new RegExp("[^".concat(Y.source,".$_\\d]"));function Z(t){if(!K.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var Q="__proto__"in{},J="undefined"!==typeof window,tt=J&&window.navigator.userAgent.toLowerCase(),et=tt&&/msie|trident/.test(tt),nt=tt&&tt.indexOf("msie 9.0")>0,rt=tt&&tt.indexOf("edge/")>0;tt&&tt.indexOf("android");var it=tt&&/iphone|ipad|ipod|ios/.test(tt);tt&&/chrome\/\d+/.test(tt),tt&&/phantomjs/.test(tt);var ot,at=tt&&tt.match(/firefox\/(\d+)/),st={}.watch,lt=!1;if(J)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){lt=!0}}),window.addEventListener("test-passive",null,ut)}catch(il){}var ct=function(){return void 0===ot&&(ot=!J&&"undefined"!==typeof n.g&&(n.g["process"]&&"server"===n.g["process"].env.VUE_ENV)),ot},ft=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ht(t){return"function"===typeof t&&/native code/.test(t.toString())}var dt,pt="undefined"!==typeof Symbol&&ht(Symbol)&&"undefined"!==typeof Reflect&&ht(Reflect.ownKeys);dt="undefined"!==typeof Set&&ht(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var vt=null;function gt(){return vt&&{proxy:vt}}function yt(t){void 0===t&&(t=null),t||vt&&vt._scope.off(),vt=t,t&&t._scope.on()}var mt=function(){function t(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(t.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),t}(),bt=function(t){void 0===t&&(t="");var e=new mt;return e.text=t,e.isComment=!0,e};function xt(t){return new mt(void 0,void 0,void 0,String(t))}function wt(t){var e=new mt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var _t=0,Ot=[],Ct=function(){for(var t=0;t<Ot.length;t++){var e=Ot[t];e.subs=e.subs.filter((function(t){return t})),e._pending=!1}Ot.length=0},St=function(){function t(){this._pending=!1,this.id=_t++,this.subs=[]}return t.prototype.addSub=function(t){this.subs.push(t)},t.prototype.removeSub=function(t){this.subs[this.subs.indexOf(t)]=null,this._pending||(this._pending=!0,Ot.push(this))},t.prototype.depend=function(e){t.target&&t.target.addDep(this)},t.prototype.notify=function(t){var e=this.subs.filter((function(t){return t}));for(var n=0,r=e.length;n<r;n++){var i=e[n];0,i.update()}},t}();St.target=null;var Et=[];function Mt(t){Et.push(t),St.target=t}function kt(){Et.pop(),St.target=Et[Et.length-1]}var Tt=Array.prototype,At=Object.create(Tt),Lt=["push","pop","shift","unshift","splice","sort","reverse"];Lt.forEach((function(t){var e=Tt[t];X(At,t,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&a.observeArray(i),a.dep.notify(),o}))}));var Pt=Object.getOwnPropertyNames(At),Rt={},It=!0;function jt(t){It=t}var Nt={notify:N,depend:N,addSub:N,removeSub:N},Bt=function(){function t(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),this.value=t,this.shallow=e,this.mock=n,this.dep=n?Nt:new St,this.vmCount=0,X(t,"__ob__",this),i(t)){if(!n)if(Q)t.__proto__=At;else for(var r=0,o=Pt.length;r<o;r++){var a=Pt[r];X(t,a,At[a])}e||this.observeArray(t)}else{var s=Object.keys(t);for(r=0;r<s.length;r++){a=s[r];Ft(t,a,Rt,void 0,e,n)}}}return t.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Dt(t[e],!1,this.mock)},t}();function Dt(t,e,n){return t&&O(t,"__ob__")&&t.__ob__ instanceof Bt?t.__ob__:!It||!n&&ct()||!i(t)&&!d(t)||!Object.isExtensible(t)||t.__v_skip||Jt(t)||t instanceof mt?void 0:new Bt(t,e,n)}function Ft(t,e,n,r,o,a){var s=new St,l=Object.getOwnPropertyDescriptor(t,e);if(!l||!1!==l.configurable){var u=l&&l.get,c=l&&l.set;u&&!c||n!==Rt&&2!==arguments.length||(n=t[e]);var f=!o&&Dt(n,!1,a);return Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=u?u.call(t):n;return St.target&&(s.depend(),f&&(f.dep.depend(),i(e)&&Ht(e))),Jt(e)&&!o?e.value:e},set:function(e){var r=u?u.call(t):n;if(H(r,e)){if(c)c.call(t,e);else{if(u)return;if(!o&&Jt(r)&&!Jt(e))return void(r.value=e);n=e}f=!o&&Dt(e,!1,a),s.notify()}}}),s}}function zt(t,e,n){if(!qt(t)){var r=t.__ob__;return i(t)&&v(e)?(t.length=Math.max(t.length,e),t.splice(e,1,n),r&&!r.shallow&&r.mock&&Dt(n,!1,!0),n):e in t&&!(e in Object.prototype)?(t[e]=n,n):t._isVue||r&&r.vmCount?n:r?(Ft(r.value,e,n,void 0,r.shallow,r.mock),r.dep.notify(),n):(t[e]=n,n)}}function Wt(t,e){if(i(t)&&v(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||qt(t)||O(t,e)&&(delete t[e],n&&n.dep.notify())}}function Ht(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),i(e)&&Ht(e)}function $t(t){return Vt(t,!1),t}function Gt(t){return Vt(t,!0),X(t,"__v_isShallow",!0),t}function Vt(t,e){if(!qt(t)){Dt(t,e,ct());0}}function Ut(t){return qt(t)?Ut(t["__v_raw"]):!(!t||!t.__ob__)}function Yt(t){return!(!t||!t.__v_isShallow)}function qt(t){return!(!t||!t.__v_isReadonly)}function Xt(t){return Ut(t)||qt(t)}function Kt(t){var e=t&&t["__v_raw"];return e?Kt(e):t}function Zt(t){return Object.isExtensible(t)&&X(t,"__v_skip",!0),t}var Qt="__v_isRef";function Jt(t){return!(!t||!0!==t.__v_isRef)}function te(t){return ne(t,!1)}function ee(t){return ne(t,!0)}function ne(t,e){if(Jt(t))return t;var n={};return X(n,Qt,!0),X(n,"__v_isShallow",e),X(n,"dep",Ft(n,"value",t,null,e,ct())),n}function re(t){t.dep&&t.dep.notify()}function ie(t){return Jt(t)?t.value:t}function oe(t){if(Ut(t))return t;for(var e={},n=Object.keys(t),r=0;r<n.length;r++)ae(e,t,n[r]);return e}function ae(t,e,n){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];if(Jt(t))return t.value;var r=t&&t.__ob__;return r&&r.dep.depend(),t},set:function(t){var r=e[n];Jt(r)&&!Jt(t)?r.value=t:e[n]=t}})}function se(t){var e=new St,n=t((function(){e.depend()}),(function(){e.notify()})),r=n.get,i=n.set,o={get value(){return r()},set value(t){i(t)}};return X(o,Qt,!0),o}function le(t){var e=i(t)?new Array(t.length):{};for(var n in t)e[n]=ue(t,n);return e}function ue(t,e,n){var r=t[e];if(Jt(r))return r;var i={get value(){var r=t[e];return void 0===r?n:r},set value(n){t[e]=n}};return X(i,Qt,!0),i}var ce="__v_rawToReadonly",fe="__v_rawToShallowReadonly";function he(t){return de(t,!1)}function de(t,e){if(!d(t))return t;if(qt(t))return t;var n=e?fe:ce,r=t[n];if(r)return r;var i=Object.create(Object.getPrototypeOf(t));X(t,n,i),X(i,"__v_isReadonly",!0),X(i,"__v_raw",t),Jt(t)&&X(i,Qt,!0),(e||Yt(t))&&X(i,"__v_isShallow",!0);for(var o=Object.keys(t),a=0;a<o.length;a++)pe(i,t,o[a],e);return i}function pe(t,e,n,r){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];return r||!d(t)?t:he(t)},set:function(){}})}function ve(t){return de(t,!0)}function ge(t,e){var n,r,i=c(t);i?(n=t,r=N):(n=t.get,r=t.set);var o=ct()?null:new Cr(vt,n,N,{lazy:!0});var a={effect:o,get value(){return o?(o.dirty&&o.evaluate(),St.target&&o.depend(),o.value):n()},set value(t){r(t)}};return X(a,Qt,!0),X(a,"__v_isReadonly",i),a}var ye="watcher",me="".concat(ye," callback"),be="".concat(ye," getter"),xe="".concat(ye," cleanup");function we(t,e){return Me(t,null,e)}function _e(t,e){return Me(t,null,{flush:"post"})}function Oe(t,e){return Me(t,null,{flush:"sync"})}var Ce,Se={};function Ee(t,e,n){return Me(t,e,n)}function Me(t,e,n){var o=void 0===n?r:n,a=o.immediate,s=o.deep,l=o.flush,u=void 0===l?"pre":l;o.onTrack,o.onTrigger;var f,h,d=vt,p=function(t,e,n){return void 0===n&&(n=null),zn(t,null,n,d,e)},v=!1,g=!1;if(Jt(t)?(f=function(){return t.value},v=Yt(t)):Ut(t)?(f=function(){return t.__ob__.dep.depend(),t},s=!0):i(t)?(g=!0,v=t.some((function(t){return Ut(t)||Yt(t)})),f=function(){return t.map((function(t){return Jt(t)?t.value:Ut(t)?xr(t):c(t)?p(t,be):void 0}))}):f=c(t)?e?function(){return p(t,be)}:function(){if(!d||!d._isDestroyed)return h&&h(),p(t,ye,[m])}:N,e&&s){var y=f;f=function(){return xr(y())}}var m=function(t){h=b.onStop=function(){p(t,xe)}};if(ct())return m=N,e?a&&p(e,me,[f(),g?[]:void 0,m]):f(),N;var b=new Cr(vt,f,N,{lazy:!0});b.noRecurse=!e;var x=g?[]:Se;return b.run=function(){if(b.active)if(e){var t=b.get();(s||v||(g?t.some((function(t,e){return H(t,x[e])})):H(t,x)))&&(h&&h(),p(e,me,[t,x===Se?void 0:x,m]),x=t)}else b.get()},"sync"===u?b.update=b.run:"post"===u?(b.post=!0,b.update=function(){return ni(b)}):b.update=function(){if(d&&d===vt&&!d._isMounted){var t=d._preWatchers||(d._preWatchers=[]);t.indexOf(b)<0&&t.push(b)}else ni(b)},e?a?b.run():x=b.get():"post"===u&&d?d.$once("hook:mounted",(function(){return b.get()})):b.get(),function(){b.teardown()}}var ke=function(){function t(t){void 0===t&&(t=!1),this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Ce,!t&&Ce&&(this.index=(Ce.scopes||(Ce.scopes=[])).push(this)-1)}return t.prototype.run=function(t){if(this.active){var e=Ce;try{return Ce=this,t()}finally{Ce=e}}else 0},t.prototype.on=function(){Ce=this},t.prototype.off=function(){Ce=this.parent},t.prototype.stop=function(t){if(this.active){var e=void 0,n=void 0;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].teardown();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},t}();function Te(t){return new ke(t)}function Ae(t,e){void 0===e&&(e=Ce),e&&e.active&&e.effects.push(t)}function Le(){return Ce}function Pe(t){Ce&&Ce.cleanups.push(t)}function Re(t,e){vt&&(Ie(vt)[t]=e)}function Ie(t){var e=t._provided,n=t.$parent&&t.$parent._provided;return n===e?t._provided=Object.create(n):e}function je(t,e,n){void 0===n&&(n=!1);var r=vt;if(r){var i=r.$parent&&r.$parent._provided;if(i&&t in i)return i[t];if(arguments.length>1)return n&&c(e)?e.call(r):e}else 0}var Ne=C((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}}));function Be(t,e){function n(){var t=n.fns;if(!i(t))return zn(t,null,arguments,e,"v-on handler");for(var r=t.slice(),o=0;o<r.length;o++)zn(r[o],null,arguments,e,"v-on handler")}return n.fns=t,n}function De(t,e,n,r,i,a){var l,u,c,f;for(l in t)u=t[l],c=e[l],f=Ne(l),o(u)||(o(c)?(o(u.fns)&&(u=t[l]=Be(u,a)),s(f.once)&&(u=t[l]=i(f.name,u,f.capture)),n(f.name,u,f.capture,f.passive,f.params)):u!==c&&(c.fns=u,t[l]=c));for(l in e)o(t[l])&&(f=Ne(l),r(f.name,e[l],f.capture))}function Fe(t,e,n){var r;t instanceof mt&&(t=t.data.hook||(t.data.hook={}));var i=t[e];function l(){n.apply(this,arguments),w(r.fns,l)}o(i)?r=Be([l]):a(i.fns)&&s(i.merged)?(r=i,r.fns.push(l)):r=Be([i,l]),r.merged=!0,t[e]=r}function ze(t,e,n){var r=e.options.props;if(!o(r)){var i={},s=t.attrs,l=t.props;if(a(s)||a(l))for(var u in r){var c=T(u);We(i,l,u,c,!0)||We(i,s,u,c,!1)}return i}}function We(t,e,n,r,i){if(a(e)){if(O(e,n))return t[n]=e[n],i||delete e[n],!0;if(O(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function He(t){for(var e=0;e<t.length;e++)if(i(t[e]))return Array.prototype.concat.apply([],t);return t}function $e(t){return u(t)?[xt(t)]:i(t)?Ve(t):void 0}function Ge(t){return a(t)&&a(t.text)&&l(t.isComment)}function Ve(t,e){var n,r,l,c,f=[];for(n=0;n<t.length;n++)r=t[n],o(r)||"boolean"===typeof r||(l=f.length-1,c=f[l],i(r)?r.length>0&&(r=Ve(r,"".concat(e||"","_").concat(n)),Ge(r[0])&&Ge(c)&&(f[l]=xt(c.text+r[0].text),r.shift()),f.push.apply(f,r)):u(r)?Ge(c)?f[l]=xt(c.text+r):""!==r&&f.push(xt(r)):Ge(r)&&Ge(c)?f[l]=xt(c.text+r.text):(s(t._isVList)&&a(r.tag)&&o(r.key)&&a(e)&&(r.key="__vlist".concat(e,"_").concat(n,"__")),f.push(r)));return f}function Ue(t,e){var n,r,o,s,l=null;if(i(t)||"string"===typeof t)for(l=new Array(t.length),n=0,r=t.length;n<r;n++)l[n]=e(t[n],n);else if("number"===typeof t)for(l=new Array(t),n=0;n<t;n++)l[n]=e(n+1,n);else if(f(t))if(pt&&t[Symbol.iterator]){l=[];var u=t[Symbol.iterator](),c=u.next();while(!c.done)l.push(e(c.value,l.length)),c=u.next()}else for(o=Object.keys(t),l=new Array(o.length),n=0,r=o.length;n<r;n++)s=o[n],l[n]=e(t[s],s,n);return a(l)||(l=[]),l._isVList=!0,l}function Ye(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=I(I({},r),n)),i=o(n)||(c(e)?e():e)):i=this.$slots[t]||(c(e)?e():e);var a=n&&n.slot;return a?this.$createElement("template",{slot:a},i):i}function qe(t){return Ai(this.$options,"filters",t,!0)||D}function Xe(t,e){return i(t)?-1===t.indexOf(e):t!==e}function Ke(t,e,n,r,i){var o=U.keyCodes[e]||n;return i&&r&&!U.keyCodes[e]?Xe(i,r):o?Xe(o,t):r?T(r)!==e:void 0===t}function Ze(t,e,n,r,o){if(n)if(f(n)){i(n)&&(n=j(n));var a=void 0,s=function(i){if("class"===i||"style"===i||x(i))a=t;else{var s=t.attrs&&t.attrs.type;a=r||U.mustUseProp(e,s,i)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var l=E(i),u=T(i);if(!(l in a)&&!(u in a)&&(a[i]=n[i],o)){var c=t.on||(t.on={});c["update:".concat(i)]=function(t){n[i]=t}}};for(var l in n)s(l)}else;return t}function Qe(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,this._c,this),tn(r,"__static__".concat(t),!1)),r}function Je(t,e,n){return tn(t,"__once__".concat(e).concat(n?"_".concat(n):""),!0),t}function tn(t,e,n){if(i(t))for(var r=0;r<t.length;r++)t[r]&&"string"!==typeof t[r]&&en(t[r],"".concat(e,"_").concat(r),n);else en(t,e,n)}function en(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function nn(t,e){if(e)if(d(e)){var n=t.on=t.on?I({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function rn(t,e,n,r){e=e||{$stable:!n};for(var o=0;o<t.length;o++){var a=t[o];i(a)?rn(a,e,n):a&&(a.proxy&&(a.fn.proxy=!0),e[a.key]=a.fn)}return r&&(e.$key=r),e}function on(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"===typeof r&&r&&(t[e[n]]=e[n+1])}return t}function an(t,e){return"string"===typeof t?e+t:t}function sn(t){t._o=Je,t._n=m,t._s=y,t._l=Ue,t._t=Ye,t._q=F,t._i=z,t._m=Qe,t._f=qe,t._k=Ke,t._b=Ze,t._v=xt,t._e=bt,t._u=rn,t._g=nn,t._d=on,t._p=an}function ln(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,l=n[s]||(n[s]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var u in n)n[u].every(un)&&delete n[u];return n}function un(t){return t.isComment&&!t.asyncFactory||" "===t.text}function cn(t){return t.isComment&&t.asyncFactory}function fn(t,e,n,i){var o,a=Object.keys(n).length>0,s=e?!!e.$stable:!a,l=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&i&&i!==r&&l===i.$key&&!a&&!i.$hasNormal)return i;for(var u in o={},e)e[u]&&"$"!==u[0]&&(o[u]=hn(t,n,u,e[u]))}else o={};for(var c in n)c in o||(o[c]=dn(n,c));return e&&Object.isExtensible(e)&&(e._normalized=o),X(o,"$stable",s),X(o,"$key",l),X(o,"$hasNormal",a),o}function hn(t,e,n,r){var o=function(){var e=vt;yt(t);var n=arguments.length?r.apply(null,arguments):r({});n=n&&"object"===typeof n&&!i(n)?[n]:$e(n);var o=n&&n[0];return yt(e),n&&(!o||1===n.length&&o.isComment&&!cn(o))?void 0:n};return r.proxy&&Object.defineProperty(e,n,{get:o,enumerable:!0,configurable:!0}),o}function dn(t,e){return function(){return t[e]}}function pn(t){var e=t.$options,n=e.setup;if(n){var r=t._setupContext=vn(t);yt(t),Mt();var i=zn(n,null,[t._props||Gt({}),r],t,"setup");if(kt(),yt(),c(i))e.render=i;else if(f(i))if(t._setupState=i,i.__sfc){var o=t._setupProxy={};for(var a in i)"__sfc"!==a&&ae(o,i,a)}else for(var a in i)q(a)||ae(t,i,a);else 0}}function vn(t){return{get attrs(){if(!t._attrsProxy){var e=t._attrsProxy={};X(e,"_v_attr_proxy",!0),gn(e,t.$attrs,r,t,"$attrs")}return t._attrsProxy},get listeners(){if(!t._listenersProxy){var e=t._listenersProxy={};gn(e,t.$listeners,r,t,"$listeners")}return t._listenersProxy},get slots(){return mn(t)},emit:P(t.$emit,t),expose:function(e){e&&Object.keys(e).forEach((function(n){return ae(t,e,n)}))}}}function gn(t,e,n,r,i){var o=!1;for(var a in e)a in t?e[a]!==n[a]&&(o=!0):(o=!0,yn(t,a,r,i));for(var a in t)a in e||(o=!0,delete t[a]);return o}function yn(t,e,n,r){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return n[r][e]}})}function mn(t){return t._slotsProxy||bn(t._slotsProxy={},t.$scopedSlots),t._slotsProxy}function bn(t,e){for(var n in e)t[n]=e[n];for(var n in t)n in e||delete t[n]}function xn(){return On().slots}function wn(){return On().attrs}function _n(){return On().listeners}function On(){var t=vt;return t._setupContext||(t._setupContext=vn(t))}function Cn(t,e){var n=i(t)?t.reduce((function(t,e){return t[e]={},t}),{}):t;for(var r in e){var o=n[r];o?i(o)||c(o)?n[r]={type:o,default:e[r]}:o.default=e[r]:null===o&&(n[r]={default:e[r]})}return n}function Sn(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,i=n&&n.context;t.$slots=ln(e._renderChildren,i),t.$scopedSlots=n?fn(t.$parent,n.data.scopedSlots,t.$slots):r,t._c=function(e,n,r,i){return In(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return In(t,e,n,r,i,!0)};var o=n&&n.data;Ft(t,"$attrs",o&&o.attrs||r,null,!0),Ft(t,"$listeners",e._parentListeners||r,null,!0)}var En=null;function Mn(t){sn(t.prototype),t.prototype.$nextTick=function(t){return Qn(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,o=n._parentVnode;o&&e._isMounted&&(e.$scopedSlots=fn(e.$parent,o.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&bn(e._slotsProxy,e.$scopedSlots)),e.$vnode=o;try{yt(e),En=e,t=r.call(e._renderProxy,e.$createElement)}catch(il){Fn(il,e,"render"),t=e._vnode}finally{En=null,yt()}return i(t)&&1===t.length&&(t=t[0]),t instanceof mt||(t=bt()),t.parent=o,t}}function kn(t,e){return(t.__esModule||pt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),f(t)?e.extend(t):t}function Tn(t,e,n,r,i){var o=bt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}function An(t,e){if(s(t.error)&&a(t.errorComp))return t.errorComp;if(a(t.resolved))return t.resolved;var n=En;if(n&&a(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),s(t.loading)&&a(t.loadingComp))return t.loadingComp;if(n&&!a(t.owners)){var r=t.owners=[n],i=!0,l=null,u=null;n.$on("hook:destroyed",(function(){return w(r,n)}));var c=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==l&&(clearTimeout(l),l=null),null!==u&&(clearTimeout(u),u=null))},h=W((function(n){t.resolved=kn(n,e),i?r.length=0:c(!0)})),d=W((function(e){a(t.errorComp)&&(t.error=!0,c(!0))})),p=t(h,d);return f(p)&&(g(p)?o(t.resolved)&&p.then(h,d):g(p.component)&&(p.component.then(h,d),a(p.error)&&(t.errorComp=kn(p.error,e)),a(p.loading)&&(t.loadingComp=kn(p.loading,e),0===p.delay?t.loading=!0:l=setTimeout((function(){l=null,o(t.resolved)&&o(t.error)&&(t.loading=!0,c(!1))}),p.delay||200)),a(p.timeout)&&(u=setTimeout((function(){u=null,o(t.resolved)&&d(null)}),p.timeout)))),i=!1,t.loading?t.loadingComp:t.resolved}}function Ln(t){if(i(t))for(var e=0;e<t.length;e++){var n=t[e];if(a(n)&&(a(n.componentOptions)||cn(n)))return n}}var Pn=1,Rn=2;function In(t,e,n,r,o,a){return(i(n)||u(n))&&(o=r,r=n,n=void 0),s(a)&&(o=Rn),jn(t,e,n,r,o)}function jn(t,e,n,r,o){if(a(n)&&a(n.__ob__))return bt();if(a(n)&&a(n.is)&&(e=n.is),!e)return bt();var s,l;if(i(r)&&c(r[0])&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===Rn?r=$e(r):o===Pn&&(r=He(r)),"string"===typeof e){var u=void 0;l=t.$vnode&&t.$vnode.ns||U.getTagNamespace(e),s=U.isReservedTag(e)?new mt(U.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!a(u=Ai(t.$options,"components",e))?new mt(e,n,r,void 0,void 0,t):di(u,n,t,r,e)}else s=di(e,n,t,r);return i(s)?s:a(s)?(a(l)&&Nn(s,l),a(n)&&Bn(n),s):bt()}function Nn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),a(t.children))for(var r=0,i=t.children.length;r<i;r++){var l=t.children[r];a(l.tag)&&(o(l.ns)||s(n)&&"svg"!==l.tag)&&Nn(l,e,n)}}function Bn(t){f(t.style)&&xr(t.style),f(t.class)&&xr(t.class)}function Dn(t,e,n){return In(vt,t,e,n,2,!0)}function Fn(t,e,n){Mt();try{if(e){var r=e;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var a=!1===i[o].call(r,t,e,n);if(a)return}catch(il){Wn(il,r,"errorCaptured hook")}}}Wn(t,e,n)}finally{kt()}}function zn(t,e,n,r,i){var o;try{o=n?t.apply(e,n):t.call(e),o&&!o._isVue&&g(o)&&!o._handled&&(o.catch((function(t){return Fn(t,r,i+" (Promise/async)")})),o._handled=!0)}catch(il){Fn(il,r,i)}return o}function Wn(t,e,n){if(U.errorHandler)try{return U.errorHandler.call(null,t,e,n)}catch(il){il!==t&&Hn(il,null,"config.errorHandler")}Hn(t,e,n)}function Hn(t,e,n){if(!J||"undefined"===typeof console)throw t;console.error(t)}var $n,Gn=!1,Vn=[],Un=!1;function Yn(){Un=!1;var t=Vn.slice(0);Vn.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ht(Promise)){var qn=Promise.resolve();$n=function(){qn.then(Yn),it&&setTimeout(N)},Gn=!0}else if(et||"undefined"===typeof MutationObserver||!ht(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())$n="undefined"!==typeof setImmediate&&ht(setImmediate)?function(){setImmediate(Yn)}:function(){setTimeout(Yn,0)};else{var Xn=1,Kn=new MutationObserver(Yn),Zn=document.createTextNode(String(Xn));Kn.observe(Zn,{characterData:!0}),$n=function(){Xn=(Xn+1)%2,Zn.data=String(Xn)},Gn=!0}function Qn(t,e){var n;if(Vn.push((function(){if(t)try{t.call(e)}catch(il){Fn(il,e,"nextTick")}else n&&n(e)})),Un||(Un=!0,$n()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){n=t}))}function Jn(t){if(void 0===t&&(t="$style"),!vt)return r;var e=vt[t];return e||r}function tr(t){if(J){var e=vt;e&&_e((function(){var n=e.$el,r=t(e,e._setupProxy);if(n&&1===n.nodeType){var i=n.style;for(var o in r)i.setProperty("--".concat(o),r[o])}}))}}function er(t){c(t)&&(t={loader:t});var e=t.loader,n=t.loadingComponent,r=t.errorComponent,i=t.delay,o=void 0===i?200:i,a=t.timeout,s=(t.suspensible,t.onError);var l=null,u=0,f=function(){return u++,l=null,h()},h=function(){var t;return l||(t=l=e().catch((function(t){if(t=t instanceof Error?t:new Error(String(t)),s)return new Promise((function(e,n){var r=function(){return e(f())},i=function(){return n(t)};s(t,r,i,u+1)}));throw t})).then((function(e){return t!==l&&l?l:(e&&(e.__esModule||"Module"===e[Symbol.toStringTag])&&(e=e.default),e)})))};return function(){var t=h();return{component:t,delay:o,timeout:a,error:r,loading:n}}}function nr(t){return function(e,n){if(void 0===n&&(n=vt),n)return rr(n,t,e)}}function rr(t,e,n){var r=t.$options;r[e]=_i(r[e],n)}var ir=nr("beforeMount"),or=nr("mounted"),ar=nr("beforeUpdate"),sr=nr("updated"),lr=nr("beforeDestroy"),ur=nr("destroyed"),cr=nr("activated"),fr=nr("deactivated"),hr=nr("serverPrefetch"),dr=nr("renderTracked"),pr=nr("renderTriggered"),vr=nr("errorCaptured");function gr(t,e){void 0===e&&(e=vt),vr(t,e)}var yr="2.7.14";function mr(t){return t}var br=new dt;function xr(t){return wr(t,br),br.clear(),t}function wr(t,e){var n,r,o=i(t);if(!(!o&&!f(t)||t.__v_skip||Object.isFrozen(t)||t instanceof mt)){if(t.__ob__){var a=t.__ob__.dep.id;if(e.has(a))return;e.add(a)}if(o){n=t.length;while(n--)wr(t[n],e)}else if(Jt(t))wr(t.value,e);else{r=Object.keys(t),n=r.length;while(n--)wr(t[r[n]],e)}}}var _r,Or=0,Cr=function(){function t(t,e,n,r,i){Ae(this,Ce&&!Ce._vm?Ce:t?t._scope:void 0),(this.vm=t)&&i&&(t._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Or,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new dt,this.newDepIds=new dt,this.expression="",c(e)?this.getter=e:(this.getter=Z(e),this.getter||(this.getter=N)),this.value=this.lazy?void 0:this.get()}return t.prototype.get=function(){var t;Mt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(il){if(!this.user)throw il;Fn(il,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&xr(t),kt(),this.cleanupDeps()}return t},t.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},t.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},t.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():ni(this)},t.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||f(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'.concat(this.expression,'"');zn(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},t.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},t.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},t.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&w(this.vm._scope.effects,this),this.active){var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},t}();function Sr(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Tr(t,e)}function Er(t,e){_r.$on(t,e)}function Mr(t,e){_r.$off(t,e)}function kr(t,e){var n=_r;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function Tr(t,e,n){_r=t,De(e,n||{},Er,Mr,kr,t),_r=void 0}function Ar(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(i(t))for(var o=0,a=t.length;o<a;o++)r.$on(t[o],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(i(t)){for(var r=0,o=t.length;r<o;r++)n.$off(t[r],e);return n}var a,s=n._events[t];if(!s)return n;if(!e)return n._events[t]=null,n;var l=s.length;while(l--)if(a=s[l],a===e||a.fn===e){s.splice(l,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?R(n):n;for(var r=R(arguments,1),i='event handler for "'.concat(t,'"'),o=0,a=n.length;o<a;o++)zn(n[o],e,r,e,i)}return e}}var Lr=null;function Pr(t){var e=Lr;return Lr=t,function(){Lr=e}}function Rr(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._provided=n?n._provided:Object.create(null),t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Ir(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=Pr(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n);var a=n;while(a&&a.$vnode&&a.$parent&&a.$vnode===a.$parent._vnode)a.$parent.$el=a.$el,a=a.$parent},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){zr(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||w(e.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),zr(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function jr(t,e,n){var r;t.$el=e,t.$options.render||(t.$options.render=bt),zr(t,"beforeMount"),r=function(){t._update(t._render(),n)};var i={before:function(){t._isMounted&&!t._isDestroyed&&zr(t,"beforeUpdate")}};new Cr(t,r,N,i,!0),n=!1;var o=t._preWatchers;if(o)for(var a=0;a<o.length;a++)o[a].run();return null==t.$vnode&&(t._isMounted=!0,zr(t,"mounted")),t}function Nr(t,e,n,i,o){var a=i.data.scopedSlots,s=t.$scopedSlots,l=!!(a&&!a.$stable||s!==r&&!s.$stable||a&&t.$scopedSlots.$key!==a.$key||!a&&t.$scopedSlots.$key),u=!!(o||t.$options._renderChildren||l),c=t.$vnode;t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=o;var f=i.data.attrs||r;t._attrsProxy&&gn(t._attrsProxy,f,c.data&&c.data.attrs||r,t,"$attrs")&&(u=!0),t.$attrs=f,n=n||r;var h=t.$options._parentListeners;if(t._listenersProxy&&gn(t._listenersProxy,n,h||r,t,"$listeners"),t.$listeners=t.$options._parentListeners=n,Tr(t,n,h),e&&t.$options.props){jt(!1);for(var d=t._props,p=t.$options._propKeys||[],v=0;v<p.length;v++){var g=p[v],y=t.$options.props;d[g]=Li(g,y,e,t)}jt(!0),t.$options.propsData=e}u&&(t.$slots=ln(o,i.context),t.$forceUpdate())}function Br(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Dr(t,e){if(e){if(t._directInactive=!1,Br(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Dr(t.$children[n]);zr(t,"activated")}}function Fr(t,e){if((!e||(t._directInactive=!0,!Br(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Fr(t.$children[n]);zr(t,"deactivated")}}function zr(t,e,n,r){void 0===r&&(r=!0),Mt();var i=vt;r&&yt(t);var o=t.$options[e],a="".concat(e," hook");if(o)for(var s=0,l=o.length;s<l;s++)zn(o[s],t,n||null,t,a);t._hasHookEvent&&t.$emit("hook:"+e),r&&yt(i),kt()}var Wr=[],Hr=[],$r={},Gr=!1,Vr=!1,Ur=0;function Yr(){Ur=Wr.length=Hr.length=0,$r={},Gr=Vr=!1}var qr=0,Xr=Date.now;if(J&&!et){var Kr=window.performance;Kr&&"function"===typeof Kr.now&&Xr()>document.createEvent("Event").timeStamp&&(Xr=function(){return Kr.now()})}var Zr=function(t,e){if(t.post){if(!e.post)return 1}else if(e.post)return-1;return t.id-e.id};function Qr(){var t,e;for(qr=Xr(),Vr=!0,Wr.sort(Zr),Ur=0;Ur<Wr.length;Ur++)t=Wr[Ur],t.before&&t.before(),e=t.id,$r[e]=null,t.run();var n=Hr.slice(),r=Wr.slice();Yr(),ei(n),Jr(r),Ct(),ft&&U.devtools&&ft.emit("flush")}function Jr(t){var e=t.length;while(e--){var n=t[e],r=n.vm;r&&r._watcher===n&&r._isMounted&&!r._isDestroyed&&zr(r,"updated")}}function ti(t){t._inactive=!1,Hr.push(t)}function ei(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Dr(t[e],!0)}function ni(t){var e=t.id;if(null==$r[e]&&(t!==St.target||!t.noRecurse)){if($r[e]=!0,Vr){var n=Wr.length-1;while(n>Ur&&Wr[n].id>t.id)n--;Wr.splice(n+1,0,t)}else Wr.push(t);Gr||(Gr=!0,Qn(Qr))}}function ri(t){var e=t.$options.provide;if(e){var n=c(e)?e.call(t):e;if(!f(n))return;for(var r=Ie(t),i=pt?Reflect.ownKeys(n):Object.keys(n),o=0;o<i.length;o++){var a=i[o];Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))}}}function ii(t){var e=oi(t.$options.inject,t);e&&(jt(!1),Object.keys(e).forEach((function(n){Ft(t,n,e[n])})),jt(!0))}function oi(t,e){if(t){for(var n=Object.create(null),r=pt?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var a=t[o].from;if(a in e._provided)n[o]=e._provided[a];else if("default"in t[o]){var s=t[o].default;n[o]=c(s)?s.call(e):s}else 0}}return n}}function ai(t,e,n,o,a){var l,u=this,c=a.options;O(o,"_uid")?(l=Object.create(o),l._original=o):(l=o,o=o._original);var f=s(c._compiled),h=!f;this.data=t,this.props=e,this.children=n,this.parent=o,this.listeners=t.on||r,this.injections=oi(c.inject,o),this.slots=function(){return u.$slots||fn(o,t.scopedSlots,u.$slots=ln(n,o)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return fn(o,t.scopedSlots,this.slots())}}),f&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=fn(o,t.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,e,n,r){var a=In(l,t,e,n,r,h);return a&&!i(a)&&(a.fnScopeId=c._scopeId,a.fnContext=o),a}:this._c=function(t,e,n,r){return In(l,t,e,n,r,h)}}function si(t,e,n,o,s){var l=t.options,u={},c=l.props;if(a(c))for(var f in c)u[f]=Li(f,c,e||r);else a(n.attrs)&&ui(u,n.attrs),a(n.props)&&ui(u,n.props);var h=new ai(n,u,s,o,t),d=l.render.call(null,h._c,h);if(d instanceof mt)return li(d,n,h.parent,l,h);if(i(d)){for(var p=$e(d)||[],v=new Array(p.length),g=0;g<p.length;g++)v[g]=li(p[g],n,h.parent,l,h);return v}}function li(t,e,n,r,i){var o=wt(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function ui(t,e){for(var n in e)t[E(n)]=e[n]}function ci(t){return t.name||t.__name||t._componentTag}sn(ai.prototype);var fi={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;fi.prepatch(n,n)}else{var r=t.componentInstance=pi(t,Lr);r.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,r=e.componentInstance=t.componentInstance;Nr(r,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,zr(n,"mounted")),t.data.keepAlive&&(e._isMounted?ti(n):Dr(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Fr(e,!0):e.$destroy())}},hi=Object.keys(fi);function di(t,e,n,r,i){if(!o(t)){var l=n.$options._base;if(f(t)&&(t=l.extend(t)),"function"===typeof t){var u;if(o(t.cid)&&(u=t,t=An(u,l),void 0===t))return Tn(u,e,n,r,i);e=e||{},eo(t),a(e.model)&&yi(t.options,e);var c=ze(e,t,i);if(s(t.options.functional))return si(t,c,e,n,r);var h=e.on;if(e.on=e.nativeOn,s(t.options.abstract)){var d=e.slot;e={},d&&(e.slot=d)}vi(e);var p=ci(t.options)||i,v=new mt("vue-component-".concat(t.cid).concat(p?"-".concat(p):""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:c,listeners:h,tag:i,children:r},u);return v}}}function pi(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return a(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function vi(t){for(var e=t.hook||(t.hook={}),n=0;n<hi.length;n++){var r=hi[n],i=e[r],o=fi[r];i===o||i&&i._merged||(e[r]=i?gi(o,i):o)}}function gi(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function yi(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var o=e.on||(e.on={}),s=o[r],l=e.model.callback;a(s)?(i(s)?-1===s.indexOf(l):s!==l)&&(o[r]=[l].concat(s)):o[r]=l}var mi=N,bi=U.optionMergeStrategies;function xi(t,e,n){if(void 0===n&&(n=!0),!e)return t;for(var r,i,o,a=pt?Reflect.ownKeys(e):Object.keys(e),s=0;s<a.length;s++)r=a[s],"__ob__"!==r&&(i=t[r],o=e[r],n&&O(t,r)?i!==o&&d(i)&&d(o)&&xi(i,o):zt(t,r,o));return t}function wi(t,e,n){return n?function(){var r=c(e)?e.call(n,n):e,i=c(t)?t.call(n,n):t;return r?xi(r,i):i}:e?t?function(){return xi(c(e)?e.call(this,this):e,c(t)?t.call(this,this):t)}:e:t}function _i(t,e){var n=e?t?t.concat(e):i(e)?e:[e]:t;return n?Oi(n):n}function Oi(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function Ci(t,e,n,r){var i=Object.create(t||null);return e?I(i,e):i}bi.data=function(t,e,n){return n?wi(t,e,n):e&&"function"!==typeof e?t:wi(t,e)},V.forEach((function(t){bi[t]=_i})),G.forEach((function(t){bi[t+"s"]=Ci})),bi.watch=function(t,e,n,r){if(t===st&&(t=void 0),e===st&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var o={};for(var a in I(o,t),e){var s=o[a],l=e[a];s&&!i(s)&&(s=[s]),o[a]=s?s.concat(l):i(l)?l:[l]}return o},bi.props=bi.methods=bi.inject=bi.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return I(i,t),e&&I(i,e),i},bi.provide=function(t,e){return t?function(){var n=Object.create(null);return xi(n,c(t)?t.call(this):t),e&&xi(n,c(e)?e.call(this):e,!1),n}:e};var Si=function(t,e){return void 0===e?t:e};function Ei(t,e){var n=t.props;if(n){var r,o,a,s={};if(i(n)){r=n.length;while(r--)o=n[r],"string"===typeof o&&(a=E(o),s[a]={type:null})}else if(d(n))for(var l in n)o=n[l],a=E(l),s[a]=d(o)?o:{type:o};else 0;t.props=s}}function Mi(t,e){var n=t.inject;if(n){var r=t.inject={};if(i(n))for(var o=0;o<n.length;o++)r[n[o]]={from:n[o]};else if(d(n))for(var a in n){var s=n[a];r[a]=d(s)?I({from:a},s):{from:s}}else 0}}function ki(t){var e=t.directives;if(e)for(var n in e){var r=e[n];c(r)&&(e[n]={bind:r,update:r})}}function Ti(t,e,n){if(c(e)&&(e=e.options),Ei(e,n),Mi(e,n),ki(e),!e._base&&(e.extends&&(t=Ti(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Ti(t,e.mixins[r],n);var o,a={};for(o in t)s(o);for(o in e)O(t,o)||s(o);function s(r){var i=bi[r]||Si;a[r]=i(t[r],e[r],n,r)}return a}function Ai(t,e,n,r){if("string"===typeof n){var i=t[e];if(O(i,n))return i[n];var o=E(n);if(O(i,o))return i[o];var a=M(o);if(O(i,a))return i[a];var s=i[n]||i[o]||i[a];return s}}function Li(t,e,n,r){var i=e[t],o=!O(n,t),a=n[t],s=Ni(Boolean,i.type);if(s>-1)if(o&&!O(i,"default"))a=!1;else if(""===a||a===T(t)){var l=Ni(String,i.type);(l<0||s<l)&&(a=!0)}if(void 0===a){a=Pi(r,i,t);var u=It;jt(!0),Dt(a),jt(u)}return a}function Pi(t,e,n){if(O(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:c(r)&&"Function"!==Ii(e.type)?r.call(t):r}}var Ri=/^\s*function (\w+)/;function Ii(t){var e=t&&t.toString().match(Ri);return e?e[1]:""}function ji(t,e){return Ii(t)===Ii(e)}function Ni(t,e){if(!i(e))return ji(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(ji(e[n],t))return n;return-1}var Bi={enumerable:!0,configurable:!0,get:N,set:N};function Di(t,e,n){Bi.get=function(){return this[e][n]},Bi.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Bi)}function Fi(t){var e=t.$options;if(e.props&&zi(t,e.props),pn(t),e.methods&&qi(t,e.methods),e.data)Wi(t);else{var n=Dt(t._data={});n&&n.vmCount++}e.computed&&Gi(t,e.computed),e.watch&&e.watch!==st&&Xi(t,e.watch)}function zi(t,e){var n=t.$options.propsData||{},r=t._props=Gt({}),i=t.$options._propKeys=[],o=!t.$parent;o||jt(!1);var a=function(o){i.push(o);var a=Li(o,e,n,t);Ft(r,o,a),o in t||Di(t,"_props",o)};for(var s in e)a(s);jt(!0)}function Wi(t){var e=t.$options.data;e=t._data=c(e)?Hi(e,t):e||{},d(e)||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);while(i--){var o=n[i];0,r&&O(r,o)||q(o)||Di(t,"_data",o)}var a=Dt(e);a&&a.vmCount++}function Hi(t,e){Mt();try{return t.call(e,e)}catch(il){return Fn(il,e,"data()"),{}}finally{kt()}}var $i={lazy:!0};function Gi(t,e){var n=t._computedWatchers=Object.create(null),r=ct();for(var i in e){var o=e[i],a=c(o)?o:o.get;0,r||(n[i]=new Cr(t,a||N,N,$i)),i in t||Vi(t,i,o)}}function Vi(t,e,n){var r=!ct();c(n)?(Bi.get=r?Ui(e):Yi(n),Bi.set=N):(Bi.get=n.get?r&&!1!==n.cache?Ui(e):Yi(n.get):N,Bi.set=n.set||N),Object.defineProperty(t,e,Bi)}function Ui(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),St.target&&e.depend(),e.value}}function Yi(t){return function(){return t.call(this,this)}}function qi(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?N:P(e[n],t)}function Xi(t,e){for(var n in e){var r=e[n];if(i(r))for(var o=0;o<r.length;o++)Ki(t,n,r[o]);else Ki(t,n,r)}}function Ki(t,e,n,r){return d(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,r)}function Zi(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=zt,t.prototype.$delete=Wt,t.prototype.$watch=function(t,e,n){var r=this;if(d(e))return Ki(r,t,e,n);n=n||{},n.user=!0;var i=new Cr(r,t,e,n);if(n.immediate){var o='callback for immediate watcher "'.concat(i.expression,'"');Mt(),zn(e,r,[i.value],r,o),kt()}return function(){i.teardown()}}}var Qi=0;function Ji(t){t.prototype._init=function(t){var e=this;e._uid=Qi++,e._isVue=!0,e.__v_skip=!0,e._scope=new ke(!0),e._scope._vm=!0,t&&t._isComponent?to(e,t):e.$options=Ti(eo(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Rr(e),Sr(e),Sn(e),zr(e,"beforeCreate",void 0,!1),ii(e),Fi(e),ri(e),zr(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function to(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function eo(t){var e=t.options;if(t.super){var n=eo(t.super),r=t.superOptions;if(n!==r){t.superOptions=n;var i=no(t);i&&I(t.extendOptions,i),e=t.options=Ti(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function no(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}function ro(t){this._init(t)}function io(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=R(arguments,1);return n.unshift(this),c(t.install)?t.install.apply(t,n):c(t)&&t.apply(null,n),e.push(t),this}}function oo(t){t.mixin=function(t){return this.options=Ti(this.options,t),this}}function ao(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=ci(t)||ci(n.options);var a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=Ti(n.options,t),a["super"]=n,a.options.props&&so(a),a.options.computed&&lo(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,G.forEach((function(t){a[t]=n[t]})),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=I({},a.options),i[r]=a,a}}function so(t){var e=t.options.props;for(var n in e)Di(t.prototype,"_props",n)}function lo(t){var e=t.options.computed;for(var n in e)Vi(t.prototype,n,e[n])}function uo(t){G.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&d(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&c(n)&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function co(t){return t&&(ci(t.Ctor.options)||t.tag)}function fo(t,e){return i(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!p(t)&&t.test(e)}function ho(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var a=n[o];if(a){var s=a.name;s&&!e(s)&&po(n,o,r,i)}}}function po(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,w(n,e)}Ji(ro),Zi(ro),Ar(ro),Ir(ro),Mn(ro);var vo=[String,RegExp,Array],go={name:"keep-alive",abstract:!0,props:{include:vo,exclude:vo,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,r=t.vnodeToCache,i=t.keyToCache;if(r){var o=r.tag,a=r.componentInstance,s=r.componentOptions;e[i]={name:co(s),tag:o,componentInstance:a},n.push(i),this.max&&n.length>parseInt(this.max)&&po(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)po(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){ho(t,(function(t){return fo(e,t)}))})),this.$watch("exclude",(function(e){ho(t,(function(t){return!fo(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=Ln(t),n=e&&e.componentOptions;if(n){var r=co(n),i=this,o=i.include,a=i.exclude;if(o&&(!r||!fo(o,r))||a&&r&&fo(a,r))return e;var s=this,l=s.cache,u=s.keys,c=null==e.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):e.key;l[c]?(e.componentInstance=l[c].componentInstance,w(u,c),u.push(c)):(this.vnodeToCache=e,this.keyToCache=c),e.data.keepAlive=!0}return e||t&&t[0]}},yo={KeepAlive:go};function mo(t){var e={get:function(){return U}};Object.defineProperty(t,"config",e),t.util={warn:mi,extend:I,mergeOptions:Ti,defineReactive:Ft},t.set=zt,t.delete=Wt,t.nextTick=Qn,t.observable=function(t){return Dt(t),t},t.options=Object.create(null),G.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,I(t.options.components,yo),io(t),oo(t),ao(t),uo(t)}mo(ro),Object.defineProperty(ro.prototype,"$isServer",{get:ct}),Object.defineProperty(ro.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(ro,"FunctionalRenderContext",{value:ai}),ro.version=yr;var bo=b("style,class"),xo=b("input,textarea,option,select,progress"),wo=function(t,e,n){return"value"===n&&xo(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},_o=b("contenteditable,draggable,spellcheck"),Oo=b("events,caret,typing,plaintext-only"),Co=function(t,e){return To(e)||"false"===e?"false":"contenteditable"===t&&Oo(e)?e:"true"},So=b("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Eo="http://www.w3.org/1999/xlink",Mo=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},ko=function(t){return Mo(t)?t.slice(6,t.length):""},To=function(t){return null==t||!1===t};function Ao(t){var e=t.data,n=t,r=t;while(a(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(e=Lo(r.data,e));while(a(n=n.parent))n&&n.data&&(e=Lo(e,n.data));return Po(e.staticClass,e.class)}function Lo(t,e){return{staticClass:Ro(t.staticClass,e.staticClass),class:a(t.class)?[t.class,e.class]:e.class}}function Po(t,e){return a(t)||a(e)?Ro(t,Io(e)):""}function Ro(t,e){return t?e?t+" "+e:t:e||""}function Io(t){return Array.isArray(t)?jo(t):f(t)?No(t):"string"===typeof t?t:""}function jo(t){for(var e,n="",r=0,i=t.length;r<i;r++)a(e=Io(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function No(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var Bo={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Do=b("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Fo=b("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),zo=function(t){return Do(t)||Fo(t)};function Wo(t){return Fo(t)?"svg":"math"===t?"math":void 0}var Ho=Object.create(null);function $o(t){if(!J)return!0;if(zo(t))return!1;if(t=t.toLowerCase(),null!=Ho[t])return Ho[t];var e=document.createElement(t);return t.indexOf("-")>-1?Ho[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Ho[t]=/HTMLUnknownElement/.test(e.toString())}var Go=b("text,number,password,search,email,tel,url");function Vo(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function Uo(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function Yo(t,e){return document.createElementNS(Bo[t],e)}function qo(t){return document.createTextNode(t)}function Xo(t){return document.createComment(t)}function Ko(t,e,n){t.insertBefore(e,n)}function Zo(t,e){t.removeChild(e)}function Qo(t,e){t.appendChild(e)}function Jo(t){return t.parentNode}function ta(t){return t.nextSibling}function ea(t){return t.tagName}function na(t,e){t.textContent=e}function ra(t,e){t.setAttribute(e,"")}var ia=Object.freeze({__proto__:null,createElement:Uo,createElementNS:Yo,createTextNode:qo,createComment:Xo,insertBefore:Ko,removeChild:Zo,appendChild:Qo,parentNode:Jo,nextSibling:ta,tagName:ea,setTextContent:na,setStyleScope:ra}),oa={create:function(t,e){aa(e)},update:function(t,e){t.data.ref!==e.data.ref&&(aa(t,!0),aa(e))},destroy:function(t){aa(t,!0)}};function aa(t,e){var n=t.data.ref;if(a(n)){var r=t.context,o=t.componentInstance||t.elm,s=e?null:o,l=e?void 0:o;if(c(n))zn(n,r,[s],r,"template ref function");else{var u=t.data.refInFor,f="string"===typeof n||"number"===typeof n,h=Jt(n),d=r.$refs;if(f||h)if(u){var p=f?d[n]:n.value;e?i(p)&&w(p,o):i(p)?p.includes(o)||p.push(o):f?(d[n]=[o],sa(r,n,d[n])):n.value=[o]}else if(f){if(e&&d[n]!==o)return;d[n]=l,sa(r,n,s)}else if(h){if(e&&n.value!==o)return;n.value=s}else 0}}}function sa(t,e,n){var r=t._setupState;r&&O(r,e)&&(Jt(r[e])?r[e].value=n:r[e]=n)}var la=new mt("",{},[]),ua=["create","activate","update","remove","destroy"];function ca(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&a(t.data)===a(e.data)&&fa(t,e)||s(t.isAsyncPlaceholder)&&o(e.asyncFactory.error))}function fa(t,e){if("input"!==t.tag)return!0;var n,r=a(n=t.data)&&a(n=n.attrs)&&n.type,i=a(n=e.data)&&a(n=n.attrs)&&n.type;return r===i||Go(r)&&Go(i)}function ha(t,e,n){var r,i,o={};for(r=e;r<=n;++r)i=t[r].key,a(i)&&(o[i]=r);return o}function da(t){var e,n,r={},l=t.modules,c=t.nodeOps;for(e=0;e<ua.length;++e)for(r[ua[e]]=[],n=0;n<l.length;++n)a(l[n][ua[e]])&&r[ua[e]].push(l[n][ua[e]]);function f(t){return new mt(c.tagName(t).toLowerCase(),{},[],void 0,t)}function h(t,e){function n(){0===--n.listeners&&d(t)}return n.listeners=e,n}function d(t){var e=c.parentNode(t);a(e)&&c.removeChild(e,t)}function p(t,e,n,r,i,o,l){if(a(t.elm)&&a(o)&&(t=o[l]=wt(t)),t.isRootInsert=!i,!v(t,e,n,r)){var u=t.data,f=t.children,h=t.tag;a(h)?(t.elm=t.ns?c.createElementNS(t.ns,h):c.createElement(h,t),O(t),x(t,f,e),a(u)&&_(t,e),m(n,t.elm,r)):s(t.isComment)?(t.elm=c.createComment(t.text),m(n,t.elm,r)):(t.elm=c.createTextNode(t.text),m(n,t.elm,r))}}function v(t,e,n,r){var i=t.data;if(a(i)){var o=a(t.componentInstance)&&i.keepAlive;if(a(i=i.hook)&&a(i=i.init)&&i(t,!1),a(t.componentInstance))return g(t,e),m(n,t.elm,r),s(o)&&y(t,e,n,r),!0}}function g(t,e){a(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,w(t)?(_(t,e),O(t)):(aa(t),e.push(t))}function y(t,e,n,i){var o,s=t;while(s.componentInstance)if(s=s.componentInstance._vnode,a(o=s.data)&&a(o=o.transition)){for(o=0;o<r.activate.length;++o)r.activate[o](la,s);e.push(s);break}m(n,t.elm,i)}function m(t,e,n){a(t)&&(a(n)?c.parentNode(n)===t&&c.insertBefore(t,e,n):c.appendChild(t,e))}function x(t,e,n){if(i(e)){0;for(var r=0;r<e.length;++r)p(e[r],n,t.elm,null,!0,e,r)}else u(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function w(t){while(t.componentInstance)t=t.componentInstance._vnode;return a(t.tag)}function _(t,n){for(var i=0;i<r.create.length;++i)r.create[i](la,t);e=t.data.hook,a(e)&&(a(e.create)&&e.create(la,t),a(e.insert)&&n.push(t))}function O(t){var e;if(a(e=t.fnScopeId))c.setStyleScope(t.elm,e);else{var n=t;while(n)a(e=n.context)&&a(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),n=n.parent}a(e=Lr)&&e!==t.context&&e!==t.fnContext&&a(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function C(t,e,n,r,i,o){for(;r<=i;++r)p(n[r],o,t,e,!1,n,r)}function S(t){var e,n,i=t.data;if(a(i))for(a(e=i.hook)&&a(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(a(e=t.children))for(n=0;n<t.children.length;++n)S(t.children[n])}function E(t,e,n){for(;e<=n;++e){var r=t[e];a(r)&&(a(r.tag)?(M(r),S(r)):d(r.elm))}}function M(t,e){if(a(e)||a(t.data)){var n,i=r.remove.length+1;for(a(e)?e.listeners+=i:e=h(t.elm,i),a(n=t.componentInstance)&&a(n=n._vnode)&&a(n.data)&&M(n,e),n=0;n<r.remove.length;++n)r.remove[n](t,e);a(n=t.data.hook)&&a(n=n.remove)?n(t,e):e()}else d(t.elm)}function k(t,e,n,r,i){var s,l,u,f,h=0,d=0,v=e.length-1,g=e[0],y=e[v],m=n.length-1,b=n[0],x=n[m],w=!i;while(h<=v&&d<=m)o(g)?g=e[++h]:o(y)?y=e[--v]:ca(g,b)?(A(g,b,r,n,d),g=e[++h],b=n[++d]):ca(y,x)?(A(y,x,r,n,m),y=e[--v],x=n[--m]):ca(g,x)?(A(g,x,r,n,m),w&&c.insertBefore(t,g.elm,c.nextSibling(y.elm)),g=e[++h],x=n[--m]):ca(y,b)?(A(y,b,r,n,d),w&&c.insertBefore(t,y.elm,g.elm),y=e[--v],b=n[++d]):(o(s)&&(s=ha(e,h,v)),l=a(b.key)?s[b.key]:T(b,e,h,v),o(l)?p(b,r,t,g.elm,!1,n,d):(u=e[l],ca(u,b)?(A(u,b,r,n,d),e[l]=void 0,w&&c.insertBefore(t,u.elm,g.elm)):p(b,r,t,g.elm,!1,n,d)),b=n[++d]);h>v?(f=o(n[m+1])?null:n[m+1].elm,C(t,f,n,d,m,r)):d>m&&E(e,h,v)}function T(t,e,n,r){for(var i=n;i<r;i++){var o=e[i];if(a(o)&&ca(t,o))return i}}function A(t,e,n,i,l,u){if(t!==e){a(e.elm)&&a(i)&&(e=i[l]=wt(e));var f=e.elm=t.elm;if(s(t.isAsyncPlaceholder))a(e.asyncFactory.resolved)?R(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(t.isStatic)&&e.key===t.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=t.componentInstance;else{var h,d=e.data;a(d)&&a(h=d.hook)&&a(h=h.prepatch)&&h(t,e);var p=t.children,v=e.children;if(a(d)&&w(e)){for(h=0;h<r.update.length;++h)r.update[h](t,e);a(h=d.hook)&&a(h=h.update)&&h(t,e)}o(e.text)?a(p)&&a(v)?p!==v&&k(f,p,v,n,u):a(v)?(a(t.text)&&c.setTextContent(f,""),C(f,null,v,0,v.length-1,n)):a(p)?E(p,0,p.length-1):a(t.text)&&c.setTextContent(f,""):t.text!==e.text&&c.setTextContent(f,e.text),a(d)&&a(h=d.hook)&&a(h=h.postpatch)&&h(t,e)}}}function L(t,e,n){if(s(n)&&a(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var P=b("attrs,class,staticClass,staticStyle,key");function R(t,e,n,r){var i,o=e.tag,l=e.data,u=e.children;if(r=r||l&&l.pre,e.elm=t,s(e.isComment)&&a(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(a(l)&&(a(i=l.hook)&&a(i=i.init)&&i(e,!0),a(i=e.componentInstance)))return g(e,n),!0;if(a(o)){if(a(u))if(t.hasChildNodes())if(a(i=l)&&a(i=i.domProps)&&a(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var c=!0,f=t.firstChild,h=0;h<u.length;h++){if(!f||!R(f,u[h],n,r)){c=!1;break}f=f.nextSibling}if(!c||f)return!1}else x(e,u,n);if(a(l)){var d=!1;for(var p in l)if(!P(p)){d=!0,_(e,n);break}!d&&l["class"]&&xr(l["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,i){if(!o(e)){var l=!1,u=[];if(o(t))l=!0,p(e,u);else{var h=a(t.nodeType);if(!h&&ca(t,e))A(t,e,u,null,null,i);else{if(h){if(1===t.nodeType&&t.hasAttribute($)&&(t.removeAttribute($),n=!0),s(n)&&R(t,e,u))return L(e,u,!0),t;t=f(t)}var d=t.elm,v=c.parentNode(d);if(p(e,u,d._leaveCb?null:v,c.nextSibling(d)),a(e.parent)){var g=e.parent,y=w(e);while(g){for(var m=0;m<r.destroy.length;++m)r.destroy[m](g);if(g.elm=e.elm,y){for(var b=0;b<r.create.length;++b)r.create[b](la,g);var x=g.data.hook.insert;if(x.merged)for(var _=1;_<x.fns.length;_++)x.fns[_]()}else aa(g);g=g.parent}}a(v)?E([t],0,0):a(t.tag)&&S(t)}}return L(e,u,l),e.elm}a(t)&&S(t)}}var pa={create:va,update:va,destroy:function(t){va(t,la)}};function va(t,e){(t.data.directives||e.data.directives)&&ga(t,e)}function ga(t,e){var n,r,i,o=t===la,a=e===la,s=ma(t.data.directives,t.context),l=ma(e.data.directives,e.context),u=[],c=[];for(n in l)r=s[n],i=l[n],r?(i.oldValue=r.value,i.oldArg=r.arg,xa(i,"update",e,t),i.def&&i.def.componentUpdated&&c.push(i)):(xa(i,"bind",e,t),i.def&&i.def.inserted&&u.push(i));if(u.length){var f=function(){for(var n=0;n<u.length;n++)xa(u[n],"inserted",e,t)};o?Fe(e,"insert",f):f()}if(c.length&&Fe(e,"postpatch",(function(){for(var n=0;n<c.length;n++)xa(c[n],"componentUpdated",e,t)})),!o)for(n in s)l[n]||xa(s[n],"unbind",t,t,a)}var ya=Object.create(null);function ma(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++){if(r=t[n],r.modifiers||(r.modifiers=ya),i[ba(r)]=r,e._setupState&&e._setupState.__sfc){var o=r.def||Ai(e,"_setupState","v-"+r.name);r.def="function"===typeof o?{bind:o,update:o}:o}r.def=r.def||Ai(e.$options,"directives",r.name,!0)}return i}function ba(t){return t.rawName||"".concat(t.name,".").concat(Object.keys(t.modifiers||{}).join("."))}function xa(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(il){Fn(il,n.context,"directive ".concat(t.name," ").concat(e," hook"))}}var wa=[oa,pa];function _a(t,e){var n=e.componentOptions;if((!a(n)||!1!==n.Ctor.options.inheritAttrs)&&(!o(t.data.attrs)||!o(e.data.attrs))){var r,i,l,u=e.elm,c=t.data.attrs||{},f=e.data.attrs||{};for(r in(a(f.__ob__)||s(f._v_attr_proxy))&&(f=e.data.attrs=I({},f)),f)i=f[r],l=c[r],l!==i&&Oa(u,r,i,e.data.pre);for(r in(et||rt)&&f.value!==c.value&&Oa(u,"value",f.value),c)o(f[r])&&(Mo(r)?u.removeAttributeNS(Eo,ko(r)):_o(r)||u.removeAttribute(r))}}function Oa(t,e,n,r){r||t.tagName.indexOf("-")>-1?Ca(t,e,n):So(e)?To(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):_o(e)?t.setAttribute(e,Co(e,n)):Mo(e)?To(n)?t.removeAttributeNS(Eo,ko(e)):t.setAttributeNS(Eo,e,n):Ca(t,e,n)}function Ca(t,e,n){if(To(n))t.removeAttribute(e);else{if(et&&!nt&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var Sa={create:_a,update:_a};function Ea(t,e){var n=e.elm,r=e.data,i=t.data;if(!(o(r.staticClass)&&o(r.class)&&(o(i)||o(i.staticClass)&&o(i.class)))){var s=Ao(e),l=n._transitionClasses;a(l)&&(s=Ro(s,Io(l))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var Ma,ka={create:Ea,update:Ea},Ta="__r",Aa="__c";function La(t){if(a(t[Ta])){var e=et?"change":"input";t[e]=[].concat(t[Ta],t[e]||[]),delete t[Ta]}a(t[Aa])&&(t.change=[].concat(t[Aa],t.change||[]),delete t[Aa])}function Pa(t,e,n){var r=Ma;return function i(){var o=e.apply(null,arguments);null!==o&&ja(t,i,n,r)}}var Ra=Gn&&!(at&&Number(at[1])<=53);function Ia(t,e,n,r){if(Ra){var i=qr,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Ma.addEventListener(t,e,lt?{capture:n,passive:r}:n)}function ja(t,e,n,r){(r||Ma).removeEventListener(t,e._wrapper||e,n)}function Na(t,e){if(!o(t.data.on)||!o(e.data.on)){var n=e.data.on||{},r=t.data.on||{};Ma=e.elm||t.elm,La(n),De(n,r,Ia,ja,Pa,e.context),Ma=void 0}}var Ba,Da={create:Na,update:Na,destroy:function(t){return Na(t,la)}};function Fa(t,e){if(!o(t.data.domProps)||!o(e.data.domProps)){var n,r,i=e.elm,l=t.data.domProps||{},u=e.data.domProps||{};for(n in(a(u.__ob__)||s(u._v_attr_proxy))&&(u=e.data.domProps=I({},u)),l)n in u||(i[n]="");for(n in u){if(r=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===l[n])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===n&&"PROGRESS"!==i.tagName){i._value=r;var c=o(r)?"":String(r);za(i,c)&&(i.value=c)}else if("innerHTML"===n&&Fo(i.tagName)&&o(i.innerHTML)){Ba=Ba||document.createElement("div"),Ba.innerHTML="<svg>".concat(r,"</svg>");var f=Ba.firstChild;while(i.firstChild)i.removeChild(i.firstChild);while(f.firstChild)i.appendChild(f.firstChild)}else if(r!==l[n])try{i[n]=r}catch(il){}}}}function za(t,e){return!t.composing&&("OPTION"===t.tagName||Wa(t,e)||Ha(t,e))}function Wa(t,e){var n=!0;try{n=document.activeElement!==t}catch(il){}return n&&t.value!==e}function Ha(t,e){var n=t.value,r=t._vModifiers;if(a(r)){if(r.number)return m(n)!==m(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}var $a={create:Fa,update:Fa},Ga=C((function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function Va(t){var e=Ua(t.style);return t.staticStyle?I(t.staticStyle,e):e}function Ua(t){return Array.isArray(t)?j(t):"string"===typeof t?Ga(t):t}function Ya(t,e){var n,r={};if(e){var i=t;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=Va(i.data))&&I(r,n)}(n=Va(t.data))&&I(r,n);var o=t;while(o=o.parent)o.data&&(n=Va(o.data))&&I(r,n);return r}var qa,Xa=/^--/,Ka=/\s*!important$/,Za=function(t,e,n){if(Xa.test(e))t.style.setProperty(e,n);else if(Ka.test(n))t.style.setProperty(T(e),n.replace(Ka,""),"important");else{var r=Ja(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},Qa=["Webkit","Moz","ms"],Ja=C((function(t){if(qa=qa||document.createElement("div").style,t=E(t),"filter"!==t&&t in qa)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Qa.length;n++){var r=Qa[n]+e;if(r in qa)return r}}));function ts(t,e){var n=e.data,r=t.data;if(!(o(n.staticStyle)&&o(n.style)&&o(r.staticStyle)&&o(r.style))){var i,s,l=e.elm,u=r.staticStyle,c=r.normalizedStyle||r.style||{},f=u||c,h=Ua(e.data.style)||{};e.data.normalizedStyle=a(h.__ob__)?I({},h):h;var d=Ya(e,!0);for(s in f)o(d[s])&&Za(l,s,"");for(s in d)i=d[s],i!==f[s]&&Za(l,s,null==i?"":i)}}var es={create:ts,update:ts},ns=/\s+/;function rs(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ns).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" ".concat(t.getAttribute("class")||""," ");n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function is(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ns).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" ".concat(t.getAttribute("class")||""," "),r=" "+e+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function os(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&I(e,as(t.name||"v")),I(e,t),e}return"string"===typeof t?as(t):void 0}}var as=C((function(t){return{enterClass:"".concat(t,"-enter"),enterToClass:"".concat(t,"-enter-to"),enterActiveClass:"".concat(t,"-enter-active"),leaveClass:"".concat(t,"-leave"),leaveToClass:"".concat(t,"-leave-to"),leaveActiveClass:"".concat(t,"-leave-active")}})),ss=J&&!nt,ls="transition",us="animation",cs="transition",fs="transitionend",hs="animation",ds="animationend";ss&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(cs="WebkitTransition",fs="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(hs="WebkitAnimation",ds="webkitAnimationEnd"));var ps=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function vs(t){ps((function(){ps(t)}))}function gs(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),rs(t,e))}function ys(t,e){t._transitionClasses&&w(t._transitionClasses,e),is(t,e)}function ms(t,e,n){var r=xs(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===ls?fs:ds,l=0,u=function(){t.removeEventListener(s,c),n()},c=function(e){e.target===t&&++l>=a&&u()};setTimeout((function(){l<a&&u()}),o+1),t.addEventListener(s,c)}var bs=/\b(transform|all)(,|$)/;function xs(t,e){var n,r=window.getComputedStyle(t),i=(r[cs+"Delay"]||"").split(", "),o=(r[cs+"Duration"]||"").split(", "),a=ws(i,o),s=(r[hs+"Delay"]||"").split(", "),l=(r[hs+"Duration"]||"").split(", "),u=ws(s,l),c=0,f=0;e===ls?a>0&&(n=ls,c=a,f=o.length):e===us?u>0&&(n=us,c=u,f=l.length):(c=Math.max(a,u),n=c>0?a>u?ls:us:null,f=n?n===ls?o.length:l.length:0);var h=n===ls&&bs.test(r[cs+"Property"]);return{type:n,timeout:c,propCount:f,hasTransform:h}}function ws(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return _s(e)+_s(t[n])})))}function _s(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Os(t,e){var n=t.elm;a(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=os(t.data.transition);if(!o(r)&&!a(n._enterCb)&&1===n.nodeType){var i=r.css,s=r.type,l=r.enterClass,u=r.enterToClass,h=r.enterActiveClass,d=r.appearClass,p=r.appearToClass,v=r.appearActiveClass,g=r.beforeEnter,y=r.enter,b=r.afterEnter,x=r.enterCancelled,w=r.beforeAppear,_=r.appear,O=r.afterAppear,C=r.appearCancelled,S=r.duration,E=Lr,M=Lr.$vnode;while(M&&M.parent)E=M.context,M=M.parent;var k=!E._isMounted||!t.isRootInsert;if(!k||_||""===_){var T=k&&d?d:l,A=k&&v?v:h,L=k&&p?p:u,P=k&&w||g,R=k&&c(_)?_:y,I=k&&O||b,j=k&&C||x,N=m(f(S)?S.enter:S);0;var B=!1!==i&&!nt,D=Es(R),F=n._enterCb=W((function(){B&&(ys(n,L),ys(n,A)),F.cancelled?(B&&ys(n,T),j&&j(n)):I&&I(n),n._enterCb=null}));t.data.show||Fe(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),R&&R(n,F)})),P&&P(n),B&&(gs(n,T),gs(n,A),vs((function(){ys(n,T),F.cancelled||(gs(n,L),D||(Ss(N)?setTimeout(F,N):ms(n,s,F)))}))),t.data.show&&(e&&e(),R&&R(n,F)),B||D||F()}}}function Cs(t,e){var n=t.elm;a(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=os(t.data.transition);if(o(r)||1!==n.nodeType)return e();if(!a(n._leaveCb)){var i=r.css,s=r.type,l=r.leaveClass,u=r.leaveToClass,c=r.leaveActiveClass,h=r.beforeLeave,d=r.leave,p=r.afterLeave,v=r.leaveCancelled,g=r.delayLeave,y=r.duration,b=!1!==i&&!nt,x=Es(d),w=m(f(y)?y.leave:y);0;var _=n._leaveCb=W((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),b&&(ys(n,u),ys(n,c)),_.cancelled?(b&&ys(n,l),v&&v(n)):(e(),p&&p(n)),n._leaveCb=null}));g?g(O):O()}function O(){_.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),h&&h(n),b&&(gs(n,l),gs(n,c),vs((function(){ys(n,l),_.cancelled||(gs(n,u),x||(Ss(w)?setTimeout(_,w):ms(n,s,_)))}))),d&&d(n,_),b||x||_())}}function Ss(t){return"number"===typeof t&&!isNaN(t)}function Es(t){if(o(t))return!1;var e=t.fns;return a(e)?Es(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Ms(t,e){!0!==e.data.show&&Os(e)}var ks=J?{create:Ms,activate:Ms,remove:function(t,e){!0!==t.data.show?Cs(t,e):e()}}:{},Ts=[Sa,ka,Da,$a,es,ks],As=Ts.concat(wa),Ls=da({nodeOps:ia,modules:As});nt&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&Fs(t,"input")}));var Ps={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?Fe(n,"postpatch",(function(){Ps.componentUpdated(t,e,n)})):Rs(t,e,n.context),t._vOptions=[].map.call(t.options,Ns)):("textarea"===n.tag||Go(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Bs),t.addEventListener("compositionend",Ds),t.addEventListener("change",Ds),nt&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Rs(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,Ns);if(i.some((function(t,e){return!F(t,r[e])}))){var o=t.multiple?e.value.some((function(t){return js(t,i)})):e.value!==e.oldValue&&js(e.value,i);o&&Fs(t,"change")}}}};function Rs(t,e,n){Is(t,e,n),(et||rt)&&setTimeout((function(){Is(t,e,n)}),0)}function Is(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,l=t.options.length;s<l;s++)if(a=t.options[s],i)o=z(r,Ns(a))>-1,a.selected!==o&&(a.selected=o);else if(F(Ns(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function js(t,e){return e.every((function(e){return!F(e,t)}))}function Ns(t){return"_value"in t?t._value:t.value}function Bs(t){t.target.composing=!0}function Ds(t){t.target.composing&&(t.target.composing=!1,Fs(t.target,"input"))}function Fs(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function zs(t){return!t.componentInstance||t.data&&t.data.transition?t:zs(t.componentInstance._vnode)}var Ws={bind:function(t,e,n){var r=e.value;n=zs(n);var i=n.data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,Os(n,(function(){t.style.display=o}))):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value,i=e.oldValue;if(!r!==!i){n=zs(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,r?Os(n,(function(){t.style.display=t.__vOriginalDisplay})):Cs(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}},Hs={model:Ps,show:Ws},$s={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Gs(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Gs(Ln(e.children)):t}function Vs(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var r in i)e[E(r)]=i[r];return e}function Us(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Ys(t){while(t=t.parent)if(t.data.transition)return!0}function qs(t,e){return e.key===t.key&&e.tag===t.tag}var Xs=function(t){return t.tag||cn(t)},Ks=function(t){return"show"===t.name},Zs={name:"transition",props:$s,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Xs),n.length)){0;var r=this.mode;0;var i=n[0];if(Ys(this.$vnode))return i;var o=Gs(i);if(!o)return i;if(this._leaving)return Us(t,i);var a="__transition-".concat(this._uid,"-");o.key=null==o.key?o.isComment?a+"comment":a+o.tag:u(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var s=(o.data||(o.data={})).transition=Vs(this),l=this._vnode,c=Gs(l);if(o.data.directives&&o.data.directives.some(Ks)&&(o.data.show=!0),c&&c.data&&!qs(o,c)&&!cn(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var f=c.data.transition=I({},s);if("out-in"===r)return this._leaving=!0,Fe(f,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Us(t,i);if("in-out"===r){if(cn(o))return l;var h,d=function(){h()};Fe(s,"afterEnter",d),Fe(s,"enterCancelled",d),Fe(f,"delayLeave",(function(t){h=t}))}}return i}}},Qs=I({tag:String,moveClass:String},$s);delete Qs.mode;var Js={props:Qs,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=Pr(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=Vs(this),s=0;s<i.length;s++){var l=i[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=a;else;}if(r){var u=[],c=[];for(s=0;s<r.length;s++){l=r[s];l.data.transition=a,l.data.pos=l.elm.getBoundingClientRect(),n[l.key]?u.push(l):c.push(l)}this.kept=t(e,null,u),this.removed=c}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(tl),t.forEach(el),t.forEach(nl),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;gs(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(fs,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(fs,t),n._moveCb=null,ys(n,e))})}})))},methods:{hasMove:function(t,e){if(!ss)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){is(n,t)})),rs(n,e),n.style.display="none",this.$el.appendChild(n);var r=xs(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function tl(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function el(t){t.data.newPos=t.elm.getBoundingClientRect()}function nl(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate(".concat(r,"px,").concat(i,"px)"),o.transitionDuration="0s"}}var rl={Transition:Zs,TransitionGroup:Js};ro.config.mustUseProp=wo,ro.config.isReservedTag=zo,ro.config.isReservedAttr=bo,ro.config.getTagNamespace=Wo,ro.config.isUnknownElement=$o,I(ro.options.directives,Hs),I(ro.options.components,rl),ro.prototype.__patch__=J?Ls:N,ro.prototype.$mount=function(t,e){return t=t&&J?Vo(t):void 0,jr(this,t,e)},J&&setTimeout((function(){U.devtools&&ft&&ft.emit("init",ro)}),0)},408:function(t,e,n){"use strict";n(7658);
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function r(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:r});else{var n=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[r].concat(t.init):r,n.call(this,t)}}function r(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}var i="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{},o=i.__VUE_DEVTOOLS_GLOBAL_HOOK__;function a(t){o&&(t._devtoolHook=o,o.emit("vuex:init",t),o.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){o.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){o.emit("vuex:action",t,e)}),{prepend:!0}))}function s(t,e){return t.filter(e)[0]}function l(t,e){if(void 0===e&&(e=[]),null===t||"object"!==typeof t)return t;var n=s(e,(function(e){return e.original===t}));if(n)return n.copy;var r=Array.isArray(t)?[]:{};return e.push({original:t,copy:r}),Object.keys(t).forEach((function(n){r[n]=l(t[n],e)})),r}function u(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function c(t){return null!==t&&"object"===typeof t}function f(t){return t&&"function"===typeof t.then}function h(t,e){return function(){return t(e)}}var d=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},p={namespaced:{configurable:!0}};p.namespaced.get=function(){return!!this._rawModule.namespaced},d.prototype.addChild=function(t,e){this._children[t]=e},d.prototype.removeChild=function(t){delete this._children[t]},d.prototype.getChild=function(t){return this._children[t]},d.prototype.hasChild=function(t){return t in this._children},d.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},d.prototype.forEachChild=function(t){u(this._children,t)},d.prototype.forEachGetter=function(t){this._rawModule.getters&&u(this._rawModule.getters,t)},d.prototype.forEachAction=function(t){this._rawModule.actions&&u(this._rawModule.actions,t)},d.prototype.forEachMutation=function(t){this._rawModule.mutations&&u(this._rawModule.mutations,t)},Object.defineProperties(d.prototype,p);var v=function(t){this.register([],t,!1)};function g(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return void 0;g(t.concat(r),e.getChild(r),n.modules[r])}}v.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},v.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")}),"")},v.prototype.update=function(t){g([],this.root,t)},v.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new d(e,n);if(0===t.length)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}e.modules&&u(e.modules,(function(e,i){r.register(t.concat(i),e,n)}))},v.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],r=e.getChild(n);r&&r.runtime&&e.removeChild(n)},v.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var y;var m=function(t){var e=this;void 0===t&&(t={}),!y&&"undefined"!==typeof window&&window.Vue&&P(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new v(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new y,this._makeLocalGettersCache=Object.create(null);var i=this,o=this,s=o.dispatch,l=o.commit;this.dispatch=function(t,e){return s.call(i,t,e)},this.commit=function(t,e,n){return l.call(i,t,e,n)},this.strict=r;var u=this._modules.root.state;O(this,u,[],this._modules.root),_(this,u),n.forEach((function(t){return t(e)}));var c=void 0!==t.devtools?t.devtools:y.config.devtools;c&&a(this)},b={state:{configurable:!0}};function x(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function w(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;O(t,n,[],t._modules.root,!0),_(t,n,e)}function _(t,e,n){var r=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={};u(i,(function(e,n){o[n]=h(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var a=y.config.silent;y.config.silent=!0,t._vm=new y({data:{$$state:e},computed:o}),y.config.silent=a,t.strict&&T(t),r&&(n&&t._withCommit((function(){r._data.$$state=null})),y.nextTick((function(){return r.$destroy()})))}function O(t,e,n,r,i){var o=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=r),!o&&!i){var s=A(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit((function(){y.set(s,l,r.state)}))}var u=r.context=C(t,a,n);r.forEachMutation((function(e,n){var r=a+n;E(t,r,e,u)})),r.forEachAction((function(e,n){var r=e.root?n:a+n,i=e.handler||e;M(t,r,i,u)})),r.forEachGetter((function(e,n){var r=a+n;k(t,r,e,u)})),r.forEachChild((function(r,o){O(t,e,n.concat(o),r,i)}))}function C(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var o=L(n,r,i),a=o.payload,s=o.options,l=o.type;return s&&s.root||(l=e+l),t.dispatch(l,a)},commit:r?t.commit:function(n,r,i){var o=L(n,r,i),a=o.payload,s=o.options,l=o.type;s&&s.root||(l=e+l),t.commit(l,a,s)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return S(t,e)}},state:{get:function(){return A(t.state,n)}}}),i}function S(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function E(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push((function(e){n.call(t,r.state,e)}))}function M(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push((function(e){var i=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return f(i)||(i=Promise.resolve(i)),t._devtoolHook?i.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):i}))}function k(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)})}function T(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function A(t,e){return e.reduce((function(t,e){return t[e]}),t)}function L(t,e,n){return c(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function P(t){y&&t===y||(y=t,r(y))}b.state.get=function(){return this._vm._data.$$state},b.state.set=function(t){0},m.prototype.commit=function(t,e,n){var r=this,i=L(t,e,n),o=i.type,a=i.payload,s=(i.options,{type:o,payload:a}),l=this._mutations[o];l&&(this._withCommit((function(){l.forEach((function(t){t(a)}))})),this._subscribers.slice().forEach((function(t){return t(s,r.state)})))},m.prototype.dispatch=function(t,e){var n=this,r=L(t,e),i=r.type,o=r.payload,a={type:i,payload:o},s=this._actions[i];if(s){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(a,n.state)}))}catch(u){0}var l=s.length>1?Promise.all(s.map((function(t){return t(o)}))):s[0](o);return new Promise((function(t,e){l.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(a,n.state)}))}catch(u){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(a,n.state,t)}))}catch(u){0}e(t)}))}))}},m.prototype.subscribe=function(t,e){return x(t,this._subscribers,e)},m.prototype.subscribeAction=function(t,e){var n="function"===typeof t?{before:t}:t;return x(n,this._actionSubscribers,e)},m.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch((function(){return t(r.state,r.getters)}),e,n)},m.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},m.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),O(this,this.state,t,this._modules.get(t),n.preserveState),_(this,this.state)},m.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=A(e.state,t.slice(0,-1));y.delete(n,t[t.length-1])})),w(this)},m.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},m.prototype.hotUpdate=function(t){this._modules.update(t),w(this,!0)},m.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(m.prototype,b);var R=z((function(t,e){var n={};return D(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=W(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,e,n):e[i]},n[r].vuex=!0})),n})),I=z((function(t,e){var n={};return D(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.commit;if(t){var o=W(this.$store,"mapMutations",t);if(!o)return;r=o.context.commit}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),j=z((function(t,e){var n={};return D(e).forEach((function(e){var r=e.key,i=e.val;i=t+i,n[r]=function(){if(!t||W(this.$store,"mapGetters",t))return this.$store.getters[i]},n[r].vuex=!0})),n})),N=z((function(t,e){var n={};return D(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var o=W(this.$store,"mapActions",t);if(!o)return;r=o.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),B=function(t){return{mapState:R.bind(null,t),mapGetters:j.bind(null,t),mapMutations:I.bind(null,t),mapActions:N.bind(null,t)}};function D(t){return F(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function F(t){return Array.isArray(t)||c(t)}function z(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function W(t,e,n){var r=t._modulesNamespaceMap[n];return r}function H(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var n=t.filter;void 0===n&&(n=function(t,e,n){return!0});var r=t.transformer;void 0===r&&(r=function(t){return t});var i=t.mutationTransformer;void 0===i&&(i=function(t){return t});var o=t.actionFilter;void 0===o&&(o=function(t,e){return!0});var a=t.actionTransformer;void 0===a&&(a=function(t){return t});var s=t.logMutations;void 0===s&&(s=!0);var u=t.logActions;void 0===u&&(u=!0);var c=t.logger;return void 0===c&&(c=console),function(t){var f=l(t.state);"undefined"!==typeof c&&(s&&t.subscribe((function(t,o){var a=l(o);if(n(t,f,a)){var s=V(),u=i(t),h="mutation "+t.type+s;$(c,h,e),c.log("%c prev state","color: #9E9E9E; font-weight: bold",r(f)),c.log("%c mutation","color: #03A9F4; font-weight: bold",u),c.log("%c next state","color: #4CAF50; font-weight: bold",r(a)),G(c)}f=a})),u&&t.subscribeAction((function(t,n){if(o(t,n)){var r=V(),i=a(t),s="action "+t.type+r;$(c,s,e),c.log("%c action","color: #03A9F4; font-weight: bold",i),G(c)}})))}}function $(t,e,n){var r=n?t.groupCollapsed:t.group;try{r.call(t,e)}catch(i){t.log(e)}}function G(t){try{t.groupEnd()}catch(e){t.log(" log end ")}}function V(){var t=new Date;return" @ "+Y(t.getHours(),2)+":"+Y(t.getMinutes(),2)+":"+Y(t.getSeconds(),2)+"."+Y(t.getMilliseconds(),3)}function U(t,e){return new Array(e+1).join(t)}function Y(t,e){return U("0",e-t.toString().length)+t}var q={Store:m,install:P,version:"3.6.2",mapState:R,mapMutations:I,mapGetters:j,mapActions:N,createNamespacedHelpers:B,createLogger:H};e.ZP=q},9662:function(t,e,n){var r=n(614),i=n(6330),o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not a function")}},6077:function(t,e,n){var r=n(614),i=String,o=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw o("Can't set "+i(t)+" as a prototype")}},9670:function(t,e,n){var r=n(111),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not an object")}},3013:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(t,e,n){"use strict";var r,i,o,a=n(3013),s=n(9781),l=n(7854),u=n(614),c=n(111),f=n(2597),h=n(648),d=n(6330),p=n(8880),v=n(8052),g=n(7045),y=n(7976),m=n(9518),b=n(7674),x=n(5112),w=n(9711),_=n(9909),O=_.enforce,C=_.get,S=l.Int8Array,E=S&&S.prototype,M=l.Uint8ClampedArray,k=M&&M.prototype,T=S&&m(S),A=E&&m(E),L=Object.prototype,P=l.TypeError,R=x("toStringTag"),I=w("TYPED_ARRAY_TAG"),j="TypedArrayConstructor",N=a&&!!b&&"Opera"!==h(l.opera),B=!1,D={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},F={BigInt64Array:8,BigUint64Array:8},z=function(t){if(!c(t))return!1;var e=h(t);return"DataView"===e||f(D,e)||f(F,e)},W=function(t){var e=m(t);if(c(e)){var n=C(e);return n&&f(n,j)?n[j]:W(e)}},H=function(t){if(!c(t))return!1;var e=h(t);return f(D,e)||f(F,e)},$=function(t){if(H(t))return t;throw P("Target is not a typed array")},G=function(t){if(u(t)&&(!b||y(T,t)))return t;throw P(d(t)+" is not a typed array constructor")},V=function(t,e,n,r){if(s){if(n)for(var i in D){var o=l[i];if(o&&f(o.prototype,t))try{delete o.prototype[t]}catch(a){try{o.prototype[t]=e}catch(u){}}}A[t]&&!n||v(A,t,n?e:N&&E[t]||e,r)}},U=function(t,e,n){var r,i;if(s){if(b){if(n)for(r in D)if(i=l[r],i&&f(i,t))try{delete i[t]}catch(o){}if(T[t]&&!n)return;try{return v(T,t,n?e:N&&T[t]||e)}catch(o){}}for(r in D)i=l[r],!i||i[t]&&!n||v(i,t,e)}};for(r in D)i=l[r],o=i&&i.prototype,o?O(o)[j]=i:N=!1;for(r in F)i=l[r],o=i&&i.prototype,o&&(O(o)[j]=i);if((!N||!u(T)||T===Function.prototype)&&(T=function(){throw P("Incorrect invocation")},N))for(r in D)l[r]&&b(l[r],T);if((!N||!A||A===L)&&(A=T.prototype,N))for(r in D)l[r]&&b(l[r].prototype,A);if(N&&m(k)!==A&&b(k,A),s&&!f(A,R))for(r in B=!0,g(A,R,{configurable:!0,get:function(){return c(this)?this[I]:void 0}}),D)l[r]&&p(l[r],I,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:B&&I,aTypedArray:$,aTypedArrayConstructor:G,exportTypedArrayMethod:V,exportTypedArrayStaticMethod:U,getTypedArrayConstructor:W,isView:z,isTypedArray:H,TypedArray:T,TypedArrayPrototype:A}},7745:function(t,e,n){var r=n(6244);t.exports=function(t,e){var n=0,i=r(e),o=new t(i);while(i>n)o[n]=e[n++];return o}},1318:function(t,e,n){var r=n(5656),i=n(1400),o=n(6244),a=function(t){return function(e,n,a){var s,l=r(e),u=o(l),c=i(a,u);if(t&&n!=n){while(u>c)if(s=l[c++],s!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},3658:function(t,e,n){"use strict";var r=n(9781),i=n(3157),o=TypeError,a=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(i(t)&&!a(t,"length").writable)throw o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},206:function(t,e,n){var r=n(1702);t.exports=r([].slice)},1843:function(t,e,n){var r=n(6244);t.exports=function(t,e){for(var n=r(t),i=new e(n),o=0;o<n;o++)i[o]=t[n-o-1];return i}},1572:function(t,e,n){var r=n(6244),i=n(9303),o=RangeError;t.exports=function(t,e,n,a){var s=r(t),l=i(n),u=l<0?s+l:l;if(u>=s||u<0)throw o("Incorrect index");for(var c=new e(s),f=0;f<s;f++)c[f]=f===u?a:t[f];return c}},4326:function(t,e,n){var r=n(1702),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},648:function(t,e,n){var r=n(1694),i=n(614),o=n(4326),a=n(5112),s=a("toStringTag"),l=Object,u="Arguments"==o(function(){return arguments}()),c=function(t,e){try{return t[e]}catch(n){}};t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=c(e=l(t),s))?n:u?o(e):"Object"==(r=o(e))&&i(e.callee)?"Arguments":r}},9920:function(t,e,n){var r=n(2597),i=n(3887),o=n(1236),a=n(3070);t.exports=function(t,e,n){for(var s=i(e),l=a.f,u=o.f,c=0;c<s.length;c++){var f=s[c];r(t,f)||n&&r(n,f)||l(t,f,u(e,f))}}},8544:function(t,e,n){var r=n(7293);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},8880:function(t,e,n){var r=n(9781),i=n(3070),o=n(9114);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7045:function(t,e,n){var r=n(6339),i=n(3070);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),i.f(t,e,n)}},8052:function(t,e,n){var r=n(614),i=n(3070),o=n(6339),a=n(3072);t.exports=function(t,e,n,s){s||(s={});var l=s.enumerable,u=void 0!==s.name?s.name:e;if(r(n)&&o(n,u,s),s.global)l?t[e]=n:a(e,n);else{try{s.unsafe?t[e]&&(l=!0):delete t[e]}catch(c){}l?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},3072:function(t,e,n){var r=n(7854),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},9781:function(t,e,n){var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(t){var e="object"==typeof document&&document.all,n="undefined"==typeof e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},317:function(t,e,n){var r=n(7854),i=n(111),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},7207:function(t){var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},9363:function(t){t.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},6833:function(t,e,n){var r=n(8113);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:function(t,e,n){var r=n(4326);t.exports="undefined"!=typeof process&&"process"==r(process)},8113:function(t){t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:function(t,e,n){var r,i,o=n(7854),a=n(8113),s=o.process,l=o.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c&&(r=c.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),t.exports=i},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,n){var r=n(7854),i=n(1236).f,o=n(8880),a=n(8052),s=n(3072),l=n(9920),u=n(4705);t.exports=function(t,e){var n,c,f,h,d,p,v=t.target,g=t.global,y=t.stat;if(c=g?r:y?r[v]||s(v,{}):(r[v]||{}).prototype,c)for(f in e){if(d=e[f],t.dontCallGetSet?(p=i(c,f),h=p&&p.value):h=c[f],n=u(g?f:v+(y?".":"#")+f,t.forced),!n&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(t.sham||h&&h.sham)&&o(d,"sham",!0),a(c,f,d,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},2104:function(t,e,n){var r=n(4374),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},9974:function(t,e,n){var r=n(1470),i=n(9662),o=n(4374),a=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},4374:function(t,e,n){var r=n(7293);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,n){var r=n(4374),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(t,e,n){var r=n(9781),i=n(2597),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),l=s&&"something"===function(){}.name,u=s&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:l,CONFIGURABLE:u}},5668:function(t,e,n){var r=n(1702),i=n(9662);t.exports=function(t,e,n){try{return r(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(o){}}},1470:function(t,e,n){var r=n(4326),i=n(1702);t.exports=function(t){if("Function"===r(t))return i(t)}},1702:function(t,e,n){var r=n(4374),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);t.exports=r?a:function(t){return function(){return o.apply(t,arguments)}}},5005:function(t,e,n){var r=n(7854),i=n(614),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},8173:function(t,e,n){var r=n(9662),i=n(8554);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},7854:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},2597:function(t,e,n){var r=n(1702),i=n(7908),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},3501:function(t){t.exports={}},490:function(t,e,n){var r=n(5005);t.exports=r("document","documentElement")},4664:function(t,e,n){var r=n(9781),i=n(7293),o=n(317);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){var r=n(1702),i=n(7293),o=n(4326),a=Object,s=r("".split);t.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?s(t,""):a(t)}:a},2788:function(t,e,n){var r=n(1702),i=n(614),o=n(5465),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},9909:function(t,e,n){var r,i,o,a=n(4811),s=n(7854),l=n(111),u=n(8880),c=n(2597),f=n(5465),h=n(6200),d=n(3501),p="Object already initialized",v=s.TypeError,g=s.WeakMap,y=function(t){return o(t)?i(t):r(t,{})},m=function(t){return function(e){var n;if(!l(e)||(n=i(e)).type!==t)throw v("Incompatible receiver, "+t+" required");return n}};if(a||f.state){var b=f.state||(f.state=new g);b.get=b.get,b.has=b.has,b.set=b.set,r=function(t,e){if(b.has(t))throw v(p);return e.facade=t,b.set(t,e),e},i=function(t){return b.get(t)||{}},o=function(t){return b.has(t)}}else{var x=h("state");d[x]=!0,r=function(t,e){if(c(t,x))throw v(p);return e.facade=t,u(t,x,e),e},i=function(t){return c(t,x)?t[x]:{}},o=function(t){return c(t,x)}}t.exports={set:r,get:i,has:o,enforce:y,getterFor:m}},3157:function(t,e,n){var r=n(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},4067:function(t,e,n){var r=n(648);t.exports=function(t){var e=r(t);return"BigInt64Array"==e||"BigUint64Array"==e}},614:function(t,e,n){var r=n(4154),i=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===i}:function(t){return"function"==typeof t}},4705:function(t,e,n){var r=n(7293),i=n(614),o=/#|\.prototype\./,a=function(t,e){var n=l[s(t)];return n==c||n!=u&&(i(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},l=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";t.exports=a},8554:function(t){t.exports=function(t){return null===t||void 0===t}},111:function(t,e,n){var r=n(614),i=n(4154),o=i.all;t.exports=i.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===o}:function(t){return"object"==typeof t?null!==t:r(t)}},1913:function(t){t.exports=!1},2190:function(t,e,n){var r=n(5005),i=n(614),o=n(7976),a=n(3307),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,s(t))}},6244:function(t,e,n){var r=n(7466);t.exports=function(t){return r(t.length)}},6339:function(t,e,n){var r=n(1702),i=n(7293),o=n(614),a=n(2597),s=n(9781),l=n(6530).CONFIGURABLE,u=n(2788),c=n(9909),f=c.enforce,h=c.get,d=String,p=Object.defineProperty,v=r("".slice),g=r("".replace),y=r([].join),m=s&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),b=String(String).split("String"),x=t.exports=function(t,e,n){"Symbol("===v(d(e),0,7)&&(e="["+g(d(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!a(t,"name")||l&&t.name!==e)&&(s?p(t,"name",{value:e,configurable:!0}):t.name=e),m&&n&&a(n,"arity")&&t.length!==n.arity&&p(t,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(i){}var r=f(t);return a(r,"source")||(r.source=y(b,"string"==typeof e?e:"")),t};Function.prototype.toString=x((function(){return o(this)&&h(this).source||u(this)}),"toString")},4758:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},3070:function(t,e,n){var r=n(9781),i=n(4664),o=n(3353),a=n(9670),s=n(4948),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,f="enumerable",h="configurable",d="writable";e.f=r?o?function(t,e,n){if(a(t),e=s(e),a(n),"function"===typeof t&&"prototype"===e&&"value"in n&&d in n&&!n[d]){var r=c(t,e);r&&r[d]&&(t[e]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:f in n?n[f]:r[f],writable:!1})}return u(t,e,n)}:u:function(t,e,n){if(a(t),e=s(e),a(n),i)try{return u(t,e,n)}catch(r){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var r=n(9781),i=n(6916),o=n(5296),a=n(9114),s=n(5656),l=n(4948),u=n(2597),c=n(4664),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=s(t),e=l(e),c)try{return f(t,e)}catch(n){}if(u(t,e))return a(!i(o.f,t,e),t[e])}},8006:function(t,e,n){var r=n(6324),i=n(748),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var r=n(2597),i=n(614),o=n(7908),a=n(6200),s=n(8544),l=a("IE_PROTO"),u=Object,c=u.prototype;t.exports=s?u.getPrototypeOf:function(t){var e=o(t);if(r(e,l))return e[l];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof u?c:null}},7976:function(t,e,n){var r=n(1702);t.exports=r({}.isPrototypeOf)},6324:function(t,e,n){var r=n(1702),i=n(2597),o=n(5656),a=n(1318).indexOf,s=n(3501),l=r([].push);t.exports=function(t,e){var n,r=o(t),u=0,c=[];for(n in r)!i(s,n)&&i(r,n)&&l(c,n);while(e.length>u)i(r,n=e[u++])&&(~a(c,n)||l(c,n));return c}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},7674:function(t,e,n){var r=n(5668),i=n(9670),o=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=r(Object.prototype,"__proto__","set"),t(n,[]),e=n instanceof Array}catch(a){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},2140:function(t,e,n){var r=n(6916),i=n(614),o=n(111),a=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&i(n=t.toString)&&!o(s=r(n,t)))return s;if(i(n=t.valueOf)&&!o(s=r(n,t)))return s;if("string"!==e&&i(n=t.toString)&&!o(s=r(n,t)))return s;throw a("Can't convert object to primitive value")}},3887:function(t,e,n){var r=n(5005),i=n(1702),o=n(8006),a=n(5181),s=n(9670),l=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=a.f;return n?l(e,n(t)):e}},4488:function(t,e,n){var r=n(8554),i=TypeError;t.exports=function(t){if(r(t))throw i("Can't call method on "+t);return t}},7152:function(t,e,n){"use strict";var r=n(7854),i=n(2104),o=n(614),a=n(9363),s=n(8113),l=n(206),u=n(8053),c=r.Function,f=/MSIE .\./.test(s)||a&&function(){var t=r.Bun.version.split(".");return t.length<3||0==t[0]&&(t[1]<3||3==t[1]&&0==t[2])}();t.exports=function(t,e){var n=e?2:1;return f?function(r,a){var s=u(arguments.length,1)>n,f=o(r)?r:c(r),h=s?l(arguments,n):[],d=s?function(){i(f,this,h)}:f;return e?t(d,a):t(d)}:t}},6200:function(t,e,n){var r=n(2309),i=n(9711),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},5465:function(t,e,n){var r=n(7854),i=n(3072),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},2309:function(t,e,n){var r=n(1913),i=n(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.31.1",mode:r?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:function(t,e,n){var r=n(7392),i=n(7293),o=n(7854),a=o.String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!a(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},261:function(t,e,n){var r,i,o,a,s=n(7854),l=n(2104),u=n(9974),c=n(614),f=n(2597),h=n(7293),d=n(490),p=n(206),v=n(317),g=n(8053),y=n(6833),m=n(5268),b=s.setImmediate,x=s.clearImmediate,w=s.process,_=s.Dispatch,O=s.Function,C=s.MessageChannel,S=s.String,E=0,M={},k="onreadystatechange";h((function(){r=s.location}));var T=function(t){if(f(M,t)){var e=M[t];delete M[t],e()}},A=function(t){return function(){T(t)}},L=function(t){T(t.data)},P=function(t){s.postMessage(S(t),r.protocol+"//"+r.host)};b&&x||(b=function(t){g(arguments.length,1);var e=c(t)?t:O(t),n=p(arguments,1);return M[++E]=function(){l(e,void 0,n)},i(E),E},x=function(t){delete M[t]},m?i=function(t){w.nextTick(A(t))}:_&&_.now?i=function(t){_.now(A(t))}:C&&!y?(o=new C,a=o.port2,o.port1.onmessage=L,i=u(a.postMessage,a)):s.addEventListener&&c(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!h(P)?(i=P,s.addEventListener("message",L,!1)):i=k in v("script")?function(t){d.appendChild(v("script"))[k]=function(){d.removeChild(this),T(t)}}:function(t){setTimeout(A(t),0)}),t.exports={set:b,clear:x}},1400:function(t,e,n){var r=n(9303),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},4599:function(t,e,n){var r=n(7593),i=TypeError;t.exports=function(t){var e=r(t,"number");if("number"==typeof e)throw i("Can't convert number to bigint");return BigInt(e)}},5656:function(t,e,n){var r=n(8361),i=n(4488);t.exports=function(t){return r(i(t))}},9303:function(t,e,n){var r=n(4758);t.exports=function(t){var e=+t;return e!==e||0===e?0:r(e)}},7466:function(t,e,n){var r=n(9303),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},7908:function(t,e,n){var r=n(4488),i=Object;t.exports=function(t){return i(r(t))}},7593:function(t,e,n){var r=n(6916),i=n(111),o=n(2190),a=n(8173),s=n(2140),l=n(5112),u=TypeError,c=l("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,l=a(t,c);if(l){if(void 0===e&&(e="default"),n=r(l,t,e),!i(n)||o(n))return n;throw u("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},4948:function(t,e,n){var r=n(7593),i=n(2190);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},1694:function(t,e,n){var r=n(5112),i=r("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},1340:function(t,e,n){var r=n(648),i=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},6330:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},9711:function(t,e,n){var r=n(1702),i=0,o=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},3307:function(t,e,n){var r=n(6293);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){var r=n(9781),i=n(7293);t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:function(t){var e=TypeError;t.exports=function(t,n){if(t<n)throw e("Not enough arguments");return t}},4811:function(t,e,n){var r=n(7854),i=n(614),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},5112:function(t,e,n){var r=n(7854),i=n(2309),o=n(2597),a=n(9711),s=n(6293),l=n(3307),u=r.Symbol,c=i("wks"),f=l?u["for"]||u:u&&u.withoutSetter||a;t.exports=function(t){return o(c,t)||(c[t]=s&&o(u,t)?u[t]:f("Symbol."+t)),c[t]}},7658:function(t,e,n){"use strict";var r=n(2109),i=n(7908),o=n(6244),a=n(3658),s=n(7207),l=n(7293),u=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},f=u||!c();r({target:"Array",proto:!0,arity:1,forced:f},{push:function(t){var e=i(this),n=o(e),r=arguments.length;s(n+r);for(var l=0;l<r;l++)e[n]=arguments[l],n++;return a(e,n),n}})},1439:function(t,e,n){"use strict";var r=n(1843),i=n(260),o=i.aTypedArray,a=i.exportTypedArrayMethod,s=i.getTypedArrayConstructor;a("toReversed",(function(){return r(o(this),s(this))}))},7585:function(t,e,n){"use strict";var r=n(260),i=n(1702),o=n(9662),a=n(7745),s=r.aTypedArray,l=r.getTypedArrayConstructor,u=r.exportTypedArrayMethod,c=i(r.TypedArrayPrototype.sort);u("toSorted",(function(t){void 0!==t&&o(t);var e=s(this),n=a(l(e),e);return c(n,t)}))},5315:function(t,e,n){"use strict";var r=n(1572),i=n(260),o=n(4067),a=n(9303),s=n(4599),l=i.aTypedArray,u=i.getTypedArrayConstructor,c=i.exportTypedArrayMethod,f=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();c("with",{with:function(t,e){var n=l(this),i=a(t),c=o(n)?s(e):+e;return r(n,u(n),i,c)}}["with"],!f)},1091:function(t,e,n){var r=n(2109),i=n(7854),o=n(261).clear;r({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==o},{clearImmediate:o})},4633:function(t,e,n){n(1091),n(2986)},2986:function(t,e,n){var r=n(2109),i=n(7854),o=n(261).set,a=n(7152),s=i.setImmediate?a(o,!1):o;r({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==s},{setImmediate:s})},6229:function(t,e,n){"use strict";var r=n(8052),i=n(1702),o=n(1340),a=n(8053),s=URLSearchParams,l=s.prototype,u=i(l.append),c=i(l["delete"]),f=i(l.forEach),h=i([].push),d=new s("a=1&a=2");d["delete"]("a",1),d+""!=="a=2"&&r(l,"delete",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return c(this,t);var r=[];f(this,(function(t,e){h(r,{key:e,value:t})})),a(e,1);var i,s=o(t),l=o(n),d=0,p=0,v=!1,g=r.length;while(d<g)i=r[d++],v||i.key===s?(v=!0,c(this,i.key)):p++;while(p<g)i=r[p++],i.key===s&&i.value===l||u(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},7330:function(t,e,n){"use strict";var r=n(8052),i=n(1702),o=n(1340),a=n(8053),s=URLSearchParams,l=s.prototype,u=i(l.getAll),c=i(l.has),f=new s("a=1");f.has("a",2)&&r(l,"has",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return c(this,t);var r=u(this,t);a(e,1);var i=o(n),s=0;while(s<r.length)if(r[s++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},2062:function(t,e,n){"use strict";var r=n(9781),i=n(1702),o=n(7045),a=URLSearchParams.prototype,s=i(a.forEach);r&&!("size"in a)&&o(a,"size",{get:function(){var t=0;return s(this,(function(){t++})),t},configurable:!0,enumerable:!0})}}]);
//# sourceMappingURL=chunk-vendors.4d763784.js.map