(self["webpackChunkbili_up_show"]=self["webpackChunkbili_up_show"]||[]).push([[998],{1001:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:c}}n.d(e,{Z:function(){return r}})},5817:function(t,e,n){n(1439),n(7585),n(5315),n(7658),function(t,n){n(e)}(0,(function(t){"use strict";function e(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||((r=r||Array.prototype.slice.call(e,0,i))[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function n(t){return i(t,"Function")}var r={}.toString,i=function(t,e){return r.call(t)==="[object "+e+"]"},o=function(t){return Array.isArray?Array.isArray(t):i(t,"Array")},a=function(t){if("object"!=typeof(e=t)||null===e||!i(t,"Object"))return!1;var e;if(null===Object.getPrototypeOf(t))return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n},s=(Object.values,5);function l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)!function t(e,n,r,i){for(var l in r=r||0,i=i||s,n){var c;n.hasOwnProperty(l)&&(null!==(c=n[l])&&a(c)?(a(e[l])||(e[l]={}),r<i?t(e[l],c,r+1,i):e[l]=n[l]):o(c)?(e[l]=[],e[l]=e[l].concat(c)):void 0!==c&&(e[l]=c))}}(t,e[r]);return t}function c(t){return t}var u,h=function(t,e){var n=(e=void 0===e?{}:e).fontSize,r=e.fontFamily,o=e.fontWeight,a=e.fontStyle;e=e.fontVariant;return(u=u||document.createElement("canvas").getContext("2d")).font=[a,e,o,n+"px",r].join(" "),u.measureText(i(t,"String")?t:"").width};if(!n(h))throw new TypeError("Expected a function");new Map;var f="undefined"!=typeof Float32Array?Float32Array:Array;function d(){var t=new f(9);return f!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var p=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=(e=e[8],n[0]),f=n[1],d=n[2],p=n[3],v=n[4],g=n[5],y=n[6],m=n[7];n=n[8];return t[0]=h*r+f*a+d*c,t[1]=h*i+f*s+d*u,t[2]=h*o+f*l+d*e,t[3]=p*r+v*a+g*c,t[4]=p*i+v*s+g*u,t[5]=p*o+v*l+g*e,t[6]=y*r+m*a+n*c,t[7]=y*i+m*s+n*u,t[8]=y*o+m*l+n*e,t};function v(t,e,n){for(;t<e;)t+=2*Math.PI;for(;n<t;)t-=2*Math.PI;return t}function g(t,e,n,r,i){var o=t[0],a=(t=t[1],d());return o=[o,t],(t=a)[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=o[0],t[7]=o[1],t[8]=1,t}h=new f(3),f!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0);class y{constructor(t){this.options=l({},this.getDefaultOptions()),this.update(t)}getOptions(){return this.options}update(t={}){this.options=l({},this.options,t),this.rescale(t)}rescale(t){}}function m(t,e,n){for(let r=0;r<e.length;r+=1)t.has(e[r])||t.set(n(e[r]),r)}function b(t){const{value:e,from:n,to:r,mapper:i,notFoundReturn:o}=t;let a=i.get(e);if(void 0===a){if(o)return o;a=n.push(e)-1,i.set(e,a)}return r[a%r.length]}function x(t){return t instanceof Date?t=>""+t:"object"==typeof t?t=>JSON.stringify(t):t=>t}class w extends y{constructor(t){super(t)}getDefaultOptions(){return{domain:[],range:[]}}map(t){return 0===this.domainIndexMap.size&&m(this.domainIndexMap,this.getDomain(),this.domainKey),b({value:this.domainKey(t),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(t){return 0===this.rangeIndexMap.size&&m(this.rangeIndexMap,this.getRange(),this.rangeKey),b({value:this.rangeKey(t),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(t){var[e]=this.options.domain,[n]=this.options.range;this.domainKey=x(e),this.rangeKey=x(n),this.rangeIndexMap?(t&&!t.range||this.rangeIndexMap.clear(),t&&!t.domain&&!t.compare||(this.domainIndexMap.clear(),this.sortedDomain=void 0)):(this.rangeIndexMap=new Map,this.domainIndexMap=new Map)}clone(){return new w(this.options)}getRange(){return this.options.range}getDomain(){var t,e;return this.sortedDomain||(({domain:t,compare:e}=this.options),this.sortedDomain=e?[...t].sort(e):t),this.sortedDomain}}function O(t){const e=t["domain"];var n=e.length;if(0===n)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};const{range:r,paddingOuter:i,paddingInner:o,flex:a=[],round:s,align:l}=t;t=a,u=e.length;var c=0<(c=u-t.length)?[...t,...new Array(c).fill(1)]:c<0?t.slice(0,u):t,[u,t]=r,h=(t=t-u,t/(2/n*i+1-1/n*o));const f=h*o/n;h-=n*f;const d=function(t){const e=Math.min(...t);return t.map((t=>t/e))}(c),p=h/d.reduce(((t,e)=>t+e));c=new Map(e.map(((t,e)=>(e=d[e]*p,[t,s?Math.floor(e):e]))));const v=new Map(e.map(((t,e)=>(e=d[e]*p+f,[t,s?Math.floor(e):e]))));h=Array.from(v.values()).reduce(((t,e)=>t+e)),u+=(t-(h-h/n*o))*l;let g=s?Math.round(u):u;const y=new Array(n);for(let b=0;b<n;b+=1){y[b]=(m=g,Math.round(1e12*m)/1e12);var m=e[b];g+=v.get(m)}return{valueBandWidth:c,valueStep:v,adjustedRange:y}}class C extends w{constructor(t){super(t)}getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:void 0,flex:[]}}clone(){return new C(this.options)}getStep(t){return void 0===this.valueStep?1:void 0===t?Array.from(this.valueStep.values())[0]:this.valueStep.get(t)}getBandWidth(t){return void 0===this.valueBandWidth?1:void 0===t?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(t)}getRange(){return this.adjustedRange}getPaddingInner(){var{padding:t,paddingInner:e}=this.options;return 0<t?t:e}getPaddingOuter(){var{padding:t,paddingOuter:e}=this.options;return 0<t?t:e}rescale(){super.rescale();var{align:t,domain:e,range:n,round:r,flex:i}=this.options,{adjustedRange:t,valueBandWidth:n,valueStep:r}=O({align:t,range:n,round:r,flex:i,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:e});this.valueStep=r,this.valueBandWidth=n,this.adjustedRange=t}}function S(t,...e){return e.reduce(((t,e)=>n=>t(e(n))),t)}function _(t,e){return e-t?n=>(n-t)/(e-t):t=>.5}const E=Math.sqrt(50),M=Math.sqrt(10),k=Math.sqrt(2);function T(t,e,n){return e=(e-t)/Math.max(0,n),t=Math.floor(Math.log(e)/Math.LN10),n=e/10**t,0<=t?(n>=E?10:n>=M?5:n>=k?2:1)*10**t:-(10**-t)/(n>=E?10:n>=M?5:n>=k?2:1)}const A=(t,e,n=5)=>{const r=[t,e];let i,o=0,a=r.length-1,s=r[o],l=r[a];return l<s&&([s,l]=[l,s],[o,a]=[a,o]),0<(i=T(s,l,n))?(s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i,i=T(s,l,n)):i<0&&(s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i,i=T(s,l,n)),0<i?(r[o]=Math.floor(s/i)*i,r[a]=Math.ceil(l/i)*i):i<0&&(r[o]=Math.ceil(s*i)/i,r[a]=Math.floor(l*i)/i),r};function L(t){return null!=t&&!Number.isNaN(t)}h={exports:{}};var P,R={exports:{}},I=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||0<=t.length&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))},N=Array.prototype.concat,j=Array.prototype.slice,B=R.exports=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];I(i)?e=N.call(e,j.call(i)):e.push(i)}return e},D=(B.wrap=function(t){return function(){return t(B(arguments))}},{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),F=R.exports,z=Object.hasOwnProperty,W=Object.create(null);for(P in D)z.call(D,P)&&(W[D[P]]=P);var H=h.exports={to:{},get:{}};function $(t,e,n){return Math.min(Math.max(e,t),n)}function G(t){return t=Math.round(t).toString(16).toUpperCase(),t.length<2?"0"+t:t}H.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=H.get.hsl(t),n="hsl";break;case"hwb":e=H.get.hwb(t),n="hwb";break;default:e=H.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},H.get.rgb=function(t){if(!t)return null;var e,n,r,i=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(r=e[2],e=e[1],n=0;n<3;n++){var o=2*n;i[n]=parseInt(e.slice(o,2+o),16)}r&&(i[3]=parseInt(r,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(r=(e=e[1])[3],n=0;n<3;n++)i[n]=parseInt(e[n]+e[n],16);r&&(i[3]=parseInt(r+r,16)/255)}else{if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/))for(n=0;n<3;n++)i[n]=parseInt(e[n+1],0);else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(e=t.match(/^(\w+)$/))?"transparent"===e[1]?[0,0,0,0]:z.call(D,e[1])?((i=D[e[1]])[3]=1,i):null:null;for(n=0;n<3;n++)i[n]=Math.round(2.55*parseFloat(e[n+1]))}e[4]&&(e[5]?i[3]=.01*parseFloat(e[4]):i[3]=parseFloat(e[4]))}for(n=0;n<3;n++)i[n]=$(i[n],0,255);return i[3]=$(i[3],0,1),i},H.get.hsl=function(t){if(!t)return null;var e;t=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);return t?(e=parseFloat(t[4]),[(parseFloat(t[1])%360+360)%360,$(parseFloat(t[2]),0,100),$(parseFloat(t[3]),0,100),$(isNaN(e)?1:e,0,1)]):null},H.get.hwb=function(t){if(!t)return null;var e;t=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);return t?(e=parseFloat(t[4]),[(parseFloat(t[1])%360+360)%360,$(parseFloat(t[2]),0,100),$(parseFloat(t[3]),0,100),$(isNaN(e)?1:e,0,1)]):null},H.to.hex=function(){var t=F(arguments);return"#"+G(t[0])+G(t[1])+G(t[2])+(t[3]<1?G(Math.round(255*t[3])):"")},H.to.rgb=function(){var t=F(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},H.to.rgb.percent=function(){var t=F(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},H.to.hsl=function(){var t=F(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},H.to.hwb=function(){var t=F(arguments),e="";return 4<=t.length&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},H.to.keyword=function(t){return W[t.slice(0,3)]};var V=h.exports;function Y(t,e,n){let r=n;return r<0&&(r+=1),1<r&&--r,r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function U(t){if(t=V.get(t),!t)return null;var e,n,{model:t,value:r}=t;return"rgb"===t?r:"hsl"===t?(r=(t=r)[0]/360,e=t[1]/100,n=t[2]/100,t=t[3],0==e?[255*n,255*n,255*n,t]:[255*Y(n=2*n-(e=n<.5?n*(1+e):n+e-n*e),e,r+1/3),255*Y(n,e,r),255*Y(n,e,r-1/3),t]):null}const X=(t,e)=>n=>t*(1-n)+e*n,q=(t,e)=>{if("number"==typeof t&&"number"==typeof e)return X(t,e);if("string"!=typeof t||"string"!=typeof e)return()=>t;{var n=t,r=e;const i=U(n),o=U(r);return null===i||null===o?i?()=>n:()=>r:t=>{const e=new Array(4);for(let u=0;u<4;u+=1){var n=i[u],r=o[u];e[u]=n*(1-t)+r*t}var[a,s,l,c]=e;return`rgba(${Math.round(a)}, ${Math.round(s)}, ${Math.round(l)}, ${c})`}}},K=(t,e)=>{const n=X(t,e);return t=>Math.round(n(t))},Z=(t,e,n)=>{let r,i,o=t,a=e;if(o===a&&0<n)return[o];let s=T(o,a,n);if(0===s||!Number.isFinite(s))return[];if(0<s){o=Math.ceil(o/s),a=Math.floor(a/s),i=new Array(r=Math.ceil(a-o+1));for(let t=0;t<r;t+=1)i[t]=(o+t)*s}else{s=-s,o=Math.ceil(o*s),a=Math.floor(a*s),i=new Array(r=Math.ceil(a-o+1));for(let t=0;t<r;t+=1)i[t]=(o+t)/s}return i},Q=(t,e,n)=>{var[t,r]=t,[e,i]=e;let o,a;return S(a=t<r?(o=_(t,r),n(e,i)):(o=_(r,t),n(i,e)),o)},J=(t,e,n)=>{const r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r);var a=t[0]>t[r],s=a?[...t].reverse():t,l=a?[...e].reverse():e;for(let c=0;c<r;c+=1)i[c]=_(s[c],s[c+1]),o[c]=n(l[c],l[c+1]);return e=>{var n=function(t,e,n,r,i){let o=n||0,a=r||t.length;const s=i||(t=>t);for(;o<a;){var l=Math.floor((o+a)/2);s(t[l])>e?a=l:o=l+1}return o}(t,e,1,r)-1,a=i[n];return S(o[n],a)(e)}},tt=(t,e,n,r)=>{const i=2<Math.min(t.length,e.length)?J:Q;return r=r?K:n,i(t,e,r)};class et extends y{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:X,tickCount:5}}map(t){return L(t)?this.output(t):this.options.unknown}invert(t){return L(t)?this.input(t):this.options.unknown}nice(){var t,e,n,r;this.options.nice&&([t,e,n,...r]=this.getTickMethodOptions(),this.options.domain=this.chooseNice()(t,e,n,...r))}getTicks(){const t=this.options["tickMethod"];var[e,n,r,...i]=this.getTickMethodOptions();return t(e,n,r,...i)}getTickMethodOptions(){var{domain:t,tickCount:e}=this.options;return[t[0],t[t.length-1],e]}chooseNice(){return A}rescale(){this.nice();var[t,e]=this.chooseTransforms();this.composeOutput(t,this.chooseClamp(t)),this.composeInput(t,e,this.chooseClamp(e))}chooseClamp(t){var{clamp:e,range:n}=this.options,n=(t=this.options.domain.map(t),Math.min(t.length,n.length));if(e){e=t[0],t=t[n-1];const r=t<e?t:e,i=t<e?e:t;return t=>Math.min(Math.max(r,t),i)}return c}composeOutput(t,e){const{domain:n,range:r,round:i,interpolate:o}=this.options;var a=tt(n.map(t),r,o,i);this.output=S(a,e,t)}composeInput(t,e,n){const{domain:r,range:i}=this.options;t=tt(i,r.map(t),X),this.input=S(e,n,t)}}class nt extends et{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:q,tickMethod:Z,tickCount:5}}chooseTransforms(){return[c,c]}clone(){return new nt(this.options)}}class rt extends C{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:void 0,paddingInner:1,paddingOuter:0}}constructor(t){super(t)}getPaddingInner(){return 1}clone(){return new rt(this.options)}update(t){super.update(t)}getPaddingOuter(){return this.options.padding}}function it(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}function ot(t,e,n,r,i){var o=new nt({range:[e,e+r]}),a=new nt({range:[n,n+i]});return{transform:function(t){var e=t[0];t=t[1];return[o.map(e),a.map(t)]},untransform:function(t){var e=t[0];t=t[1];return[o.invert(e),a.invert(t)]}}}function at(t,e,n,r,i){return(0,t[0])(e,n,r,i)}function st(t,e,n,r,i){return t[0]}function lt(t,e,n,r,i){var o=t[0],a=t[1],s=t[2],l=(t=t[3],new nt({range:[s,t]})),c=new nt({range:[o,a]}),u=1<(s=i/r)?1:s,h=1<s?1/s:1;return{transform:function(t){var e=t[0];t=t[1],e=c.map(e),t=l.map(t);return[t*Math.cos(e)*u*.5+.5,t*Math.sin(e)*h*.5+.5]},untransform:function(t){var e=t[0],n=(t=t[1],e=2*(e-.5)/u,t=2*(t-.5)/h,Math.sqrt(Math.pow(e,2)+Math.pow(t,2)));t=v(Math.atan2(t,e),o,a);return[c.invert(t),l.invert(n)]}}}function ct(t,e,n,r,i){return{transform:function(t){var e=t[0];return[t[1],e]},untransform:function(t){var e=t[0];return[t[1],e]}}}function ut(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return yt.apply(void 0,e([[-1,-1]],n,!1))}function ht(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return yt.apply(void 0,e([[-1,1]],n,!1))}function ft(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return yt.apply(void 0,e([[1,-1]],n,!1))}function dt(t,e,n,r,i){t=t[0];var o,a=d();return o=Math.sin(t),t=Math.cos(t),a[0]=t,a[1]=o,a[2]=0,a[3]=-o,a[4]=t,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a}function pt(t,e,n,r,i){var o=t[0],a=t[1],s=t[2],l=(t[3]-s)/(+a/(2*Math.PI)+1),c=l/(2*Math.PI),u=new nt({range:[s,s+.99*l]}),h=new nt({range:[o,a]}),f=1<(t=i/r)?1:t,d=1<t?1/t:1;return{transform:function(t){var e=t[0];t=t[1],e=h.map(e),t=u.map(t);return[Math.cos(e)*(c*e+t)*f*.5+.5,Math.sin(e)*(c*e+t)*d*.5+.5]},untransform:function(t){var e=t[0],n=(t=t[1],e=2*(e-.5)/f,t=2*(t-.5)/d,Math.sqrt(Math.pow(e,2)+Math.pow(t,2)));t=v(Math.atan2(t,e)+Math.floor(n/l)*Math.PI*2,o,a),e=n-c*t;return[h.invert(t),u.invert(e)]}}}function vt(t,e,n,r,i){var o=t[0],a=t[1],s=t[2],l=(t=t[3],new nt({range:[s,t]}));return{transform:function(t){for(var e=[],n=t.length,r=new rt({domain:new Array(n).fill(0).map((function(t,e){return e})),range:[o,a]}),i=0;i<n;i++){var s=t[i],c=r.map(i);s=l.map(s);e.push(c,s)}return e},untransform:function(t){for(var e=[],n=0;n<t.length;n+=2){var r=t[n+1];e.push(l.invert(r))}return e}}}R=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["January","February","March","April","May","June","July","August","September","October","November","December"];var gt=it(h,3),yt=(function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o,a=i[r];for(o in a)t[o]=a[o]}}({},{dayNamesShort:it(R,3),dayNames:R,monthNamesShort:gt,monthNames:h,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][3<t%10?0:(t-t%10!=10?1:0)*t%10]}}),function(t,e,n,r,i){var o=t[0],a=(t=t[1],d());return o=[o,t],(t=a)[0]=o[0],t[1]=0,t[2]=0,t[3]=0,t[4]=o[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t});function mt(t){return 1/Math.tan(t)}function bt(t,e,n,r,i){var o=mt(t[0]);return{transform:function(t){var e=t[0];t=t[1];return[e+t*o,t]},untransform:function(t){var e=t[0];t=t[1];return[e-t*o,t]}}}function xt(t,e,n,r,i){var o=mt(t[0]);return{transform:function(t){var e=t[0];return[e,t[1]+e*o]},untransform:function(t){var e=t[0];return[e,t[1]-e*o]}}}function wt(t,e,n,r,i){var o=t<e;i=(o?e-r:i-e)||i-r,r=o?-1:1;return r*i*(n+1)/(n+i/((t-e)*r))+e}function Ot(t,e,n,r,i){var o=t<e;i=(o?e-r:i-e)||i-r;return i/(i*(n+1)/(t-e)-n*(o?-1:1))+e}function Ct(t,e,n){return n?new nt({range:[0,1],domain:[0,e]}).map(t):t}function St(t,e,n,r,i){var o=t[0],a=t[1],s=(t=t[2],Ct(o,r,void 0!==t&&t));return{transform:function(t){var e=t[0];t=t[1];return[wt(e,s,a,0,1),t]},untransform:function(t){var e=t[0];t=t[1];return[Ot(e,s,a,0,1),t]}}}function _t(t,e,n,r,i){var o=t[0],a=t[1],s=(t=t[2],Ct(o,i,void 0!==t&&t));return{transform:function(t){return[t[0],wt(t[1],s,a,0,1)]},untransform:function(t){return[t[0],Ot(t[1],s,a,0,1)]}}}function Et(t,e,n,r,i){var o=t[0],a=t[1],s=t[2],l=t[3],c=(t=t[4],Ct(o,r,t=void 0!==t&&t)),u=Ct(a,i,t);return{transform:function(t){var e=t[0];t=t[1];return[wt(e,c,s,0,1),wt(t,u,l,0,1)]},untransform:function(t){var e=t[0];t=t[1];return[Ot(e,c,s,0,1),Ot(t,u,l,0,1)]}}}function Mt(t,e,n,r,i){var o=t[0],a=t[1],s=t[2],l=t[3],c=(t=void 0!==(t=t[4])&&t,new nt({range:[0,r]})),u=new nt({range:[0,i]}),h=t?o:c.map(o),f=t?a:u.map(a);return{transform:function(t){var e=t[0],n=(t=t[1],c.map(e)-h),r=u.map(t)-f,i=Math.sqrt(n*n+r*r);return s<i?[e,t]:(e=wt(i,0,l,0,s),t=Math.atan2(r,n),i=h+e*Math.cos(t),r=f+e*Math.sin(t),[c.invert(i),u.invert(r)])},untransform:function(t){var e=t[0],n=(t=t[1],c.map(e)-h),r=u.map(t)-f,i=Math.sqrt(n*n+r*r);return s<i?[e,t]:(e=Ot(i,0,l,0,s),t=Math.atan2(r,n),i=h+e*Math.cos(t),r=f+e*Math.sin(t),[c.invert(i),u.invert(r)])}}}function kt(t){this.options={x:0,y:0,width:300,height:150,transformations:[]},this.transformers={cartesian:ot,translate:g,custom:at,matrix:st,polar:lt,transpose:ct,scale:yt,"shear.x":bt,"shear.y":xt,reflect:ut,"reflect.x":ht,"reflect.y":ft,rotate:dt,helix:pt,parallel:vt,fisheye:Et,"fisheye.x":St,"fisheye.y":_t,"fisheye.circular":Mt},this.update(t)}kt.prototype.update=function(t){this.options=l({},this.options,t),this.recoordinate()},kt.prototype.clone=function(){return new kt(this.options)},kt.prototype.getOptions=function(){return this.options},kt.prototype.clear=function(){this.update({transformations:[]})},kt.prototype.getSize=function(){var t=this.options;return[t.width,t.height]},kt.prototype.getCenter=function(){var t=this.options,e=t.x,n=t.y;return[(2*e+t.width)/2,(2*n+t.height)/2]},kt.prototype.transform=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.options.transformations;return this.update({transformations:e(e([],r,!0),[e([],t,!0)],!1)}),this},kt.prototype.map=function(t){return this.output(t)},kt.prototype.invert=function(t){return this.input(t)},kt.prototype.recoordinate=function(){this.output=this.compose(),this.input=this.compose(!0)},kt.prototype.compose=function(t){for(var n=(t=void 0!==t&&t)?e([],this.options.transformations,!0).reverse():this.options.transformations,r=t?function(t){return t.untransform}:function(t){return t.transform},i=[],o=[],a=function(t,e){return o.push((e=void 0===e||e)?(n=t,function(t){for(var e=[],r=0;r<t.length-1;r+=2){var i=[t[r],t[r+1]];i=n(i);e.push.apply(e,i)}return e}):t);var n},s=0,l=n;s<l.length;s++){var u,h,f,d,p=l[s],v=p[0],g=(p=p.slice(1),this.transformers[v]);g&&(u=(d=this.options).x,h=d.y,f=d.width,d=d.height,g=g(e([],p,!0),u,h,f,d),(p=g)instanceof Float32Array||p instanceof Array?i.push(g):(i.length&&(a(this.createMatrixTransform(i,t)),i.splice(0,i.length)),a(r(g)||c,"parallel"!==v)))}return i.length&&a(this.createMatrixTransform(i,t)),function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t?e.reduce((function(t,e){return function(n){return e(t(n))}}),t):c}.apply(void 0,o)},kt.prototype.createMatrixTransform=function(t,e){var n,r,i,o,a,s,l,c,u,h,v,g,y=d();return e&&t.reverse(),t.forEach((function(t){return p(y,y,t)})),e&&(e=t=y,(g=new f(9))[0]=e[0],g[1]=e[1],g[2]=e[2],g[3]=e[3],g[4]=e[4],g[5]=e[5],g[6]=e[6],g[7]=e[7],g[8]=e[8],g=(e=g)[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=(e=e[8])*o-a*l,(v=g*c+n*(u=-e*i+a*s)+r*(h=l*i-o*s))&&(t[0]=c*(v=1/v),t[1]=(-e*n+r*l)*v,t[2]=(a*n-r*o)*v,t[3]=u*v,t[4]=(e*g-r*s)*v,t[5]=(-a*g+r*i)*v,t[6]=h*v,t[7]=(-l*g+n*s)*v,t[8]=(o*g-n*i)*v)),function(t){var e,n,r,i,o;t=[t[0],t[1],1];return r=y,i=(n=e=t)[0],o=n[1],n=n[2],e[0]=i*r[0]+o*r[3]+n*r[6],e[1]=i*r[1]+o*r[4]+n*r[7],e[2]=i*r[2]+o*r[5]+n*r[8],[t[0],t[1]]}},t.Coordinate=kt,Object.defineProperty(t,"__esModule",{value:!0})}))},2224:function(t,e,n){"use strict";n(7658);var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(t,e,n,r,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||t,o),l=i?i+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function l(t,e){0===--t._eventsCount?t._events=new o:delete t._events[e]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),c.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},c.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},c.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},c.prototype.emit=function(t,e,n,r,o,a){var s=i?i+t:t;if(!this._events[s])return!1;var l,c,u=this._events[s],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,r),!0;case 5:return u.fn.call(u.context,e,n,r,o),!0;case 6:return u.fn.call(u.context,e,n,r,o,a),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,d=u.length;for(c=0;c<d;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,n);break;case 4:u[c].fn.call(u[c].context,e,n,r);break;default:if(!l)for(f=1,l=new Array(h-1);f<h;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},c.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,n,r){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return l(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||l(this,o);else{for(var s=0,c=[],u=a.length;s<u;s++)(a[s].fn!==e||r&&!a[s].once||n&&a[s].context!==n)&&c.push(a[s]);c.length?this._events[o]=1===c.length?c[0]:c:l(this,o)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&l(this,e)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,t.exports=c},937:function(t,e,n){"use strict";n.d(e,{kL:function(){return L2}});var r={};n.r(r),n.d(r,{add:function(){return Lt},adjoint:function(){return K},clone:function(){return $},copy:function(){return G},create:function(){return H},determinant:function(){return Z},equals:function(){return jt},exactEquals:function(){return Nt},frob:function(){return At},fromQuat:function(){return mt},fromQuat2:function(){return ft},fromRotation:function(){return st},fromRotationTranslation:function(){return ht},fromRotationTranslationScale:function(){return gt},fromRotationTranslationScaleOrigin:function(){return yt},fromScaling:function(){return at},fromTranslation:function(){return ot},fromValues:function(){return V},fromXRotation:function(){return lt},fromYRotation:function(){return ct},fromZRotation:function(){return ut},frustum:function(){return bt},getRotation:function(){return vt},getScaling:function(){return pt},getTranslation:function(){return dt},identity:function(){return U},invert:function(){return q},lookAt:function(){return Mt},mul:function(){return Bt},multiply:function(){return Q},multiplyScalar:function(){return Rt},multiplyScalarAndAdd:function(){return It},ortho:function(){return _t},orthoNO:function(){return St},orthoZO:function(){return Et},perspective:function(){return wt},perspectiveFromFieldOfView:function(){return Ct},perspectiveNO:function(){return xt},perspectiveZO:function(){return Ot},rotate:function(){return et},rotateX:function(){return nt},rotateY:function(){return rt},rotateZ:function(){return it},scale:function(){return tt},set:function(){return Y},str:function(){return Tt},sub:function(){return Dt},subtract:function(){return Pt},targetTo:function(){return kt},translate:function(){return J},transpose:function(){return X}});var i={};n.r(i),n.d(i,{frequency:function(){return ew},id:function(){return nw},name:function(){return rw},weight:function(){return tw}});var o={};n.r(o),n.d(o,{area:function(){return bL},bottom:function(){return EL},bottomLeft:function(){return EL},bottomRight:function(){return EL},inside:function(){return EL},left:function(){return EL},outside:function(){return LL},right:function(){return EL},spider:function(){return RL},surround:function(){return NL},top:function(){return EL},topLeft:function(){return EL},topRight:function(){return EL}});var a={};n.r(a),n.d(a,{geoAlbers:function(){return TX},geoAlbersUsa:function(){return LX},geoAzimuthalEqualArea:function(){return NX},geoAzimuthalEqualAreaRaw:function(){return IX},geoAzimuthalEquidistant:function(){return BX},geoAzimuthalEquidistantRaw:function(){return jX},geoConicConformal:function(){return $X},geoConicConformalRaw:function(){return HX},geoConicEqualArea:function(){return kX},geoConicEqualAreaRaw:function(){return MX},geoConicEquidistant:function(){return UX},geoConicEquidistantRaw:function(){return YX},geoEqualEarth:function(){return eq},geoEqualEarthRaw:function(){return tq},geoEquirectangular:function(){return VX},geoEquirectangularRaw:function(){return GX},geoGnomonic:function(){return rq},geoGnomonicRaw:function(){return nq},geoIdentity:function(){return iq},geoMercator:function(){return FX},geoMercatorRaw:function(){return DX},geoNaturalEarth1:function(){return aq},geoNaturalEarth1Raw:function(){return oq},geoOrthographic:function(){return lq},geoOrthographicRaw:function(){return sq},geoProjection:function(){return CX},geoProjectionMutator:function(){return SX},geoStereographic:function(){return uq},geoStereographicRaw:function(){return cq},geoTransverseMercator:function(){return fq},geoTransverseMercatorRaw:function(){return hq}});var s={};n.r(s),n.d(s,{interpolateBlues:function(){return oZ},interpolateBrBG:function(){return yK},interpolateBuGn:function(){return NK},interpolateBuPu:function(){return BK},interpolateCividis:function(){return gZ},interpolateCool:function(){return IZ},interpolateCubehelixDefault:function(){return PZ},interpolateGnBu:function(){return FK},interpolateGreens:function(){return sZ},interpolateGreys:function(){return cZ},interpolateInferno:function(){return VZ},interpolateMagma:function(){return GZ},interpolateOrRd:function(){return WK},interpolateOranges:function(){return vZ},interpolatePRGn:function(){return bK},interpolatePiYG:function(){return wK},interpolatePlasma:function(){return YZ},interpolatePuBu:function(){return VK},interpolatePuBuGn:function(){return $K},interpolatePuOr:function(){return CK},interpolatePuRd:function(){return UK},interpolatePurples:function(){return hZ},interpolateRainbow:function(){return jZ},interpolateRdBu:function(){return _K},interpolateRdGy:function(){return MK},interpolateRdPu:function(){return qK},interpolateRdYlBu:function(){return TK},interpolateRdYlGn:function(){return LK},interpolateReds:function(){return dZ},interpolateSinebow:function(){return zZ},interpolateSpectral:function(){return RK},interpolateTurbo:function(){return WZ},interpolateViridis:function(){return $Z},interpolateWarm:function(){return RZ},interpolateYlGn:function(){return JK},interpolateYlGnBu:function(){return ZK},interpolateYlOrBr:function(){return eZ},interpolateYlOrRd:function(){return rZ},schemeAccent:function(){return qq},schemeBlues:function(){return iZ},schemeBrBG:function(){return gK},schemeBuGn:function(){return IK},schemeBuPu:function(){return jK},schemeCategory10:function(){return Xq},schemeDark2:function(){return Kq},schemeGnBu:function(){return DK},schemeGreens:function(){return aZ},schemeGreys:function(){return lZ},schemeOrRd:function(){return zK},schemeOranges:function(){return pZ},schemePRGn:function(){return mK},schemePaired:function(){return Zq},schemePastel1:function(){return Qq},schemePastel2:function(){return Jq},schemePiYG:function(){return xK},schemePuBu:function(){return GK},schemePuBuGn:function(){return HK},schemePuOr:function(){return OK},schemePuRd:function(){return YK},schemePurples:function(){return uZ},schemeRdBu:function(){return SK},schemeRdGy:function(){return EK},schemeRdPu:function(){return XK},schemeRdYlBu:function(){return kK},schemeRdYlGn:function(){return AK},schemeReds:function(){return fZ},schemeSet1:function(){return tK},schemeSet2:function(){return eK},schemeSet3:function(){return nK},schemeSpectral:function(){return PK},schemeTableau10:function(){return rK},schemeYlGn:function(){return QK},schemeYlGnBu:function(){return KK},schemeYlOrBr:function(){return tZ},schemeYlOrRd:function(){return nZ}});n(7658);var l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},l(t,e)};function c(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var u=function(){return u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},u.apply(this,arguments)};function h(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function f(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function d(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return l([t,e])}}function l(s){if(n)throw new TypeError("Generator is already executing.");while(o&&(o=0,s[0]&&(a=0)),a)try{if(n=1,r&&(i=2&s[0]?r["return"]:s[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(l){s=[6,l],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}Object.create;function p(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function g(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var y=n(2224),m=y,b=(n(1439),n(7585),n(5315),1e-6),x="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function w(){var t=new x(3);return x!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function O(t){var e=new x(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function C(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function S(t,e,n){var r=new x(3);return r[0]=t,r[1]=e,r[2]=n,r}function _(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function E(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function M(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function k(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function T(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function A(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function L(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function P(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function R(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function I(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],l=n[2];return t[0]=i*l-o*s,t[1]=o*a-r*l,t[2]=r*s-i*a,t}function N(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function j(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function B(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function D(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],l=e[1],c=e[2],u=i*c-o*l,h=o*s-r*c,f=r*l-i*s,d=i*f-o*h,p=o*u-r*f,v=r*h-i*u,g=2*a;return u*=g,h*=g,f*=g,d*=2,p*=2,v*=2,t[0]=s+u+d,t[1]=l+h+p,t[2]=c+f+v,t}function F(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(n-o)<=b*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=b*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=b*Math.max(1,Math.abs(i),Math.abs(s))}Math.hypot||(Math.hypot=function(){var t=0,e=arguments.length;while(e--)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var z=L,W=C;(function(){var t=w()})();function H(){var t=new x(16);return x!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function $(t){var e=new x(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function G(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function V(t,e,n,r,i,o,a,s,l,c,u,h,f,d,p,v){var g=new x(16);return g[0]=t,g[1]=e,g[2]=n,g[3]=r,g[4]=i,g[5]=o,g[6]=a,g[7]=s,g[8]=l,g[9]=c,g[10]=u,g[11]=h,g[12]=f,g[13]=d,g[14]=p,g[15]=v,g}function Y(t,e,n,r,i,o,a,s,l,c,u,h,f,d,p,v,g){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=c,t[9]=u,t[10]=h,t[11]=f,t[12]=d,t[13]=p,t[14]=v,t[15]=g,t}function U(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function X(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function q(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],h=e[9],f=e[10],d=e[11],p=e[12],v=e[13],g=e[14],y=e[15],m=n*s-r*a,b=n*l-i*a,x=n*c-o*a,w=r*l-i*s,O=r*c-o*s,C=i*c-o*l,S=u*v-h*p,_=u*g-f*p,E=u*y-d*p,M=h*g-f*v,k=h*y-d*v,T=f*y-d*g,A=m*T-b*k+x*M+w*E-O*_+C*S;return A?(A=1/A,t[0]=(s*T-l*k+c*M)*A,t[1]=(i*k-r*T-o*M)*A,t[2]=(v*C-g*O+y*w)*A,t[3]=(f*O-h*C-d*w)*A,t[4]=(l*E-a*T-c*_)*A,t[5]=(n*T-i*E+o*_)*A,t[6]=(g*x-p*C-y*b)*A,t[7]=(u*C-f*x+d*b)*A,t[8]=(a*k-s*E+c*S)*A,t[9]=(r*E-n*k-o*S)*A,t[10]=(p*O-v*x+y*m)*A,t[11]=(h*x-u*O-d*m)*A,t[12]=(s*_-a*M-l*S)*A,t[13]=(n*M-r*_+i*S)*A,t[14]=(v*b-p*w-g*m)*A,t[15]=(u*w-h*b+f*m)*A,t):null}function K(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],h=e[9],f=e[10],d=e[11],p=e[12],v=e[13],g=e[14],y=e[15];return t[0]=s*(f*y-d*g)-h*(l*y-c*g)+v*(l*d-c*f),t[1]=-(r*(f*y-d*g)-h*(i*y-o*g)+v*(i*d-o*f)),t[2]=r*(l*y-c*g)-s*(i*y-o*g)+v*(i*c-o*l),t[3]=-(r*(l*d-c*f)-s*(i*d-o*f)+h*(i*c-o*l)),t[4]=-(a*(f*y-d*g)-u*(l*y-c*g)+p*(l*d-c*f)),t[5]=n*(f*y-d*g)-u*(i*y-o*g)+p*(i*d-o*f),t[6]=-(n*(l*y-c*g)-a*(i*y-o*g)+p*(i*c-o*l)),t[7]=n*(l*d-c*f)-a*(i*d-o*f)+u*(i*c-o*l),t[8]=a*(h*y-d*v)-u*(s*y-c*v)+p*(s*d-c*h),t[9]=-(n*(h*y-d*v)-u*(r*y-o*v)+p*(r*d-o*h)),t[10]=n*(s*y-c*v)-a*(r*y-o*v)+p*(r*c-o*s),t[11]=-(n*(s*d-c*h)-a*(r*d-o*h)+u*(r*c-o*s)),t[12]=-(a*(h*g-f*v)-u*(s*g-l*v)+p*(s*f-l*h)),t[13]=n*(h*g-f*v)-u*(r*g-i*v)+p*(r*f-i*h),t[14]=-(n*(s*g-l*v)-a*(r*g-i*v)+p*(r*l-i*s)),t[15]=n*(s*f-l*h)-a*(r*f-i*h)+u*(r*l-i*s),t}function Z(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=t[9],h=t[10],f=t[11],d=t[12],p=t[13],v=t[14],g=t[15],y=e*a-n*o,m=e*s-r*o,b=e*l-i*o,x=n*s-r*a,w=n*l-i*a,O=r*l-i*s,C=c*p-u*d,S=c*v-h*d,_=c*g-f*d,E=u*v-h*p,M=u*g-f*p,k=h*g-f*v;return y*k-m*M+b*E+x*_-w*S+O*C}function Q(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],f=e[9],d=e[10],p=e[11],v=e[12],g=e[13],y=e[14],m=e[15],b=n[0],x=n[1],w=n[2],O=n[3];return t[0]=b*r+x*s+w*h+O*v,t[1]=b*i+x*l+w*f+O*g,t[2]=b*o+x*c+w*d+O*y,t[3]=b*a+x*u+w*p+O*m,b=n[4],x=n[5],w=n[6],O=n[7],t[4]=b*r+x*s+w*h+O*v,t[5]=b*i+x*l+w*f+O*g,t[6]=b*o+x*c+w*d+O*y,t[7]=b*a+x*u+w*p+O*m,b=n[8],x=n[9],w=n[10],O=n[11],t[8]=b*r+x*s+w*h+O*v,t[9]=b*i+x*l+w*f+O*g,t[10]=b*o+x*c+w*d+O*y,t[11]=b*a+x*u+w*p+O*m,b=n[12],x=n[13],w=n[14],O=n[15],t[12]=b*r+x*s+w*h+O*v,t[13]=b*i+x*l+w*f+O*g,t[14]=b*o+x*c+w*d+O*y,t[15]=b*a+x*u+w*p+O*m,t}function J(t,e,n){var r,i,o,a,s,l,c,u,h,f,d,p,v=n[0],g=n[1],y=n[2];return e===t?(t[12]=e[0]*v+e[4]*g+e[8]*y+e[12],t[13]=e[1]*v+e[5]*g+e[9]*y+e[13],t[14]=e[2]*v+e[6]*g+e[10]*y+e[14],t[15]=e[3]*v+e[7]*g+e[11]*y+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],f=e[9],d=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=c,t[7]=u,t[8]=h,t[9]=f,t[10]=d,t[11]=p,t[12]=r*v+s*g+h*y+e[12],t[13]=i*v+l*g+f*y+e[13],t[14]=o*v+c*g+d*y+e[14],t[15]=a*v+u*g+p*y+e[15]),t}function tt(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function et(t,e,n,r){var i,o,a,s,l,c,u,h,f,d,p,v,g,y,m,x,w,O,C,S,_,E,M,k,T=r[0],A=r[1],L=r[2],P=Math.hypot(T,A,L);return P<b?null:(P=1/P,T*=P,A*=P,L*=P,i=Math.sin(n),o=Math.cos(n),a=1-o,s=e[0],l=e[1],c=e[2],u=e[3],h=e[4],f=e[5],d=e[6],p=e[7],v=e[8],g=e[9],y=e[10],m=e[11],x=T*T*a+o,w=A*T*a+L*i,O=L*T*a-A*i,C=T*A*a-L*i,S=A*A*a+o,_=L*A*a+T*i,E=T*L*a+A*i,M=A*L*a-T*i,k=L*L*a+o,t[0]=s*x+h*w+v*O,t[1]=l*x+f*w+g*O,t[2]=c*x+d*w+y*O,t[3]=u*x+p*w+m*O,t[4]=s*C+h*S+v*_,t[5]=l*C+f*S+g*_,t[6]=c*C+d*S+y*_,t[7]=u*C+p*S+m*_,t[8]=s*E+h*M+v*k,t[9]=l*E+f*M+g*k,t[10]=c*E+d*M+y*k,t[11]=u*E+p*M+m*k,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function nt(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=e[9],h=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*r,t[5]=a*i+u*r,t[6]=s*i+h*r,t[7]=l*i+f*r,t[8]=c*i-o*r,t[9]=u*i-a*r,t[10]=h*i-s*r,t[11]=f*i-l*r,t}function rt(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],c=e[8],u=e[9],h=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*r,t[1]=a*i-u*r,t[2]=s*i-h*r,t[3]=l*i-f*r,t[8]=o*r+c*i,t[9]=a*r+u*i,t[10]=s*r+h*i,t[11]=l*r+f*i,t}function it(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],c=e[4],u=e[5],h=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*r,t[1]=a*i+u*r,t[2]=s*i+h*r,t[3]=l*i+f*r,t[4]=c*i-o*r,t[5]=u*i-a*r,t[6]=h*i-s*r,t[7]=f*i-l*r,t}function ot(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function at(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function st(t,e,n){var r,i,o,a=n[0],s=n[1],l=n[2],c=Math.hypot(a,s,l);return c<b?null:(c=1/c,a*=c,s*=c,l*=c,r=Math.sin(e),i=Math.cos(e),o=1-i,t[0]=a*a*o+i,t[1]=s*a*o+l*r,t[2]=l*a*o-s*r,t[3]=0,t[4]=a*s*o-l*r,t[5]=s*s*o+i,t[6]=l*s*o+a*r,t[7]=0,t[8]=a*l*o+s*r,t[9]=s*l*o-a*r,t[10]=l*l*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function lt(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ct(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ut(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ht(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=r+r,l=i+i,c=o+o,u=r*s,h=r*l,f=r*c,d=i*l,p=i*c,v=o*c,g=a*s,y=a*l,m=a*c;return t[0]=1-(d+v),t[1]=h+m,t[2]=f-y,t[3]=0,t[4]=h-m,t[5]=1-(u+v),t[6]=p+g,t[7]=0,t[8]=f+y,t[9]=p-g,t[10]=1-(u+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function ft(t,e){var n=new x(3),r=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=r*r+i*i+o*o+a*a;return h>0?(n[0]=2*(s*a+u*r+l*o-c*i)/h,n[1]=2*(l*a+u*i+c*r-s*o)/h,n[2]=2*(c*a+u*o+s*i-l*r)/h):(n[0]=2*(s*a+u*r+l*o-c*i),n[1]=2*(l*a+u*i+c*r-s*o),n[2]=2*(c*a+u*o+s*i-l*r)),ht(t,e,n),t}function dt(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function pt(t,e){var n=e[0],r=e[1],i=e[2],o=e[4],a=e[5],s=e[6],l=e[8],c=e[9],u=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(o,a,s),t[2]=Math.hypot(l,c,u),t}function vt(t,e){var n=new x(3);pt(n,e);var r=1/n[0],i=1/n[1],o=1/n[2],a=e[0]*r,s=e[1]*i,l=e[2]*o,c=e[4]*r,u=e[5]*i,h=e[6]*o,f=e[8]*r,d=e[9]*i,p=e[10]*o,v=a+u+p,g=0;return v>0?(g=2*Math.sqrt(v+1),t[3]=.25*g,t[0]=(h-d)/g,t[1]=(f-l)/g,t[2]=(s-c)/g):a>u&&a>p?(g=2*Math.sqrt(1+a-u-p),t[3]=(h-d)/g,t[0]=.25*g,t[1]=(s+c)/g,t[2]=(f+l)/g):u>p?(g=2*Math.sqrt(1+u-a-p),t[3]=(f-l)/g,t[0]=(s+c)/g,t[1]=.25*g,t[2]=(h+d)/g):(g=2*Math.sqrt(1+p-a-u),t[3]=(s-c)/g,t[0]=(f+l)/g,t[1]=(h+d)/g,t[2]=.25*g),t}function gt(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=e[3],l=i+i,c=o+o,u=a+a,h=i*l,f=i*c,d=i*u,p=o*c,v=o*u,g=a*u,y=s*l,m=s*c,b=s*u,x=r[0],w=r[1],O=r[2];return t[0]=(1-(p+g))*x,t[1]=(f+b)*x,t[2]=(d-m)*x,t[3]=0,t[4]=(f-b)*w,t[5]=(1-(h+g))*w,t[6]=(v+y)*w,t[7]=0,t[8]=(d+m)*O,t[9]=(v-y)*O,t[10]=(1-(h+p))*O,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function yt(t,e,n,r,i){var o=e[0],a=e[1],s=e[2],l=e[3],c=o+o,u=a+a,h=s+s,f=o*c,d=o*u,p=o*h,v=a*u,g=a*h,y=s*h,m=l*c,b=l*u,x=l*h,w=r[0],O=r[1],C=r[2],S=i[0],_=i[1],E=i[2],M=(1-(v+y))*w,k=(d+x)*w,T=(p-b)*w,A=(d-x)*O,L=(1-(f+y))*O,P=(g+m)*O,R=(p+b)*C,I=(g-m)*C,N=(1-(f+v))*C;return t[0]=M,t[1]=k,t[2]=T,t[3]=0,t[4]=A,t[5]=L,t[6]=P,t[7]=0,t[8]=R,t[9]=I,t[10]=N,t[11]=0,t[12]=n[0]+S-(M*S+A*_+R*E),t[13]=n[1]+_-(k*S+L*_+I*E),t[14]=n[2]+E-(T*S+P*_+N*E),t[15]=1,t}function mt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,l=i+i,c=n*a,u=r*a,h=r*s,f=i*a,d=i*s,p=i*l,v=o*a,g=o*s,y=o*l;return t[0]=1-h-p,t[1]=u+y,t[2]=f-g,t[3]=0,t[4]=u-y,t[5]=1-c-p,t[6]=d+v,t[7]=0,t[8]=f+g,t[9]=d-v,t[10]=1-c-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function bt(t,e,n,r,i,o,a){var s=1/(n-e),l=1/(i-r),c=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*l,t[10]=(a+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*c,t[15]=0,t}function xt(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}var wt=xt;function Ot(t,e,n,r,i){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=i*o,t[14]=i*r*o):(t[10]=-1,t[14]=-r),t}function Ct(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(a+s),c=2/(i+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-s)*l*.5,t[9]=(i-o)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function St(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(a+o)*c,t[15]=1,t}var _t=St;function Et(t,e,n,r,i,o,a){var s=1/(e-n),l=1/(r-i),c=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=o*c,t[15]=1,t}function Mt(t,e,n,r){var i,o,a,s,l,c,u,h,f,d,p=e[0],v=e[1],g=e[2],y=r[0],m=r[1],x=r[2],w=n[0],O=n[1],C=n[2];return Math.abs(p-w)<b&&Math.abs(v-O)<b&&Math.abs(g-C)<b?U(t):(u=p-w,h=v-O,f=g-C,d=1/Math.hypot(u,h,f),u*=d,h*=d,f*=d,i=m*f-x*h,o=x*u-y*f,a=y*h-m*u,d=Math.hypot(i,o,a),d?(d=1/d,i*=d,o*=d,a*=d):(i=0,o=0,a=0),s=h*a-f*o,l=f*i-u*a,c=u*o-h*i,d=Math.hypot(s,l,c),d?(d=1/d,s*=d,l*=d,c*=d):(s=0,l=0,c=0),t[0]=i,t[1]=s,t[2]=u,t[3]=0,t[4]=o,t[5]=l,t[6]=h,t[7]=0,t[8]=a,t[9]=c,t[10]=f,t[11]=0,t[12]=-(i*p+o*v+a*g),t[13]=-(s*p+l*v+c*g),t[14]=-(u*p+h*v+f*g),t[15]=1,t)}function kt(t,e,n,r){var i=e[0],o=e[1],a=e[2],s=r[0],l=r[1],c=r[2],u=i-n[0],h=o-n[1],f=a-n[2],d=u*u+h*h+f*f;d>0&&(d=1/Math.sqrt(d),u*=d,h*=d,f*=d);var p=l*f-c*h,v=c*u-s*f,g=s*h-l*u;return d=p*p+v*v+g*g,d>0&&(d=1/Math.sqrt(d),p*=d,v*=d,g*=d),t[0]=p,t[1]=v,t[2]=g,t[3]=0,t[4]=h*g-f*v,t[5]=f*p-u*g,t[6]=u*v-h*p,t[7]=0,t[8]=u,t[9]=h,t[10]=f,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function Tt(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function At(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Lt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function Pt(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function Rt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function It(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function Nt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function jt(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],h=t[9],f=t[10],d=t[11],p=t[12],v=t[13],g=t[14],y=t[15],m=e[0],x=e[1],w=e[2],O=e[3],C=e[4],S=e[5],_=e[6],E=e[7],M=e[8],k=e[9],T=e[10],A=e[11],L=e[12],P=e[13],R=e[14],I=e[15];return Math.abs(n-m)<=b*Math.max(1,Math.abs(n),Math.abs(m))&&Math.abs(r-x)<=b*Math.max(1,Math.abs(r),Math.abs(x))&&Math.abs(i-w)<=b*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-O)<=b*Math.max(1,Math.abs(o),Math.abs(O))&&Math.abs(a-C)<=b*Math.max(1,Math.abs(a),Math.abs(C))&&Math.abs(s-S)<=b*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(l-_)<=b*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(c-E)<=b*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(u-M)<=b*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(h-k)<=b*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(f-T)<=b*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(d-A)<=b*Math.max(1,Math.abs(d),Math.abs(A))&&Math.abs(p-L)<=b*Math.max(1,Math.abs(p),Math.abs(L))&&Math.abs(v-P)<=b*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(g-R)<=b*Math.max(1,Math.abs(g),Math.abs(R))&&Math.abs(y-I)<=b*Math.max(1,Math.abs(y),Math.abs(I))}var Bt=Q,Dt=Pt;function Ft(){var t=new x(9);return x!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function zt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function Wt(t,e,n,r,i,o,a,s,l){var c=new x(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=o,c[6]=a,c[7]=s,c[8]=l,c}function Ht(){var t=new x(4);return x!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function $t(t,e,n,r){var i=new x(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function Gt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Vt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=o*a,t}function Yt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,t}(function(){var t=Ht()})();function Ut(){var t=new x(4);return x!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Xt(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function qt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=n[0],l=n[1],c=n[2],u=n[3];return t[0]=r*u+a*s+i*c-o*l,t[1]=i*u+a*l+o*s-r*c,t[2]=o*u+a*c+r*l-i*s,t[3]=a*u-r*s-i*l-o*c,t}function Kt(t,e,n,r){var i,o,a,s,l,c=e[0],u=e[1],h=e[2],f=e[3],d=n[0],p=n[1],v=n[2],g=n[3];return o=c*d+u*p+h*v+f*g,o<0&&(o=-o,d=-d,p=-p,v=-v,g=-g),1-o>b?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,l=Math.sin(r*i)/a):(s=1-r,l=r),t[0]=s*c+l*d,t[1]=s*u+l*p,t[2]=s*h+l*v,t[3]=s*f+l*g,t}function Zt(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n+r*r+i*i+o*o,s=a?1/a:0;return t[0]=-n*s,t[1]=-r*s,t[2]=-i*s,t[3]=o*s,t}function Qt(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t}function Jt(t,e,n,r){var i=.5*Math.PI/180;e*=i,n*=i,r*=i;var o=Math.sin(e),a=Math.cos(e),s=Math.sin(n),l=Math.cos(n),c=Math.sin(r),u=Math.cos(r);return t[0]=o*l*u-a*s*c,t[1]=a*s*u+o*l*c,t[2]=a*l*c-o*s*u,t[3]=a*l*u+o*s*c,t}var te=$t,ee=Gt,ne=qt,re=Vt;(function(){var t=w(),e=S(1,0,0),n=S(0,1,0)})(),function(){var t=Ut(),e=Ut()}(),function(){var t=Ft()}();function ie(){var t=new x(2);return x!=Float32Array&&(t[0]=0,t[1]=0),t}function oe(t,e){var n=new x(2);return n[0]=t,n[1]=e,n}function ae(t,e){return t[0]=e[0],t[1]=e[1],t}function se(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function le(t,e){return t[0]*e[0]+t[1]*e[1]}function ce(t,e){return t[0]===e[0]&&t[1]===e[1]}(function(){var t=ie()})();var ue={}.toString,he=function(t,e){return ue.call(t)==="[object "+e+"]"},fe=he,de=function(t){return fe(t,"Number")},pe=de;function ve(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var ge=function(t){return null===t||void 0===t},ye=ge,me=function(t){return fe(t,"String")},be=function(t,e,n){return t<e?e:t>n?n:t},xe=be;var we=function(){return we=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},we.apply(this,arguments)};Object.create;function Oe(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Ce={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function Se(t){return Array.isArray(t)&&t.every((function(t){var e=t[0].toLowerCase();return Ce[e]===t.length-1&&"achlmqstvz".includes(e)}))}function _e(t){return Se(t)&&t.every((function(t){var e=t[0];return e===e.toUpperCase()}))}function Ee(t){return _e(t)&&t.every((function(t){var e=t[0];return"ACLMQZ".includes(e)}))}var Me={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function ke(t){var e=t.pathValue[t.segmentStart],n=e.toLowerCase(),r=t.data;while(r.length>=Ce[n])if("m"===n&&r.length>2?(t.segments.push([e].concat(r.splice(0,2))),n="l",e="m"===e?"l":"L"):t.segments.push([e].concat(r.splice(0,Ce[n]))),!Ce[n])break}function Te(t){var e=t.index,n=t.pathValue,r=n.charCodeAt(e);return 48===r?(t.param=0,void(t.index+=1)):49===r?(t.param=1,void(t.index+=1)):void(t.err='[path-util]: invalid Arc flag "'+n[e]+'", expecting 0 or 1 at index '+e)}function Ae(t){return t>=48&&t<=57||43===t||45===t||46===t}function Le(t){return t>=48&&t<=57}function Pe(t){var e,n=t.max,r=t.pathValue,i=t.index,o=i,a=!1,s=!1,l=!1,c=!1;if(o>=n)t.err="[path-util]: Invalid path value at index "+o+', "pathValue" is missing param';else if(e=r.charCodeAt(o),43!==e&&45!==e||(o+=1,e=r.charCodeAt(o)),Le(e)||46===e){if(46!==e){if(a=48===e,o+=1,e=r.charCodeAt(o),a&&o<n&&e&&Le(e))return void(t.err="[path-util]: Invalid path value at index "+i+', "'+r[i]+'" illegal number');while(o<n&&Le(r.charCodeAt(o)))o+=1,s=!0;e=r.charCodeAt(o)}if(46===e){c=!0,o+=1;while(Le(r.charCodeAt(o)))o+=1,l=!0;e=r.charCodeAt(o)}if(101===e||69===e){if(c&&!s&&!l)return void(t.err="[path-util]: Invalid path value at index "+o+', "'+r[o]+'" invalid float exponent');if(o+=1,e=r.charCodeAt(o),43!==e&&45!==e||(o+=1),!(o<n&&Le(r.charCodeAt(o))))return void(t.err="[path-util]: Invalid path value at index "+o+', "'+r[o]+'" invalid integer exponent');while(o<n&&Le(r.charCodeAt(o)))o+=1}t.index=o,t.param=+t.pathValue.slice(i,o)}else t.err="[path-util]: Invalid path value at index "+o+', "'+r[o]+'" is not a number'}function Re(t){var e=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return 10===t||13===t||8232===t||8233===t||32===t||9===t||11===t||12===t||160===t||t>=5760&&e.includes(t)}function Ie(t){var e=t.pathValue,n=t.max;while(t.index<n&&Re(e.charCodeAt(t.index)))t.index+=1}function Ne(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function je(t){return 97===(32|t)}function Be(t){var e=t.max,n=t.pathValue,r=t.index,i=n.charCodeAt(r),o=Ce[n[r].toLowerCase()];if(t.segmentStart=r,Ne(i))if(t.index+=1,Ie(t),t.data=[],o){for(;;){for(var a=o;a>0;a-=1){if(!je(i)||3!==a&&4!==a?Pe(t):Te(t),t.err.length)return;t.data.push(t.param),Ie(t),t.index<e&&44===n.charCodeAt(t.index)&&(t.index+=1,Ie(t))}if(t.index>=t.max)break;if(!Ae(n.charCodeAt(t.index)))break}ke(t)}else ke(t);else t.err='[path-util]: Invalid path value "'+n[r]+'" is not a path command'}var De=function(){function t(t){this.pathValue=t,this.segments=[],this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return t}();function Fe(t){if(Se(t))return[].concat(t);var e=new De(t);Ie(e);while(e.index<e.max&&!e.err.length)Be(e);return e.err?e.err:e.segments}function ze(t){if(_e(t))return[].concat(t);var e=Fe(t),n=0,r=0,i=0,o=0;return e.map((function(t){var e,a=t.slice(1).map(Number),s=t[0],l=s.toUpperCase();if("M"===s)return n=a[0],r=a[1],i=n,o=r,["M",n,r];if(s!==l)switch(l){case"A":e=[l,a[0],a[1],a[2],a[3],a[4],a[5]+n,a[6]+r];break;case"V":e=[l,a[0]+r];break;case"H":e=[l,a[0]+n];break;default:var c=a.map((function(t,e){return t+(e%2?r:n)}));e=[l].concat(c)}else e=[l].concat(a);var u=e.length;switch(l){case"Z":n=i,r=o;break;case"H":n=e[1];break;case"V":r=e[1];break;default:n=e[u-2],r=e[u-1],"M"===l&&(i=n,o=r)}return e}))}function We(t,e){var n=t[0],r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=t.slice(1).map(Number),l=t;if("TQ".includes(n)||(e.qx=null,e.qy=null),"H"===n)l=["L",t[1],i];else if("V"===n)l=["L",r,t[1]];else if("S"===n){var c=2*r-o,u=2*i-a;e.x1=c,e.y1=u,l=["C",c,u].concat(s)}else if("T"===n){var h=2*r-e.qx,f=2*i-e.qy;e.qx=h,e.qy=f,l=["Q",h,f].concat(s)}else if("Q"===n){var d=s[0],p=s[1];e.qx=d,e.qy=p}return l}function He(t){if(Ee(t))return[].concat(t);for(var e=ze(t),n=we({},Me),r=0;r<e.length;r+=1){e[r]=We(e[r],n);var i=e[r],o=i.length;n.x1=+i[o-2],n.y1=+i[o-1],n.x2=+i[o-4]||n.x1,n.y2=+i[o-3]||n.y1}return e}function $e(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return[r+(o-r)*n,i+(a-i)*n]}function Ge(t,e,n,r,i){var o=ve([t,e],[n,r]),a={x:0,y:0};if("number"===typeof i)if(i<=0)a={x:t,y:e};else if(i>=o)a={x:n,y:r};else{var s=$e([t,e],[n,r],i/o),l=s[0],c=s[1];a={x:l,y:c}}return{length:o,point:a,min:{x:Math.min(t,n),y:Math.min(e,r)},max:{x:Math.max(t,n),y:Math.max(e,r)}}}function Ve(t,e){var n=t.x,r=t.y,i=e.x,o=e.y,a=n*i+r*o,s=Math.sqrt((Math.pow(n,2)+Math.pow(r,2))*(Math.pow(i,2)+Math.pow(o,2))),l=n*o-r*i<0?-1:1,c=l*Math.acos(a/s);return c}function Ye(t,e,n,r,i,o,a,s,l,c){var u=Math.abs,h=Math.sin,f=Math.cos,d=Math.sqrt,p=Math.PI,v=u(n),g=u(r),y=(i%360+360)%360,m=y*(p/180);if(t===s&&e===l)return{x:t,y:e};if(0===v||0===g)return Ge(t,e,s,l,c).point;var b=(t-s)/2,x=(e-l)/2,w={x:f(m)*b+h(m)*x,y:-h(m)*b+f(m)*x},O=Math.pow(w.x,2)/Math.pow(v,2)+Math.pow(w.y,2)/Math.pow(g,2);O>1&&(v*=d(O),g*=d(O));var C=Math.pow(v,2)*Math.pow(g,2)-Math.pow(v,2)*Math.pow(w.y,2)-Math.pow(g,2)*Math.pow(w.x,2),S=Math.pow(v,2)*Math.pow(w.y,2)+Math.pow(g,2)*Math.pow(w.x,2),_=C/S;_=_<0?0:_;var E=(o!==a?1:-1)*d(_),M={x:E*(v*w.y/g),y:E*(-g*w.x/v)},k={x:f(m)*M.x-h(m)*M.y+(t+s)/2,y:h(m)*M.x+f(m)*M.y+(e+l)/2},T={x:(w.x-M.x)/v,y:(w.y-M.y)/g},A=Ve({x:1,y:0},T),L={x:(-w.x-M.x)/v,y:(-w.y-M.y)/g},P=Ve(T,L);!a&&P>0?P-=2*p:a&&P<0&&(P+=2*p),P%=2*p;var R=A+P*c,I=v*f(R),N=g*h(R),j={x:f(m)*I-h(m)*N+k.x,y:h(m)*I+f(m)*N+k.y};return j}function Ue(t,e,n,r,i,o,a,s,l,c,u){var h,f=u.bbox,d=void 0===f||f,p=u.length,v=void 0===p||p,g=u.sampleSize,y=void 0===g?30:g,m="number"===typeof c,b=t,x=e,w=0,O=[b,x,w],C=[b,x],S=0,_={x:0,y:0},E=[{x:b,y:x}];m&&c<=0&&(_={x:b,y:x});for(var M=0;M<=y;M+=1){if(S=M/y,h=Ye(t,e,n,r,i,o,a,s,l,S),b=h.x,x=h.y,d&&E.push({x:b,y:x}),v&&(w+=ve(C,[b,x])),C=[b,x],m&&w>=c&&c>O[2]){var k=(w-c)/(w-O[2]);_={x:C[0]*(1-k)+O[0]*k,y:C[1]*(1-k)+O[1]*k}}O=[b,x,w]}return m&&c>=w&&(_={x:s,y:l}),{length:w,point:_,min:{x:Math.min.apply(null,E.map((function(t){return t.x}))),y:Math.min.apply(null,E.map((function(t){return t.y})))},max:{x:Math.max.apply(null,E.map((function(t){return t.x}))),y:Math.max.apply(null,E.map((function(t){return t.y})))}}}function Xe(t,e,n,r,i,o,a,s,l){var c=1-l;return{x:Math.pow(c,3)*t+3*Math.pow(c,2)*l*n+3*c*Math.pow(l,2)*i+Math.pow(l,3)*a,y:Math.pow(c,3)*e+3*Math.pow(c,2)*l*r+3*c*Math.pow(l,2)*o+Math.pow(l,3)*s}}function qe(t,e,n,r,i,o,a,s,l,c){var u,h=c.bbox,f=void 0===h||h,d=c.length,p=void 0===d||d,v=c.sampleSize,g=void 0===v?10:v,y="number"===typeof l,m=t,b=e,x=0,w=[m,b,x],O=[m,b],C=0,S={x:0,y:0},_=[{x:m,y:b}];y&&l<=0&&(S={x:m,y:b});for(var E=0;E<=g;E+=1){if(C=E/g,u=Xe(t,e,n,r,i,o,a,s,C),m=u.x,b=u.y,f&&_.push({x:m,y:b}),p&&(x+=ve(O,[m,b])),O=[m,b],y&&x>=l&&l>w[2]){var M=(x-l)/(x-w[2]);S={x:O[0]*(1-M)+w[0]*M,y:O[1]*(1-M)+w[1]*M}}w=[m,b,x]}return y&&l>=x&&(S={x:a,y:s}),{length:x,point:S,min:{x:Math.min.apply(null,_.map((function(t){return t.x}))),y:Math.min.apply(null,_.map((function(t){return t.y})))},max:{x:Math.max.apply(null,_.map((function(t){return t.x}))),y:Math.max.apply(null,_.map((function(t){return t.y})))}}}function Ke(t,e,n,r,i,o,a){var s=1-a;return{x:Math.pow(s,2)*t+2*s*a*n+Math.pow(a,2)*i,y:Math.pow(s,2)*e+2*s*a*r+Math.pow(a,2)*o}}function Ze(t,e,n,r,i,o,a,s){var l,c=s.bbox,u=void 0===c||c,h=s.length,f=void 0===h||h,d=s.sampleSize,p=void 0===d?10:d,v="number"===typeof a,g=t,y=e,m=0,b=[g,y,m],x=[g,y],w=0,O={x:0,y:0},C=[{x:g,y:y}];v&&a<=0&&(O={x:g,y:y});for(var S=0;S<=p;S+=1){if(w=S/p,l=Ke(t,e,n,r,i,o,w),g=l.x,y=l.y,u&&C.push({x:g,y:y}),f&&(m+=ve(x,[g,y])),x=[g,y],v&&m>=a&&a>b[2]){var _=(m-a)/(m-b[2]);O={x:x[0]*(1-_)+b[0]*_,y:x[1]*(1-_)+b[1]*_}}b=[g,y,m]}return v&&a>=m&&(O={x:i,y:o}),{length:m,point:O,min:{x:Math.min.apply(null,C.map((function(t){return t.x}))),y:Math.min.apply(null,C.map((function(t){return t.y})))},max:{x:Math.max.apply(null,C.map((function(t){return t.x}))),y:Math.max.apply(null,C.map((function(t){return t.y})))}}}function Qe(t,e,n){for(var r,i,o,a,s,l,c,u,h,f=He(t),d="number"===typeof e,p=[],v=0,g=0,y=0,m=0,b=[],x=[],w=0,O={x:0,y:0},C=O,S=O,_=O,E=0,M=0,k=f.length;M<k;M+=1)h=f[M],u=h[0],c="M"===u,p=c?p:[v,g].concat(h.slice(1)),c?(y=h[1],m=h[2],O={x:y,y:m},C=O,w=0,d&&e<.001&&(_=O)):"L"===u?(r=Ge(p[0],p[1],p[2],p[3],(e||0)-E),w=r.length,O=r.min,C=r.max,S=r.point):"A"===u?(i=Ue(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],(e||0)-E,n||{}),w=i.length,O=i.min,C=i.max,S=i.point):"C"===u?(o=qe(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],(e||0)-E,n||{}),w=o.length,O=o.min,C=o.max,S=o.point):"Q"===u?(a=Ze(p[0],p[1],p[2],p[3],p[4],p[5],(e||0)-E,n||{}),w=a.length,O=a.min,C=a.max,S=a.point):"Z"===u&&(p=[v,g,y,m],s=Ge(p[0],p[1],p[2],p[3],(e||0)-E),w=s.length,O=s.min,C=s.max,S=s.point),d&&E<e&&E+w>=e&&(_=S),x.push(C),b.push(O),E+=w,l="Z"!==u?h.slice(-2):[y,m],v=l[0],g=l[1];return d&&e>=E&&(_={x:v,y:g}),{length:E,point:_,min:{x:Math.min.apply(null,b.map((function(t){return t.x}))),y:Math.min.apply(null,b.map((function(t){return t.y})))},max:{x:Math.max.apply(null,x.map((function(t){return t.x}))),y:Math.max.apply(null,x.map((function(t){return t.y})))}}}function Je(t,e){return Qe(t,void 0,we(we({},e),{bbox:!1,length:!0})).length}var tn=function(t){return Array.isArray?Array.isArray(t):fe(t,"Array")},en=function(t){if(tn(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},nn=function(t){if(tn(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},rn=1e-5;function on(t,e,n){return void 0===n&&(n=rn),Math.abs(t-e)<n}var an=function(t,e){return(t%e+e)%e},sn=an;function ln(t,e,n){if(t[n].length>7){t[n].shift();var r=t[n],i=n;while(r.length)e[n]="A",t.splice(i+=1,0,["C"].concat(r.splice(0,6)));t.splice(n,1)}}function cn(t){return Ee(t)&&t.every((function(t){var e=t[0];return"MC".includes(e)}))}function un(t,e,n){var r=t*Math.cos(n)-e*Math.sin(n),i=t*Math.sin(n)+e*Math.cos(n);return{x:r,y:i}}function hn(t,e,n,r,i,o,a,s,l,c){var u,h,f,d,p,v=t,g=e,y=n,m=r,b=s,x=l,w=120*Math.PI/180,O=Math.PI/180*(+i||0),C=[];if(c)h=c[0],f=c[1],d=c[2],p=c[3];else{u=un(v,g,-O),v=u.x,g=u.y,u=un(b,x,-O),b=u.x,x=u.y;var S=(v-b)/2,_=(g-x)/2,E=S*S/(y*y)+_*_/(m*m);E>1&&(E=Math.sqrt(E),y*=E,m*=E);var M=y*y,k=m*m,T=(o===a?-1:1)*Math.sqrt(Math.abs((M*k-M*_*_-k*S*S)/(M*_*_+k*S*S)));d=T*y*_/m+(v+b)/2,p=T*-m*S/y+(g+x)/2,h=Math.asin(((g-p)/m*Math.pow(10,9)>>0)/Math.pow(10,9)),f=Math.asin(((x-p)/m*Math.pow(10,9)>>0)/Math.pow(10,9)),h=v<d?Math.PI-h:h,f=b<d?Math.PI-f:f,h<0&&(h=2*Math.PI+h),f<0&&(f=2*Math.PI+f),a&&h>f&&(h-=2*Math.PI),!a&&f>h&&(f-=2*Math.PI)}var A=f-h;if(Math.abs(A)>w){var L=f,P=b,R=x;f=h+w*(a&&f>h?1:-1),b=d+y*Math.cos(f),x=p+m*Math.sin(f),C=hn(b,x,y,m,i,0,a,P,R,[f,L,d,p])}A=f-h;var I=Math.cos(h),N=Math.sin(h),j=Math.cos(f),B=Math.sin(f),D=Math.tan(A/4),F=4/3*y*D,z=4/3*m*D,W=[v,g],H=[v+F*N,g-z*I],$=[b+F*B,x-z*j],G=[b,x];if(H[0]=2*W[0]-H[0],H[1]=2*W[1]-H[1],c)return H.concat($,G,C);C=H.concat($,G,C);for(var V=[],Y=0,U=C.length;Y<U;Y+=1)V[Y]=Y%2?un(C[Y-1],C[Y],O).y:un(C[Y],C[Y+1],O).x;return V}function fn(t,e,n,r,i,o){var a=1/3,s=2/3;return[a*t+s*n,a*e+s*r,a*i+s*n,a*o+s*r,i,o]}var dn=function(t,e,n,r){var i=.5,o=$e([t,e],[n,r],i);return Oe(Oe([],o,!0),[n,r,n,r],!1)};function pn(t,e){var n,r=t[0],i=t.slice(1).map(Number),o=i[0],a=i[1],s=e.x1,l=e.y1,c=e.x,u=e.y;switch("TQ".includes(r)||(e.qx=null,e.qy=null),r){case"M":return e.x=o,e.y=a,t;case"A":return n=[s,l].concat(i),["C"].concat(hn(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9]));case"Q":return e.qx=o,e.qy=a,n=[s,l].concat(i),["C"].concat(fn(n[0],n[1],n[2],n[3],n[4],n[5]));case"L":return["C"].concat(dn(s,l,o,a));case"Z":return s===c&&l===u?["C",s,l,c,u,c,u]:["C"].concat(dn(s,l,c,u));default:}return t}function vn(t,e){if(void 0===e&&(e=!1),cn(t)){var n=[].concat(t);return e?[n,[]]:n}for(var r,i,o=He(t),a=we({},Me),s=[],l="",c=o.length,u=[],h=0;h<c;h+=1){o[h]&&(l=o[h][0]),s[h]=l;var f=pn(o[h],a);o[h]=f,ln(o,s,h),c=o.length,"Z"===l&&u.push(h),r=o[h],i=r.length,a.x1=+r[i-2],a.y1=+r[i-1],a.x2=+r[i-4]||a.x1,a.y2=+r[i-3]||a.y1}return e?[o,u]:o}function gn(t,e){void 0===e&&(e=.5);var n=t.slice(0,2),r=t.slice(2,4),i=t.slice(4,6),o=t.slice(6,8),a=$e(n,r,e),s=$e(r,i,e),l=$e(i,o,e),c=$e(a,s,e),u=$e(s,l,e),h=$e(c,u,e);return[["C"].concat(a,c,h),["C"].concat(u,l,o)]}function yn(t){return t.map((function(t,e,n){var r,i=e&&n[e-1].slice(-2).concat(t.slice(1)),o=e?qe(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],{bbox:!1}).length:0;return r=e?o?gn(i):[t,t]:[t],{s:t,ss:r,l:o}}))}function mn(t,e,n){var r=yn(t),i=yn(e),o=r.length,a=i.length,s=r.filter((function(t){return t.l})).length,l=i.filter((function(t){return t.l})).length,c=r.filter((function(t){return t.l})).reduce((function(t,e){var n=e.l;return t+n}),0)/s||0,u=i.filter((function(t){return t.l})).reduce((function(t,e){var n=e.l;return t+n}),0)/l||0,h=n||Math.max(o,a),f=[c,u],d=[h-o,h-a],p=0,v=[r,i].map((function(t,e){return t.l===h?t.map((function(t){return t.s})):t.map((function(t,n){return p=n&&d[e]&&t.l>=f[e],d[e]-=p?1:0,p?t.ss:[t.s]})).flat()}));return v[0].length===v[1].length?v:mn(v[0],v[1],h)}function bn(t,e,n,r,i,o,a,s){return 3*((s-e)*(n+i)-(a-t)*(r+o)+r*(t-i)-n*(e-o)+s*(i+t/3)-a*(o+e/3))/20}function xn(t){var e=0,n=0,r=0;return vn(t).map((function(t){var i;switch(t[0]){case"M":return e=t[1],n=t[2],0;default:var o=t.slice(1),a=o[0],s=o[1],l=o[2],c=o[3],u=o[4],h=o[5];return r=bn(e,n,a,s,l,c,u,h),i=t.slice(-2),e=i[0],n=i[1],r}})).reduce((function(t,e){return t+e}),0)}function wn(t){return xn(t)>=0}function On(t){var e=t.slice(1).map((function(e,n,r){return n?r[n-1].slice(-2).concat(e.slice(1)):t[0].slice(1).concat(e.slice(1))})).map((function(t){return t.map((function(e,n){return t[t.length-n-2*(1-n%2)]}))})).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map((function(t){return["C"].concat(t.slice(2))})))}function Cn(t){return t.map((function(t){return Array.isArray(t)?[].concat(t):t}))}function Sn(t){var e=t.length,n=e-1;return t.map((function(r,i){return t.map((function(r,o){var a,s=i+o;return 0===o||t[s]&&"M"===t[s][0]?(a=t[s],["M"].concat(a.slice(-2))):(s>=e&&(s-=n),t[s])}))}))}function _n(t,e){var n=t.length-1,r=[],i=0,o=0,a=Sn(t);return a.forEach((function(i,a){t.slice(1).forEach((function(r,i){o+=ve(t[(a+i)%n].slice(-2),e[i%n].slice(-2))})),r[a]=o,o=0})),i=r.indexOf(Math.min.apply(null,r)),a[i]}var En=function(t){return fe(t,"Boolean")},Mn=En,kn=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e},Tn=function(t){return void 0===t},An=Tn;function Ln(t,e,n){return Qe(t,e,we(we({},n),{bbox:!1,length:!0})).point}function Pn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Rn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function In(){}var Nn=.7,jn=1/Nn,Bn="\\s*([+-]?\\d+)\\s*",Dn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zn=/^#([0-9a-f]{3,8})$/,Wn=new RegExp("^rgb\\("+[Bn,Bn,Bn]+"\\)$"),Hn=new RegExp("^rgb\\("+[Fn,Fn,Fn]+"\\)$"),$n=new RegExp("^rgba\\("+[Bn,Bn,Bn,Dn]+"\\)$"),Gn=new RegExp("^rgba\\("+[Fn,Fn,Fn,Dn]+"\\)$"),Vn=new RegExp("^hsl\\("+[Dn,Fn,Fn]+"\\)$"),Yn=new RegExp("^hsla\\("+[Dn,Fn,Fn,Dn]+"\\)$"),Un={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Xn(){return this.rgb().formatHex()}function qn(){return sr(this).formatHsl()}function Kn(){return this.rgb().formatRgb()}function Zn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=zn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Qn(e):3===n?new nr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Jn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Jn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Wn.exec(t))?new nr(e[1],e[2],e[3],1):(e=Hn.exec(t))?new nr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=$n.exec(t))?Jn(e[1],e[2],e[3],e[4]):(e=Gn.exec(t))?Jn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Vn.exec(t))?ar(e[1],e[2]/100,e[3]/100,1):(e=Yn.exec(t))?ar(e[1],e[2]/100,e[3]/100,e[4]):Un.hasOwnProperty(t)?Qn(Un[t]):"transparent"===t?new nr(NaN,NaN,NaN,0):null}function Qn(t){return new nr(t>>16&255,t>>8&255,255&t,1)}function Jn(t,e,n,r){return r<=0&&(t=e=n=NaN),new nr(t,e,n,r)}function tr(t){return t instanceof In||(t=Zn(t)),t?(t=t.rgb(),new nr(t.r,t.g,t.b,t.opacity)):new nr}function er(t,e,n,r){return 1===arguments.length?tr(t):new nr(t,e,n,null==r?1:r)}function nr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function rr(){return"#"+or(this.r)+or(this.g)+or(this.b)}function ir(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function or(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function ar(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new cr(t,e,n,r)}function sr(t){if(t instanceof cr)return new cr(t.h,t.s,t.l,t.opacity);if(t instanceof In||(t=Zn(t)),!t)return new cr;if(t instanceof cr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new cr(a,s,l,t.opacity)}function lr(t,e,n,r){return 1===arguments.length?sr(t):new cr(t,e,n,null==r?1:r)}function cr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ur(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Pn(In,Zn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Xn,formatHex:Xn,formatHsl:qn,formatRgb:Kn,toString:Kn}),Pn(nr,er,Rn(In,{brighter:function(t){return t=null==t?jn:Math.pow(jn,t),new nr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Nn:Math.pow(Nn,t),new nr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rr,formatHex:rr,formatRgb:ir,toString:ir})),Pn(cr,lr,Rn(In,{brighter:function(t){return t=null==t?jn:Math.pow(jn,t),new cr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Nn:Math.pow(Nn,t),new cr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new nr(ur(t>=240?t-240:t+120,i,r),ur(t,i,r),ur(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));Object.create;function hr(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function fr(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"===typeof SuppressedError&&SuppressedError;function dr(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function pr(t,e){var n=Math.min.apply(Math,fr([],hr(t),!1)),r=Math.min.apply(Math,fr([],hr(e),!1)),i=Math.max.apply(Math,fr([],hr(t),!1)),o=Math.max.apply(Math,fr([],hr(e),!1));return{x:n,y:r,width:i-n,height:o-r}}function vr(t,e,n){return Math.atan(-e/t*Math.tan(n))}function gr(t,e,n){return Math.atan(e/(t*Math.tan(n)))}function yr(t,e,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+t}function mr(t,e,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+e}function br(t,e,n,r,i,o,a){for(var s=vr(n,r,i),l=1/0,c=-1/0,u=[o,a],h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var f=s+h;o<a?o<f&&f<a&&u.push(f):a<f&&f<o&&u.push(f)}for(h=0;h<u.length;h++){var d=yr(t,e,n,r,i,u[h]);d<l&&(l=d),d>c&&(c=d)}var p=gr(n,r,i),v=1/0,g=-1/0,y=[o,a];for(h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var m=p+h;o<a?o<m&&m<a&&y.push(m):a<m&&m<o&&y.push(m)}for(h=0;h<y.length;h++){var b=mr(t,e,n,r,i,y[h]);b<v&&(v=b),b>g&&(g=b)}return{x:l,y:v,width:c-l,height:g-v}}var xr=1e-4;function wr(t,e,n,r,i,o){var a=-1,s=1/0,l=[n,r],c=20;o&&o>200&&(c=o/10);for(var u=1/c,h=u/10,f=0;f<=c;f++){var d=f*u,p=[i.apply(void 0,fr([],hr(t.concat([d])),!1)),i.apply(void 0,fr([],hr(e.concat([d])),!1))],v=dr(l[0],l[1],p[0],p[1]);v<s&&(a=d,s=v)}if(0===a)return{x:t[0],y:e[0]};if(1===a){var g=t.length;return{x:t[g-1],y:e[g-1]}}s=1/0;for(f=0;f<32;f++){if(h<xr)break;var y=a-h,m=a+h;p=[i.apply(void 0,fr([],hr(t.concat([y])),!1)),i.apply(void 0,fr([],hr(e.concat([y])),!1))],v=dr(l[0],l[1],p[0],p[1]);if(y>=0&&v<s)a=y,s=v;else{var b=[i.apply(void 0,fr([],hr(t.concat([m])),!1)),i.apply(void 0,fr([],hr(e.concat([m])),!1))],x=dr(l[0],l[1],b[0],b[1]);m<=1&&x<s?(a=m,s=x):h*=.5}}return{x:i.apply(void 0,fr([],hr(t.concat([a])),!1)),y:i.apply(void 0,fr([],hr(e.concat([a])),!1))}}function Or(t,e,n,r){return dr(t,e,n,r)}function Cr(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}}function Sr(t,e,n,r,i,o){var a=[n-t,r-e];if(ce(a,[0,0]))return Math.sqrt((i-t)*(i-t)+(o-e)*(o-e));var s=[-a[1],a[0]];se(s,s);var l=[i-t,o-e];return Math.abs(le(l,s))}function _r(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function Er(t,e,n,r){var i,o,a,s=-3*t+9*e-9*n+3*r,l=6*t-12*e+6*n,c=3*e-3*t,u=[];if(on(s,0))on(l,0)||(i=-c/l,i>=0&&i<=1&&u.push(i));else{var h=l*l-4*s*c;on(h,0)?u.push(-l/(2*s)):h>0&&(a=Math.sqrt(h),i=(-l+a)/(2*s),o=(-l-a)/(2*s),i>=0&&i<=1&&u.push(i),o>=0&&o<=1&&u.push(o))}return u}function Mr(t,e,n,r,i,o,a,s){for(var l=[t,a],c=[e,s],u=Er(t,n,i,a),h=Er(e,r,o,s),f=0;f<u.length;f++)l.push(_r(t,n,i,a,u[f]));for(f=0;f<h.length;f++)c.push(_r(e,r,o,s,h[f]));return pr(l,c)}function kr(t,e,n,r,i,o,a,s,l,c,u){return wr([t,n,i,a],[e,r,o,s],l,c,_r,u)}function Tr(t,e,n,r,i,o,a,s,l,c,u){var h=kr(t,e,n,r,i,o,a,s,l,c,u);return dr(h.x,h.y,l,c)}function Ar(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=dr(r[0],r[1],i[0],i[1])}return e}function Lr(t){return Ar(t)}function Pr(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function Rr(t,e,n){var r=t+n-2*e;if(on(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}function Ir(t,e,n,r,i,o){var a=Rr(t,n,i)[0],s=Rr(e,r,o)[0],l=[t,i],c=[e,o];return void 0!==a&&l.push(Pr(t,n,i,a)),void 0!==s&&c.push(Pr(e,r,o,s)),pr(l,c)}function Nr(t,e,n,r,i,o,a,s){return wr([t,n,i],[e,r,o],a,s,Pr)}function jr(t,e,n,r,i,o,a,s){var l=Nr(t,e,n,r,i,o,a,s);return dr(l.x,l.y,a,s)}"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self&&self;var Br={exports:{}};(function(t,e){(function(e,n){t.exports=n()})(0,(function(){function t(t,n,i,o,a){e(t,n,i||0,o||t.length-1,a||r)}function e(t,r,i,o,a){while(o>i){if(o-i>600){var s=o-i+1,l=r-i+1,c=Math.log(s),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1),f=Math.max(i,Math.floor(r-l*u/s+h)),d=Math.min(o,Math.floor(r+(s-l)*u/s+h));e(t,r,f,d,a)}var p=t[r],v=i,g=o;n(t,i,r),a(t[o],p)>0&&n(t,i,o);while(v<g){n(t,v,g),v++,g--;while(a(t[v],p)<0)v++;while(a(t[g],p)>0)g--}0===a(t[i],p)?n(t,i,g):(g++,n(t,g,o)),g<=r&&(i=g+1),r<=g&&(o=g-1)}}function n(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function r(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function a(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,r,i){i||(i=y(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<n;o++){var a=t.children[o];l(i,t.leaf?r(a):a)}return i}function l(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function c(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function p(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function v(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function g(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function y(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(e,n,r,i,o){var a=[n,r];while(a.length)if(r=a.pop(),n=a.pop(),!(r-n<=i)){var s=n+Math.ceil((r-n)/i/2)*i;t(e,s,n,r,o),a.push(n,s,s,r)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,n=[];if(!g(t,e))return n;var r=this.toBBox,i=[];while(e){for(var o=0;o<e.children.length;o++){var a=e.children[o],s=e.leaf?r(a):a;g(t,s)&&(e.leaf?n.push(a):v(t,s)?this._all(a,n):i.push(a))}e=i.pop()}return n},i.prototype.collides=function(t){var e=this.data;if(!g(t,e))return!1;var n=[];while(e){for(var r=0;r<e.children.length;r++){var i=e.children[r],o=e.leaf?this.toBBox(i):i;if(g(t,o)){if(e.leaf||v(t,o))return!0;n.push(i)}}e=n.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=y([]),this},i.prototype.remove=function(t,e){if(!t)return this;var n,r,i,a=this.data,s=this.toBBox(t),l=[],c=[];while(a||l.length){if(a||(a=l.pop(),r=l[l.length-1],n=c.pop(),i=!0),a.leaf){var u=o(t,a.children,e);if(-1!==u)return a.children.splice(u,1),l.push(a),this._condense(l),this}i||a.leaf||!v(a,s)?r?(n++,a=r.children[n],i=!1):a=null:(l.push(a),c.push(n),n=0,r=a,a=a.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){var n=[];while(t)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},i.prototype._build=function(t,e,n,r){var i,o=n-e+1,s=this._maxEntries;if(o<=s)return i=y(t.slice(e,n+1)),a(i,this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),i=y([]),i.leaf=!1,i.height=r;var l=Math.ceil(o/s),c=l*Math.ceil(Math.sqrt(s));m(t,e,n,c,this.compareMinX);for(var u=e;u<=n;u+=c){var h=Math.min(u+c-1,n);m(t,u,h,l,this.compareMinY);for(var f=u;f<=h;f+=l){var d=Math.min(f+l-1,h);i.children.push(this._build(t,f,d,r-1))}}return a(i,this.toBBox),i},i.prototype._chooseSubtree=function(t,e,n,r){while(1){if(r.push(e),e.leaf||r.length-1===n)break;for(var i=1/0,o=1/0,a=void 0,s=0;s<e.children.length;s++){var l=e.children[s],c=h(l),u=d(t,l)-c;u<o?(o=u,i=c<i?c:i,a=l):u===o&&c<i&&(i=c,a=l)}e=a||e.children[0]}return e},i.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),i=[],o=this._chooseSubtree(r,this.data,e,i);o.children.push(t),l(o,r);while(e>=0){if(!(i[e].children.length>this._maxEntries))break;this._split(i,e),e--}this._adjustParentBBoxes(r,i,e)},i.prototype._split=function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=y(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},i.prototype._splitRoot=function(t,e){this.data=y([t,e]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,n){for(var r,i=1/0,o=1/0,a=e;a<=n-e;a++){var l=s(t,0,a,this.toBBox),c=s(t,a,n,this.toBBox),u=p(l,c),f=h(l)+h(c);u<i?(i=u,r=a,o=f<o?f:o):u===i&&f<o&&(o=f,r=a)}return r||n-e},i.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:c,i=t.leaf?this.compareMinY:u,o=this._allDistMargin(t,e,n,r),a=this._allDistMargin(t,e,n,i);o<a&&t.children.sort(r)},i.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var i=this.toBBox,o=s(t,0,e,i),a=s(t,n-e,n,i),c=f(o)+f(a),u=e;u<n-e;u++){var h=t.children[u];l(o,t.leaf?i(h):h),c+=f(o)}for(var d=n-e-1;d>=e;d--){var p=t.children[d];l(a,t.leaf?i(p):p),c+=f(a)}return c},i.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)l(e[r],t)},i.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children,n.splice(n.indexOf(t[e]),1)):this.clear():a(t[e],this.toBBox)},i}))})(Br);var Dr,Fr,zr=Br.exports;(function(t){t["GROUP"]="g",t["CIRCLE"]="circle",t["ELLIPSE"]="ellipse",t["IMAGE"]="image",t["RECT"]="rect",t["LINE"]="line",t["POLYLINE"]="polyline",t["POLYGON"]="polygon",t["TEXT"]="text",t["PATH"]="path",t["HTML"]="html",t["MESH"]="mesh"})(Dr||(Dr={})),function(t){t[t["ZERO"]=0]="ZERO",t[t["NEGATIVE_ONE"]=1]="NEGATIVE_ONE"}(Fr||(Fr={}));var Wr=function(){function t(){this.plugins=[]}return t.prototype.addRenderingPlugin=function(t){this.plugins.push(t),this.context.renderingPlugins.push(t)},t.prototype.removeAllRenderingPlugins=function(){var t=this;this.plugins.forEach((function(e){var n=t.context.renderingPlugins.indexOf(e);n>=0&&t.context.renderingPlugins.splice(n,1)}))},t}(),Hr=function(){function t(t){this.clipSpaceNearZ=Fr.NEGATIVE_ONE,this.plugins=[],this.config=u({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1},t)}return t.prototype.registerPlugin=function(t){var e=this.plugins.findIndex((function(e){return e===t}));-1===e&&this.plugins.push(t)},t.prototype.unregisterPlugin=function(t){var e=this.plugins.findIndex((function(e){return e===t}));e>-1&&this.plugins.splice(e,1)},t.prototype.getPlugins=function(){return this.plugins},t.prototype.getPlugin=function(t){return this.plugins.find((function(e){return e.name===t}))},t.prototype.getConfig=function(){return this.config},t.prototype.setConfig=function(t){Object.assign(this.config,t)},t}();function $r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Gr(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function Vr(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Yr(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function Ur(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function Xr(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function qr(t){return void 0===t?0:t>360||t<-360?t%360:t}function Kr(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),Array.isArray(t)&&3===t.length?O(t):pe(t)?S(t,e,n):S(t[0],t[1]||e,t[2]||n)}function Zr(t){return t*(Math.PI/180)}function Qr(t){return t*(180/Math.PI)}function Jr(t){return 360*t}function ti(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n*n,s=r*r,l=i*i,c=o*o,u=a+s+l+c,h=n*o-r*i;return h>.499995*u?(t[0]=Math.PI/2,t[1]=2*Math.atan2(r,n),t[2]=0):h<-.499995*u?(t[0]=-Math.PI/2,t[1]=2*Math.atan2(r,n),t[2]=0):(t[0]=Math.asin(2*(n*i-o*r)),t[1]=Math.atan2(2*(n*o+r*i),1-2*(l+c)),t[2]=Math.atan2(2*(n*r+i*o),1-2*(s+l))),t}function ei(t,e){var n,r,i=.5*Math.PI,o=v(pt(w(),e),3),a=o[0],s=o[1],l=o[2],c=Math.asin(-e[2]/a);return c<i?c>-i?(n=Math.atan2(e[6]/s,e[10]/l),r=Math.atan2(e[1]/a,e[0]/a)):(r=0,n=-Math.atan2(e[4]/s,e[5]/s)):(r=0,n=Math.atan2(e[4]/s,e[5]/s)),t[0]=n,t[1]=c,t[2]=r,t}function ni(t,e){return 16===e.length?ei(t,e):ti(t,e)}function ri(t,e,n,r,i){var o=Math.cos(t),a=Math.sin(t);return Wt(r*o,i*a,0,-r*a,i*o,0,e,n,1)}function ii(t,e,n,r,i,o,a,s){void 0===s&&(s=!1);var l,c,u=2*o/(n-e),h=2*o/(r-i),f=(n+e)/(n-e),d=(r+i)/(r-i);return s?(l=-a/(a-o),c=-a*o/(a-o)):(l=-(a+o)/(a-o),c=-2*a*o/(a-o)),t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=f,t[9]=d,t[10]=l,t[11]=-1,t[12]=0,t[13]=0,t[14]=c,t[15]=0,t}function oi(t){var e=t[0],n=t[1],r=t[3],i=t[4],o=Math.sqrt(e*e+n*n),a=Math.sqrt(r*r+i*i),s=e*i-n*r;s<0&&(e<i?o=-o:a=-a),o&&(e*=1/o,n*=1/o),a&&(r*=1/a,i*=1/a);var l=Math.atan2(n,e),c=Qr(l);return[t[6],t[7],o,a,c]}var ai=H(),si=H(),li=Ht(),ci=[w(),w(),w()],ui=w();function hi(t,e,n,r,i,o){if(!fi(ai,t))return!1;if(G(si,ai),si[3]=0,si[7]=0,si[11]=0,si[15]=1,Math.abs(Z(si))<1e-8)return!1;var a=ai[3],s=ai[7],l=ai[11],c=ai[12],u=ai[13],h=ai[14],f=ai[15];if(0!==a||0!==s||0!==l){li[0]=a,li[1]=s,li[2]=l,li[3]=f;var d=q(si,si);if(!d)return!1;X(si,si),Yt(i,li,si)}else i[0]=i[1]=i[2]=0,i[3]=1;if(e[0]=c,e[1]=u,e[2]=h,di(ci,ai),n[0]=C(ci[0]),P(ci[0],ci[0]),r[0]=R(ci[0],ci[1]),pi(ci[1],ci[1],ci[0],1,-r[0]),n[1]=C(ci[1]),P(ci[1],ci[1]),r[0]/=n[1],r[1]=R(ci[0],ci[2]),pi(ci[2],ci[2],ci[0],1,-r[1]),r[2]=R(ci[1],ci[2]),pi(ci[2],ci[2],ci[1],1,-r[2]),n[2]=C(ci[2]),P(ci[2],ci[2]),r[1]/=n[2],r[2]/=n[2],I(ui,ci[1],ci[2]),R(ci[0],ui)<0)for(var p=0;p<3;p++)n[p]*=-1,ci[p][0]*=-1,ci[p][1]*=-1,ci[p][2]*=-1;return o[0]=.5*Math.sqrt(Math.max(1+ci[0][0]-ci[1][1]-ci[2][2],0)),o[1]=.5*Math.sqrt(Math.max(1-ci[0][0]+ci[1][1]-ci[2][2],0)),o[2]=.5*Math.sqrt(Math.max(1-ci[0][0]-ci[1][1]+ci[2][2],0)),o[3]=.5*Math.sqrt(Math.max(1+ci[0][0]+ci[1][1]+ci[2][2],0)),ci[2][1]>ci[1][2]&&(o[0]=-o[0]),ci[0][2]>ci[2][0]&&(o[1]=-o[1]),ci[1][0]>ci[0][1]&&(o[2]=-o[2]),!0}function fi(t,e){var n=e[15];if(0===n)return!1;for(var r=1/n,i=0;i<16;i++)t[i]=e[i]*r;return!0}function di(t,e){t[0][0]=e[0],t[0][1]=e[1],t[0][2]=e[2],t[1][0]=e[4],t[1][1]=e[5],t[1][2]=e[6],t[2][0]=e[8],t[2][1]=e[9],t[2][2]=e[10]}function pi(t,e,n,r,i){t[0]=e[0]*r+n[0]*i,t[1]=e[1]*r+n[1]*i,t[2]=e[2]*r+n[2]*i}var vi,gi=function(){function t(){this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return t.isEmpty=function(t){return!t||0===t.halfExtents[0]&&0===t.halfExtents[1]&&0===t.halfExtents[2]},t.prototype.update=function(t,e){$r(this.center,t),$r(this.halfExtents,e),Gr(this.min,this.center,this.halfExtents),Vr(this.max,this.center,this.halfExtents)},t.prototype.setMinMax=function(t,e){Vr(this.center,e,t),Yr(this.center,this.center,.5),Gr(this.halfExtents,e,t),Yr(this.halfExtents,this.halfExtents,.5),$r(this.min,t),$r(this.max,e)},t.prototype.getMin=function(){return this.min},t.prototype.getMax=function(){return this.max},t.prototype.add=function(e){if(!t.isEmpty(e))if(t.isEmpty(this))this.setMinMax(e.getMin(),e.getMax());else{var n=this.center,r=n[0],i=n[1],o=n[2],a=this.halfExtents,s=a[0],l=a[1],c=a[2],u=r-s,h=r+s,f=i-l,d=i+l,p=o-c,v=o+c,g=e.center,y=g[0],m=g[1],b=g[2],x=e.halfExtents,w=x[0],O=x[1],C=x[2],S=y-w,_=y+w,E=m-O,M=m+O,k=b-C,T=b+C;S<u&&(u=S),_>h&&(h=_),E<f&&(f=E),M>d&&(d=M),k<p&&(p=k),T>v&&(v=T),n[0]=.5*(u+h),n[1]=.5*(f+d),n[2]=.5*(p+v),a[0]=.5*(h-u),a[1]=.5*(d-f),a[2]=.5*(v-p),this.min[0]=u,this.min[1]=f,this.min[2]=p,this.max[0]=h,this.max[1]=d,this.max[2]=v}},t.prototype.setFromTransformedAABB=function(t,e){var n=this.center,r=this.halfExtents,i=t.center,o=t.halfExtents,a=e[0],s=e[4],l=e[8],c=e[1],u=e[5],h=e[9],f=e[2],d=e[6],p=e[10],v=Math.abs(a),g=Math.abs(s),y=Math.abs(l),m=Math.abs(c),b=Math.abs(u),x=Math.abs(h),w=Math.abs(f),O=Math.abs(d),C=Math.abs(p);n[0]=e[12]+a*i[0]+s*i[1]+l*i[2],n[1]=e[13]+c*i[0]+u*i[1]+h*i[2],n[2]=e[14]+f*i[0]+d*i[1]+p*i[2],r[0]=v*o[0]+g*o[1]+y*o[2],r[1]=m*o[0]+b*o[1]+x*o[2],r[2]=w*o[0]+O*o[1]+C*o[2],Gr(this.min,n,r),Vr(this.max,n,r)},t.prototype.intersects=function(t){var e=this.getMax(),n=this.getMin(),r=t.getMax(),i=t.getMin();return n[0]<=r[0]&&e[0]>=i[0]&&n[1]<=r[1]&&e[1]>=i[1]&&n[2]<=r[2]&&e[2]>=i[2]},t.prototype.intersection=function(e){if(!this.intersects(e))return null;var n=new t,r=Ur([0,0,0],this.getMin(),e.getMin()),i=Xr([0,0,0],this.getMax(),e.getMax());return n.setMinMax(r,i),n},t.prototype.getNegativeFarPoint=function(t){return 273===t.pnVertexFlag?$r([0,0,0],this.min):272===t.pnVertexFlag?[this.min[0],this.min[1],this.max[2]]:257===t.pnVertexFlag?[this.min[0],this.max[1],this.min[2]]:256===t.pnVertexFlag?[this.min[0],this.max[1],this.max[2]]:17===t.pnVertexFlag?[this.max[0],this.min[1],this.min[2]]:16===t.pnVertexFlag?[this.max[0],this.min[1],this.max[2]]:1===t.pnVertexFlag?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]},t.prototype.getPositiveFarPoint=function(t){return 273===t.pnVertexFlag?$r([0,0,0],this.max):272===t.pnVertexFlag?[this.max[0],this.max[1],this.min[2]]:257===t.pnVertexFlag?[this.max[0],this.min[1],this.max[2]]:256===t.pnVertexFlag?[this.max[0],this.min[1],this.min[2]]:17===t.pnVertexFlag?[this.min[0],this.max[1],this.max[2]]:16===t.pnVertexFlag?[this.min[0],this.max[1],this.min[2]]:1===t.pnVertexFlag?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]},t}(),yi=function(){function t(t,e){this.distance=t||0,this.normal=e||S(0,1,0),this.updatePNVertexFlag()}return t.prototype.updatePNVertexFlag=function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)},t.prototype.distanceToPoint=function(t){return R(t,this.normal)-this.distance},t.prototype.normalize=function(){var t=1/W(this.normal);A(this.normal,this.normal,t),this.distance*=t},t.prototype.intersectsLine=function(t,e,n){var r=this.distanceToPoint(t),i=this.distanceToPoint(e),o=r/(r-i),a=o>=0&&o<=1;return a&&n&&N(n,t,e,o),a},t}();(function(t){t[t["OUTSIDE"]=4294967295]="OUTSIDE",t[t["INSIDE"]=0]="INSIDE",t[t["INDETERMINATE"]=2147483647]="INDETERMINATE"})(vi||(vi={}));var mi,bi,xi,wi=function(){function t(t){if(this.planes=[],t)this.planes=t;else for(var e=0;e<6;e++)this.planes.push(new yi)}return t.prototype.extractFromVPMatrix=function(t){var e=v(t,16),n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],h=e[9],f=e[10],d=e[11],p=e[12],g=e[13],y=e[14],m=e[15];E(this.planes[0].normal,o-n,c-a,d-u),this.planes[0].distance=m-p,E(this.planes[1].normal,o+n,c+a,d+u),this.planes[1].distance=m+p,E(this.planes[2].normal,o+r,c+s,d+h),this.planes[2].distance=m+g,E(this.planes[3].normal,o-r,c-s,d-h),this.planes[3].distance=m-g,E(this.planes[4].normal,o-i,c-l,d-f),this.planes[4].distance=m-y,E(this.planes[5].normal,o+i,c+l,d+f),this.planes[5].distance=m+y,this.planes.forEach((function(t){t.normalize(),t.updatePNVertexFlag()}))},t}(),Oi=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y},t}(),Ci=function(){function t(t,e,n,r){this.x=t,this.y=e,this.width=n,this.height=r,this.left=t,this.right=t+n,this.top=e,this.bottom=e+r}return t.prototype.toJSON=function(){},t}(),Si="Method not implemented.",_i="Use document.documentElement instead.",Ei="Cannot append a destroyed element.";(function(t){t[t["ORBITING"]=0]="ORBITING",t[t["EXPLORING"]=1]="EXPLORING",t[t["TRACKING"]=2]="TRACKING"})(mi||(mi={})),function(t){t[t["DEFAULT"]=0]="DEFAULT",t[t["ROTATIONAL"]=1]="ROTATIONAL",t[t["TRANSLATIONAL"]=2]="TRANSLATIONAL",t[t["CINEMATIC"]=3]="CINEMATIC"}(bi||(bi={})),function(t){t[t["ORTHOGRAPHIC"]=0]="ORTHOGRAPHIC",t[t["PERSPECTIVE"]=1]="PERSPECTIVE"}(xi||(xi={}));var Mi,ki,Ti,Ai,Li,Pi={UPDATED:"updated"},Ri=2e-4,Ii=function(){function t(){this.clipSpaceNearZ=Fr.NEGATIVE_ONE,this.eventEmitter=new m,this.matrix=H(),this.right=S(1,0,0),this.up=S(0,1,0),this.forward=S(0,0,1),this.position=S(0,0,1),this.focalPoint=S(0,0,0),this.distanceVector=S(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=H(),this.projectionMatrixInverse=H(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=mi.EXPLORING,this.trackingMode=bi.DEFAULT,this.projectionMode=xi.PERSPECTIVE,this.frustum=new wi,this.orthoMatrix=H()}return t.prototype.isOrtho=function(){return this.projectionMode===xi.ORTHOGRAPHIC},t.prototype.getProjectionMode=function(){return this.projectionMode},t.prototype.getPerspective=function(){return this.jitteredProjectionMatrix||this.projectionMatrix},t.prototype.getPerspectiveInverse=function(){return this.projectionMatrixInverse},t.prototype.getFrustum=function(){return this.frustum},t.prototype.getPosition=function(){return this.position},t.prototype.getFocalPoint=function(){return this.focalPoint},t.prototype.getDollyingStep=function(){return this.dollyingStep},t.prototype.getNear=function(){return this.near},t.prototype.getFar=function(){return this.far},t.prototype.getZoom=function(){return this.zoom},t.prototype.getOrthoMatrix=function(){return this.orthoMatrix},t.prototype.getView=function(){return this.view},t.prototype.setEnableUpdate=function(t){this.enableUpdate=t},t.prototype.setType=function(t,e){return this.type=t,this.type===mi.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===mi.TRACKING&&void 0!==e&&this.setTrackingMode(e),this},t.prototype.setProjectionMode=function(t){return this.projectionMode=t,this},t.prototype.setTrackingMode=function(t){if(this.type!==mi.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=t,this},t.prototype.setWorldRotation=function(t){return this.rotateWorld=t,this._getAngles(),this},t.prototype.getViewTransform=function(){return q(H(),this.matrix)},t.prototype.getWorldTransform=function(){return this.matrix},t.prototype.jitterProjectionMatrix=function(t,e){var n=ot(H(),[t,e,0]);this.jitteredProjectionMatrix=Q(H(),n,this.projectionMatrix)},t.prototype.clearJitterProjectionMatrix=function(){this.jitteredProjectionMatrix=void 0},t.prototype.setMatrix=function(t){return this.matrix=t,this._update(),this},t.prototype.setFov=function(t){return this.setPerspective(this.near,this.far,t,this.aspect),this},t.prototype.setAspect=function(t){return this.setPerspective(this.near,this.far,this.fov,t),this},t.prototype.setNear=function(t){return this.projectionMode===xi.PERSPECTIVE?this.setPerspective(t,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,t,this.far),this},t.prototype.setFar=function(t){return this.projectionMode===xi.PERSPECTIVE?this.setPerspective(this.near,t,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,t),this},t.prototype.setViewOffset=function(t,e,n,r,i,o){return this.aspect=t/e,void 0===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.projectionMode===xi.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this},t.prototype.clearViewOffset=function(){return void 0!==this.view&&(this.view.enabled=!1),this.projectionMode===xi.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this},t.prototype.setZoom=function(t){return this.zoom=t,this.projectionMode===xi.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===xi.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this},t.prototype.setZoomByViewportPoint=function(t,e){var n=this.canvas.viewport2Canvas({x:e[0],y:e[1]}),r=n.x,i=n.y,o=this.roll;this.rotate(0,0,-o),this.setPosition(r,i),this.setFocalPoint(r,i),this.setZoom(t),this.rotate(0,0,o);var a=this.canvas.viewport2Canvas({x:e[0],y:e[1]}),s=a.x,l=a.y,c=S(s-r,l-i,0),u=R(c,this.right)/C(this.right),h=R(c,this.up)/C(this.up);return this.pan(-u,-h),this},t.prototype.setPerspective=function(t,e,n,r){var i;this.projectionMode=xi.PERSPECTIVE,this.fov=n,this.near=t,this.far=e,this.aspect=r;var o=this.near*Math.tan(Zr(.5*this.fov))/this.zoom,a=2*o,s=this.aspect*a,l=-.5*s;if(null===(i=this.view)||void 0===i?void 0:i.enabled){var c=this.view.fullWidth,u=this.view.fullHeight;l+=this.view.offsetX*s/c,o-=this.view.offsetY*a/u,s*=this.view.width/c,a*=this.view.height/u}return ii(this.projectionMatrix,l,l+s,o,o-a,t,this.far,this.clipSpaceNearZ===Fr.ZERO),tt(this.projectionMatrix,this.projectionMatrix,S(1,-1,1)),q(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this},t.prototype.setOrthographic=function(t,e,n,r,i,o){var a;this.projectionMode=xi.ORTHOGRAPHIC,this.rright=e,this.left=t,this.top=n,this.bottom=r,this.near=i,this.far=o;var s=(this.rright-this.left)/(2*this.zoom),l=(this.top-this.bottom)/(2*this.zoom),c=(this.rright+this.left)/2,u=(this.top+this.bottom)/2,h=c-s,f=c+s,d=u+l,p=u-l;if(null===(a=this.view)||void 0===a?void 0:a.enabled){var v=(this.rright-this.left)/this.view.fullWidth/this.zoom,g=(this.top-this.bottom)/this.view.fullHeight/this.zoom;h+=v*this.view.offsetX,f=h+v*this.view.width,d-=g*this.view.offsetY,p=d-g*this.view.height}return this.clipSpaceNearZ===Fr.NEGATIVE_ONE?_t(this.projectionMatrix,h,f,p,d,i,o):Et(this.projectionMatrix,h,f,p,d,i,o),tt(this.projectionMatrix,this.projectionMatrix,S(1,-1,1)),q(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this},t.prototype.setPosition=function(t,e,n){void 0===e&&(e=this.position[1]),void 0===n&&(n=this.position[2]);var r=Kr(t,e,n);return this._setPosition(r),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this},t.prototype.setFocalPoint=function(t,e,n){void 0===e&&(e=this.focalPoint[1]),void 0===n&&(n=this.focalPoint[2]);var r=S(0,1,0);if(this.focalPoint=Kr(t,e,n),this.trackingMode===bi.CINEMATIC){var i=k(w(),this.focalPoint,this.position);t=i[0],e=i[1],n=i[2];var o=C(i),a=Qr(Math.asin(e/o)),s=90+Qr(Math.atan2(n,t)),l=H();rt(l,l,Zr(s)),nt(l,l,Zr(a)),r=j(w(),[0,1,0],l)}return q(this.matrix,Mt(H(),this.position,this.focalPoint,r)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this},t.prototype.getDistance=function(){return this.distance},t.prototype.getDistanceVector=function(){return this.distanceVector},t.prototype.setDistance=function(t){if(this.distance===t||t<0)return this;this.distance=t,this.distance<Ri&&(this.distance=Ri),this.dollyingStep=this.distance/100;var e=w();t=this.distance;var n=this.forward,r=this.focalPoint;return e[0]=t*n[0]+r[0],e[1]=t*n[1]+r[1],e[2]=t*n[2]+r[2],this._setPosition(e),this.triggerUpdate(),this},t.prototype.setMaxDistance=function(t){return this.maxDistance=t,this},t.prototype.setMinDistance=function(t){return this.minDistance=t,this},t.prototype.setAzimuth=function(t){return this.azimuth=qr(t),this.computeMatrix(),this._getAxes(),this.type===mi.ORBITING||this.type===mi.EXPLORING?this._getPosition():this.type===mi.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},t.prototype.getAzimuth=function(){return this.azimuth},t.prototype.setElevation=function(t){return this.elevation=qr(t),this.computeMatrix(),this._getAxes(),this.type===mi.ORBITING||this.type===mi.EXPLORING?this._getPosition():this.type===mi.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},t.prototype.getElevation=function(){return this.elevation},t.prototype.setRoll=function(t){return this.roll=qr(t),this.computeMatrix(),this._getAxes(),this.type===mi.ORBITING||this.type===mi.EXPLORING?this._getPosition():this.type===mi.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},t.prototype.getRoll=function(){return this.roll},t.prototype._update=function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()},t.prototype.computeMatrix=function(){var t=Xt(Ut(),[0,0,1],Zr(this.roll));U(this.matrix);var e=Xt(Ut(),[1,0,0],Zr((this.rotateWorld&&this.type!==mi.TRACKING||this.type===mi.TRACKING?1:-1)*this.elevation)),n=Xt(Ut(),[0,1,0],Zr((this.rotateWorld&&this.type!==mi.TRACKING||this.type===mi.TRACKING?1:-1)*this.azimuth)),r=qt(Ut(),n,e);r=qt(Ut(),r,t);var i=mt(H(),r);this.type===mi.ORBITING||this.type===mi.EXPLORING?(J(this.matrix,this.matrix,this.focalPoint),Q(this.matrix,this.matrix,i),J(this.matrix,this.matrix,[0,0,this.distance])):this.type===mi.TRACKING&&(J(this.matrix,this.matrix,this.position),Q(this.matrix,this.matrix,i))},t.prototype._setPosition=function(t,e,n){this.position=Kr(t,e,n);var r=this.matrix;r[12]=this.position[0],r[13]=this.position[1],r[14]=this.position[2],r[15]=1,this._getOrthoMatrix()},t.prototype._getAxes=function(){_(this.right,Kr(Yt(Ht(),[1,0,0,0],this.matrix))),_(this.up,Kr(Yt(Ht(),[0,1,0,0],this.matrix))),_(this.forward,Kr(Yt(Ht(),[0,0,1,0],this.matrix))),P(this.right,this.right),P(this.up,this.up),P(this.forward,this.forward)},t.prototype._getAngles=function(){var t=this.distanceVector[0],e=this.distanceVector[1],n=this.distanceVector[2],r=C(this.distanceVector);if(0===r)return this.elevation=0,void(this.azimuth=0);this.type===mi.TRACKING||this.rotateWorld?(this.elevation=Qr(Math.asin(e/r)),this.azimuth=Qr(Math.atan2(-t,-n))):(this.elevation=-Qr(Math.asin(e/r)),this.azimuth=-Qr(Math.atan2(-t,-n)))},t.prototype._getPosition=function(){_(this.position,Kr(Yt(Ht(),[0,0,0,1],this.matrix))),this._getDistance()},t.prototype._getFocalPoint=function(){B(this.distanceVector,[0,0,-this.distance],zt(Ft(),this.matrix)),M(this.focalPoint,this.position,this.distanceVector),this._getDistance()},t.prototype._getDistance=function(){this.distanceVector=k(w(),this.focalPoint,this.position),this.distance=C(this.distanceVector),this.dollyingStep=this.distance/100},t.prototype._getOrthoMatrix=function(){if(this.projectionMode===xi.ORTHOGRAPHIC){var t=this.position,e=Xt(Ut(),[0,0,1],-this.roll*Math.PI/180);yt(this.orthoMatrix,e,S((this.rright-this.left)/2-t[0],(this.top-this.bottom)/2-t[1],0),S(this.zoom,this.zoom,1),t)}},t.prototype.triggerUpdate=function(){if(this.enableUpdate){var t=this.getViewTransform(),e=Q(H(),this.getPerspective(),t);this.getFrustum().extractFromVPMatrix(e),this.eventEmitter.emit(Pi.UPDATED)}},t.prototype.rotate=function(t,e,n){throw new Error(Si)},t.prototype.pan=function(t,e){throw new Error(Si)},t.prototype.dolly=function(t){throw new Error(Si)},t.prototype.createLandmark=function(t,e){throw new Error(Si)},t.prototype.gotoLandmark=function(t,e){throw new Error(Si)},t.prototype.cancelLandmarkAnimation=function(){throw new Error(Si)},t}();function Ni(t,e){if("function"!==typeof t||null!=e&&"function"!==typeof e)throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,r);return n.cache=a.set(o,s)||a,s};return n.cache=new(Ni.Cache||Map),n}Ni.Cache=Map,function(t){t[t["kUnknown"]=0]="kUnknown",t[t["kNumber"]=1]="kNumber",t[t["kPercentage"]=2]="kPercentage",t[t["kEms"]=3]="kEms",t[t["kPixels"]=4]="kPixels",t[t["kRems"]=5]="kRems",t[t["kDegrees"]=6]="kDegrees",t[t["kRadians"]=7]="kRadians",t[t["kGradians"]=8]="kGradians",t[t["kTurns"]=9]="kTurns",t[t["kMilliseconds"]=10]="kMilliseconds",t[t["kSeconds"]=11]="kSeconds",t[t["kInteger"]=12]="kInteger"}(Mi||(Mi={})),function(t){t[t["kUNumber"]=0]="kUNumber",t[t["kUPercent"]=1]="kUPercent",t[t["kULength"]=2]="kULength",t[t["kUAngle"]=3]="kUAngle",t[t["kUTime"]=4]="kUTime",t[t["kUOther"]=5]="kUOther"}(ki||(ki={})),function(t){t[t["kAll"]=0]="kAll",t[t["kNonNegative"]=1]="kNonNegative",t[t["kInteger"]=2]="kInteger",t[t["kNonNegativeInteger"]=3]="kNonNegativeInteger",t[t["kPositiveInteger"]=4]="kPositiveInteger"}(Ti||(Ti={})),function(t){t[t["kYes"]=0]="kYes",t[t["kNo"]=1]="kNo"}(Ai||(Ai={})),function(t){t[t["kYes"]=0]="kYes",t[t["kNo"]=1]="kNo"}(Li||(Li={}));var ji,Bi=[{name:"em",unit_type:Mi.kEms},{name:"px",unit_type:Mi.kPixels},{name:"deg",unit_type:Mi.kDegrees},{name:"rad",unit_type:Mi.kRadians},{name:"grad",unit_type:Mi.kGradians},{name:"ms",unit_type:Mi.kMilliseconds},{name:"s",unit_type:Mi.kSeconds},{name:"rem",unit_type:Mi.kRems},{name:"turn",unit_type:Mi.kTurns}];(function(t){t[t["kUnknownType"]=0]="kUnknownType",t[t["kUnparsedType"]=1]="kUnparsedType",t[t["kKeywordType"]=2]="kKeywordType",t[t["kUnitType"]=3]="kUnitType",t[t["kSumType"]=4]="kSumType",t[t["kProductType"]=5]="kProductType",t[t["kNegateType"]=6]="kNegateType",t[t["kInvertType"]=7]="kInvertType",t[t["kMinType"]=8]="kMinType",t[t["kMaxType"]=9]="kMaxType",t[t["kClampType"]=10]="kClampType",t[t["kTransformType"]=11]="kTransformType",t[t["kPositionType"]=12]="kPositionType",t[t["kURLImageType"]=13]="kURLImageType",t[t["kColorType"]=14]="kColorType",t[t["kUnsupportedColorType"]=15]="kUnsupportedColorType"})(ji||(ji={}));var Di,Fi=function(t){return Bi.find((function(e){return e.name===t})).unit_type},zi=function(t){return t?"number"===t?Mi.kNumber:"percent"===t||"%"===t?Mi.kPercentage:Fi(t):Mi.kUnknown},Wi=function(t){switch(t){case Mi.kNumber:case Mi.kInteger:return ki.kUNumber;case Mi.kPercentage:return ki.kUPercent;case Mi.kPixels:return ki.kULength;case Mi.kMilliseconds:case Mi.kSeconds:return ki.kUTime;case Mi.kDegrees:case Mi.kRadians:case Mi.kGradians:case Mi.kTurns:return ki.kUAngle;default:return ki.kUOther}},Hi=function(t){switch(t){case ki.kUNumber:return Mi.kNumber;case ki.kULength:return Mi.kPixels;case ki.kUPercent:return Mi.kPercentage;case ki.kUTime:return Mi.kSeconds;case ki.kUAngle:return Mi.kDegrees;default:return Mi.kUnknown}},$i=function(t){var e=1;switch(t){case Mi.kPixels:case Mi.kDegrees:case Mi.kSeconds:break;case Mi.kMilliseconds:e=.001;break;case Mi.kRadians:e=180/Math.PI;break;case Mi.kGradians:e=.9;break;case Mi.kTurns:e=360;break}return e},Gi=function(t){switch(t){case Mi.kNumber:case Mi.kInteger:return"";case Mi.kPercentage:return"%";case Mi.kEms:return"em";case Mi.kRems:return"rem";case Mi.kPixels:return"px";case Mi.kDegrees:return"deg";case Mi.kRadians:return"rad";case Mi.kGradians:return"grad";case Mi.kMilliseconds:return"ms";case Mi.kSeconds:return"s";case Mi.kTurns:return"turn"}return""},Vi=function(){function t(){}return t.isAngle=function(t){return t===Mi.kDegrees||t===Mi.kRadians||t===Mi.kGradians||t===Mi.kTurns},t.isLength=function(t){return t>=Mi.kEms&&t<Mi.kDegrees},t.isRelativeUnit=function(t){return t===Mi.kPercentage||t===Mi.kEms||t===Mi.kRems},t.isTime=function(t){return t===Mi.kSeconds||t===Mi.kMilliseconds},t.prototype.toString=function(){return this.buildCSSText(Ai.kNo,Li.kNo,"")},t.prototype.isNumericValue=function(){return this.getType()>=ji.kUnitType&&this.getType()<=ji.kClampType},t}(),Yi=function(t){function e(e){var n=t.call(this)||this;return n.colorSpace=e,n}return c(e,t),e.prototype.getType=function(){return ji.kColorType},e.prototype.to=function(t){return this},e}(Vi);(function(t){t[t["Constant"]=0]="Constant",t[t["LinearGradient"]=1]="LinearGradient",t[t["RadialGradient"]=2]="RadialGradient"})(Di||(Di={}));var Ui=function(t){function e(e,n){var r=t.call(this)||this;return r.type=e,r.value=n,r}return c(e,t),e.prototype.clone=function(){return new e(this.type,this.value)},e.prototype.buildCSSText=function(t,e,n){return n},e.prototype.getType=function(){return ji.kColorType},e}(Vi),Xi=function(t){function e(e){var n=t.call(this)||this;return n.value=e,n}return c(e,t),e.prototype.clone=function(){return new e(this.value)},e.prototype.getType=function(){return ji.kKeywordType},e.prototype.buildCSSText=function(t,e,n){return n+this.value},e}(Vi),qi=Ni((function(t){return void 0===t&&(t=""),t.replace(/-([a-z])/g,(function(t){return t[1].toUpperCase()}))})),Ki=function(t){return t.split("").map((function(t,e){return t.toUpperCase()===t?"".concat(0!==e?"-":"").concat(t.toLowerCase()):t})).join("")};function Zi(t){if(!t)throw new Error}function Qi(t){return"function"===typeof t}function Ji(t){return"symbol"===typeof t}var to={d:{alias:"path"},strokeDasharray:{alias:"lineDash"},strokeWidth:{alias:"lineWidth"},textAnchor:{alias:"textAlign"},src:{alias:"img"}},eo=Ni((function(t){var e=qi(t),n=to[e];return e=(null===n||void 0===n?void 0:n.alias)||e,e})),no=function(t,e){void 0===e&&(e="");var n="";return Number.isFinite(t)?(Zi(Number.isNaN(t)),n="NaN"):n=t>0?"infinity":"-infinity",n+e},ro=function(t){return Hi(Wi(t))},io=function(t){function e(e,n){void 0===n&&(n=Mi.kNumber);var r,i=t.call(this)||this;return r="string"===typeof n?zi(n):n,i.unit=r,i.value=e,i}return c(e,t),e.prototype.clone=function(){return new e(this.value,this.unit)},e.prototype.equals=function(t){var e=t;return this.value===e.value&&this.unit===e.unit},e.prototype.getType=function(){return ji.kUnitType},e.prototype.convertTo=function(t){if(this.unit===t)return new e(this.value,this.unit);var n=ro(this.unit);if(n!==ro(t)||n===Mi.kUnknown)return null;var r=$i(this.unit)/$i(t);return new e(this.value*r,t)},e.prototype.buildCSSText=function(t,e,n){var r;switch(this.unit){case Mi.kUnknown:break;case Mi.kInteger:r=Number(this.value).toFixed(0);break;case Mi.kNumber:case Mi.kPercentage:case Mi.kEms:case Mi.kRems:case Mi.kPixels:case Mi.kDegrees:case Mi.kRadians:case Mi.kGradians:case Mi.kMilliseconds:case Mi.kSeconds:case Mi.kTurns:var i=-999999,o=999999,a=this.value,s=Gi(this.unit);if(a<i||a>o){var l=Gi(this.unit);r=!Number.isFinite(a)||Number.isNaN(a)?no(a,l):a+(l||"")}else r="".concat(a).concat(s)}return n+=r,n},e}(Vi),oo=new io(0,"px");new io(1,"px");var ao,so,lo=new io(0,"deg"),co=function(t){function e(e,n,r,i,o){void 0===i&&(i=1),void 0===o&&(o=!1);var a=t.call(this,"rgb")||this;return a.r=e,a.g=n,a.b=r,a.alpha=i,a.isNone=o,a}return c(e,t),e.prototype.clone=function(){return new e(this.r,this.g,this.b,this.alpha)},e.prototype.buildCSSText=function(t,e,n){return n+"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")},e}(Yi),uo=new Xi("unset"),ho=new Xi("initial"),fo=new Xi("inherit"),po={"":uo,unset:uo,initial:ho,inherit:fo},vo=function(t){return po[t]||(po[t]=new Xi(t)),po[t]},go=new co(0,0,0,0,!0),yo=new co(0,0,0,0),mo=Ni((function(t,e,n,r){return new co(t,e,n,r)}),(function(t,e,n,r){return"rgba(".concat(t,",").concat(e,",").concat(n,",").concat(r,")")})),bo=function(t,e){return void 0===e&&(e=Mi.kNumber),new io(t,e)},xo=new io(50,"%");(function(t){t[t["Standard"]=0]="Standard"})(ao||(ao={})),function(t){t[t["ADDED"]=0]="ADDED",t[t["REMOVED"]=1]="REMOVED",t[t["Z_INDEX_CHANGED"]=2]="Z_INDEX_CHANGED"}(so||(so={}));var wo,Oo={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Ci(0,0,0,0)};function Co(t){var e=t.type,n=t.value;return"hex"===e?"#".concat(n):"literal"===e?n:"rgb"===e?"rgb(".concat(n.join(","),")"):"rgba(".concat(n.join(","),")")}(function(t){t["COORDINATE"]="<coordinate>",t["COLOR"]="<color>",t["PAINT"]="<paint>",t["NUMBER"]="<number>",t["ANGLE"]="<angle>",t["OPACITY_VALUE"]="<opacity-value>",t["SHADOW_BLUR"]="<shadow-blur>",t["LENGTH"]="<length>",t["PERCENTAGE"]="<percentage>",t["LENGTH_PERCENTAGE"]="<length> | <percentage>",t["LENGTH_PERCENTAGE_12"]="[<length> | <percentage>]{1,2}",t["LENGTH_PERCENTAGE_14"]="[<length> | <percentage>]{1,4}",t["LIST_OF_POINTS"]="<list-of-points>",t["PATH"]="<path>",t["FILTER"]="<filter>",t["Z_INDEX"]="<z-index>",t["OFFSET_DISTANCE"]="<offset-distance>",t["DEFINED_PATH"]="<defined-path>",t["MARKER"]="<marker>",t["TRANSFORM"]="<transform>",t["TRANSFORM_ORIGIN"]="<transform-origin>",t["TEXT"]="<text>",t["TEXT_TRANSFORM"]="<text-transform>"})(wo||(wo={}));var So=function(){var t={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},e="";function n(t){throw new Error(e+": "+t)}function r(){var t=i();return e.length>0&&n("Invalid input not EOF"),t}function i(){return b(o)}function o(){return a("linear-gradient",t.linearGradient,l)||a("repeating-linear-gradient",t.repeatingLinearGradient,l)||a("radial-gradient",t.radialGradient,h)||a("repeating-radial-gradient",t.repeatingRadialGradient,h)||a("conic-gradient",t.conicGradient,h)}function a(e,r,i){return s(r,(function(r){var o=i();return o&&(L(t.comma)||n("Missing comma before color stops")),{type:e,orientation:o,colorStops:b(x)}}))}function s(e,r){var i=L(e);if(i){L(t.startCall)||n("Missing (");var o=r(i);return L(t.endCall)||n("Missing )"),o}}function l(){return c()||u()}function c(){return A("directional",t.sideOrCorner,1)}function u(){return A("angular",t.angleValue,1)}function h(){var n,r,i=f();return i&&(n=[],n.push(i),r=e,L(t.comma)&&(i=f(),i?n.push(i):e=r)),n}function f(){var t=d()||p();if(t)t.at=g();else{var e=v();if(e){t=e;var n=g();n&&(t.at=n)}else{var r=y();r&&(t={type:"default-radial",at:r})}}return t}function d(){var t=A("shape",/^(circle)/i,0);return t&&(t.style=T()||v()),t}function p(){var t=A("shape",/^(ellipse)/i,0);return t&&(t.style=M()||v()),t}function v(){return A("extent-keyword",t.extentKeywords,1)}function g(){if(A("position",/^at/,0)){var t=y();return t||n("Missing positioning value"),t}}function y(){var t=m();if(t.x||t.y)return{type:"position",value:t}}function m(){return{x:M(),y:M()}}function b(e){var r=e(),i=[];if(r){i.push(r);while(L(t.comma))r=e(),r?i.push(r):n("One extra comma")}return i}function x(){var t=w();return t||n("Expected color definition"),t.length=M(),t}function w(){return C()||_()||S()||O()}function O(){return A("literal",t.literalColor,0)}function C(){return A("hex",t.hexColor,1)}function S(){return s(t.rgbColor,(function(){return{type:"rgb",value:b(E)}}))}function _(){return s(t.rgbaColor,(function(){return{type:"rgba",value:b(E)}}))}function E(){return L(t.number)[1]}function M(){return A("%",t.percentageValue,1)||k()||T()}function k(){return A("position-keyword",t.positionKeywords,1)}function T(){return A("px",t.pixelValue,1)||A("em",t.emValue,1)}function A(t,e,n){var r=L(e);if(r)return{type:t,value:r[n]}}function L(t){var n=/^[\n\r\t\s]+/.exec(e);n&&P(n[0].length);var r=t.exec(e);return r&&P(r[0].length),r}function P(t){e=e.substring(t)}return function(t){return e=t,r()}}();function _o(t,e,n){var r=Zr(n.value),i=0,o=0,a=i+t/2,s=o+e/2,l=Math.abs(t*Math.cos(r))+Math.abs(e*Math.sin(r)),c=a-Math.cos(r)*l/2,u=s-Math.sin(r)*l/2,h=a+Math.cos(r)*l/2,f=s+Math.sin(r)*l/2;return{x1:c,y1:u,x2:h,y2:f}}function Eo(t,e,n,r,i){var o=n.value,a=r.value;n.unit===Mi.kPercentage&&(o=n.value/100*t),r.unit===Mi.kPercentage&&(a=r.value/100*e);var s=Math.max(ve([0,0],[o,a]),ve([0,e],[o,a]),ve([t,e],[o,a]),ve([t,0],[o,a]));return i&&(i instanceof io?s=i.value:i instanceof Xi&&("closest-side"===i.value?s=Math.min(o,t-o,a,e-a):"farthest-side"===i.value?s=Math.max(o,t-o,a,e-a):"closest-corner"===i.value&&(s=Math.min(ve([0,0],[o,a]),ve([0,e],[o,a]),ve([t,e],[o,a]),ve([t,0],[o,a]))))),{x:o,y:a,r:s}}var Mo=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,ko=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,To=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Ao=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Lo(t){var e,n,r,i=t.length;t[i-1].length=null!==(e=t[i-1].length)&&void 0!==e?e:{type:"%",value:"100"},i>1&&(t[0].length=null!==(n=t[0].length)&&void 0!==n?n:{type:"%",value:"0"});for(var o=0,a=Number(t[0].length.value),s=1;s<i;s++){var l=null===(r=t[s].length)||void 0===r?void 0:r.value;if(!ye(l)&&!ye(a)){for(var c=1;c<s-o;c++)t[o+c].length={type:"%",value:"".concat(a+(Number(l)-a)*c/(s-o))};o=s,a=Number(l)}}}var Po={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},Ro=Ni((function(t){var e;return e="angular"===t.type?Number(t.value):Po[t.value]||0,bo(e,"deg")})),Io=Ni((function(t){var e=50,n=50,r="%",i="%";if("position"===(null===t||void 0===t?void 0:t.type)){var o=t.value,a=o.x,s=o.y;"position-keyword"===(null===a||void 0===a?void 0:a.type)&&("left"===a.value?e=0:"center"===a.value?e=50:"right"===a.value?e=100:"top"===a.value?n=0:"bottom"===a.value&&(n=100)),"position-keyword"===(null===s||void 0===s?void 0:s.type)&&("left"===s.value?e=0:"center"===s.value?n=50:"right"===s.value?e=100:"top"===s.value?n=0:"bottom"===s.value&&(n=100)),"px"!==(null===a||void 0===a?void 0:a.type)&&"%"!==(null===a||void 0===a?void 0:a.type)&&"em"!==(null===a||void 0===a?void 0:a.type)||(r=null===a||void 0===a?void 0:a.type,e=Number(a.value)),"px"!==(null===s||void 0===s?void 0:s.type)&&"%"!==(null===s||void 0===s?void 0:s.type)&&"em"!==(null===s||void 0===s?void 0:s.type)||(i=null===s||void 0===s?void 0:s.type,n=Number(s.value))}return{cx:bo(e,r),cy:bo(n,i)}})),No=Ni((function(t){var e;if(t.indexOf("linear")>-1||t.indexOf("radial")>-1){var n=So(t);return n.map((function(t){var e=t.type,n=t.orientation,r=t.colorStops;Lo(r);var i=r.map((function(t){return{offset:bo(Number(t.length.value),"%"),color:Co(t)}}));if("linear-gradient"===e)return new Ui(Di.LinearGradient,{angle:n?Ro(n):lo,steps:i});if("radial-gradient"===e&&(n||(n=[{type:"shape",value:"circle"}]),"shape"===n[0].type&&"circle"===n[0].value)){var o=Io(n[0].at),a=o.cx,s=o.cy,l=void 0;if(n[0].style){var c=n[0].style,u=c.type,h=c.value;l="extent-keyword"===u?vo(h):bo(h,u)}return new Ui(Di.RadialGradient,{cx:a,cy:s,size:l,steps:i})}}))}var r=t[0];if("("===t[1]||"("===t[2])if("l"===r){var i=Mo.exec(t);if(i){var o=(null===(e=i[2].match(Ao))||void 0===e?void 0:e.map((function(t){return t.split(":")})))||[];return[new Ui(Di.LinearGradient,{angle:bo(parseFloat(i[1]),"deg"),steps:o.map((function(t){var e=v(t,2),n=e[0],r=e[1];return{offset:bo(100*Number(n),"%"),color:r}}))})]}}else if("r"===r){var a=jo(t);if(a){if(!me(a))return[new Ui(Di.RadialGradient,a)];t=a}}else if("p"===r)return Bo(t)}));function jo(t){var e,n=ko.exec(t);if(n){var r=(null===(e=n[4].match(Ao))||void 0===e?void 0:e.map((function(t){return t.split(":")})))||[];return{cx:bo(50,"%"),cy:bo(50,"%"),steps:r.map((function(t){var e=v(t,2),n=e[0],r=e[1];return{offset:bo(100*Number(n),"%"),color:r}}))}}return null}function Bo(t){var e=To.exec(t);if(e){var n=e[1],r=e[2];switch(n){case"a":n="repeat";break;case"x":n="repeat-x";break;case"y":n="repeat-y";break;case"n":n="no-repeat";break;default:n="no-repeat"}return{image:r,repetition:n}}return null}function Do(t){return t&&!!t.image}function Fo(t){return t&&!ye(t.r)&&!ye(t.g)&&!ye(t.b)}var zo=Ni((function(t){if(Do(t))return u({repetition:"repeat"},t);if(ye(t)&&(t=""),"transparent"===t)return yo;"currentColor"===t&&(t="black");var e=No(t);if(e)return e;var n=Zn(t),r=[0,0,0,0];return null!==n&&(r[0]=n.r||0,r[1]=n.g||0,r[2]=n.b||0,r[3]=n.opacity),mo.apply(void 0,g([],v(r),!1))}));function Wo(t,e){if(Fo(t)&&Fo(e))return[[Number(t.r),Number(t.g),Number(t.b),Number(t.alpha)],[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],function(t){var e=t.slice();if(e[3])for(var n=0;n<3;n++)e[n]=Math.round(xe(e[n],0,255));return e[3]=xe(e[3],0,1),"rgba(".concat(e.join(","),")")}]}function Ho(t,e){if(ye(e))return bo(0,"px");if(e="".concat(e).trim().toLowerCase(),isFinite(Number(e))){if("px".search(t)>=0)return bo(Number(e),"px");if("deg".search(t)>=0)return bo(Number(e),"deg")}var n=[];e=e.replace(t,(function(t){return n.push(t),"U"+t}));var r="U("+t.source+")";return n.map((function(t){return bo(Number(e.replace(new RegExp("U"+t,"g"),"").replace(new RegExp(r,"g"),"*0")),t)}))[0]}var $o=Ni((function(t){return Ho(new RegExp("px","g"),t)}));Ni((function(t){return Ho(new RegExp("%","g"),t)}));var Go=function(t){return pe(t)||isFinite(Number(t))?bo(Number(t)||0,"px"):Ho(new RegExp("px|%|em|rem","g"),t)},Vo=Ni((function(t){return Ho(new RegExp("deg|rad|grad|turn","g"),t)}));function Yo(t,e,n,r,i){void 0===i&&(i=0);var o="",a=t.value||0,s=e.value||0,l=ro(t.unit),c=t.convertTo(l),u=e.convertTo(l);return c&&u?(a=c.value,s=u.value,o=Gi(t.unit)):(io.isLength(t.unit)||io.isLength(e.unit))&&(a=Ko(t,i,n),s=Ko(e,i,n),o="px"),[a,s,function(t){return r&&(t=Math.max(t,0)),t+o}]}function Uo(t){var e=0;return t.unit===Mi.kDegrees?e=t.value:t.unit===Mi.kRadians?e=Qr(Number(t.value)):t.unit===Mi.kTurns&&(e=Jr(Number(t.value))),e}function Xo(t,e){var n;return Array.isArray(t)?n=t.map((function(t){return Number(t)})):me(t)?n=t.split(" ").map((function(t){return Number(t)})):pe(t)&&(n=[t]),2===e?1===n.length?[n[0],n[0]]:[n[0],n[1]]:1===n.length?[n[0],n[0],n[0],n[0]]:2===n.length?[n[0],n[1],n[0],n[1]]:3===n.length?[n[0],n[1],n[2],n[1]]:[n[0],n[1],n[2],n[3]]}function qo(t){return me(t)?t.split(" ").map((function(t){return Go(t)})):t.map((function(t){return Go(t.toString())}))}function Ko(t,e,n){if(0===t.value)return 0;if(t.unit===Mi.kPixels)return Number(t.value);if(t.unit===Mi.kPercentage&&n){var r=n.nodeName===Dr.GROUP?n.getLocalBounds():n.geometry.contentBounds;return t.value/100*r.halfExtents[e]*2}return 0}var Zo=function(t){return Ho(/deg|rad|grad|turn|px|%/g,t)},Qo=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function Jo(t){if(void 0===t&&(t=""),t=t.toLowerCase().trim(),"none"===t)return[];var e,n=/\s*([\w-]+)\(([^)]*)\)/g,r=[],i=0;while(e=n.exec(t)){if(e.index!==i)return[];if(i=e.index+e[0].length,Qo.indexOf(e[1])>-1&&r.push({name:e[1],params:e[2].split(" ").map((function(t){return Zo(t)||zo(t)}))}),n.lastIndex===t.length)return r}return[]}function ta(t){return t.toString()}var ea=Ni((function(t){return"number"===typeof t?bo(t):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t)?bo(Number(t)):bo(0)}));function na(t,e){return[t,e,ta]}function ra(t,e){return function(n,r){return[n,r,function(n){return ta(xe(n,t,e))}]}}function ia(t,e){if(t.length===e.length)return[t,e,function(t){return t}]}function oa(t){return 0===t.parsedStyle.path.totalLength&&(t.parsedStyle.path.totalLength=Je(t.parsedStyle.path.absolutePath)),t.parsedStyle.path.totalLength}function aa(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r],o=i[0];if("C"===o||"A"===o||"Q"===o){e=!0;break}}return e}function sa(t){for(var e=[],n=[],r=[],i=0;i<t.length;i++){var o=t[i],a=o[0];"M"===a?(r.length&&(n.push(r),r=[]),r.push([o[1],o[2]])):"Z"===a?r.length&&(e.push(r),r=[]):r.push([o[1],o[2]])}return r.length>0&&n.push(r),{polygons:e,polylines:n}}function la(t,e){return t[0]===e[0]&&t[1]===e[1]}function ca(t,e){for(var n=[],r=[],i=[],o=0;o<t.length;o++){var a=t[o],s=a.currentPoint,l=a.params,c=a.prePoint,u=void 0;switch(a.command){case"Q":u=Ir(c[0],c[1],l[1],l[2],l[3],l[4]);break;case"C":u=Mr(c[0],c[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var h=a.arcParams;u=br(h.cx,h.cy,h.rx,h.ry,h.xRotation,h.startAngle,h.endAngle);break;default:n.push(s[0]),r.push(s[1]);break}u&&(a.box=u,n.push(u.x,u.x+u.width),r.push(u.y,u.y+u.height)),e&&("L"===a.command||"M"===a.command)&&a.prePoint&&a.nextPoint&&i.push(a)}n=n.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0})),r=r.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0}));var f=en(n),d=en(r),p=nn(n),v=nn(r);if(0===i.length)return{x:f,y:d,width:p-f,height:v-d};for(o=0;o<i.length;o++){a=i[o],s=a.currentPoint;var g=void 0;s[0]===f?(g=ua(a,e),f-=g.xExtra):s[0]===p&&(g=ua(a,e),p+=g.xExtra),s[1]===d?(g=ua(a,e),d-=g.yExtra):s[1]===v&&(g=ua(a,e),v+=g.yExtra)}return{x:f,y:d,width:p-f,height:v-d}}function ua(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),l=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!l||0===Math.sin(l)||on(l,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),u=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));c=c>Math.PI/2?Math.PI-c:c,u=u>Math.PI/2?Math.PI-u:u;var h={xExtra:Math.cos(l/2-c)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(u-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0};return h}function ha(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}Ni((function(t){return me(t)?t.split(" ").map(ea):t.map(ea)}));var fa=function(t,e){var n=t.x*e.x+t.y*e.y,r=Math.sqrt((Math.pow(t.x,2)+Math.pow(t.y,2))*(Math.pow(e.x,2)+Math.pow(e.y,2))),i=t.x*e.y-t.y*e.x<0?-1:1,o=i*Math.acos(n/r);return o},da=function(t,e,n,r,i,o,a,s){e=Math.abs(e),n=Math.abs(n),r=sn(r,360);var l=Zr(r);if(t.x===a.x&&t.y===a.y)return{x:t.x,y:t.y,ellipticalArcAngle:0};if(0===e||0===n)return{x:0,y:0,ellipticalArcAngle:0};var c=(t.x-a.x)/2,u=(t.y-a.y)/2,h={x:Math.cos(l)*c+Math.sin(l)*u,y:-Math.sin(l)*c+Math.cos(l)*u},f=Math.pow(h.x,2)/Math.pow(e,2)+Math.pow(h.y,2)/Math.pow(n,2);f>1&&(e=Math.sqrt(f)*e,n=Math.sqrt(f)*n);var d=Math.pow(e,2)*Math.pow(n,2)-Math.pow(e,2)*Math.pow(h.y,2)-Math.pow(n,2)*Math.pow(h.x,2),p=Math.pow(e,2)*Math.pow(h.y,2)+Math.pow(n,2)*Math.pow(h.x,2),v=d/p;v=v<0?0:v;var g=(i!==o?1:-1)*Math.sqrt(v),y={x:g*(e*h.y/n),y:g*(-n*h.x/e)},m={x:Math.cos(l)*y.x-Math.sin(l)*y.y+(t.x+a.x)/2,y:Math.sin(l)*y.x+Math.cos(l)*y.y+(t.y+a.y)/2},b={x:(h.x-y.x)/e,y:(h.y-y.y)/n},x=fa({x:1,y:0},b),w={x:(-h.x-y.x)/e,y:(-h.y-y.y)/n},O=fa(b,w);!o&&O>0?O-=2*Math.PI:o&&O<0&&(O+=2*Math.PI),O%=2*Math.PI;var C=x+O*s,S=e*Math.cos(C),_=n*Math.sin(C),E={x:Math.cos(l)*S-Math.sin(l)*_+m.x,y:Math.sin(l)*S+Math.cos(l)*_+m.y,ellipticalArcStartAngle:x,ellipticalArcEndAngle:x+O,ellipticalArcAngle:C,ellipticalArcCenter:m,resultantRx:e,resultantRy:n};return E};function pa(t){for(var e=[],n=null,r=null,i=null,o=0,a=t.length,s=0;s<a;s++){var l=t[s];r=t[s+1];var c=l[0],u={command:c,prePoint:n,params:l,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(c){case"M":i=[l[1],l[2]],o=s;break;case"A":var h=ba(n,l);u.arcParams=h;break}if("Z"===c)n=i,r=t[o+1];else{var f=l.length;n=[l[f-2],l[f-1]]}r&&"Z"===r[0]&&(r=t[o],e[o]&&(e[o].prePoint=n)),u.currentPoint=n,e[o]&&la(n,e[o].currentPoint)&&(e[o].prePoint=u.prePoint);var d=r?[r[r.length-2],r[r.length-1]]:null;u.nextPoint=d;var p=u.prePoint;if(["L","H","V"].includes(c))u.startTangent=[p[0]-n[0],p[1]-n[1]],u.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===c){var v=[l[1],l[2]];u.startTangent=[p[0]-v[0],p[1]-v[1]],u.endTangent=[n[0]-v[0],n[1]-v[1]]}else if("T"===c){var g=e[s-1];v=ha(g.currentPoint,p);"Q"===g.command?(u.command="Q",u.startTangent=[p[0]-v[0],p[1]-v[1]],u.endTangent=[n[0]-v[0],n[1]-v[1]]):(u.command="TL",u.startTangent=[p[0]-n[0],p[1]-n[1]],u.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===c){var y=[l[1],l[2]],m=[l[3],l[4]];u.startTangent=[p[0]-y[0],p[1]-y[1]],u.endTangent=[n[0]-m[0],n[1]-m[1]],0===u.startTangent[0]&&0===u.startTangent[1]&&(u.startTangent=[y[0]-m[0],y[1]-m[1]]),0===u.endTangent[0]&&0===u.endTangent[1]&&(u.endTangent=[m[0]-y[0],m[1]-y[1]])}else if("S"===c){g=e[s-1],y=ha(g.currentPoint,p),m=[l[1],l[2]];"C"===g.command?(u.command="C",u.startTangent=[p[0]-y[0],p[1]-y[1]],u.endTangent=[n[0]-m[0],n[1]-m[1]]):(u.command="SQ",u.startTangent=[p[0]-m[0],p[1]-m[1]],u.endTangent=[n[0]-m[0],n[1]-m[1]])}else if("A"===c){var b=va(u,0),x=b.x,w=b.y,O=va(u,1,!1),C=O.x,S=O.y;u.startTangent=[x,w],u.endTangent=[C,S]}e.push(u)}return e}function va(t,e,n){void 0===n&&(n=!0);var r=t.arcParams,i=r.rx,o=void 0===i?0:i,a=r.ry,s=void 0===a?0:a,l=r.xRotation,c=r.arcFlag,u=r.sweepFlag,h=da({x:t.prePoint[0],y:t.prePoint[1]},o,s,l,!!c,!!u,{x:t.currentPoint[0],y:t.currentPoint[1]},e),f=da({x:t.prePoint[0],y:t.prePoint[1]},o,s,l,!!c,!!u,{x:t.currentPoint[0],y:t.currentPoint[1]},n?e+.005:e-.005),d=f.x-h.x,p=f.y-h.y,v=Math.sqrt(d*d+p*p);return{x:-d/v,y:-p/v}}function ga(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ya(t,e){return ga(t)*ga(e)?(t[0]*e[0]+t[1]*e[1])/(ga(t)*ga(e)):1}function ma(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(ya(t,e))}function ba(t,e){var n=e[1],r=e[2],i=sn(Zr(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],l=t[1],c=e[6],u=e[7],h=Math.cos(i)*(s-c)/2+Math.sin(i)*(l-u)/2,f=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(l-u)/2,d=h*h/(n*n)+f*f/(r*r);d>1&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var p=n*n*(f*f)+r*r*(h*h),v=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*n*f/r:0,y=n?v*-r*h/n:0,m=(s+c)/2+Math.cos(i)*g-Math.sin(i)*y,b=(l+u)/2+Math.sin(i)*g+Math.cos(i)*y,x=[(h-g)/n,(f-y)/r],w=[(-1*h-g)/n,(-1*f-y)/r],O=ma([1,0],x),C=ma(x,w);return ya(x,w)<=-1&&(C=Math.PI),ya(x,w)>=1&&(C=0),0===a&&C>0&&(C-=2*Math.PI),1===a&&C<0&&(C+=2*Math.PI),{cx:m,cy:b,rx:la(t,[c,u])?0:n,ry:la(t,[c,u])?0:r,startAngle:O,endAngle:O+C,xRotation:i,arcFlag:o,sweepFlag:a}}function xa(t,e,n){var r=e.parsedStyle,i=r.defX,o=void 0===i?0:i,a=r.defY,s=void 0===a?0:a;return t.reduce((function(t,e){var r="";if("M"===e[0]||"L"===e[0]){var i=S(e[1]-o,e[2]-s,0);n&&j(i,i,n),r="".concat(e[0]).concat(i[0],",").concat(i[1])}else if("Z"===e[0])r=e[0];else if("C"===e[0]){var a=S(e[1]-o,e[2]-s,0),l=S(e[3]-o,e[4]-s,0),c=S(e[5]-o,e[6]-s,0);n&&(j(a,a,n),j(l,l,n),j(c,c,n)),r="".concat(e[0]).concat(a[0],",").concat(a[1],",").concat(l[0],",").concat(l[1],",").concat(c[0],",").concat(c[1])}else if("A"===e[0]){var u=S(e[6]-o,e[7]-s,0);n&&j(u,u,n),r="".concat(e[0]).concat(e[1],",").concat(e[2],",").concat(e[3],",").concat(e[4],",").concat(e[5],",").concat(u[0],",").concat(u[1])}else if("Q"===e[0]){a=S(e[1]-o,e[2]-s,0),l=S(e[3]-o,e[4]-s,0);n&&(j(a,a,n),j(l,l,n)),r="".concat(e[0]).concat(e[1],",").concat(e[2],",").concat(e[3],",").concat(e[4],"}")}return t+r}),"")}function wa(t,e,n,r){return[["M",t,e],["L",n,r]]}function Oa(t,e,n,r){var i=(-1+Math.sqrt(2))/3*4,o=t*i,a=e*i,s=n-t,l=n+t,c=r-e,u=r+e;return[["M",s,r],["C",s,r-a,n-o,c,n,c],["C",n+o,c,l,r-a,l,r],["C",l,r+a,n+o,u,n,u],["C",n-o,u,s,r+a,s,r],["Z"]]}function Ca(t,e){var n=t.map((function(t,e){return[0===e?"M":"L",t[0],t[1]]}));return e&&n.push(["Z"]),n}function Sa(t,e,n,r,i){if(i){var o=v(i,4),a=o[0],s=o[1],l=o[2],c=o[3],u=t>0?1:-1,h=e>0?1:-1,f=u+h!==0?1:0;return[["M",u*a+n,r],["L",t-u*s+n,r],s?["A",s,s,0,0,f,t+n,h*s+r]:null,["L",t+n,e-h*l+r],l?["A",l,l,0,0,f,t+n-u*l,e+r]:null,["L",n+u*c,e+r],c?["A",c,c,0,0,f,n,e+r-h*c]:null,["L",n,h*a+r],a?["A",a,a,0,0,f,u*a+n,r]:null,["Z"]].filter((function(t){return t}))}return[["M",n,r],["L",n+t,r],["L",n+t,r+e],["L",n,r+e],["Z"]]}function _a(t,e){void 0===e&&(e=t.getLocalTransform());var n=[];switch(t.nodeName){case Dr.LINE:var r=t.parsedStyle,i=r.x1,o=void 0===i?0:i,a=r.y1,s=void 0===a?0:a,l=r.x2,c=void 0===l?0:l,u=r.y2,h=void 0===u?0:u;n=wa(o,s,c,h);break;case Dr.CIRCLE:var f=t.parsedStyle,d=f.r,p=void 0===d?0:d,y=f.cx,m=void 0===y?0:y,b=f.cy,x=void 0===b?0:b;n=Oa(p,p,m,x);break;case Dr.ELLIPSE:var w=t.parsedStyle,O=w.rx,C=void 0===O?0:O,S=w.ry,_=void 0===S?0:S,E=w.cx,M=(m=void 0===E?0:E,w.cy);x=void 0===M?0:M;n=Oa(C,_,m,x);break;case Dr.POLYLINE:case Dr.POLYGON:var k=t.parsedStyle.points;n=Ca(k.points,t.nodeName===Dr.POLYGON);break;case Dr.RECT:var T=t.parsedStyle,A=T.width,L=void 0===A?0:A,P=T.height,R=void 0===P?0:P,I=T.x,N=void 0===I?0:I,j=T.y,B=void 0===j?0:j,D=T.radius,F=D&&D.some((function(t){return 0!==t}));n=Sa(L,R,N,B,F&&D.map((function(t){return xe(t,0,Math.min(Math.abs(L)/2,Math.abs(R)/2))})));break;case Dr.PATH:var z=t.parsedStyle.path.absolutePath;n=g([],v(z),!1);break}if(n.length)return xa(n,t,e)}var Ea=function(t){if(""===t||Array.isArray(t)&&0===t.length)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var e;try{e=He(t)}catch(f){e=He(""),console.error("[g]: Invalid SVG Path definition: ".concat(t))}var n=aa(e),r=sa(e),i=r.polygons,o=r.polylines,a=pa(e),s=ca(a,0),l=s.x,c=s.y,u=s.width,h=s.height;return{absolutePath:e,hasArc:n,segments:a,polygons:i,polylines:o,totalLength:0,rect:{x:Number.isFinite(l)?l:0,y:Number.isFinite(c)?c:0,width:Number.isFinite(u)?u:0,height:Number.isFinite(h)?h:0}}},Ma=Ni(Ea);function ka(t){return me(t)?Ma(t):Ea(t)}function Ta(t,e,n){var r=t.curve,i=e.curve;r&&0!==r.length||(r=vn(t.absolutePath,!1),t.curve=r),i&&0!==i.length||(i=vn(e.absolutePath,!1),e.curve=i);var o=[r,i];r.length!==i.length&&(o=mn(r,i));var a=wn(o[0])!==wn(o[1])?On(o[0]):Cn(o[0]);return[a,_n(o[1],a),function(t){return t}]}function Aa(t,e){var n;n=me(t)?t.split(" ").map((function(t){var e=v(t.split(","),2),n=e[0],r=e[1];return[Number(n),Number(r)]})):t;var r,i,o=[],a=0,s=Lr(n);n.forEach((function(t,e){n[e+1]&&(r=[0,0],r[0]=a/s,i=Or(t[0],t[1],n[e+1][0],n[e+1][1]),a+=i,r[1]=a/s,o.push(r))}));var l=Math.min.apply(Math,g([],v(n.map((function(t){return t[0]}))),!1)),c=Math.min.apply(Math,g([],v(n.map((function(t){return t[1]}))),!1));return e&&(e.parsedStyle.defX=l,e.parsedStyle.defY=c),{points:n,totalLength:s,segments:o}}function La(t,e){return[t.points,e.points,function(t){return t}]}var Pa=null;function Ra(t){return function(e){var n=0;return t.map((function(t){return t===Pa?e[n++]:t}))}}function Ia(t){return t}var Na={matrix:["NNNNNN",[Pa,Pa,0,0,Pa,Pa,0,0,0,0,1,0,Pa,Pa,0,1],Ia],matrix3d:["NNNNNNNNNNNNNNNN",Ia],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",Ra([Pa,Pa,new io(1)]),Ia],scalex:["N",Ra([Pa,new io(1),new io(1)]),Ra([Pa,new io(1)])],scaley:["N",Ra([new io(1),Pa,new io(1)]),Ra([new io(1),Pa])],scalez:["N",Ra([new io(1),new io(1),Pa])],scale3d:["NNN",Ia],skew:["Aa",null,Ia],skewx:["A",null,Ra([Pa,lo])],skewy:["A",null,Ra([lo,Pa])],translate:["Tt",Ra([Pa,Pa,oo]),Ia],translatex:["T",Ra([Pa,oo,oo]),Ra([Pa,oo])],translatey:["T",Ra([oo,Pa,oo]),Ra([oo,Pa])],translatez:["L",Ra([oo,oo,Pa])],translate3d:["TTL",Ia]};function ja(t){if(t=(t||"none").toLowerCase().trim(),"none"===t)return[];var e,n=/\s*(\w+)\(([^)]*)\)/g,r=[],i=0;while(e=n.exec(t)){if(e.index!==i)return[];i=e.index+e[0].length;var o=e[1],a=Na[o];if(!a)return[];var s=e[2].split(","),l=a[0];if(l.length<s.length)return[];for(var c=[],u=0;u<l.length;u++){var h=s[u],f=l[u],d=void 0;if(d=h?{A:function(t){return"0"===t.trim()?lo:Vo(t)},N:ea,T:Go,L:$o}[f.toUpperCase()](h):{a:lo,n:c[0],t:oo}[f],void 0===d)return[];c.push(d)}if(r.push({t:o,d:c}),n.lastIndex===t.length)return r}return[]}function Ba(t){var e,n,r,i;switch(t.t){case"rotatex":return i=Zr(Uo(t.d[0])),[1,0,0,0,0,Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1];case"rotatey":return i=Zr(Uo(t.d[0])),[Math.cos(i),0,-Math.sin(i),0,0,1,0,0,Math.sin(i),0,Math.cos(i),0,0,0,0,1];case"rotate":case"rotatez":return i=Zr(Uo(t.d[0])),[Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,1];case"rotate3d":e=t.d[0].value,n=t.d[1].value,r=t.d[2].value,i=Zr(Uo(t.d[3]));var o=e*e+n*n+r*r;if(0===o)e=1,n=0,r=0;else if(1!==o){var a=Math.sqrt(o);e/=a,n/=a,r/=a}var s=Math.sin(i/2),l=s*Math.cos(i/2),c=s*s;return[1-2*(n*n+r*r)*c,2*(e*n*c+r*l),2*(e*r*c-n*l),0,2*(e*n*c-r*l),1-2*(e*e+r*r)*c,2*(n*r*c+e*l),0,2*(e*r*c+n*l),2*(n*r*c-e*l),1-2*(e*e+n*n)*c,0,0,0,0,1];case"scale":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scalex":return[t.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaley":return[1,0,0,0,0,t.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scalez":return[1,0,0,0,0,1,0,0,0,0,t.d[0].value,0,0,0,0,1];case"scale3d":return[t.d[0].value,0,0,0,0,t.d[1].value,0,0,0,0,t.d[2].value,0,0,0,0,1];case"skew":var u=Zr(Uo(t.d[0])),h=Zr(Uo(t.d[1]));return[1,Math.tan(h),0,0,Math.tan(u),1,0,0,0,0,1,0,0,0,0,1];case"skewx":return i=Zr(Uo(t.d[0])),[1,0,0,0,Math.tan(i),1,0,0,0,0,1,0,0,0,0,1];case"skewy":return i=Zr(Uo(t.d[0])),[1,Math.tan(i),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return e=Ko(t.d[0],0,null)||0,n=Ko(t.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,n,0,1];case"translatex":return e=Ko(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,0,0,1];case"translatey":return n=Ko(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,n,0,1];case"translatez":return r=Ko(t.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,r,1];case"translate3d":return e=Ko(t.d[0],0,null)||0,n=Ko(t.d[1],0,null)||0,r=Ko(t.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,n,r,1];case"perspective":var f=Ko(t.d[0],0,null)||0,d=f?-1/f:0;return[1,0,0,0,0,1,0,0,0,0,1,d,0,0,0,1];case"matrix":return[t.d[0].value,t.d[1].value,0,0,t.d[2].value,t.d[3].value,0,0,0,0,1,0,t.d[4].value,t.d[5].value,0,1];case"matrix3d":return t.d.map((function(t){return t.value}))}}function Da(t,e){return[t[0]*e[0]+t[4]*e[1]+t[8]*e[2]+t[12]*e[3],t[1]*e[0]+t[5]*e[1]+t[9]*e[2]+t[13]*e[3],t[2]*e[0]+t[6]*e[1]+t[10]*e[2]+t[14]*e[3],t[3]*e[0]+t[7]*e[1]+t[11]*e[2]+t[15]*e[3],t[0]*e[4]+t[4]*e[5]+t[8]*e[6]+t[12]*e[7],t[1]*e[4]+t[5]*e[5]+t[9]*e[6]+t[13]*e[7],t[2]*e[4]+t[6]*e[5]+t[10]*e[6]+t[14]*e[7],t[3]*e[4]+t[7]*e[5]+t[11]*e[6]+t[15]*e[7],t[0]*e[8]+t[4]*e[9]+t[8]*e[10]+t[12]*e[11],t[1]*e[8]+t[5]*e[9]+t[9]*e[10]+t[13]*e[11],t[2]*e[8]+t[6]*e[9]+t[10]*e[10]+t[14]*e[11],t[3]*e[8]+t[7]*e[9]+t[11]*e[10]+t[15]*e[11],t[0]*e[12]+t[4]*e[13]+t[8]*e[14]+t[12]*e[15],t[1]*e[12]+t[5]*e[13]+t[9]*e[14]+t[13]*e[15],t[2]*e[12]+t[6]*e[13]+t[10]*e[14]+t[14]*e[15],t[3]*e[12]+t[7]*e[13]+t[11]*e[14]+t[15]*e[15]]}function Fa(t){return 0===t.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:t.map(Ba).reduce(Da)}function za(t){var e=[0,0,0],n=[1,1,1],r=[0,0,0],i=[0,0,0,1],o=[0,0,0,1];return hi(Fa(t),e,n,r,i,o),[[e,n,r,o,i]]}var Wa=function(){function t(t,e){for(var n=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],r=0;r<4;r++)for(var i=0;i<4;i++)for(var o=0;o<4;o++)n[r][i]+=e[r][o]*t[o][i];return n}function e(t){return 0==t[0][2]&&0==t[0][3]&&0==t[1][2]&&0==t[1][3]&&0==t[2][0]&&0==t[2][1]&&1==t[2][2]&&0==t[2][3]&&0==t[3][2]&&1==t[3][3]}function n(n,r,i,o,a){for(var s=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],l=0;l<4;l++)s[l][3]=a[l];for(l=0;l<3;l++)for(var c=0;c<3;c++)s[3][l]+=n[c]*s[c][l];var u=o[0],h=o[1],f=o[2],d=o[3],p=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];p[0][0]=1-2*(h*h+f*f),p[0][1]=2*(u*h-f*d),p[0][2]=2*(u*f+h*d),p[1][0]=2*(u*h+f*d),p[1][1]=1-2*(u*u+f*f),p[1][2]=2*(h*f-u*d),p[2][0]=2*(u*f-h*d),p[2][1]=2*(h*f+u*d),p[2][2]=1-2*(u*u+h*h),s=t(s,p);var v=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];i[2]&&(v[2][1]=i[2],s=t(s,v)),i[1]&&(v[2][1]=0,v[2][0]=i[0],s=t(s,v)),i[0]&&(v[2][0]=0,v[1][0]=i[0],s=t(s,v));for(l=0;l<3;l++)for(c=0;c<3;c++)s[l][c]*=r[l];return e(s)?[s[0][0],s[0][1],s[1][0],s[1][1],s[3][0],s[3][1]]:s[0].concat(s[1],s[2],s[3])}return n}();function Ha(t){return t.toFixed(6).replace(".000000","")}function $a(t,e){var n,r;return t.decompositionPair!==e&&(t.decompositionPair=e,n=za(t)),e.decompositionPair!==t&&(e.decompositionPair=t,r=za(e)),null===n[0]||null===r[0]?[[!1],[!0],function(n){return n?e[0].d:t[0].d}]:(n[0].push(0),r[0].push(1),[n,r,function(t){var e=Va(n[0][3],r[0][3],t[5]),i=Wa(t[0],t[1],t[2],e,t[4]),o=i.map(Ha).join(",");return o}])}function Ga(t,e){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[r];return n}function Va(t,e,n){var r=Ga(t,e);r=xe(r,-1,1);var i=[];if(1===r)i=t;else for(var o=Math.acos(r),a=1*Math.sin(n*o)/Math.sqrt(1-r*r),s=0;s<4;s++)i.push(t[s]*(Math.cos(n*o)-r*a)+e[s]*a);return i}function Ya(t){return t.replace(/[xy]/,"")}function Ua(t){return t.replace(/(x|y|z|3d)?$/,"3d")}var Xa=function(t,e){return"perspective"===t&&"perspective"===e||("matrix"===t||"matrix3d"===t)&&("matrix"===e||"matrix3d"===e)};function qa(t,e,n){var r=!1;if(!t.length||!e.length){t.length||(r=!0,t=e,e=[]);for(var i=function(n){var r=t[n],i=r.t,o=r.d,a="scale"===i.substring(0,5)?1:0;e.push({t:i,d:o.map((function(t){return"number"===typeof t?bo(a):bo(a,t.unit)}))})},o=0;o<t.length;o++)i(o)}var a=[],s=[],l=[];if(t.length!==e.length){var c=$a(t,e);a=[c[0]],s=[c[1]],l=[["matrix",[c[2]]]]}else for(o=0;o<t.length;o++){var u=t[o].t,h=e[o].t,f=t[o].d,d=e[o].d,p=Na[u],v=Na[h],g=void 0;if(Xa(u,h)){c=$a([t[o]],[e[o]]);a.push(c[0]),s.push(c[1]),l.push(["matrix",[c[2]]])}else{if(u===h)g=u;else if(p[2]&&v[2]&&Ya(u)===Ya(h))g=Ya(u),f=p[2](f),d=v[2](d);else{if(!p[1]||!v[1]||Ua(u)!==Ua(h)){c=$a(t,e);a=[c[0]],s=[c[1]],l=[["matrix",[c[2]]]];break}g=Ua(u),f=p[1](f),d=v[1](d)}for(var y=[],m=[],b=[],x=0;x<f.length;x++){c=Yo(f[x],d[x],n,!1,x);y[x]=c[0],m[x]=c[1],b.push(c[2])}a.push(y),s.push(m),l.push([g,b])}}if(r){var w=a;a=s,s=w}return[a,s,function(t){return t.map((function(t,e){var n=t.map((function(t,n){return l[e][1][n](t)})).join(",");return"matrix"===l[e][0]&&16===n.split(",").length&&(l[e][0]="matrix3d"),"matrix3d"===l[e][0]&&6===n.split(",").length&&(l[e][0]="matrix"),l[e][0]+"("+n+")"})).join(" ")}]}var Ka=Ni((function(t){if(me(t)){if("text-anchor"===t)return[bo(0,"px"),bo(0,"px")];var e=t.split(" ");return 1===e.length&&("top"===e[0]||"bottom"===e[0]?(e[1]=e[0],e[0]="center"):e[1]="center"),2!==e.length?null:[Go(Za(e[0])),Go(Za(e[1]))]}return[bo(t[0]||0,"px"),bo(t[1]||0,"px")]}));function Za(t){return"center"===t?"50%":"left"===t||"top"===t?"0":"right"===t||"bottom"===t?"100%":t}var Qa=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:wo.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:wo.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:wo.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:wo.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:wo.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:wo.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:wo.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:wo.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:wo.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:wo.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:wo.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:wo.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:wo.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:wo.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:wo.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:wo.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:wo.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:wo.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:wo.FILTER},{n:"clipPath",syntax:wo.DEFINED_PATH},{n:"textPath",syntax:wo.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:wo.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:wo.TRANSFORM},{n:"transformOrigin",p:100,d:function(t){return t===Dr.CIRCLE||t===Dr.ELLIPSE?"center":t===Dr.TEXT?"text-anchor":"left top"},l:!0,syntax:wo.TRANSFORM_ORIGIN},{n:"anchor",p:99,d:function(t){return t===Dr.CIRCLE||t===Dr.ELLIPSE?"0.5 0.5":"0 0"},l:!0,syntax:wo.LENGTH_PERCENTAGE_12},{n:"cx",int:!0,d:"0",syntax:wo.COORDINATE},{n:"cy",int:!0,d:"0",syntax:wo.COORDINATE},{n:"cz",int:!0,d:"0",syntax:wo.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:wo.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:wo.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:wo.LENGTH_PERCENTAGE},{n:"x",int:!0,d:"0",syntax:wo.COORDINATE},{n:"y",int:!0,d:"0",syntax:wo.COORDINATE},{n:"z",int:!0,d:"0",syntax:wo.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:wo.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:wo.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:wo.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:wo.COORDINATE},{n:"y1",int:!0,l:!0,syntax:wo.COORDINATE},{n:"z1",int:!0,l:!0,syntax:wo.COORDINATE},{n:"x2",int:!0,l:!0,syntax:wo.COORDINATE},{n:"y2",int:!0,l:!0,syntax:wo.COORDINATE},{n:"z2",int:!0,l:!0,syntax:wo.COORDINATE},{n:"path",int:!0,l:!0,d:"",a:["d"],syntax:wo.PATH,p:50},{n:"points",int:!0,l:!0,syntax:wo.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:wo.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:wo.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:wo.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:wo.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:wo.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:wo.NUMBER,d:function(t){return t===Dr.PATH||t===Dr.POLYGON||t===Dr.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:wo.MARKER},{n:"markerEnd",syntax:wo.MARKER},{n:"markerMid",syntax:wo.MARKER},{n:"markerStartOffset",syntax:wo.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:wo.LENGTH,l:!0,int:!0,d:"0"}],Ja=Qa.filter((function(t){return!!t.l})).map((function(t){return t.n})),ts={},es=new WeakMap,ns=function(t,e){var n=es.get(t);return!n||0===n.length||n.includes(e)},rs=function(){function t(t){var e=this;this.runtime=t,Qa.forEach((function(t){e.registerMetadata(t)}))}return t.prototype.registerMetadata=function(t){g([t.n],v(t.a||[]),!1).forEach((function(e){ts[e]=t}))},t.prototype.unregisterMetadata=function(t){delete ts[t]},t.prototype.getPropertySyntax=function(t){return this.runtime.CSSPropertySyntaxFactory[t]},t.prototype.processProperties=function(t,e,n){var r=this;if(void 0===n&&(n={skipUpdateAttribute:!1,skipParse:!1,forceUpdateGeometry:!1,usedAttributes:[]}),!this.runtime.enableCSSParsing){Object.assign(t.attributes,e);var i=Object.keys(e),o=t.parsedStyle.clipPath,a=t.parsedStyle.offsetPath;t.parsedStyle=Object.assign(t.parsedStyle,e);var s=!!n.forceUpdateGeometry;if(!s)for(var l=0;l<Ja.length;l++)if(Ja[l]in e){s=!0;break}return e.fill&&(t.parsedStyle.fill=zo(e.fill)),e.stroke&&(t.parsedStyle.stroke=zo(e.stroke)),e.shadowColor&&(t.parsedStyle.shadowColor=zo(e.shadowColor)),e.filter&&(t.parsedStyle.filter=Jo(e.filter)),ye(e.radius)||(t.parsedStyle.radius=Xo(e.radius,4)),ye(e.lineDash)||(t.parsedStyle.lineDash=Xo(e.lineDash,2)),e.points&&(t.parsedStyle.points=Aa(e.points,t)),""===e.path&&(t.parsedStyle.path=u({},Oo)),e.path&&(t.parsedStyle.path=ka(e.path),t.parsedStyle.defX=t.parsedStyle.path.rect.x,t.parsedStyle.defY=t.parsedStyle.path.rect.y),e.textTransform&&this.runtime.CSSPropertySyntaxFactory["<text-transform>"].calculator(null,null,{value:e.textTransform},t,null),e.clipPath&&this.runtime.CSSPropertySyntaxFactory["<defined-path>"].calculator("clipPath",o,e.clipPath,t,this.runtime),e.offsetPath&&this.runtime.CSSPropertySyntaxFactory["<defined-path>"].calculator("offsetPath",a,e.offsetPath,t,this.runtime),e.anchor&&(t.parsedStyle.anchor=Xo(e.anchor,2)),e.transform&&(t.parsedStyle.transform=ja(e.transform)),e.transformOrigin&&(t.parsedStyle.transformOrigin=Ka(e.transformOrigin)),e.markerStart&&(t.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory["<marker>"].calculator(null,e.markerStart,e.markerStart,null,null)),e.markerEnd&&(t.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory["<marker>"].calculator(null,e.markerEnd,e.markerEnd,null,null)),e.markerMid&&(t.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory["<marker>"].calculator("",e.markerMid,e.markerMid,null,null)),(t.nodeName!==Dr.CIRCLE&&t.nodeName!==Dr.ELLIPSE||ye(e.cx)&&ye(e.cy))&&(t.nodeName!==Dr.RECT&&t.nodeName!==Dr.IMAGE&&t.nodeName!==Dr.GROUP&&t.nodeName!==Dr.HTML&&t.nodeName!==Dr.TEXT&&t.nodeName!==Dr.MESH||ye(e.x)&&ye(e.y)&&ye(e.z))&&(t.nodeName!==Dr.LINE||ye(e.x1)&&ye(e.y1)&&ye(e.z1)&&ye(e.x2)&&ye(e.y2)&&ye(e.z2))||this.runtime.CSSPropertySyntaxFactory["<coordinate>"].postProcessor(t,i),ye(e.zIndex)||this.runtime.CSSPropertySyntaxFactory["<z-index>"].postProcessor(t,i),e.path&&this.runtime.CSSPropertySyntaxFactory["<path>"].postProcessor(t,i),e.points&&this.runtime.CSSPropertySyntaxFactory["<list-of-points>"].postProcessor(t,i),ye(e.offsetDistance)||this.runtime.CSSPropertySyntaxFactory["<offset-distance>"].postProcessor(t,i),e.transform&&this.runtime.CSSPropertySyntaxFactory["<transform>"].postProcessor(t,i),void(s&&this.updateGeometry(t))}var c=n.skipUpdateAttribute,h=n.skipParse,f=n.forceUpdateGeometry,d=n.usedAttributes,p=f,v=Object.keys(e);v.forEach((function(n){var r;c||(t.attributes[n]=e[n]),!p&&(null===(r=ts[n])||void 0===r?void 0:r.l)&&(p=!0)})),h||v.forEach((function(e){t.computedStyle[e]=r.parseProperty(e,t.attributes[e],t)})),(null===d||void 0===d?void 0:d.length)&&(v=Array.from(new Set(v.concat(d)))),v.forEach((function(e){e in t.computedStyle&&(t.parsedStyle[e]=r.computeProperty(e,t.computedStyle[e],t))})),p&&this.updateGeometry(t),v.forEach((function(e){e in t.parsedStyle&&r.postProcessProperty(e,t,v)})),this.runtime.enableCSSParsing&&t.children.length&&v.forEach((function(e){e in t.parsedStyle&&r.isPropertyInheritable(e)&&t.children.forEach((function(t){t.internalSetAttribute(e,null,{skipUpdateAttribute:!0,skipParse:!0})}))}))},t.prototype.parseProperty=function(t,e,n){var r=ts[t],i=e;if((""===e||ye(e))&&(e="unset"),"unset"===e||"initial"===e||"inherit"===e)i=vo(e);else if(r){var o=r.k,a=r.syntax,s=a&&this.getPropertySyntax(a);o&&o.indexOf(e)>-1?i=vo(e):s&&s.parser&&(i=s.parser(e,n))}return i},t.prototype.computeProperty=function(t,e,n){var r=ts[t],i="g-root"===n.id,o=e;if(r){var a=r.syntax,s=r.inh,l=r.d;if(e instanceof Xi){var c=e.value;if("unset"===c&&(c=s&&!i?"inherit":"initial"),"initial"===c)ye(l)||(e=this.parseProperty(t,Qi(l)?l(n.nodeName):l,n));else if("inherit"===c){var u=this.tryToResolveProperty(n,t,{inherited:!0});return ye(u)?void this.addUnresolveProperty(n,t):u}}var h=a&&this.getPropertySyntax(a);if(h&&h.calculator){var f=n.parsedStyle[t];o=h.calculator(t,f,e,n,this.runtime)}else o=e instanceof Xi?e.value:e}return o},t.prototype.postProcessProperty=function(t,e,n){var r=ts[t];if(r&&r.syntax){var i=r.syntax&&this.getPropertySyntax(r.syntax),o=i;o&&o.postProcessor&&o.postProcessor(e,n)}},t.prototype.addUnresolveProperty=function(t,e){var n=es.get(t);n||(es.set(t,[]),n=es.get(t)),-1===n.indexOf(e)&&n.push(e)},t.prototype.tryToResolveProperty=function(t,e,n){void 0===n&&(n={});var r=n.inherited;if(r&&t.parentElement&&ns(t.parentElement,e)){var i=t.parentElement.parsedStyle[e];if("unset"===i||"initial"===i||"inherit"===i)return;return i}},t.prototype.recalc=function(t){var e=es.get(t);if(e&&e.length){var n={};e.forEach((function(e){n[e]=t.attributes[e]})),this.processProperties(t,n),es.delete(t)}},t.prototype.updateGeometry=function(t){var e=t.nodeName,n=this.runtime.geometryUpdaterFactory[e];if(n){var r=t.geometry;r.contentBounds||(r.contentBounds=new gi),r.renderBounds||(r.renderBounds=new gi);var i=t.parsedStyle,o=n.update(i,t),a=o.width,s=o.height,l=o.depth,c=void 0===l?0:l,u=o.offsetX,h=void 0===u?0:u,f=o.offsetY,d=void 0===f?0:f,p=o.offsetZ,v=void 0===p?0:p,g=[Math.abs(a)/2,Math.abs(s)/2,c/2],y=i,m=y.stroke,b=y.lineWidth,x=y.increasedLineWidthForHitTesting,w=y.shadowType,O=y.shadowColor,C=y.filter,S=void 0===C?[]:C,_=y.transformOrigin,E=i.anchor;e===Dr.TEXT?delete i.anchor:e===Dr.MESH&&(i.anchor[2]=.5);var M=[(1-2*(E&&E[0]||0))*a/2+h,(1-2*(E&&E[1]||0))*s/2+d,(1-2*(E&&E[2]||0))*g[2]+v];r.contentBounds.update(M,g);var k=e===Dr.POLYLINE||e===Dr.POLYGON||e===Dr.PATH?Math.SQRT2:.5,T=m&&!m.isNone;if(T){var A=((b||0)+(x||0))*k;g[0]+=A,g[1]+=A}if(r.renderBounds.update(M,g),O&&w&&"inner"!==w){var L=r.renderBounds,P=L.min,R=L.max,I=i,N=I.shadowBlur,j=I.shadowOffsetX,B=I.shadowOffsetY,D=N||0,F=j||0,z=B||0,W=P[0]-D+F,H=R[0]+D+F,$=P[1]-D+z,G=R[1]+D+z;P[0]=Math.min(P[0],W),R[0]=Math.max(R[0],H),P[1]=Math.min(P[1],$),R[1]=Math.max(R[1],G),r.renderBounds.setMinMax(P,R)}S.forEach((function(t){var e=t.name,n=t.params;if("blur"===e){var i=n[0].value;r.renderBounds.update(r.renderBounds.center,Vr(r.renderBounds.halfExtents,r.renderBounds.halfExtents,[i,i,0]))}else if("drop-shadow"===e){var o=n[0].value,a=n[1].value,s=n[2].value,l=r.renderBounds,c=l.min,u=l.max,h=c[0]-s+o,f=u[0]+s+o,d=c[1]-s+a,p=u[1]+s+a;c[0]=Math.min(c[0],h),u[0]=Math.max(u[0],f),c[1]=Math.min(c[1],d),u[1]=Math.max(u[1],p),r.renderBounds.setMinMax(c,u)}})),E=i.anchor;var V=a<0,Y=s<0,U=(V?-1:1)*(_?Ko(_[0],0,t):0),X=(Y?-1:1)*(_?Ko(_[1],1,t):0);U-=(V?-1:1)*(E&&E[0]||0)*r.contentBounds.halfExtents[0]*2,X-=(Y?-1:1)*(E&&E[1]||0)*r.contentBounds.halfExtents[1]*2,t.setOrigin(U,X),this.runtime.sceneGraphService.dirtifyToRoot(t)}},t.prototype.isPropertyInheritable=function(t){var e=ts[t];return!!e&&e.inh},t}(),is=function(){function t(){this.parser=Vo,this.parserWithCSSDisabled=null,this.mixer=na}return t.prototype.calculator=function(t,e,n,r){return Uo(n)},t}(),os=function(){function t(){}return t.prototype.calculator=function(t,e,n,r,i){return n instanceof Xi&&(n=null),i.sceneGraphService.updateDisplayObjectDependency(t,e,n,r),"clipPath"===t&&r.forEach((function(t){0===t.childNodes.length&&i.sceneGraphService.dirtifyToRoot(t)})),n},t}(),as=function(){function t(){this.parser=zo,this.parserWithCSSDisabled=zo,this.mixer=Wo}return t.prototype.calculator=function(t,e,n,r){return n instanceof Xi?"none"===n.value?go:yo:n},t}(),ss=function(){function t(){this.parser=Jo}return t.prototype.calculator=function(t,e,n){return n instanceof Xi?[]:n},t}();function ls(t){var e=t.parsedStyle.fontSize;return ye(e)?null:e}var cs=function(){function t(){this.parser=Go,this.parserWithCSSDisabled=null,this.mixer=na}return t.prototype.calculator=function(t,e,n,r,i){var o;if(pe(n))return n;if(!io.isRelativeUnit(n.unit))return n.value;var a=i.styleValueRegistry;if(n.unit===Mi.kPercentage)return 0;if(n.unit===Mi.kEms){if(r.parentNode){var s=ls(r.parentNode);if(s)return s*=n.value,s;a.addUnresolveProperty(r,t)}else a.addUnresolveProperty(r,t);return 0}if(n.unit===Mi.kRems){if(null===(o=null===r||void 0===r?void 0:r.ownerDocument)||void 0===o?void 0:o.documentElement){s=ls(r.ownerDocument.documentElement);if(s)return s*=n.value,s;a.addUnresolveProperty(r,t)}else a.addUnresolveProperty(r,t);return 0}},t}(),us=function(){function t(){this.mixer=ia}return t.prototype.parser=function(t){var e,n=qo(pe(t)?[t]:t);return e=1===n.length?[n[0],n[0]]:[n[0],n[1]],e},t.prototype.calculator=function(t,e,n){return n.map((function(t){return t.value}))},t}(),hs=function(){function t(){this.mixer=ia}return t.prototype.parser=function(t){var e,n=qo(pe(t)?[t]:t);return e=1===n.length?[n[0],n[0],n[0],n[0]]:2===n.length?[n[0],n[1],n[0],n[1]]:3===n.length?[n[0],n[1],n[2],n[1]]:[n[0],n[1],n[2],n[3]],e},t.prototype.calculator=function(t,e,n){return n.map((function(t){return t.value}))},t}(),fs=H();function ds(t,e){var n=e.parsedStyle.defX||0,i=e.parsedStyle.defY||0;return e.resetLocalTransform(),e.setLocalPosition(n,i),t.forEach((function(t){var o=t.t,a=t.d;if("scale"===o){var s=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[1,1];e.scaleLocal(s[0],s[1],1)}else if("scalex"===o){s=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[1];e.scaleLocal(s[0],1,1)}else if("scaley"===o){s=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[1];e.scaleLocal(1,s[0],1)}else if("scalez"===o){s=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[1];e.scaleLocal(1,1,s[0])}else if("scale3d"===o){s=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[1,1,1];e.scaleLocal(s[0],s[1],s[2])}else if("translate"===o){var l=a||[oo,oo];e.translateLocal(l[0].value,l[1].value,0)}else if("translatex"===o){l=a||[oo];e.translateLocal(l[0].value,0,0)}else if("translatey"===o){l=a||[oo];e.translateLocal(0,l[0].value,0)}else if("translatez"===o){l=a||[oo];e.translateLocal(0,0,l[0].value)}else if("translate3d"===o){l=a||[oo,oo,oo];e.translateLocal(l[0].value,l[1].value,l[2].value)}else if("rotate"===o){var c=a||[lo];e.rotateLocal(0,0,Uo(c[0]))}else if("rotatex"===o){c=a||[lo];e.rotateLocal(Uo(c[0]),0,0)}else if("rotatey"===o){c=a||[lo];e.rotateLocal(0,Uo(c[0]),0)}else if("rotatez"===o){c=a||[lo];e.rotateLocal(0,0,Uo(c[0]))}else if("rotate3d"===o);else if("skew"===o){var u=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[0,0];e.setLocalSkew(Zr(u[0]),Zr(u[1]))}else if("skewx"===o){u=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[0];e.setLocalSkew(Zr(u[0]),e.getLocalSkew()[1])}else if("skewy"===o){u=(null===a||void 0===a?void 0:a.map((function(t){return t.value})))||[0];e.setLocalSkew(e.getLocalSkew()[0],Zr(u[0]))}else if("matrix"===o){var h=v(a.map((function(t){return t.value})),6),f=h[0],d=h[1],p=h[2],y=h[3],m=h[4],b=h[5];e.setLocalTransform(Y(fs,f,d,0,0,p,y,0,0,0,0,1,0,m+n,b+i,0,1))}else"matrix3d"===o&&(Y.apply(r,g([fs],v(a.map((function(t){return t.value}))),!1)),fs[12]+=n,fs[13]+=i,e.setLocalTransform(fs))})),e.getLocalTransform()}var ps=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.postProcessor=function(t,e){var n,r,i;switch(t.nodeName){case Dr.CIRCLE:case Dr.ELLIPSE:var o=t.parsedStyle,a=o.cx,s=o.cy,l=o.cz;ye(a)||(n=a),ye(s)||(r=s),ye(l)||(i=l);break;case Dr.LINE:var c=t.parsedStyle,u=c.x1,h=c.x2,f=c.y1,d=c.y2,p=Math.min(u,h),g=Math.min(f,d);n=p,r=g,i=0;break;case Dr.RECT:case Dr.IMAGE:case Dr.GROUP:case Dr.HTML:case Dr.TEXT:case Dr.MESH:ye(t.parsedStyle.x)||(n=t.parsedStyle.x),ye(t.parsedStyle.y)||(r=t.parsedStyle.y),ye(t.parsedStyle.z)||(i=t.parsedStyle.z);break}t.nodeName!==Dr.PATH&&t.nodeName!==Dr.POLYLINE&&t.nodeName!==Dr.POLYGON&&(t.parsedStyle.defX=n||0,t.parsedStyle.defY=r||0);var y=!ye(n)||!ye(r)||!ye(i);if(y&&-1===e.indexOf("transform")){var m=t.parsedStyle.transform;if(m&&m.length)ds(m,t);else{var b=v(t.getLocalPosition(),3),x=b[0],w=b[1],O=b[2];t.setLocalPosition(ye(n)?x:n,ye(r)?w:r,ye(i)?O:i)}}},e}(cs),vs=function(){function t(){}return t.prototype.calculator=function(t,e,n,r){n instanceof Xi&&(n=null);var i=null===n||void 0===n?void 0:n.cloneNode(!0);return i&&(i.style.isMarker=!0),i},t}(),gs=function(){function t(){this.mixer=na,this.parser=ea,this.parserWithCSSDisabled=null}return t.prototype.calculator=function(t,e,n){return n.value},t}(),ys=function(){function t(){this.parser=ea,this.parserWithCSSDisabled=null,this.mixer=ra(0,1)}return t.prototype.calculator=function(t,e,n){return n.value},t.prototype.postProcessor=function(t){var e=t.parsedStyle,n=e.offsetPath,r=e.offsetDistance;if(n){var i=n.nodeName;if(i===Dr.LINE||i===Dr.PATH||i===Dr.POLYLINE){var o=n.getPoint(r);o&&(t.parsedStyle.defX=o.x,t.parsedStyle.defY=o.y,t.setLocalPosition(o.x,o.y))}}},t}(),ms=function(){function t(){this.parser=ea,this.parserWithCSSDisabled=null,this.mixer=ra(0,1)}return t.prototype.calculator=function(t,e,n){return n.value},t}(),bs=function(){function t(){this.parser=ka,this.parserWithCSSDisabled=ka,this.mixer=Ta}return t.prototype.calculator=function(t,e,n){return n instanceof Xi&&"unset"===n.value?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Ci(0,0,0,0)}:n},t.prototype.postProcessor=function(t,e){if(t.parsedStyle.defX=t.parsedStyle.path.rect.x,t.parsedStyle.defY=t.parsedStyle.path.rect.y,t.nodeName===Dr.PATH&&-1===e.indexOf("transform")){var n=t.parsedStyle,r=n.defX,i=void 0===r?0:r,o=n.defY,a=void 0===o?0:o;t.setLocalPosition(i,a)}},t}(),xs=function(){function t(){this.parser=Aa,this.mixer=La}return t.prototype.postProcessor=function(t,e){if((t.nodeName===Dr.POLYGON||t.nodeName===Dr.POLYLINE)&&-1===e.indexOf("transform")){var n=t.parsedStyle,r=n.defX,i=n.defY;t.setLocalPosition(r,i)}},t}(),ws=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mixer=ra(0,1/0),e}return c(e,t),e}(cs),Os=function(){function t(){}return t.prototype.calculator=function(t,e,n,r){return n instanceof Xi?"unset"===n.value?"":n.value:"".concat(n)},t.prototype.postProcessor=function(t){t.nodeValue="".concat(t.parsedStyle.text)||""},t}(),Cs=function(){function t(){}return t.prototype.calculator=function(t,e,n,r){var i=r.getAttribute("text");if(i){var o=i;"capitalize"===n.value?o=i.charAt(0).toUpperCase()+i.slice(1):"lowercase"===n.value?o=i.toLowerCase():"uppercase"===n.value&&(o=i.toUpperCase()),r.parsedStyle.text=o}return n.value},t}(),Ss={},_s=0;function Es(t,e){if(t){var n="string"===typeof t?t:t.id||_s++;Ss[n]&&Ss[n].destroy(),Ss[n]=e}}var Ms="undefined"!==typeof window&&"undefined"!==typeof window.document;function ks(t){return!!t.getAttribute}function Ts(t,e){var n=0,r=t.length;while(n<r){var i=n+r>>>1;As(t[i],e)<0?n=i+1:r=i}return n}function As(t,e){var n=Number(t.parsedStyle.zIndex),r=Number(e.parsedStyle.zIndex);if(n===r){var i=t.parentNode;if(i){var o=i.childNodes||[];return o.indexOf(t)-o.indexOf(e)}}return n-r}function Ls(t){var e,n=t;do{var r=null===(e=n.parsedStyle)||void 0===e?void 0:e.clipPath;if(r)return n;n=n.parentElement}while(null!==n);return null}var Ps="px";function Rs(t,e,n){Ms&&t.style&&(t.style.width=e+Ps,t.style.height=n+Ps)}function Is(t,e){if(Ms)return document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}function Ns(t){var e=Is(t,"width");return"auto"===e?t.offsetWidth:parseFloat(e)}function js(t){var e=Is(t,"height");return"auto"===e?t.offsetHeight:parseFloat(e)}var Bs=1,Ds={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};function Fs(t,e,n){var r=!1,i=!1,o=!!e&&!e.isNone,a=!!n&&!n.isNone;return"visiblepainted"===t||"painted"===t||"auto"===t?(r=o,i=a):"visiblefill"===t||"fill"===t?r=!0:"visiblestroke"===t||"stroke"===t?i=!0:"visible"!==t&&"all"!==t||(r=!0,i=!0),[r,i]}var zs=1,Ws=function(){return zs++},Hs="object"===typeof self&&self.self==self?self:"object"===typeof n.g&&n.g.global==n.g?n.g:{},$s=Date.now(),Gs=function(){return Hs.performance&&"function"===typeof Hs.performance.now?Hs.performance.now():Date.now()-$s},Vs={},Ys=Date.now(),Us=function(t){if("function"!==typeof t)throw new TypeError(t+" is not a function");var e=Date.now(),n=e-Ys,r=n>16?0:16-n,i=Ws();return Vs[i]=t,Object.keys(Vs).length>1||setTimeout((function(){Ys=e;var t=Vs;Vs={},Object.keys(t).forEach((function(e){return t[e](Gs())}))}),r),i},Xs=function(t){delete Vs[t]},qs=["","webkit","moz","ms","o"],Ks=function(t){return"string"!==typeof t?Us:""===t?Hs["requestAnimationFrame"]:Hs[t+"RequestAnimationFrame"]},Zs=function(t){return"string"!==typeof t?Xs:""===t?Hs["cancelAnimationFrame"]:Hs[t+"CancelAnimationFrame"]||Hs[t+"CancelRequestAnimationFrame"]},Qs=function(t,e){var n=0;while(void 0!==t[n]){if(e(t[n]))return t[n];n+=1}},Js=Qs(qs,(function(t){return!!Ks(t)})),tl=Ks(Js),el=Zs(Js);Hs.requestAnimationFrame=tl,Hs.cancelAnimationFrame=el;var nl=function(){function t(){this.callbacks=[]}return t.prototype.getCallbacksNum=function(){return this.callbacks.length},t.prototype.tapPromise=function(t,e){this.callbacks.push(e)},t.prototype.promise=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Promise.all(this.callbacks.map((function(e){return e.apply(void 0,g([],v(t),!1))})))},t}(),rl=function(){function t(){this.callbacks=[]}return t.prototype.tapPromise=function(t,e){this.callbacks.push(e)},t.prototype.promise=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return f(this,void 0,void 0,(function(){var e,n,r,i;return d(this,(function(o){switch(o.label){case 0:return this.callbacks.length?[4,(i=this.callbacks)[0].apply(i,g([],v(t),!1))]:[3,6];case 1:e=o.sent(),n=0,o.label=2;case 2:return n<this.callbacks.length-1?(r=this.callbacks[n],[4,r(e)]):[3,5];case 3:e=o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,e];case 6:return[2,null]}}))}))},t}(),il=function(){function t(){this.callbacks=[]}return t.prototype.tap=function(t,e){this.callbacks.push(e)},t.prototype.call=function(){var t=arguments;this.callbacks.forEach((function(e){e.apply(void 0,t)}))},t}(),ol=function(){function t(){this.callbacks=[]}return t.prototype.tap=function(t,e){this.callbacks.push(e)},t.prototype.call=function(){if(this.callbacks.length){for(var t=arguments,e=this.callbacks[0].apply(void 0,t),n=0;n<this.callbacks.length-1;n++){var r=this.callbacks[n];e=r(e)}return e}return null},t}(),al=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],sl=/([\"\'])[^\'\"]+\1/;function ll(t){for(var e=t.fontSize,n=t.fontFamily,r=t.fontStyle,i=t.fontVariant,o=t.fontWeight,a=pe(e)&&"".concat(e,"px")||"16px",s=n.split(","),l=s.length-1;l>=0;l--){var c=s[l].trim();!sl.test(c)&&al.indexOf(c)<0&&(c='"'.concat(c,'"')),s[l]=c}return"".concat(r," ").concat(i," ").concat(o," ").concat(a," ").concat(s.join(","))}var cl=function(){function t(){this.parser=ja,this.parserWithCSSDisabled=ja,this.mixer=qa}return t.prototype.calculator=function(t,e,n,r){return n instanceof Xi?[]:n},t.prototype.postProcessor=function(t){var e=t.parsedStyle.transform;ds(e,t)},t}(),ul=function(){function t(){this.parser=Ka}return t}(),hl=function(){function t(){this.parser=ea}return t.prototype.calculator=function(t,e,n,r){return n.value},t.prototype.postProcessor=function(t){if(t.parentNode){var e=t.parentNode,n=e.renderable,r=e.sortable;n&&(n.dirty=!0),r&&(r.dirty=!0,r.dirtyReason=so.Z_INDEX_CHANGED)}},t}(),fl=function(){function t(){}return t.prototype.update=function(t,e){var n=t.r,r=2*n,i=2*n;return{width:r,height:i}},t}(),dl=function(){function t(){}return t.prototype.update=function(t,e){var n=t.rx,r=t.ry,i=2*n,o=2*r;return{width:i,height:o}},t}(),pl=function(){function t(){}return t.prototype.update=function(t){var e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=Math.min(e,r),a=Math.max(e,r),s=Math.min(n,i),l=Math.max(n,i),c=a-o,u=l-s;return{width:c,height:u}},t}(),vl=function(){function t(){}return t.prototype.update=function(t){var e=t.path,n=e.rect,r=n.width,i=n.height;return{width:r,height:i}},t}(),gl=function(){function t(){}return t.prototype.update=function(t){var e=t.points.points,n=Math.min.apply(Math,g([],v(e.map((function(t){return t[0]}))),!1)),r=Math.max.apply(Math,g([],v(e.map((function(t){return t[0]}))),!1)),i=Math.min.apply(Math,g([],v(e.map((function(t){return t[1]}))),!1)),o=Math.max.apply(Math,g([],v(e.map((function(t){return t[1]}))),!1)),a=r-n,s=o-i;return{width:a,height:s}},t}(),yl=function(){function t(){}return t.prototype.update=function(t,e){var n=t.img,r=t.width,i=void 0===r?0:r,o=t.height,a=void 0===o?0:o,s=i,l=a;return n&&!me(n)&&(s||(s=n.width,t.width=s),l||(l=n.height,t.height=l)),{width:s,height:l}},t}(),ml=function(){function t(t){this.globalRuntime=t}return t.prototype.isReadyToMeasure=function(t,e){var n=t.text,r=t.textAlign,i=t.textBaseline,o=t.fontSize,a=t.fontStyle,s=t.fontWeight,l=t.fontVariant,c=t.lineWidth;return n&&o&&a&&s&&l&&r&&i&&!ye(c)},t.prototype.update=function(t,e){var n,r,i=t.text,o=t.textAlign,a=t.lineWidth,s=t.textBaseline,l=t.dx,c=t.dy;if(!this.isReadyToMeasure(t,e))return t.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{width:0,height:0,x:0,y:0,offsetX:0,offsetY:0};var u=((null===(r=null===(n=null===e||void 0===e?void 0:e.ownerDocument)||void 0===n?void 0:n.defaultView)||void 0===r?void 0:r.getConfig())||{}).offscreenCanvas,h=this.globalRuntime.textService.measureText(i,t,u);t.metrics=h;var f=h.width,d=h.height,p=h.lineHeight,v=h.fontProperties,g=[f/2,d/2,0],y=[0,1],m=0;"center"===o||"middle"===o?(m=a/2,y=[.5,1]):"right"!==o&&"end"!==o||(m=a,y=[1,1]);var b=0;return"middle"===s?b=g[1]:"top"===s||"hanging"===s?b=2*g[1]:"alphabetic"===s?b=this.globalRuntime.enableCSSParsing?p-v.ascent:0:"bottom"!==s&&"ideographic"!==s||(b=0),l&&(m+=l),c&&(b+=c),t.anchor=[y[0],y[1],0],{width:2*g[0],height:2*g[1],offsetX:m,offsetY:b}},t}();function bl(t){return!!t.type}var xl,wl=function(){function t(e){this.eventPhase=t.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Oi,this.page=new Oi,this.canvas=new Oi,this.viewport=new Oi,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layerX",{get:function(){return this.layer.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layerY",{get:function(){return this.layer.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageX",{get:function(){return this.page.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageY",{get:function(){return this.page.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.canvas.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.canvas.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasX",{get:function(){return this.canvas.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasY",{get:function(){return this.canvas.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewportX",{get:function(){return this.viewport.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"viewportY",{get:function(){return this.viewport.y},enumerable:!1,configurable:!0}),t.prototype.composedPath=function(){return!this.manager||this.path&&this.path[0]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path},Object.defineProperty(t.prototype,"propagationPath",{get:function(){return this.composedPath()},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0},t.prototype.stopImmediatePropagation=function(){this.propagationImmediatelyStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.initEvent=function(){},t.prototype.initUIEvent=function(){},t.prototype.clone=function(){throw new Error(Si)},t}(),Ol=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.client=new Oi,e.movement=new Oi,e.offset=new Oi,e.global=new Oi,e.screen=new Oi,e}return c(e,t),Object.defineProperty(e.prototype,"clientX",{get:function(){return this.client.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientY",{get:function(){return this.client.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"movementX",{get:function(){return this.movement.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"movementY",{get:function(){return this.movement.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetX",{get:function(){return this.offset.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetY",{get:function(){return this.offset.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalX",{get:function(){return this.global.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalY",{get:function(){return this.global.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenX",{get:function(){return this.screen.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenY",{get:function(){return this.screen.y},enumerable:!1,configurable:!0}),e.prototype.getModifierState=function(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)},e.prototype.initMouseEvent=function(){throw new Error(Si)},e}(wl),Cl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.height=0,e.isPrimary=!1,e}return c(e,t),e.prototype.getCoalescedEvents=function(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]},e.prototype.getPredictedEvents=function(){throw new Error("getPredictedEvents is not supported!")},e.prototype.clone=function(){return this.manager.clonePointerEvent(this)},e}(Ol),Sl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.clone=function(){return this.manager.cloneWheelEvent(this)},e}(Ol),_l=function(t){function e(e,n){var r=t.call(this,null)||this;return r.type=e,r.detail=n,Object.assign(r,n),r}return c(e,t),e}(wl),El=":",Ml=function(){function t(){this.emitter=new m}return t.prototype.on=function(t,e,n){return this.addEventListener(t,e,n),this},t.prototype.addEventListener=function(t,e,n){var r=Mn(n)&&n||kn(n)&&n.capture,i=kn(n)&&n.once,o=Qi(e)?void 0:e,a=!1,s="";if(t.indexOf(El)>-1){var l=v(t.split(El),2),c=l[0],u=l[1];t=u,s=c,a=!0}if(t=r?"".concat(t,"capture"):t,e=Qi(e)?e:e.handleEvent,a){var h=e;e=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];(null===(t=e[0].target)||void 0===t?void 0:t.name)===s&&h.apply(void 0,g([],v(e),!1))}}return i?this.emitter.once(t,e,o):this.emitter.on(t,e,o),this},t.prototype.off=function(t,e,n){return t?this.removeEventListener(t,e,n):this.removeAllEventListeners(),this},t.prototype.removeAllEventListeners=function(){this.emitter.removeAllListeners()},t.prototype.removeEventListener=function(t,e,n){var r=Mn(n)&&n||kn(n)&&n.capture,i=Qi(e)?void 0:e;return t=r?"".concat(t,"capture"):t,e=Qi(e)?e:null===e||void 0===e?void 0:e.handleEvent,this.emitter.off(t,e,i),this},t.prototype.emit=function(t,e){this.dispatchEvent(new _l(t,e))},t.prototype.dispatchEvent=function(t,e){var n,r,i;if(void 0===e&&(e=!1),!bl(t))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");if(i=this.document?this:this.defaultView?this.defaultView:null===(n=this.ownerDocument)||void 0===n?void 0:n.defaultView,i){if(t.manager=i.getEventService()||null,!t.manager)return!1;t.defaultPrevented=!1,t.path=[],e||(t.target=this),null===(r=t.manager)||void 0===r||r.dispatchEvent(t,t.type,e)}return!t.defaultPrevented},t}(),kl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shadow=!1,e.ownerDocument=null,e.isConnected=!1,e.baseURI="",e.childNodes=[],e.nodeType=0,e.nodeName="",e.nodeValue=null,e.parentNode=null,e}return c(e,t),e.isNode=function(t){return!!t.childNodes},Object.defineProperty(e.prototype,"textContent",{get:function(){var t,e,n="";this.nodeName===Dr.TEXT&&(n+=this.style.text);try{for(var r=p(this.childNodes),i=r.next();!i.done;i=r.next()){var o=i.value;o.nodeName===Dr.TEXT?n+=o.nodeValue:n+=o.textContent}}catch(a){t={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},set:function(t){var e=this;this.childNodes.slice().forEach((function(t){e.removeChild(t)})),this.nodeName===Dr.TEXT&&(this.style.text="".concat(t))},enumerable:!1,configurable:!0}),e.prototype.getRootNode=function(t){return void 0===t&&(t={}),this.parentNode?this.parentNode.getRootNode(t):t.composed&&this.host?this.host.getRootNode(t):this},e.prototype.hasChildNodes=function(){return this.childNodes.length>0},e.prototype.isDefaultNamespace=function(t){throw new Error(Si)},e.prototype.lookupNamespaceURI=function(t){throw new Error(Si)},e.prototype.lookupPrefix=function(t){throw new Error(Si)},e.prototype.normalize=function(){throw new Error(Si)},e.prototype.isEqualNode=function(t){return this===t},e.prototype.isSameNode=function(t){return this.isEqualNode(t)},Object.defineProperty(e.prototype,"parent",{get:function(){return this.parentNode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentElement",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this.childNodes.length>0?this.childNodes[0]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null},enumerable:!1,configurable:!0}),e.prototype.compareDocumentPosition=function(t){var n;if(t===this)return 0;var r=t,i=this,o=[r],a=[i];while(null!==(n=r.parentNode)&&void 0!==n?n:i.parentNode)r=r.parentNode?(o.push(r.parentNode),r.parentNode):r,i=i.parentNode?(a.push(i.parentNode),i.parentNode):i;if(r!==i)return e.DOCUMENT_POSITION_DISCONNECTED|e.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|e.DOCUMENT_POSITION_PRECEDING;var s=o.length>a.length?o:a,l=s===o?a:o;if(s[s.length-l.length]===l[0])return s===o?e.DOCUMENT_POSITION_CONTAINED_BY|e.DOCUMENT_POSITION_FOLLOWING:e.DOCUMENT_POSITION_CONTAINS|e.DOCUMENT_POSITION_PRECEDING;for(var c=s.length-l.length,u=l.length-1;u>=0;u--){var h=l[u],f=s[c+u];if(f!==h){var d=h.parentNode.childNodes;return d.indexOf(h)<d.indexOf(f)?l===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING:s===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING}}return e.DOCUMENT_POSITION_FOLLOWING},e.prototype.contain=function(t){return this.contains(t)},e.prototype.contains=function(t){var e=t;while(e&&this!==e)e=e.parentNode;return!!e},e.prototype.getAncestor=function(t){var e=this;while(t>0&&e)e=e.parentNode,t--;return e},e.prototype.forEach=function(t,e){void 0===e&&(e=!1),t(this)||(e?this.childNodes.slice():this.childNodes).forEach((function(e){e.forEach(t)}))},e.DOCUMENT_POSITION_DISCONNECTED=1,e.DOCUMENT_POSITION_PRECEDING=2,e.DOCUMENT_POSITION_FOLLOWING=4,e.DOCUMENT_POSITION_CONTAINS=8,e.DOCUMENT_POSITION_CONTAINED_BY=16,e.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,e}(Ml),Tl=2048,Al=function(){function t(t,e){var n=this;this.globalRuntime=t,this.context=e,this.emitter=new m,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=H(),this.tmpVec3=w(),this.onPointerDown=function(t){var e=n.createPointerEvent(t);if(n.dispatchEvent(e,"pointerdown"),"touch"===e.pointerType)n.dispatchEvent(e,"touchstart");else if("mouse"===e.pointerType||"pen"===e.pointerType){var r=2===e.button;n.dispatchEvent(e,r?"rightdown":"mousedown")}var i=n.trackingData(t.pointerId);i.pressTargetsByButton[t.button]=e.composedPath(),n.freeEvent(e)},this.onPointerUp=function(t){var e,r=performance.now(),i=n.createPointerEvent(t,void 0,void 0,n.context.config.alwaysTriggerPointerEventOnCanvas?n.rootTarget:void 0);if(n.dispatchEvent(i,"pointerup"),"touch"===i.pointerType)n.dispatchEvent(i,"touchend");else if("mouse"===i.pointerType||"pen"===i.pointerType){var o=2===i.button;n.dispatchEvent(i,o?"rightup":"mouseup")}var a=n.trackingData(t.pointerId),s=n.findMountedTarget(a.pressTargetsByButton[t.button]),l=s;if(s&&!i.composedPath().includes(s)){var c=s;while(c&&!i.composedPath().includes(c)){if(i.currentTarget=c,n.notifyTarget(i,"pointerupoutside"),"touch"===i.pointerType)n.notifyTarget(i,"touchendoutside");else if("mouse"===i.pointerType||"pen"===i.pointerType){o=2===i.button;n.notifyTarget(i,o?"rightupoutside":"mouseupoutside")}kl.isNode(c)&&(c=c.parentNode)}delete a.pressTargetsByButton[t.button],l=c}if(l){var u=n.clonePointerEvent(i,"click");u.target=l,u.path=[],a.clicksByButton[t.button]||(a.clicksByButton[t.button]={clickCount:0,target:u.target,timeStamp:r});var h=a.clicksByButton[t.button];h.target===u.target&&r-h.timeStamp<200?++h.clickCount:h.clickCount=1,h.target=u.target,h.timeStamp=r,u.detail=h.clickCount,(null===(e=i.detail)||void 0===e?void 0:e.preventClick)||(n.context.config.useNativeClickEvent||"mouse"!==u.pointerType&&"touch"!==u.pointerType||n.dispatchEvent(u,"click"),n.dispatchEvent(u,"pointertap")),n.freeEvent(u)}n.freeEvent(i)},this.onPointerMove=function(t){var e=n.createPointerEvent(t,void 0,void 0,n.context.config.alwaysTriggerPointerEventOnCanvas?n.rootTarget:void 0),r="mouse"===e.pointerType||"pen"===e.pointerType,i=n.trackingData(t.pointerId),o=n.findMountedTarget(i.overTargets);if(i.overTargets&&o!==e.target){var a="mousemove"===t.type?"mouseout":"pointerout",s=n.createPointerEvent(t,a,o||void 0);if(n.dispatchEvent(s,"pointerout"),r&&n.dispatchEvent(s,"mouseout"),!e.composedPath().includes(o)){var l=n.createPointerEvent(t,"pointerleave",o||void 0);l.eventPhase=l.AT_TARGET;while(l.target&&!e.composedPath().includes(l.target))l.currentTarget=l.target,n.notifyTarget(l),r&&n.notifyTarget(l,"mouseleave"),kl.isNode(l.target)&&(l.target=l.target.parentNode);n.freeEvent(l)}n.freeEvent(s)}if(o!==e.target){var c="mousemove"===t.type?"mouseover":"pointerover",u=n.clonePointerEvent(e,c);n.dispatchEvent(u,"pointerover"),r&&n.dispatchEvent(u,"mouseover");var h=o&&kl.isNode(o)&&o.parentNode;while(h&&h!==(kl.isNode(n.rootTarget)&&n.rootTarget.parentNode)){if(h===e.target)break;h=h.parentNode}var f=!h||h===(kl.isNode(n.rootTarget)&&n.rootTarget.parentNode);if(f){var d=n.clonePointerEvent(e,"pointerenter");d.eventPhase=d.AT_TARGET;while(d.target&&d.target!==o&&d.target!==(kl.isNode(n.rootTarget)&&n.rootTarget.parentNode))d.currentTarget=d.target,n.notifyTarget(d),r&&n.notifyTarget(d,"mouseenter"),kl.isNode(d.target)&&(d.target=d.target.parentNode);n.freeEvent(d)}n.freeEvent(u)}n.dispatchEvent(e,"pointermove"),"touch"===e.pointerType&&n.dispatchEvent(e,"touchmove"),r&&(n.dispatchEvent(e,"mousemove"),n.cursor=n.getCursor(e.target)),i.overTargets=e.composedPath(),n.freeEvent(e)},this.onPointerOut=function(t){var e=n.trackingData(t.pointerId);if(e.overTargets){var r="mouse"===t.pointerType||"pen"===t.pointerType,i=n.findMountedTarget(e.overTargets),o=n.createPointerEvent(t,"pointerout",i||void 0);n.dispatchEvent(o),r&&n.dispatchEvent(o,"mouseout");var a=n.createPointerEvent(t,"pointerleave",i||void 0);a.eventPhase=a.AT_TARGET;while(a.target&&a.target!==(kl.isNode(n.rootTarget)&&n.rootTarget.parentNode))a.currentTarget=a.target,n.notifyTarget(a),r&&n.notifyTarget(a,"mouseleave"),kl.isNode(a.target)&&(a.target=a.target.parentNode);e.overTargets=null,n.freeEvent(o),n.freeEvent(a)}n.cursor=null},this.onPointerOver=function(t){var e=n.trackingData(t.pointerId),r=n.createPointerEvent(t),i="mouse"===r.pointerType||"pen"===r.pointerType;n.dispatchEvent(r,"pointerover"),i&&n.dispatchEvent(r,"mouseover"),"mouse"===r.pointerType&&(n.cursor=n.getCursor(r.target));var o=n.clonePointerEvent(r,"pointerenter");o.eventPhase=o.AT_TARGET;while(o.target&&o.target!==(kl.isNode(n.rootTarget)&&n.rootTarget.parentNode))o.currentTarget=o.target,n.notifyTarget(o),i&&n.notifyTarget(o,"mouseenter"),kl.isNode(o.target)&&(o.target=o.target.parentNode);e.overTargets=r.composedPath(),n.freeEvent(r),n.freeEvent(o)},this.onPointerUpOutside=function(t){var e=n.trackingData(t.pointerId),r=n.findMountedTarget(e.pressTargetsByButton[t.button]),i=n.createPointerEvent(t);if(r){var o=r;while(o)i.currentTarget=o,n.notifyTarget(i,"pointerupoutside"),"touch"===i.pointerType||"mouse"!==i.pointerType&&"pen"!==i.pointerType||n.notifyTarget(i,2===i.button?"rightupoutside":"mouseupoutside"),kl.isNode(o)&&(o=o.parentNode);delete e.pressTargetsByButton[t.button]}n.freeEvent(i)},this.onWheel=function(t){var e=n.createWheelEvent(t);n.dispatchEvent(e),n.freeEvent(e)},this.onClick=function(t){if(n.context.config.useNativeClickEvent){var e=n.createPointerEvent(t);n.dispatchEvent(e),n.freeEvent(e)}},this.onPointerCancel=function(t){var e=n.createPointerEvent(t,void 0,void 0,n.context.config.alwaysTriggerPointerEventOnCanvas?n.rootTarget:void 0);n.dispatchEvent(e),n.freeEvent(e)}}return t.prototype.init=function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)},t.prototype.destroy=function(){this.emitter.removeAllListeners(),this.mappingTable={},this.mappingState={},this.eventPool.clear()},t.prototype.client2Viewport=function(t){var e=this.context.contextService.getBoundingClientRect();return new Oi(t.x-((null===e||void 0===e?void 0:e.left)||0),t.y-((null===e||void 0===e?void 0:e.top)||0))},t.prototype.viewport2Client=function(t){var e=this.context.contextService.getBoundingClientRect();return new Oi(t.x+((null===e||void 0===e?void 0:e.left)||0),t.y+((null===e||void 0===e?void 0:e.top)||0))},t.prototype.viewport2Canvas=function(t){var e=t.x,n=t.y,r=this.rootTarget.defaultView,i=r.getCamera(),o=this.context.config,a=o.width,s=o.height,l=i.getPerspectiveInverse(),c=i.getWorldTransform(),u=Q(this.tmpMatrix,c,l),h=E(this.tmpVec3,e/a*2-1,2*(1-n/s)-1,0);return j(h,h,u),new Oi(h[0],h[1])},t.prototype.canvas2Viewport=function(t){var e=this.rootTarget.defaultView,n=e.getCamera(),r=n.getPerspective(),i=n.getViewTransform(),o=Q(this.tmpMatrix,r,i),a=E(this.tmpVec3,t.x,t.y,0);j(this.tmpVec3,this.tmpVec3,o);var s=this.context.config,l=s.width,c=s.height;return new Oi((a[0]+1)/2*l,(1-(a[1]+1)/2)*c)},t.prototype.setPickHandler=function(t){this.pickHandler=t},t.prototype.addEventMapping=function(t,e){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:e,priority:0}),this.mappingTable[t].sort((function(t,e){return t.priority-e.priority}))},t.prototype.mapEvent=function(t){if(this.rootTarget){var e=this.mappingTable[t.type];if(e)for(var n=0,r=e.length;n<r;n++)e[n].fn(t);else console.warn("[EventService]: Event mapping not defined for ".concat(t.type))}},t.prototype.dispatchEvent=function(t,e,n){if(n){t.eventPhase=t.AT_TARGET;var r=this.rootTarget.defaultView||null;t.currentTarget=r,this.notifyListeners(t,e)}else t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,e);this.emitter.emit(e||t.type,t)},t.prototype.propagate=function(t,e){if(t.target){var n=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(var r=n.length-1;r>=1;r--)if(t.currentTarget=n[r],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,e),!t.propagationStopped&&!t.propagationImmediatelyStopped){var i=n.indexOf(t.currentTarget);t.eventPhase=t.BUBBLING_PHASE;for(r=i+1;r<n.length;r++)if(t.currentTarget=n[r],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return}}},t.prototype.propagationPath=function(t){var e=[t],n=this.rootTarget.defaultView||null;if(n&&n===t)return e.unshift(n.document),e;for(var r=0;r<Tl&&t!==this.rootTarget;r++)kl.isNode(t)&&t.parentNode&&(e.push(t.parentNode),t=t.parentNode);return n&&e.push(n),e},t.prototype.hitTest=function(t){var e=t.viewportX,n=t.viewportY,r=this.context.config,i=r.width,o=r.height;return e<0||n<0||e>i||n>o?null:this.pickHandler(t)||this.rootTarget||null},t.prototype.isNativeEventFromCanvas=function(t){var e,n=this.context.contextService.getDomElement(),r=null===(e=t.nativeEvent)||void 0===e?void 0:e.target;if(r){if(r===n)return!0;if(n&&n.contains)return n.contains(r)}return!!t.nativeEvent.composedPath&&t.nativeEvent.composedPath().indexOf(n)>-1},t.prototype.getExistedHTML=function(t){var e,n;if(t.nativeEvent.composedPath)try{for(var r=p(t.nativeEvent.composedPath()),i=r.next();!i.done;i=r.next()){var o=i.value,a=this.globalRuntime.nativeHTMLMap.get(o);if(a)return a}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t.prototype.pickTarget=function(t){return this.hitTest({clientX:t.clientX,clientY:t.clientY,viewportX:t.viewportX,viewportY:t.viewportY,x:t.canvasX,y:t.canvasY})},t.prototype.createPointerEvent=function(t,e,n,r){var i=this.allocateEvent(Cl);this.copyPointerData(t,i),this.copyMouseData(t,i),this.copyData(t,i),i.nativeEvent=t.nativeEvent,i.originalEvent=t;var o=this.getExistedHTML(i);return i.target=null!==n&&void 0!==n?n:o||this.isNativeEventFromCanvas(i)&&this.pickTarget(i)||r,"string"===typeof e&&(i.type=e),i},t.prototype.createWheelEvent=function(t){var e=this.allocateEvent(Sl);this.copyWheelData(t,e),this.copyMouseData(t,e),this.copyData(t,e),e.nativeEvent=t.nativeEvent,e.originalEvent=t;var n=this.getExistedHTML(e);return e.target=n||this.isNativeEventFromCanvas(e)&&this.pickTarget(e),e},t.prototype.trackingData=function(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]},t.prototype.cloneWheelEvent=function(t){var e=this.allocateEvent(Sl);return e.nativeEvent=t.nativeEvent,e.originalEvent=t.originalEvent,this.copyWheelData(t,e),this.copyMouseData(t,e),this.copyData(t,e),e.target=t.target,e.path=t.composedPath().slice(),e.type=t.type,e},t.prototype.clonePointerEvent=function(t,e){var n=this.allocateEvent(Cl);return n.nativeEvent=t.nativeEvent,n.originalEvent=t.originalEvent,this.copyPointerData(t,n),this.copyMouseData(t,n),this.copyData(t,n),n.target=t.target,n.path=t.composedPath().slice(),n.type=null!==e&&void 0!==e?e:n.type,n},t.prototype.copyPointerData=function(t,e){e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist},t.prototype.copyMouseData=function(t,e){e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.shiftKey=t.shiftKey,e.client.copyFrom(t.client),e.movement.copyFrom(t.movement),e.canvas.copyFrom(t.canvas),e.screen.copyFrom(t.screen),e.global.copyFrom(t.global),e.offset.copyFrom(t.offset)},t.prototype.copyWheelData=function(t,e){e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ},t.prototype.copyData=function(t,e){e.isTrusted=t.isTrusted,e.timeStamp=performance.now(),e.type=t.type,e.detail=t.detail,e.view=t.view,e.page.copyFrom(t.page),e.viewport.copyFrom(t.viewport)},t.prototype.allocateEvent=function(t){this.eventPool.has(t)||this.eventPool.set(t,[]);var e=this.eventPool.get(t).pop()||new t(this);return e.eventPhase=e.NONE,e.currentTarget=null,e.path=[],e.target=null,e},t.prototype.freeEvent=function(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var e=t.constructor;this.eventPool.has(e)||this.eventPool.set(e,[]),this.eventPool.get(e).push(t)},t.prototype.notifyTarget=function(t,e){e=null!==e&&void 0!==e?e:t.type;var n=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?"".concat(e,"capture"):e;this.notifyListeners(t,n),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,e)},t.prototype.notifyListeners=function(t,e){var n=t.currentTarget.emitter,r=n._events[e];if(r)if("fn"in r)r.once&&n.removeListener(e,r.fn,void 0,!0),r.fn.call(t.currentTarget||r.context,t);else for(var i=0;i<r.length&&!t.propagationImmediatelyStopped;i++)r[i].once&&n.removeListener(e,r[i].fn,void 0,!0),r[i].fn.call(t.currentTarget||r[i].context,t)},t.prototype.findMountedTarget=function(t){if(!t)return null;for(var e=t[t.length-1],n=t.length-2;n>=0;n--){var r=t[n];if(!(r===this.rootTarget||kl.isNode(r)&&r.parentNode===e))break;e=t[n]}return e},t.prototype.getCursor=function(t){var e=t;while(e){var n=ks(e)&&e.getAttribute("cursor");if(n)return n;e=kl.isNode(e)&&e.parentNode}},t}(),Ll=function(){function t(){}return t.prototype.getOrCreateCanvas=function(t,e){if(this.canvas)return this.canvas;if(t||Jl.offscreenCanvas)this.canvas=t||Jl.offscreenCanvas,this.context=this.canvas.getContext("2d",e);else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",e),this.context&&this.context.measureText||(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch(n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",e)}return this.canvas.width=10,this.canvas.height=10,this.canvas},t.prototype.getOrCreateContext=function(t,e){return this.context||this.getOrCreateCanvas(t,e),this.context},t}();(function(t){t[t["CAMERA_CHANGED"]=0]="CAMERA_CHANGED",t[t["DISPLAY_OBJECT_CHANGED"]=1]="DISPLAY_OBJECT_CHANGED",t[t["NONE"]=2]="NONE"})(xl||(xl={}));var Pl,Rl=function(){function t(t,e){this.globalRuntime=t,this.context=e,this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new il,initAsync:new nl,dirtycheck:new ol,cull:new ol,beginFrame:new il,beforeRender:new il,render:new il,afterRender:new il,endFrame:new il,destroy:new il,pick:new rl,pickSync:new ol,pointerDown:new il,pointerUp:new il,pointerMove:new il,pointerOut:new il,pointerOver:new il,pointerWheel:new il,pointerCancel:new il,click:new il}}return t.prototype.init=function(t){var e=this,n=u(u({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach((function(t){t.apply(n,e.globalRuntime)})),this.hooks.init.call(),0===this.hooks.initAsync.getCallbacksNum()?(this.inited=!0,t()):this.hooks.initAsync.promise().then((function(){e.inited=!0,t()}))},t.prototype.getStats=function(){return this.stats},t.prototype.disableDirtyRectangleRendering=function(){var t=this.context.config.renderer,e=t.getConfig().enableDirtyRectangleRendering;return!e||this.context.renderingContext.renderReasons.has(xl.CAMERA_CHANGED)},t.prototype.render=function(t,e){var n=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var r=this.context.renderingContext;this.globalRuntime.sceneGraphService.syncHierarchy(r.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),r.renderReasons.size&&this.inited&&(this.renderDisplayObject(r.root,t,r),this.hooks.beginFrame.call(),r.renderListCurrentFrame.forEach((function(t){n.hooks.beforeRender.call(t),n.hooks.render.call(t),n.hooks.afterRender.call(t)})),this.hooks.endFrame.call(),r.renderListCurrentFrame=[],r.renderReasons.clear(),e())},t.prototype.renderDisplayObject=function(t,e,n){var r=this,i=e.renderer.getConfig(),o=i.enableDirtyCheck,a=i.enableCulling;this.globalRuntime.enableCSSParsing&&this.globalRuntime.styleValueRegistry.recalc(t);var s=o?this.hooks.dirtycheck.call(t):t;if(s){var l=a?this.hooks.cull.call(s,this.context.camera):s;l&&(this.stats.rendered++,n.renderListCurrentFrame.push(l))}t.renderable.dirty=!1,t.sortable.renderOrder=this.zIndexCounter++,this.stats.total++;var c=t.sortable;c.dirty&&(this.sort(t,c),c.dirty=!1,c.dirtyChildren=[],c.dirtyReason=void 0),(c.sorted||t.childNodes).forEach((function(t){r.renderDisplayObject(t,e,n)}))},t.prototype.sort=function(t,e){e.sorted&&e.dirtyReason!==so.Z_INDEX_CHANGED?e.dirtyChildren.forEach((function(n){var r=t.childNodes.indexOf(n);if(-1===r){var i=e.sorted.indexOf(n);i>=0&&e.sorted.splice(i,1)}else if(0===e.sorted.length)e.sorted.push(n);else{var o=Ts(e.sorted,n);e.sorted.splice(o,0,n)}})):e.sorted=t.childNodes.slice().sort(As)},t.prototype.destroy=function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()},t.prototype.dirtify=function(){this.context.renderingContext.renderReasons.add(xl.DISPLAY_OBJECT_CHANGED)},t}(),Il=/\[\s*(.*)=(.*)\s*\]/,Nl=function(){function t(){}return t.prototype.selectOne=function(t,e){var n=this;if(t.startsWith("."))return e.find((function(e){return((null===e||void 0===e?void 0:e.classList)||[]).indexOf(n.getIdOrClassname(t))>-1}));if(t.startsWith("#"))return e.find((function(e){return e.id===n.getIdOrClassname(t)}));if(t.startsWith("[")){var r=this.getAttribute(t),i=r.name,o=r.value;return i?e.find((function(t){return e!==t&&("name"===i?t.name===o:n.attributeToString(t,i)===o)})):null}return e.find((function(n){return e!==n&&n.nodeName===t}))},t.prototype.selectAll=function(t,e){var n=this;if(t.startsWith("."))return e.findAll((function(r){return e!==r&&((null===r||void 0===r?void 0:r.classList)||[]).indexOf(n.getIdOrClassname(t))>-1}));if(t.startsWith("#"))return e.findAll((function(r){return e!==r&&r.id===n.getIdOrClassname(t)}));if(t.startsWith("[")){var r=this.getAttribute(t),i=r.name,o=r.value;return i?e.findAll((function(t){return e!==t&&("name"===i?t.name===o:n.attributeToString(t,i)===o)})):[]}return e.findAll((function(n){return e!==n&&n.nodeName===t}))},t.prototype.is=function(t,e){if(t.startsWith("."))return e.className===this.getIdOrClassname(t);if(t.startsWith("#"))return e.id===this.getIdOrClassname(t);if(t.startsWith("[")){var n=this.getAttribute(t),r=n.name,i=n.value;return"name"===r?e.name===i:this.attributeToString(e,r)===i}return e.nodeName===t},t.prototype.getIdOrClassname=function(t){return t.substring(1)},t.prototype.getAttribute=function(t){var e=t.match(Il),n="",r="";return e&&e.length>2&&(n=e[1].replace(/"/g,""),r=e[2].replace(/"/g,"")),{name:n,value:r}},t.prototype.attributeToString=function(t,e){if(!t.getAttribute)return"";var n=t.getAttribute(e);return ye(n)?"":n.toString?n.toString():""},t}(),jl=function(t){function e(e,n,r,i,o,a,s,l){var c=t.call(this,null)||this;return c.relatedNode=n,c.prevValue=r,c.newValue=i,c.attrName=o,c.attrChange=a,c.prevParsedValue=s,c.newParsedValue=l,c.type=e,c}return c(e,t),e.ADDITION=2,e.MODIFICATION=1,e.REMOVAL=3,e}(wl);function Bl(t){var e=t.renderable;e&&(e.renderBoundsDirty=!0,e.boundsDirty=!0)}(function(t){t["REPARENT"]="reparent",t["DESTROY"]="destroy",t["ATTR_MODIFIED"]="DOMAttrModified",t["INSERTED"]="DOMNodeInserted",t["REMOVED"]="removed",t["MOUNTED"]="DOMNodeInsertedIntoDocument",t["UNMOUNTED"]="DOMNodeRemovedFromDocument",t["BOUNDS_CHANGED"]="bounds-changed",t["CULLED"]="culled"})(Pl||(Pl={}));var Dl=new jl(Pl.REPARENT,null,"","","",0,"",""),Fl=function(){function t(t){var e=this;this.runtime=t,this.pendingEvents=[],this.boundsChangedEvent=new _l(Pl.BOUNDS_CHANGED),this.rotate=function(){var t=Ut();return function(n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=0),"number"===typeof r&&(r=S(r,i,o));var a=n.transformable;if(null!==n.parentNode&&n.parentNode.transformable){var s=Ut();Jt(s,r[0],r[1],r[2]);var l=e.getRotation(n),c=e.getRotation(n.parentNode);ee(t,c),Zt(t,t),qt(s,t,s),qt(a.localRotation,s,l),re(a.localRotation,a.localRotation),e.dirtifyLocal(n,a)}else e.rotateLocal(n,r)}}(),this.rotateLocal=function(){var t=Ut();return function(n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=0),"number"===typeof r&&(r=S(r,i,o));var a=n.transformable;Jt(t,r[0],r[1],r[2]),ne(a.localRotation,a.localRotation,t),e.dirtifyLocal(n,a)}}(),this.setEulerAngles=function(){var t=Ut();return function(n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=0),"number"===typeof r&&(r=S(r,i,o));var a=n.transformable;if(null!==n.parentNode&&n.parentNode.transformable){Jt(a.localRotation,r[0],r[1],r[2]);var s=e.getRotation(n.parentNode);ee(t,Zt(Ut(),s)),ne(a.localRotation,a.localRotation,t),e.dirtifyLocal(n,a)}else e.setLocalEulerAngles(n,r)}}(),this.translateLocal=function(){return function(t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=0),"number"===typeof n&&(n=S(n,r,i));var o=t.transformable;F(n,w())||(D(n,n,o.localRotation),M(o.localPosition,o.localPosition,n),e.dirtifyLocal(t,o))}}(),this.setPosition=function(){var t=H(),n=w();return function(r,i){var o=r.transformable;if(n[0]=i[0],n[1]=i[1],n[2]=i[2]||0,!F(e.getPosition(r),n)){if(_(o.position,n),null!==r.parentNode&&r.parentNode.transformable){var a=r.parentNode.transformable;G(t,a.worldTransform),q(t,t),j(o.localPosition,n,t)}else _(o.localPosition,n);e.dirtifyLocal(r,o)}}}(),this.setLocalPosition=function(){var t=w();return function(n,r){var i=n.transformable;t[0]=r[0],t[1]=r[1],t[2]=r[2]||0,F(i.localPosition,t)||(_(i.localPosition,t),e.dirtifyLocal(n,i))}}(),this.translate=function(){var t=w(),n=w(),r=w();return function(i,o,a,s){void 0===a&&(a=0),void 0===s&&(s=0),"number"===typeof o&&(o=E(n,o,a,s)),F(o,t)||(M(r,e.getPosition(i),o),e.setPosition(i,r))}}(),this.setRotation=function(){var t=Ut();return function(n,r,i,o,a){var s=n.transformable;if("number"===typeof r&&(r=te(r,i,o,a)),null!==n.parentNode&&n.parentNode.transformable){var l=e.getRotation(n.parentNode);ee(t,l),Zt(t,t),qt(s.localRotation,t,r),re(s.localRotation,s.localRotation),e.dirtifyLocal(n,s)}else e.setLocalRotation(n,r)}},this.displayObjectDependencyMap=new WeakMap,this.calcLocalTransform=function(){var t=H(),e=w(),n=te(0,0,0,1);return function(r){var i=0!==r.localSkew[0]||0!==r.localSkew[1];if(i){if(yt(r.localTransform,r.localRotation,r.localPosition,S(1,1,1),r.origin),0!==r.localSkew[0]||0!==r.localSkew[1]){var o=U(t);o[4]=Math.tan(r.localSkew[0]),o[1]=Math.tan(r.localSkew[1]),Q(r.localTransform,r.localTransform,o)}var a=yt(t,n,e,r.localScale,r.origin);Q(r.localTransform,r.localTransform,a)}else yt(r.localTransform,r.localRotation,r.localPosition,r.localScale,r.origin)}}()}return t.prototype.matches=function(t,e){return this.runtime.sceneGraphSelector.is(t,e)},t.prototype.querySelector=function(t,e){return this.runtime.sceneGraphSelector.selectOne(t,e)},t.prototype.querySelectorAll=function(t,e){return this.runtime.sceneGraphSelector.selectAll(t,e)},t.prototype.attach=function(t,e,n){var r,i,o=!1;t.parentNode&&(o=t.parentNode!==e,this.detach(t)),t.parentNode=e,ye(n)?t.parentNode.childNodes.push(t):t.parentNode.childNodes.splice(n,0,t);var a=e.sortable;((null===(r=null===a||void 0===a?void 0:a.sorted)||void 0===r?void 0:r.length)||(null===(i=t.style)||void 0===i?void 0:i.zIndex))&&(-1===a.dirtyChildren.indexOf(t)&&a.dirtyChildren.push(t),a.dirty=!0,a.dirtyReason=so.ADDED);var s=t.transformable;s&&this.dirtifyWorld(t,s),s.frozen&&this.unfreezeParentToRoot(t),o&&t.dispatchEvent(Dl)},t.prototype.detach=function(t){var e,n;if(t.parentNode){var r=t.transformable,i=t.parentNode.sortable;((null===(e=null===i||void 0===i?void 0:i.sorted)||void 0===e?void 0:e.length)||(null===(n=t.style)||void 0===n?void 0:n.zIndex))&&(-1===i.dirtyChildren.indexOf(t)&&i.dirtyChildren.push(t),i.dirty=!0,i.dirtyReason=so.REMOVED);var o=t.parentNode.childNodes.indexOf(t);o>-1&&t.parentNode.childNodes.splice(o,1),r&&this.dirtifyWorld(t,r),t.parentNode=null}},t.prototype.getOrigin=function(t){return t.transformable.origin},t.prototype.setOrigin=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0),"number"===typeof e&&(e=[e,n,r]);var i=t.transformable;if(e[0]!==i.origin[0]||e[1]!==i.origin[1]||e[2]!==i.origin[2]){var o=i.origin;o[0]=e[0],o[1]=e[1],o[2]=e[2]||0,this.dirtifyLocal(t,i)}},t.prototype.setLocalEulerAngles=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0),"number"===typeof e&&(e=S(e,n,r));var i=t.transformable;Jt(i.localRotation,e[0],e[1],e[2]),this.dirtifyLocal(t,i)},t.prototype.scaleLocal=function(t,e){var n=t.transformable;T(n.localScale,n.localScale,S(e[0],e[1],e[2]||1)),this.dirtifyLocal(t,n)},t.prototype.setLocalScale=function(t,e){var n=t.transformable,r=S(e[0],e[1],e[2]||n.localScale[2]);F(r,n.localScale)||(_(n.localScale,r),this.dirtifyLocal(t,n))},t.prototype.setLocalRotation=function(t,e,n,r,i){"number"===typeof e&&(e=te(e,n,r,i));var o=t.transformable;ee(o.localRotation,e),this.dirtifyLocal(t,o)},t.prototype.setLocalSkew=function(t,e,n){"number"===typeof e&&(e=oe(e,n));var r=t.transformable;ae(r.localSkew,e),this.dirtifyLocal(t,r)},t.prototype.dirtifyLocal=function(t,e){e.localDirtyFlag||(e.localDirtyFlag=!0,e.dirtyFlag||this.dirtifyWorld(t,e))},t.prototype.dirtifyWorld=function(t,e){e.dirtyFlag||this.unfreezeParentToRoot(t),this.dirtifyWorldInternal(t,e),this.dirtifyToRoot(t,!0)},t.prototype.triggerPendingEvents=function(){var t=this,e=new Set,n=function(n,r){n.isConnected&&!e.has(n.entity)&&(t.boundsChangedEvent.detail=r,t.boundsChangedEvent.target=n,n.isMutationObserved?n.dispatchEvent(t.boundsChangedEvent):n.ownerDocument.defaultView.dispatchEvent(t.boundsChangedEvent,!0),e.add(n.entity))};this.pendingEvents.forEach((function(t){var e=v(t,2),r=e[0],i=e[1];i.affectChildren?r.forEach((function(t){n(t,i)})):n(r,i)})),this.clearPendingEvents(),e.clear()},t.prototype.clearPendingEvents=function(){this.pendingEvents=[]},t.prototype.dirtifyToRoot=function(t,e){void 0===e&&(e=!1);var n=t;n.renderable&&(n.renderable.dirty=!0);while(n)Bl(n),n=n.parentNode;e&&t.forEach((function(t){Bl(t)})),this.informDependentDisplayObjects(t),this.pendingEvents.push([t,{affectChildren:e}])},t.prototype.updateDisplayObjectDependency=function(t,e,n,r){if(e&&e!==n){var i=this.displayObjectDependencyMap.get(e);if(i&&i[t]){var o=i[t].indexOf(r);i[t].splice(o,1)}}if(n){var a=this.displayObjectDependencyMap.get(n);a||(this.displayObjectDependencyMap.set(n,{}),a=this.displayObjectDependencyMap.get(n)),a[t]||(a[t]=[]),a[t].push(r)}},t.prototype.informDependentDisplayObjects=function(t){var e=this,n=this.displayObjectDependencyMap.get(t);n&&Object.keys(n).forEach((function(t){n[t].forEach((function(n){e.dirtifyToRoot(n,!0),n.dispatchEvent(new jl(Pl.ATTR_MODIFIED,n,e,e,t,jl.MODIFICATION,e,e)),n.isCustomElement&&n.isConnected&&n.attributeChangedCallback&&n.attributeChangedCallback(t,e,e)}))}))},t.prototype.getPosition=function(t){var e=t.transformable;return dt(e.position,this.getWorldTransform(t,e))},t.prototype.getRotation=function(t){var e=t.transformable;return vt(e.rotation,this.getWorldTransform(t,e))},t.prototype.getScale=function(t){var e=t.transformable;return pt(e.scaling,this.getWorldTransform(t,e))},t.prototype.getWorldTransform=function(t,e){return void 0===e&&(e=t.transformable),e.localDirtyFlag||e.dirtyFlag?(t.parentNode&&t.parentNode.transformable&&this.getWorldTransform(t.parentNode),this.sync(t,e),e.worldTransform):e.worldTransform},t.prototype.getLocalPosition=function(t){return t.transformable.localPosition},t.prototype.getLocalRotation=function(t){return t.transformable.localRotation},t.prototype.getLocalScale=function(t){return t.transformable.localScale},t.prototype.getLocalSkew=function(t){return t.transformable.localSkew},t.prototype.getLocalTransform=function(t){var e=t.transformable;return e.localDirtyFlag&&(this.calcLocalTransform(e),e.localDirtyFlag=!1),e.localTransform},t.prototype.setLocalTransform=function(t,e){var n=dt(w(),e),r=vt(Ut(),e),i=pt(w(),e);this.setLocalScale(t,i),this.setLocalPosition(t,n),this.setLocalRotation(t,r)},t.prototype.resetLocalTransform=function(t){this.setLocalScale(t,[1,1,1]),this.setLocalPosition(t,[0,0,0]),this.setLocalEulerAngles(t,[0,0,0]),this.setLocalSkew(t,[0,0])},t.prototype.getTransformedGeometryBounds=function(t,e,n){void 0===e&&(e=!1);var r=this.getGeometryBounds(t,e);if(gi.isEmpty(r))return null;var i=n||new gi;return i.setFromTransformedAABB(r,this.getWorldTransform(t)),i},t.prototype.getGeometryBounds=function(t,e){void 0===e&&(e=!1);var n=t.geometry,r=e?n.renderBounds:n.contentBounds||null;return r||new gi},t.prototype.getBounds=function(t,e){var n=this;void 0===e&&(e=!1);var r=t.renderable;if(!r.boundsDirty&&!e&&r.bounds)return r.bounds;if(!r.renderBoundsDirty&&e&&r.renderBounds)return r.renderBounds;var i=e?r.renderBounds:r.bounds,o=this.getTransformedGeometryBounds(t,e,i),a=t.childNodes;if(a.forEach((function(t){var r=n.getBounds(t,e);r&&(o?o.add(r):(o=i||new gi,o.update(r.center,r.halfExtents)))})),e){var s=Ls(t);if(s){var l=s.parsedStyle.clipPath.getBounds(e);o?l&&(o=l.intersection(o)):o=l}}return o||(o=new gi),o&&(e?r.renderBounds=o:r.bounds=o),e?r.renderBoundsDirty=!1:r.boundsDirty=!1,o},t.prototype.getLocalBounds=function(t){if(t.parentNode){var e=H();t.parentNode.transformable&&(e=q(H(),this.getWorldTransform(t.parentNode)));var n=this.getBounds(t);if(!gi.isEmpty(n)){var r=new gi;return r.setFromTransformedAABB(n,e),r}}return this.getBounds(t)},t.prototype.getBoundingClientRect=function(t){var e,n,r,i=this.getGeometryBounds(t);gi.isEmpty(i)||(r=new gi,r.setFromTransformedAABB(i,this.getWorldTransform(t)));var o=null===(n=null===(e=t.ownerDocument)||void 0===e?void 0:e.defaultView)||void 0===n?void 0:n.getContextService().getBoundingClientRect();if(r){var a=v(r.getMin(),2),s=a[0],l=a[1],c=v(r.getMax(),2),u=c[0],h=c[1];return new Ci(s+((null===o||void 0===o?void 0:o.left)||0),l+((null===o||void 0===o?void 0:o.top)||0),u-s,h-l)}return new Ci((null===o||void 0===o?void 0:o.left)||0,(null===o||void 0===o?void 0:o.top)||0,0,0)},t.prototype.dirtifyWorldInternal=function(t,e){var n=this;if(!e.dirtyFlag){e.dirtyFlag=!0,e.frozen=!1,t.childNodes.forEach((function(t){var e=t.transformable;e.dirtyFlag||n.dirtifyWorldInternal(t,e)}));var r=t.renderable;r&&(r.renderBoundsDirty=!0,r.boundsDirty=!0,r.dirty=!0)}},t.prototype.syncHierarchy=function(t){var e=t.transformable;if(!e.frozen){e.frozen=!0,(e.localDirtyFlag||e.dirtyFlag)&&this.sync(t,e);for(var n=t.childNodes,r=0;r<n.length;r++)this.syncHierarchy(n[r])}},t.prototype.sync=function(t,e){if(e.localDirtyFlag&&(this.calcLocalTransform(e),e.localDirtyFlag=!1),e.dirtyFlag){var n=t.parentNode,r=n&&n.transformable;null!==n&&r?Q(e.worldTransform,r.worldTransform,e.localTransform):G(e.worldTransform,e.localTransform),e.dirtyFlag=!1}},t.prototype.unfreezeParentToRoot=function(t){var e=t.parentNode;while(e){var n=e.transformable;n&&(n.frozen=!1),e=e.parentNode}},t}(),zl={MetricsString:"|ÉqÅ",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},Wl=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,Hl=/[!%),.:;?\]}¢°·'""†‡›℃∶、。〃〆〕〗〞﹚﹜！＂％＇），．：；？！］｝～]/,$l=/[$(£¥·'"〈《「『【〔〖〝﹙﹛＄（．［｛￡￥]/,Gl=/[!),.:;?\]}¢·–—'"•"、。〆〞〕〉》」︰︱︲︳﹐﹑﹒﹓﹔﹕﹖﹘﹚﹜！），．：；？︶︸︺︼︾﹀﹂﹗］｜｝､]/,Vl=/[([{£¥'"‵〈《「『〔〝︴﹙﹛（｛︵︷︹︻︽︿﹁﹃﹏]/,Yl=/[)\]｝〕〉》」』】〙〗〟'"｠»ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻‐゠–〜?!‼⁇⁈⁉・、:;,。.]/,Ul=/[([｛〔〈《「『【〘〖〝'"｟«—...‥〳〴〵]/,Xl=/[!%),.:;?\]}¢°'"†‡℃〆〈《「『〕！％），．：；？］｝]/,ql=/[$([{£¥'"々〇〉》」〔＄（［｛｠￥￦#]/,Kl=new RegExp("".concat(Hl.source,"|").concat(Gl.source,"|").concat(Yl.source,"|").concat(Xl.source)),Zl=new RegExp("".concat($l.source,"|").concat(Vl.source,"|").concat(Ul.source,"|").concat(ql.source)),Ql=function(){function t(t){var e=this;this.runtime=t,this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(t,n){return!e.isBreakingSpace(n)&&!(!t||!Zl.exec(n)&&!Kl.exec(t))},this.trimByKinsokuShorui=function(t){var e=g([],v(t),!1),n=e[e.length-2];if(!n)return t;var r=n[n.length-1];return e[e.length-2]=n.slice(0,-1),e[e.length-1]=r+e[e.length-1],e}}return t.prototype.measureFont=function(t,e){if(this.fontMetricsCache[t])return this.fontMetricsCache[t];var n={ascent:0,descent:0,fontSize:0},r=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(e),i=this.runtime.offscreenCanvasCreator.getOrCreateContext(e,{willReadFrequently:!0});i.font=t;var o=zl.MetricsString+zl.BaselineSymbol,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(zl.BaselineSymbol).width),l=zl.HeightMultiplier*s;s=s*zl.BaselineMultiplier|0,r.width=a,r.height=l,i.fillStyle="#f00",i.fillRect(0,0,a,l),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var c=i.getImageData(0,0,a||1,l||1).data,u=c.length,h=4*a,f=0,d=0,p=!1;for(f=0;f<s;++f){for(var v=0;v<h;v+=4)if(255!==c[d+v]){p=!0;break}if(p)break;d+=h}for(n.ascent=s-f,d=u-h,p=!1,f=l;f>s;--f){for(v=0;v<h;v+=4)if(255!==c[d+v]){p=!0;break}if(p)break;d-=h}return n.descent=f-s,n.fontSize=n.ascent+n.descent,this.fontMetricsCache[t]=n,n},t.prototype.measureText=function(t,e,n){var r=e.fontSize,i=e.wordWrap,o=e.lineHeight,a=e.lineWidth,s=e.textBaseline,l=e.textAlign,c=e.letterSpacing,u=e.textPath;e.textPathSide,e.textPathStartOffset;var h=e.leading,f=void 0===h?0:h,d=ll(e),p=this.measureFont(d,n);0===p.fontSize&&(p.fontSize=r,p.ascent=r);var v=this.runtime.offscreenCanvasCreator.getOrCreateContext(n);v.font=d,e.isOverflowing=!1;var g=i?this.wordWrap(t,e,n):t,y=g.split(/(?:\r\n|\r|\n)/),m=new Array(y.length),b=0;if(!u){for(S=0;S<y.length;S++){var x=v.measureText(y[S]).width+(y[S].length-1)*c;m[S]=x,b=Math.max(b,x)}_=b+a;var w=o||p.fontSize+a,O=Math.max(w,p.fontSize+a)+(y.length-1)*(w+f);w+=f;var C=0;return"middle"===s?C=-O/2:"bottom"===s||"alphabetic"===s||"ideographic"===s?C=-O:"top"!==s&&"hanging"!==s||(C=0),{font:d,width:_,height:O,lines:y,lineWidths:m,lineHeight:w,maxLineWidth:b,fontProperties:p,lineMetrics:m.map((function(t,e){var n=0;return"center"===l||"middle"===l?n-=t/2:"right"!==l&&"end"!==l||(n-=t),new Ci(n-a/2,C+e*w,t+a,w)}))}}u.getTotalLength();for(var S=0;S<y.length;S++)var _=v.measureText(y[S]).width+(y[S].length-1)*c},t.prototype.setGraphemeOnPath=function(){},t.prototype.wordWrap=function(t,e,n){var r=this,i=e.wordWrapWidth,o=void 0===i?0:i,a=e.letterSpacing,s=e.maxLines,l=void 0===s?1/0:s,c=e.textOverflow,u=this.runtime.offscreenCanvasCreator.getOrCreateContext(n),h=o+a,f="";"ellipsis"===c?f="...":c&&"clip"!==c&&(f=c);for(var d=[],p=0,v=0,g={},y=function(t){return r.getFromCache(t,a,g,u)},m=Array.from(f).reduce((function(t,e){return t+y(e)}),0),b=Array.from(t),x=0;x<b.length;x++){var w=b[x],O=t[x-1],C=t[x+1],S=y(w);if(this.isNewline(w)){if(p++,p>=l){e.isOverflowing=!0;break}v=0,d[p]=""}else{if(v>0&&v+S>h){if(p+1>=l){if(e.isOverflowing=!0,m>0&&m<=h){for(var _=d[p].length,E=0,M=_,k=0;k<_;k++){var T=y(d[p][k]);if(E+T+m>h){M=k;break}E+=T}d[p]=(d[p]||"").slice(0,M)+f}break}if(p++,v=0,d[p]="",this.isBreakingSpace(w))continue;this.canBreakInLastChar(w)||(d=this.trimToBreakable(d),v=this.sumTextWidthByCache(d[p]||"",g)),this.shouldBreakByKinsokuShorui(w,C)&&(d=this.trimByKinsokuShorui(d),v+=y(O||""))}v+=S,d[p]=(d[p]||"")+w}}return d.join("\n")},t.prototype.isBreakingSpace=function(t){return"string"===typeof t&&zl.BreakingSpaces.indexOf(t.charCodeAt(0))>=0},t.prototype.isNewline=function(t){return"string"===typeof t&&zl.Newlines.indexOf(t.charCodeAt(0))>=0},t.prototype.trimToBreakable=function(t){var e=g([],v(t),!1),n=e[e.length-2],r=this.findBreakableIndex(n);if(-1===r||!n)return e;var i=n.slice(r,r+1),o=this.isBreakingSpace(i),a=r+1,s=r+(o?0:1);return e[e.length-1]+=n.slice(a,n.length),e[e.length-2]=n.slice(0,s),e},t.prototype.canBreakInLastChar=function(t){return!t||!Wl.test(t)},t.prototype.sumTextWidthByCache=function(t,e){return t.split("").reduce((function(t,n){if(!e[n])throw Error("cannot count the word without cache");return t+e[n]}),0)},t.prototype.findBreakableIndex=function(t){for(var e=t.length-1;e>=0;e--)if(!Wl.test(t[e]))return e;return-1},t.prototype.getFromCache=function(t,e,n,r){var i=n[t];if("number"!==typeof i){var o=t.length*e;i=r.measureText(t).width+o,n[t]=i}return i},t}(),Jl={},tc=function(){var t,e=new yl,n=new gl;return t={},t[Dr.CIRCLE]=new fl,t[Dr.ELLIPSE]=new dl,t[Dr.RECT]=e,t[Dr.IMAGE]=e,t[Dr.GROUP]=e,t[Dr.LINE]=new pl,t[Dr.TEXT]=new ml(Jl),t[Dr.POLYLINE]=n,t[Dr.POLYGON]=n,t[Dr.PATH]=new vl,t[Dr.HTML]=null,t[Dr.MESH]=null,t}(),ec=function(){var t,e=new as,n=new cs;return t={},t[wo.PERCENTAGE]=null,t[wo.NUMBER]=new gs,t[wo.ANGLE]=new is,t[wo.DEFINED_PATH]=new os,t[wo.PAINT]=e,t[wo.COLOR]=e,t[wo.FILTER]=new ss,t[wo.LENGTH]=n,t[wo.LENGTH_PERCENTAGE]=n,t[wo.LENGTH_PERCENTAGE_12]=new us,t[wo.LENGTH_PERCENTAGE_14]=new hs,t[wo.COORDINATE]=new ps,t[wo.OFFSET_DISTANCE]=new ys,t[wo.OPACITY_VALUE]=new ms,t[wo.PATH]=new bs,t[wo.LIST_OF_POINTS]=new xs,t[wo.SHADOW_BLUR]=new ws,t[wo.TEXT]=new Os,t[wo.TEXT_TRANSFORM]=new Cs,t[wo.TRANSFORM]=new cl,t[wo.TRANSFORM_ORIGIN]=new ul,t[wo.Z_INDEX]=new hl,t[wo.MARKER]=new vs,t}(),nc=function(){return"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}};Jl.CameraContribution=Ii,Jl.AnimationTimeline=null,Jl.EasingFunction=null,Jl.offscreenCanvasCreator=new Ll,Jl.nativeHTMLMap=new WeakMap,Jl.sceneGraphSelector=new Nl,Jl.sceneGraphService=new Fl(Jl),Jl.textService=new Ql(Jl),Jl.geometryUpdaterFactory=tc,Jl.CSSPropertySyntaxFactory=ec,Jl.styleValueRegistry=new rs(Jl),Jl.layoutRegistry=null,Jl.globalThis=nc(),Jl.enableCSSParsing=!0,Jl.enableDataset=!1,Jl.enableStyleSyntax=!0;var rc=0;var ic=new jl(Pl.INSERTED,null,"","","",0,"",""),oc=new jl(Pl.REMOVED,null,"","","",0,"",""),ac=new _l(Pl.DESTROY),sc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.entity=rc++,e.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1,proxyNodeName:void 0},e.cullable={strategy:ao.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},e.transformable={dirtyFlag:!1,localDirtyFlag:!1,frozen:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},e.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},e.geometry={contentBounds:void 0,renderBounds:void 0},e.rBushNode={aabb:void 0},e.namespaceURI="g",e.scrollLeft=0,e.scrollTop=0,e.clientTop=0,e.clientLeft=0,e.destroyed=!1,e.style={},e.computedStyle=Jl.enableCSSParsing?{anchor:uo,opacity:uo,fillOpacity:uo,strokeOpacity:uo,fill:uo,stroke:uo,transform:uo,transformOrigin:uo,visibility:uo,pointerEvents:uo,lineWidth:uo,lineCap:uo,lineJoin:uo,increasedLineWidthForHitTesting:uo,fontSize:uo,fontFamily:uo,fontStyle:uo,fontWeight:uo,fontVariant:uo,textAlign:uo,textBaseline:uo,textTransform:uo,zIndex:uo,filter:uo,shadowType:uo}:null,e.parsedStyle={},e.attributes={},e}return c(e,t),Object.defineProperty(e.prototype,"className",{get:function(){return this.getAttribute("class")||""},set:function(t){this.setAttribute("class",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classList",{get:function(){return this.className.split(" ").filter((function(t){return""!==t}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.nodeName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childElementCount",{get:function(){return this.childNodes.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstElementChild",{get:function(){return this.firstChild},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastElementChild",{get:function(){return this.lastChild},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentElement",{get:function(){return this.parentNode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){if(this.parentNode){var t=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[t+1]||null}return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){if(this.parentNode){var t=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[t-1]||null}return null},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){throw new Error(Si)},e.prototype.appendChild=function(t,e){var n;if(t.destroyed)throw new Error(Ei);return Jl.sceneGraphService.attach(t,this,e),(null===(n=this.ownerDocument)||void 0===n?void 0:n.defaultView)&&this.ownerDocument.defaultView.mountChildren(t),ic.relatedNode=this,t.dispatchEvent(ic),t},e.prototype.insertBefore=function(t,e){if(e){var n=this.childNodes.indexOf(e);this.appendChild(t,n-1)}else this.appendChild(t);return t},e.prototype.replaceChild=function(t,e){var n=this.childNodes.indexOf(e);return this.removeChild(e),this.appendChild(t,n),e},e.prototype.removeChild=function(t){var e;return oc.relatedNode=this,t.dispatchEvent(oc),(null===(e=t.ownerDocument)||void 0===e?void 0:e.defaultView)&&t.ownerDocument.defaultView.unmountChildren(t),Jl.sceneGraphService.detach(t),t},e.prototype.removeChildren=function(){for(var t=this.childNodes.length-1;t>=0;t--){var e=this.childNodes[t];this.removeChild(e)}},e.prototype.destroyChildren=function(){for(var t=this.childNodes.length-1;t>=0;t--){var e=this.childNodes[t];e.childNodes.length&&e.destroyChildren(),e.destroy()}},e.prototype.matches=function(t){return Jl.sceneGraphService.matches(t,this)},e.prototype.getElementById=function(t){return Jl.sceneGraphService.querySelector("#".concat(t),this)},e.prototype.getElementsByName=function(t){return Jl.sceneGraphService.querySelectorAll('[name="'.concat(t,'"]'),this)},e.prototype.getElementsByClassName=function(t){return Jl.sceneGraphService.querySelectorAll(".".concat(t),this)},e.prototype.getElementsByTagName=function(t){return Jl.sceneGraphService.querySelectorAll(t,this)},e.prototype.querySelector=function(t){return Jl.sceneGraphService.querySelector(t,this)},e.prototype.querySelectorAll=function(t){return Jl.sceneGraphService.querySelectorAll(t,this)},e.prototype.closest=function(t){var e=this;do{if(Jl.sceneGraphService.matches(t,e))return e;e=e.parentElement}while(null!==e);return null},e.prototype.find=function(t){var e=this,n=null;return this.forEach((function(r){return!(r===e||!t(r))&&(n=r,!0)})),n},e.prototype.findAll=function(t){var e=this,n=[];return this.forEach((function(r){r!==e&&t(r)&&n.push(r)})),n},e.prototype.after=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this);e.forEach((function(e,n){var i;return null===(i=t.parentNode)||void 0===i?void 0:i.appendChild(e,r+n+1)}))}},e.prototype.before=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this.parentNode){var r=this.parentNode.childNodes.indexOf(this),i=v(e),o=i[0],a=i.slice(1);this.parentNode.appendChild(o,r),(t=o).after.apply(t,g([],v(a),!1))}},e.prototype.replaceWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.after.apply(this,g([],v(t),!1)),this.remove()},e.prototype.append=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach((function(e){return t.appendChild(e)}))},e.prototype.prepend=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach((function(e,n){return t.appendChild(e,n)}))},e.prototype.replaceChildren=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];while(this.childNodes.length&&this.firstChild)this.removeChild(this.firstChild);this.append.apply(this,g([],v(t),!1))},e.prototype.remove=function(){return this.parentNode?this.parentNode.removeChild(this):this},e.prototype.destroy=function(){this.dispatchEvent(ac),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0},e.prototype.getGeometryBounds=function(){return Jl.sceneGraphService.getGeometryBounds(this)},e.prototype.getRenderBounds=function(){return Jl.sceneGraphService.getBounds(this,!0)},e.prototype.getBounds=function(){return Jl.sceneGraphService.getBounds(this)},e.prototype.getLocalBounds=function(){return Jl.sceneGraphService.getLocalBounds(this)},e.prototype.getBoundingClientRect=function(){return Jl.sceneGraphService.getBoundingClientRect(this)},e.prototype.getClientRects=function(){return[this.getBoundingClientRect()]},e.prototype.computedStyleMap=function(){return new Map(Object.entries(this.computedStyle))},e.prototype.getAttributeNames=function(){return Object.keys(this.attributes)},e.prototype.getAttribute=function(t){if(Ji(t))return Jl.enableCSSParsing?null:void 0;var e=this.attributes[t];if(void 0===e){var n=eo(t);return e=this.attributes[n],Jl.enableCSSParsing&&ye(e)?null:e}return e},e.prototype.hasAttribute=function(t){return this.getAttributeNames().includes(t)},e.prototype.hasAttributes=function(){return!!this.getAttributeNames().length},e.prototype.removeAttribute=function(t){this.setAttribute(t,null),delete this.attributes[t]},e.prototype.setAttribute=function(t,e,n){this.attributes[t]=e},e.prototype.getAttributeNS=function(t,e){throw new Error(Si)},e.prototype.getAttributeNode=function(t){throw new Error(Si)},e.prototype.getAttributeNodeNS=function(t,e){throw new Error(Si)},e.prototype.hasAttributeNS=function(t,e){throw new Error(Si)},e.prototype.removeAttributeNS=function(t,e){throw new Error(Si)},e.prototype.removeAttributeNode=function(t){throw new Error(Si)},e.prototype.setAttributeNS=function(t,e,n){throw new Error(Si)},e.prototype.setAttributeNode=function(t){throw new Error(Si)},e.prototype.setAttributeNodeNS=function(t){throw new Error(Si)},e.prototype.toggleAttribute=function(t,e){throw new Error(Si)},e}(kl);function lc(t){return!!(null===t||void 0===t?void 0:t.nodeName)}var cc,uc=new jl(Pl.ATTR_MODIFIED,null,null,null,null,jl.MODIFICATION,null,null),hc={anchor:"",opacity:"",fillOpacity:"",strokeOpacity:"",fill:"",stroke:"",transform:"",transformOrigin:"",visibility:"",pointerEvents:"",lineWidth:"",lineCap:"",lineJoin:"",increasedLineWidthForHitTesting:"",fontSize:"",fontFamily:"",fontStyle:"",fontWeight:"",fontVariant:"",textAlign:"",textBaseline:"",textTransform:"",zIndex:"",filter:"",shadowType:""},fc={anchor:[0,0],fill:go,stroke:go,transform:[],zIndex:0,filter:[],shadowType:"outer",miterLimit:10},dc=u(u({},fc),{opacity:1,fillOpacity:1,strokeOpacity:1,visibility:"visible",pointerEvents:"auto",lineWidth:1,lineCap:"butt",lineJoin:"miter",increasedLineWidthForHitTesting:0,fillRule:"nonzero"}),pc=["opacity","fillOpacity","strokeOpacity","transformOrigin","visibility","pointerEvents","lineWidth","lineCap","lineJoin","increasedLineWidthForHitTesting"],vc=g(g([],v(pc),!1),["fontSize","fontFamily","fontStyle","fontWeight","fontVariant","textAlign","textBaseline","textTransform"],!1),gc="data-",yc=function(t){function e(e){var n,r=this;r=t.call(this)||this,r.isCustomElement=!1,r.isMutationObserved=!1,r.activeAnimations=[],r.getClip=function(){return this.style.clipPath||null},r.config=e,r.config.interactive=null!==(n=r.config.capture)&&void 0!==n?n:r.config.interactive,r.id=r.config.id||"",r.name=r.config.name||"",(r.config.className||r.config.class)&&(r.className=r.config.className||r.config.class),r.nodeName=r.config.type||Dr.GROUP,r.config.style=r.config.style||r.config.attrs||{},Object.assign(r.config.style,r.config.attrs),null!=r.config.visible&&(r.config.style.visibility=!1===r.config.visible?"hidden":"visible"),null!=r.config.interactive&&(r.config.style.pointerEvents=!1===r.config.interactive?"none":"auto"),Object.assign(r.parsedStyle,Jl.enableCSSParsing?fc:dc,r.config.initialParsedStyle),Jl.enableCSSParsing&&Object.assign(r.attributes,hc),r.initAttributes(r.config.style);var i=Jl.globalThis.Proxy?Jl.globalThis.Proxy:function(){};return Jl.enableDataset&&(r.dataset=new i({},{get:function(t,e){var n="".concat(gc).concat(Ki(e));return void 0!==t[n]?t[n]:r.getAttribute(n)},set:function(t,e,n){return r.setAttribute("".concat(gc).concat(Ki(e)),n),!0}})),Jl.enableStyleSyntax&&(r.style=new i({setProperty:function(t,e){r.setAttribute(t,e)},getPropertyValue:function(t){return r.getAttribute(t)},removeProperty:function(t){r.removeAttribute(t)},item:function(){return""}},{get:function(t,e){return void 0!==t[e]?t[e]:r.getAttribute(e)},set:function(t,e,n){return r.setAttribute(e,n),!0}})),r}return c(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.getAnimations().forEach((function(t){t.cancel()}))},e.prototype.cloneNode=function(t,e){var n=u({},this.attributes);for(var r in n){var i=n[r];lc(i)&&"clipPath"!==r&&"offsetPath"!==r&&"textPath"!==r&&(n[r]=i.cloneNode(t)),e&&(n[r]=e(r,i))}var o=new this.constructor({id:this.id,name:this.name,className:this.name,interactive:this.interactive,style:n});return o.setLocalTransform(this.getLocalTransform()),t&&this.children.forEach((function(e){if(!e.style.isMarker){var n=e.cloneNode(t);o.appendChild(n)}})),o},e.prototype.initAttributes=function(t){void 0===t&&(t={});var e=this.renderable,n={forceUpdateGeometry:!0};Jl.enableCSSParsing&&(n.usedAttributes=vc);var r={};for(var i in t){var o=eo(i);r[o]=t[i]}Jl.styleValueRegistry.processProperties(this,r,n),e.dirty=!0},e.prototype.setAttribute=function(e,n,r){void 0===r&&(r=!1);var i=eo(e);An(n)||(r||n!==this.attributes[i])&&(this.internalSetAttribute(i,n),t.prototype.setAttribute.call(this,i,n))},e.prototype.internalSetAttribute=function(t,e,n){var r;void 0===n&&(n={});var i=this.renderable,o=this.attributes[t],a=this.parsedStyle[t];Jl.styleValueRegistry.processProperties(this,(r={},r[t]=e,r),n),i.dirty=!0;var s=this.parsedStyle[t];this.isConnected&&(uc.relatedNode=this,uc.prevValue=o,uc.newValue=e,uc.attrName=t,uc.prevParsedValue=a,uc.newParsedValue=s,this.isMutationObserved?this.dispatchEvent(uc):(uc.target=this,this.ownerDocument.defaultView.dispatchEvent(uc,!0))),(this.isCustomElement&&this.isConnected||!this.isCustomElement)&&this.attributeChangedCallback&&this.attributeChangedCallback(t,o,e,a,s)},e.prototype.getBBox=function(){var t=this.getBounds(),e=v(t.getMin(),2),n=e[0],r=e[1],i=v(t.getMax(),2),o=i[0],a=i[1];return new Ci(n,r,o-n,a-r)},e.prototype.setOrigin=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),Jl.sceneGraphService.setOrigin(this,Kr(t,e,n)),this},e.prototype.getOrigin=function(){return Jl.sceneGraphService.getOrigin(this)},e.prototype.setPosition=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),Jl.sceneGraphService.setPosition(this,Kr(t,e,n)),this},e.prototype.setLocalPosition=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),Jl.sceneGraphService.setLocalPosition(this,Kr(t,e,n)),this},e.prototype.translate=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),Jl.sceneGraphService.translate(this,Kr(t,e,n)),this},e.prototype.translateLocal=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),Jl.sceneGraphService.translateLocal(this,Kr(t,e,n)),this},e.prototype.getPosition=function(){return Jl.sceneGraphService.getPosition(this)},e.prototype.getLocalPosition=function(){return Jl.sceneGraphService.getLocalPosition(this)},e.prototype.scale=function(t,e,n){return this.scaleLocal(t,e,n)},e.prototype.scaleLocal=function(t,e,n){return"number"===typeof t&&(e=e||t,n=n||t,t=Kr(t,e,n)),Jl.sceneGraphService.scaleLocal(this,t),this},e.prototype.setLocalScale=function(t,e,n){return"number"===typeof t&&(e=e||t,n=n||t,t=Kr(t,e,n)),Jl.sceneGraphService.setLocalScale(this,t),this},e.prototype.getLocalScale=function(){return Jl.sceneGraphService.getLocalScale(this)},e.prototype.getScale=function(){return Jl.sceneGraphService.getScale(this)},e.prototype.getEulerAngles=function(){var t=v(ni(w(),Jl.sceneGraphService.getWorldTransform(this)),3),e=t[2];return Qr(e)},e.prototype.getLocalEulerAngles=function(){var t=v(ni(w(),Jl.sceneGraphService.getLocalRotation(this)),3),e=t[2];return Qr(e)},e.prototype.setEulerAngles=function(t){return Jl.sceneGraphService.setEulerAngles(this,0,0,t),this},e.prototype.setLocalEulerAngles=function(t){return Jl.sceneGraphService.setLocalEulerAngles(this,0,0,t),this},e.prototype.rotateLocal=function(t,e,n){return ye(e)&&ye(n)?Jl.sceneGraphService.rotateLocal(this,0,0,t):Jl.sceneGraphService.rotateLocal(this,t,e,n),this},e.prototype.rotate=function(t,e,n){return ye(e)&&ye(n)?Jl.sceneGraphService.rotate(this,0,0,t):Jl.sceneGraphService.rotate(this,t,e,n),this},e.prototype.setRotation=function(t,e,n,r){return Jl.sceneGraphService.setRotation(this,t,e,n,r),this},e.prototype.setLocalRotation=function(t,e,n,r){return Jl.sceneGraphService.setLocalRotation(this,t,e,n,r),this},e.prototype.setLocalSkew=function(t,e){return Jl.sceneGraphService.setLocalSkew(this,t,e),this},e.prototype.getRotation=function(){return Jl.sceneGraphService.getRotation(this)},e.prototype.getLocalRotation=function(){return Jl.sceneGraphService.getLocalRotation(this)},e.prototype.getLocalSkew=function(){return Jl.sceneGraphService.getLocalSkew(this)},e.prototype.getLocalTransform=function(){return Jl.sceneGraphService.getLocalTransform(this)},e.prototype.getWorldTransform=function(){return Jl.sceneGraphService.getWorldTransform(this)},e.prototype.setLocalTransform=function(t){return Jl.sceneGraphService.setLocalTransform(this,t),this},e.prototype.resetLocalTransform=function(){Jl.sceneGraphService.resetLocalTransform(this)},e.prototype.getAnimations=function(){return this.activeAnimations},e.prototype.animate=function(t,e){var n,r=null===(n=this.ownerDocument)||void 0===n?void 0:n.timeline;return r?r.play(this,t,e):null},e.prototype.isVisible=function(){var t;return"visible"===(null===(t=this.parsedStyle)||void 0===t?void 0:t.visibility)},Object.defineProperty(e.prototype,"interactive",{get:function(){return this.isInteractive()},set:function(t){this.style.pointerEvents=t?"auto":"none"},enumerable:!1,configurable:!0}),e.prototype.isInteractive=function(){var t;return"none"!==(null===(t=this.parsedStyle)||void 0===t?void 0:t.pointerEvents)},e.prototype.isCulled=function(){return!(!this.cullable||!this.cullable.enable||this.cullable.visible)},e.prototype.toFront=function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,g([],v(this.parentNode.children.map((function(t){return Number(t.style.zIndex)}))),!1))+1),this},e.prototype.toBack=function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,g([],v(this.parentNode.children.map((function(t){return Number(t.style.zIndex)}))),!1))-1),this},e.prototype.getConfig=function(){return this.config},e.prototype.attr=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=v(e,2),i=r[0],o=r[1];return i?kn(i)?(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),this):2===e.length?(this.setAttribute(i,o),this):this.attributes[i]:this.attributes},e.prototype.getMatrix=function(t){var e=t||this.getWorldTransform(),n=v(dt(w(),e),2),r=n[0],i=n[1],o=v(pt(w(),e),2),a=o[0],s=o[1],l=vt(Ut(),e),c=v(ni(w(),l),3),u=c[0],h=c[2];return ri(u||h,r,i,a,s)},e.prototype.getLocalMatrix=function(){return this.getMatrix(this.getLocalTransform())},e.prototype.setMatrix=function(t){var e=v(oi(t),5),n=e[0],r=e[1],i=e[2],o=e[3],a=e[4];this.setEulerAngles(a).setPosition(n,r).setLocalScale(i,o)},e.prototype.setLocalMatrix=function(t){var e=v(oi(t),5),n=e[0],r=e[1],i=e[2],o=e[3],a=e[4];this.setLocalEulerAngles(a).setLocalPosition(n,r).setLocalScale(i,o)},e.prototype.show=function(){Jl.enableCSSParsing?this.style.visibility="visible":this.forEach((function(t){t.style.visibility="visible"}))},e.prototype.hide=function(){Jl.enableCSSParsing?this.style.visibility="hidden":this.forEach((function(t){t.style.visibility="hidden"}))},e.prototype.getCount=function(){return this.childElementCount},e.prototype.getParent=function(){return this.parentElement},e.prototype.getChildren=function(){return this.children},e.prototype.getFirst=function(){return this.firstElementChild},e.prototype.getLast=function(){return this.lastElementChild},e.prototype.getChildByIndex=function(t){return this.children[t]||null},e.prototype.add=function(t,e){return this.appendChild(t,e)},e.prototype.setClip=function(t){this.style.clipPath=t},e.prototype.set=function(t,e){this.config[t]=e},e.prototype.get=function(t){return this.config[t]},e.prototype.moveTo=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),this.setPosition(t,e,n),this},e.prototype.move=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),this.setPosition(t,e,n),this},e.prototype.setZIndex=function(t){return this.style.zIndex=t,this},e}(sc),mc={number:function(t){return new io(t)},percent:function(t){return new io(t,"%")},px:function(t){return new io(t,"px")},em:function(t){return new io(t,"em")},rem:function(t){return new io(t,"rem")},deg:function(t){return new io(t,"deg")},grad:function(t){return new io(t,"grad")},rad:function(t){return new io(t,"rad")},turn:function(t){return new io(t,"turn")},s:function(t){return new io(t,"s")},ms:function(t){return new io(t,"ms")},registerProperty:function(t){var e=t.name,n=t.inherits,r=t.interpolable,i=t.initialValue,o=t.syntax;Jl.styleValueRegistry.registerMetadata({n:e,inh:n,int:r,d:i,syntax:o})},registerLayout:function(t,e){Jl.layoutRegistry.registerLayout(t,e)}},bc=function(t){function e(e){void 0===e&&(e={});var n=e.style,r=h(e,["style"]);return t.call(this,u({type:Dr.CIRCLE,style:Jl.enableCSSParsing?u({cx:"",cy:"",r:""},n):u({},n),initialParsedStyle:{anchor:[.5,.5],transformOrigin:Jl.enableCSSParsing?null:[xo,xo]}},r))||this}return c(e,t),e}(yc),xc=function(t){function e(e){void 0===e&&(e={});var n=this,r=e.style,i=h(e,["style"]);return n=t.call(this,u({style:Jl.enableCSSParsing?u({x:"",y:""},r):u({},r)},i))||this,n.isCustomElement=!0,n}return c(e,t),e}(yc),wc=function(t){function e(e){void 0===e&&(e={});var n=e.style,r=h(e,["style"]);return t.call(this,u({type:Dr.ELLIPSE,style:Jl.enableCSSParsing?u({cx:"",cy:"",rx:"",ry:""},n):u({},n),initialParsedStyle:{anchor:[.5,.5],transformOrigin:Jl.enableCSSParsing?null:[xo,xo]}},r))||this}return c(e,t),e}(yc),Oc=function(t){function e(e){void 0===e&&(e={});var n=e.style,r=h(e,["style"]);return t.call(this,u({type:Dr.GROUP,style:Jl.enableCSSParsing?u({x:"",y:"",width:"",height:""},n):u({},n)},r))||this}return c(e,t),e}(yc),Cc=function(t){function e(e){void 0===e&&(e={});var n=this,r=e.style,i=h(e,["style"]);return n=t.call(this,u({type:Dr.HTML,style:Jl.enableCSSParsing?u({x:"",y:"",width:"auto",height:"auto",innerHTML:""},r):u({},r)},i))||this,n.cullable.enable=!1,n}return c(e,t),e.prototype.getDomElement=function(){return this.parsedStyle.$el},e.prototype.getBoundingClientRect=function(){if(this.parsedStyle.$el)return this.parsedStyle.$el.getBoundingClientRect();var t=this.parsedStyle,e=t.x,n=t.y,r=t.width,i=t.height;return new Ci(e,n,r,i)},e.prototype.getClientRects=function(){return[this.getBoundingClientRect()]},e.prototype.getBounds=function(){var t,e,n=this.getBoundingClientRect(),r=null===(e=null===(t=this.ownerDocument)||void 0===t?void 0:t.defaultView)||void 0===e?void 0:e.getContextService().getBoundingClientRect(),i=new gi,o=n.left-((null===r||void 0===r?void 0:r.left)||0),a=n.top-((null===r||void 0===r?void 0:r.top)||0);return i.setMinMax([o,a,0],[o+n.width,a+n.height,0]),i},e.prototype.getLocalBounds=function(){if(this.parentNode){var t=q(H(),this.parentNode.getWorldTransform()),e=this.getBounds();if(!gi.isEmpty(e)){var n=new gi;return n.setFromTransformedAABB(e,t),n}}return this.getBounds()},e}(yc),Sc=function(t){function e(e){void 0===e&&(e={});var n=e.style,r=h(e,["style"]);return t.call(this,u({type:Dr.IMAGE,style:Jl.enableCSSParsing?u({x:"",y:"",img:"",width:"",height:""},n):u({},n)},r))||this}return c(e,t),e}(yc),_c=function(t){function e(e){void 0===e&&(e={});var n=this,r=e.style,i=h(e,["style"]);n=t.call(this,u({type:Dr.LINE,style:u({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0,isBillboard:!1},r)},i))||this,n.markerStartAngle=0,n.markerEndAngle=0;var o=n.parsedStyle,a=o.markerStart,s=o.markerEnd;return a&&lc(a)&&(n.markerStartAngle=a.getLocalEulerAngles(),n.appendChild(a)),s&&lc(s)&&(n.markerEndAngle=s.getLocalEulerAngles(),n.appendChild(s)),n.transformMarker(!0),n.transformMarker(!1),n}return c(e,t),e.prototype.attributeChangedCallback=function(t,e,n,r,i){"x1"===t||"y1"===t||"x2"===t||"y2"===t||"markerStartOffset"===t||"markerEndOffset"===t?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===t?(r&&lc(r)&&(this.markerStartAngle=0,r.remove()),i&&lc(i)&&(this.markerStartAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!0))):"markerEnd"===t&&(r&&lc(r)&&(this.markerEndAngle=0,r.remove()),i&&lc(i)&&(this.markerEndAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!1)))},e.prototype.transformMarker=function(t){var e=this.parsedStyle,n=e.markerStart,r=e.markerEnd,i=e.markerStartOffset,o=e.markerEndOffset,a=e.x1,s=e.x2,l=e.y1,c=e.y2,u=e.defX,h=e.defY,f=t?n:r;if(f&&lc(f)){var d,p,v,g,y,m,b=0;t?(v=a-u,g=l-h,d=s-a,p=c-l,y=i||0,m=this.markerStartAngle):(v=s-u,g=c-h,d=a-s,p=l-c,y=o||0,m=this.markerEndAngle),b=Math.atan2(p,d),f.setLocalEulerAngles(180*b/Math.PI+m),f.setLocalPosition(v+Math.cos(b)*y,g+Math.sin(b)*y)}},e.prototype.getPoint=function(t,e){void 0===e&&(e=!1);var n=this.parsedStyle,r=n.x1,i=n.y1,o=n.x2,a=n.y2,s=n.defX,l=n.defY,c=Cr(r,i,o,a,t),u=c.x,h=c.y,f=j(w(),S(u-s,h-l,0),e?this.getWorldTransform():this.getLocalTransform());return new Oi(f[0],f[1])},e.prototype.getPointAtLength=function(t,e){return void 0===e&&(e=!1),this.getPoint(t/this.getTotalLength(),e)},e.prototype.getTotalLength=function(){var t=this.parsedStyle,e=t.x1,n=t.y1,r=t.x2,i=t.y2;return Or(e,n,r,i)},e}(yc),Ec=function(t){function e(e){void 0===e&&(e={});var n=this,r=e.style,i=h(e,["style"]);n=t.call(this,u({type:Dr.PATH,style:Jl.enableCSSParsing?u({path:"",miterLimit:""},r):u({},r),initialParsedStyle:Jl.enableCSSParsing?null:{miterLimit:4,path:u({},Oo)}},i))||this,n.markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var o=n.parsedStyle,a=o.markerStart,s=o.markerEnd,l=o.markerMid;return a&&lc(a)&&(n.markerStartAngle=a.getLocalEulerAngles(),n.appendChild(a)),l&&lc(l)&&n.placeMarkerMid(l),s&&lc(s)&&(n.markerEndAngle=s.getLocalEulerAngles(),n.appendChild(s)),n.transformMarker(!0),n.transformMarker(!1),n}return c(e,t),e.prototype.attributeChangedCallback=function(t,e,n,r,i){"path"===t?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):"markerStartOffset"===t||"markerEndOffset"===t?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===t?(r&&lc(r)&&(this.markerStartAngle=0,r.remove()),i&&lc(i)&&(this.markerStartAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!0))):"markerEnd"===t?(r&&lc(r)&&(this.markerEndAngle=0,r.remove()),i&&lc(i)&&(this.markerEndAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!1))):"markerMid"===t&&this.placeMarkerMid(i)},e.prototype.transformMarker=function(t){var e=this.parsedStyle,n=e.markerStart,r=e.markerEnd,i=e.markerStartOffset,o=e.markerEndOffset,a=e.defX,s=e.defY,l=t?n:r;if(l&&lc(l)){var c,u,h,f,d,p,g=0;if(t){var y=v(this.getStartTangent(),2),m=y[0],b=y[1];h=b[0]-a,f=b[1]-s,c=m[0]-b[0],u=m[1]-b[1],d=i||0,p=this.markerStartAngle}else{var x=v(this.getEndTangent(),2);m=x[0],b=x[1];h=b[0]-a,f=b[1]-s,c=m[0]-b[0],u=m[1]-b[1],d=o||0,p=this.markerEndAngle}g=Math.atan2(u,c),l.setLocalEulerAngles(180*g/Math.PI+p),l.setLocalPosition(h+Math.cos(g)*d,f+Math.sin(g)*d)}},e.prototype.placeMarkerMid=function(t){var e=this.parsedStyle,n=e.path.segments,r=e.defX,i=e.defY;if(this.markerMidList.forEach((function(t){t.remove()})),t&&lc(t))for(var o=1;o<n.length-1;o++){var a=v(n[o].currentPoint,2),s=a[0],l=a[1],c=1===o?t:t.cloneNode(!0);this.markerMidList.push(c),this.appendChild(c),c.setLocalPosition(s-r,l-i)}},e.prototype.getTotalLength=function(){return oa(this)},e.prototype.getPointAtLength=function(t,e){void 0===e&&(e=!1);var n=this.parsedStyle,r=n.defX,i=n.defY,o=n.path.absolutePath,a=Ln(o,t),s=a.x,l=a.y,c=j(w(),S(s-r,l-i,0),e?this.getWorldTransform():this.getLocalTransform());return new Oi(c[0],c[1])},e.prototype.getPoint=function(t,e){return void 0===e&&(e=!1),this.getPointAtLength(t*oa(this),e)},e.prototype.getStartTangent=function(){var t=this.parsedStyle.path.segments,e=[];if(t.length>1){var n=t[0].currentPoint,r=t[1].currentPoint,i=t[1].startTangent;e=[],i?(e.push([n[0]-i[0],n[1]-i[1]]),e.push([n[0],n[1]])):(e.push([r[0],r[1]]),e.push([n[0],n[1]]))}return e},e.prototype.getEndTangent=function(){var t=this.parsedStyle.path.segments,e=t.length,n=[];if(e>1){var r=t[e-2].currentPoint,i=t[e-1].currentPoint,o=t[e-1].endTangent;n=[],o?(n.push([i[0]-o[0],i[1]-o[1]]),n.push([i[0],i[1]])):(n.push([r[0],r[1]]),n.push([i[0],i[1]]))}return n},e}(yc),Mc=function(t){function e(e){void 0===e&&(e={});var n=this,r=e.style,i=h(e,["style"]);n=t.call(this,u({type:Dr.POLYGON,style:Jl.enableCSSParsing?u({points:"",miterLimit:"",isClosed:!0},r):u({},r),initialParsedStyle:Jl.enableCSSParsing?null:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},i))||this,n.markerStartAngle=0,n.markerEndAngle=0,n.markerMidList=[];var o=n.parsedStyle,a=o.markerStart,s=o.markerEnd,l=o.markerMid;return a&&lc(a)&&(n.markerStartAngle=a.getLocalEulerAngles(),n.appendChild(a)),l&&lc(l)&&n.placeMarkerMid(l),s&&lc(s)&&(n.markerEndAngle=s.getLocalEulerAngles(),n.appendChild(s)),n.transformMarker(!0),n.transformMarker(!1),n}return c(e,t),e.prototype.attributeChangedCallback=function(t,e,n,r,i){"points"===t?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):"markerStartOffset"===t||"markerEndOffset"===t?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===t?(r&&lc(r)&&(this.markerStartAngle=0,r.remove()),i&&lc(i)&&(this.markerStartAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!0))):"markerEnd"===t?(r&&lc(r)&&(this.markerEndAngle=0,r.remove()),i&&lc(i)&&(this.markerEndAngle=i.getLocalEulerAngles(),this.appendChild(i),this.transformMarker(!1))):"markerMid"===t&&this.placeMarkerMid(i)},e.prototype.transformMarker=function(t){var e=this.parsedStyle,n=e.markerStart,r=e.markerEnd,i=e.markerStartOffset,o=e.markerEndOffset,a=e.points.points,s=e.defX,l=e.defY,c=t?n:r;if(c&&lc(c)){var u,h,f,d,p,v,g=0;if(f=a[0][0]-s,d=a[0][1]-l,t)u=a[1][0]-a[0][0],h=a[1][1]-a[0][1],p=i||0,v=this.markerStartAngle;else{var y=a.length;this.parsedStyle.isClosed?(u=a[y-1][0]-a[0][0],h=a[y-1][1]-a[0][1]):(f=a[y-1][0]-s,d=a[y-1][1]-l,u=a[y-2][0]-a[y-1][0],h=a[y-2][1]-a[y-1][1]),p=o||0,v=this.markerEndAngle}g=Math.atan2(h,u),c.setLocalEulerAngles(180*g/Math.PI+v),c.setLocalPosition(f+Math.cos(g)*p,d+Math.sin(g)*p)}},e.prototype.placeMarkerMid=function(t){var e=this.parsedStyle,n=e.points.points,r=e.defX,i=e.defY;if(this.markerMidList.forEach((function(t){t.remove()})),this.markerMidList=[],t&&lc(t))for(var o=1;o<(this.parsedStyle.isClosed?n.length:n.length-1);o++){var a=n[o][0]-r,s=n[o][1]-i,l=1===o?t:t.cloneNode(!0);this.markerMidList.push(l),this.appendChild(l),l.setLocalPosition(a,s)}},e}(yc),kc=function(t){function e(e){void 0===e&&(e={});var n=e.style,r=h(e,["style"]);return t.call(this,u({type:Dr.POLYLINE,style:Jl.enableCSSParsing?u({points:"",miterLimit:"",isClosed:!1},n):u({},n),initialParsedStyle:Jl.enableCSSParsing?null:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},r))||this}return c(e,t),e.prototype.getTotalLength=function(){return this.parsedStyle.points.totalLength},e.prototype.getPointAtLength=function(t,e){return void 0===e&&(e=!1),this.getPoint(t/this.getTotalLength(),e)},e.prototype.getPoint=function(t,e){void 0===e&&(e=!1);var n=this.parsedStyle,r=n.defX,i=n.defY,o=n.points,a=o.points,s=o.segments,l=0,c=0;s.forEach((function(e,n){t>=e[0]&&t<=e[1]&&(l=(t-e[0])/(e[1]-e[0]),c=n)}));var u=Cr(a[c][0],a[c][1],a[c+1][0],a[c+1][1],l),h=u.x,f=u.y,d=j(w(),S(h-r,f-i,0),e?this.getWorldTransform():this.getLocalTransform());return new Oi(d[0],d[1])},e.prototype.getStartTangent=function(){var t=this.parsedStyle.points.points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.parsedStyle.points.points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(Mc),Tc=function(t){function e(e){void 0===e&&(e={});var n=e.style,r=h(e,["style"]);return t.call(this,u({type:Dr.RECT,style:Jl.enableCSSParsing?u({x:"",y:"",width:"",height:"",radius:""},n):u({},n)},r))||this}return c(e,t),e}(yc),Ac=function(t){function e(e){void 0===e&&(e={});var n=e.style,r=h(e,["style"]);return t.call(this,u({type:Dr.TEXT,style:Jl.enableCSSParsing?u({x:"",y:"",text:"",fontSize:"",fontFamily:"",fontStyle:"",fontWeight:"",fontVariant:"",textAlign:"",textBaseline:"",textTransform:"",fill:"black",letterSpacing:"",lineHeight:"",miterLimit:"",wordWrap:!1,wordWrapWidth:0,leading:0,dx:"",dy:"",isBillboard:!1,sizeAttenuation:!0},n):u({fill:"black"},n),initialParsedStyle:Jl.enableCSSParsing?{}:{x:0,y:0,fontSize:16,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",lineHeight:0,letterSpacing:0,textBaseline:"alphabetic",textAlign:"start",wordWrap:!1,wordWrapWidth:0,leading:0,dx:0,dy:0,isBillboard:!1,sizeAttenuation:!0}},r))||this}return c(e,t),e.prototype.getComputedTextLength=function(){var t;return(null===(t=this.parsedStyle.metrics)||void 0===t?void 0:t.maxLineWidth)||0},e.prototype.getLineBoundingRects=function(){var t;return(null===(t=this.parsedStyle.metrics)||void 0===t?void 0:t.lineMetrics)||[]},e.prototype.isOverflowing=function(){return!!this.parsedStyle.isOverflowing},e}(yc),Lc=function(){function t(){this.registry={},this.define(Dr.CIRCLE,bc),this.define(Dr.ELLIPSE,wc),this.define(Dr.RECT,Tc),this.define(Dr.IMAGE,Sc),this.define(Dr.LINE,_c),this.define(Dr.GROUP,Oc),this.define(Dr.PATH,Ec),this.define(Dr.POLYGON,Mc),this.define(Dr.POLYLINE,kc),this.define(Dr.TEXT,Ac),this.define(Dr.HTML,Cc)}return t.prototype.define=function(t,e){this.registry[t]=e},t.prototype.get=function(t){return this.registry[t]},t}(),Pc=function(t){function e(){var e=t.call(this)||this;e.defaultView=null,e.ownerDocument=null,e.nodeName="document";try{e.timeline=new Jl.AnimationTimeline(e)}catch(r){}var n={};return Qa.forEach((function(t){var e=t.n,r=t.inh,i=t.d;r&&i&&(n[e]=Qi(i)?i(Dr.GROUP):i)})),e.documentElement=new Oc({id:"g-root",style:n}),e.documentElement.ownerDocument=e,e.documentElement.parentNode=e,e.childNodes=[e.documentElement],e}return c(e,t),Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childElementCount",{get:function(){return this.childNodes.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstElementChild",{get:function(){return this.firstChild},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastElementChild",{get:function(){return this.lastChild},enumerable:!1,configurable:!0}),e.prototype.createElement=function(t,e){if("svg"===t)return this.documentElement;var n=this.defaultView.customElements.get(t);n||(console.warn("Unsupported tagName: ",t),n="tspan"===t?Ac:Oc);var r=new n(e);return r.ownerDocument=this,r},e.prototype.createElementNS=function(t,e,n){return this.createElement(e,n)},e.prototype.cloneNode=function(t){throw new Error(Si)},e.prototype.destroy=function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch(t){}},e.prototype.elementsFromBBox=function(t,e,n,r){var i=this.defaultView.context.rBushRoot,o=i.search({minX:t,minY:e,maxX:n,maxY:r}),a=[];return o.forEach((function(t){var e=t.displayObject,n=e.parsedStyle.pointerEvents,r=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(n);(!r||r&&e.isVisible())&&!e.isCulled()&&e.isInteractive()&&a.push(e)})),a.sort((function(t,e){return e.sortable.renderOrder-t.sortable.renderOrder})),a},e.prototype.elementFromPointSync=function(t,e){var n=this.defaultView.canvas2Viewport({x:t,y:e}),r=n.x,i=n.y,o=this.defaultView.getConfig(),a=o.width,s=o.height;if(r<0||i<0||r>a||i>s)return null;var l=this.defaultView.viewport2Client({x:r,y:i}),c=l.x,u=l.y,h=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:t,y:e,viewportX:r,viewportY:i,clientX:c,clientY:u},picked:[]}).picked;return h&&h[0]||this.documentElement},e.prototype.elementFromPoint=function(t,e){return f(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,c,u,h;return d(this,(function(f){switch(f.label){case 0:return n=this.defaultView.canvas2Viewport({x:t,y:e}),r=n.x,i=n.y,o=this.defaultView.getConfig(),a=o.width,s=o.height,r<0||i<0||r>a||i>s?[2,null]:(l=this.defaultView.viewport2Client({x:r,y:i}),c=l.x,u=l.y,[4,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:t,y:e,viewportX:r,viewportY:i,clientX:c,clientY:u},picked:[]})]);case 1:return h=f.sent().picked,[2,h&&h[0]||this.documentElement]}}))}))},e.prototype.elementsFromPointSync=function(t,e){var n=this.defaultView.canvas2Viewport({x:t,y:e}),r=n.x,i=n.y,o=this.defaultView.getConfig(),a=o.width,s=o.height;if(r<0||i<0||r>a||i>s)return[];var l=this.defaultView.viewport2Client({x:r,y:i}),c=l.x,u=l.y,h=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:t,y:e,viewportX:r,viewportY:i,clientX:c,clientY:u},picked:[]}).picked;return h[h.length-1]!==this.documentElement&&h.push(this.documentElement),h},e.prototype.elementsFromPoint=function(t,e){return f(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,c,u,h;return d(this,(function(f){switch(f.label){case 0:return n=this.defaultView.canvas2Viewport({x:t,y:e}),r=n.x,i=n.y,o=this.defaultView.getConfig(),a=o.width,s=o.height,r<0||i<0||r>a||i>s?[2,[]]:(l=this.defaultView.viewport2Client({x:r,y:i}),c=l.x,u=l.y,[4,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:t,y:e,viewportX:r,viewportY:i,clientX:c,clientY:u},picked:[]})]);case 1:return h=f.sent().picked,h[h.length-1]!==this.documentElement&&h.push(this.documentElement),[2,h]}}))}))},e.prototype.appendChild=function(t,e){throw new Error(_i)},e.prototype.insertBefore=function(t,e){throw new Error(_i)},e.prototype.removeChild=function(t,e){throw new Error(_i)},e.prototype.replaceChild=function(t,e,n){throw new Error(_i)},e.prototype.append=function(){throw new Error(_i)},e.prototype.prepend=function(){throw new Error(_i)},e.prototype.getElementById=function(t){return this.documentElement.getElementById(t)},e.prototype.getElementsByName=function(t){return this.documentElement.getElementsByName(t)},e.prototype.getElementsByTagName=function(t){return this.documentElement.getElementsByTagName(t)},e.prototype.getElementsByClassName=function(t){return this.documentElement.getElementsByClassName(t)},e.prototype.querySelector=function(t){return this.documentElement.querySelector(t)},e.prototype.querySelectorAll=function(t){return this.documentElement.querySelectorAll(t)},e.prototype.find=function(t){return this.documentElement.find(t)},e.prototype.findAll=function(t){return this.documentElement.findAll(t)},e}(kl),Rc=function(){function t(t){this.strategies=t}return t.prototype.apply=function(e){var n=e.camera,r=e.renderingService,i=e.renderingContext,o=this.strategies;r.hooks.cull.tap(t.tag,(function(t){if(t){var e=t.cullable;return 0===o.length?e.visible=i.unculledEntities.indexOf(t.entity)>-1:e.visible=o.every((function(e){return e.isVisible(n,t)})),!t.isCulled()&&t.isVisible()?t:(t.dispatchEvent(new _l(Pl.CULLED)),null)}return t})),r.hooks.afterRender.tap(t.tag,(function(t){t.cullable.visibilityPlaneMask=-1}))},t.tag="Culling",t}(),Ic=function(){function t(){}return t.prototype.apply=function(e){var n=e.renderingService;n.hooks.dirtycheck.tap(t.tag,(function(t){if(t){var e=t.renderable,r=e.dirty||n.disableDirtyRectangleRendering();return r?t:null}return t}))},t.tag="DirtyCheck",t}(),Nc=function(){function t(){var t=this;this.autoPreventDefault=!1,this.rootPointerEvent=new Cl(null),this.rootWheelEvent=new Sl(null),this.onPointerMove=function(e){var n,r,i,o,a=null===(o=null===(i=t.context.renderingContext.root)||void 0===i?void 0:i.ownerDocument)||void 0===o?void 0:o.defaultView;if(!a.supportsTouchEvents||"touch"!==e.pointerType){var s=t.normalizeToPointerEvent(e,a);try{for(var l=p(s),c=l.next();!c.done;c=l.next()){var u=c.value,h=t.bootstrapEvent(t.rootPointerEvent,u,a,e);t.context.eventService.mapEvent(h)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}t.setCursor(t.context.eventService.cursor)}},this.onClick=function(e){var n,r,i,o,a=null===(o=null===(i=t.context.renderingContext.root)||void 0===i?void 0:i.ownerDocument)||void 0===o?void 0:o.defaultView,s=t.normalizeToPointerEvent(e,a);try{for(var l=p(s),c=l.next();!c.done;c=l.next()){var u=c.value,h=t.bootstrapEvent(t.rootPointerEvent,u,a,e);t.context.eventService.mapEvent(h)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}t.setCursor(t.context.eventService.cursor)}}return t.prototype.apply=function(e){var n=this;this.context=e;var r=e.renderingService,i=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler((function(t){var e=n.context.renderingService.hooks.pickSync.call({position:t,picked:[],topmost:!0}).picked;return e[0]||null})),r.hooks.pointerWheel.tap(t.tag,(function(t){var e=n.normalizeWheelEvent(t);n.context.eventService.mapEvent(e)})),r.hooks.pointerDown.tap(t.tag,(function(t){var e,r;if(!i.supportsTouchEvents||"touch"!==t.pointerType){var o=n.normalizeToPointerEvent(t,i);if(n.autoPreventDefault&&o[0].isNormalized){var a=t.cancelable||!("cancelable"in t);a&&t.preventDefault()}try{for(var s=p(o),l=s.next();!l.done;l=s.next()){var c=l.value,u=n.bootstrapEvent(n.rootPointerEvent,c,i,t);n.context.eventService.mapEvent(u)}}catch(h){e={error:h}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}n.setCursor(n.context.eventService.cursor)}})),r.hooks.pointerUp.tap(t.tag,(function(t){var e,r;if(!i.supportsTouchEvents||"touch"!==t.pointerType){var o=n.context.contextService.getDomElement(),a="outside";try{a=o&&t.target&&t.target!==o&&o.contains&&!o.contains(t.target)?"outside":""}catch(f){}var s=n.normalizeToPointerEvent(t,i);try{for(var l=p(s),c=l.next();!c.done;c=l.next()){var u=c.value,h=n.bootstrapEvent(n.rootPointerEvent,u,i,t);h.type+=a,n.context.eventService.mapEvent(h)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}n.setCursor(n.context.eventService.cursor)}})),r.hooks.pointerMove.tap(t.tag,this.onPointerMove),r.hooks.pointerOver.tap(t.tag,this.onPointerMove),r.hooks.pointerOut.tap(t.tag,this.onPointerMove),r.hooks.click.tap(t.tag,this.onClick),r.hooks.pointerCancel.tap(t.tag,(function(t){var e,r,o=n.normalizeToPointerEvent(t,i);try{for(var a=p(o),s=a.next();!s.done;s=a.next()){var l=s.value,c=n.bootstrapEvent(n.rootPointerEvent,l,i,t);n.context.eventService.mapEvent(c)}}catch(u){e={error:u}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}n.setCursor(n.context.eventService.cursor)}))},t.prototype.getViewportXY=function(t){var e,n,r=t.offsetX,i=t.offsetY,o=t.clientX,a=t.clientY;if(!this.context.config.supportsCSSTransform||ye(r)||ye(i)){var s=this.context.eventService.client2Viewport(new Oi(o,a));e=s.x,n=s.y}else e=r,n=i;return{x:e,y:n}},t.prototype.bootstrapEvent=function(t,e,n,r){var i,o;t.view=n,t.originalEvent=null,t.nativeEvent=r,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e);var a=(i=this.getViewportXY(e),i.x),s=i.y;t.viewport.x=a,t.viewport.y=s;var l=(o=this.context.eventService.viewport2Canvas(t.viewport),o.x),c=o.y;return t.canvas.x=l,t.canvas.y=c,t.global.copyFrom(t.canvas),t.offset.copyFrom(t.canvas),t.isTrusted=r.isTrusted,"pointerleave"===t.type&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=Ds[t.type]||t.type),t},t.prototype.normalizeWheelEvent=function(t){var e,n,r=this.rootWheelEvent;this.transferMouseData(r,t),r.deltaMode=t.deltaMode,r.deltaX=t.deltaX,r.deltaY=t.deltaY,r.deltaZ=t.deltaZ;var i=(e=this.getViewportXY(t),e.x),o=e.y;r.viewport.x=i,r.viewport.y=o;var a=(n=this.context.eventService.viewport2Canvas(r.viewport),n.x),s=n.y;return r.canvas.x=a,r.canvas.y=s,r.global.copyFrom(r.canvas),r.offset.copyFrom(r.canvas),r.nativeEvent=t,r.type=t.type,r},t.prototype.transferMouseData=function(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.metaKey=e.metaKey,t.shiftKey=e.shiftKey,t.ctrlKey=e.ctrlKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.screen.x=e.screenX,t.screen.y=e.screenY,t.relatedTarget=null},t.prototype.setCursor=function(t){this.context.contextService.applyCursorStyle(t||this.context.config.cursor||"default")},t.prototype.normalizeToPointerEvent=function(t,e){var n=[];if(e.isTouchEvent(t))for(var r=0;r<t.changedTouches.length;r++){var i=t.changedTouches[r];An(i.button)&&(i.button=0),An(i.buttons)&&(i.buttons=1),An(i.isPrimary)&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),An(i.width)&&(i.width=i.radiusX||1),An(i.height)&&(i.height=i.radiusY||1),An(i.tiltX)&&(i.tiltX=0),An(i.tiltY)&&(i.tiltY=0),An(i.pointerType)&&(i.pointerType="touch"),An(i.pointerId)&&(i.pointerId=i.identifier||0),An(i.pressure)&&(i.pressure=i.force||.5),An(i.twist)&&(i.twist=0),An(i.tangentialPressure)&&(i.tangentialPressure=0),i.isNormalized=!0,i.type=t.type,n.push(i)}else if(e.isMouseEvent(t)){var o=t;An(o.isPrimary)&&(o.isPrimary=!0),An(o.width)&&(o.width=1),An(o.height)&&(o.height=1),An(o.tiltX)&&(o.tiltX=0),An(o.tiltY)&&(o.tiltY=0),An(o.pointerType)&&(o.pointerType="mouse"),An(o.pointerId)&&(o.pointerId=Bs),An(o.pressure)&&(o.pressure=.5),An(o.twist)&&(o.twist=0),An(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,n.push(o)}else n.push(t);return n},t.tag="Event",t}(),jc=[Dr.CIRCLE,Dr.ELLIPSE,Dr.IMAGE,Dr.RECT,Dr.LINE,Dr.POLYLINE,Dr.POLYGON,Dr.TEXT,Dr.PATH,Dr.HTML],Bc=function(){function t(){}return t.prototype.isVisible=function(t,e){var n,r,i=e.cullable;if(!i.enable)return!0;var o=e.getRenderBounds();if(gi.isEmpty(o))return!1;var a=t.getFrustum(),s=null===(r=null===(n=e.parentNode)||void 0===n?void 0:n.cullable)||void 0===r?void 0:r.visibilityPlaneMask;return i.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(e,o,s||vi.INDETERMINATE,a.planes),i.visible=i.visibilityPlaneMask!==vi.OUTSIDE,i.visible},t.prototype.computeVisibilityWithPlaneMask=function(t,e,n,r){if(n===vi.OUTSIDE||n===vi.INSIDE)return n;for(var i=vi.INSIDE,o=jc.indexOf(t.nodeName)>-1,a=0,s=r.length;a<s;++a){var l=1<<a;if(0!==(n&l)&&(!o||4!==a&&5!==a)){var c=r[a],u=c.normal,h=c.distance;if(R(u,e.getPositiveFarPoint(r[a]))+h<0)return vi.OUTSIDE;R(u,e.getNegativeFarPoint(r[a]))+h<0&&(i|=l)}}return i},t}(),Dc=function(){function t(){this.toSync=new Set}return t.prototype.apply=function(e){var n=this,r=e.renderingService,i=e.renderingContext,o=e.rBushRoot,a=i.root.ownerDocument.defaultView;this.rBush=o;var s=function(t){var e=t.target;e.renderable.dirty=!0,r.dirtify()},l=function(t){var e=t.detail.affectChildren,i=t.target;e&&i.forEach((function(t){n.toSync.add(t)}));var o=i;while(o)o.renderable&&n.toSync.add(o),o=o.parentElement;r.dirtify()},c=function(t){var e=t.target;Jl.enableCSSParsing&&Jl.styleValueRegistry.recalc(e),Jl.sceneGraphService.dirtifyToRoot(e),r.dirtify()},u=function(t){var e=t.target,i=e.rBushNode;i.aabb&&n.rBush.remove(i.aabb),n.toSync.delete(e),Jl.sceneGraphService.dirtifyToRoot(e),r.dirtify()};r.hooks.init.tap(t.tag,(function(){a.addEventListener(Pl.MOUNTED,c),a.addEventListener(Pl.UNMOUNTED,u),a.addEventListener(Pl.ATTR_MODIFIED,s),a.addEventListener(Pl.BOUNDS_CHANGED,l)})),r.hooks.destroy.tap(t.tag,(function(){a.removeEventListener(Pl.MOUNTED,c),a.removeEventListener(Pl.UNMOUNTED,u),a.removeEventListener(Pl.ATTR_MODIFIED,s),a.removeEventListener(Pl.BOUNDS_CHANGED,l),n.toSync.clear()})),r.hooks.endFrame.tap(t.tag,(function(){n.syncRTree()}))},t.prototype.syncRTree=function(){var t=this,e=[];Array.from(this.toSync).filter((function(t){return t.isConnected})).forEach((function(n){var r,i,o=n.rBushNode;o&&o.aabb&&t.rBush.remove(o.aabb);var a=n.getRenderBounds();if(a){var s=(r=v(a.getMin(),2),r[0]),l=r[1],c=(i=v(a.getMax(),2),i[0]),u=i[1];o.aabb||(o.aabb={}),o.aabb.displayObject=n,o.aabb.minX=s,o.aabb.minY=l,o.aabb.maxX=c,o.aabb.maxY=u}o.aabb&&(isNaN(o.aabb.maxX)||isNaN(o.aabb.maxX)||isNaN(o.aabb.minX)||isNaN(o.aabb.minY)||e.push(o.aabb))})),this.rBush.load(e),e.length=0,this.toSync.clear()},t.tag="Prepare",t}();(function(t){t["READY"]="ready",t["BEFORE_RENDER"]="beforerender",t["RERENDER"]="rerender",t["AFTER_RENDER"]="afterrender",t["BEFORE_DESTROY"]="beforedestroy",t["AFTER_DESTROY"]="afterdestroy",t["RESIZE"]="resize",t["DIRTY_RECTANGLE"]="dirtyrectangle",t["RENDERER_CHANGED"]="rendererchanged"})(cc||(cc={}));var Fc=500,zc=.1,Wc=1e3,Hc=new _l(Pl.MOUNTED),$c=new _l(Pl.UNMOUNTED),Gc=new _l(cc.BEFORE_RENDER),Vc=new _l(cc.RERENDER),Yc=new _l(cc.AFTER_RENDER),Uc=function(t){function e(e){var n=t.call(this)||this;n.Element=yc,n.inited=!1,n.context={},n.document=new Pc,n.document.defaultView=n,n.customElements=new Lc;var r=e.container,i=e.canvas,o=e.offscreenCanvas,a=e.width,s=e.height,l=e.devicePixelRatio,c=e.renderer,u=e.background,h=e.cursor,f=e.document,d=e.requestAnimationFrame,p=e.cancelAnimationFrame,v=e.createImage,g=e.supportsPointerEvents,y=e.supportsTouchEvents,m=e.supportsCSSTransform,b=e.useNativeClickEvent,x=e.alwaysTriggerPointerEventOnCanvas,w=e.isTouchEvent,O=e.isMouseEvent;Es(r,n);var C=a,S=s,_=l;return i&&(_=l||Ms&&window.devicePixelRatio||1,_=_>=1?Math.ceil(_):1,C=a||Ns(i)||i.width/_,S=s||js(i)||i.height/_),o&&(Jl.offscreenCanvas=o),n.devicePixelRatio=_,n.requestAnimationFrame=null!==d&&void 0!==d?d:tl.bind(Jl.globalThis),n.cancelAnimationFrame=null!==p&&void 0!==p?p:el.bind(Jl.globalThis),n.supportsTouchEvents=null!==y&&void 0!==y?y:"ontouchstart"in Jl.globalThis,n.supportsPointerEvents=null!==g&&void 0!==g?g:!!Jl.globalThis.PointerEvent,n.isTouchEvent=null!==w&&void 0!==w?w:function(t){return n.supportsTouchEvents&&t instanceof Jl.globalThis.TouchEvent},n.isMouseEvent=null!==O&&void 0!==O?O:function(t){return!Jl.globalThis.MouseEvent||t instanceof Jl.globalThis.MouseEvent&&(!n.supportsPointerEvents||!(t instanceof Jl.globalThis.PointerEvent))},n.initRenderingContext({container:r,canvas:i,width:C,height:S,renderer:c,offscreenCanvas:o,devicePixelRatio:_,cursor:h||"default",background:u||"transparent",createImage:v,document:f,supportsCSSTransform:m,useNativeClickEvent:b,alwaysTriggerPointerEventOnCanvas:x}),n.initDefaultCamera(C,S,c.clipSpaceNearZ),n.initRenderer(c,!0),n}return c(e,t),e.prototype.initRenderingContext=function(t){this.context.config=t,this.context.renderingContext={root:this.document.documentElement,renderListCurrentFrame:[],unculledEntities:[],renderReasons:new Set,force:!1,dirty:!1}},e.prototype.initDefaultCamera=function(t,e,n){var r=this,i=new Jl.CameraContribution;i.clipSpaceNearZ=n,i.setType(mi.EXPLORING,bi.DEFAULT).setPosition(t/2,e/2,Fc).setFocalPoint(t/2,e/2,0).setOrthographic(t/-2,t/2,e/2,e/-2,zc,Wc),i.canvas=this,i.eventEmitter.on(Pi.UPDATED,(function(){r.context.renderingContext.renderReasons.add(xl.CAMERA_CHANGED)})),this.context.camera=i},e.prototype.getConfig=function(){return this.context.config},e.prototype.getRoot=function(){return this.document.documentElement},e.prototype.getCamera=function(){return this.context.camera},e.prototype.getContextService=function(){return this.context.contextService},e.prototype.getEventService=function(){return this.context.eventService},e.prototype.getRenderingService=function(){return this.context.renderingService},e.prototype.getRenderingContext=function(){return this.context.renderingContext},e.prototype.getStats=function(){return this.getRenderingService().getStats()},Object.defineProperty(e.prototype,"ready",{get:function(){var t=this;return this.readyPromise||(this.readyPromise=new Promise((function(e){t.resolveReadyPromise=function(){e(t)}})),this.inited&&this.resolveReadyPromise()),this.readyPromise},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,e){if(void 0===t&&(t=!0),void 0===e&&(e=!1),e||this.dispatchEvent(new _l(cc.BEFORE_DESTROY)),this.frameId){var n=this.getConfig().cancelAnimationFrame||cancelAnimationFrame;n(this.frameId)}var r=this.getRoot();this.unmountChildren(r),t&&(this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),t&&this.context.rBushRoot&&(this.context.rBushRoot.clear(),this.context.rBushRoot=null,this.context.renderingContext.root=null),e||this.dispatchEvent(new _l(cc.AFTER_DESTROY))},e.prototype.changeSize=function(t,e){this.resize(t,e)},e.prototype.resize=function(t,e){var n=this.context.config;n.width=t,n.height=e,this.getContextService().resize(t,e);var r=this.context.camera,i=r.getProjectionMode();r.setPosition(t/2,e/2,Fc).setFocalPoint(t/2,e/2,0),i===xi.ORTHOGRAPHIC?r.setOrthographic(t/-2,t/2,e/2,e/-2,r.getNear(),r.getFar()):r.setAspect(t/e),this.dispatchEvent(new _l(cc.RESIZE,{width:t,height:e}))},e.prototype.appendChild=function(t,e){return this.document.documentElement.appendChild(t,e)},e.prototype.insertBefore=function(t,e){return this.document.documentElement.insertBefore(t,e)},e.prototype.removeChild=function(t){return this.document.documentElement.removeChild(t)},e.prototype.removeChildren=function(){this.document.documentElement.removeChildren()},e.prototype.destroyChildren=function(){this.document.documentElement.destroyChildren()},e.prototype.render=function(){var t=this;this.dispatchEvent(Gc);var e=this.getRenderingService();e.render(this.getConfig(),(function(){t.dispatchEvent(Vc)})),this.dispatchEvent(Yc)},e.prototype.run=function(){var t=this,e=function(){t.render(),t.frameId=t.requestAnimationFrame(e)};e()},e.prototype.initRenderer=function(t,e){var n=this;if(void 0===e&&(e=!1),!t)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new zr,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new Nc,new Dc,new Ic,new Rc([new Bc])),this.loadRendererContainerModule(t),this.context.contextService=new this.context.ContextService(u(u({},Jl),this.context)),this.context.renderingService=new Rl(Jl,this.context),this.context.eventService=new Al(Jl,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(t,e,!0)):this.context.contextService.initAsync().then((function(){n.initRenderingService(t,e)}))},e.prototype.initRenderingService=function(t,e,n){var r=this;void 0===e&&(e=!1),void 0===n&&(n=!1),this.context.renderingService.init((function(){r.inited=!0,e?(n?r.requestAnimationFrame((function(){r.dispatchEvent(new _l(cc.READY))})):r.dispatchEvent(new _l(cc.READY)),r.readyPromise&&r.resolveReadyPromise()):r.dispatchEvent(new _l(cc.RENDERER_CHANGED)),e||r.getRoot().forEach((function(t){var e=t.renderable;e&&(e.renderBoundsDirty=!0,e.boundsDirty=!0,e.dirty=!0)})),r.mountChildren(r.getRoot()),t.getConfig().enableAutoRendering&&r.run()}))},e.prototype.loadRendererContainerModule=function(t){var e=this,n=t.getPlugins();n.forEach((function(t){t.context=e.context,t.init(Jl)}))},e.prototype.setRenderer=function(t){var e=this.getConfig();if(e.renderer!==t){var n=e.renderer;e.renderer=t,this.destroy(!1,!0),g([],v(null===n||void 0===n?void 0:n.getPlugins()),!1).reverse().forEach((function(t){t.destroy(Jl)})),this.initRenderer(t)}},e.prototype.setCursor=function(t){var e=this.getConfig();e.cursor=t,this.getContextService().applyCursorStyle(t)},e.prototype.unmountChildren=function(t){var e=this;t.childNodes.forEach((function(t){e.unmountChildren(t)})),this.inited&&(t.isMutationObserved?t.dispatchEvent($c):($c.target=t,this.dispatchEvent($c,!0)),t!==this.document.documentElement&&(t.ownerDocument=null),t.isConnected=!1),t.isCustomElement&&t.disconnectedCallback&&t.disconnectedCallback()},e.prototype.mountChildren=function(t){var e=this;this.inited?t.isConnected||(t.ownerDocument=this.document,t.isConnected=!0,t.isMutationObserved?t.dispatchEvent(Hc):(Hc.target=t,this.dispatchEvent(Hc,!0))):console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",t.nodeName),t.childNodes.forEach((function(t){e.mountChildren(t)})),t.isCustomElement&&t.connectedCallback&&t.connectedCallback()},e.prototype.client2Viewport=function(t){return this.getEventService().client2Viewport(t)},e.prototype.viewport2Client=function(t){return this.getEventService().viewport2Client(t)},e.prototype.viewport2Canvas=function(t){return this.getEventService().viewport2Canvas(t)},e.prototype.canvas2Viewport=function(t){return this.getEventService().canvas2Viewport(t)},e.prototype.getPointByClient=function(t,e){return this.client2Viewport({x:t,y:e})},e.prototype.getClientByPoint=function(t,e){return this.viewport2Client({x:t,y:e})},e}(Ml),Xc=function(t,e){return Xc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Xc(t,e)};function qc(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Xc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var Kc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.landmarks=[],e}return qc(e,t),e.prototype.rotate=function(t,e,n){if(this.relElevation=qr(e),this.relAzimuth=qr(t),this.relRoll=qr(n),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===mi.EXPLORING){var r=Xt(Ut(),[1,0,0],Zr((this.rotateWorld?1:-1)*this.relElevation)),i=Xt(Ut(),[0,1,0],Zr((this.rotateWorld?1:-1)*this.relAzimuth)),o=Xt(Ut(),[0,0,1],Zr(this.relRoll)),a=qt(Ut(),i,r);a=qt(Ut(),a,o);var s=mt(H(),a);J(this.matrix,this.matrix,[0,0,-this.distance]),Q(this.matrix,this.matrix,s),J(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===mi.ORBITING||this.type===mi.EXPLORING?this._getPosition():this.type===mi.TRACKING&&this._getFocalPoint(),this._update(),this},e.prototype.pan=function(t,e){var n=Kr(t,e,0),r=O(this.position);return M(r,r,A(w(),this.right,n[0])),M(r,r,A(w(),this.up,n[1])),this._setPosition(r),this.triggerUpdate(),this},e.prototype.dolly=function(t){var e=this.forward,n=O(this.position),r=t*this.dollyingStep,i=this.distance+t*this.dollyingStep;return r=Math.max(Math.min(i,this.maxDistance),this.minDistance)-this.distance,n[0]+=r*e[0],n[1]+=r*e[1],n[2]+=r*e[2],this._setPosition(n),this.type===mi.ORBITING||this.type===mi.EXPLORING?this._getDistance():this.type===mi.TRACKING&&M(this.focalPoint,n,this.distanceVector),this.triggerUpdate(),this},e.prototype.cancelLandmarkAnimation=function(){void 0!==this.landmarkAnimationID&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)},e.prototype.createLandmark=function(t,e){var n,r,i,o;void 0===e&&(e={});var a=e.position,s=void 0===a?this.position:a,l=e.focalPoint,c=void 0===l?this.focalPoint:l,u=e.roll,h=e.zoom,f=new Jl.CameraContribution;f.setType(this.type,void 0),f.setPosition(s[0],null!==(n=s[1])&&void 0!==n?n:this.position[1],null!==(r=s[2])&&void 0!==r?r:this.position[2]),f.setFocalPoint(c[0],null!==(i=c[1])&&void 0!==i?i:this.focalPoint[1],null!==(o=c[2])&&void 0!==o?o:this.focalPoint[2]),f.setRoll(null!==u&&void 0!==u?u:this.roll),f.setZoom(null!==h&&void 0!==h?h:this.zoom);var d={name:t,matrix:$(f.getWorldTransform()),right:O(f.right),up:O(f.up),forward:O(f.forward),position:O(f.getPosition()),focalPoint:O(f.getFocalPoint()),distanceVector:O(f.getDistanceVector()),distance:f.getDistance(),dollyingStep:f.getDollyingStep(),azimuth:f.getAzimuth(),elevation:f.getElevation(),roll:f.getRoll(),relAzimuth:f.relAzimuth,relElevation:f.relElevation,relRoll:f.relRoll,zoom:f.getZoom()};return this.landmarks.push(d),d},e.prototype.gotoLandmark=function(t,e){var n=this;void 0===e&&(e={});var r=me(t)?this.landmarks.find((function(e){return e.name===t})):t;if(r){var i=pe(e)?{duration:e}:e,o=i.easing,a=void 0===o?"linear":o,s=i.duration,l=void 0===s?100:s,c=i.easingFunction,u=void 0===c?void 0:c,h=i.onfinish,f=void 0===h?void 0:h,d=.01;if(0===l)return this.syncFromLandmark(r),void(f&&f());this.cancelLandmarkAnimation();var p,v=r.position,g=r.focalPoint,y=r.zoom,m=r.roll,b=u||Jl.EasingFunction(a),x=function(){n.setFocalPoint(g),n.setPosition(v),n.setRoll(m),n.setZoom(y),n.computeMatrix(),n.triggerUpdate(),f&&f()},O=function(t){void 0===p&&(p=t);var e=t-p;if(e>l)x();else{var r=b(e/l),i=w(),o=w(),a=1,s=0;N(i,n.focalPoint,g,r),N(o,n.position,v,r),s=n.roll*(1-r)+m*r,a=n.zoom*(1-r)+y*r,n.setFocalPoint(i),n.setPosition(o),n.setRoll(s),n.setZoom(a);var c=z(i,g)+z(o,v);c<=d&&void 0==y&&void 0==m?x():(n.computeMatrix(),n.triggerUpdate(),e<l&&(n.landmarkAnimationID=n.canvas.requestAnimationFrame(O)))}};this.canvas.requestAnimationFrame(O)}},e.prototype.syncFromLandmark=function(t){this.matrix=G(this.matrix,t.matrix),this.right=_(this.right,t.right),this.up=_(this.up,t.up),this.forward=_(this.forward,t.forward),this.position=_(this.position,t.position),this.focalPoint=_(this.focalPoint,t.focalPoint),this.distanceVector=_(this.distanceVector,t.distanceVector),this.azimuth=t.azimuth,this.elevation=t.elevation,this.roll=t.roll,this.relAzimuth=t.relAzimuth,this.relElevation=t.relElevation,this.relRoll=t.relRoll,this.dollyingStep=t.dollyingStep,this.distance=t.distance,this.zoom=t.zoom},e}(Ii);Jl.CameraContribution=Kc;var Zc,Qc,Jc=function(){function t(t,e){this.type=t,this.target=e,this.addedNodes=[],this.attributeName=null,this.attributeNamespace=null,this.nextSibling=null,this.oldValue=null,this.previousSibling=null,this.removedNodes=[]}return t.copy=function(e){var n=new t(e.type,e.target);return n.addedNodes=e.addedNodes.slice(),n.removedNodes=e.removedNodes.slice(),n.previousSibling=e.previousSibling,n.nextSibling=e.nextSibling,n.attributeName=e.attributeName,n.attributeNamespace=e.attributeNamespace,n.oldValue=e.oldValue,n},t}(),tu=0,eu=new WeakMap,nu=function(){function t(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}return t.prototype.enqueue=function(t){var e=this.observer.records,n=e.length;if(e.length>0){var r=e[n-1],i=su(r,t);if(i)return void(e[n-1]=i)}else fu(this.observer);e[n]=t},t.prototype.addListeners=function(){this.addListeners_(this.target)},t.prototype.addListeners_=function(t){var e=this.options;e.attributes&&t.addEventListener(Pl.ATTR_MODIFIED,this,!0),e.childList&&t.addEventListener(Pl.INSERTED,this,!0),(e.childList||e.subtree)&&t.addEventListener(Pl.REMOVED,this,!0)},t.prototype.removeListeners=function(){this.removeListeners_(this.target)},t.prototype.removeListeners_=function(t){var e=this.options;e.attributes&&t.removeEventListener(Pl.ATTR_MODIFIED,this,!0),e.childList&&t.removeEventListener(Pl.INSERTED,this,!0),(e.childList||e.subtree)&&t.removeEventListener(Pl.REMOVED,this,!0)},t.prototype.removeTransientObservers=function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach((function(t){this.removeListeners_(t);for(var e=eu.get(t),n=0;n<e.length;n++)if(e[n]===this){e.splice(n,1);break}}),this)},t.prototype.handleEvent=function(t){var e,n;switch(t.stopImmediatePropagation(),t.type){case Pl.ATTR_MODIFIED:var r=t.attrName,i=t.relatedNode.namespaceURI;n=t.target,e=ru("attributes",n),e.attributeName=r,e.attributeNamespace=i;var o=t.attrChange===jl.ADDITION?null:t.prevValue;cu(n,(function(t){if(t.attributes&&(!t.attributeFilter||!t.attributeFilter.length||-1!==t.attributeFilter.indexOf(r)||-1!==t.attributeFilter.indexOf(i)))return t.attributeOldValue?iu(o):e}));break;case Pl.REMOVED:case Pl.INSERTED:n=t.relatedNode;var a=t.target,s=void 0,l=void 0;t.type===Pl.INSERTED?(s=[a],l=[]):(s=[],l=[a]);var c=a.previousSibling,u=a.nextSibling;e=ru("childList",n),e.addedNodes=s,e.removedNodes=l,e.previousSibling=c,e.nextSibling=u,cu(n,(function(t){if(t.childList)return e}))}ou()},t}();(function(){function t(t){this.callback=t,this.nodes=[],this.records=[],this.uid=tu++}t.prototype.observe=function(t,e){if(!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var n,r=eu.get(t);r||eu.set(t,r=[]);for(var i=0;i<r.length;i++)if(r[i].observer===this){n=r[i],n.removeListeners(),n.options=e;break}n||(n=new nu(this,t,e),r.push(n),this.nodes.push(t)),n.addListeners()},t.prototype.disconnect=function(){var t=this;this.nodes.forEach((function(e){for(var n=eu.get(e),r=0;r<n.length;r++){var i=n[r];if(i.observer===t){i.removeListeners(),n.splice(r,1);break}}}),this),this.records=[]},t.prototype.takeRecords=function(){var t=this.records;return this.records=[],t}})();function ru(t,e){return Zc=new Jc(t,e)}function iu(t){return Qc||(Qc=Jc.copy(Zc),Qc.oldValue=t,Qc)}function ou(){Zc=Qc=void 0}function au(t){return t===Qc||t===Zc}function su(t,e){return t===e?t:Qc&&au(t)?Qc:null}function lu(t){t.nodes.forEach((function(e){var n=eu.get(e);n&&n.forEach((function(e){e.observer===t&&e.removeTransientObservers()}))}))}function cu(t,e){for(var n=t;n;n=n.parentNode){var r=eu.get(n);if(r)for(var i=0;i<r.length;i++){var o=r[i],a=o.options;if(n===t||a.subtree){var s=e(a);s&&o.enqueue(s)}}}}var uu=!1,hu=[];function fu(t){hu.push(t),uu||(uu=!0,"undefined"!==typeof Jl.globalThis?Jl.globalThis.setTimeout(du):du())}function du(){uu=!1;var t=hu;hu=[],t.sort((function(t,e){return t.uid-e.uid}));var e=!1;t.forEach((function(t){var n=t.takeRecords();lu(t),n.length&&(t.callback(n,t),e=!0)})),e&&du()}var pu=function(t,e){return pu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},pu(t,e)};function vu(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}pu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;function gu(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function yu(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var mu=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.currentTime=r,o.timelineTime=i,o.target=n,o.type="finish",o.bubbles=!1,o.currentTarget=n,o.defaultPrevented=!1,o.eventPhase=o.AT_TARGET,o.timeStamp=Date.now(),o.currentTime=r,o.timelineTime=i,o}return vu(e,t),e}(wl),bu=0,xu=function(){function t(t,e){var n;this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=t,t.animation=this,this.timeline=e,this.id="".concat(bu++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number(null===(n=this.effect)||void 0===n?void 0:n.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()}return Object.defineProperty(t.prototype,"pending",{get:function(){return null===this._startTime&&!this._paused&&0!==this.playbackRate||this.currentTimePending},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playState",{get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){var t=this;return this.readyPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise((function(e,n){t.resolveReadyPromise=function(){e(t)},t.rejectReadyPromise=function(){n(new Error)}})),this.pending||this.resolveReadyPromise()),this.readyPromise},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"finished",{get:function(){var t=this;return this.finishedPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise((function(e,n){t.resolveFinishedPromise=function(){e(t)},t.rejectFinishedPromise=function(){n(new Error)}})),"finished"===this.playState&&this.resolveFinishedPromise()),this.finishedPromise},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentTime",{get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(t){var e;t=Number(t),isNaN(t)||(this.timeline.restart(),this._paused||null===this._startTime||(this._startTime=Number(null===(e=this.timeline)||void 0===e?void 0:e.currentTime)-t/this.playbackRate),this.currentTimePending=!1,this._currentTime!==t&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(t,!0),this.timeline.applyDirtiedAnimation(this)))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startTime",{get:function(){return this._startTime},set:function(t){if(null!==t){if(this.updatePromises(),t=Number(t),isNaN(t))return;if(this._paused||this._idle)return;this._startTime=t,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){if(t!==this._playbackRate){this.updatePromises();var e=this.currentTime;this._playbackRate=t,this.startTime=null,"paused"!==this.playState&&"idle"!==this.playState&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),null!==e&&(this.currentTime=e),this.updatePromises()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_isFinished",{get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalDuration",{get:function(){return this._totalDuration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_needsTick",{get:function(){return this.pending||"running"===this.playState||!this._finishedFlag},enumerable:!1,configurable:!0}),t.prototype.updatePromises=function(){var t=this.oldPlayState,e=this.pending?"pending":this.playState;return this.readyPromise&&e!==t&&("idle"===e?(this.rejectReadyPromise(),this.readyPromise=void 0):"pending"===t?this.resolveReadyPromise():"pending"===e&&(this.readyPromise=void 0)),this.finishedPromise&&e!==t&&("idle"===e?(this.rejectFinishedPromise(),this.finishedPromise=void 0):"finished"===e?this.resolveFinishedPromise():"finished"===t&&(this.finishedPromise=void 0)),this.oldPlayState=e,this.readyPromise||this.finishedPromise},t.prototype.play=function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),-1===this.timeline.animations.indexOf(this)&&this.timeline.animations.push(this),this.updatePromises()},t.prototype.pause=function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._isFinished||this._paused||this._idle?this._idle&&(this.rewind(),this._idle=!1):this.currentTimePending=!0,this._startTime=null,this._paused=!0,this.updatePromises()},t.prototype.finish=function(){this.updatePromises(),this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())},t.prototype.cancel=function(){var t=this;if(this.updatePromises(),this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var e=new mu(null,this,this.currentTime,null);setTimeout((function(){t.oncancel(e)}))}},t.prototype.reverse=function(){this.updatePromises();var t=this.currentTime;this.playbackRate*=-1,this.play(),null!==t&&(this.currentTime=t),this.updatePromises()},t.prototype.updatePlaybackRate=function(t){this.playbackRate=t},t.prototype.targetAnimations=function(){var t,e=null===(t=this.effect)||void 0===t?void 0:t.target;return e.getAnimations()},t.prototype.markTarget=function(){var t=this.targetAnimations();-1===t.indexOf(this)&&t.push(this)},t.prototype.unmarkTarget=function(){var t=this.targetAnimations(),e=t.indexOf(this);-1!==e&&t.splice(e,1)},t.prototype.tick=function(t,e){this._idle||this._paused||(null===this._startTime?e&&(this.startTime=t-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((t-this._startTime)*this.playbackRate)),e&&(this.currentTimePending=!1,this.fireEvents(t))},t.prototype.rewind=function(){if(this.playbackRate>=0)this.currentTime=0;else{if(!(this._totalDuration<1/0))throw new Error("Unable to rewind negative playback rate animation with infinite duration");this.currentTime=this._totalDuration}},t.prototype.persist=function(){throw new Error(Si)},t.prototype.addEventListener=function(t,e,n){throw new Error(Si)},t.prototype.removeEventListener=function(t,e,n){throw new Error(Si)},t.prototype.dispatchEvent=function(t){throw new Error(Si)},t.prototype.commitStyles=function(){throw new Error(Si)},t.prototype.ensureAlive=function(){var t,e;this.playbackRate<0&&0===this.currentTime?this._inEffect=!!(null===(t=this.effect)||void 0===t?void 0:t.update(-1)):this._inEffect=!!(null===(e=this.effect)||void 0===e?void 0:e.update(this.currentTime)),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,this.timeline.animations.push(this))},t.prototype.tickCurrentTime=function(t,e){t!==this._currentTime&&(this._currentTime=t,this._isFinished&&!e&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())},t.prototype.fireEvents=function(t){var e=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var n=new mu(null,this,this.currentTime,t);setTimeout((function(){e.onfinish&&e.onfinish(n)}))}this._finishedFlag=!0}}else{if(this.onframe&&"running"===this.playState){var r=new mu(null,this,this.currentTime,t);this.onframe(r)}this._finishedFlag=!1}},t}(),wu=4,Ou=.001,Cu=1e-7,Su=10,_u=11,Eu=1/(_u-1),Mu="function"===typeof Float32Array,ku=function(t,e){return 1-3*e+3*t},Tu=function(t,e){return 3*e-6*t},Au=function(t){return 3*t},Lu=function(t,e,n){return((ku(e,n)*t+Tu(e,n))*t+Au(e))*t},Pu=function(t,e,n){return 3*ku(e,n)*t*t+2*Tu(e,n)*t+Au(e)},Ru=function(t,e,n,r,i){var o,a,s=0;do{a=e+(n-e)/2,o=Lu(a,r,i)-t,o>0?n=a:e=a}while(Math.abs(o)>Cu&&++s<Su);return a},Iu=function(t,e,n,r){for(var i=0;i<wu;++i){var o=Pu(e,n,r);if(0===o)return e;var a=Lu(e,n,r)-t;e-=a/o}return e},Nu=function(t,e,n,r){if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&n===r)return function(t){return t};for(var i=Mu?new Float32Array(_u):new Array(_u),o=0;o<_u;++o)i[o]=Lu(o*Eu,t,n);var a=function(e){for(var r=0,o=1,a=_u-1;o!==a&&i[o]<=e;++o)r+=Eu;--o;var s=(e-i[o])/(i[o+1]-i[o]),l=r+s*Eu,c=Pu(l,t,n);return c>=Ou?Iu(e,l,t,n):0===c?l:Ru(e,r,r+Eu,t,n)};return function(t){return 0===t||1===t?t:Lu(a(t),e,r)}},ju=function(t){return t=t.replace(/([A-Z])/g,(function(t){return"-".concat(t.toLowerCase())})),"-"===t.charAt(0)?t.substring(1):t},Bu=function(t){return Math.pow(t,2)},Du=function(t){return Math.pow(t,3)},Fu=function(t){return Math.pow(t,4)},zu=function(t){return Math.pow(t,5)},Wu=function(t){return Math.pow(t,6)},Hu=function(t){return 1-Math.cos(t*Math.PI/2)},$u=function(t){return 1-Math.sqrt(1-t*t)},Gu=function(t){return t*t*(3*t-2)},Vu=function(t){var e,n=4;while(t<((e=Math.pow(2,--n))-1)/11);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)},Yu=function(t,e){void 0===e&&(e=[]);var n=gu(e,2),r=n[0],i=void 0===r?1:r,o=n[1],a=void 0===o?.5:o,s=xe(Number(i),1,10),l=xe(Number(a),.1,2);return 0===t||1===t?t:-s*Math.pow(2,10*(t-1))*Math.sin((t-1-l/(2*Math.PI)*Math.asin(1/s))*(2*Math.PI)/l)},Uu=function(t,e,n){void 0===e&&(e=[]);var r=gu(e,4),i=r[0],o=void 0===i?1:i,a=r[1],s=void 0===a?100:a,l=r[2],c=void 0===l?10:l,u=r[3],h=void 0===u?0:u;o=xe(o,.1,1e3),s=xe(s,.1,1e3),c=xe(c,.1,1e3),h=xe(h,.1,1e3);var f=Math.sqrt(s/o),d=c/(2*Math.sqrt(s*o)),p=d<1?f*Math.sqrt(1-d*d):0,v=1,g=d<1?(d*f-h)/p:-h+f,y=n?n*t/1e3:t;return y=d<1?Math.exp(-y*d*f)*(v*Math.cos(p*y)+g*Math.sin(p*y)):(v+g*y)*Math.exp(-y*f),0===t||1===t?t:1-y},Xu=function(t,e){void 0===e&&(e=[]);var n=gu(e,2),r=n[0],i=void 0===r?10:r,o=n[1],a="start"==o?Math.ceil:Math.floor;return a(xe(t,0,1)*i)/i},qu=function(t,e){void 0===e&&(e=[]);var n=gu(e,4),r=n[0],i=n[1],o=n[2],a=n[3];return Nu(r,i,o,a)(t)},Ku=Nu(.42,0,1,1),Zu=function(t){return function(e,n,r){return void 0===n&&(n=[]),1-t(1-e,n,r)}},Qu=function(t){return function(e,n,r){return void 0===n&&(n=[]),e<.5?t(2*e,n,r)/2:1-t(-2*e+2,n,r)/2}},Ju=function(t){return function(e,n,r){return void 0===n&&(n=[]),e<.5?(1-t(1-2*e,n,r))/2:(t(2*e-1,n,r)+1)/2}},th={steps:Xu,"step-start":function(t){return Xu(t,[1,"start"])},"step-end":function(t){return Xu(t,[1,"end"])},linear:function(t){return t},"cubic-bezier":qu,ease:function(t){return qu(t,[.25,.1,.25,1])},in:Ku,out:Zu(Ku),"in-out":Qu(Ku),"out-in":Ju(Ku),"in-quad":Bu,"out-quad":Zu(Bu),"in-out-quad":Qu(Bu),"out-in-quad":Ju(Bu),"in-cubic":Du,"out-cubic":Zu(Du),"in-out-cubic":Qu(Du),"out-in-cubic":Ju(Du),"in-quart":Fu,"out-quart":Zu(Fu),"in-out-quart":Qu(Fu),"out-in-quart":Ju(Fu),"in-quint":zu,"out-quint":Zu(zu),"in-out-quint":Qu(zu),"out-in-quint":Ju(zu),"in-expo":Wu,"out-expo":Zu(Wu),"in-out-expo":Qu(Wu),"out-in-expo":Ju(Wu),"in-sine":Hu,"out-sine":Zu(Hu),"in-out-sine":Qu(Hu),"out-in-sine":Ju(Hu),"in-circ":$u,"out-circ":Zu($u),"in-out-circ":Qu($u),"out-in-circ":Ju($u),"in-back":Gu,"out-back":Zu(Gu),"in-out-back":Qu(Gu),"out-in-back":Ju(Gu),"in-bounce":Vu,"out-bounce":Zu(Vu),"in-out-bounce":Qu(Vu),"out-in-bounce":Ju(Vu),"in-elastic":Yu,"out-elastic":Zu(Yu),"in-out-elastic":Qu(Yu),"out-in-elastic":Ju(Yu),spring:Uu,"spring-in":Uu,"spring-out":Zu(Uu),"spring-in-out":Qu(Uu),"spring-out-in":Ju(Uu)},eh=function(t){return ju(t).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()},nh=function(t){return th[eh(t)]||th.linear},rh=function(t){return t},ih=1,oh=.5,ah=0;function sh(t,e){return function(n){if(n>=1)return 1;var r=1/t;return n+=e*r,n-n%r}}var lh="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",ch=new RegExp("cubic-bezier\\("+lh+","+lh+","+lh+","+lh+"\\)"),uh=/steps\(\s*(\d+)\s*\)/,hh=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function fh(t){var e=ch.exec(t);if(e)return Nu.apply(void 0,yu([],gu(e.slice(1).map(Number)),!1));var n=uh.exec(t);if(n)return sh(Number(n[1]),ah);var r=hh.exec(t);return r?sh(Number(r[1]),{start:ih,middle:oh,end:ah}[r[2]]):nh(t)}function dh(t){return Math.abs(ph(t)/(t.playbackRate||1))}function ph(t){var e;return 0===t.duration||0===t.iterations?0:("auto"===t.duration?0:Number(t.duration))*(null!==(e=t.iterations)&&void 0!==e?e:1)}var vh=0,gh=1,yh=2,mh=3;function bh(t,e,n){if(null===e)return vh;var r=n.endTime;return e<Math.min(n.delay,r)?gh:e>=Math.min(n.delay+t+n.endDelay,r)?yh:mh}function xh(t,e,n,r,i){switch(r){case gh:return"backwards"===e||"both"===e?0:null;case mh:return n-i;case yh:return"forwards"===e||"both"===e?t:null;case vh:return null}}function wh(t,e,n,r,i){var o=i;return 0===t?e!==gh&&(o+=n):o+=r/t,o}function Oh(t,e,n,r,i,o){var a=t===1/0?e%1:t%1;return 0!==a||n!==yh||0===r||0===i&&0!==o||(a=1),a}function Ch(t,e,n,r){return t===yh&&e===1/0?1/0:1===n?Math.floor(r)-1:Math.floor(r)}function Sh(t,e,n){var r=t;if("normal"!==t&&"reverse"!==t){var i=e;"alternate-reverse"===t&&(i+=1),r="normal",i!==1/0&&i%2!==0&&(r="reverse")}return"normal"===r?n:1-n}function _h(t,e,n){var r=bh(t,e,n),i=xh(t,n.fill,e,r,n.delay);if(null===i)return null;var o="auto"===n.duration?0:n.duration,a=wh(o,r,n.iterations,i,n.iterationStart),s=Oh(a,n.iterationStart,r,n.iterations,i,o),l=Ch(r,n.iterations,s,a),c=Sh(n.direction,l,s);return n.currentIteration=l,n.progress=c,n.easingFunction(c)}function Eh(t,e,n){var r=kh(t,e),i=Th(r,n);return function(t,e){if(null!==e)i.filter((function(t){return e>=t.applyFrom&&e<t.applyTo})).forEach((function(n){var r=e-n.startOffset,i=n.endOffset-n.startOffset,o=0===i?0:n.easingFunction(r/i);t.setAttribute(n.property,n.interpolation(o))}));else for(var n in r)Mh(n)&&t.setAttribute(n,null)}}function Mh(t){return"offset"!==t&&"easing"!==t&&"composite"!==t&&"computedOffset"!==t}function kh(t,e){for(var n={},r=0;r<t.length;r++)for(var i in t[r])if(Mh(i)){var o={offset:t[r].offset,computedOffset:t[r].computedOffset,easing:t[r].easing,easingFunction:fh(t[r].easing)||e.easingFunction,value:t[r][i]};n[i]=n[i]||[],n[i].push(o)}return n}function Th(t,e){var n=[];for(var r in t)for(var i=t[r],o=0;o<i.length-1;o++){var a=o,s=o+1,l=i[a].computedOffset,c=i[s].computedOffset,u=l,h=c;0===o&&(u=-1/0,0===c&&(s=a)),o===i.length-2&&(h=1/0,1===l&&(a=s)),n.push({applyFrom:u,applyTo:h,startOffset:i[a].computedOffset,endOffset:i[s].computedOffset,easingFunction:i[a].easingFunction,property:r,interpolation:Lh(r,i[a].value,i[s].value,e)})}return n.sort((function(t,e){return t.startOffset-e.startOffset})),n}var Ah=function(t,e,n){return function(r){var i=Ph(t,e,r);return!Jl.enableCSSParsing&&pe(i)?i:n(i)}};function Lh(t,e,n,r){var i=ts[t];if(i&&i.syntax&&i.int){var o=Jl.styleValueRegistry.getPropertySyntax(i.syntax);if(o){var a=void 0,s=void 0;if(Jl.enableCSSParsing){var l=Jl.styleValueRegistry.parseProperty(t,e,r),c=Jl.styleValueRegistry.parseProperty(t,n,r);a=Jl.styleValueRegistry.computeProperty(t,l,r),s=Jl.styleValueRegistry.computeProperty(t,c,r)}else{var u=o.parserWithCSSDisabled;a=u?u(e,r):e,s=u?u(n,r):n}var h=o.mixer(a,s,r);if(h){var f=Ah.apply(void 0,yu([],gu(h),!1));return function(t){return 0===t?e:1===t?n:f(t)}}}}return Ah(!1,!0,(function(t){return t?n:e}))}function Ph(t,e,n){if("number"===typeof t&&"number"===typeof e)return t*(1-n)+e*n;if("boolean"===typeof t&&"boolean"===typeof e||"string"===typeof t&&"string"===typeof e)return n<.5?t:e;if(Array.isArray(t)&&Array.isArray(e)){for(var r=t.length,i=e.length,o=Math.max(r,i),a=[],s=0;s<o;s++)a.push(Ph(t[s<r?s:r-1],e[s<i?s:i-1],n));return a}throw new Error("Mismatched interpolation arguments "+t+":"+e)}var Rh=function(){function t(){this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=rh,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null}return Object.defineProperty(t.prototype,"easing",{get:function(){return this._easing},set:function(t){this.easingFunction=fh(t),this._easing=t},enumerable:!1,configurable:!0}),t}();function Ih(t){var e=[];for(var n in t)if(!(n in["easing","offset","composite"])){var r=t[n];Array.isArray(r)||(r=[r]);for(var i=r.length,o=0;o<i;o++){if(!e[o]){var a={};"offset"in t&&(a.offset=Number(t.offset)),"easing"in t&&(a.easing=t.easing),"composite"in t&&(a.composite=t.composite),e[o]=a}void 0!==r[o]&&null!==r[o]&&(e[o][n]=r[o])}}return e.sort((function(t,e){return(t.computedOffset||0)-(e.computedOffset||0)})),e}function Nh(t,e){if(null===t)return[];Array.isArray(t)||(t=Ih(t));for(var n=t.map((function(t){var n={};for(var r in(null===e||void 0===e?void 0:e.composite)&&(n.composite="auto"),t){var i=t[r];if("offset"===r){if(null!==i){if(i=Number(i),!isFinite(i))throw new Error("Keyframe offsets must be numbers.");if(i<0||i>1)throw new Error("Keyframe offsets must be between 0 and 1.");n.computedOffset=i}}else if("composite"===r&&-1===["replace","add","accumulate","auto"].indexOf(i))throw new Error("".concat(i," compositing is not supported"));n[r]=i}return void 0===n.offset&&(n.offset=null),void 0===n.easing&&(n.easing=(null===e||void 0===e?void 0:e.easing)||"linear"),void 0===n.composite&&(n.composite="auto"),n})),r=!0,i=-1/0,o=0;o<n.length;o++){var a=n[o].offset;if(ye(a))r=!1;else{if(a<i)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");i=a}}function s(){var t,e,r=n.length;n[r-1].computedOffset=Number(null!==(t=n[r-1].offset)&&void 0!==t?t:1),r>1&&(n[0].computedOffset=Number(null!==(e=n[0].offset)&&void 0!==e?e:0));for(var i=0,o=Number(n[0].computedOffset),a=1;a<r;a++){var s=n[a].computedOffset;if(!ye(s)&&!ye(o)){for(var l=1;l<a-i;l++)n[i+l].computedOffset=o+(Number(s)-o)*l/(a-i);i=a,o=Number(s)}}}return n=n.filter((function(t){return Number(t.offset)>=0&&Number(t.offset)<=1})),r||s(),n}var jh="backwards|forwards|both|none".split("|"),Bh="reverse|alternate|alternate-reverse".split("|");function Dh(t,e){var n=new Rh;return e&&(n.fill="both",n.duration="auto"),"number"!==typeof t||isNaN(t)?void 0!==t&&Object.keys(t).forEach((function(e){if(void 0!==t[e]&&null!==t[e]&&"auto"!==t[e]){if(("number"===typeof n[e]||"duration"===e)&&("number"!==typeof t[e]||isNaN(t[e])))return;if("fill"===e&&-1===jh.indexOf(t[e]))return;if("direction"===e&&-1===Bh.indexOf(t[e]))return;n[e]=t[e]}})):n.duration=t,n}function Fh(t,e){return t=zh(null!==t&&void 0!==t?t:{duration:"auto"}),Dh(t,e)}function zh(t){return"number"===typeof t&&(t=isNaN(t)?{duration:"auto"}:{duration:t}),t}var Wh=function(){function t(t,e,n){var r=this;this.composite="replace",this.iterationComposite="replace",this.target=t,this.timing=Fh(n,!1),this.timing.effect=this,this.timing.activeDuration=dh(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=Nh(e,this.timing),this.interpolations=Eh(this.normalizedKeyframes,this.timing,this.target);var i=Jl.globalThis.Proxy;this.computedTiming=i?new i(this.timing,{get:function(t,e){return"duration"===e?"auto"===t.duration?0:t.duration:"fill"===e?"auto"===t.fill?"none":t.fill:"localTime"===e?r.animation&&r.animation.currentTime||null:"currentIteration"===e?r.animation&&"running"===r.animation.playState?t.currentIteration||0:null:"progress"===e?r.animation&&"running"===r.animation.playState?t.progress||0:null:t[e]},set:function(){return!0}}):this.timing}return t.prototype.applyInterpolations=function(){this.interpolations(this.target,Number(this.timeFraction))},t.prototype.update=function(t){return null!==t&&(this.timeFraction=_h(this.timing.activeDuration,t,this.timing),null!==this.timeFraction)},t.prototype.getKeyframes=function(){return this.normalizedKeyframes},t.prototype.setKeyframes=function(t){this.normalizedKeyframes=Nh(t)},t.prototype.getComputedTiming=function(){return this.computedTiming},t.prototype.getTiming=function(){return this.timing},t.prototype.updateTiming=function(t){var e=this;Object.keys(t||{}).forEach((function(n){e.timing[n]=t[n]}))},t}();function Hh(t,e){return Number(t.id)-Number(e.id)}var $h=function(){function t(t){var e=this;this.document=t,this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(t){e.currentTime=t,e.discardAnimations(),0===e.animations.length?e.timelineTicking=!1:e.requestAnimationFrame(e.webAnimationsNextTick)},this.processRafCallbacks=function(t){var n=e.rafCallbacks;e.rafCallbacks=[],t<Number(e.currentTime)&&(t=Number(e.currentTime)),e.animations.sort(Hh),e.animations=e.tick(t,!0,e.animations)[0],n.forEach((function(e){e[1](t)})),e.applyPendingEffects()}}return t.prototype.getAnimations=function(){return this.discardAnimations(),this.animations.slice()},t.prototype.isTicking=function(){return this.inTick},t.prototype.play=function(t,e,n){var r=new Wh(t,e,n),i=new xu(r,this);return this.animations.push(i),this.restartWebAnimationsNextTick(),i.updatePromises(),i.play(),i.updatePromises(),i},t.prototype.applyDirtiedAnimation=function(t){var e=this;if(!this.inTick){t.markTarget();var n=t.targetAnimations();n.sort(Hh);var r=this.tick(Number(this.currentTime),!1,n.slice())[1];r.forEach((function(t){var n=e.animations.indexOf(t);-1!==n&&e.animations.splice(n,1)})),this.applyPendingEffects()}},t.prototype.restart=function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame((function(){})),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame},t.prototype.destroy=function(){this.document.defaultView.cancelAnimationFrame(this.frameId)},t.prototype.applyPendingEffects=function(){this.pendingEffects.forEach((function(t){null===t||void 0===t||t.applyInterpolations()})),this.pendingEffects=[]},t.prototype.updateAnimationsPromises=function(){this.animationsWithPromises=this.animationsWithPromises.filter((function(t){return t.updatePromises()}))},t.prototype.discardAnimations=function(){this.updateAnimationsPromises(),this.animations=this.animations.filter((function(t){return"finished"!==t.playState&&"idle"!==t.playState}))},t.prototype.restartWebAnimationsNextTick=function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))},t.prototype.rAF=function(t){var e=this.rafId++;return 0===this.rafCallbacks.length&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([e,t]),e},t.prototype.requestAnimationFrame=function(t){var e=this;return this.rAF((function(n){e.updateAnimationsPromises(),t(n),e.updateAnimationsPromises()}))},t.prototype.tick=function(t,e,n){var r,i,o=this;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=t,this.ticking=!1;var a=[],s=[],l=[],c=[];return n.forEach((function(n){n.tick(t,e),n._inEffect?(s.push(n.effect),n.markTarget()):(a.push(n.effect),n.unmarkTarget()),n._needsTick&&(o.ticking=!0);var r=n._inEffect||n._needsTick;n._inTimeline=r,r?l.push(n):c.push(n)})),(r=this.pendingEffects).push.apply(r,yu([],gu(a),!1)),(i=this.pendingEffects).push.apply(i,yu([],gu(s),!1)),this.ticking&&this.requestAnimationFrame((function(){})),this.inTick=!1,[l,c]},t}();Jl.EasingFunction=fh,Jl.AnimationTimeline=$h;const Gh="main-layer",Vh="label-layer",Yh="element",Uh="view",Xh="plot",qh="component",Kh="label",Zh="area";var Qh=function(t,e){return Qh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Qh(t,e)};function Jh(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Qh(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function tf(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function ef(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return l([t,e])}}function l(s){if(n)throw new TypeError("Generator is already executing.");while(o&&(o=0,s[0]&&(a=0)),a)try{if(n=1,r&&(i=2&s[0]?r["return"]:s[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(l){s=[6,l],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var nf=function(t,e){return nf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},nf(t,e)};function rf(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}nf(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;function of(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}Object.create;"function"===typeof SuppressedError&&SuppressedError;function af(t,e){var n=e.r;t.arc(n,n,n,0,2*Math.PI,!1)}function sf(t,e){var n=e.rx,r=e.ry,i=n,o=r;if(t.ellipse)t.ellipse(i,o,i,o,0,0,2*Math.PI,!1);else{var a=i>o?i:o,s=i>o?1:i/o,l=i>o?o/i:1;t.save(),t.scale(s,l),t.arc(0,0,a,0,2*Math.PI)}}function lf(t,e){var n,r,i=e.x1,o=e.y1,a=e.x2,s=e.y2,l=e.defX,c=void 0===l?0:l,u=e.defY,h=void 0===u?0:u,f=e.markerStart,d=e.markerEnd,p=e.markerStartOffset,v=e.markerEndOffset,g=0,y=0,m=0,b=0,x=0;f&&lc(f)&&p&&(n=a-i,r=s-o,x=Math.atan2(r,n),g=Math.cos(x)*(p||0),y=Math.sin(x)*(p||0)),d&&lc(d)&&v&&(n=i-a,r=o-s,x=Math.atan2(r,n),m=Math.cos(x)*(v||0),b=Math.sin(x)*(v||0)),t.moveTo(i-c+g,o-h+y),t.lineTo(a-c+m,s-h+b)}function cf(t,e){var n,r,i=e.defX,o=void 0===i?0:i,a=e.defY,s=void 0===a?0:a,l=e.markerStart,c=e.markerEnd,u=e.markerStartOffset,h=e.markerEndOffset,f=e.path,d=f.absolutePath,p=f.segments,v=0,g=0,y=0,m=0,b=0;if(l&&lc(l)&&u){var x=of(l.parentNode.getStartTangent(),2),w=x[0],O=x[1];n=w[0]-O[0],r=w[1]-O[1],b=Math.atan2(r,n),v=Math.cos(b)*(u||0),g=Math.sin(b)*(u||0)}if(c&&lc(c)&&h){var C=of(c.parentNode.getEndTangent(),2);w=C[0],O=C[1];n=w[0]-O[0],r=w[1]-O[1],b=Math.atan2(r,n),y=Math.cos(b)*(h||0),m=Math.sin(b)*(h||0)}for(var S=0;S<d.length;S++){var _=d[S],E=_[0],M=d[S+1],k=0===S&&(0!==v||0!==g),T=(S===d.length-1||M&&("M"===M[0]||"Z"===M[0]))&&0!==y&&0!==m;switch(E){case"M":k?(t.moveTo(_[1]-o+v,_[2]-s+g),t.lineTo(_[1]-o,_[2]-s)):t.moveTo(_[1]-o,_[2]-s);break;case"L":T?t.lineTo(_[1]-o+y,_[2]-s+m):t.lineTo(_[1]-o,_[2]-s);break;case"Q":t.quadraticCurveTo(_[1]-o,_[2]-s,_[3]-o,_[4]-s),T&&t.lineTo(_[3]-o+y,_[4]-s+m);break;case"C":t.bezierCurveTo(_[1]-o,_[2]-s,_[3]-o,_[4]-s,_[5]-o,_[6]-s),T&&t.lineTo(_[5]-o+y,_[6]-s+m);break;case"A":var A=p[S].arcParams,L=A.cx,P=A.cy,R=A.rx,I=A.ry,N=A.startAngle,j=A.endAngle,B=A.xRotation,D=A.sweepFlag;if(t.ellipse)t.ellipse(L-o,P-s,R,I,B,N,j,!!(1-D));else{var F=R>I?R:I,z=R>I?1:R/I,W=R>I?I/R:1;t.translate(L-o,P-s),t.rotate(B),t.scale(z,W),t.arc(0,0,F,N,j,!!(1-D)),t.scale(1/z,1/W),t.rotate(-B),t.translate(-(L-o),-(P-s))}T&&t.lineTo(_[6]-o+y,_[7]-s+m);break;case"Z":t.closePath();break}}}function uf(t,e){var n,r,i=e.defX,o=void 0===i?0:i,a=e.defY,s=void 0===a?0:a,l=e.markerStart,c=e.markerEnd,u=e.markerStartOffset,h=e.markerEndOffset,f=e.points.points,d=f.length,p=f[0][0]-o,v=f[0][1]-s,g=f[d-1][0]-o,y=f[d-1][1]-s,m=0,b=0,x=0,w=0,O=0;l&&lc(l)&&u&&(n=f[1][0]-f[0][0],r=f[1][1]-f[0][1],O=Math.atan2(r,n),m=Math.cos(O)*(u||0),b=Math.sin(O)*(u||0)),c&&lc(c)&&h&&(n=f[d-1][0]-f[0][0],r=f[d-1][1]-f[0][1],O=Math.atan2(r,n),x=Math.cos(O)*(h||0),w=Math.sin(O)*(h||0)),t.moveTo(p+(m||x),v+(b||w));for(var C=1;C<d-1;C++){var S=f[C];t.lineTo(S[0]-o,S[1]-s)}t.lineTo(g,y)}function hf(t,e){var n,r,i=e.defX,o=void 0===i?0:i,a=e.defY,s=void 0===a?0:a,l=e.markerStart,c=e.markerEnd,u=e.markerStartOffset,h=e.markerEndOffset,f=e.points.points,d=f.length,p=f[0][0]-o,v=f[0][1]-s,g=f[d-1][0]-o,y=f[d-1][1]-s,m=0,b=0,x=0,w=0,O=0;l&&lc(l)&&u&&(n=f[1][0]-f[0][0],r=f[1][1]-f[0][1],O=Math.atan2(r,n),m=Math.cos(O)*(u||0),b=Math.sin(O)*(u||0)),c&&lc(c)&&h&&(n=f[d-2][0]-f[d-1][0],r=f[d-2][1]-f[d-1][1],O=Math.atan2(r,n),x=Math.cos(O)*(h||0),w=Math.sin(O)*(h||0)),t.moveTo(p+m,v+b);for(var C=1;C<d-1;C++){var S=f[C];t.lineTo(S[0]-o,S[1]-s)}t.lineTo(g+x,y+w)}function ff(t,e){var n=e.radius,r=e.width,i=e.height,o=r,a=i,s=n&&n.some((function(t){return 0!==t}));if(s){var l=r>0?1:-1,c=i>0?1:-1,u=l+c===0,h=of(n.map((function(t){return xe(t,0,Math.min(Math.abs(o)/2,Math.abs(a)/2))})),4),f=h[0],d=h[1],p=h[2],v=h[3];t.moveTo(l*f,0),t.lineTo(o-l*d,0),0!==d&&t.arc(o-l*d,c*d,d,-c*Math.PI/2,l>0?0:Math.PI,u),t.lineTo(o,a-c*p),0!==p&&t.arc(o-l*p,a-c*p,p,l>0?0:Math.PI,c>0?Math.PI/2:1.5*Math.PI,u),t.lineTo(l*v,a),0!==v&&t.arc(l*v,a-c*v,v,c>0?Math.PI/2:-Math.PI/2,l>0?Math.PI:0,u),t.lineTo(0,c*f),0!==f&&t.arc(l*f,c*f,f,l>0?Math.PI:0,c>0?1.5*Math.PI:Math.PI/2,u)}else t.rect(0,0,o,a)}var df=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="canvas-path-generator",e}return rf(e,t),e.prototype.init=function(){var t,e=(t={},t[Dr.CIRCLE]=af,t[Dr.ELLIPSE]=sf,t[Dr.RECT]=ff,t[Dr.LINE]=lf,t[Dr.POLYLINE]=hf,t[Dr.POLYGON]=uf,t[Dr.PATH]=cf,t[Dr.TEXT]=void 0,t[Dr.GROUP]=void 0,t[Dr.IMAGE]=void 0,t[Dr.HTML]=void 0,t[Dr.MESH]=void 0,t);this.context.pathGeneratorFactory=e},e.prototype.destroy=function(){delete this.context.pathGeneratorFactory},e}(Wr),pf=function(t,e){return pf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},pf(t,e)};function vf(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}pf(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function gf(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function yf(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return l([t,e])}}function l(s){if(n)throw new TypeError("Generator is already executing.");while(o&&(o=0,s[0]&&(a=0)),a)try{if(n=1,r&&(i=2&s[0]?r["return"]:s[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(l){s=[6,l],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}Object.create;function mf(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bf(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}Object.create;"function"===typeof SuppressedError&&SuppressedError;var xf=w(),wf=w(),Of=w(),Cf=H(),Sf=function(){function t(){var t=this;this.isHit=function(e,n,r,i){var o=t.context.pointInPathPickerFactory[e.nodeName];if(o){var a=q(Cf,r),s=j(wf,E(Of,n[0],n[1],0),a),l=e.getGeometryBounds().halfExtents,c=e.parsedStyle.anchor;if(s[0]+=(c&&c[0]||0)*l[0]*2,s[1]+=(c&&c[1]||0)*l[1]*2,o(e,new Oi(s[0],s[1]),i,t.isPointInPath,t.context,t.runtime))return!0}return!1},this.isPointInPath=function(e,n){var r=t.runtime.offscreenCanvasCreator.getOrCreateContext(t.context.config.offscreenCanvas),i=t.context.pathGeneratorFactory[e.nodeName];return i&&(r.beginPath(),i(r,e.parsedStyle),r.closePath()),r.isPointInPath(n.x,n.y)}}return t.prototype.apply=function(e,n){var r,i=this,o=e.renderingService,a=e.renderingContext;this.context=e,this.runtime=n;var s=null===(r=a.root)||void 0===r?void 0:r.ownerDocument;o.hooks.pick.tapPromise(t.tag,(function(t){return gf(i,void 0,void 0,(function(){return yf(this,(function(e){return[2,this.pick(s,t)]}))}))})),o.hooks.pickSync.tap(t.tag,(function(t){return i.pick(s,t)}))},t.prototype.pick=function(t,e){var n,r,i,o=e.topmost,a=(n=e.position,n.x),s=n.y,l=E(xf,a,s,0),c=t.elementsFromBBox(l[0],l[1],l[0],l[1]),u=[];try{for(var h=mf(c),f=h.next();!f.done;f=h.next()){var d=f.value,p=d.getWorldTransform(),v=this.isHit(d,l,p,!1);if(v){var g=Ls(d);if(g){var y=g.parsedStyle.clipPath,m=this.isHit(y,l,y.getWorldTransform(),!0);if(m){if(o)return e.picked=[d],e;u.push(d)}}else{if(o)return e.picked=[d],e;u.push(d)}}}}catch(b){r={error:b}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return e.picked=u,e},t.tag="CanvasPicker",t}();function _f(t,e,n){var r=t.parsedStyle,i=r.r,o=r.fill,a=r.stroke,s=r.lineWidth,l=r.increasedLineWidthForHitTesting,c=r.pointerEvents,u=((s||0)+(l||0))/2,h=dr(i,i,e.x,e.y),f=bf(Fs(c,o,a),2),d=f[0],p=f[1];return d&&p||n?h<=i+u:d?h<=i:!!p&&(h>=i-u&&h<=i+u)}function Ef(t,e,n,r){return t/(n*n)+e/(r*r)}function Mf(t,e,n){var r=t.parsedStyle,i=r.rx,o=r.ry,a=r.fill,s=r.stroke,l=r.lineWidth,c=r.increasedLineWidthForHitTesting,u=r.pointerEvents,h=e.x,f=e.y,d=bf(Fs(u,a,s),2),p=d[0],v=d[1],g=((l||0)+(c||0))/2,y=(h-i)*(h-i),m=(f-o)*(f-o);return p&&v||n?Ef(y,m,i+g,o+g)<=1:p?Ef(y,m,i,o)<=1:!!v&&(Ef(y,m,i-g,o-g)>=1&&Ef(y,m,i+g,o+g)<=1)}function kf(t,e,n,r,i,o){return i>=t&&i<=t+n&&o>=e&&o<=e+r}function Tf(t,e,n,r,i,o,a){var s=i/2;return kf(t-s,e-s,n,i,o,a)||kf(t+n-s,e-s,i,r,o,a)||kf(t+s,e+r-s,n,i,o,a)||kf(t-s,e+s,i,r,o,a)}function Af(t,e,n,r,i,o,a,s){var l=(Math.atan2(s-e,a-t)+2*Math.PI)%(2*Math.PI),c={x:t+n*Math.cos(l),y:e+n*Math.sin(l)};return dr(c.x,c.y,a,s)<=o/2}function Lf(t,e,n,r,i,o,a){var s=Math.min(t,n),l=Math.max(t,n),c=Math.min(e,r),u=Math.max(e,r),h=i/2;return o>=s-h&&o<=l+h&&a>=c-h&&a<=u+h&&Sr(t,e,n,r,o,a)<=i/2}function Pf(t,e,n,r,i){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++){var s=t[a][0],l=t[a][1],c=t[a+1][0],u=t[a+1][1];if(Lf(s,l,c,u,e,n,r))return!0}if(i){var h=t[0],f=t[o-1];if(Lf(h[0],h[1],f[0],f[1],e,n,r))return!0}return!1}var Rf=1e-6;function If(t){return Math.abs(t)<Rf?0:t<0?-1:1}function Nf(t,e,n){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function jf(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=t[o],s=t[(o+1)%i];if(Nf(a,s,[e,n]))return!0;If(a[1]-n)>0!==If(s[1]-n)>0&&If(e-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(r=!r)}return r}function Bf(t,e,n){for(var r=!1,i=0;i<t.length;i++){var o=t[i];if(r=jf(o,e,n),r)break}return r}function Df(t,e,n){var r=t.parsedStyle,i=r.x1,o=r.y1,a=r.x2,s=r.y2,l=r.lineWidth,c=r.increasedLineWidthForHitTesting,u=r.defX,h=void 0===u?0:u,f=r.defY,d=void 0===f?0:f,p=r.pointerEvents,v=r.fill,g=r.stroke,y=bf(Fs(p,v,g),2),m=y[1];return!(!m&&!n||!l)&&Lf(i,o,a,s,(l||0)+(c||0),e.x+h,e.y+d)}function Ff(t,e,n,r,i){for(var o=!1,a=e/2,s=0;s<t.length;s++){var l=t[s],c=l.currentPoint,u=l.params,h=l.prePoint,f=l.box;if(!f||kf(f.x-a,f.y-a,f.width+e,f.height+e,n,r))switch(l.command){case"L":case"Z":if(o=Lf(h[0],h[1],c[0],c[1],e,n,r),o)return!0;break;case"Q":var d=jr(h[0],h[1],u[1],u[2],u[3],u[4],n,r);if(o=d<=e/2,o)return!0;break;case"C":var p=Tr(h[0],h[1],u[1],u[2],u[3],u[4],u[5],u[6],n,r,i);if(o=p<=e/2,o)return!0;break;case"A":l.cubicParams||(l.cubicParams=hn(h[0],h[1],u[1],u[2],u[3],u[4],u[5],u[6],u[7],void 0));for(var v=l.cubicParams,g=h,y=0;y<v.length;y+=6){var m=Tr(g[0],g[1],v[y],v[y+1],v[y+2],v[y+3],v[y+4],v[y+5],n,r,i);if(g=[v[y+4],v[y+5]],o=m<=e/2,o)return!0}break}}return o}function zf(t,e,n,r,i,o){var a=t.parsedStyle,s=a.lineWidth,l=a.increasedLineWidthForHitTesting,c=a.stroke,u=a.fill,h=a.defX,f=void 0===h?0:h,d=a.defY,p=void 0===d?0:d,v=a.path,g=a.pointerEvents,y=v.segments,m=v.hasArc,b=v.polylines,x=v.polygons,w=bf(Fs(g,(null===x||void 0===x?void 0:x.length)&&u,c),2),O=w[0],C=w[1],S=oa(t),_=!1;return O||n?(_=m?r(t,e):Bf(x,e.x+f,e.y+p)||Bf(b,e.x+f,e.y+p),_):((C||n)&&(_=Ff(y,(s||0)+(l||0),e.x+f,e.y+p,S)),_)}function Wf(t,e,n){var r=t.parsedStyle,i=r.stroke,o=r.fill,a=r.lineWidth,s=r.increasedLineWidthForHitTesting,l=r.points,c=r.defX,u=void 0===c?0:c,h=r.defY,f=void 0===h?0:h,d=r.pointerEvents,p=bf(Fs(d,o,i),2),v=p[0],g=p[1],y=!1;return(g||n)&&(y=Pf(l.points,(a||0)+(s||0),e.x+u,e.y+f,!0)),y||!v&&!n||(y=jf(l.points,e.x+u,e.y+f)),y}function Hf(t,e,n){var r=t.parsedStyle,i=r.lineWidth,o=r.increasedLineWidthForHitTesting,a=r.points,s=r.defX,l=void 0===s?0:s,c=r.defY,u=void 0===c?0:c,h=r.pointerEvents,f=r.fill,d=r.stroke,p=bf(Fs(h,f,d),2),v=p[1];return!(!v&&!n||!i)&&Pf(a.points,(i||0)+(o||0),e.x+l,e.y+u,!1)}function $f(t,e,n,r,i){var o=t.parsedStyle,a=o.radius,s=o.fill,l=o.stroke,c=o.lineWidth,u=o.increasedLineWidthForHitTesting,h=o.width,f=o.height,d=o.pointerEvents,p=bf(Fs(d,s,l),2),v=p[0],g=p[1],y=a&&a.some((function(t){return 0!==t})),m=(c||0)+(u||0);if(y){var b=!1;return(g||n)&&(b=Gf(0,0,h,f,a.map((function(t){return xe(t,0,Math.min(Math.abs(h)/2,Math.abs(f)/2))})),m,e.x,e.y)),b||!v&&!n||(b=r(t,e)),b}var x=m/2;return v&&g||n?kf(0-x,0-x,h+x,f+x,e.x,e.y):v?kf(0,0,h,f,e.x,e.y):!!g&&Tf(0,0,h,f,m,e.x,e.y)}function Gf(t,e,n,r,i,o,a,s){var l=bf(i,4),c=l[0],u=l[1],h=l[2],f=l[3];return Lf(t+c,e,t+n-u,e,o,a,s)||Lf(t+n,e+u,t+n,e+r-h,o,a,s)||Lf(t+n-h,e+r,t+f,e+r,o,a,s)||Lf(t,e+r-f,t,e+c,o,a,s)||Af(t+n-u,e+u,u,1.5*Math.PI,2*Math.PI,o,a,s)||Af(t+n-h,e+r-h,h,0,.5*Math.PI,o,a,s)||Af(t+f,e+r-f,f,.5*Math.PI,Math.PI,o,a,s)||Af(t+c,e+c,c,Math.PI,1.5*Math.PI,o,a,s)}function Vf(t,e,n,r,i,o){var a=t.parsedStyle,s=a.pointerEvents,l=a.width,c=a.height;if("non-transparent-pixel"===s){var u=i.config.offscreenCanvas,h=o.offscreenCanvasCreator.getOrCreateCanvas(u),f=o.offscreenCanvasCreator.getOrCreateContext(u,{willReadFrequently:!0});h.width=l,h.height=c,i.defaultStyleRendererFactory[Dr.IMAGE].render(f,t.parsedStyle,t,void 0,void 0,void 0);var d=f.getImageData(e.x,e.y,1,1).data;return d.every((function(t){return 0!==t}))}return!0}var Yf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="canvas-picker",e}return vf(e,t),e.prototype.init=function(){var t,e=function(){return!0},n=(t={},t[Dr.CIRCLE]=_f,t[Dr.ELLIPSE]=Mf,t[Dr.RECT]=$f,t[Dr.LINE]=Df,t[Dr.POLYLINE]=Hf,t[Dr.POLYGON]=Wf,t[Dr.PATH]=zf,t[Dr.TEXT]=e,t[Dr.GROUP]=null,t[Dr.IMAGE]=Vf,t[Dr.HTML]=null,t[Dr.MESH]=null,t);this.context.pointInPathPickerFactory=n,this.addRenderingPlugin(new Sf)},e.prototype.destroy=function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()},e}(Wr),Uf=function(t,e){return Uf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Uf(t,e)};function Xf(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Uf(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var qf=function(){return qf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},qf.apply(this,arguments)};Object.create;function Kf(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function Zf(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Qf=function(){function t(t){this.canvasRendererPluginOptions=t,this.removedRBushNodeAABBs=[],this.renderQueue=[],this.restoreStack=[],this.clearFullScreen=!1,this.vpMatrix=H(),this.dprMatrix=H(),this.tmpMat4=H(),this.vec3a=w(),this.vec3b=w(),this.vec3c=w(),this.vec3d=w()}return t.prototype.apply=function(e,n){var r=this;this.context=e;var i=e.config,o=e.camera,a=e.renderingService,s=e.renderingContext,l=e.rBushRoot,c=e.pathGeneratorFactory;this.rBush=l,this.pathGeneratorFactory=c;var u=e.contextService,h=s.root.ownerDocument.defaultView,f=function(t){var e=t.target,n=e.rBushNode;n.aabb&&r.removedRBushNodeAABBs.push(n.aabb)},d=function(t){var e=t.target,n=e.rBushNode;n.aabb&&r.removedRBushNodeAABBs.push(n.aabb)};a.hooks.init.tap(t.tag,(function(){h.addEventListener(Pl.UNMOUNTED,f),h.addEventListener(Pl.CULLED,d);var t=u.getDPR(),e=i.width,n=i.height,o=u.getContext();r.clearRect(o,0,0,e*t,n*t,i.background)})),a.hooks.destroy.tap(t.tag,(function(){h.removeEventListener(Pl.UNMOUNTED,f),h.removeEventListener(Pl.CULLED,d)})),a.hooks.beginFrame.tap(t.tag,(function(){var t,e,n=u.getContext(),o=u.getDPR(),s=i.width,l=i.height,c=(t=r.canvasRendererPluginOptions,t.dirtyObjectNumThreshold),h=t.dirtyObjectRatioThreshold,f=(e=a.getStats(),e.total),d=e.rendered,p=d/f;r.clearFullScreen=a.disableDirtyRectangleRendering()||d>c&&p>h,n&&(n.resetTransform?n.resetTransform():n.setTransform(1,0,0,1,0,0),r.clearFullScreen&&r.clearRect(n,0,0,s*o,l*o,i.background))}));var p=function(t,e){t.isVisible()&&!t.isCulled()&&(r.renderDisplayObject(t,e,r.context,r.restoreStack,n),r.saveDirtyAABB(t));var i=t.sortable.sorted||t.childNodes;i.forEach((function(t){p(t,e)}))};a.hooks.endFrame.tap(t.tag,(function(){var t=u.getContext(),e=u.getDPR();if(at(r.dprMatrix,[e,e,1]),Q(r.vpMatrix,r.dprMatrix,o.getOrthoMatrix()),r.clearFullScreen)p(s.root,t);else{var a=r.safeMergeAABB.apply(r,Zf([r.mergeDirtyAABBs(r.renderQueue)],Kf(r.removedRBushNodeAABBs.map((function(t){var e=t.minX,n=t.minY,r=t.maxX,i=t.maxY,o=new gi;return o.setMinMax([e,n,0],[r,i,0]),o}))),!1));if(r.removedRBushNodeAABBs=[],gi.isEmpty(a))return void(r.renderQueue=[]);var l=r.convertAABB2Rect(a),c=l.x,f=l.y,d=l.width,v=l.height,g=j(r.vec3a,[c,f,0],r.vpMatrix),y=j(r.vec3b,[c+d,f,0],r.vpMatrix),m=j(r.vec3c,[c,f+v,0],r.vpMatrix),b=j(r.vec3d,[c+d,f+v,0],r.vpMatrix),x=Math.min(g[0],y[0],b[0],m[0]),w=Math.min(g[1],y[1],b[1],m[1]),O=Math.max(g[0],y[0],b[0],m[0]),C=Math.max(g[1],y[1],b[1],m[1]),S=Math.floor(x),_=Math.floor(w),E=Math.ceil(O-x),M=Math.ceil(C-w);t.save(),r.clearRect(t,S,_,E,M,i.background),t.beginPath(),t.rect(S,_,E,M),t.clip(),t.setTransform(r.vpMatrix[0],r.vpMatrix[1],r.vpMatrix[4],r.vpMatrix[5],r.vpMatrix[12],r.vpMatrix[13]);var k=i.renderer.getConfig().enableDirtyRectangleRenderingDebug;k&&h.dispatchEvent(new _l(cc.DIRTY_RECTANGLE,{dirtyRect:{x:S,y:_,width:E,height:M}}));var T=r.searchDirtyObjects(a);T.sort((function(t,e){return t.sortable.renderOrder-e.sortable.renderOrder})).forEach((function(e){e&&e.isVisible()&&!e.isCulled()&&r.renderDisplayObject(e,t,r.context,r.restoreStack,n)})),t.restore(),r.renderQueue.forEach((function(t){r.saveDirtyAABB(t)})),r.renderQueue=[]}r.restoreStack.forEach((function(){t.restore()})),r.restoreStack=[]})),a.hooks.render.tap(t.tag,(function(t){r.clearFullScreen||r.renderQueue.push(t)}))},t.prototype.clearRect=function(t,e,n,r,i,o){t.clearRect(e,n,r,i),o&&(t.fillStyle=o,t.fillRect(e,n,r,i))},t.prototype.renderDisplayObject=function(t,e,n,r,i){var o=t.nodeName,a=r[r.length-1];!a||t.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINS||(e.restore(),r.pop());var s=this.context.styleRendererFactory[o],l=this.pathGeneratorFactory[o],c=t.parsedStyle.clipPath;if(c){this.applyWorldTransform(e,c);var u=this.pathGeneratorFactory[c.nodeName];u&&(e.save(),r.push(t),e.beginPath(),u(e,c.parsedStyle),e.closePath(),e.clip())}s&&(this.applyWorldTransform(e,t),e.save(),this.applyAttributesToContext(e,t)),l&&(e.beginPath(),l(e,t.parsedStyle),t.nodeName!==Dr.LINE&&t.nodeName!==Dr.PATH&&t.nodeName!==Dr.POLYLINE&&e.closePath()),s&&(s.render(e,t.parsedStyle,t,n,this,i),e.restore()),t.renderable.dirty=!1},t.prototype.convertAABB2Rect=function(t){var e=t.getMin(),n=t.getMax(),r=Math.floor(e[0]),i=Math.floor(e[1]),o=Math.ceil(n[0]),a=Math.ceil(n[1]),s=o-r,l=a-i;return{x:r,y:i,width:s,height:l}},t.prototype.mergeDirtyAABBs=function(t){var e=new gi;return t.forEach((function(t){var n=t.getRenderBounds();e.add(n);var r=t.renderable.dirtyRenderBounds;r&&e.add(r)})),e},t.prototype.searchDirtyObjects=function(t){var e,n,r=(e=Kf(t.getMin(),2),e[0]),i=e[1],o=(n=Kf(t.getMax(),2),n[0]),a=n[1],s=this.rBush.search({minX:r,minY:i,maxX:o,maxY:a});return s.map((function(t){var e=t.displayObject;return e}))},t.prototype.saveDirtyAABB=function(t){var e=t.renderable;e.dirtyRenderBounds||(e.dirtyRenderBounds=new gi);var n=t.getRenderBounds();n&&e.dirtyRenderBounds.update(n.center,n.halfExtents)},t.prototype.applyAttributesToContext=function(t,e){var n,r=(n=e.parsedStyle,n.stroke),i=n.fill,o=n.opacity,a=n.lineDash,s=n.lineDashOffset;a&&t.setLineDash(a),ye(s)||(t.lineDashOffset=s),ye(o)||(t.globalAlpha*=o),ye(r)||Array.isArray(r)||r.isNone||(t.strokeStyle=e.attributes.stroke),ye(i)||Array.isArray(i)||i.isNone||(t.fillStyle=e.attributes.fill)},t.prototype.applyWorldTransform=function(t,e,n){var r=0,i=0,o=(e.parsedStyle||{}).anchor,a=o&&o[0]||0,s=o&&o[1]||0;if(0!==a||0!==s){var l=e.geometry.contentBounds,c=l&&2*l.halfExtents[0]||0,u=l&&2*l.halfExtents[1]||0;r=-a*c,i=-s*u}n?(G(this.tmpMat4,e.getLocalTransform()),this.vec3a[0]=r,this.vec3a[1]=i,this.vec3a[2]=0,J(this.tmpMat4,this.tmpMat4,this.vec3a),Q(this.tmpMat4,n,this.tmpMat4),Q(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(G(this.tmpMat4,e.getWorldTransform()),this.vec3a[0]=r,this.vec3a[1]=i,this.vec3a[2]=0,J(this.tmpMat4,this.tmpMat4,this.vec3a),Q(this.tmpMat4,this.vpMatrix,this.tmpMat4)),t.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])},t.prototype.safeMergeAABB=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=new gi;return t.forEach((function(t){n.add(t)})),n},t.tag="CanvasRenderer",t}(),Jf=function(){function t(t){this.imagePool=t}return t.prototype.render=function(t,e,n,r,i,o){var a=e.fill,s=e.fillRule,l=e.opacity,c=e.fillOpacity,u=e.stroke,h=e.strokeOpacity,f=e.lineWidth,d=e.lineCap,p=e.lineJoin,v=e.shadowType,g=e.shadowColor,y=e.shadowBlur,m=e.filter,b=e.miterLimit,x=!ye(a)&&!a.isNone,w=!ye(u)&&!u.isNone&&f>0,O=0===a.alpha,C=!(!m||!m.length),S=!ye(g)&&y>0,_=n.nodeName,E="inner"===v,M=w&&S&&(_===Dr.PATH||_===Dr.LINE||_===Dr.POLYLINE||O||E);x&&(t.globalAlpha=l*c,M||td(n,t,S),this.fill(t,n,a,s,r,i,o),M||this.clearShadowAndFilter(t,C,S)),w&&(t.globalAlpha=l*h,t.lineWidth=f,ye(b)||(t.miterLimit=b),ye(d)||(t.lineCap=d),ye(p)||(t.lineJoin=p),M&&(E&&(t.globalCompositeOperation="source-atop"),td(n,t,!0),E&&(this.stroke(t,n,u,r,i,o),t.globalCompositeOperation="source-over",this.clearShadowAndFilter(t,C,!0))),this.stroke(t,n,u,r,i,o))},t.prototype.clearShadowAndFilter=function(t,e,n){if(n&&(t.shadowColor="transparent",t.shadowBlur=0),e){var r=t.filter;!ye(r)&&r.indexOf("drop-shadow")>-1&&(t.filter=r.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}},t.prototype.fill=function(t,e,n,r,i,o,a){var s=this;Array.isArray(n)?n.forEach((function(n){t.fillStyle=s.getColor(n,e,t),r?t.fill(r):t.fill()})):(Do(n)&&(t.fillStyle=this.getPattern(n,e,t,i,o,a)),r?t.fill(r):t.fill())},t.prototype.stroke=function(t,e,n,r,i,o){var a=this;Array.isArray(n)?n.forEach((function(n){t.strokeStyle=a.getColor(n,e,t),t.stroke()})):(Do(n)&&(t.strokeStyle=this.getPattern(n,e,t,r,i,o)),t.stroke())},t.prototype.getPattern=function(t,e,n,r,i,o){var a,s;if("rect"===t.image.nodeName){var l=t.image.parsedStyle,c=l.width,u=l.height;s=r.contextService.getDPR();var h=r.config.offscreenCanvas;a=o.offscreenCanvasCreator.getOrCreateCanvas(h),a.width=c*s,a.height=u*s;var f=o.offscreenCanvasCreator.getOrCreateContext(h),d=[];t.image.forEach((function(t){i.renderDisplayObject(t,f,r,d,o)})),d.forEach((function(){f.restore()}))}var p=this.imagePool.getOrCreatePatternSync(t,n,a,s,(function(){e.renderable.dirty=!0,r.renderingService.dirtify()}));return p},t.prototype.getColor=function(t,e,n){var r;if(t.type===Di.LinearGradient||t.type===Di.RadialGradient){var i=e.getGeometryBounds(),o=i&&2*i.halfExtents[0]||1,a=i&&2*i.halfExtents[1]||1;r=this.imagePool.getOrCreateGradient(qf(qf({type:t.type},t.value),{width:o,height:a}),n)}return r},t}();function td(t,e,n){var r=t.parsedStyle,i=r.filter,o=r.shadowColor,a=r.shadowBlur,s=r.shadowOffsetX,l=r.shadowOffsetY;i&&i.length&&(e.filter=t.style.filter),n&&(e.shadowColor=o.toString(),e.shadowBlur=a||0,e.shadowOffsetX=s||0,e.shadowOffsetY=l||0)}var ed=function(){function t(t){this.imagePool=t}return t.prototype.render=function(t,e,n){var r,i=e.width,o=e.height,a=e.img,s=e.shadowColor,l=e.shadowBlur,c=i,u=o;if(me(a)?r=this.imagePool.getImageSync(a):(c||(c=a.width),u||(u=a.height),r=a),r){var h=!ye(s)&&l>0;td(n,t,h);try{t.drawImage(r,0,0,c,u)}catch(f){}}},t}(),nd=function(){function t(){}return t.prototype.render=function(t,e,n){var r=e,i=r.lineWidth,o=r.textAlign,a=r.textBaseline,s=r.lineJoin,l=r.miterLimit,c=r.letterSpacing,u=r.stroke,h=r.fill,f=r.fillOpacity,d=r.strokeOpacity,p=r.opacity,v=r.metrics,g=r.dx,y=r.dy,m=r.shadowColor,b=r.shadowBlur,x=v.font,w=v.lines,O=v.height,C=v.lineHeight,S=v.lineMetrics;t.font=x,t.lineWidth=i,t.textAlign="middle"===o?"center":o;var _=a;Jl.enableCSSParsing||"alphabetic"!==_||(_="bottom"),t.lineJoin=s,ye(l)||(t.miterLimit=l);var E=0;"middle"===a?E=-O/2-C/2:"bottom"===a||"alphabetic"===a||"ideographic"===a?E=-O:"top"!==a&&"hanging"!==a||(E=-C);var M=g||0;E+=y||0,1===w.length&&("bottom"===_?(_="middle",E-=.5*O):"top"===_&&(_="middle",E+=.5*O)),t.textBaseline=_;var k=!ye(m)&&b>0;td(n,t,k);for(var T=0;T<w.length;T++){var A=i/2+M;E+=C,ye(u)||u.isNone||!i||this.drawLetterSpacing(t,w[T],S[T],o,A,E,c,f,d,p,!0),ye(h)||this.drawLetterSpacing(t,w[T],S[T],o,A,E,c,f,d,p)}},t.prototype.drawLetterSpacing=function(t,e,n,r,i,o,a,s,l,c,u){if(void 0===u&&(u=!1),0!==a){var h=t.textAlign;t.textAlign="left";var f=i;"center"===r||"middle"===r?f=i-n.width/2:"right"!==r&&"end"!==r||(f=i-n.width);for(var d=Array.from(e),p=t.measureText(e).width,v=0,g=0;g<d.length;++g){var y=d[g];u?this.strokeText(t,y,f,o,l):this.fillText(t,y,f,o,s,c),v=t.measureText(e.substring(g+1)).width,f+=p-v+a,p=v}t.textAlign=h}else u?this.strokeText(t,e,i,o,l):this.fillText(t,e,i,o,s,c)},t.prototype.fillText=function(t,e,n,r,i,o){var a,s=!ye(i)&&1!==i;s&&(a=t.globalAlpha,t.globalAlpha=i*o),t.fillText(e,n,r),s&&(t.globalAlpha=a)},t.prototype.strokeText=function(t,e,n,r,i){var o,a=!ye(i)&&1!==i;a&&(o=t.globalAlpha,t.globalAlpha=i),t.strokeText(e,n,r),a&&(t.globalAlpha=o)},t}(),rd=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Xf(e,t)}(Jf),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Xf(e,t)}(Jf),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Xf(e,t)}(Jf),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Xf(e,t)}(Jf),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Xf(e,t)}(Jf),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Xf(e,t)}(Jf),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Xf(e,t)}(Jf),function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;return n.options=e,n.name="canvas-renderer",n}return Xf(e,t),e.prototype.init=function(){var t,e=qf({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),n=this.context.imagePool,r=new Jf(n),i=(t={},t[Dr.CIRCLE]=r,t[Dr.ELLIPSE]=r,t[Dr.RECT]=r,t[Dr.IMAGE]=new ed(n),t[Dr.TEXT]=new nd,t[Dr.LINE]=r,t[Dr.POLYLINE]=r,t[Dr.POLYGON]=r,t[Dr.PATH]=r,t[Dr.GROUP]=void 0,t[Dr.HTML]=void 0,t[Dr.MESH]=void 0,t);this.context.defaultStyleRendererFactory=i,this.context.styleRendererFactory=i,this.addRenderingPlugin(new Qf(e))},e.prototype.destroy=function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory},e}(Wr)),id=function(t,e){return id=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},id(t,e)};function od(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}id(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var ad=function(){function t(){}return t.prototype.apply=function(e,n){var r=this,i=e.renderingService,o=e.renderingContext,a=e.config;this.context=e;var s=o.root.ownerDocument.defaultView,l=function(t){i.hooks.pointerMove.call(t)},c=function(t){i.hooks.pointerUp.call(t)},u=function(t){i.hooks.pointerDown.call(t)},h=function(t){i.hooks.pointerOver.call(t)},f=function(t){i.hooks.pointerOut.call(t)},d=function(t){i.hooks.pointerCancel.call(t)},p=function(t){i.hooks.pointerWheel.call(t)},v=function(t){i.hooks.click.call(t)},g=function(t){n.globalThis.document.addEventListener("pointermove",l,!0),t.addEventListener("pointerdown",u,!0),t.addEventListener("pointerleave",f,!0),t.addEventListener("pointerover",h,!0),n.globalThis.addEventListener("pointerup",c,!0),n.globalThis.addEventListener("pointercancel",d,!0)},y=function(t){t.addEventListener("touchstart",u,!0),t.addEventListener("touchend",c,!0),t.addEventListener("touchmove",l,!0),t.addEventListener("touchcancel",d,!0)},m=function(t){n.globalThis.document.addEventListener("mousemove",l,!0),t.addEventListener("mousedown",u,!0),t.addEventListener("mouseout",f,!0),t.addEventListener("mouseover",h,!0),n.globalThis.addEventListener("mouseup",c,!0)},b=function(t){n.globalThis.document.removeEventListener("pointermove",l,!0),t.removeEventListener("pointerdown",u,!0),t.removeEventListener("pointerleave",f,!0),t.removeEventListener("pointerover",h,!0),n.globalThis.removeEventListener("pointerup",c,!0)},x=function(t){t.removeEventListener("touchstart",u,!0),t.removeEventListener("touchend",c,!0),t.removeEventListener("touchmove",l,!0),t.removeEventListener("touchcancel",d,!0)},w=function(t){n.globalThis.document.removeEventListener("mousemove",l,!0),t.removeEventListener("mousedown",u,!0),t.removeEventListener("mouseout",f,!0),t.removeEventListener("mouseover",h,!0),n.globalThis.removeEventListener("mouseup",c,!0)};i.hooks.init.tap(t.tag,(function(){var t=r.context.contextService.getDomElement();n.globalThis.navigator.msPointerEnabled?(t.style.msContentZooming="none",t.style.msTouchAction="none"):s.supportsPointerEvents&&(t.style.touchAction="none"),s.supportsPointerEvents?g(t):m(t),s.supportsTouchEvents&&y(t),a.useNativeClickEvent&&t.addEventListener("click",v,!0),t.addEventListener("wheel",p,{passive:!0,capture:!0})})),i.hooks.destroy.tap(t.tag,(function(){var t=r.context.contextService.getDomElement();n.globalThis.navigator.msPointerEnabled?(t.style.msContentZooming="",t.style.msTouchAction=""):s.supportsPointerEvents&&(t.style.touchAction=""),s.supportsPointerEvents?b(t):w(t),s.supportsTouchEvents&&x(t),a.useNativeClickEvent&&t.removeEventListener("click",v,!0),t.removeEventListener("wheel",p,!0)}))},t.tag="DOMInteraction",t}(),sd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="dom-interaction",e}return od(e,t),e.prototype.init=function(){this.addRenderingPlugin(new ad)},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e}(Wr),ld=function(t,e){return ld=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},ld(t,e)};function cd(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ld(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var ud="g-html-",hd="g-canvas-camera",fd=function(){function t(){}return t.prototype.joinTransformMatrix=function(t){return"matrix(".concat([t[0],t[1],t[4],t[5],t[12],t[13]].join(","),")")},t.prototype.apply=function(e){var n=this,r=e.camera,i=e.renderingContext,o=e.renderingService;this.context=e;var a=i.root.ownerDocument.defaultView,s=function(t,e){e.style.transform=n.joinTransformMatrix(t.getWorldTransform())},l=function(t){var e=t.target;if(e.nodeName===Dr.HTML){n.$camera||(n.$camera=n.createCamera(r));var i=n.getOrCreateEl(e);n.$camera.appendChild(i);var o=e.ownerDocument.documentElement.attributes;Object.keys(o).forEach((function(t){i.style[t]=o[t]})),Object.keys(e.attributes).forEach((function(t){n.updateAttribute(t,e)})),s(e,i),Jl.nativeHTMLMap.set(i,e)}},c=function(t){var e=t.target;if(e.nodeName===Dr.HTML&&n.$camera){var r=n.getOrCreateEl(e);r&&(r.remove(),Jl.nativeHTMLMap.delete(r))}},u=function(t){var e=t.target;if(e.nodeName===Dr.HTML){var r=t.attrName;n.updateAttribute(r,e)}},h=function(t){var e=t.target;if(e.nodeName===Dr.HTML){var r=n.getOrCreateEl(e);s(e,r)}},f=function(){if(n.$camera){var t=n.context.config,e=t.width,r=t.height;n.$camera.style.width="".concat(e||0,"px"),n.$camera.style.height="".concat(r||0,"px")}};o.hooks.init.tap(t.tag,(function(){a.addEventListener(cc.RESIZE,f),a.addEventListener(Pl.MOUNTED,l),a.addEventListener(Pl.UNMOUNTED,c),a.addEventListener(Pl.ATTR_MODIFIED,u),a.addEventListener(Pl.BOUNDS_CHANGED,h)})),o.hooks.endFrame.tap(t.tag,(function(){n.$camera&&i.renderReasons.has(xl.CAMERA_CHANGED)&&(n.$camera.style.transform=n.joinTransformMatrix(r.getOrthoMatrix()))})),o.hooks.destroy.tap(t.tag,(function(){n.$camera&&n.$camera.remove(),a.removeEventListener(cc.RESIZE,f),a.removeEventListener(Pl.MOUNTED,l),a.removeEventListener(Pl.UNMOUNTED,c),a.removeEventListener(Pl.ATTR_MODIFIED,u),a.removeEventListener(Pl.BOUNDS_CHANGED,h)}))},t.prototype.getId=function(t){return t.id||ud+t.entity},t.prototype.createCamera=function(t){var e,n=(e=this.context.config,e.document),r=e.width,i=e.height,o=this.context.contextService.getDomElement(),a=o.parentNode;if(a){var s=hd,l=a.querySelector("#"+s);if(!l){var c=(n||document).createElement("div");l=c,c.id=s,c.style.position="absolute",c.style.left="".concat(o.offsetLeft||0,"px"),c.style.top="".concat(o.offsetTop||0,"px"),c.style.transformOrigin="left top",c.style.transform=this.joinTransformMatrix(t.getOrthoMatrix()),c.style.overflow="hidden",c.style.pointerEvents="none",c.style.width="".concat(r||0,"px"),c.style.height="".concat(i||0,"px"),a.appendChild(c)}return l}return null},t.prototype.getOrCreateEl=function(t){var e=this.context.config.document,n=this.getId(t),r=this.$camera.querySelector("#"+n);return r||(r=(e||document).createElement("div"),t.parsedStyle.$el=r,r.id=n,t.name&&r.setAttribute("name",t.name),t.className&&(r.className=t.className),r.style.position="absolute",r.style.left="0px",r.style.top="0px",r.style["will-change"]="transform",r.style.transform=this.joinTransformMatrix(t.getWorldTransform())),r},t.prototype.updateAttribute=function(t,e){var n=this.getOrCreateEl(e);switch(t){case"innerHTML":var r=e.parsedStyle.innerHTML;me(r)?n.innerHTML=r:(n.innerHTML="",n.appendChild(r));break;case"transformOrigin":var i=e.parsedStyle.transformOrigin;n.style["transform-origin"]="".concat(i[0].value," ").concat(i[1].value);break;case"width":if(Jl.enableCSSParsing){var o=e.computedStyleMap().get("width");n.style.width=o.toString()}else{o=e.parsedStyle.width;n.style.width=pe(o)?"".concat(o,"px"):o.toString()}break;case"height":if(Jl.enableCSSParsing){var a=e.computedStyleMap().get("height");n.style.height=a.toString()}else{a=e.parsedStyle.height;n.style.height=pe(a)?"".concat(a,"px"):a.toString()}break;case"zIndex":var s=e.parsedStyle.zIndex;n.style["z-index"]="".concat(s);break;case"visibility":var l=e.parsedStyle.visibility;n.style.visibility=l;break;case"pointerEvents":var c=e.parsedStyle.pointerEvents;n.style.pointerEvents=c;break;case"opacity":var u=e.parsedStyle.opacity;n.style.opacity="".concat(u);break;case"fill":var h=e.parsedStyle.fill,f="";Fo(h)?f=h.isNone?"transparent":e.getAttribute("fill"):Array.isArray(h)?f=e.getAttribute("fill"):Do(h),n.style.background=f;break;case"stroke":var d=e.parsedStyle.stroke,p="";Fo(d)?p=d.isNone?"transparent":e.getAttribute("stroke"):Array.isArray(d)?p=e.getAttribute("stroke"):Do(d),n.style["border-color"]=p,n.style["border-style"]="solid";break;case"lineWidth":var v=e.parsedStyle.lineWidth;n.style["border-width"]="".concat(v||0,"px");break;case"lineDash":n.style["border-style"]="dashed";break;case"filter":var g=e.style.filter;n.style.filter=g;break}},t.tag="HTMLRendering",t}(),dd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="html-renderer",e}return cd(e,t),e.prototype.init=function(){this.addRenderingPlugin(new fd)},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e}(Wr),pd=function(t,e){return pd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},pd(t,e)};function vd(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}pd(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var gd=function(){function t(t){this.canvasConfig=t,this.imageCache={},this.gradientCache={},this.patternCache={}}return t.prototype.getImageSync=function(t,e){return this.imageCache[t]?e&&e():this.getOrCreateImage(t).then((function(){e&&e()})),this.imageCache[t]},t.prototype.getOrCreateImage=function(t){var e=this;if(this.imageCache[t])return Promise.resolve(this.imageCache[t]);var n=this.canvasConfig.createImage;return new Promise((function(r,i){var o;n?o=n(t):Ms&&(o=new window.Image),o&&(o.onload=function(){e.imageCache[t]=o,r(o)},o.onerror=function(t){i(t)},o.crossOrigin="Anonymous",o.src=t)}))},t.prototype.getOrCreatePatternSync=function(t,e,n,r,i){var o=this.generatePatternKey(t);if(o&&this.patternCache[o])return this.patternCache[o];var a,s=t.image,l=t.repetition,c=t.transform,u=!1;me(s)?a=this.getImageSync(s,i):n?(a=n,u=!0):a=s;var h=a&&e.createPattern(a,l);if(h){var f=void 0;f=c?ds(ja(c),new yc({})):U(H()),u&&tt(f,f,[1/r,1/r,1]),h.setTransform({a:f[0],b:f[1],c:f[4],d:f[5],e:f[12],f:f[13]})}return o&&h&&(this.patternCache[o]=h),h},t.prototype.getOrCreateGradient=function(t,e){var n=this.generateGradientKey(t),r=t.type,i=t.steps,o=t.width,a=t.height,s=t.angle,l=t.cx,c=t.cy,u=t.size;if(this.gradientCache[n])return this.gradientCache[n];var h=null;if(r===Di.LinearGradient){var f=_o(o,a,s),d=f.x1,p=f.y1,v=f.x2,g=f.y2;h=e.createLinearGradient(d,p,v,g)}else if(r===Di.RadialGradient){var y=Eo(o,a,l,c,u),m=y.x,b=y.y,x=y.r;h=e.createRadialGradient(m,b,0,m,b,x)}return h&&(i.forEach((function(t){var e=t.offset,n=t.color;e.unit===Mi.kPercentage&&(null===h||void 0===h||h.addColorStop(e.value/100,n.toString()))})),this.gradientCache[n]=h),this.gradientCache[n]},t.prototype.generateGradientKey=function(t){var e=t.type,n=t.width,r=t.height,i=t.steps,o=t.angle,a=t.cx,s=t.cy,l=t.size;return"gradient-".concat(e,"-").concat((null===o||void 0===o?void 0:o.toString())||0,"-").concat((null===a||void 0===a?void 0:a.toString())||0,"-").concat((null===s||void 0===s?void 0:s.toString())||0,"-").concat((null===l||void 0===l?void 0:l.toString())||0,"-").concat(n,"-").concat(r,"-").concat(i.map((function(t){var e=t.offset,n=t.color;return"".concat(e).concat(n)})).join("-"))},t.prototype.generatePatternKey=function(t){var e=t.image,n=t.repetition;return me(e)?"pattern-".concat(e,"-").concat(n):"rect"===e.nodeName?"pattern-".concat(e.entity,"-").concat(n):void 0},t}(),yd=function(){function t(){}return t.prototype.apply=function(e){var n=e.renderingService,r=e.renderingContext,i=e.imagePool,o=r.root.ownerDocument.defaultView,a=function(t){var e=t.target,r=e.nodeName,o=e.attributes;if(r===Dr.IMAGE){var a=o.img;me(a)&&i.getImageSync(a,(function(){e.renderable.dirty=!0,n.dirtify()}))}},s=function(t){var e=t.target,r=t.attrName,o=t.newValue;e.nodeName===Dr.IMAGE&&"img"===r&&me(o)&&i.getOrCreateImage(o).then((function(){e.renderable.dirty=!0,n.dirtify()}))};n.hooks.init.tap(t.tag,(function(){o.addEventListener(Pl.MOUNTED,a),o.addEventListener(Pl.ATTR_MODIFIED,s)})),n.hooks.destroy.tap(t.tag,(function(){o.removeEventListener(Pl.MOUNTED,a),o.removeEventListener(Pl.ATTR_MODIFIED,s)}))},t.tag="LoadImage",t}(),md=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="image-loader",e}return vd(e,t),e.prototype.init=function(){this.context.imagePool=new gd(this.context.config),this.addRenderingPlugin(new yd)},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e}(Wr),bd=function(){function t(t){this.renderingContext=t.renderingContext,this.canvasConfig=t.config}return t.prototype.init=function(){var t=this.canvasConfig,e=t.container,n=t.canvas;if(n)this.$canvas=n,e&&n.parentElement!==e&&e.appendChild(n),this.$container=n.parentElement,this.canvasConfig.container=this.$container;else if(e&&(this.$container=me(e)?document.getElementById(e):e,this.$container)){var r=document.createElement("canvas");this.$container.appendChild(r),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=r}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)},t.prototype.getContext=function(){return this.context},t.prototype.getDomElement=function(){return this.$canvas},t.prototype.getDPR=function(){return this.dpr},t.prototype.getBoundingClientRect=function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()},t.prototype.destroy=function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)},t.prototype.resize=function(t,e){var n=this.canvasConfig.devicePixelRatio,r=n||Ms&&window.devicePixelRatio||1;r=r>=1?Math.ceil(r):1,this.dpr=r,this.$canvas&&(this.$canvas.width=this.dpr*t,this.$canvas.height=this.dpr*e,Rs(this.$canvas,t,e)),this.renderingContext.renderReasons.add(xl.CAMERA_CHANGED)},t.prototype.applyCursorStyle=function(t){this.$container&&this.$container.style&&(this.$container.style.cursor=t)},t.prototype.toDataURL=function(t){return void 0===t&&(t={}),tf(this,void 0,void 0,(function(){var e,n;return ef(this,(function(r){return e=t.type,n=t.encoderOptions,[2,this.context.canvas.toDataURL(e,n)]}))}))},t}(),xd=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="canvas-context-register",e}return Jh(e,t),e.prototype.init=function(){this.context.ContextService=bd},e.prototype.destroy=function(){delete this.context.ContextService},e}(Wr),wd=function(t){function e(e){var n=t.call(this,e)||this;return n.registerPlugin(new xd),n.registerPlugin(new md),n.registerPlugin(new df),n.registerPlugin(new rd),n.registerPlugin(new sd),n.registerPlugin(new Yf),n.registerPlugin(new dd),n}return Jh(e,t),e}(Hr),Od=function(t,e){return Od=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Od(t,e)};function Cd(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Od(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Sd=function(){return Sd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Sd.apply(this,arguments)};function _d(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function Ed(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return l([t,e])}}function l(s){if(n)throw new TypeError("Generator is already executing.");while(o&&(o=0,s[0]&&(a=0)),a)try{if(n=1,r&&(i=2&s[0]?r["return"]:s[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(l){s=[6,l],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var Md=function(){function t(t){this.dragndropPluginOptions=t}return t.prototype.apply=function(e){var n=this,r=e.renderingService,i=e.renderingContext,o=i.root.ownerDocument,a=o.defaultView,s=function(t){var e=t.target,r=e===o,i=r&&n.dragndropPluginOptions.isDocumentDraggable?o:e.closest&&e.closest("[draggable=true]");if(i){var s=!1,l=t.timeStamp,c=[t.clientX,t.clientY],u=null,h=[t.clientX,t.clientY],f=function(t){return _d(n,void 0,void 0,(function(){var n,a,f,d,p,v;return Ed(this,(function(g){switch(g.label){case 0:if(!s){if(n=t.timeStamp-l,a=ve([t.clientX,t.clientY],c),n<=this.dragndropPluginOptions.dragstartTimeThreshold||a<=this.dragndropPluginOptions.dragstartDistanceThreshold)return[2];t.type="dragstart",i.dispatchEvent(t),s=!0}return t.type="drag",t.dx=t.clientX-h[0],t.dy=t.clientY-h[1],i.dispatchEvent(t),h=[t.clientX,t.clientY],r?[3,2]:(f="pointer"===this.dragndropPluginOptions.overlap?[t.canvasX,t.canvasY]:e.getBounds().center,[4,o.elementsFromPoint(f[0],f[1])]);case 1:d=g.sent(),p=d[d.indexOf(e)+1],v=(null===p||void 0===p?void 0:p.closest("[droppable=true]"))||(this.dragndropPluginOptions.isDocumentDroppable?o:null),u!==v&&(u&&(t.type="dragleave",t.target=u,u.dispatchEvent(t)),v&&(t.type="dragenter",t.target=v,v.dispatchEvent(t)),u=v,u&&(t.type="dragover",t.target=u,u.dispatchEvent(t))),g.label=2;case 2:return[2]}}))}))};a.addEventListener("pointermove",f);var d=function(t){if(s){t.detail={preventClick:!0};var e=t.clone();u&&(e.type="drop",e.target=u,u.dispatchEvent(e)),e.type="dragend",i.dispatchEvent(e),s=!1}a.removeEventListener("pointermove",f)};e.addEventListener("pointerup",d,{once:!0}),e.addEventListener("pointerupoutside",d,{once:!0})}};r.hooks.init.tap(t.tag,(function(){a.addEventListener("pointerdown",s)})),r.hooks.destroy.tap(t.tag,(function(){a.removeEventListener("pointerdown",s)}))},t.tag="Dragndrop",t}(),kd=function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;return n.options=e,n.name="dragndrop",n}return Cd(e,t),e.prototype.init=function(){this.addRenderingPlugin(new Md(Sd({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e.prototype.setOptions=function(t){Object.assign(this.plugins[0].dragndropPluginOptions,t)},e}(Wr),Td=function(t){return"object"===typeof t&&null!==t},Ad=Td,Ld=function(t){if(!Ad(t)||!fe(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;var e=t;while(null!==Object.getPrototypeOf(e))e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},Pd=Ld,Rd=5;function Id(t,e){if(Object.hasOwn)return Object.hasOwn(t,e);if(null==t)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(t),e)}function Nd(t,e,n,r){for(var i in n=n||0,r=r||Rd,e)if(Id(e,i)){var o=e[i];null!==o&&Pd(o)?(Pd(t[i])||(t[i]={}),n<r?Nd(t[i],o,n+1,r):t[i]=e[i]):tn(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}var jd=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)Nd(t,e[r]);return t},Bd=jd,Dd="*",Fd=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],o=this._events[Dd]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],s=a.callback,l=a.once;l&&(r.splice(o,1),0===r.length&&delete e._events[t],i--,o--),s.apply(e,n)}};a(i),a(o)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}(),zd=Fd;const Wd=()=>[["cartesian"]];Wd.props={};const Hd=(t={})=>{const e={startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},e),t)},$d=t=>{const{startAngle:e,endAngle:n,innerRadius:r,outerRadius:i}=Hd(t);return[["translate",0,.5],["reflect.y"],["translate",0,-.5],["polar",e,n,r,i]]};$d.props={};const Gd=({startAngle:t=0,endAngle:e=6*Math.PI,innerRadius:n=0,outerRadius:r=1})=>[["translate",.5,.5],["reflect.y"],["translate",-.5,-.5],["helix",t,e,n,r]];Gd.props={};const Vd=()=>[["transpose"],["translate",.5,.5],["reflect.x"],["translate",-.5,-.5]];Vd.props={transform:!0};const Yd=(t={})=>{const e={startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},e),t)},Ud=t=>{const{startAngle:e,endAngle:n,innerRadius:r,outerRadius:i}=Yd(t);return[...Vd(),...$d({startAngle:e,endAngle:n,innerRadius:r,outerRadius:i})]};Ud.props={};const Xd=(t={})=>{const e={startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,outerRadius:1};return Object.assign(Object.assign({},e),t)},qd=t=>{const{startAngle:e,endAngle:n,innerRadius:r,outerRadius:i}=Xd(t);return[["transpose"],["translate",.5,.5],["reflect"],["translate",-.5,-.5],...$d({startAngle:e,endAngle:n,innerRadius:r,outerRadius:i})]};qd.props={};const Kd=()=>[["parallel",0,1,0,1]];Kd.props={};const Zd=({focusX:t=0,focusY:e=0,distortionX:n=2,distortionY:r=2,visual:i=!1})=>[["fisheye",t,e,n,r,i]];Zd.props={transform:!0};const Qd=t=>{const{startAngle:e=-Math.PI/2,endAngle:n=3*Math.PI/2,innerRadius:r=0,outerRadius:i=1}=t;return[...Kd(),...$d({startAngle:e,endAngle:n,innerRadius:r,outerRadius:i})]};Qd.props={};const Jd=({value:t})=>e=>e.map((()=>t));Jd.props={};const tp=({value:t})=>e=>e.map(t);tp.props={};const ep=({value:t})=>e=>e.map((e=>e[t]));ep.props={};const np=({value:t})=>()=>t;function rp(t){return null==t?null:ip(t)}function ip(t){if("function"!==typeof t)throw new Error;return t}function op(t){var e=0,n=t.children,r=n&&n.length;if(r)while(--r>=0)e+=n[r].value;else e=1;t.value=e}function ap(){return this.eachAfter(op)}function sp(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function lp(t,e){var n,r,i=this,o=[i],a=-1;while(i=o.pop())if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this}function cp(t,e){var n,r,i,o=this,a=[o],s=[],l=-1;while(o=a.pop())if(s.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);while(o=s.pop())t.call(e,o,++l,this);return this}function up(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function hp(t){return this.eachAfter((function(e){var n=+t(e.data)||0,r=e.children,i=r&&r.length;while(--i>=0)n+=r[i].value;e.value=n}))}function fp(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))}function dp(t){var e=this,n=pp(e,t),r=[e];while(e!==n)e=e.parent,r.push(e);var i=r.length;while(t!==n)r.splice(i,0,t),t=t.parent;return r}function pp(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();while(t===e)i=t,t=n.pop(),e=r.pop();return i}function vp(){var t=this,e=[t];while(t=t.parent)e.push(t);return e}function gp(){return Array.from(this)}function yp(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t}function mp(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e}function*bp(){var t,e,n,r,i=this,o=[i];do{t=o.reverse(),o=[];while(i=t.pop())if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n])}while(o.length)}function xp(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=Cp)):void 0===e&&(e=Op);var n,r,i,o,a,s=new Ep(t),l=[s];while(n=l.pop())if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)l.push(r=i[o]=new Ep(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(_p)}function wp(){return xp(this).eachBefore(Sp)}function Op(t){return t.children}function Cp(t){return Array.isArray(t)?t[1]:null}function Sp(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function _p(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Ep(t){this.data=t,this.depth=this.height=0,this.parent=null}np.props={},Ep.prototype=xp.prototype={constructor:Ep,count:ap,each:sp,eachAfter:cp,eachBefore:lp,find:up,sum:hp,sort:fp,path:dp,ancestors:vp,descendants:gp,leaves:yp,links:mp,copy:wp,[Symbol.iterator]:bp};var Mp={depth:-1},kp={},Tp={};function Ap(t){return t.id}function Lp(t){return t.parentId}function Pp(){var t,e=Ap,n=Lp;function r(r){var i,o,a,s,l,c,u,h,f=Array.from(r),d=e,p=n,v=new Map;if(null!=t){const e=f.map(((e,n)=>Rp(t(e,n,r)))),n=e.map(Ip),i=new Set(e).add("");for(const t of n)i.has(t)||(i.add(t),e.push(t),n.push(Ip(t)),f.push(Tp));d=(t,n)=>e[n],p=(t,e)=>n[e]}for(a=0,i=f.length;a<i;++a)o=f[a],c=f[a]=new Ep(o),null!=(u=d(o,a,r))&&(u+="")&&(h=c.id=u,v.set(h,v.has(h)?kp:c)),null!=(u=p(o,a,r))&&(u+="")&&(c.parent=u);for(a=0;a<i;++a)if(c=f[a],u=c.parent){if(l=v.get(u),!l)throw new Error("missing: "+u);if(l===kp)throw new Error("ambiguous: "+u);l.children?l.children.push(c):l.children=[c],c.parent=l}else{if(s)throw new Error("multiple roots");s=c}if(!s)throw new Error("no root");if(null!=t){while(s.data===Tp&&1===s.children.length)s=s.children[0],--i;for(let t=f.length-1;t>=0;--t){if(c=f[t],c.data!==Tp)break;c.data=null}}if(s.parent=Mp,s.eachBefore((function(t){t.depth=t.parent.depth+1,--i})).eachBefore(_p),s.parent=null,i>0)throw new Error("cycle");return s}return r.id=function(t){return arguments.length?(e=rp(t),r):e},r.parentId=function(t){return arguments.length?(n=rp(t),r):n},r.path=function(e){return arguments.length?(t=rp(e),r):t},r}function Rp(t){t=`${t}`;let e=t.length;return Np(t,e-1)&&!Np(t,e-2)&&(t=t.slice(0,-1)),"/"===t[0]?t:`/${t}`}function Ip(t){let e=t.length;if(e<2)return"";while(--e>1)if(Np(t,e))break;return t.slice(0,e)}function Np(t,e){if("/"===t[e]){let n=0;while(e>0&&"\\"===t[--e])++n;if(0===(1&n))return!0}return!1}function jp(t={}){const{shapes:e}=t;return[{name:"color"},{name:"opacity"},{name:"shape",range:e},{name:"enterType"},{name:"enterDelay",scaleKey:"enter"},{name:"enterDuration",scaleKey:"enter"},{name:"enterEasing"},{name:"key",scale:"identity"},{name:"groupKey",scale:"identity"},{name:"label",scale:"identity"}]}function Bp(t={}){return[...jp(t),{name:"title",scale:"identity"}]}function Dp(){return[{type:"maybeTitle",channel:"color"},{type:"maybeTooltip",channel:["x","y"]}]}function Fp(){return[{type:"maybeTitle",channel:"x"},{type:"maybeTooltip",channel:["y"]}]}function zp(){return[{type:"maybeTitle",channel:"color"},{type:"maybeTooltip",channel:["position"]}]}function Wp(t={}){return jp(t)}function Hp(){return[{type:"maybeKey"}]}function $p(){return[]}function Gp(t,e){return t.getBandWidth(t.invert(e))}function Vp(t,e,n={}){const{x:r,y:i,series:o}=e,{x:a,y:s,series:l}=t,{style:{bandOffset:c=(l?0:.5),bandOffsetX:u=c,bandOffsetY:h=c}={}}=n,f=!!(null===a||void 0===a?void 0:a.getBandWidth),d=!!(null===s||void 0===s?void 0:s.getBandWidth),p=!!(null===l||void 0===l?void 0:l.getBandWidth);return f||d?(t,e)=>{const n=f?Gp(a,r[e]):0,c=d?Gp(s,i[e]):0,v=()=>(Gp(l,o[e])/2+ +o[e])*n,g=p&&o?v():0,[y,m]=t;return[y+u*n+g,m+h*c]}:t=>t}function Yp(t){return parseFloat(t)/100}function Up(t,e,n,r){const{x:i,y:o}=n,{innerWidth:a,innerHeight:s}=r.getOptions(),l=Array.from(t,(t=>{const e=i[t],n=o[t],r="string"===typeof e?Yp(e)*a:+e,l="string"===typeof n?Yp(n)*s:+n;return[[r,l]]}));return[t,l]}function Xp(t){return"function"===typeof t?t:e=>e[t]}function qp(t,e){return Array.from(t,Xp(e))}function Kp(t,e){const{source:n=(t=>t.source),target:r=(t=>t.target),value:i=(t=>t.value)}=e,{links:o,nodes:a}=t,s=qp(o,n),l=qp(o,r),c=qp(o,i);return{links:o.map(((t,e)=>({target:l[e],source:s[e],value:c[e]}))),nodes:a||Array.from(new Set([...s,...l]),(t=>({key:t})))}}function Zp(t,e){return Array.isArray(t)?"function"===typeof e?Pp().path(e)(t):Pp()(t):xp(t)}function Qp(t,e){return t.getBandWidth(t.invert(e))}const Jp=()=>(t,e,n,r)=>{const{x:i,y:o,y1:a,series:s,size:l}=n,c=e.x,u=e.series,[h]=r.getSize(),f=l?l.map((t=>+t/h)):null,d=l?(t,e,n)=>{const r=t+e/2,i=f[n];return[r-i/2,r+i/2]}:(t,e,n)=>[t,t+e],p=Array.from(t,(t=>{const e=Qp(c,i[t]),n=u?Qp(u,null===s||void 0===s?void 0:s[t]):1,l=e*n,h=(+(null===s||void 0===s?void 0:s[t])||0)*e,f=+i[t]+h,[p,v]=d(f,l,t),g=+o[t],y=+a[t],m=[p,g],b=[v,g],x=[v,y],w=[p,y];return[m,b,x,w].map((t=>r.map(t)))}));return[t,p]},tv=["rect","hollow","funnel","pyramid"];Jp.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:tv}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size"}],preInference:[...Hp(),{type:"maybeZeroY1"},{type:"maybeZeroX"}],postInference:[...$p(),...Fp()],interaction:{shareTooltip:!0}};const ev=()=>(t,e,n,r)=>{const{x:i,x1:o,y:a,y1:s}=n,l=Array.from(t,(t=>{const e=[+i[t],+a[t]],n=[+o[t],+a[t]],l=[+o[t],+s[t]],c=[+i[t],+s[t]];return[e,n,l,c].map((t=>r.map(t)))}));return[t,l]},nv=["rect","hollow"];ev.props={defaultShape:"rect",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:nv}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Hp(),{type:"maybeZeroY1"}],postInference:[...$p(),...Fp()],interaction:{shareTooltip:!0}};class rv extends Map{constructor(t,e=sv){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(iv(this,t))}has(t){return super.has(iv(this,t))}set(t,e){return super.set(ov(this,t),e)}delete(t){return super.delete(av(this,t))}}function iv({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ov({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function av({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function sv(t){return null!==t&&"object"===typeof t?t.valueOf():t}function lv(t){return t}function cv(t,...e){return dv(t,lv,lv,e)}function uv(t,...e){return dv(t,Array.from,lv,e)}function hv(t,e,...n){return dv(t,lv,e,n)}function fv(t,e,...n){return dv(t,Array.from,e,n)}function dv(t,e,n,r){return function t(i,o){if(o>=r.length)return n(i);const a=new rv,s=r[o++];let l=-1;for(const e of i){const t=s(e,++l,i),n=a.get(t);n?n.push(e):a.set(t,[e])}for(const[e,n]of a)a.set(e,t(n,o));return e(a)}(t,0)}function pv(t){const{transformations:e}=t.getOptions(),n=e.map((([t])=>t)).filter((t=>"transpose"===t));return n.length%2!==0}function vv(t){const{transformations:e}=t.getOptions();return e.some((([t])=>"polar"===t))}function gv(t){const{transformations:e}=t.getOptions();return e.some((([t])=>"reflect"===t))&&e.some((([t])=>t.startsWith("transpose")))}function yv(t){const{transformations:e}=t.getOptions();return e.some((([t])=>"helix"===t))}function mv(t){const{transformations:e}=t.getOptions();return e.some((([t])=>"parallel"===t))}function bv(t){const{transformations:e}=t.getOptions();return e.some((([t])=>"fisheye"===t))}function xv(t){return mv(t)&&vv(t)}function wv(t){return yv(t)||vv(t)}function Ov(t){return vv(t)&&pv(t)}function Cv(t){if(wv(t)){const[e,n]=t.getSize(),r=t.getOptions().transformations.find((t=>"polar"===t[0]));if(r)return Math.max(e,n)/2*r[4]}return 0}function Sv(t){const{transformations:e}=t.getOptions(),[,,,n,r]=e.find((t=>"polar"===t[0]));return[+n,+r]}function _v(t,e=!0){const{transformations:n}=t.getOptions(),[,r,i]=n.find((t=>"polar"===t[0]));return e?[180*+r/Math.PI,180*+i/Math.PI]:[r,i]}function Ev(t,e){const{transformations:n}=t.getOptions(),[,...r]=n.find((t=>t[0]===e));return r}const Mv=(t,e,n,r)=>{var i,o;const{series:a,x:s,y:l}=n,{x:c,y:u}=e;if(void 0===s||void 0===l)throw new Error("Missing encode for x or y channel.");const h=a?Array.from(cv(t,(t=>a[t])).values()):[t],f=h.map((t=>t[0])).filter((t=>void 0!==t)),d=((null===(i=null===c||void 0===c?void 0:c.getBandWidth)||void 0===i?void 0:i.call(c))||0)/2,p=((null===(o=null===u||void 0===u?void 0:u.getBandWidth)||void 0===o?void 0:o.call(u))||0)/2,v=Array.from(h,(t=>t.map((t=>r.map([+s[t]+d,+l[t]+p])))));return[f,v,h]},kv=(t,e,n,r)=>{const i=Object.entries(n).filter((([t])=>t.startsWith("position"))).map((([,t])=>t));if(0===i.length)throw new Error("Missing encode for position channel.");const o=Array.from(t,(t=>{const e=i.map((e=>+e[t])),n=r.map(e),o=[];for(let r=0;r<n.length;r+=2)o.push([n[r],n[r+1]]);return o}));return[t,o]},Tv=()=>(t,e,n,r)=>{const i=mv(r)?kv:Mv;return i(t,e,n,r)},Av=["line","smooth"];Tv.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:Av}),{name:"x"},{name:"y"},{name:"position",independent:!0},{name:"size"},{name:"series",scale:"identity"}],preInference:[...Hp(),{type:"maybeGradient"},{type:"maybeSeries"}],postInference:[...$p(),...Fp(),...zp()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const Lv=t=>(e,n,r,i)=>{const{x:o,y:a,x1:s,y1:l,size:c,dx:u,dy:h}=r,[f,d]=i.getSize(),p=Vp(n,r,t),v=t=>{const e=+((null===u||void 0===u?void 0:u[t])||0),n=+((null===h||void 0===h?void 0:h[t])||0),r=s?(+o[t]+ +s[t])/2:+o[t],i=l?(+a[t]+ +l[t])/2:+a[t],c=r+e,f=i+n;return[c,f]},g=c?Array.from(e,(t=>{const[e,n]=v(t),r=+c[t],o=r/f,a=r/d,s=[e-o,n-a],l=[e+o,n+a];return[i.map(p(s,t)),i.map(p(l,t))]})):Array.from(e,(t=>[i.map(p(v(t),t))]));return[e,g]},Pv=["hollow","hollowDiamond","hollowHexagon","hollowSquare","hollowTriangleDown","hollowTriangle","hollowBowtie","point","plus","diamond","square","triangle","hexagon","cross","bowtie","hyphen","line","tick","triangleDown"];Lv.props={defaultShape:"hollow",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:Pv}),{name:"x",required:!0},{name:"y",required:!0},{name:"series",scale:"band"},{name:"size",scale:"sqrt"},{name:"dx",scale:"identity"},{name:"dy",scale:"identity"}],preInference:[...Hp(),{type:"maybeZeroY"},{type:"maybeZeroX"}],postInference:[...$p(),{type:"maybeSize"},...Dp()]};const Rv=t=>{const{cartesian:e=!1}=t;return e?Up:(e,n,r,i)=>{const{x:o,y:a}=r,s=Vp(n,r,t),l=Array.from(e,(t=>{const e=[+o[t],+a[t]];return[i.map(s(e,t))]}));return[e,l]}},Iv=["text","badge"];Rv.props={defaultShape:"text",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:Iv}),{name:"x",required:!0},{name:"y",required:!0},{name:"text",scale:"identity"},{name:"fontSize"},{name:"rotate"}],preInference:[...Hp(),{type:"maybeTuple"},{type:"maybeVisualPosition"}],postInference:[...$p(),...Dp()]};const Nv=()=>(t,e,n,r)=>{const{x:i,y:o}=n,a=e.x,s=e.y,l=Array.from(t,(t=>{const e=a.getBandWidth(a.invert(+i[t])),n=s.getBandWidth(s.invert(+o[t])),l=+i[t],c=+o[t],u=[l,c],h=[l+e,c],f=[l+e,c+n],d=[l,c+n];return[u,h,f,d].map((t=>r.map(t)))}));return[t,l]},jv=["cell","hollow"];Nv.props={defaultShape:"cell",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:jv}),{name:"x",required:!0,scale:"band"},{name:"y",required:!0,scale:"band"}],preInference:[...Hp(),{type:"maybeZeroX"},{type:"maybeZeroY"},{type:"maybeZeroPadding"}],postInference:[...$p(),...Dp()]};const Bv=()=>(t,e,n,r)=>{var i,o;const{x:a,y:s,y1:l,series:c}=n,{x:u,y:h}=e,f=c?Array.from(cv(t,(t=>c[t])).values()):[t],d=f.map((t=>t[0])).filter((t=>void 0!==t)),p=((null===(i=null===u||void 0===u?void 0:u.getBandWidth)||void 0===i?void 0:i.call(u))||0)/2,v=((null===(o=null===h||void 0===h?void 0:h.getBandWidth)||void 0===o?void 0:o.call(h))||0)/2,g=Array.from(f,(t=>{const e=t.length,n=new Array(2*e);for(let i=0;i<t.length;i++){const o=t[i];n[i]=r.map([+a[o]+p,+s[o]+v]),n[e+i]=r.map([+a[o]+p,+l[o]+v])}return n}));return[d,g,f]},Dv=["area","smooth","hvh","hv","vh"];Bv.props={defaultShape:"area",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:Dv}),{name:"x",required:!0},{name:"y",required:!0},{name:"size"},{name:"series",scale:"identity"}],preInference:[...Hp(),{type:"maybeSeries"},{type:"maybeZeroY1"},{type:"maybeZeroPadding"}],postInference:[...$p(),...Fp()],interaction:{shareTooltip:!0,seriesTooltip:!0,crosshairs:!0}};const Fv=t=>(e,n,r,i)=>{const{x:o,y:a,x1:s=o,y1:l=a}=r,c=Vp(n,r,t),u=e.map((t=>[i.map(c([+o[t],+a[t]],t)),i.map(c([+s[t],+l[t]],t))]));return[e,u]},zv=["link","arc","vhv","smooth"];Fv.props={defaultShape:"link",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:zv}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Hp(),{type:"maybeIdentityY"},{type:"maybeIdentityX"}],postInference:[...$p(),...Dp()]};const Wv=t=>{const{cartesian:e}=t;return e?Up:(e,n,r,i)=>{const{x:o,y:a}=r,s=Vp(n,r,t),l=Array.from(e,(t=>{const e=[+o[t],+a[t]];return[i.map(s(e,t))]}));return[e,l]}},Hv=["image"];Wv.props={defaultShape:"image",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:Hv}),{name:"x",required:!0},{name:"y",required:!0},{name:"src",scale:"identity"},{name:"size"}],preInference:[...Hp(),{type:"maybeTuple"},{type:"maybeVisualPosition"}],postInference:[...$p(),...Dp()]};const $v=()=>(t,e,n,r)=>{const i=Object.entries(n).filter((([t])=>t.startsWith("x"))).map((([,t])=>t)),o=Object.entries(n).filter((([t])=>t.startsWith("y"))).map((([,t])=>t)),a=t.map((t=>{const e=[];for(let n=0;n<i.length;n++){const a=i[n][t];if(void 0===a)break;const s=o[n][t];e.push(r.map([+a,+s]))}return e}));return[t,a]},Gv=["polygon","ribbon"];$v.props={defaultShape:"polygon",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:Gv}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Hp()],postInference:[...$p(),...Dp()]};const Vv=()=>(t,e,n,r)=>{const{x:i,y:o,y1:a,y2:s,y3:l,y4:c,series:u}=n,h=e.x,f=e.series,d=Array.from(t,(t=>{const e=h.getBandWidth(h.invert(+i[t])),n=f?f.getBandWidth(f.invert(+(null===u||void 0===u?void 0:u[t]))):1,d=e*n,p=(+(null===u||void 0===u?void 0:u[t])||0)*e,v=+i[t]+p+d/2,[g,y,m,b,x]=[+o[t],+a[t],+s[t],+l[t],+c[t]],w=[[v-d/2,x],[v+d/2,x],[v,x],[v,b],[v-d/2,b],[v+d/2,b],[v+d/2,y],[v-d/2,y],[v-d/2,m],[v+d/2,m],[v,y],[v,g],[v-d/2,g],[v+d/2,g]];return w.map((t=>r.map(t)))}));return[t,d]};Vv.props={defaultShape:"box",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:["box"]}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"series",scale:"band"}],preInference:[...Hp(),{type:"maybeZeroX"}],postInference:[...$p(),...Fp()],interaction:{shareTooltip:!0}};const Yv=()=>(t,e,n,r)=>{const{x:i,y:o,size:a,rotate:s}=n,[l,c]=r.getSize(),u=t.map((t=>{const e=+s[t]/180*Math.PI,n=+a[t],u=n/l,h=n/c,f=u*Math.cos(e),d=-h*Math.sin(e);return[r.map([+i[t]-f/2,+o[t]-d/2]),r.map([+i[t]+f/2,+o[t]+d/2])]}));return[t,u]},Uv=["vector"];Yv.props={defaultShape:"vector",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:Uv}),{name:"x",required:!0},{name:"y",required:!0},{name:"rotate",required:!0,scale:"identity"},{name:"size",required:!0}],preInference:[...Hp()],postInference:[...$p(),...Dp()]};const Xv=()=>(t,e,n,r)=>{const{y:i}=n,o=Array.from(t,(t=>{const e=[0,i[t]],n=[1,i[t]];return[e,n].map((t=>r.map(t)))}));return[t,o]},qv=["line"];Xv.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,channels:[...Wp({shapes:qv}),{name:"y",required:!0}],preInference:[...Hp(),{type:"maybeTupleY"}],postInference:[...$p()]};const Kv=()=>(t,e,n,r)=>{const{x:i}=n,o=Array.from(t,(t=>{const e=[i[t],1],n=[i[t],0];return[e,n].map((t=>r.map(t)))}));return[t,o]},Zv=["line"];Kv.props={defaultShape:"line",defaultLabelShape:"label",composite:!1,channels:[...Wp({shapes:Zv}),{name:"x",required:!0}],preInference:[...Hp(),{type:"maybeTupleX"}],postInference:[...$p()]};const Qv=(...t)=>Fv(...t),Jv=["connector"];function tg(t,e,n,r){if(e)return()=>[0,1];const{[t]:i,[`${t}1`]:o}=n;return t=>{var e;const n=(null===(e=r.getBandWidth)||void 0===e?void 0:e.call(r,r.invert(+o[t])))||0;return[i[t],o[t]+n]}}function eg(t={}){const{extendX:e=!1,extendY:n=!1}=t;return(t,r,i,o)=>{const a=tg("x",e,i,r.x),s=tg("y",n,i,r.y),l=Array.from(t,(t=>{const[e,n]=a(t),[r,i]=s(t),l=[e,r],c=[n,r],u=[n,i],h=[e,i];return[l,c,u,h].map((t=>o.map(t)))}));return[t,l]}}Qv.props={defaultShape:"connector",defaultLabelShape:"label",composite:!1,channels:[...Wp({shapes:Jv}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Hp()],postInference:[...$p()]};const ng=()=>eg(),rg=["range"];ng.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,channels:[...Wp({shapes:rg}),{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Hp()],postInference:[...$p()]};const ig=()=>eg({extendY:!0}),og=["range"];ig.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,channels:[...Wp({shapes:og}),{name:"x",required:!0}],preInference:[...Hp()],postInference:[...$p()]};const ag=()=>eg({extendX:!0}),sg=["range"];function lg(t,e){let n=0;if(void 0===e)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function cg(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function ug(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function hg(t){return t.target.depth}function fg(t){return t.depth}function dg(t,e){return e-1-t.height}function pg(t,e){return t.sourceLinks.length?t.depth:e-1}function vg(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?ug(t.sourceLinks,hg)-1:0}function gg(t){return function(){return t}}function yg(t,e){return bg(t.source,e.source)||t.index-e.index}function mg(t,e){return bg(t.target,e.target)||t.index-e.index}function bg(t,e){return t.y0-e.y0}function xg(t){return t.value}function wg(t){return t.index}function Og(t){return t.nodes}function Cg(t){return t.links}function Sg(t,e){const n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function _g({nodes:t}){for(const e of t){let t=e.y0,n=t;for(const r of e.sourceLinks)r.y0=t+r.width/2,t+=r.width;for(const r of e.targetLinks)r.y1=n+r.width/2,n+=r.width}}function Eg(){let t,e,n,r,i=0,o=0,a=1,s=1,l=24,c=8,u=wg,h=pg,f=Og,d=Cg,p=6;function v(t){const e={nodes:f(t),links:d(t)};return g(e),y(e),m(e),b(e),O(e),_g(e),e}function g({nodes:t,links:e}){t.forEach(((t,e)=>{t.index=e,t.sourceLinks=[],t.targetLinks=[]}));const n=new Map(t.map((t=>[u(t),t])));if(e.forEach(((t,e)=>{t.index=e;let{source:r,target:i}=t;"object"!==typeof r&&(r=t.source=Sg(n,r)),"object"!==typeof i&&(i=t.target=Sg(n,i)),r.sourceLinks.push(t),i.targetLinks.push(t)})),null!=r)for(const{sourceLinks:i,targetLinks:o}of t)i.sort(r),o.sort(r)}function y({nodes:t}){for(const e of t)e.value=void 0===e.fixedValue?Math.max(lg(e.sourceLinks,xg),lg(e.targetLinks,xg)):e.fixedValue}function m({nodes:t}){const n=t.length;let r=new Set(t),i=new Set,o=0;while(r.size){if(r.forEach((t=>{t.depth=o;for(const{target:e}of t.sourceLinks)i.add(e)})),++o>n)throw new Error("circular link");r=i,i=new Set}if(e){const n=Math.max(cg(t,(t=>t.depth))+1,0);let r;for(let i=0;i<t.length;i++)r=t[i],r.depth=e.call(null,r,n)}}function b({nodes:t}){const e=t.length;let n=new Set(t),r=new Set,i=0;while(n.size){if(n.forEach((t=>{t.height=i;for(const{source:e}of t.targetLinks)r.add(e)})),++i>e)throw new Error("circular link");n=r,r=new Set}}function x({nodes:t}){const e=Math.max(cg(t,(t=>t.depth))+1,0),r=(a-i-l)/(e-1),o=new Array(e).fill(0).map((()=>[]));for(const n of t){const t=Math.max(0,Math.min(e-1,Math.floor(h.call(null,n,e))));n.layer=t,n.x0=i+t*r,n.x1=n.x0+l,o[t]?o[t].push(n):o[t]=[n]}if(n)for(const i of o)i.sort(n);return o}function w(e){const n=ug(e,(e=>(s-o-(e.length-1)*t)/lg(e,xg)));for(const r of e){let e=o;for(const i of r){i.y0=e,i.y1=e+i.value*n,e=i.y1+t;for(const t of i.sourceLinks)t.width=t.value*n}e=(s-e+t)/(r.length+1);for(let t=0;t<r.length;++t){const n=r[t];n.y0+=e*(t+1),n.y1+=e*(t+1)}T(r)}}function O(e){const n=x(e);t=Math.min(c,(s-o)/(cg(n,(t=>t.length))-1)),w(n);for(let t=0;t<p;++t){const e=Math.pow(.99,t),r=Math.max(1-e,(t+1)/p);S(n,e,r),C(n,e,r)}}function C(t,e,r){for(let i=1,o=t.length;i<o;++i){const o=t[i];for(const t of o){let n=0,r=0;for(const{source:e,value:o}of t.targetLinks){const i=o*(t.layer-e.layer);n+=A(e,t)*i,r+=i}if(!(r>0))continue;const i=(n/r-t.y0)*e;t.y0+=i,t.y1+=i,k(t)}void 0===n&&o.sort(bg),o.length&&_(o,r)}}function S(t,e,r){for(let i=t.length,o=i-2;o>=0;--o){const i=t[o];for(const t of i){let n=0,r=0;for(const{target:e,value:o}of t.sourceLinks){const i=o*(e.layer-t.layer);n+=L(t,e)*i,r+=i}if(!(r>0))continue;const i=(n/r-t.y0)*e;t.y0+=i,t.y1+=i,k(t)}void 0===n&&i.sort(bg),i.length&&_(i,r)}}function _(e,n){const r=e.length>>1,i=e[r];M(e,i.y0-t,r-1,n),E(e,i.y1+t,r+1,n),M(e,s,e.length-1,n),E(e,o,0,n)}function E(e,n,r,i){for(;r<e.length;++r){const o=e[r],a=(n-o.y0)*i;a>1e-6&&(o.y0+=a,o.y1+=a),n=o.y1+t}}function M(e,n,r,i){for(;r>=0;--r){const o=e[r],a=(o.y1-n)*i;a>1e-6&&(o.y0-=a,o.y1-=a),n=o.y0-t}}function k({sourceLinks:t,targetLinks:e}){if(void 0===r){for(const{source:{sourceLinks:t}}of e)t.sort(mg);for(const{target:{targetLinks:e}}of t)e.sort(yg)}}function T(t){if(void 0===r)for(const{sourceLinks:e,targetLinks:n}of t)e.sort(mg),n.sort(yg)}function A(e,n){let r=e.y0-(e.sourceLinks.length-1)*t/2;for(const{target:i,width:o}of e.sourceLinks){if(i===n)break;r+=o+t}for(const{source:t,width:i}of n.targetLinks){if(t===e)break;r-=i}return r}function L(e,n){let r=n.y0-(n.targetLinks.length-1)*t/2;for(const{source:i,width:o}of n.targetLinks){if(i===e)break;r+=o+t}for(const{target:t,width:i}of e.sourceLinks){if(t===n)break;r-=i}return r}return v.update=function(t){return _g(t),t},v.nodeId=function(t){return arguments.length?(u="function"===typeof t?t:gg(t),v):u},v.nodeAlign=function(t){return arguments.length?(h="function"===typeof t?t:gg(t),v):h},v.nodeDepth=function(t){return arguments.length?(e=t,v):e},v.nodeSort=function(t){return arguments.length?(n=t,v):n},v.nodeWidth=function(t){return arguments.length?(l=+t,v):l},v.nodePadding=function(e){return arguments.length?(c=t=+e,v):c},v.nodes=function(t){return arguments.length?(f="function"===typeof t?t:gg(t),v):f},v.links=function(t){return arguments.length?(d="function"===typeof t?t:gg(t),v):d},v.linkSort=function(t){return arguments.length?(r=t,v):r},v.size=function(t){return arguments.length?(i=o=0,a=+t[0],s=+t[1],v):[a-i,s-o]},v.extent=function(t){return arguments.length?(i=+t[0][0],a=+t[1][0],o=+t[0][1],s=+t[1][1],v):[[i,o],[a,s]]},v.iterations=function(t){return arguments.length?(p=+t,v):p},v}ag.props={defaultShape:"range",defaultLabelShape:"label",composite:!1,channels:[...Wp({shapes:sg}),{name:"y",required:!0}],preInference:[...Hp()],postInference:[...$p()]};const Mg={nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodes:t=>t.nodes,links:t=>t.links,nodeSort:void 0,linkSort:void 0,iterations:6},kg={left:fg,right:dg,center:vg,justify:pg};function Tg(t){const e=typeof t;return"string"===e?kg[t]||pg:"function"===e?t:pg}const Ag=t=>e=>{const{nodeId:n,nodeSort:r,nodeAlign:i,nodeWidth:o,nodePadding:a,nodeDepth:s,nodes:l,links:c,linkSort:u,iterations:h}=Object.assign({},Mg,t),f=Eg().nodeSort(r).linkSort(u).links(c).nodes(l).nodeWidth(o).nodePadding(a).nodeDepth(s).nodeAlign(Tg(i)).iterations(h).extent([[0,0],[1,1]]);"function"===typeof n&&f.nodeId(n);const d=f(e),{nodes:p,links:v}=d,g=p.map((t=>{const{x0:e,x1:n,y0:r,y1:i}=t;return Object.assign(Object.assign({},t),{x:[e,n,n,e],y:[r,r,i,i]})})),y=v.map((t=>{const{source:e,target:n}=t,r=e.x1,i=n.x0,o=t.width/2;return Object.assign(Object.assign({},t),{x:[r,r,i,i],y:[t.y0+o,t.y0-o,t.y1+o,t.y1-o]})}));return{nodes:g,links:y}};Ag.props={};var Lg=function(t){return ye(t)?"":t.toString()},Pg=function(t){var e=Lg(t);return e.charAt(0).toLowerCase()+e.substring(1)},Rg=Pg,Ig=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))};function Ng(t){return t}function jg(t){return t.reduce(((t,e)=>(n,...r)=>e(t(n,...r),...r)),Ng)}function Bg(t){return t.reduce(((t,e)=>n=>Ig(this,void 0,void 0,(function*(){const r=yield t(n);return e(r)}))),Ng)}function Dg(t){return t.replace(/( |^)[a-z]/g,(t=>t.toUpperCase()))}function Fg(t=""){throw new Error(t)}function zg(t,e){const{attributes:n}=e,r=new Set(["id","className"]);for(const[i,o]of Object.entries(n))r.has(i)||t.attr(i,o)}function Wg(t){return void 0!==t&&null!==t&&!Number.isNaN(t)}function Hg(t){const e=new Map;return n=>{if(e.has(n))return e.get(n);const r=t(n);return e.set(n,r),r}}function $g(t,e){const{transform:n}=t.style,r=t=>"none"===t||void 0===t,i=r(n)?"":n;t.style.transform=`${i} ${e}`.trimStart()}function Gg(t,e){return Vg(t,e)||{}}function Vg(t,e){const n=Object.entries(t||{}).filter((([t])=>t.startsWith(e))).map((([t,n])=>[Rg(t.replace(e,"").trim()),n])).filter((([t])=>!!t));return 0===n.length?null:Object.fromEntries(n)}function Yg(t,e){return Object.fromEntries(Object.entries(t).filter((([t])=>e.find((e=>t.startsWith(e))))))}function Ug(t,...e){return Object.fromEntries(Object.entries(t).filter((([t])=>e.every((e=>!t.startsWith(e))))))}function Xg(t,e){if(void 0===t)return null;if("number"===typeof t)return t;const n=+t.replace("%","");return Number.isNaN(n)?null:n/100*e}function qg(t){return"object"===typeof t&&!(t instanceof Date)&&null!==t&&!Array.isArray(t)}function Kg(t){return null===t||!1===t}function Zg(t,e,n=5,r=0){if(!(r>=n)){for(const i of Object.keys(e)){const o=e[i];Pd(o)&&Pd(t[i])?Zg(t[i],o,n,r+1):t[i]=o}return t}}function Qg(t,e,n={},r=!1){if(Kg(t))return t;if(Array.isArray(t)&&r)return t;const i=Gg(t,e);return Bd(n,i)}function Jg(t,e={}){return Kg(t)||Array.isArray(t)?t:ty(t)?Bd(e,t):t}function ty(t){if(0===Object.keys(t).length)return!0;const{title:e,items:n}=t;return void 0!==e||void 0!==n}function ey(t,e){return"object"===typeof t?Gg(t,e):t}var ny=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const ry={nodeId:t=>t.key,nodeWidth:.02,nodePadding:.02},iy={type:"polygon",axis:!1,legend:!1,encode:{shape:"polygon",x:"x",y:"y"},scale:{x:{type:"identity"},y:{type:"identity"}},style:{stroke:"#000"}},oy={type:"polygon",axis:!1,legend:!1,encode:{shape:"ribbon",x:"x",y:"y"},style:{fillOpacity:.5,stroke:void 0}},ay={textAlign:t=>t.x[0]<.5?"start":"end",position:t=>t.x[0]<.5?"right":"left",fontSize:10},sy=t=>{const{data:e,encode:n={},scale:r,style:i={},layout:o={},nodeLabels:a=[],linkLabels:s=[],animate:l={},tooltip:c={}}=t,{links:u,nodes:h}=Kp(e,n),f=Gg(n,"node"),d=Gg(n,"link"),{key:p=(t=>t.key),color:v=p}=f,{links:g,nodes:y}=Ag(Object.assign(Object.assign(Object.assign({},ry),{nodeId:Xp(p)}),o))({links:u,nodes:h}),m=Gg(i,"label"),{text:b=p,spacing:x=5}=m,w=ny(m,["text","spacing"]),O=Xp(p),C=Qg(c,"node",{title:O,items:[{field:"value"}]},!0),S=Qg(c,"link",{title:"",items:[t=>({name:"source",value:O(t.source)}),t=>({name:"target",value:O(t.target)})]});return[Bd({},iy,{data:y,encode:Object.assign(Object.assign({},f),{color:v}),scale:r,style:Gg(i,"node"),labels:[Object.assign(Object.assign(Object.assign({},ay),{text:b,dx:t=>t.x[0]<.5?x:-x}),w),...a],tooltip:C,animate:ey(l,"node"),axis:!1}),Bd({},oy,{data:g,encode:d,labels:s,style:Object.assign({fill:d.color?void 0:"#aaa",strokeWidth:0},Gg(i,"link")),tooltip:S,animate:ey(l,"link")})]};sy.props={};const ly=t=>(t,e,n,r)=>[t,t.map((()=>[[0,0]]))],cy=["path","hollow"];function uy(t,e,n,r,i){var o,a,s=t.children,l=s.length,c=new Array(l+1);for(c[0]=a=o=0;o<l;++o)c[o+1]=a+=s[o].value;function u(t,e,n,r,i,o,a){if(t>=e-1){var l=s[t];return l.x0=r,l.y0=i,l.x1=o,void(l.y1=a)}var h=c[t],f=n/2+h,d=t+1,p=e-1;while(d<p){var v=d+p>>>1;c[v]<f?d=v+1:p=v}f-c[d-1]<c[d]-f&&t+1<d&&--d;var g=c[d]-h,y=n-g;if(o-r>a-i){var m=n?(r*y+o*g)/n:o;u(t,d,g,r,i,m,a),u(d,e,y,m,i,o,a)}else{var b=n?(i*y+a*g)/n:a;u(t,d,g,r,i,o,b),u(d,e,y,r,b,o,a)}}u(0,l,t.value,e,n,r,i)}function hy(t,e,n,r,i){var o,a=t.children,s=-1,l=a.length,c=t.value&&(r-e)/t.value;while(++s<l)o=a[s],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c}function fy(t,e,n,r,i){var o,a=t.children,s=-1,l=a.length,c=t.value&&(i-n)/t.value;while(++s<l)o=a[s],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c}function dy(t,e,n,r,i){(1&t.depth?fy:hy)(t,e,n,r,i)}ly.props={defaultShape:"path",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:cy}),{name:"d",scale:"identity"}],preInference:[...Hp()],postInference:[...$p()]};var py=(1+Math.sqrt(5))/2;function vy(t,e,n,r,i,o){var a,s,l,c,u,h,f,d,p,v,g,y=[],m=e.children,b=0,x=0,w=m.length,O=e.value;while(b<w){l=i-n,c=o-r;do{u=m[x++].value}while(!u&&x<w);for(h=f=u,v=Math.max(c/l,l/c)/(O*t),g=u*u*v,p=Math.max(f/g,g/h);x<w;++x){if(u+=s=m[x].value,s<h&&(h=s),s>f&&(f=s),g=u*u*v,d=Math.max(f/g,g/h),d>p){u-=s;break}p=d}y.push(a={value:u,dice:l<c,children:m.slice(b,x)}),a.dice?hy(a,n,r,i,O?r+=c*u/O:o):fy(a,n,r,O?n+=l*u/O:i,o),O-=u,b=x}return y}var gy=function t(e){function n(t,n,r,i,o){vy(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(py),yy=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e){var a,s,l,c,u,h=-1,f=a.length,d=t.value;while(++h<f){for(s=a[h],l=s.children,c=s.value=0,u=l.length;c<u;++c)s.value+=l[c].value;s.dice?hy(s,n,r,i,d?r+=(o-r)*s.value/d:o):fy(s,n,r,d?n+=(i-n)*s.value/d:i,o),d-=s.value}}else t._squarify=a=vy(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(py);function my(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function by(){return 0}function xy(t){return function(){return t}}function wy(){var t=gy,e=!1,n=1,r=1,i=[0],o=by,a=by,s=by,l=by,c=by;function u(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(h),i=[0],e&&t.eachBefore(my),t}function h(e){var n=i[e.depth],r=e.x0+n,u=e.y0+n,h=e.x1-n,f=e.y1-n;h<r&&(r=h=(r+h)/2),f<u&&(u=f=(u+f)/2),e.x0=r,e.y0=u,e.x1=h,e.y1=f,e.children&&(n=i[e.depth+1]=o(e)/2,r+=c(e)-n,u+=a(e)-n,h-=s(e)-n,f-=l(e)-n,h<r&&(r=h=(r+h)/2),f<u&&(u=f=(u+f)/2),t(e,r,u,h,f))}return u.round=function(t){return arguments.length?(e=!!t,u):e},u.size=function(t){return arguments.length?(n=+t[0],r=+t[1],u):[n,r]},u.tile=function(e){return arguments.length?(t=ip(e),u):t},u.padding=function(t){return arguments.length?u.paddingInner(t).paddingOuter(t):u.paddingInner()},u.paddingInner=function(t){return arguments.length?(o="function"===typeof t?t:xy(+t),u):o},u.paddingOuter=function(t){return arguments.length?u.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):u.paddingTop()},u.paddingTop=function(t){return arguments.length?(a="function"===typeof t?t:xy(+t),u):a},u.paddingRight=function(t){return arguments.length?(s="function"===typeof t?t:xy(+t),u):s},u.paddingBottom=function(t){return arguments.length?(l="function"===typeof t?t:xy(+t),u):l},u.paddingLeft=function(t){return arguments.length?(c="function"===typeof t?t:xy(+t),u):c},u}var Oy=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Cy(t,e){const n={treemapBinary:uy,treemapDice:hy,treemapSlice:fy,treemapSliceDice:dy,treemapSquarify:gy,treemapResquarify:yy},r="treemapSquarify"===t?n[t].ratio(e):n[t];if(!r)throw new TypeError("Invalid tile method!");return r}function Sy(t,e,n){const{value:r}=n,i=Cy(e.tile,e.ratio),o=Zp(t,e.path);return r?o.sum((t=>e.ignoreParentValue&&t.children?0:Xp(r)(t))).sort(e.sort):o.count(),wy().tile(i).size(e.size).round(e.round).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(o),o.descendants().map((t=>Object.assign(t,{x:[t.x0,t.x1],y:[t.y0,t.y1]}))).filter("function"===typeof e.layer?e.layer:t=>t.height===e.layer)}const _y=(t,e)=>({tile:"treemapSquarify",ratio:.5*(1+Math.sqrt(5)),size:[t,e],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,sort:(t,e)=>e.value-t.value,layer:0}),Ey=(t,e)=>({type:"rect",axis:!1,encode:{x:"x",y:"y",color:t=>t.data.parent.name},scale:{x:{domain:[0,t],range:[0,1]},y:{domain:[0,e],range:[0,1]}},style:{stroke:"#fff"}}),My={fontSize:10,text:t=>t.data.name,position:"inside",fill:"#000",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:t=>t.x1-t.x0},ky={title:t=>t.data.name,items:[{field:"value"}]},Ty=(t,e)=>{const{width:n,height:r}=e,{data:i,encode:o={},scale:a,style:s={},layout:l={},labels:c=[],tooltip:u={}}=t,h=Oy(t,["data","encode","scale","style","layout","labels","tooltip"]),f=Sy(i,Bd({},_y(n,r),l),o),d=Gg(s,"label");return Bd({},Ey(n,r),Object.assign(Object.assign({data:f,encode:o,scale:a,style:s,labels:[Object.assign(Object.assign({},My),d),...c]},h),{tooltip:Jg(u,ky),axis:!1}))};Ty.props={};const Ay=1664525,Ly=1013904223,Py=4294967296;function Ry(){let t=1;return()=>(t=(Ay*t+Ly)%Py)/Py}function Iy(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function Ny(t,e){let n,r,i=t.length;while(i)r=e()*i--|0,n=t[i],t[i]=t[r],t[r]=n;return t}function jy(t,e){var n,r,i=0,o=(t=Ny(Array.from(t),e)).length,a=[];while(i<o)n=t[i],r&&Fy(r,n)?++i:(r=Wy(a=By(a,n)),i=0);return r}function By(t,e){var n,r;if(zy(e,t))return[e];for(n=0;n<t.length;++n)if(Dy(e,t[n])&&zy($y(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Dy($y(t[n],t[r]),e)&&Dy($y(t[n],e),t[r])&&Dy($y(t[r],e),t[n])&&zy(Gy(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Dy(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Fy(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function zy(t,e){for(var n=0;n<e.length;++n)if(!Fy(t,e[n]))return!1;return!0}function Wy(t){switch(t.length){case 1:return Hy(t[0]);case 2:return $y(t[0],t[1]);case 3:return Gy(t[0],t[1],t[2])}}function Hy(t){return{x:t.x,y:t.y,r:t.r}}function $y(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,l=o-n,c=a-r,u=s-i,h=Math.sqrt(l*l+c*c);return{x:(n+o+l/h*u)/2,y:(r+a+c/h*u)/2,r:(h+i+s)/2}}function Gy(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,l=e.r,c=n.x,u=n.y,h=n.r,f=r-a,d=r-c,p=i-s,v=i-u,g=l-o,y=h-o,m=r*r+i*i-o*o,b=m-a*a-s*s+l*l,x=m-c*c-u*u+h*h,w=d*p-f*v,O=(p*x-v*b)/(2*w)-r,C=(v*g-p*y)/w,S=(d*b-f*x)/(2*w)-i,_=(f*y-d*g)/w,E=C*C+_*_-1,M=2*(o+O*C+S*_),k=O*O+S*S-o*o,T=-(Math.abs(E)>1e-6?(M+Math.sqrt(M*M-4*E*k))/(2*E):k/M);return{x:r+O+C*T,y:i+S+_*T,r:T}}function Vy(t,e,n){var r,i,o,a,s=t.x-e.x,l=t.y-e.y,c=s*s+l*l;c?(i=e.r+n.r,i*=i,a=t.r+n.r,a*=a,i>a?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),n.x=t.x-r*s-o*l,n.y=t.y-r*l+o*s):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),n.x=e.x+r*s-o*l,n.y=e.y+r*l+o*s)):(n.x=e.x+n.r,n.y=e.y)}function Yy(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Uy(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function Xy(t){this._=t,this.next=null,this.previous=null}function qy(t,e){if(!(o=(t=Iy(t)).length))return 0;var n,r,i,o,a,s,l,c,u,h,f;if(n=t[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;Vy(r,n,i=t[2]),n=new Xy(n),r=new Xy(r),i=new Xy(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(l=3;l<o;++l){Vy(n._,r._,i=t[l]),i=new Xy(i),c=r.next,u=n.previous,h=r._.r,f=n._.r;do{if(h<=f){if(Yy(c._,i._)){r=c,n.next=r,r.previous=n,--l;continue t}h+=c._.r,c=c.next}else{if(Yy(u._,i._)){n=u,n.next=r,r.previous=n,--l;continue t}f+=u._.r,u=u.previous}}while(c!==u.next);i.previous=n,i.next=r,n.next=r.previous=r=i,a=Uy(n);while((i=i.next)!==r)(s=Uy(i))<a&&(n=i,a=s);r=n.next}n=[r._],i=r;while((i=i.next)!==r)n.push(i._);for(i=jy(n,e),l=0;l<o;++l)n=t[l],n.x-=i.x,n.y-=i.y;return i.r}function Ky(t){return Math.sqrt(t.value)}function Zy(){var t=null,e=1,n=1,r=by;function i(i){const o=Ry();return i.x=e/2,i.y=n/2,t?i.eachBefore(Qy(t)).eachAfter(Jy(r,.5,o)).eachBefore(tm(1)):i.eachBefore(Qy(Ky)).eachAfter(Jy(by,1,o)).eachAfter(Jy(r,i.r/Math.min(e,n),o)).eachBefore(tm(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=rp(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"===typeof t?t:xy(+t),i):r},i}function Qy(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Jy(t,e,n){return function(r){if(i=r.children){var i,o,a,s=i.length,l=t(r)*e||0;if(l)for(o=0;o<s;++o)i[o].r+=l;if(a=qy(i,n),l)for(o=0;o<s;++o)i[o].r-=l;r.r=a+l}}}function tm(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var em=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const nm=(t,e)=>({size:[t,e],padding:0,sort:(t,e)=>e.value-t.value}),rm=(t,e,n)=>({type:"point",axis:!1,legend:!1,scale:{x:{domain:[0,t]},y:{domain:[0,e]},size:{type:"identity"}},encode:{x:"x",y:"y",size:"r",shape:"point"},style:{fill:n.color?void 0:t=>0===t.height?"#ddd":"#fff",stroke:n.color?void 0:t=>0===t.height?"":"#000"}}),im={text:"",position:"inside",textOverflow:"clip",wordWrap:!0,maxLines:1,wordWrapWidth:t=>2*t.r},om={title:t=>t.data.name,items:[{field:"value"}]},am=(t,e,n)=>{const{value:r}=n,i=tn(t)?Pp().path(e.path)(t):xp(t);return r?i.sum((t=>Xp(r)(t))).sort(e.sort):i.count(),Zy().size(e.size).padding(e.padding)(i),i.descendants()},sm=(t,e)=>{const{width:n,height:r}=e,{data:i,encode:o={},scale:a={},style:s={},layout:l={},labels:c=[],tooltip:u={}}=t,h=em(t,["data","encode","scale","style","layout","labels","tooltip"]),f=rm(n,r,o),d=am(i,Bd({},nm(n,r),l),Bd({},f["encode"],o)),p=Gg(s,"label");return Bd({},f,Object.assign(Object.assign({data:d,encode:o,scale:a,style:s,labels:[Object.assign(Object.assign({},im),p),...c]},h),{tooltip:Jg(u,om),axis:!1}))};function lm(t,e){let n,r=-1,i=-1;if(void 0===e)for(const o of t)++i,null!=o&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n<o||void 0===n&&o>=o)&&(n=o,r=i);return r}function cm(t,e){let n,r=-1,i=-1;if(void 0===e)for(const o of t)++i,null!=o&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);return r}function um(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hm(t,e){return Array.from(e,(e=>t[e]))}function fm(t,...e){if("function"!==typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&2!==n.length||e.length>1){const r=Uint32Array.from(t,((t,e)=>e));return e.length>1?(e=e.map((e=>t.map(e))),r.sort(((t,n)=>{for(const r of e){const e=pm(r[t],r[n]);if(e)return e}}))):(n=t.map(n),r.sort(((t,e)=>pm(n[t],n[e])))),hm(t,r)}return t.sort(dm(n))}function dm(t=um){if(t===um)return pm;if("function"!==typeof t)throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function pm(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function vm(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;i=void 0===i?pm:dm(i);while(r>n){if(r-n>600){const o=r-n+1,a=e-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1),u=Math.max(n,Math.floor(e-a*l/o+c)),h=Math.min(r,Math.floor(e+(o-a)*l/o+c));vm(t,e,u,h,i)}const o=t[e];let a=n,s=r;gm(t,n,e),i(t[r],o)>0&&gm(t,n,r);while(a<s){gm(t,a,s),++a,--s;while(i(t[a],o)<0)++a;while(i(t[s],o)>0)--s}0===i(t[n],o)?gm(t,n,s):(++s,gm(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function gm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ym(t){return null===t?NaN:+t}function*mm(t,e){if(void 0===e)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}function bm(t,e=um){let n,r=!1;if(1===e.length){let i;for(const o of t){const t=e(o);(r?um(t,i)>0:0===um(t,t))&&(n=o,i=t,r=!0)}}else for(const i of t)(r?e(i,n)>0:0===e(i,i))&&(n=i,r=!0);return n}function xm(t,e,n){if(t=Float64Array.from(mm(t,n)),(r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return ug(t);if(e>=1)return cg(t);var r,i=(r-1)*e,o=Math.floor(i),a=cg(vm(t,o).subarray(0,o+1)),s=ug(t.subarray(o+1));return a+(s-a)*(i-o)}}function wm(t,e,n=ym){if(!isNaN(e=+e)){if(r=Float64Array.from(t,((e,r)=>ym(n(t[r],r,t)))),e<=0)return cm(r);if(e>=1)return lm(r);var r,i=Uint32Array.from(t,((t,e)=>e)),o=r.length-1,a=Math.floor(o*e);return vm(i,a,0,o,((t,e)=>pm(r[t],r[e]))),a=bm(i.subarray(0,a+1),(t=>r[t])),a>=0?a:-1}}sm.props={};var Om=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Cm(t,e){return ug(t,(t=>e[t]))}function Sm(t,e){return cg(t,(t=>e[t]))}function _m(t,e){const n=2.5*Em(t,e)-1.5*km(t,e);return ug(t,(t=>e[t]>=n?e[t]:NaN))}function Em(t,e){return xm(t,.25,(t=>e[t]))}function Mm(t,e){return xm(t,.5,(t=>e[t]))}function km(t,e){return xm(t,.75,(t=>e[t]))}function Tm(t,e){const n=2.5*km(t,e)-1.5*Em(t,e);return cg(t,(t=>e[t]<=n?e[t]:NaN))}function Am(){return(t,e)=>{const{encode:n}=e,{y:r,x:i}=n,{value:o}=r,{value:a}=i,s=Array.from(cv(t,(t=>a[+t])).values()),l=s.flatMap((t=>{const e=_m(t,o),n=Tm(t,o);return t.filter((t=>o[t]<e||o[t]>n))}));return[l,e]}}const Lm=t=>{const{data:e,encode:n,style:r={},tooltip:i={},transform:o,animate:a}=t,s=Om(t,["data","encode","style","tooltip","transform","animate"]),{point:l=!0}=r,c=Om(r,["point"]),{y:u}=n,h={y:u,y1:u,y2:u,y3:u,y4:u},f={y1:Em,y2:Mm,y3:km},d=Qg(i,"box",{items:[{channel:"y",name:"min"},{channel:"y1",name:"q1"},{channel:"y2",name:"q2"},{channel:"y3",name:"q3"},{channel:"y4",name:"max"}]},!0),p=Qg(i,"point",{title:{channel:"x"},items:[{name:"outlier",channel:"y"}]});if(!l)return Object.assign({type:"box",data:e,transform:[Object.assign(Object.assign({type:"groupX",y:Cm},f),{y4:Sm})],encode:Object.assign(Object.assign({},n),h),style:c,tooltip:d},s);const v=Gg(c,"box"),g=Gg(c,"point");return[Object.assign({type:"box",data:e,transform:[Object.assign(Object.assign({type:"groupX",y:_m},f),{y4:Tm})],encode:Object.assign(Object.assign({},n),h),style:v,tooltip:d,animate:ey(a,"box")},s),{type:"point",data:e,transform:[{type:Am}],encode:n,style:Object.assign({},g),tooltip:p,animate:ey(a,"point")}]};Lm.props={};const Pm=t=>{const{cartesian:e}=t;return e?Up:(e,n,r,i)=>{const{x:o,y:a}=r,s=Vp(n,r,t),l=Array.from(e,(t=>{const e=[+o[t],+a[t]];return[i.map(s(e,t))]}));return[e,l]}};function Rm(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Im(this.cover(e,n),e,n,t)}function Im(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,l,c,u,h,f,d=t._root,p={data:r},v=t._x0,g=t._y0,y=t._x1,m=t._y1;if(!d)return t._root=p,t;while(d.length)if((c=e>=(o=(v+y)/2))?v=o:y=o,(u=n>=(a=(g+m)/2))?g=a:m=a,i=d,!(d=d[h=u<<1|c]))return i[h]=p,t;if(s=+t._x.call(null,d.data),l=+t._y.call(null,d.data),e===s&&n===l)return p.next=d,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=e>=(o=(v+y)/2))?v=o:y=o,(u=n>=(a=(g+m)/2))?g=a:m=a}while((h=u<<1|c)===(f=(l>=a)<<1|s>=o));return i[f]=d,i[h]=p,t}function Nm(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>h&&(h=i));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<o;++n)Im(this,a[n],s[n],t[n]);return this}function jm(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{var a,s,l=i-n||1,c=this._root;while(n>t||t>=i||r>e||e>=o)switch(s=(e<r)<<1|t<n,a=new Array(4),a[s]=c,c=a,l*=2,s){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l;break}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function Bm(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t}function Dm(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Fm(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function zm(t,e,n){var r,i,o,a,s,l,c,u=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],v=this._root;v&&p.push(new Fm(v,u,h,f,d)),null==n?n=1/0:(u=t-n,h=e-n,f=t+n,d=e+n,n*=n);while(l=p.pop())if(!(!(v=l.node)||(i=l.x0)>f||(o=l.y0)>d||(a=l.x1)<u||(s=l.y1)<h))if(v.length){var g=(i+a)/2,y=(o+s)/2;p.push(new Fm(v[3],g,y,a,s),new Fm(v[2],i,y,g,s),new Fm(v[1],g,o,a,y),new Fm(v[0],i,o,g,y)),(c=(e>=y)<<1|t>=g)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var m=t-+this._x.call(null,v.data),b=e-+this._y.call(null,v.data),x=m*m+b*b;if(x<n){var w=Math.sqrt(n=x);u=t-w,h=e-w,f=t+w,d=e+w,r=v.data}}return r}function Wm(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,l,c,u,h,f,d=this._root,p=this._x0,v=this._y0,g=this._x1,y=this._y1;if(!d)return this;if(d.length)while(1){if((c=o>=(s=(p+g)/2))?p=s:g=s,(u=a>=(l=(v+y)/2))?v=l:y=l,e=d,!(d=d[h=u<<1|c]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}while(d.data!==t)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)}function Hm(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function $m(){return this._root}function Gm(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t}function Vm(t){var e,n,r,i,o,a,s=[],l=this._root;l&&s.push(new Fm(l,this._x0,this._y0,this._x1,this._y1));while(e=s.pop())if(!t(l=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&l.length){var c=(r+o)/2,u=(i+a)/2;(n=l[3])&&s.push(new Fm(n,c,u,o,a)),(n=l[2])&&s.push(new Fm(n,r,u,c,a)),(n=l[1])&&s.push(new Fm(n,c,i,o,u)),(n=l[0])&&s.push(new Fm(n,r,i,c,u))}return this}function Ym(t){var e,n=[],r=[];this._root&&n.push(new Fm(this._root,this._x0,this._y0,this._x1,this._y1));while(e=n.pop()){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,l=e.x1,c=e.y1,u=(a+l)/2,h=(s+c)/2;(o=i[0])&&n.push(new Fm(o,a,s,u,h)),(o=i[1])&&n.push(new Fm(o,u,s,l,h)),(o=i[2])&&n.push(new Fm(o,a,h,u,c)),(o=i[3])&&n.push(new Fm(o,u,h,l,c))}r.push(e)}while(e=r.pop())t(e.node,e.x0,e.y0,e.x1,e.y1);return this}function Um(t){return t[0]}function Xm(t){return arguments.length?(this._x=t,this):this._x}function qm(t){return t[1]}function Km(t){return arguments.length?(this._y=t,this):this._y}function Zm(t,e,n){var r=new Qm(null==e?Um:e,null==n?qm:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Qm(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Jm(t){var e={data:t.data},n=e;while(t=t.next)n=n.next={data:t.data};return e}Pm.props={defaultShape:"shape",defaultLabelShape:"label",composite:!1,channels:[{name:"x",required:!0},{name:"y",required:!0}],preInference:[...Hp(),{type:"maybeTuple"},{type:"maybeVisualPosition"},{type:"maybeFunctionAttribute"}]};var tb=Zm.prototype=Qm.prototype;function eb(t){return function(){return t}}function nb(t){return 1e-6*(t()-.5)}tb.copy=function(){var t,e,n=new Qm(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Jm(r),n;t=[{source:r,target:n._root=new Array(4)}];while(r=t.pop())for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Jm(e));return n},tb.add=Rm,tb.addAll=Nm,tb.cover=jm,tb.data=Bm,tb.extent=Dm,tb.find=zm,tb.remove=Wm,tb.removeAll=Hm,tb.root=$m,tb.size=Gm,tb.visit=Vm,tb.visitAfter=Ym,tb.x=Xm,tb.y=Km;var rb={value:()=>{}};function ib(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new ob(r)}function ob(t){this._=t}function ab(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function sb(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function lb(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=rb,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}ob.prototype=ib.prototype={constructor:ob,on:function(t,e){var n,r=this._,i=ab(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++o<a)if(n=(t=i[o]).type)r[n]=lb(r[n],t.name,e);else if(null==e)for(n in r)r[n]=lb(r[n],t.name,null);return this}while(++o<a)if((n=(t=i[o]).type)&&(n=sb(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ob(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var cb,ub,hb=ib,fb=0,db=0,pb=0,vb=1e3,gb=0,yb=0,mb=0,bb="object"===typeof performance&&performance.now?performance:Date,xb="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function wb(){return yb||(xb(Ob),yb=bb.now()+mb)}function Ob(){yb=0}function Cb(){this._call=this._time=this._next=null}function Sb(t,e,n){var r=new Cb;return r.restart(t,e,n),r}function _b(){wb(),++fb;var t,e=cb;while(e)(t=yb-e._time)>=0&&e._call.call(void 0,t),e=e._next;--fb}function Eb(){yb=(gb=bb.now())+mb,fb=db=0;try{_b()}finally{fb=0,kb(),yb=0}}function Mb(){var t=bb.now(),e=t-gb;e>vb&&(mb-=e,gb=t)}function kb(){var t,e,n=cb,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:cb=e);ub=t,Tb(r)}function Tb(t){if(!fb){db&&(db=clearTimeout(db));var e=t-yb;e>24?(t<1/0&&(db=setTimeout(Eb,t-bb.now()-mb)),pb&&(pb=clearInterval(pb))):(pb||(gb=bb.now(),pb=setInterval(Mb,vb)),fb=1,xb(Eb))}}Cb.prototype=Sb.prototype={constructor:Cb,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?wb():+n)+(null==e?0:+e),this._next||ub===this||(ub?ub._next=this:cb=this,ub=this),this._call=t,this._time=n,Tb()},stop:function(){this._call&&(this._call=null,this._time=1/0,Tb())}};const Ab=1664525,Lb=1013904223,Pb=4294967296;function Rb(){let t=1;return()=>(t=(Ab*t+Lb)%Pb)/Pb}function Ib(t){return t.x}function Nb(t){return t.y}var jb=10,Bb=Math.PI*(3-Math.sqrt(5));function Db(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,l=Sb(h),c=hb("tick","end"),u=Rb();function h(){f(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function f(r){var l,c,u=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,s.forEach((function(t){t(n)})),l=0;l<u;++l)c=t[l],null==c.fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if(e=t[n],e.index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=jb*Math.sqrt(.5+n),o=n*Bb;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,u),e}return null==t&&(t=[]),d(),e={tick:f,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),s.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(u=t,s.forEach(p),e):u},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,l,c=0,u=t.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)s=t[c],i=e-s.x,o=n-s.y,a=i*i+o*o,a<r&&(l=s,r=a);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}function Fb(){var t,e,n,r,i,o=eb(-30),a=1,s=1/0,l=.81;function c(n){var i,o=t.length,a=Zm(t,Ib,Nb).visitAfter(h);for(r=n,i=0;i<o;++i)e=t[i],a.visit(f)}function u(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function h(t){var e,n,r,o,a,s=0,l=0;if(t.length){for(r=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,l+=n,r+=n*e.x,o+=n*e.y);t.x=r/l,t.y=o/l}else{e=t,e.x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function f(t,o,c,u){if(!t.value)return!0;var h=t.x-e.x,f=t.y-e.y,d=u-o,p=h*h+f*f;if(d*d/l<p)return p<s&&(0===h&&(h=nb(n),p+=h*h),0===f&&(f=nb(n),p+=f*f),p<a&&(p=Math.sqrt(a*p)),e.vx+=h*t.value*r/p,e.vy+=f*t.value*r/p),!0;if(!(t.length||p>=s)){(t.data!==e||t.next)&&(0===h&&(h=nb(n),p+=h*h),0===f&&(f=nb(n),p+=f*f),p<a&&(p=Math.sqrt(a*p)));do{t.data!==e&&(d=i[t.data.index]*r/p,e.vx+=h*d,e.vy+=f*d)}while(t=t.next)}}return c.initialize=function(e,r){t=e,n=r,u()},c.strength=function(t){return arguments.length?(o="function"===typeof t?t:eb(+t),u(),c):o},c.distanceMin=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.distanceMax=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.theta=function(t){return arguments.length?(l=t*t,c):Math.sqrt(l)},c}function zb(t){return t.index}function Wb(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function Hb(t){var e,n,r,i,o,a,s=zb,l=h,c=eb(30),u=1;function h(t){return 1/Math.min(i[t.source.index],i[t.target.index])}function f(r){for(var i=0,s=t.length;i<u;++i)for(var l,c,h,f,d,p,v,g=0;g<s;++g)l=t[g],c=l.source,h=l.target,f=h.x+h.vx-c.x-c.vx||nb(a),d=h.y+h.vy-c.y-c.vy||nb(a),p=Math.sqrt(f*f+d*d),p=(p-n[g])/p*r*e[g],f*=p,d*=p,h.vx-=f*(v=o[g]),h.vy-=d*v,c.vx+=f*(v=1-v),c.vy+=d*v}function d(){if(r){var a,l,c=r.length,u=t.length,h=new Map(r.map(((t,e)=>[s(t,e,r),t])));for(a=0,i=new Array(c);a<u;++a)l=t[a],l.index=a,"object"!==typeof l.source&&(l.source=Wb(h,l.source)),"object"!==typeof l.target&&(l.target=Wb(h,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(a=0,o=new Array(u);a<u;++a)l=t[a],o[a]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);e=new Array(u),p(),n=new Array(u),v()}}function p(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+l(t[n],n,t)}function v(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),f.initialize=function(t,e){r=t,a=e,d()},f.links=function(e){return arguments.length?(t=e,d(),f):t},f.id=function(t){return arguments.length?(s=t,f):s},f.iterations=function(t){return arguments.length?(u=+t,f):u},f.strength=function(t){return arguments.length?(l="function"===typeof t?t:eb(+t),p(),f):l},f.distance=function(t){return arguments.length?(c="function"===typeof t?t:eb(+t),v(),f):c},f}function $b(t,e){var n,r=1;function i(){var i,o,a=n.length,s=0,l=0;for(i=0;i<a;++i)o=n[i],s+=o.x,l+=o.y;for(s=(s/a-t)*r,l=(l/a-e)*r,i=0;i<a;++i)o=n[i],o.x-=s,o.y-=l}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i}function Gb(t){var e,n,r,i=eb(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)i=e[o],i.vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!==typeof t&&(t=eb(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"===typeof t?t:eb(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"===typeof e?e:eb(+e),a(),o):t},o}function Vb(t){var e,n,r,i=eb(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)i=e[o],i.vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!==typeof t&&(t=eb(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"===typeof t?t:eb(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"===typeof e?e:eb(+e),a(),o):t},o}var Yb=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const Ub={joint:!0},Xb={type:"link",axis:!1,legend:!1,encode:{x:[t=>t.source.x,t=>t.target.x],y:[t=>t.source.y,t=>t.target.y]},style:{stroke:"#999",strokeOpacity:.6}},qb={type:"point",axis:!1,legend:!1,encode:{x:"x",y:"y",size:5,color:"group",shape:"point"},scale:{color:{type:"ordinal"}},style:{stroke:"#fff"}},Kb={text:""};function Zb(t,e,n){const{nodes:r,links:i}=t,{joint:o,nodeStrength:a,linkStrength:s}=e,{nodeKey:l=(t=>t.id),linkKey:c=(t=>t.id)}=n,u=Fb(),h=Hb(i).id(Xp(c));"function"===typeof a&&u.strength(a),"function"===typeof s&&h.strength(s);const f=Db(r).force("link",h).force("charge",u);o?f.force("center",$b()):f.force("x",Gb()).force("y",Vb()),f.stop();const d=Math.ceil(Math.log(f.alphaMin())/Math.log(1-f.alphaDecay()));for(let p=0;p<d;p++)f.tick();return{nodesData:r,linksData:i}}const Qb=t=>{const{data:e,encode:n={},scale:r,style:i={},layout:o={},nodeLabels:a=[],linkLabels:s=[],animate:l={},tooltip:c={}}=t,{nodeKey:u=(t=>t.id),linkKey:h=(t=>t.id)}=n,f=Yb(n,["nodeKey","linkKey"]),d=Object.assign({nodeKey:u,linkKey:h},f),p=Gg(d,"node"),v=Gg(d,"link"),{links:g,nodes:y}=Kp(e,d),{nodesData:m,linksData:b}=Zb({links:g,nodes:y},Bd({},Ub,o),d),x=Qg(c,"link",{items:[t=>({name:"source",value:Xp(h)(t.source)}),t=>({name:"target",value:Xp(h)(t.target)})]}),w=Qg(c,"node",{items:[t=>({name:"key",value:Xp(u)(t)})]},!0);return[Bd({},Xb,{data:b,encode:v,labels:s,style:Gg(i,"link"),tooltip:x,animate:ey(l,"link")}),Bd({},qb,{data:m,encode:Object.assign({},p),scale:r,style:Gg(i,"node"),tooltip:w,labels:[Object.assign(Object.assign({},Kb),Gg(i,"label")),...a],animate:ey(l,"link")})]};function Jb(t,e){return t.parent===e.parent?1:2}function tx(t){var e=t.children;return e?e[0]:t.t}function ex(t){var e=t.children;return e?e[e.length-1]:t.t}function nx(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function rx(t){var e,n=0,r=0,i=t.children,o=i.length;while(--o>=0)e=i[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function ix(t,e,n){return t.a.parent===e.parent?t.a:n}function ox(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function ax(t){var e,n,r,i,o,a=new ox(t,0),s=[a];while(e=s.pop())if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new ox(r[i],i)),n.parent=e;return(a.parent=new ox(null,0)).children=[a],a}function sx(){var t=Jb,e=1,n=1,r=null;function i(i){var s=ax(i);if(s.eachAfter(o),s.parent.m=-s.z,s.eachBefore(a),r)i.eachBefore(l);else{var c=i,u=i,h=i;i.eachBefore((function(t){t.x<c.x&&(c=t),t.x>u.x&&(u=t),t.depth>h.depth&&(h=t)}));var f=c===u?1:t(c,u)/2,d=f-c.x,p=e/(u.x+f+d),v=n/(h.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*v}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){rx(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=s(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(e,n,r){if(n){var i,o=e,a=e,s=n,l=o.parent.children[0],c=o.m,u=a.m,h=s.m,f=l.m;while(s=ex(s),o=tx(o),s&&o)l=tx(l),a=ex(a),a.a=e,i=s.z+h-o.z-c+t(s._,o._),i>0&&(nx(ix(s,e,r),e,i),c+=i,u+=i),h+=s.m,c+=o.m,f+=l.m,u+=a.m;s&&!ex(a)&&(a.t=s,a.m+=h-u),o&&!tx(l)&&(l.t=o,l.m+=c-f,r=e)}return r}function l(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function lx(t,e){return t.parent===e.parent?1:2}function cx(t){return t.reduce(ux,0)/t.length}function ux(t,e){return t+e.x}function hx(t){return 1+t.reduce(fx,0)}function fx(t,e){return Math.max(t,e.y)}function dx(t){var e;while(e=t.children)t=e[0];return t}function px(t){var e;while(e=t.children)t=e[e.length-1];return t}function vx(){var t=lx,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(e){var n=e.children;n?(e.x=cx(n),e.y=hx(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var s=dx(i),l=px(i),c=s.x-t(s,l)/2,u=l.x+t(l,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-c)/(u-c)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}Qb.props={},ox.prototype=Object.create(Ep.prototype);const gx=t=>e=>n=>{const{field:r="value",nodeSize:i,separation:o,sortBy:a,as:s=["x","y"]}=e,[l,c]=s,u=xp(n,(t=>t.children)).sum((t=>t[r])).sort(a),h=t();h.size([1,1]),i&&h.nodeSize(i),o&&h.separation(o),h(u);const f=[];u.each((t=>{t[l]=t.x,t[c]=t.y,t.name=t.data.name,f.push(t)}));const d=u.links();return d.forEach((t=>{t[l]=[t.source[l],t.target[l]],t[c]=[t.source[c],t.target[c]]})),{nodes:f,edges:d}},yx=t=>gx(vx)(t);yx.props={};const mx=t=>gx(sx)(t);mx.props={};const bx={sortBy:(t,e)=>e.value-t.value},xx={axis:!1,legend:!1,type:"point",encode:{x:"x",y:"y",size:2,shape:"point"}},wx={type:"link",encode:{x:"x",y:"y",shape:"smooth"}},Ox={text:"",fontSize:10},Cx=t=>{const{data:e,encode:n={},scale:r={},style:i={},layout:o={},nodeLabels:a=[],linkLabels:s=[],animate:l={},tooltip:c={}}=t,u=null===n||void 0===n?void 0:n.value,{nodes:h,edges:f}=mx(Object.assign(Object.assign(Object.assign({},bx),o),{field:u}))(e),d=Qg(c,"node",{title:"name",items:["value"]},!0),p=Qg(c,"link",{title:"",items:[t=>({name:"source",value:t.source.name}),t=>({name:"target",value:t.target.name})]});return[Bd({},wx,{data:f,encode:Gg(n,"link"),scale:Gg(r,"link"),labels:s,style:Object.assign({stroke:"#999"},Gg(i,"link")),tooltip:p,animate:ey(l,"link")}),Bd({},xx,{data:h,scale:Gg(r,"node"),encode:Gg(n,"node"),labels:[Object.assign(Object.assign({},Ox),Gg(i,"label")),...a],style:Object.assign({},Gg(i,"node")),tooltip:d,animate:ey(l,"node")})]};Cx.props={};var Sx={},_x={},Ex=34,Mx=10,kx=13;function Tx(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function Ax(t,e){var n=Tx(t);return function(r,i){return e(n(r),i,t)}}function Lx(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function Px(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Rx(t){return t<0?"-"+Px(-t,6):t>9999?"+"+Px(t,6):Px(t,4)}function Ix(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Rx(t.getUTCFullYear(),4)+"-"+Px(t.getUTCMonth()+1,2)+"-"+Px(t.getUTCDate(),2)+(i?"T"+Px(e,2)+":"+Px(n,2)+":"+Px(r,2)+"."+Px(i,3)+"Z":r?"T"+Px(e,2)+":"+Px(n,2)+":"+Px(r,2)+"Z":n||e?"T"+Px(e,2)+":"+Px(n,2)+"Z":"")}function Nx(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var n,r,o=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?Ax(t,e):Tx(t)}));return o.columns=r||[],o}function i(t,e){var r,i=[],o=t.length,a=0,s=0,l=o<=0,c=!1;function u(){if(l)return _x;if(c)return c=!1,Sx;var e,r,i=a;if(t.charCodeAt(i)===Ex){while(a++<o&&t.charCodeAt(a)!==Ex||t.charCodeAt(++a)===Ex);return(e=a)>=o?l=!0:(r=t.charCodeAt(a++))===Mx?c=!0:r===kx&&(c=!0,t.charCodeAt(a)===Mx&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}while(a<o){if((r=t.charCodeAt(e=a++))===Mx)c=!0;else if(r===kx)c=!0,t.charCodeAt(a)===Mx&&++a;else if(r!==n)continue;return t.slice(i,e)}return l=!0,t.slice(i,o)}t.charCodeAt(o-1)===Mx&&--o,t.charCodeAt(o-1)===kx&&--o;while((r=u())!==_x){var h=[];while(r!==Sx&&r!==_x)h.push(r),r=u();e&&null==(h=e(h,s++))||i.push(h)}return i}function o(e,n){return e.map((function(e){return n.map((function(t){return u(e[t])})).join(t)}))}function a(e,n){return null==n&&(n=Lx(e)),[n.map(u).join(t)].concat(o(e,n)).join("\n")}function s(t,e){return null==e&&(e=Lx(t)),o(t,e).join("\n")}function l(t){return t.map(c).join("\n")}function c(e){return e.map(u).join(t)}function u(t){return null==t?"":t instanceof Date?Ix(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:r,parseRows:i,format:a,formatBody:s,formatRows:l,formatRow:c,formatValue:u}}function jx(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Bx&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t}const Bx=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var Dx=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))};const Fx=t=>{const{value:e,format:n=e.split(".").pop(),delimiter:r=",",autoType:i=!0}=t;return()=>Dx(void 0,void 0,void 0,(function*(){const t=yield fetch(e);if("csv"===n){const e=yield t.text();return Nx(r).parse(e,i?jx:Ng)}if("json"===n)return yield t.json();throw new Error(`Unknown format: ${n}.`)}))};function zx(t){return!t||0===Object.keys(t).length}Fx.props={};const Wx=t=>{const{fields:e,key:n="key",value:r="value"}=t;return t=>zx(e)?t:t.flatMap((t=>e.map((e=>Object.assign(Object.assign({},t),{[n]:e,[r]:t[e]})))))};function Hx(t){return void 0!==t&&null!==t&&!Number.isNaN(t)}Wx.props={};const $x=t=>{const{callback:e=Hx}=t;return t=>t.filter(e)};$x.props={};const Gx=t=>{const{callback:e}=t;return t=>Array.isArray(t)?[...t].sort(e):t};function Vx(t,e=[]){return e.reduce(((e,n)=>(n in t&&(e[n]=t[n]),e)),{})}Gx.props={};const Yx=t=>{const{fields:e}=t;return t=>t.map((t=>Vx(t,e)))};function Ux(t){return 0===Object.keys(t).length}Yx.props={};const Xx=t=>e=>{if(!t||Ux(t))return e;const n=e=>Object.entries(e).reduce(((e,[n,r])=>(e[t[n]||n]=r,e)),{});return e.map(n)};function qx(t,e){return t.map((t=>{if(Array.isArray(t)){const[n,r=e]=t;return[n,r]}return[t,e]}))}Xx.props={};const Kx=t=>{const{fields:e=[]}=t,n=qx(e,!0);return t=>{const e=(t,e)=>n.reduce(((n,[r,i=!0])=>0!==n?n:i?t[r]<e[r]?-1:+(t[r]!==e[r]):t[r]>e[r]?-1:+(t[r]!==e[r])),0);return[...t].sort(e)}};Kx.props={};const Zx=t=>{const{value:e}=t;return()=>e};Zx.props={};const Qx=t=>{const{callback:e=Ng}=t;return t=>e(t)};Qx.props={};const Jx=t=>{const{callback:e=Ng}=t;return t=>Array.isArray(t)?t.map(e):t};function tw(t,e){return e.value-t.value}function ew(t,e){return e.frequency-t.frequency}function nw(t,e){return`${t.id}`.localeCompare(`${e.id}`)}function rw(t,e){return`${t.name}`.localeCompare(`${e.name}`)}Jx.props={};const iw={y:0,thickness:.05,weight:!1,marginRatio:.1,id:t=>t.id,source:t=>t.source,target:t=>t.target,sourceWeight:t=>t.value||1,targetWeight:t=>t.value||1,sortBy:null};function ow(t){const{y:e,thickness:n,weight:r,marginRatio:o,id:a,source:s,target:l,sourceWeight:c,targetWeight:u,sortBy:h}=Object.assign(Object.assign({},iw),t);function f(t){const e=t.nodes.map((t=>Object.assign({},t))),n=t.edges.map((t=>Object.assign({},t)));return d(e,n),p(e,n),v(e,n),g(e,n),{nodes:e,edges:n}}function d(t,e){e.forEach((t=>{t.source=s(t),t.target=l(t),t.sourceWeight=c(t),t.targetWeight=u(t)}));const n=cv(e,(t=>t.source)),r=cv(e,(t=>t.target));return t.forEach((t=>{t.id=a(t);const e=n.has(t.id)?n.get(t.id):[],i=r.has(t.id)?r.get(t.id):[];t.frequency=e.length+i.length,t.value=lg(e,(t=>t.sourceWeight))+lg(i,(t=>t.targetWeight))})),{nodes:t,edges:e}}function p(t,e){const n="function"===typeof h?h:i[h];n&&t.sort(n)}function v(t,i){const a=t.length;if(!a)throw Fg("Invalid nodes: it's empty!");if(!r){const n=1/a;return t.forEach(((t,r)=>{t.x=(r+.5)*n,t.y=e})),{nodes:t,edges:i}}const s=o/(2*a),l=t.reduce(((t,e)=>t+e.value),0);return t.reduce(((t,r)=>{r.weight=r.value/l,r.width=r.weight*(1-o),r.height=n;const i=s+t,a=i+r.width,c=e-n/2,u=c+n;return r.x=[i,a,a,i],r.y=[c,c,u,u],t+r.width+2*s}),0),{nodes:t,edges:i}}function g(t,n){const i=new Map(t.map((t=>[t.id,t])));if(!r)return n.forEach((t=>{const e=s(t),n=l(t),r=i.get(e),o=i.get(n);r&&o&&(t.x=[r.x,o.x],t.y=[r.y,o.y])})),{nodes:t,edges:n};n.forEach((t=>{t.x=[0,0,0,0],t.y=[e,e,e,e]}));const o=cv(n,(t=>t.source)),a=cv(n,(t=>t.target));t.forEach((t=>{const{edges:e,width:n,x:r,y:i,value:s,id:l}=t,c=o.get(l)||[],u=a.get(l)||[];let h=0;c.map((e=>{const r=e.sourceWeight/s*n;e.x[0]=t.x[0]+h,e.x[1]=t.x[0]+h+r,h+=r})),u.forEach((e=>{const r=e.targetWeight/s*n;e.x[3]=t.x[0]+h,e.x[2]=t.x[0]+h+r,h+=r}))}))}return f}const aw=t=>e=>ow(t)(e);aw.props={};const sw=Math.PI/180,lw=64,cw=2048;function uw(t){return t.text}function hw(){return"serif"}function fw(){return"normal"}function dw(t){return t.value}function pw(){return 90*~~(2*Math.random())}function vw(){return 1}function gw(){}function yw(t,e,n,r){if(e.sprite)return;const i=t.context,o=t.ratio;i.clearRect(0,0,(lw<<5)/o,cw/o);let a=0,s=0,l=0;const c=n.length;--r;while(++r<c){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font;let t=i.measureText(e.text+"m").width*o,c=e.size<<1;if(e.rotate){const n=Math.sin(e.rotate*sw),r=Math.cos(e.rotate*sw),i=t*r,o=t*n,a=c*r,s=c*n;t=Math.max(Math.abs(i+s),Math.abs(i-s))+31>>5<<5,c=~~Math.max(Math.abs(o+a),Math.abs(o-a))}else t=t+31>>5<<5;if(c>l&&(l=c),a+t>=lw<<5&&(a=0,s+=l,l=0),s+c>=cw)break;i.translate((a+(t>>1))/o,(s+(c>>1))/o),e.rotate&&i.rotate(e.rotate*sw),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=t,e.height=c,e.xoff=a,e.yoff=s,e.x1=t>>1,e.y1=c>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,a+=t}const u=i.getImageData(0,0,(lw<<5)/o,cw/o).data,h=[];while(--r>=0){if(e=n[r],!e.hasText)continue;const t=e.width,i=t>>5;let o=e.y1-e.y0;for(let e=0;e<o*i;e++)h[e]=0;if(a=e.xoff,null==a)return;s=e.yoff;let l=0,c=-1;for(let n=0;n<o;n++){for(let e=0;e<t;e++){const t=i*n+(e>>5),r=u[(s+n)*(lw<<5)+(a+e)<<2]?1<<31-e%32:0;h[t]|=r,l|=r}l?c=n:(e.y0++,o--,n--,s++)}e.y1=e.y0+c,e.sprite=h.slice(0,(e.y1-e.y0)*i)}}function mw(t,e,n){n>>=5;const r=t.sprite,i=t.width>>5,o=t.x-(i<<4),a=127&o,s=32-a,l=t.y1-t.y0;let c,u=(t.y+t.y0)*n+(o>>5);for(let h=0;h<l;h++){c=0;for(let t=0;t<=i;t++)if((c<<s|(t<i?(c=r[h*i+t])>>>a:0))&e[u+t])return!0;u+=n}return!1}function bw(t,e){const n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function xw(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function ww(t){const e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function Ow(t){const e=4,n=e*t[0]/t[1];let r=0,i=0;return function(t){const o=t<0?-1:1;switch(Math.sqrt(1+4*o*t)-o&3){case 0:r+=n;break;case 1:i+=e;break;case 2:r-=n;break;default:i-=e;break}return[r,i]}}function Cw(t){const e=[];let n=-1;while(++n<t)e[n]=0;return e}function Sw(){return document.createElement("canvas")}function _w(t){return"function"===typeof t?t:function(){return t}}const Ew={archimedean:ww,rectangular:Ow};function Mw(){let t=[256,256],e=uw,n=hw,r=dw,i=fw,o=pw,a=vw,s=ww,l=Math.random,c=gw,u=[],h=null,f=1/0;const d=fw,p=Sw,v={};function g(t){t.width=t.height=1;const e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(lw<<5)/e,t.height=cw/e;const n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}function y(e,n,r){const i=n.x,o=n.y,a=Math.sqrt(t[0]*t[0]+t[1]*t[1]),c=s(t),u=l()<.5?1:-1;let h,f,d,p=-u;while(h=c(p+=u)){if(f=~~h[0],d=~~h[1],Math.min(Math.abs(f),Math.abs(d))>=a)break;if(n.x=i+f,n.y=o+d,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>t[0]||n.y+n.y1>t[1])&&(!r||!mw(n,e,t[0]))&&(!r||xw(n,r))){const r=n.sprite,i=n.width>>5,o=t[0]>>5,a=n.x-(i<<4),s=127&a,l=32-s,c=n.y1-n.y0;let u,h=(n.y+n.y0)*o+(a>>5);for(let t=0;t<c;t++){u=0;for(let n=0;n<=i;n++)e[h+n]|=u<<l|(n<i?(u=r[t*i+n])>>>s:0);h+=o}return delete n.sprite,!0}}return!1}return v.start=function(){const[s,m]=t,b=g(p()),x=v.board?v.board:Cw((t[0]>>5)*t[1]),w=u.length,O=[],C=u.map((function(t,s,l){return t.text=e.call(this,t,s,l),t.font=n.call(this,t,s,l),t.style=d.call(this,t,s,l),t.weight=i.call(this,t,s,l),t.rotate=o.call(this,t,s,l),t.size=~~r.call(this,t,s,l),t.padding=a.call(this,t,s,l),t})).sort((function(t,e){return e.size-t.size}));let S=-1,_=v.board?[{x:0,y:0},{x:s,y:m}]:void 0;function E(){const e=Date.now();while(Date.now()-e<f&&++S<w){const e=C[S];e.x=s*(l()+.5)>>1,e.y=m*(l()+.5)>>1,yw(b,e,C,S),e.hasText&&y(x,e,_)&&(c.call(null,"word",{cloud:v,word:e}),O.push(e),_?v.hasImage||bw(_,e):_=[{x:e.x+e.x0,y:e.y+e.y0},{x:e.x+e.x1,y:e.y+e.y1}],e.x-=t[0]>>1,e.y-=t[1]>>1)}v._tags=O,v._bounds=_,S>=w&&(v.stop(),c.call(null,"end",{cloud:v,words:O,bounds:_}))}return h&&clearInterval(h),h=setInterval(E,0),E(),v},v.stop=function(){return h&&(clearInterval(h),h=null),v},v.createMask=e=>{const n=document.createElement("canvas"),[r,i]=t;if(!r||!i)return;const o=r>>5,a=Cw((r>>5)*i);n.width=r,n.height=i;const s=n.getContext("2d");s.drawImage(e,0,0,e.width,e.height,0,0,r,i);const l=s.getImageData(0,0,r,i).data;for(let t=0;t<i;t++)for(let e=0;e<r;e++){const n=o*t+(e>>5),i=t*r+e<<2,s=l[i]>=250&&l[i+1]>=250&&l[i+2]>=250,c=s?1<<31-e%32:0;a[n]|=c}v.board=a,v.hasImage=!0},v.timeInterval=function(t){f=null==t?1/0:t},v.words=function(t){u=t},v.size=function(e=[]){t=[+e[0],+e[1]]},v.text=function(t){e=_w(t)},v.font=function(t){n=_w(t)},v.fontWeight=function(t){i=_w(t)},v.rotate=function(t){o=_w(t)},v.spiral=function(t){s=Ew[t]||t},v.fontSize=function(t){r=_w(t)},v.padding=function(t){a=_w(t)},v.random=function(t){l=_w(t)},v.on=function(t){c=_w(t)},v}var kw=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))};function Tw(t,e){return{set(n,r,i){if(void 0===e[n])return this;const o=r?r.call(null,e[n]):e[n];return i?i.call(null,o):"function"===typeof t[n]?t[n](o):t[n]=o,this},setAsync(n,r,i){return kw(this,void 0,void 0,(function*(){if(void 0===e[n])return this;const o=r?yield r.call(null,e[n]):e[n];return i?i.call(null,o):"function"===typeof t[n]?t[n](o):t[n]=o,this}))}}}var Aw=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))},Lw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const Pw={size:[500,500],fontSize:[14,28]};function Rw(t){return new Promise(((e,n)=>{if(t instanceof HTMLImageElement)e(t);else{if("string"===typeof t){const r=new Image;return r.crossOrigin="anonymous",r.src=t,r.onload=()=>e(r),void(r.onerror=()=>{console.error(`'image ${t} load failed !!!'`),n()})}n()}}))}function Iw(t,e){if("function"===typeof t)return t;if(Array.isArray(t)){const[n,r]=t;if(!e)return()=>(r+n)/2;const[i,o]=e;return o===i?()=>(r+n)/2:({value:t})=>(r-n)/(o-i)*(t-i)+n}return()=>t}const Nw=t=>e=>Aw(void 0,void 0,void 0,(function*(){const n=Object.assign({},Pw,t),r=Mw();yield Tw(r,n).set("fontSize",(t=>{const n=e.map((t=>t.value));return Iw(t,[ug(n),cg(n)])})).set("font").set("fontStyle").set("fontWeight").set("padding").set("rotate").set("size").set("spiral").set("timeInterval").set("random").set("text").set("on").setAsync("imageMask",Rw,r.createMask),r.words([...e]);const i=r.start(),[o,a]=n.size,s=[{x:0,y:0},{x:o,y:a}],{_bounds:l=s,_tags:c,hasImage:u}=i,h=c.map((t=>{var{x:e,y:n}=t,r=Lw(t,["x","y"]);return Object.assign(Object.assign({},r),{x:e+o/2,y:n+a/2})})),[{x:f,y:d},{x:p,y:v}]=l,g={text:"",value:0,opacity:0,fontSize:0};return h.push(Object.assign(Object.assign({},g),{x:u?0:f,y:u?0:d}),Object.assign(Object.assign({},g),{x:u?o:p,y:u?a:v})),h}));function jw(t){return"string"===typeof t?e=>e[t]:t}Nw.props={};const Bw=t=>{const{join:e,on:n,select:r=[],as:i=r,unknown:o=NaN}=t,[a,s]=n,l=jw(s),c=jw(a),u=hv(e,(([t])=>t),(t=>l(t)));return t=>t.map((t=>{const e=u.get(c(t));return Object.assign(Object.assign({},t),r.reduce(((t,n,r)=>(t[i[r]]=e?e[n]:o,t)),{}))}))};Bw.props={};const Dw=t=>{const{start:e,end:n}=t;return t=>t.slice(e,n)};Dw.props={};var Fw=n(4824),zw=n.n(Fw);const Ww=t=>{const{field:e,groupBy:n,as:r=["y","size"],min:i,max:o,size:a=10,width:s}=t,[l,c]=r;return t=>{const r=Array.from(cv(t,(t=>n.map((e=>t[e])).join("-"))).values());return r.map((t=>{const n=zw().create(t.map((t=>t[e])),{min:i,max:o,size:a,width:s}),r=n.map((t=>t.x)),u=n.map((t=>t.y));return Object.assign(Object.assign({},t[0]),{[l]:r,[c]:u})}))}};Ww.props={};var Hw=n(4286);const $w=1e-10;function Gw(t,e){const n=Yw(t),r=n.filter((function(e){return Vw(e,t)}));let i,o=0,a=0;const s=[];if(r.length>1){const e=Zw(r);for(i=0;i<r.length;++i){const t=r[i];t.angle=Math.atan2(t.x-e.x,t.y-e.y)}r.sort((function(t,e){return e.angle-t.angle}));let n=r[r.length-1];for(i=0;i<r.length;++i){const e=r[i];a+=(n.x+e.x)*(e.y-n.y);const l={x:(e.x+n.x)/2,y:(e.y+n.y)/2};let c=null;for(let r=0;r<e.parentIndex.length;++r)if(n.parentIndex.indexOf(e.parentIndex[r])>-1){const i=t[e.parentIndex[r]],o=Math.atan2(e.x-i.x,e.y-i.y),a=Math.atan2(n.x-i.x,n.y-i.y);let s=a-o;s<0&&(s+=2*Math.PI);const u=a-s/2;let h=Xw(l,{x:i.x+i.radius*Math.sin(u),y:i.y+i.radius*Math.cos(u)});h>2*i.radius&&(h=2*i.radius),(null===c||c.width>h)&&(c={circle:i,width:h,p1:e,p2:n})}null!==c&&(s.push(c),o+=Uw(c.circle.radius,c.width),n=e)}}else{let e=t[0];for(i=1;i<t.length;++i)t[i].radius<e.radius&&(e=t[i]);let n=!1;for(i=0;i<t.length;++i)if(Xw(t[i],e)>Math.abs(e.radius-t[i].radius)){n=!0;break}n?o=a=0:(o=e.radius*e.radius*Math.PI,s.push({circle:e,p1:{x:e.x,y:e.y+e.radius},p2:{x:e.x-$w,y:e.y+e.radius},width:2*e.radius}))}return a/=2,e&&(e.area=o+a,e.arcArea=o,e.polygonArea=a,e.arcs=s,e.innerPoints=r,e.intersectionPoints=n),o+a}function Vw(t,e){for(let n=0;n<e.length;++n)if(Xw(t,e[n])>e[n].radius+$w)return!1;return!0}function Yw(t){const e=[];for(let n=0;n<t.length;++n)for(let r=n+1;r<t.length;++r){const i=Kw(t[n],t[r]);for(let t=0;t<i.length;++t){const o=i[t];o.parentIndex=[n,r],e.push(o)}}return e}function Uw(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function Xw(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function qw(t,e,n){if(n>=t+e)return 0;if(n<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);const r=t-(n*n-e*e+t*t)/(2*n),i=e-(n*n-t*t+e*e)/(2*n);return Uw(t,r)+Uw(e,i)}function Kw(t,e){const n=Xw(t,e),r=t.radius,i=e.radius;if(n>=r+i||n<=Math.abs(r-i))return[];const o=(r*r-i*i+n*n)/(2*n),a=Math.sqrt(r*r-o*o),s=t.x+o*(e.x-t.x)/n,l=t.y+o*(e.y-t.y)/n,c=-(e.y-t.y)*(a/n),u=-(e.x-t.x)*(a/n);return[{x:s+c,y:l-u},{x:s-c,y:l+u}]}function Zw(t){const e={x:0,y:0};for(let n=0;n<t.length;++n)e.x+=t[n].x,e.y+=t[n].y;return e.x/=t.length,e.y/=t.length,e}function Qw(t,e){e=e||{},e.maxIterations=e.maxIterations||500;const n=e.initialLayout||iO,r=e.lossFunction||sO;t=eO(t);const i=n(t,e),o=[],a=[];let s;for(s in i)i.hasOwnProperty(s)&&(o.push(i[s].x),o.push(i[s].y),a.push(s));const l=(0,Hw.nelderMead)((function(e){const n={};for(let t=0;t<a.length;++t){const r=a[t];n[r]={x:e[2*t],y:e[2*t+1],radius:i[r].radius}}return r(n,t)}),o,e),c=l.x;for(let u=0;u<a.length;++u)s=a[u],i[s].x=c[2*u],i[s].y=c[2*u+1];return i}const Jw=1e-10;function tO(t,e,n){return Math.min(t,e)*Math.min(t,e)*Math.PI<=n+Jw?Math.abs(t-e):(0,Hw.bisect)((function(r){return qw(t,e,r)-n}),0,t+e)}function eO(t){t=t.slice();const e=[],n={};let r,i,o,a;for(r=0;r<t.length;++r){const i=t[r];1==i.sets.length?e.push(i.sets[0]):2==i.sets.length&&(o=i.sets[0],a=i.sets[1],n[[o,a]]=!0,n[[a,o]]=!0)}for(e.sort(((t,e)=>t>e?1:-1)),r=0;r<e.length;++r)for(o=e[r],i=r+1;i<e.length;++i)a=e[i],[o,a]in n||t.push({sets:[o,a],size:0});return t}function nO(t,e,n){const r=(0,Hw.zerosM)(e.length,e.length),i=(0,Hw.zerosM)(e.length,e.length);return t.filter((function(t){return 2==t.sets.length})).map((function(t){const o=n[t.sets[0]],a=n[t.sets[1]],s=Math.sqrt(e[o].size/Math.PI),l=Math.sqrt(e[a].size/Math.PI),c=tO(s,l,t.size);r[o][a]=r[a][o]=c;let u=0;t.size+1e-10>=Math.min(e[o].size,e[a].size)?u=1:t.size<=1e-10&&(u=-1),i[o][a]=i[a][o]=u})),{distances:r,constraints:i}}function rO(t,e,n,r){let i,o=0;for(i=0;i<e.length;++i)e[i]=0;for(i=0;i<n.length;++i){const a=t[2*i],s=t[2*i+1];for(let l=i+1;l<n.length;++l){const c=t[2*l],u=t[2*l+1],h=n[i][l],f=r[i][l],d=(c-a)*(c-a)+(u-s)*(u-s),p=Math.sqrt(d),v=d-h*h;f>0&&p<=h||f<0&&p>=h||(o+=2*v*v,e[2*i]+=4*v*(a-c),e[2*i+1]+=4*v*(s-u),e[2*l]+=4*v*(c-a),e[2*l+1]+=4*v*(u-s))}}return o}function iO(t,e){let n=aO(t,e);const r=e.lossFunction||sO;if(t.length>=8){const i=oO(t,e),o=r(i,t),a=r(n,t);o+1e-8<a&&(n=i)}return n}function oO(t,e){e=e||{};const n=e.restarts||10,r=[],i={};let o;for(o=0;o<t.length;++o){const e=t[o];1==e.sets.length&&(i[e.sets[0]]=r.length,r.push(e))}const a=nO(t,r,i);let s=a.distances;const l=a.constraints,c=(0,Hw.norm2)(s.map(Hw.norm2))/s.length;s=s.map((function(t){return t.map((function(t){return t/c}))}));const u=function(t,e){return rO(t,e,s,l)};let h,f;for(o=0;o<n;++o){const t=(0,Hw.zeros)(2*s.length).map(Math.random);f=(0,Hw.conjugateGradient)(u,t,e),(!h||f.fx<h.fx)&&(h=f)}const d=h.x,p={};for(o=0;o<r.length;++o){const t=r[o];p[t.sets[0]]={x:d[2*o]*c,y:d[2*o+1]*c,radius:Math.sqrt(t.size/Math.PI)}}if(e.history)for(o=0;o<e.history.length;++o)(0,Hw.scale)(e.history[o].x,c);return p}function aO(t,e){const n=e&&e.lossFunction?e.lossFunction:sO,r={},i={};let o;for(let h=0;h<t.length;++h){const e=t[h];1==e.sets.length&&(o=e.sets[0],r[o]={x:1e10,y:1e10,rowid:Object.keys(r).length,size:e.size,radius:Math.sqrt(e.size/Math.PI)},i[o]=[])}t=t.filter((function(t){return 2==t.sets.length}));for(let h=0;h<t.length;++h){const e=t[h];let n=e.hasOwnProperty("weight")?e.weight:1;const o=e.sets[0],a=e.sets[1];e.size+Jw>=Math.min(r[o].size,r[a].size)&&(n=0),i[o].push({set:a,size:e.size,weight:n}),i[a].push({set:o,size:e.size,weight:n})}const a=[];for(o in i)if(i.hasOwnProperty(o)){let t=0;for(let e=0;e<i[o].length;++e)t+=i[o][e].size*i[o][e].weight;a.push({set:o,size:t})}function s(t,e){return e.size-t.size}a.sort(s);const l={};function c(t){return t.set in l}function u(t,e){r[e].x=t.x,r[e].y=t.y,l[e]=!0}u({x:0,y:0},a[0].set);for(let h=1;h<a.length;++h){const e=a[h].set,l=i[e].filter(c);if(o=r[e],l.sort(s),0===l.length)throw"ERROR: missing pairwise overlap information";const f=[];for(let t=0;t<l.length;++t){const e=r[l[t].set],n=tO(o.radius,e.radius,l[t].size);f.push({x:e.x+n,y:e.y}),f.push({x:e.x-n,y:e.y}),f.push({y:e.y+n,x:e.x}),f.push({y:e.y-n,x:e.x});for(let i=t+1;i<l.length;++i){const t=r[l[i].set],a=tO(o.radius,t.radius,l[i].size),s=Kw({x:e.x,y:e.y,radius:n},{x:t.x,y:t.y,radius:a});for(let e=0;e<s.length;++e)f.push(s[e])}}let d=1e50,p=f[0];for(let i=0;i<f.length;++i){r[e].x=f[i].x,r[e].y=f[i].y;const o=n(r,t);o<d&&(d=o,p=f[i])}u(p,e)}return r}function sO(t,e){let n=0;function r(e){return e.map((function(e){return t[e]}))}for(let i=0;i<e.length;++i){const o=e[i];let a;if(1==o.sets.length)continue;if(2==o.sets.length){const e=t[o.sets[0]],n=t[o.sets[1]];a=qw(e.radius,n.radius,Xw(e,n))}else a=Gw(r(o.sets));const s=o.hasOwnProperty("weight")?o.weight:1;n+=s*(a-o.size)*(a-o.size)}return n}function lO(t){const e=function(e){const n=Math.max.apply(null,t.map((function(t){return t[e]+t.radius}))),r=Math.min.apply(null,t.map((function(t){return t[e]-t.radius})));return{max:n,min:r}};return{xRange:e("x"),yRange:e("y")}}function cO(t,e,n,r){const i=[],o=[];for(const v in t)t.hasOwnProperty(v)&&(o.push(v),i.push(t[v]));e-=2*r,n-=2*r;const a=lO(i),s=a.xRange,l=a.yRange;if(s.max==s.min||l.max==l.min)return console.log("not scaling solution: zero size detected"),t;const c=e/(s.max-s.min),u=n/(l.max-l.min),h=Math.min(u,c),f=(e-(s.max-s.min)*h)/2,d=(n-(l.max-l.min)*h)/2,p={};for(let v=0;v<i.length;++v){const t=i[v];p[o[v]]={radius:h*t.radius,x:r+f+(t.x-s.min)*h,y:r+d+(t.y-l.min)*h}}return p}function uO(t,e,n){const r=[],i=t-n,o=e;return r.push("M",i,o),r.push("A",n,n,0,1,0,i+2*n,o),r.push("A",n,n,0,1,0,i,o),r.join(" ")}function hO(t){const e={};Gw(t,e);const n=e.arcs;if(0===n.length)return"M 0 0";if(1==n.length){const t=n[0].circle;return uO(t.x,t.y,t.radius)}{const t=["\nM",n[0].p2.x,n[0].p2.y];for(let e=0;e<n.length;++e){const r=n[e],i=r.circle.radius,o=r.width>i;t.push("\nA",i,i,0,o?1:0,1,r.p1.x,r.p1.y)}return t.join(" ")}}const fO=t=>{const{sets:e="sets",size:n="size",as:r=["key","path"],padding:i=0}=t,[o,a]=r;return t=>{const r=t.map((t=>Object.assign(Object.assign({},t),{sets:t[e],size:t[n],[o]:t.sets.join("&")})));r.sort(((t,e)=>t.sets.length-e.sets.length));const s=Qw(r);let l;return r.map((t=>{const n=t[e],r=({width:t,height:e})=>{l=l||cO(s,t,e,i);const r=n.map((t=>l[t]));let o=hO(r);return/[zZ]$/.test(o)||(o+=" Z"),o};return Object.assign(Object.assign({},t),{[a]:r})}))}};fO.props={};var dO=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))},pO=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function vO(t,e){const{text:n="text",value:r="value"}=e;return t.map((t=>Object.assign(Object.assign({},t),{text:t[n],value:t[r]})))}const gO=(t,e)=>({size:[t,e]}),yO=(t,e)=>({axis:!1,type:"text",encode:{x:"x",y:"y",text:"text",rotate:"rotate",fontSize:"size"},scale:{x:{domain:[0,t],range:[0,1]},y:{domain:[0,e],range:[0,1]},fontSize:{type:"identity"},rotate:{type:"identity"}},style:{textAlign:"center"}}),mO=(t,e)=>dO(void 0,void 0,void 0,(function*(){const{width:n,height:r}=e,{data:i,encode:o={},scale:a,style:s={},layout:l={}}=t,c=pO(t,["data","encode","scale","style","layout"]),u=vO(i,o),h=yield Nw(Object.assign(Object.assign({},gO(n,r)),l))(u);return Bd({},yO(n,r),Object.assign(Object.assign({data:h,encode:o,scale:a,style:s},c),{axis:!1}))}));function bO(t,...e){return e.reduce(((t,e)=>n=>t(e(n))),t)}function xO(t,e){return e-t?n=>(n-t)/(e-t):t=>.5}function wO(t,e){const n=e<t?e:t,r=t>e?t:e;return t=>Math.min(Math.max(n,t),r)}function OO(t,e,n,r,i){let o=n||0,a=r||t.length;const s=i||(t=>t);while(o<a){const n=Math.floor((o+a)/2);s(t[n])>e?a=n:o=n+1}return o}mO.props={};const CO=Math.sqrt(50),SO=Math.sqrt(10),_O=Math.sqrt(2);function EO(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/10**i;return i>=0?(o>=CO?10:o>=SO?5:o>=_O?2:1)*10**i:-(10**-i)/(o>=CO?10:o>=SO?5:o>=_O?2:1)}function MO(t,e,n){const r=Math.abs(e-t)/Math.max(0,n);let i=10**Math.floor(Math.log(r)/Math.LN10);const o=r/i;return o>=CO?i*=10:o>=SO?i*=5:o>=_O&&(i*=2),e<t?-i:i}const kO=(t,e,n=5)=>{const r=[t,e];let i,o=0,a=r.length-1,s=r[o],l=r[a];return l<s&&([s,l]=[l,s],[o,a]=[a,o]),i=EO(s,l,n),i>0?(s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i,i=EO(s,l,n)):i<0&&(s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i,i=EO(s,l,n)),i>0?(r[o]=Math.floor(s/i)*i,r[a]=Math.ceil(l/i)*i):i<0&&(r[o]=Math.ceil(s*i)/i,r[a]=Math.floor(l*i)/i),r},TO=1e3,AO=60*TO,LO=60*AO,PO=24*LO,RO=7*PO,IO=30*PO,NO=365*PO;function jO(t,e,n,r){const i=(t,e)=>{const i=t=>r(t)%e===0;let o=e;while(o&&!i(t))n(t,-1),o-=1;return t},o=(t,n)=>{n&&i(t,n),e(t)},a=(t,e)=>{const n=new Date(+t);return o(n,e),n},s=(t,e)=>{const r=new Date(+t-1);return o(r,e),n(r,e),o(r),r},l=(t,e,r,i)=>{const a=[],l=Math.floor(r),c=i?s(t,r):s(t);for(let s=c;+s<+e;n(s,l),o(s))a.push(new Date(+s));return a};return{ceil:s,floor:a,range:l,duration:t}}const BO=jO(1,(t=>t),((t,e=1)=>{t.setTime(+t+e)}),(t=>t.getTime())),DO=jO(TO,(t=>{t.setMilliseconds(0)}),((t,e=1)=>{t.setTime(+t+TO*e)}),(t=>t.getSeconds())),FO=jO(AO,(t=>{t.setSeconds(0,0)}),((t,e=1)=>{t.setTime(+t+AO*e)}),(t=>t.getMinutes())),zO=jO(LO,(t=>{t.setMinutes(0,0,0)}),((t,e=1)=>{t.setTime(+t+LO*e)}),(t=>t.getHours())),WO=jO(PO,(t=>{t.setHours(0,0,0,0)}),((t,e=1)=>{t.setTime(+t+PO*e)}),(t=>t.getDate()-1)),HO=jO(IO,(t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e=1)=>{const n=t.getMonth();t.setMonth(n+e)}),(t=>t.getMonth())),$O=jO(RO,(t=>{t.setDate(t.getDate()-t.getDay()%7),t.setHours(0,0,0,0)}),((t,e=1)=>{t.setTime(+t+RO*e)}),(t=>{const e=HO.floor(t),n=new Date(+t);return Math.floor((+n-+e)/RO)})),GO=jO(NO,(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e=1)=>{const n=t.getFullYear();t.setFullYear(n+e)}),(t=>t.getFullYear())),VO={millisecond:BO,second:DO,minute:FO,hour:zO,day:WO,week:$O,month:HO,year:GO},YO=jO(1,(t=>t),((t,e=1)=>{t.setTime(+t+e)}),(t=>t.getTime())),UO=jO(TO,(t=>{t.setUTCMilliseconds(0)}),((t,e=1)=>{t.setTime(+t+TO*e)}),(t=>t.getUTCSeconds())),XO=jO(AO,(t=>{t.setUTCSeconds(0,0)}),((t,e=1)=>{t.setTime(+t+AO*e)}),(t=>t.getUTCMinutes())),qO=jO(LO,(t=>{t.setUTCMinutes(0,0,0)}),((t,e=1)=>{t.setTime(+t+LO*e)}),(t=>t.getUTCHours())),KO=jO(PO,(t=>{t.setUTCHours(0,0,0,0)}),((t,e=1)=>{t.setTime(+t+PO*e)}),(t=>t.getUTCDate()-1)),ZO=jO(IO,(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e=1)=>{const n=t.getUTCMonth();t.setUTCMonth(n+e)}),(t=>t.getUTCMonth())),QO=jO(RO,(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7)%7),t.setUTCHours(0,0,0,0)}),((t,e=1)=>{t.setTime(+t+RO*e)}),(t=>{const e=ZO.floor(t),n=new Date(+t);return Math.floor((+n-+e)/RO)})),JO=jO(NO,(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e=1)=>{const n=t.getUTCFullYear();t.setUTCFullYear(n+e)}),(t=>t.getUTCFullYear())),tC={millisecond:YO,second:UO,minute:XO,hour:qO,day:KO,week:QO,month:ZO,year:JO};function eC(t){const e=t?tC:VO,{year:n,month:r,week:i,day:o,hour:a,minute:s,second:l,millisecond:c}=e,u=[[l,1],[l,5],[l,15],[l,30],[s,1],[s,5],[s,15],[s,30],[a,1],[a,3],[a,6],[a,12],[o,1],[o,2],[i,1],[r,1],[r,3],[n,1]];return{tickIntervals:u,year:n,millisecond:c}}function nC(t,e,n,r,i){const o=+t,a=+e,{tickIntervals:s,year:l,millisecond:c}=eC(i),u=([t,e])=>t.duration*e,h=r?(a-o)/r:n||5,f=r||(a-o)/h,d=s.length,p=OO(s,f,0,d,u);let v;if(p===d){const t=MO(o/l.duration,a/l.duration,h);v=[l,t]}else if(p){const t=f/u(s[p-1])<u(s[p])/f,[e,n]=t?s[p-1]:s[p],i=r?Math.ceil(r/e.duration):n;v=[e,i]}else{const t=Math.max(MO(o,a,h),1);v=[c,t]}return v}const rC=(t,e,n,r,i)=>{const o=t>e,a=o?e:t,s=o?t:e,[l,c]=nC(a,s,n,r,i),u=[l.floor(a,c),l.ceil(s,c)];return o?u.reverse():u};var iC={}.toString,oC=function(t,e){return iC.call(t)==="[object "+e+"]"},aC=oC,sC=function(t){return aC(t,"Function")},lC=function(t){return Array.isArray?Array.isArray(t):aC(t,"Array")},cC=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};function uC(t,e){var n;if(t)if(lC(t)){for(var r=0,i=t.length;r<i;r++)if(n=e(t[r],r),!1===n)break}else if(cC(t))for(var o in t)if(t.hasOwnProperty(o)&&(n=e(t[o],o),!1===n))break}var hC=uC;Object.keys;var fC=function(t){return"object"===typeof t&&null!==t},dC=fC,pC=function(t){if(!dC(t)||!aC(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;var e=t;while(null!==Object.getPrototypeOf(e))e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},vC=pC;var gC=Array.prototype,yC=(gC.splice,gC.indexOf,Array.prototype.splice,function(t){return aC(t,"String")});Object.prototype.hasOwnProperty;var mC=function(t){return aC(t,"Number")},bC=mC,xC=(Number.isInteger&&Number.isInteger,Math.PI,Math.PI,Object.values?function(t){return Object.values(t)}:function(t){var e=[];return hC(t,(function(n,r){sC(t)&&"prototype"===r||e.push(n)})),e}),wC=xC;var OC=function(t){return null===t},CC=OC,SC=(Object.prototype,function(t){return void 0===t}),_C=SC,EC=function(t,e){if(!sC(t))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n},MC=5;function kC(t,e,n,r){for(var i in n=n||0,r=r||MC,e)if(e.hasOwnProperty(i)){var o=e[i];null!==o&&vC(o)?(vC(t[i])||(t[i]={}),n<r?kC(t[i],o,n+1,r):t[i]=e[i]):lC(o)?(t[i]=[],t[i]=t[i].concat(o)):void 0!==o&&(t[i]=o)}}var TC=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)kC(t,e[r]);return t},AC=TC,LC=function(t){return null!==t&&"function"!==typeof t&&isFinite(t.length)},PC=LC,RC=function(t,e){if(!PC(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,i=0;i<t.length;i++)if(t[i]===e){r=i;break}return r},IC=RC;Object.prototype.hasOwnProperty;Object.prototype.hasOwnProperty;var NC=function(t){return t},jC=function(t){return null===t||void 0===t},BC=jC;function DC(t){return BC(t)?0:PC(t)?t.length:Object.keys(t).length}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var FC=function(t,e){return FC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},FC(t,e)};function zC(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}FC(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var WC=function(){return WC=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},WC.apply(this,arguments)};function HC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function $C(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}Object.create;function GC(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function VC(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function YC(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function UC(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}var XC;Object.create;function qC(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}EC((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return XC||(XC=document.createElement("canvas").getContext("2d")),XC.font=[o,a,i,n+"px",r].join(" "),XC.measureText(yC(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),YC([t],wC(e)).join("")})),function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}();function KC(t){return!_C(t)&&!CC(t)&&!Number.isNaN(t)}const ZC=t=>e=>-t(-e),QC=(t,e)=>{const n=Math.log(t),r=t===Math.E?Math.log:10===t?Math.log10:2===t?Math.log2:t=>Math.log(t)/n;return e?ZC(r):r},JC=(t,e)=>{const n=t===Math.E?Math.exp:e=>t**e;return e?ZC(n):n},tS=t=>e=>{const n=t(e);return bC(n)?Math.round(n):n};function eS(t,e){return n=>{n.prototype.rescale=function(){this.initRange(),this.nice();const[t]=this.chooseTransforms();this.composeOutput(t,this.chooseClamp(t))},n.prototype.initRange=function(){const{interpolator:e}=this.options;this.options.range=t(e)},n.prototype.composeOutput=function(t,n){const{domain:r,interpolator:i,round:o}=this.getOptions(),a=e(r.map(t)),s=o?tS(i):i;this.output=bO(s,a,n,t)},n.prototype.invert=void 0}}var nS=n(9841),rS=n.n(nS);function iS(t,e,n){let r=n;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function oS(t){const e=t[0]/360,n=t[1]/100,r=t[2]/100,i=t[3];if(0===n)return[255*r,255*r,255*r,i];const o=r<.5?r*(1+n):r+n-r*n,a=2*r-o,s=iS(a,o,e+1/3),l=iS(a,o,e),c=iS(a,o,e-1/3);return[255*s,255*l,255*c,i]}function aS(t){const e=rS().get(t);if(!e)return null;const{model:n,value:r}=e;return"rgb"===n?r:"hsl"===n?oS(r):null}const sS=(t,e)=>n=>t*(1-n)+e*n,lS=(t,e)=>{const n=aS(t),r=aS(e);return null===n||null===r?n?()=>t:()=>e:t=>{const e=new Array(4);for(let l=0;l<4;l+=1){const i=n[l],o=r[l];e[l]=i*(1-t)+o*t}const[i,o,a,s]=e;return`rgba(${Math.round(i)}, ${Math.round(o)}, ${Math.round(a)}, ${s})`}},cS=(t,e)=>"number"===typeof t&&"number"===typeof e?sS(t,e):"string"===typeof t&&"string"===typeof e?lS(t,e):()=>t,uS=(t,e)=>{const n=sS(t,e);return t=>Math.round(n(t))};function hS(t,e){const{second:n,minute:r,hour:i,day:o,week:a,month:s,year:l}=e;return n.floor(t)<t?".SSS":r.floor(t)<t?":ss":i.floor(t)<t?"hh:mm":o.floor(t)<t?"hh A":s.floor(t)<t?a.floor(t)<t?"MMM DD":"ddd DD":l.floor(t)<t?"MMMM":"YYYY"}function fS({map:t,initKey:e},n){const r=e(n);return t.has(r)?t.get(r):n}function dS({map:t,initKey:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function pS({map:t,initKey:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function vS(t){return"object"===typeof t?t.valueOf():t}class gS extends Map{constructor(t){if(super(),this.map=new Map,this.initKey=vS,null!==t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(fS({map:this.map,initKey:this.initKey},t))}has(t){return super.has(fS({map:this.map,initKey:this.initKey},t))}set(t,e){return super.set(dS({map:this.map,initKey:this.initKey},t),e)}delete(t){return super.delete(pS({map:this.map,initKey:this.initKey},t))}}class yS{constructor(t){this.options=AC({},this.getDefaultOptions()),this.update(t)}getOptions(){return this.options}update(t={}){this.options=AC({},this.options,t),this.rescale(t)}rescale(t){}}const mS=Symbol("defaultUnknown");function bS(t,e,n){for(let r=0;r<e.length;r+=1)t.has(e[r])||t.set(n(e[r]),r)}function xS(t){const{value:e,from:n,to:r,mapper:i,notFoundReturn:o}=t;let a=i.get(e);if(void 0===a){if(o!==mS)return o;a=n.push(e)-1,i.set(e,a)}return r[a%r.length]}function wS(t){return t instanceof Date?t=>`${t}`:"object"===typeof t?t=>JSON.stringify(t):t=>t}class OS extends yS{getDefaultOptions(){return{domain:[],range:[],unknown:mS}}constructor(t){super(t)}map(t){return 0===this.domainIndexMap.size&&bS(this.domainIndexMap,this.getDomain(),this.domainKey),xS({value:this.domainKey(t),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(t){return 0===this.rangeIndexMap.size&&bS(this.rangeIndexMap,this.getRange(),this.rangeKey),xS({value:this.rangeKey(t),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(t){const[e]=this.options.domain,[n]=this.options.range;if(this.domainKey=wS(e),this.rangeKey=wS(n),!this.rangeIndexMap)return this.rangeIndexMap=new Map,void(this.domainIndexMap=new Map);t&&!t.range||this.rangeIndexMap.clear(),(!t||t.domain||t.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new OS(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:t,compare:e}=this.options;return this.sortedDomain=e?[...t].sort(e):t,this.sortedDomain}}function CS(t){const e=Math.min(...t);return t.map((t=>t/e))}function SS(t,e){const n=t.length,r=e-n;return r>0?[...t,...new Array(r).fill(1)]:r<0?t.slice(0,e):t}function _S(t){return Math.round(1e12*t)/1e12}function ES(t){const{domain:e,range:n,paddingOuter:r,paddingInner:i,flex:o,round:a,align:s}=t,l=e.length,c=SS(o,l),[u,h]=n,f=h-u,d=2/l*r+1-1/l*i,p=f/d,v=p*i/l,g=p-l*v,y=CS(c),m=y.reduce(((t,e)=>t+e)),b=g/m,x=new gS(e.map(((t,e)=>{const n=y[e]*b;return[t,a?Math.floor(n):n]}))),w=new gS(e.map(((t,e)=>{const n=y[e]*b,r=n+v;return[t,a?Math.floor(r):r]}))),O=Array.from(w.values()).reduce(((t,e)=>t+e)),C=f-(O-O/l*i),S=C*s,_=u+S;let E=a?Math.round(_):_;const M=new Array(l);for(let k=0;k<l;k+=1){M[k]=_S(E);const t=e[k];E+=w.get(t)}return{valueBandWidth:x,valueStep:w,adjustedRange:M}}function MS(t){var e;const{domain:n}=t,r=n.length;if(0===r)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};const i=!!(null===(e=t.flex)||void 0===e?void 0:e.length);if(i)return ES(t);const{range:o,paddingOuter:a,paddingInner:s,round:l,align:c}=t;let u,h,f=o[0];const d=o[1],p=d-f,v=2*a,g=r-s;u=p/Math.max(1,v+g),l&&(u=Math.floor(u)),f+=(p-u*(r-s))*c,h=u*(1-s),l&&(f=Math.round(f),h=Math.round(h));const y=new Array(r).fill(0).map(((t,e)=>f+e*u));return{valueStep:u,valueBandWidth:h,adjustedRange:y}}class kS extends OS{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:mS,flex:[]}}constructor(t){super(t)}clone(){return new kS(this.options)}getStep(t){return void 0===this.valueStep?1:"number"===typeof this.valueStep?this.valueStep:void 0===t?Array.from(this.valueStep.values())[0]:this.valueStep.get(t)}getBandWidth(t){return void 0===this.valueBandWidth?1:"number"===typeof this.valueBandWidth?this.valueBandWidth:void 0===t?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(t)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:t,paddingInner:e}=this.options;return t>0?t:e}getPaddingOuter(){const{padding:t,paddingOuter:e}=this.options;return t>0?t:e}rescale(){super.rescale();const{align:t,domain:e,range:n,round:r,flex:i}=this.options,{adjustedRange:o,valueBandWidth:a,valueStep:s}=MS({align:t,range:n,round:r,flex:i,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:e});this.valueStep=s,this.valueBandWidth=a,this.adjustedRange=o}}const TS=(t,e,n)=>{let r,i,o=t,a=e;if(o===a&&n>0)return[o];let s=EO(o,a,n);if(0===s||!Number.isFinite(s))return[];if(s>0){o=Math.ceil(o/s),a=Math.floor(a/s),i=new Array(r=Math.ceil(a-o+1));for(let t=0;t<r;t+=1)i[t]=(o+t)*s}else{s=-s,o=Math.ceil(o*s),a=Math.floor(a*s),i=new Array(r=Math.ceil(a-o+1));for(let t=0;t<r;t+=1)i[t]=(o+t)/s}return i};class AS extends yS{getDefaultOptions(){return{range:[0],domain:[0,1],unknown:void 0,tickCount:5,tickMethod:TS}}map(t){const[e]=this.options.range;return void 0!==e?e:this.options.unknown}invert(t){const[e]=this.options.range;return t===e&&void 0!==e?this.options.domain:[]}getTicks(){const{tickMethod:t,domain:e,tickCount:n}=this.options,[r,i]=e;return bC(r)&&bC(i)?t(r,i,n):[]}clone(){return new AS(this.options)}}function LS(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}const PS=[1,5,2,2.5,4,3],RS=100*Number.EPSILON;function IS(t,e){return(t%e+e)%e}function NS(t){return Math.round(1e12*t)/1e12}function jS(t,e,n,r,i,o){const a=DC(e),s=IC(e,t);let l=0;const c=IS(r,o);return(c<RS||o-c<RS)&&r<=0&&i>=0&&(l=1),1-s/(a-1)-n+l}function BS(t,e,n){const r=DC(e),i=IC(e,t),o=1;return 1-i/(r-1)-n+o}function DS(t,e,n,r,i,o){const a=(t-1)/(o-i),s=(e-1)/(Math.max(o,r)-Math.min(n,i));return 2-Math.max(a/s,s/a)}function FS(t,e){return t>=e?2-(t-1)/(e-1):1}function zS(t,e,n,r){const i=e-t;return 1-.5*((e-r)**2+(t-n)**2)/(.1*i)**2}function WS(t,e,n){const r=e-t;if(n>r){const t=(n-r)/2;return 1-t**2/(.1*r)**2}return 1}function HS(){return 1}const $S=(t,e,n=5,r=!0,i=PS,o=[.25,.2,.5,.05])=>{const a=n<0?0:Math.round(n);if(Number.isNaN(t)||Number.isNaN(e)||"number"!==typeof t||"number"!==typeof e||!a)return[];if(e-t<1e-15||1===a)return[t];const s={score:-2,lmin:0,lmax:0,lstep:0};let l=1;while(l<1/0){for(let n=0;n<i.length;n+=1){const c=i[n],u=BS(c,i,l);if(o[0]*u+o[1]+o[2]+o[3]<s.score){l=1/0;break}let h=2;while(h<1/0){const n=FS(h,a);if(o[0]*u+o[1]+o[2]*n+o[3]<s.score)break;const f=(e-t)/(h+1)/l/c;let d=Math.ceil(Math.log10(f));while(d<1/0){const f=l*c*10**d,p=WS(t,e,f*(h-1));if(o[0]*u+o[1]*p+o[2]*n+o[3]<s.score)break;const v=Math.floor(e/f)*l-(h-1)*l,g=Math.ceil(t/f)*l;if(v<=g){const n=g-v;for(let u=0;u<=n;u+=1){const n=v+u,d=n*(f/l),p=d+f*(h-1),g=f,y=jS(c,i,l,d,p,g),m=zS(t,e,d,p),b=DS(h,a,t,e,d,p),x=HS(),w=o[0]*y+o[1]*m+o[2]*b+o[3]*x;w>s.score&&(!r||d<=t&&p>=e)&&(s.lmin=d,s.lmax=p,s.lstep=g,s.score=w)}}d+=1}h+=1}}l+=1}const c=LS(s.lmax),u=LS(s.lmin),h=LS(s.lstep),f=Math.floor(NS((c-u)/h))+1,d=new Array(f);d[0]=LS(u);for(let p=1;p<f;p+=1)d[p]=LS(d[p-1]+h);return d};class GS extends yS{getDefaultOptions(){return{domain:[0,1],range:[0,1],tickCount:5,unknown:void 0,tickMethod:$S}}map(t){return KC(t)?t:this.options.unknown}invert(t){return this.map(t)}clone(){return new GS(this.options)}getTicks(){const{domain:t,tickCount:e,tickMethod:n}=this.options,[r,i]=t;return bC(r)&&bC(i)?n(r,i,e):[]}}const VS=(t,e,n)=>{const[r,i]=t,[o,a]=e;let s,l;return r<i?(s=xO(r,i),l=n(o,a)):(s=xO(i,r),l=n(a,o)),bO(l,s)},YS=(t,e,n)=>{const r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=t[0]>t[r],s=a?[...t].reverse():t,l=a?[...e].reverse():e;for(let c=0;c<r;c+=1)i[c]=xO(s[c],s[c+1]),o[c]=n(l[c],l[c+1]);return e=>{const n=OO(t,e,1,r)-1,a=i[n],s=o[n];return bO(s,a)(e)}},US=(t,e,n,r)=>{const i=Math.min(t.length,e.length),o=i>2?YS:VS,a=r?uS:n;return o(t,e,a)};class XS extends yS{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:sS,tickCount:5}}map(t){return KC(t)?this.output(t):this.options.unknown}invert(t){return KC(t)?this.input(t):this.options.unknown}nice(){if(!this.options.nice)return;const[t,e,n,...r]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(t,e,n,...r)}getTicks(){const{tickMethod:t}=this.options,[e,n,r,...i]=this.getTickMethodOptions();return t(e,n,r,...i)}getTickMethodOptions(){const{domain:t,tickCount:e}=this.options,n=t[0],r=t[t.length-1];return[n,r,e]}chooseNice(){return kO}rescale(){this.nice();const[t,e]=this.chooseTransforms();this.composeOutput(t,this.chooseClamp(t)),this.composeInput(t,e,this.chooseClamp(e))}chooseClamp(t){const{clamp:e,range:n}=this.options,r=this.options.domain.map(t),i=Math.min(r.length,n.length);return e?wO(r[0],r[i-1]):NC}composeOutput(t,e){const{domain:n,range:r,round:i,interpolate:o}=this.options,a=US(n.map(t),r,o,i);this.output=bO(a,e,t)}composeInput(t,e,n){const{domain:r,range:i}=this.options,o=US(i,r.map(t),sS);this.input=bO(e,n,o)}}class qS extends XS{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:cS,tickMethod:TS,tickCount:5}}chooseTransforms(){return[NC,NC]}clone(){return new qS(this.options)}}class KS extends kS{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,padding:0,unknown:mS,paddingInner:1,paddingOuter:0}}constructor(t){super(t)}getPaddingInner(){return 1}clone(){return new KS(this.options)}update(t){super.update(t)}getPaddingOuter(){return this.options.padding}}const ZS=t=>e=>e<0?-((-e)**t):e**t,QS=t=>e=>e<0?-((-e)**(1/t)):e**(1/t),JS=t=>t<0?-Math.sqrt(-t):Math.sqrt(t);class t_ extends XS{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,exponent:2,interpolate:cS,tickMethod:TS,tickCount:5}}constructor(t){super(t)}chooseTransforms(){const{exponent:t}=this.options;if(1===t)return[NC,NC];const e=.5===t?JS:ZS(t),n=QS(t);return[e,n]}clone(){return new t_(this.options)}}class e_ extends t_{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:cS,tickMethod:TS,tickCount:5,exponent:.5}}constructor(t){super(t)}update(t){super.update(t)}clone(){return new e_(this.options)}}class n_ extends yS{getDefaultOptions(){return{domain:[.5],range:[0,1]}}constructor(t){super(t)}map(t){if(!KC(t))return this.options.unknown;const e=OO(this.thresholds,t,0,this.n);return this.options.range[e]}invert(t){const{range:e}=this.options,n=e.indexOf(t),r=this.thresholds;return[r[n-1],r[n]]}clone(){return new n_(this.options)}rescale(){const{domain:t,range:e}=this.options;this.n=Math.min(t.length,e.length-1),this.thresholds=t}}const r_=(t,e,n,r=10)=>{const i=t<0,o=JC(r,i),a=QC(r,i),s=e<t,l=s?e:t,c=s?t:e;let u=a(l),h=a(c),f=[];if(!(r%1)&&h-u<n){if(u=Math.floor(u),h=Math.ceil(h),i)for(;u<=h;u+=1){const t=o(u);for(let e=r-1;e>=1;e-=1){const n=t*e;if(n>c)break;n>=l&&f.push(n)}}else for(;u<=h;u+=1){const t=o(u);for(let e=1;e<r;e+=1){const n=t*e;if(n>c)break;n>=l&&f.push(n)}}2*f.length<n&&(f=TS(l,c,n))}else{const t=-1===n?h-u:Math.min(h-u,n);f=TS(u,h,t).map(o)}return s?f.reverse():f},i_=(t,e,n,r)=>{const i=t<0,o=QC(r,i),a=JC(r,i),s=t>e,l=s?e:t,c=s?t:e,u=[a(Math.floor(o(l))),a(Math.ceil(o(c)))];return s?u.reverse():u};class o_ extends XS{getDefaultOptions(){return{domain:[1,10],range:[0,1],base:10,interpolate:cS,tickMethod:r_,tickCount:5}}chooseNice(){return i_}getTickMethodOptions(){const{domain:t,tickCount:e,base:n}=this.options,r=t[0],i=t[t.length-1];return[r,i,e,n]}chooseTransforms(){const{base:t,domain:e}=this.options,n=e[0]<0;return[QC(t,n),JC(t,n)]}clone(){return new o_(this.options)}}class a_ extends n_{getDefaultOptions(){return{domain:[0,1],range:[.5],nice:!1,tickCount:5,tickMethod:$S}}constructor(t){super(t)}nice(){const{nice:t}=this.options;if(t){const[t,e,n]=this.getTickMethodOptions();this.options.domain=kO(t,e,n)}}getTicks(){const{tickMethod:t}=this.options,[e,n,r]=this.getTickMethodOptions();return t(e,n,r)}getTickMethodOptions(){const{domain:t,tickCount:e}=this.options,n=t[0],r=t[t.length-1];return[n,r,e]}rescale(){this.nice();const{range:t,domain:e}=this.options,[n,r]=e;this.n=t.length-1,this.thresholds=new Array(this.n);for(let i=0;i<this.n;i+=1)this.thresholds[i]=((i+1)*r-(i-this.n)*n)/(this.n+1)}invert(t){const[e,n]=super.invert(t),[r,i]=this.options.domain;return void 0===e&&void 0===n?[e,n]:[e||r,n||i]}getThresholds(){return this.thresholds}clone(){return new a_(this.options)}}function s_(t,e){const n=t.length;if(!n)return;if(n<2)return t[n-1];const r=(n-1)*e,i=Math.floor(r),o=t[i],a=t[i+1];return o+(a-o)*(r-i)}function l_(t,e,n=!1){const r=t;n||r.sort(((t,e)=>t-e));const i=[];for(let o=1;o<e;o+=1)i.push(s_(r,o/e));return i}class c_ extends n_{getDefaultOptions(){return{domain:[],range:[],tickCount:5,unknown:void 0,tickMethod:$S}}constructor(t){super(t)}rescale(){const{domain:t,range:e}=this.options;this.n=e.length-1,this.thresholds=l_(t,this.n+1,!1)}invert(t){const[e,n]=super.invert(t),{domain:r}=this.options,i=r[0],o=r[r.length-1];return void 0===e&&void 0===n?[e,n]:[e||i,n||o]}getThresholds(){return this.thresholds}clone(){return new c_(this.options)}getTicks(){const{tickCount:t,domain:e,tickMethod:n}=this.options,r=e.length-1,i=e[0],o=e[r];return n(i,o,t)}}var u_=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,h_="\\d\\d?",f_="\\d\\d",d_="\\d{3}",p_="\\d{4}",v_="[^\\s]+",g_=/\[([^]*?)\]/gm;function y_(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}var m_=function(t){return function(e,n){var r=n[t].map((function(t){return t.toLowerCase()})),i=r.indexOf(e.toLowerCase());return i>-1?i:null}};function b_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];for(var a in o)t[a]=o[a]}return t}var x_=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],w_=["January","February","March","April","May","June","July","August","September","October","November","December"],O_=y_(w_,3),C_=y_(x_,3),S_={dayNamesShort:C_,dayNames:x_,monthNamesShort:O_,monthNames:w_,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10?1:0)*t%10]}},__=b_({},S_),E_=function(t,e){void 0===e&&(e=2),t=String(t);while(t.length<e)t="0"+t;return t},M_={D:function(t){return String(t.getDate())},DD:function(t){return E_(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return E_(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return E_(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return E_(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return E_(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return E_(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return E_(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return E_(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return E_(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return E_(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return E_(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+E_(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+E_(Math.floor(Math.abs(e)/60),2)+":"+E_(Math.abs(e)%60,2)}},k_=function(t){return+t-1},T_=[null,h_],A_=[null,v_],L_=["isPm",v_,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],P_=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?n:-n}return 0}],R_=(m_("monthNamesShort"),m_("monthNames"),{default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"}),I_=function(t,e,n){if(void 0===e&&(e=R_["default"]),void 0===n&&(n={}),"number"===typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");e=R_[e]||e;var r=[];e=e.replace(g_,(function(t,e){return r.push(e),"@@@"}));var i=b_(b_({},__),n);return e=e.replace(u_,(function(e){return M_[e](t,i)})),e.replace(/@@@/g,(function(){return r.shift()}))};const N_=(t,e,n,r,i)=>{const o=t>e,a=o?e:t,s=o?t:e,[l,c]=nC(a,s,n,r,i),u=l.range(a,new Date(+s+1),c,!0);return o?u.reverse():u};function j_(t){const e=t.getTimezoneOffset(),n=new Date(t);return n.setMinutes(n.getMinutes()+e,n.getSeconds(),n.getMilliseconds()),n}class B_ extends XS{getDefaultOptions(){return{domain:[new Date(2e3,0,1),new Date(2e3,0,2)],range:[0,1],nice:!1,tickCount:5,tickInterval:void 0,unknown:void 0,clamp:!1,tickMethod:N_,interpolate:sS,mask:void 0,utc:!1}}chooseTransforms(){const t=t=>+t,e=t=>new Date(t);return[t,e]}chooseNice(){return rC}getTickMethodOptions(){const{domain:t,tickCount:e,tickInterval:n,utc:r}=this.options,i=t[0],o=t[t.length-1];return[i,o,e,n,r]}getFormatter(){const{mask:t,utc:e}=this.options,n=e?tC:VO,r=e?j_:NC;return e=>I_(r(e),t||hS(e,n))}clone(){return new B_(this.options)}}var D_,F_=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};function z_(t){return[t(0),t(1)]}const W_=t=>{const[e,n]=t,r=bO(sS(0,1),xO(e,n));return r};let H_=D_=class extends qS{getDefaultOptions(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:NC,tickMethod:TS,tickCount:5}}constructor(t){super(t)}clone(){return new D_(this.options)}};H_=D_=F_([eS(z_,W_)],H_);var $_,G_=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};function V_(t){return[t(0),t(.5),t(1)]}const Y_=t=>{const[e,n,r]=t,i=bO(sS(0,.5),xO(e,n)),o=bO(sS(.5,1),xO(n,r));return t=>e>r?t<n?o(t):i(t):t<n?i(t):o(t)};let U_=$_=class extends qS{getDefaultOptions(){return{domain:[0,.5,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:NC,tickMethod:TS,tickCount:5}}constructor(t){super(t)}clone(){return new $_(this.options)}};function X_(t,e){let n,r;if(void 0===e)for(const i of t)null!=i&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}function q_(t,e){return Object.entries(t).reduce(((n,[r,i])=>(n[r]=e(i,r,t),n)),{})}function K_(t){return t.map(((t,e)=>e))}function Z_(t){return t[0]}function Q_(t){return t[t.length-1]}function J_(t){return Array.from(new Set(t))}function tE(t,e){const n=[[],[]];return t.forEach((t=>{n[e(t)?0:1].push(t)})),n}function eE(t,e=t.length){if(1===e)return t.map((t=>[t]));const n=[];for(let r=0;r<t.length;r++){const i=t.slice(r+1),o=eE(i,e-1);o.forEach((e=>{n.push([t[r],...e])}))}return n}function nE(t){if(1===t.length)return[t];const e=[];for(let n=1;n<=t.length;n++)e.push(...eE(t,n));return e}function rE([t,e],[n,r]){return[t-n,e-r]}function iE([t,e],[n,r]){return[t+n,e+r]}function oE([t,e],[n,r]){return Math.sqrt(Math.pow(t-n,2)+Math.pow(e-r,2))}function aE([t,e]){return Math.atan2(e,t)}function sE([t,e]){return aE([t,e])+Math.PI/2}function lE(t,e){const n=aE(t),r=aE(e);return n<r?r-n:2*Math.PI-(n-r)}function cE(t){let e=1/0,n=-1/0,r=1/0,i=-1/0;for(const[s,l]of t)e=Math.min(s,e),n=Math.max(s,n),r=Math.min(l,r),i=Math.max(l,i);const o=n-e,a=i-r;return[e,r,o,a]}function uE([t,e],[n,r]){return[(t+n)/2,(e+r)/2]}function hE(t,e){for(const[n,r]of Object.entries(e))t.style(n,r)}function fE(t,e){return e.forEach(((e,n)=>0===n?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1]))),t.closePath(),t}function dE(t,e,n){const{arrowSize:r}=n,i="string"===typeof r?+parseFloat(r)/100*oE(t,e):r,o=Math.PI/6,a=Math.atan2(e[1]-t[1],e[0]-t[0]),s=Math.PI/2-a-o,l=[e[0]-i*Math.sin(s),e[1]-i*Math.cos(s)],c=a-o,u=[e[0]-i*Math.cos(c),e[1]-i*Math.sin(c)];return[l,u]}function pE(t,e,n,r,i){const o=aE(rE(r,e))+Math.PI,a=aE(rE(r,n))+Math.PI;return t.arc(r[0],r[1],i,o,a,a-o<0),t}function vE(t,e,n,r="y",i="between"){const o="y"===r||!0===r?n:e,a="y"===r||!0===r?90:0,s=K_(o),[l,c]=X_(s,(t=>o[t])),u=new qS({domain:[l,c],range:[0,100]}),h=t=>u.map(o[t]),f={between:e=>`${t[e]} ${h(e)}%`,start:e=>0===e?`${t[e]} ${h(e)}%`:`${t[e-1]} ${h(e)}%, ${t[e]} ${h(e)}%`,end:e=>e===t.length-1?`${t[e]} ${h(e)}%`:`${t[e]} ${h(e)}%, ${t[e+1]} ${h(e)}%`},d=s.sort(((t,e)=>h(t)-h(e))).map(f[i]||f["between"]).join(",");return`linear-gradient(${a}deg, ${d})`}function gE(t){const[e,n,r,i]=t;return[i,e,n,r]}function yE(t,e,n){const[r,i,,o]=pv(t)?gE(e):e,[a,s]=n,l=t.getCenter(),c=sE(rE(r,l)),u=sE(rE(i,l)),h=u===c&&a!==s?u+2*Math.PI:u;return{startAngle:c,endAngle:h-c>=0?h:2*Math.PI+h,innerRadius:oE(o,l),outerRadius:oE(r,l)}}function mE(t){const{colorAttribute:e,opacityAttribute:n=e}=t;return`${n}Opacity`}function bE(t,e){if(!vv(t))return"";const n=t.getCenter(),{transform:r}=e;return`translate(${n[0]}, ${n[1]}) ${r||""}`}function xE(t){if(1===t.length)return t[0];const[[e,n],[r,i]]=t;return[(e+r)/2,(n+i)/2]}function wE(t){return new OE([t],null,t,t.ownerDocument)}U_=$_=G_([eS(V_,Y_)],U_);class OE{constructor(t=null,e=null,n=null,r=null,i=[null,null,null,null,null],o=[],a=[]){this._elements=Array.from(t),this._data=e,this._parent=n,this._document=r,this._enter=i[0],this._update=i[1],this._exit=i[2],this._merge=i[3],this._split=i[4],this._transitions=o,this._facetElements=a}selectAll(t){const e="string"===typeof t?this._parent.querySelectorAll(t):t;return new OE(e,null,this._elements[0],this._document)}selectFacetAll(t){const e="string"===typeof t?this._parent.querySelectorAll(t):t;return new OE(this._elements,null,this._parent,this._document,void 0,void 0,e)}select(t){const e="string"===typeof t?this._parent.querySelectorAll(t)[0]||null:t;return new OE([e],null,e,this._document)}append(t){const e="function"===typeof t?t:()=>this.createElement(t),n=[];if(null!==this._data){for(let t=0;t<this._data.length;t++){const r=this._data[t],[i,o]=Array.isArray(r)?r:[r,null],a=e(i,t);a.__data__=i,null!==o&&(a.__fromElements__=o),this._parent.appendChild(a),n.push(a)}return new OE(n,null,this._parent,this._document)}for(let r=0;r<this._elements.length;r++){const t=this._elements[r],i=t.__data__,o=e(i,r);t.appendChild(o),n.push(o)}return new OE(n,null,n[0],this._document)}maybeAppend(t,e){const n=this._elements[0],r=n.getElementById(t);if(r)return new OE([r],null,this._parent,this._document);const i="string"===typeof e?this.createElement(e):e();return i.id=t,n.appendChild(i),new OE([i],null,this._parent,this._document)}data(t,e=(t=>t),n=(()=>null)){const r=[],i=[],o=new Set(this._elements),a=[],s=new Set,l=new Map(this._elements.map(((t,n)=>[e(t.__data__,n),t]))),c=new Map(this._facetElements.map(((t,n)=>[e(t.__data__,n),t]))),u=cv(this._elements,(t=>n(t.__data__)));for(let f=0;f<t.length;f++){const h=t[f],d=e(h,f),p=n(h,f);if(l.has(d)){const t=l.get(d);t.__data__=h,t.__facet__=!1,i.push(t),o.delete(t),l.delete(d)}else if(c.has(d)){const t=c.get(d);t.__data__=h,t.__facet__=!0,i.push(t),c.delete(d)}else if(u.has(d)){const t=u.get(d);a.push([h,t]);for(const e of t)o.delete(e);u.delete(d)}else if(l.has(p)){const t=l.get(p);t.__toData__?t.__toData__.push(h):t.__toData__=[h],s.add(t),o.delete(t)}else r.push(h)}const h=[new OE([],r,this._parent,this._document),new OE(i,null,this._parent,this._document),new OE(o,null,this._parent,this._document),new OE([],a,this._parent,this._document),new OE(s,null,this._parent,this._document)];return new OE(this._elements,null,this._parent,this._document,h)}merge(t){const e=[...this._elements,...t._elements],n=[...this._transitions,...t._transitions];return new OE(e,null,this._parent,this._document,void 0,n)}createElement(t){if(this._document)return this._document.createElement(t,{});const e=OE.registry[t];return e?new e:Fg(`Unknown node type: ${t}`)}join(t=(t=>t),e=(t=>t),n=(t=>t.remove()),r=(t=>t),i=(t=>t.remove())){const o=t(this._enter),a=e(this._update),s=n(this._exit),l=r(this._merge),c=i(this._split);return a.merge(o).merge(s).merge(l).merge(c)}remove(){for(let t=0;t<this._elements.length;t++){const e=this._transitions[t];if(e){const n=Array.isArray(e)?e:[e];Promise.all(n.map((t=>t.finished))).then((()=>{const e=this._elements[t];e.remove()}))}else{const e=this._elements[t];e.remove()}}return new OE([],null,this._parent,this._document,void 0,this._transitions)}each(t){for(let e=0;e<this._elements.length;e++){const n=this._elements[e],r=n.__data__;t.call(n,r,e)}return this}attr(t,e){const n="function"!==typeof e?()=>e:e;return this.each((function(r,i){void 0!==e&&(this[t]=n.call(this,r,i))}))}style(t,e){const n="function"!==typeof e?()=>e:e;return this.each((function(r,i){void 0!==e&&(this.style[t]=n.call(this,r,i))}))}transition(t){const e="function"!==typeof t?()=>t:t,{_transitions:n}=this;return this.each((function(t,r){n[r]=e.call(this,t,r)}))}on(t,e){return this.each((function(){this.addEventListener(t,e)})),this}call(t,...e){return t.call(this._parent,this,...e),this}node(){return this._elements[0]}nodes(){return this._elements}transitions(){return this._transitions}parent(){return this._parent}}OE.registry={g:Oc,rect:Tc,circle:bc,path:Ec,text:Ac,ellipse:wc,image:Sc,line:_c,polygon:Mc,polyline:kc,html:Cc};var CE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const SE=(t,e)=>{const{shape:n,radius:r}=t,i=CE(t,["shape","radius"]),o=Gg(i,"pointer"),a=Gg(i,"pin"),{shape:s}=o,l=CE(o,["shape"]),{shape:c}=a,u=CE(a,["shape"]),{coordinate:h,theme:f}=e;return(t,e)=>{const n=t.map((t=>h.invert(t))),[o,a,d]=Ev(h,"polar"),p=h.clone(),{color:v}=e,g=qd({startAngle:o,endAngle:a,innerRadius:d,outerRadius:r});g.push(["cartesian"]),p.update({transformations:g});const y=n.map((t=>p.map(t))),[m,b]=xE(y),[x,w]=h.getCenter(),O=Object.assign(Object.assign({x1:m,y1:b,x2:x,y2:w,stroke:v},l),i),C=Object.assign(Object.assign({cx:x,cy:w,stroke:v},u),i),S=wE(new Oc);return Kg(s)||("function"===typeof s?S.append((()=>s(y,e,p,f))):S.append("line").call(hE,O).node()),Kg(c)||("function"===typeof c?S.append((()=>c(y,e,p,f))):S.append("circle").call(hE,C).node()),S.node()}},_E={coordinate:{type:"radial",innerRadius:.9,outerRadius:1,startAngle:-1.1*Math.PI,endAngle:.1*Math.PI},axis:{x:!1},legend:!1,tooltip:!1,encode:{x:"x",y:"y",color:"color"},scale:{color:{range:["#30BF78","#D0D0D0"]}}},EE={style:{shape:SE,lineWidth:4,pointerLineCap:"round",pinR:10,pinFill:"#fff",radius:.6}},ME={type:"text",style:{x:"50%",y:"60%",textAlign:"center",textBaseline:"middle",fontSize:20,fontWeight:800,fill:"#888"}};function kE(t,e){const{name:n="score",target:r,total:i,percent:o,thresholds:a=[]}=t,s=o||r,l=o?1:i,c=Object.assign({y:{domain:[0,l]}},e);return a.length?{targetData:[{x:n,y:s,color:"target"}],totalData:a.map(((t,e)=>({x:n,y:e>=1?t-a[e-1]:t,color:e}))),target:s,total:l,scale:c}:{targetData:[{x:n,y:s,color:"target"}],totalData:[{x:n,y:s,color:"target"},{x:n,y:l-s,color:"total"}],target:s,total:l,scale:c}}function TE(t,{target:e,total:n}){const{content:r}=t;return r?r(e,n):e.toString()}const AE=t=>{const{data:e={},scale:n={},style:r={},animate:i={},transform:o=[]}=t,a=CE(t,["data","scale","style","animate","transform"]),{targetData:s,totalData:l,target:c,total:u,scale:h}=kE(e,n),f=Gg(r,"text"),d=Yg(r,["pointer","pin"]);return[Bd({},_E,Object.assign({type:"interval",transform:[{type:"stackY"}],data:l,scale:h,style:Gg(r,"arc"),animate:"object"===typeof i?Gg(i,"arc"):i},a)),Bd({},_E,EE,Object.assign({type:"point",data:s,scale:h,style:d,animate:"object"===typeof i?Gg(i,"indicator"):i},a)),Bd({},ME,{style:Object.assign({text:TE(f,{target:c,total:u})},f),animate:"object"===typeof i?Gg(i,"text"):i})]};AE.props={};const LE=()=>(t,e,n,r)=>{const{x:i,series:o}=n,a=Object.entries(n).filter((([t])=>t.startsWith("y"))).map((([,t])=>t)),s=Object.entries(n).filter((([t])=>t.startsWith("size"))).map((([,t])=>t));if(void 0===i||void 0===a||void 0===s)throw new Error("Missing encode for x or y or size channel.");const l=e.x,c=e.series,u=Array.from(t,(e=>{const n=l.getBandWidth(l.invert(+i[e])),u=c?c.getBandWidth(c.invert(+(null===o||void 0===o?void 0:o[e]))):1,h=n*u,f=(+(null===o||void 0===o?void 0:o[e])||0)*n,d=+i[e]+f+h/2,p=[...a.map(((n,r)=>[d+ +s[r][e]/t.length,+a[r][e]])),...a.map(((n,r)=>[d-+s[r][e]/t.length,+a[r][e]])).reverse()];return p.map((t=>r.map(t)))}));return[t,u]},PE=["density"];LE.props={defaultShape:"density",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:PE}),{name:"x",scale:"band",required:!0},{name:"y",required:!0},{name:"size",required:!0},{name:"series",scale:"band"},{name:"size",required:!0,scale:"identity"}],preInference:[...Hp(),{type:"maybeZeroY1"},{type:"maybeZeroX"}],postInference:[...$p(),...Fp()],interaction:{shareTooltip:!0}};const RE=t=>(t,e,n,r)=>{const{x:i,y:o,size:a,color:s}=n,l=Array.from(t,(t=>{const e=a?+a[t]:40;return[...r.map([+i[t],+o[t]]),s[t],e]}));return[[0],[l]]},IE=["heatmap"];RE.props={defaultShape:"heatmap",defaultLabelShape:"label",composite:!1,channels:[...Bp({shapes:IE}),{name:"x",required:!0},{name:"y",required:!0},{name:"color",scale:"identity",required:!0},{name:"size"}],preInference:[...Hp(),{type:"maybeZeroY"},{type:"maybeZeroX"}],postInference:[...$p(),...Dp()]};const NE=()=>["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"];NE.props={};const jE=()=>["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"];jE.props={};const BE=t=>new kS(t);BE.props={};const DE=t=>new qS(t);DE.props={};const FE=t=>new OS(t);FE.props={};const zE=t=>new GS(t);zE.props={};const WE=t=>new KS(t);WE.props={};const HE=t=>new B_(t);HE.props={};const $E=t=>new o_(t);$E.props={};const GE=t=>new t_(t);GE.props={};const VE=t=>new n_(t);VE.props={};const YE=t=>new c_(t);YE.props={};const UE=t=>new a_(t);UE.props={};const XE=t=>new e_(t);XE.props={};const qE=t=>new H_(t);qE.props={};const KE=t=>new AS(t);function ZE(t){return function(){return t}}KE.props={};const QE=Math.abs,JE=Math.atan2,tM=Math.cos,eM=Math.max,nM=Math.min,rM=Math.sin,iM=Math.sqrt,oM=1e-12,aM=Math.PI,sM=aM/2,lM=2*aM;function cM(t){return t>1?0:t<-1?aM:Math.acos(t)}function uM(t){return t>=1?sM:t<=-1?-sM:Math.asin(t)}const hM=Math.PI,fM=2*hM,dM=1e-6,pM=fM-dM;function vM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function gM(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return vM;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}class yM{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?vM:gM(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,o){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-t,l=r-e,c=o-t,u=a-e,h=c*c+u*u;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(h>dM)if(Math.abs(u*s-l*c)>dM&&i){let f=n-o,d=r-a,p=s*s+l*l,v=f*f+d*d,g=Math.sqrt(p),y=Math.sqrt(h),m=i*Math.tan((hM-Math.acos((p+h-v)/(2*g*y)))/2),b=m/y,x=m/g;Math.abs(b-1)>dM&&this._append`L${t+b*c},${e+b*u}`,this._append`A${i},${i},0,0,${+(u*f>c*d)},${this._x1=t+x*s},${this._y1=e+x*l}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,n,r,i,o){if(t=+t,e=+e,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,h=o?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>dM||Math.abs(this._y1-c)>dM)&&this._append`L${l},${c}`,n&&(h<0&&(h=h%fM+fM),h>pM?this._append`A${n},${n},0,1,${u},${t-a},${e-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:h>dM&&this._append`A${n},${n},0,${+(h>=hM)},${u},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function mM(){return new yM}function bM(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new yM(e)}function xM(t){return t.innerRadius}function wM(t){return t.outerRadius}function OM(t){return t.startAngle}function CM(t){return t.endAngle}function SM(t){return t&&t.padAngle}function _M(t,e,n,r,i,o,a,s){var l=n-t,c=r-e,u=a-i,h=s-o,f=h*l-u*c;if(!(f*f<oM))return f=(u*(e-o)-h*(t-i))/f,[t+f*l,e+f*c]}function EM(t,e,n,r,i,o,a){var s=t-n,l=e-r,c=(a?o:-o)/iM(s*s+l*l),u=c*l,h=-c*s,f=t+u,d=e+h,p=n+u,v=r+h,g=(f+p)/2,y=(d+v)/2,m=p-f,b=v-d,x=m*m+b*b,w=i-o,O=f*v-p*d,C=(b<0?-1:1)*iM(eM(0,w*w*x-O*O)),S=(O*b-m*C)/x,_=(-O*m-b*C)/x,E=(O*b+m*C)/x,M=(-O*m+b*C)/x,k=S-g,T=_-y,A=E-g,L=M-y;return k*k+T*T>A*A+L*L&&(S=E,_=M),{cx:S,cy:_,x01:-u,y01:-h,x11:S*(i/w-1),y11:_*(i/w-1)}}function MM(){var t=xM,e=wM,n=ZE(0),r=null,i=OM,o=CM,a=SM,s=null,l=bM(c);function c(){var c,u,h=+t.apply(this,arguments),f=+e.apply(this,arguments),d=i.apply(this,arguments)-sM,p=o.apply(this,arguments)-sM,v=QE(p-d),g=p>d;if(s||(s=c=l()),f<h&&(u=f,f=h,h=u),f>oM)if(v>lM-oM)s.moveTo(f*tM(d),f*rM(d)),s.arc(0,0,f,d,p,!g),h>oM&&(s.moveTo(h*tM(p),h*rM(p)),s.arc(0,0,h,p,d,g));else{var y,m,b=d,x=p,w=d,O=p,C=v,S=v,_=a.apply(this,arguments)/2,E=_>oM&&(r?+r.apply(this,arguments):iM(h*h+f*f)),M=nM(QE(f-h)/2,+n.apply(this,arguments)),k=M,T=M;if(E>oM){var A=uM(E/h*rM(_)),L=uM(E/f*rM(_));(C-=2*A)>oM?(A*=g?1:-1,w+=A,O-=A):(C=0,w=O=(d+p)/2),(S-=2*L)>oM?(L*=g?1:-1,b+=L,x-=L):(S=0,b=x=(d+p)/2)}var P=f*tM(b),R=f*rM(b),I=h*tM(O),N=h*rM(O);if(M>oM){var j,B=f*tM(x),D=f*rM(x),F=h*tM(w),z=h*rM(w);if(v<aM)if(j=_M(P,R,F,z,B,D,I,N)){var W=P-j[0],H=R-j[1],$=B-j[0],G=D-j[1],V=1/rM(cM((W*$+H*G)/(iM(W*W+H*H)*iM($*$+G*G)))/2),Y=iM(j[0]*j[0]+j[1]*j[1]);k=nM(M,(h-Y)/(V-1)),T=nM(M,(f-Y)/(V+1))}else k=T=0}S>oM?T>oM?(y=EM(F,z,P,R,f,T,g),m=EM(B,D,I,N,f,T,g),s.moveTo(y.cx+y.x01,y.cy+y.y01),T<M?s.arc(y.cx,y.cy,T,JE(y.y01,y.x01),JE(m.y01,m.x01),!g):(s.arc(y.cx,y.cy,T,JE(y.y01,y.x01),JE(y.y11,y.x11),!g),s.arc(0,0,f,JE(y.cy+y.y11,y.cx+y.x11),JE(m.cy+m.y11,m.cx+m.x11),!g),s.arc(m.cx,m.cy,T,JE(m.y11,m.x11),JE(m.y01,m.x01),!g))):(s.moveTo(P,R),s.arc(0,0,f,b,x,!g)):s.moveTo(P,R),h>oM&&C>oM?k>oM?(y=EM(I,N,B,D,h,-k,g),m=EM(P,R,F,z,h,-k,g),s.lineTo(y.cx+y.x01,y.cy+y.y01),k<M?s.arc(y.cx,y.cy,k,JE(y.y01,y.x01),JE(m.y01,m.x01),!g):(s.arc(y.cx,y.cy,k,JE(y.y01,y.x01),JE(y.y11,y.x11),!g),s.arc(0,0,h,JE(y.cy+y.y11,y.cx+y.x11),JE(m.cy+m.y11,m.cx+m.x11),g),s.arc(m.cx,m.cy,k,JE(m.y11,m.x11),JE(m.y01,m.x01),!g))):s.arc(0,0,h,O,w,g):s.lineTo(I,N)}else s.moveTo(0,0);if(s.closePath(),c)return s=null,c+""||null}return c.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-aM/2;return[tM(r)*n,rM(r)*n]},c.innerRadius=function(e){return arguments.length?(t="function"===typeof e?e:ZE(+e),c):t},c.outerRadius=function(t){return arguments.length?(e="function"===typeof t?t:ZE(+t),c):e},c.cornerRadius=function(t){return arguments.length?(n="function"===typeof t?t:ZE(+t),c):n},c.padRadius=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:ZE(+t),c):r},c.startAngle=function(t){return arguments.length?(i="function"===typeof t?t:ZE(+t),c):i},c.endAngle=function(t){return arguments.length?(o="function"===typeof t?t:ZE(+t),c):o},c.padAngle=function(t){return arguments.length?(a="function"===typeof t?t:ZE(+t),c):a},c.context=function(t){return arguments.length?(s=null==t?null:t,c):s},c}function kM(t,e,n){return Math.max(e,Math.min(t,n))}mM.prototype=yM.prototype;var TM=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function AM(t,e,n,r,i={}){const{inset:o=0,radius:a=0,insetLeft:s=o,insetTop:l=o,insetRight:c=o,insetBottom:u=o,radiusBottomLeft:h=a,radiusBottomRight:f=a,radiusTopLeft:d=a,radiusTopRight:p=a,minWidth:v=-1/0,maxWidth:g=1/0}=i,y=TM(i,["inset","radius","insetLeft","insetTop","insetRight","insetBottom","radiusBottomLeft","radiusBottomRight","radiusTopLeft","radiusTopRight","minWidth","maxWidth"]);if(!vv(r)&&!yv(r)){const n=!!pv(r),[i,,o]=n?gE(e):e,[a,m]=i,[b,x]=rE(o,i),w=b>0?a:a+b,O=x>0?m:m+x,C=Math.abs(b),S=Math.abs(x),_=w+s,E=O+l,M=C-(s+c),k=S-(l+u),T=n?M:kM(M,v,g),A=n?kM(k,v,g):k,L=_-(T-M)/2,P=E-(A-k)/2;return wE(t.createElement("rect",{})).style("x",L).style("y",P).style("width",T).style("height",A).style("radius",[d,p,f,h]).call(hE,y).node()}const{y:m,y1:b}=n,x=r.getCenter(),w=yE(r,e,[m,b]),O=MM().cornerRadius(a).padAngle(o*Math.PI/180);return wE(t.createElement("path",{})).style("path",O(w)).style("transform",`translate(${x[0]}, ${x[1]})`).style("radius",a).style("inset",o).call(hE,y).node()}const LM=(t,e)=>{const{colorAttribute:n,opacityAttribute:r="fill",first:i=!0,last:o=!0}=t,a=TM(t,["colorAttribute","opacityAttribute","first","last"]),{coordinate:s,document:l}=e;return(e,r,c)=>{const{color:u,radius:h=0}=c,f=TM(c,["color","radius"]),d=f.lineWidth||1,{stroke:p,radius:v=h,radiusTopLeft:g=v,radiusTopRight:y=v,radiusBottomRight:m=v,radiusBottomLeft:b=v,innerRadius:x=0,innerRadiusTopLeft:w=x,innerRadiusTopRight:O=x,innerRadiusBottomRight:C=x,innerRadiusBottomLeft:S=x,lineWidth:_=("stroke"===n||p?d:0),inset:E=0,insetLeft:M=E,insetRight:k=E,insetBottom:T=E,insetTop:A=E,minWidth:L,maxWidth:P}=a,R=TM(a,["stroke","radius","radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft","innerRadius","innerRadiusTopLeft","innerRadiusTopRight","innerRadiusBottomRight","innerRadiusBottomLeft","lineWidth","inset","insetLeft","insetRight","insetBottom","insetTop","minWidth","maxWidth"]),{color:I=u,opacity:N}=r,j=[i?g:w,i?y:O,o?m:C,o?b:S],B=["radiusTopLeft","radiusTopRight","radiusBottomRight","radiusBottomLeft"];pv(s)&&B.push(B.shift());const D=Object.assign(Object.assign({radius:v},Object.fromEntries(B.map(((t,e)=>[t,j[e]])))),{inset:E,insetLeft:M,insetRight:k,insetBottom:T,insetTop:A,minWidth:L,maxWidth:P});return wE(AM(l,e,r,s,D)).call(hE,f).style("fill","transparent").style(n,I).style(mE(t),N).style("lineWidth",_).style("stroke",void 0===p?I:p).call(hE,R).node()}};LM.props={defaultEnterAnimation:"scaleInY",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const PM=(t,e)=>LM(Object.assign({colorAttribute:"fill"},t),e);PM.props=Object.assign(Object.assign({},LM.props),{defaultMarker:"square"});const RM=(t,e)=>LM(Object.assign({colorAttribute:"stroke"},t),e);RM.props=Object.assign(Object.assign({},LM.props),{defaultMarker:"hollowSquare"});Array.prototype.slice;function IM(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function NM(t){this._context=t}function jM(t){return new NM(t)}function BM(t){return t[0]}function DM(t){return t[1]}function FM(t,e){var n=ZE(!0),r=null,i=jM,o=null,a=bM(s);function s(s){var l,c,u,h=(s=IM(s)).length,f=!1;for(null==r&&(o=i(u=a())),l=0;l<=h;++l)!(l<h&&n(c=s[l],l,s))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(c,l,s),+e(c,l,s));if(u)return o=null,u+""||null}return t="function"===typeof t?t:void 0===t?BM:ZE(t),e="function"===typeof e?e:void 0===e?DM:ZE(e),s.x=function(e){return arguments.length?(t="function"===typeof e?e:ZE(+e),s):t},s.y=function(t){return arguments.length?(e="function"===typeof t?t:ZE(+t),s):e},s.defined=function(t){return arguments.length?(n="function"===typeof t?t:ZE(!!t),s):n},s.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),s):i},s.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),s):r},s}function zM(){}function WM(t){this._context=t}function HM(t){return new WM(t)}NM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}},WM.prototype={areaStart:zM,areaEnd:zM,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var $M=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function GM(t,e,n){const[r,i,o,a]=t;if(pv(n)){const t=[e?e[0][0]:i[0],i[1]],n=[e?e[3][0]:o[0],o[1]];return[r,t,n,a]}const s=[i[0],e?e[0][1]:i[1]],l=[o[0],e?e[3][1]:o[1]];return[r,s,l,a]}const VM=(t,e)=>{const{adjustPoints:n=GM}=t,r=$M(t,["adjustPoints"]),{coordinate:i,document:o}=e;return(t,e,a,s)=>{const{index:l}=e,{color:c}=a,u=$M(a,["color"]),h=s[l+1],f=n(t,h,i),d=!!pv(i),[p,v,g,y]=d?gE(f):f,{color:m=c,opacity:b}=e,x=FM().curve(HM)([p,v,g,y]);return wE(o.createElement("path",{})).call(hE,u).style("path",x).style("fill",m).style("fillOpacity",b).call(hE,r).node()}};function YM(t,e,n){const[r,i,o,a]=t;if(pv(n)){const t=[e?e[0][0]:(i[0]+o[0])/2,i[1]],n=[e?e[3][0]:(i[0]+o[0])/2,o[1]];return[r,t,n,a]}const s=[i[0],e?e[0][1]:(i[1]+o[1])/2],l=[o[0],e?e[3][1]:(i[1]+o[1])/2];return[r,s,l,a]}VM.props={defaultMarker:"square"};const UM=(t,e)=>VM(Object.assign({adjustPoints:YM},t),e);UM.props={defaultMarker:"square"};var XM=KM(jM);function qM(t){this._curve=t}function KM(t){function e(e){return new qM(t(e))}return e._curve=t,e}function ZM(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(KM(t)):e()._curve},t}function QM(){return ZM(FM().curve(XM))}function JM(t){const e="function"===typeof t?t:t.render;return class extends xc{connectedCallback(){this.draw()}attributeChangedCallback(){this.draw()}draw(){e(this)}}}qM.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var tk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const ek=JM((t=>{const{d1:e,d2:n,style1:r,style2:i}=t.attributes,o=t.ownerDocument;wE(t).maybeAppend("line",(()=>o.createElement("path",{}))).style("d",e).call(hE,r),wE(t).maybeAppend("line1",(()=>o.createElement("path",{}))).style("d",n).call(hE,i)}));function nk(t,e){const n=[],r=[];let i=!1,o=null;for(const a of t)e(a[0])&&e(a[1])?(n.push(a),i&&(i=!1,r.push([o,a])),o=a):i=!0;return[n,r]}const rk=(t,e)=>{const{curve:n,gradient:r=!1,gradientColor:i="between",defined:o=(t=>!Number.isNaN(t)&&void 0!==t&&null!==t),connect:a=!1}=t,s=tk(t,["curve","gradient","gradientColor","defined","connect"]),{coordinate:l,document:c}=e;return(t,e,u)=>{const{color:h,lineWidth:f}=u,d=tk(u,["color","lineWidth"]),{color:p=h,size:v=f,seriesColor:g,seriesX:y,seriesY:m}=e,b=r&&g?vE(g,y,m,r,i):p,x=bE(l,e),w=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},d),b&&{stroke:b}),v&&{lineWidth:v}),x&&{transform:x}),s);let O;if(vv(l)){const t=l.getCenter();O=e=>QM().angle(((n,r)=>sE(rE(e[r],t)))).radius(((n,r)=>oE(e[r],t))).defined((([t,e])=>o(t)&&o(e))).curve(n)(e)}else O=FM().x((t=>t[0])).y((t=>t[1])).defined((([t,e])=>o(t)&&o(e))).curve(n);const[C,S]=nk(t,o),_=Gg(w,"connect"),E=!!S.length;if(!E||a&&!Object.keys(_).length)return wE(c.createElement("path",{})).style("d",O(C)||[]).call(hE,w).node();if(E&&!a)return wE(c.createElement("path",{})).style("d",O(t)).call(hE,w).node();const M=t=>t.map(O).join(",");return wE(new ek).style("style1",Object.assign(Object.assign({},w),_)).style("style2",w).style("d1",M(S)).style("d2",O(t)).node()}};rk.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const ik=(t,e)=>{const{coordinate:n}=e;return(...r)=>{const i=vv(n)?HM:jM;return rk(Object.assign({curve:i},t),e)(...r)}};function ok(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function ak(t,e){this._context=t,this._k=(1-e)/6}ik.props=Object.assign(Object.assign({},rk.props),{defaultMarker:"line"}),ak.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ok(this,this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ok(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new ak(t,e)}return n.tension=function(e){return t(+e)},n})(0);function sk(t,e){this._context=t,this._k=(1-e)/6}sk.prototype={areaStart:zM,areaEnd:zM,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ok(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new sk(t,e)}return n.tension=function(e){return t(+e)},n})(0);function lk(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>oM){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>oM){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/u,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function ck(t,e){this._context=t,this._alpha=e}ck.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:lk(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var uk=function t(e){function n(t){return e?new ck(t,e):new ak(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function hk(t,e){this._context=t,this._alpha=e}hk.prototype={areaStart:zM,areaEnd:zM,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:lk(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var fk=function t(e){function n(t){return e?new hk(t,e):new sk(t,0)}return n.alpha=function(e){return t(+e)},n}(.5),dk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const pk=(t,e)=>{const{alpha:n=.5}=t,r=dk(t,["alpha"]),{coordinate:i}=e;return(...t)=>{const o=vv(i)?fk:uk;return rk(Object.assign({curve:o.alpha(n)},r),e)(...t)}};function vk(t,e){this._context=t,this._t=e}function gk(t){return new vk(t,.5)}function yk(t){return new vk(t,0)}function mk(t){return new vk(t,1)}pk.props=Object.assign(Object.assign({},rk.props),{defaultMarker:"smooth"}),vk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}this._x=t,this._y=e}};const bk=(t,e)=>rk(Object.assign({curve:mk},t),e);bk.props=Object.assign(Object.assign({},rk.props),{defaultMarker:"hv"});const xk=(t,e)=>rk(Object.assign({curve:yk},t),e);xk.props=Object.assign(Object.assign({},rk.props),{defaultMarker:"vh"});const wk=(t,e)=>rk(Object.assign({curve:gk},t),e);wk.props=Object.assign(Object.assign({},rk.props),{defaultMarker:"hvh"});var Ok=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Ck(t,e,n,r,i){const o=rE(n,e),a=aE(o),s=a+Math.PI/2,l=[r/2*Math.cos(s),r/2*Math.sin(s)],c=[i/2*Math.cos(s),i/2*Math.sin(s)],u=[i/2*Math.cos(a),i/2*Math.sin(a)],h=[r/2*Math.cos(a),r/2*Math.sin(a)],f=iE(e,l),d=iE(n,c),p=iE(d,u),v=iE(n,u),g=rE(v,c),y=rE(n,c),m=rE(e,l),b=rE(m,h),x=rE(e,h),w=rE(f,h);t.moveTo(...f),t.lineTo(...d),t.arcTo(...p,...v,i/2),t.arcTo(...g,...y,i/2),t.lineTo(...m),t.arcTo(...b,...x,r/2),t.arcTo(...w,...f,r/2),t.closePath()}const Sk=(t,e)=>{const{document:n}=e;return(e,r,i)=>{const{seriesSize:o,color:a}=r,{color:s}=i,l=Ok(i,["color"]),c=mM();for(let t=0;t<e.length-1;t++){const n=e[t],r=e[t+1],i=o[t],a=o[t+1];[...n,...r].every(Wg)&&Ck(c,n,r,i,a)}return wE(n.createElement("path",{})).call(hE,l).style("fill",a||s).style("d",c.toString()).call(hE,t).node()}};Sk.props=Object.assign(Object.assign({},rk.props),{defaultMarker:"line"});var _k=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const Ek=(t,e,n)=>[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e],["Z"]];Ek.style=["fill"];const Mk=Ek.bind(void 0);Mk.style=["stroke","lineWidth"];const kk=(t,e,n)=>[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]];kk.style=["fill"];const Tk=kk.bind(void 0);Tk.style=["fill"];const Ak=kk.bind(void 0);Ak.style=["stroke","lineWidth"];const Lk=(t,e,n)=>{const r=.618*n;return[["M",t-r,e],["L",t,e-n],["L",t+r,e],["L",t,e+n],["Z"]]};Lk.style=["fill"];const Pk=Lk.bind(void 0);Pk.style=["stroke","lineWidth"];const Rk=(t,e,n)=>{const r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]};Rk.style=["fill"];const Ik=Rk.bind(void 0);Ik.style=["stroke","lineWidth"];const Nk=(t,e,n)=>{const r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]};Nk.style=["fill"];const jk=Nk.bind(void 0);jk.style=["stroke","lineWidth"];const Bk=(t,e,n)=>{const r=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]};Bk.style=["fill"];const Dk=Bk.bind(void 0);Dk.style=["stroke","lineWidth"];const Fk=(t,e,n)=>{const r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]};Fk.style=["fill"];const zk=Fk.bind(void 0);zk.style=["stroke","lineWidth"];const Wk=(t,e,n)=>[["M",t,e+n],["L",t,e-n]];Wk.style=["stroke","lineWidth"];const Hk=(t,e,n)=>[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]];Hk.style=["stroke","lineWidth"];const $k=(t,e,n)=>[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]];$k.style=["stroke","lineWidth"];const Gk=(t,e,n)=>[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]];Gk.style=["stroke","lineWidth"];const Vk=(t,e,n)=>[["M",t-n,e],["L",t+n,e]];Vk.style=["stroke","lineWidth"];const Yk=(t,e,n)=>[["M",t-n,e],["L",t+n,e]];Yk.style=["stroke","lineWidth"];const Uk=Yk.bind(void 0);Uk.style=["stroke","lineWidth"];const Xk=(t,e,n)=>[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]];Xk.style=["stroke","lineWidth"];const qk=(t,e,n)=>[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]];qk.style=["stroke","lineWidth"];const Kk=(t,e,n)=>[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]];Kk.style=["stroke","lineWidth"];const Zk=(t,e,n)=>[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]];Zk.style=["stroke","lineWidth"];const Qk=(t,e,n)=>[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]];Qk.style=["stroke","lineWidth"];const Jk=new Map([["bowtie",Fk],["cross",Hk],["dash",Uk],["diamond",Lk],["dot",Yk],["hexagon",Bk],["hollowBowtie",zk],["hollowDiamond",Pk],["hollowHexagon",Dk],["hollowPoint",Mk],["hollowSquare",Ak],["hollowTriangle",Ik],["hollowTriangleDown",jk],["hv",qk],["hvh",Zk],["hyphen",Vk],["line",Wk],["plus",Gk],["point",Ek],["rect",Tk],["smooth",Xk],["square",kk],["tick",$k],["triangleDown",Nk],["triangle",Rk],["vh",Kk],["vhv",Qk]]);function tT(t,e){var{d:n,fill:r,strokeWidth:i,path:o,stroke:a,lineWidth:s,color:l}=e,c=_k(e,["d","fill","strokeWidth","path","stroke","lineWidth","color"]);const u=Jk.get(t)||Jk.get("point");return(...t)=>{const e=new Ec({style:Object.assign(Object.assign({},c),{path:u(...t),stroke:u.style.includes("stroke")?l||a:"",fill:u.style.includes("fill")?l||r:"",lineWidth:u.style.includes("lineWidth")?s||s||2:0})});return e}}var eT=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function nT(t,e,n,r){if(1===e.length)return;const{size:i}=n;if("fixed"===t)return i;if("normal"===t||bv(r)){const[[t,n],[r,i]]=e,o=Math.abs((r-t)/2),a=Math.abs((i-n)/2);return Math.max(0,(o+a)/2)}return i}const rT=(t,e)=>{const{colorAttribute:n,symbol:r,mode:i="auto"}=t,o=eT(t,["colorAttribute","symbol","mode"]),a=Jk.get(r)||Jk.get("point"),{coordinate:s,document:l}=e;return(e,r,c)=>{const{lineWidth:u,color:h}=c,f=o.stroke?u||1:u,{color:d=h,transform:p,opacity:v}=r,[g,y]=xE(e),m=nT(i,e,r,s),b=m||o.r||c.r;return wE(l.createElement("path",{})).call(hE,c).style("fill","transparent").style("d",a(g,y,b)).style("lineWidth",f).style("transform",p).style("stroke",d).style(mE(t),v).style(n,d).call(hE,o).node()}};rT.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const iT=(t,e)=>rT(Object.assign({colorAttribute:"fill",symbol:"bowtie"},t),e);iT.props=Object.assign({defaultMarker:"bowtie"},rT.props);const oT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"cross"},t),e);oT.props=Object.assign({defaultMarker:"cross"},rT.props);const aT=(t,e)=>rT(Object.assign({colorAttribute:"fill",symbol:"diamond"},t),e);aT.props=Object.assign({defaultMarker:"diamond"},rT.props);const sT=(t,e)=>rT(Object.assign({colorAttribute:"fill",symbol:"hexagon"},t),e);sT.props=Object.assign({defaultMarker:"hexagon"},rT.props);const lT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"bowtie"},t),e);lT.props=Object.assign({defaultMarker:"hollowBowtie"},rT.props);const cT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"diamond"},t),e);cT.props=Object.assign({defaultMarker:"hollowDiamond"},rT.props);const uT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"hexagon"},t),e);uT.props=Object.assign({defaultMarker:"hollowHexagon"},rT.props);const hT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"point"},t),e);hT.props=Object.assign({defaultMarker:"hollowPoint"},rT.props);const fT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"square"},t),e);fT.props=Object.assign({defaultMarker:"hollowSquare"},rT.props);const dT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"triangle"},t),e);dT.props=Object.assign({defaultMarker:"hollowTriangle"},rT.props);const pT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"triangle-down"},t),e);pT.props=Object.assign({defaultMarker:"hollowTriangleDown"},rT.props);const vT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"hyphen"},t),e);vT.props=Object.assign({defaultMarker:"hyphen"},rT.props);const gT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"line"},t),e);gT.props=Object.assign({defaultMarker:"line"},rT.props);const yT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"plus"},t),e);yT.props=Object.assign({defaultMarker:"plus"},rT.props);const mT=(t,e)=>rT(Object.assign({colorAttribute:"fill",symbol:"point"},t),e);mT.props=Object.assign({defaultMarker:"point"},rT.props);const bT=(t,e)=>rT(Object.assign({colorAttribute:"fill",symbol:"square"},t),e);bT.props=Object.assign({defaultMarker:"square"},rT.props);const xT=(t,e)=>rT(Object.assign({colorAttribute:"stroke",symbol:"tick"},t),e);xT.props=Object.assign({defaultMarker:"tick"},rT.props);const wT=(t,e)=>rT(Object.assign({colorAttribute:"fill",symbol:"triangle"},t),e);wT.props=Object.assign({defaultMarker:"triangle"},rT.props);const OT=(t,e)=>rT(Object.assign({colorAttribute:"fill",symbol:"triangle-down"},t),e);OT.props=Object.assign({defaultMarker:"triangleDown"},rT.props);var CT=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const ST=(t,e)=>{const{arrow:n=!0,arrowSize:r="40%"}=t,i=CT(t,["arrow","arrowSize"]),{document:o}=e;return(t,e,a)=>{const{defaultColor:s}=a,l=CT(a,["defaultColor"]),{color:c=s,transform:u}=e,[h,f]=t,d=mM();if(d.moveTo(...h),d.lineTo(...f),n){const[t,e]=dE(h,f,{arrowSize:r});d.moveTo(...f),d.lineTo(...t),d.moveTo(...f),d.lineTo(...e)}return wE(o.createElement("path",{})).call(hE,l).style("d",d.toString()).style("stroke",c).style("transform",u).call(hE,i).node()}};ST.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var _T=function(t){return"function"===typeof t};function ET(t,e){e(t),t.children&&t.children.forEach((function(t){t&&ET(t,e)}))}function MT(t){TT(t,!0)}function kT(t){TT(t,!1)}function TT(t,e){var n=e?"visible":"hidden";ET(t,(function(t){t.attr("visibility",n)}))}var AT=5,LT=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=AT),Object.entries(e).forEach((function(i){var o=VC(i,2),a=o[0],s=o[1],l=t;Object.prototype.hasOwnProperty.call(e,a)&&(s?Pd(s)?(Pd(t[a])||(l[a]={}),n<r?LT(t[a],s,n+1,r):l[a]=e[a]):tn(s)?(l[a]=[],l[a]=l[a].concat(s)):l[a]=s:l[a]=s)}))},PT=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)LT(t,e[r]);return t},RT=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(this,UC([],VC(e),!1))||this;return r.addEventListener(Pl.INSERTED,(function(){kT(r)})),r}return zC(e,t),e}(Oc);function IT(t){var e=t.appendChild(new RT({class:"offscreen"}));return kT(e),e}function NT(t){var e=t;while(e){if("offscreen"===e.className)return!0;e=e.parent}return!1}function jT(){TT(this,"hidden"!==this.attributes.visibility)}var BT=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this,PT({},{style:n},e))||this;return r.initialized=!1,r._defaultOptions=n,r}return zC(e,t),Object.defineProperty(e.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=IT(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},e.prototype.disconnectedCallback=function(){var t;null===(t=this._offscreen)||void 0===t||t.destroy()},e.prototype.attributeChangedCallback=function(t){"visibility"===t&&jT.call(this)},e.prototype.update=function(t,e){var n;return void 0===t&&(t={}),this.attr(PT({},this.attributes,t)),null===(n=this.render)||void 0===n?void 0:n.call(this,this.attributes,this,e)},e.prototype.clear=function(){this.removeChildren()},e.prototype.bindEvents=function(t,e){},e}(xc);function DT(t,e,n,r,i){return void 0===r&&(r=!0),void 0===i&&(i=function(t){t.node().removeChildren()}),t?n(e):(r&&i(e),null)}var FT=function(t){function e(e){void 0===e&&(e={});var n=e.style,r=HC(e,["style"]);return t.call(this,WC({style:WC({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},n)},r))||this}return zC(e,t),Object.defineProperty(e.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=IT(this)),this._offscreen},enumerable:!1,configurable:!0}),e.prototype.disconnectedCallback=function(){var t;null===(t=this._offscreen)||void 0===t||t.destroy()},e}(Ac);function zT(t){throw new Error(t)}var WT=function(){function t(t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=[null,null,null,null,null]),void 0===a&&(a=[]),void 0===s&&(s=[]),e.add(this),this._elements=Array.from(t),this._data=n,this._parent=r,this._document=i,this._enter=o[0],this._update=o[1],this._exit=o[2],this._merge=o[3],this._split=o[4],this._transitions=a,this._facetElements=s}var e,n;return t.prototype.selectAll=function(e){var n="string"===typeof e?this._parent.querySelectorAll(e):e;return new t(n,null,this._elements[0],this._document)},t.prototype.selectFacetAll=function(e){var n="string"===typeof e?this._parent.querySelectorAll(e):e;return new t(this._elements,null,this._parent,this._document,void 0,void 0,n)},t.prototype.select=function(e){var n="string"===typeof e?this._parent.querySelectorAll(e)[0]||null:e;return new t([n],null,n,this._document)},t.prototype.append=function(e){var n=this,r="function"===typeof e?e:function(){return n.createElement(e)},i=[];if(null!==this._data){for(var o=0;o<this._data.length;o++){var a=this._data[o],s=VC(Array.isArray(a)?a:[a,null],2),l=s[0],c=s[1],u=r(l,o);u.__data__=l,null!==c&&(u.__fromElements__=c),this._parent.appendChild(u),i.push(u)}return new t(i,null,this._parent,this._document)}for(o=0;o<this._elements.length;o++){var h=this._elements[o];l=h.__data__,u=r(l,o);h.appendChild(u),i.push(u)}return new t(i,null,i[0],this._document)},t.prototype.maybeAppend=function(t,r){var i=qC(this,e,"m",n).call(this,"#"===t[0]?t:"#".concat(t),r);return i.attr("id",t),i},t.prototype.maybeAppendByClassName=function(t,r){var i=t.toString(),o=qC(this,e,"m",n).call(this,"."===i[0]?i:".".concat(i),r);return o.attr("className",i),o},t.prototype.maybeAppendByName=function(t,r){var i=qC(this,e,"m",n).call(this,'[name="'.concat(t,'"]'),r);return i.attr("name",t),i},t.prototype.data=function(e,n,r){var i,o;void 0===n&&(n=function(t){return t}),void 0===r&&(r=function(){return null});for(var a=[],s=[],l=new Set(this._elements),c=[],u=new Set,h=new Map(this._elements.map((function(t,e){return[n(t.__data__,e),t]}))),f=new Map(this._facetElements.map((function(t,e){return[n(t.__data__,e),t]}))),d=cv(this._elements,(function(t){return r(t.__data__)})),p=0;p<e.length;p++){var v=e[p],g=n(v,p),y=r(v,p);if(h.has(g)){var m=h.get(g);m.__data__=v,m.__facet__=!1,s.push(m),l.delete(m),h.delete(g)}else if(f.has(g)){m=f.get(g);m.__data__=v,m.__facet__=!0,s.push(m),f.delete(g)}else if(d.has(g)){var b=d.get(g);c.push([v,b]);try{for(var x=(i=void 0,GC(b)),w=x.next();!w.done;w=x.next()){m=w.value;l.delete(m)}}catch(C){i={error:C}}finally{try{w&&!w.done&&(o=x.return)&&o.call(x)}finally{if(i)throw i.error}}d.delete(g)}else if(h.has(y)){m=h.get(y);m.__toData__?m.__toData__.push(v):m.__toData__=[v],u.add(m),l.delete(m)}else a.push(v)}var O=[new t([],a,this._parent,this._document),new t(s,null,this._parent,this._document),new t(l,null,this._parent,this._document),new t([],c,this._parent,this._document),new t(u,null,this._parent,this._document)];return new t(this._elements,null,this._parent,this._document,O)},t.prototype.merge=function(e){var n=UC(UC([],VC(this._elements),!1),VC(e._elements),!1),r=UC(UC([],VC(this._transitions),!1),VC(e._transitions),!1);return new t(n,null,this._parent,this._document,void 0,r)},t.prototype.createElement=function(e){if(this._document)return this._document.createElement(e,{});var n=t.registry[e];return n?new n:zT("Unknown node type: ".concat(e))},t.prototype.join=function(t,e,n,r,i){void 0===t&&(t=function(t){return t}),void 0===e&&(e=function(t){return t}),void 0===n&&(n=function(t){return t.remove()}),void 0===r&&(r=function(t){return t}),void 0===i&&(i=function(t){return t.remove()});var o=t(this._enter),a=e(this._update),s=n(this._exit),l=r(this._merge),c=i(this._split);return a.merge(o).merge(s).merge(l).merge(c)},t.prototype.remove=function(){for(var e=function(t){var e=n._elements[t],r=n._transitions[t];r?r.then((function(){return e.remove()})):e.remove()},n=this,r=0;r<this._elements.length;r++)e(r);return new t([],null,this._parent,this._document,void 0,this._transitions)},t.prototype.each=function(t){for(var e=0;e<this._elements.length;e++){var n=this._elements[e],r=n.__data__;t.call(n,r,e)}return this},t.prototype.attr=function(t,e){var n="function"!==typeof e?function(){return e}:e;return this.each((function(r,i){void 0!==e&&(this[t]=n.call(this,r,i))}))},t.prototype.style=function(t,e,n){void 0===n&&(n=!0);var r="function"===typeof e&&n?e:function(){return e};return this.each((function(n,i){void 0!==e&&(this.style[t]=r.call(this,n,i))}))},t.prototype.styles=function(t,e){return void 0===t&&(t={}),void 0===e&&(e=!0),this.each((function(n,r){var i=this;Object.entries(t).forEach((function(t){var o=VC(t,2),a=o[0],s=o[1],l="function"===typeof s&&e?s:function(){return s};void 0!==s&&i.attr(a,l.call(i,n,r))}))}))},t.prototype.update=function(t,e){void 0===e&&(e=!0);var n="function"===typeof t&&e?t:function(){return t};return this.each((function(e,r){t&&this.update&&this.update(n.call(this,e,r))}))},t.prototype.maybeUpdate=function(t,e){void 0===e&&(e=!0);var n="function"===typeof t&&e?t:function(){return t};return this.each((function(e,r){t&&this.update&&this.update(n.call(this,e,r))}))},t.prototype.transition=function(t){var e=this._transitions;return this.each((function(n,r){e[r]=t.call(this,n,r)}))},t.prototype.on=function(t,e){return this.each((function(){this.addEventListener(t,e)})),this},t.prototype.call=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t.call.apply(t,UC([this._parent,this],VC(e),!1)),this},t.prototype.node=function(){return this._elements[0]},t.prototype.nodes=function(){return this._elements},t.prototype.transitions=function(){return this._transitions.filter((function(t){return!!t}))},t.prototype.parent=function(){return this._parent},e=new WeakSet,n=function(e,n){var r=this._elements[0],i=r.querySelector(e);if(i)return new t([i],null,this._parent,this._document);var o="string"===typeof n?this.createElement(n):n();return r.appendChild(o),new t([o],null,this._parent,this._document)},t.registry={g:Oc,rect:Tc,circle:bc,path:Ec,text:FT,ellipse:wc,image:Sc,line:_c,polygon:Mc,polyline:kc,html:Cc},t}();function HT(t){return new WT([t],null,t,t.ownerDocument)}function $T(t,e,n){return t.querySelector(e)?HT(t).select(e):HT(t).append(n)}var GT=function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e],["Z"]]},VT=GT,YT=function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},UT=function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},XT=function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]},qT=function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]},KT=function(t,e,n){var r=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]},ZT=function(t,e,n){var r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]},QT=function(t,e,n){return[["M",t,e+n],["L",t,e-n]]},JT=function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},tA=function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},eA=function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},nA=function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},rA=function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},iA=rA,oA=function(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]},aA=function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]},sA=function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]},lA=function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]};function cA(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}var uA=function(t,e,n){return[["M",t-n,e-n],["L",t+n,e],["L",t-n,e+n],["Z"]]};function hA(t){var e="default";if(kn(t)&&t instanceof Image)e="image";else if(_T(t))e="symbol";else if(me(t)){var n=new RegExp("data:(image|text)");e=t.match(n)?"base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(t)?"url":"symbol"}return e}function fA(t){var e=hA(t);return["base64","url","image"].includes(e)?"image":t&&"symbol"===e?"path":null}var dA=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zC(e,t),e.prototype.render=function(t,n){var r=t.symbol,i=t.size,o=void 0===i?16:i,a=HC(t,["symbol","size"]),s=fA(r);DT(!!s,HT(n),(function(t){t.maybeAppendByClassName("marker",s).attr("className","marker ".concat(s,"-marker")).call((function(t){if("image"===s){var n=2*o;t.styles({img:r,width:n,height:n,x:-o,y:-o})}else{n=o/2;var i=_T(r)?r:e.getSymbol(r);t.styles(WC({path:null===i||void 0===i?void 0:i(0,0,n)},a))}}))}))},e.MARKER_SYMBOL_MAP=new Map,e.registerSymbol=function(t,n){e.MARKER_SYMBOL_MAP.set(t,n)},e.getSymbol=function(t){return e.MARKER_SYMBOL_MAP.get(t)},e}(BT);dA.registerSymbol("cross",JT),dA.registerSymbol("hyphen",nA),dA.registerSymbol("line",QT),dA.registerSymbol("plus",eA),dA.registerSymbol("tick",tA),dA.registerSymbol("circle",GT),dA.registerSymbol("point",VT),dA.registerSymbol("bowtie",ZT),dA.registerSymbol("hexagon",KT),dA.registerSymbol("square",YT),dA.registerSymbol("diamond",UT),dA.registerSymbol("triangle",XT),dA.registerSymbol("triangle-down",qT),dA.registerSymbol("line",QT),dA.registerSymbol("dot",rA),dA.registerSymbol("dash",iA),dA.registerSymbol("smooth",oA),dA.registerSymbol("hv",aA),dA.registerSymbol("vh",sA),dA.registerSymbol("hvh",lA),dA.registerSymbol("vhv",cA);var pA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function vA(t){const{min:[e,n],max:[r,i]}=t.getLocalBounds();let o=0,a=0;return e>0&&(o=e),r<0&&(o=r),n>0&&(a=n),i<0&&(a=i),[o,a]}function gA(t,e=[]){const[n=0,r=0,i=n,o=r]=e,a=t.parentNode,s=a.getEulerAngles();a.setEulerAngles(0);const{min:l,halfExtents:c}=t.getLocalBounds(),[u,h]=l,[f,d]=c;return a.setEulerAngles(s),{x:u-o,y:h-n,width:2*f+o+r,height:2*d+n+i}}const yA=(t,e,n)=>{const r=oE(t,e),i=oE(e,n),o=oE(n,t);return(Math.pow(r,2)+Math.pow(i,2)-Math.pow(o,2))/(2*r*i)};function mA(t,e,n,r){const[[i,o],[a,s]]=e,[l,c]=vA(t);if(i===a&&o===s)return FM()([[0,0],[l,c]]);const u=[[i-a,o-s]].concat(n.length?n:[[0,0]]),h=[r[0]-a,r[1]-s],[f,d]=u;if(yA(h,f,d)>0){const e=(()=>{const{min:e,max:n}=t.getLocalBounds(),r=f[0]+(f[1]-h[1])*(f[1]-0)/(f[0]-h[0]);return n[0]<h[0]?Math.min(n[0],r):Math.max(e[0],r)})();u.splice(1,1,[e,0])}return FM()(u)}const bA=JM((t=>{const e=t.attributes,{class:n,transform:r,rotate:i,labelTransform:o,labelTransformOrigin:a,x:s,y:l,x0:c=s,y0:u=l,background:h,connector:f,startMarker:d,endMarker:p,coordCenter:v}=e,g=pA(e,["class","transform","rotate","labelTransform","labelTransformOrigin","x","y","x0","y0","background","connector","startMarker","endMarker","coordCenter"]);if([s,l,c,u].some((t=>!pe(t))))return;const y=Gg(g,"background"),{padding:m}=y,b=pA(y,["padding"]),x=Gg(g,"connector"),{points:w=[]}=x,O=pA(x,["points"]),C=[[+c,+u],[+s,+l]],S=wE(t).maybeAppend("text","text").style("zIndex",0).call(hE,Object.assign({textBaseline:"middle",transform:o,transformOrigin:a},g)).node(),_=wE(t).maybeAppend("background","rect").style("zIndex",-1).call(hE,gA(S,m)).call(hE,h?b:{}).node(),E=mA(_,C,w,v),M=d&&new dA({id:"startMarker",style:Object.assign({x:0,y:0},Gg(g,"startMarker"))}),k=p&&new dA({id:"endMarker",style:Object.assign({x:0,y:0},Gg(g,"endMarker"))});wE(t).maybeAppend("connector","path").style("zIndex",0).style("path",E).style("markerStart",M).style("markerEnd",k).call(hE,f?O:{})})),xA=(t,e)=>{const{coordinate:n}=e;return(e,r,i)=>{const{color:o,text:a="",fontSize:s,rotate:l=0,transform:c=""}=r,u={text:String(a),stroke:o,fill:o,fontSize:s},[[h,f]]=e;return wE(new bA).style("x",h).style("y",f).call(hE,i).style("transform",`${c}rotate(${+l})`).style("coordCenter",n.getCenter()).call(hE,u).call(hE,t).node()}};xA.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var wA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function OA(t){const e=t/Math.sqrt(2),n=t*Math.sqrt(2),[r,i]=[-e,e-n],[o,a]=[0,0],[s,l]=[e,e-n];return[["M",r,i],["A",t,t,0,1,1,s,l],["L",o,a],["Z"]]}function CA(t){const{min:e,max:n}=t.getLocalBounds();return[.5*(e[0]+n[0]),.5*(e[1]+n[1])]}const SA=JM((t=>{const e=t.attributes,{class:n,x:r,y:i}=e,o=wA(e,["class","x","y"]),a=Gg(o,"marker"),{size:s=24}=a,l=()=>OA(s/2),c=wE(t).maybeAppend("marker",(()=>new dA({}))).call((t=>t.node().update(Object.assign({symbol:l},a)))).node(),[u,h]=CA(c);wE(t).maybeAppend("text","text").style("x",u).style("y",h).call(hE,o)})),_A=(t,e)=>{const n=wA(t,[]);return(t,e,r)=>{const{color:i}=r,o=wA(r,["color"]),{color:a=i,text:s=""}=e,l={text:String(s),stroke:a,fill:a},[[c,u]]=t;return wE(new SA).call(hE,o).style("x",c).style("y",u).call(hE,l).call(hE,n).node()}};function EA(t,e,n){var r=null,i=ZE(!0),o=null,a=jM,s=null,l=bM(c);function c(c){var u,h,f,d,p,v=(c=IM(c)).length,g=!1,y=new Array(v),m=new Array(v);for(null==o&&(s=a(p=l())),u=0;u<=v;++u){if(!(u<v&&i(d=c[u],u,c))===g)if(g=!g)h=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=u-1;f>=h;--f)s.point(y[f],m[f]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+t(d,u,c),m[u]=+e(d,u,c),s.point(r?+r(d,u,c):y[u],n?+n(d,u,c):m[u]))}if(p)return s=null,p+""||null}function u(){return FM().defined(i).curve(a).context(o)}return t="function"===typeof t?t:void 0===t?BM:ZE(+t),e="function"===typeof e?e:ZE(void 0===e?0:+e),n="function"===typeof n?n:void 0===n?DM:ZE(+n),c.x=function(e){return arguments.length?(t="function"===typeof e?e:ZE(+e),r=null,c):t},c.x0=function(e){return arguments.length?(t="function"===typeof e?e:ZE(+e),c):t},c.x1=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:ZE(+t),c):r},c.y=function(t){return arguments.length?(e="function"===typeof t?t:ZE(+t),n=null,c):e},c.y0=function(t){return arguments.length?(e="function"===typeof t?t:ZE(+t),c):e},c.y1=function(t){return arguments.length?(n=null==t?null:"function"===typeof t?t:ZE(+t),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(t){return arguments.length?(i="function"===typeof t?t:ZE(!!t),c):i},c.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),c):a},c.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),c):o},c}function MA(){var t=EA().curve(XM),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return ZM(n())},delete t.lineX0,t.lineEndAngle=function(){return ZM(r())},delete t.lineX1,t.lineInnerRadius=function(){return ZM(i())},delete t.lineY0,t.lineOuterRadius=function(){return ZM(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(KM(t)):e()._curve},t}_A.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var kA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function TA(t,e){const n=[],r=[],i=[];let o=!1,a=null;const s=t.length/2;for(let l=0;l<s;l++){const c=t[l],u=t[l+s];if([...c,...u].some((t=>!e(t))))o=!0;else{if(n.push(c),r.push(u),o&&a){o=!1;const[t,e]=a;i.push([t,c,e,u])}a=[c,u]}}return[n.concat(r),i]}const AA=JM((t=>{const{areaPath:e,connectPath:n,areaStyle:r,connectStyle:i}=t.attributes,o=t.ownerDocument;wE(t).maybeAppend("connect-path",(()=>o.createElement("path",{}))).style("d",n).call(hE,i),wE(t).maybeAppend("area-path",(()=>o.createElement("path",{}))).style("d",e).call(hE,r)})),LA=(t,e)=>{const{curve:n,gradient:r=!1,defined:i=(t=>!Number.isNaN(t)&&void 0!==t&&null!==t),connect:o=!1}=t,a=kA(t,["curve","gradient","defined","connect"]),{coordinate:s,document:l}=e;return(t,e,c)=>{const{color:u}=c,{color:h=u,seriesColor:f,seriesX:d,seriesY:p}=e,v=bE(s,e),g=r&&f?vE(f,d,p,r):h,y=Object.assign(Object.assign(Object.assign(Object.assign({},c),{stroke:g,fill:g}),v&&{transform:v}),a),[m,b]=TA(t,i),x=Gg(y,"connect"),w=!!b.length,O=t=>wE(l.createElement("path",{})).style("d",t||"").call(hE,y).node();if(vv(s)){const e=t=>{const e=s.getCenter(),r=t.slice(0,t.length/2),o=t.slice(t.length/2);return MA().angle(((t,n)=>sE(rE(r[n],e)))).outerRadius(((t,n)=>oE(r[n],e))).innerRadius(((t,n)=>oE(o[n],e))).defined(((t,e)=>[...r[e],...o[e]].every(i))).curve(n)(o)};return!w||o&&!Object.keys(x).length?O(e(m)):w&&!o?O(e(t)):wE(new AA).style("areaStyle",y).style("connectStyle",Object.assign(Object.assign({},x),a)).style("areaPath",e(t)).style("connectPath",b.map(e).join("")).node()}{const e=t=>{const e=t.slice(0,t.length/2),r=t.slice(t.length/2);return pv(s)?EA().y(((t,n)=>e[n][1])).x1(((t,n)=>e[n][0])).x0(((t,e)=>r[e][0])).defined(((t,n)=>[...e[n],...r[n]].every(i))).curve(n)(e):EA().x(((t,n)=>e[n][0])).y1(((t,n)=>e[n][1])).y0(((t,e)=>r[e][1])).defined(((t,n)=>[...e[n],...r[n]].every(i))).curve(n)(e)};return!w||o&&!Object.keys(x).length?O(e(m)):w&&!o?O(e(t)):wE(new AA).style("areaStyle",y).style("connectStyle",Object.assign(Object.assign({},x),a)).style("areaPath",e(t)).style("connectPath",b.map(e).join("")).node()}}};LA.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const PA=(t,e)=>{const{coordinate:n}=e;return(...r)=>{const i=vv(n)?HM:jM;return LA(Object.assign({curve:i},t),e)(...r)}};PA.props=Object.assign(Object.assign({},LA.props),{defaultMarker:"square"});var RA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const IA=(t,e)=>{const{alpha:n=.5}=t,r=RA(t,["alpha"]),{coordinate:i}=e;return(...t)=>{const o=vv(i)?fk:uk;return LA(Object.assign({curve:o.alpha(n)},r),e)(...t)}};IA.props=Object.assign(Object.assign({},LA.props),{defaultMarker:"smooth"});const NA=(t,e)=>(...n)=>LA(Object.assign({curve:gk},t),e)(...n);NA.props=Object.assign(Object.assign({},LA.props),{defaultMarker:"hvh"});const jA=(t,e)=>(...n)=>LA(Object.assign({curve:yk},t),e)(...n);jA.props=Object.assign(Object.assign({},LA.props),{defaultMarker:"vh"});const BA=(t,e)=>(...n)=>LA(Object.assign({curve:mk},t),e)(...n);BA.props=Object.assign(Object.assign({},LA.props),{defaultMarker:"hv"});const DA=(t,e)=>{const{arrow:n=!1}=t;return(...r)=>ST(Object.assign(Object.assign({},t),{arrow:n}),e)(...r)};DA.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var FA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const zA=(t,e)=>{const n=FA(t,[]),{document:r}=e;return(t,e,i)=>{const{color:o}=i,a=FA(i,["color"]),{color:s=o,transform:l}=e,[c,u]=t,h=mM();return h.moveTo(c[0],c[1]),h.bezierCurveTo(c[0]/2+u[0]/2,c[1],c[0]/2+u[0]/2,u[1],u[0],u[1]),wE(r.createElement("path",{})).call(hE,a).style("d",h.toString()).style("stroke",s).style("transform",l).call(hE,n).node()}};zA.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var WA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function HA(t,e,n,r){const i=mM();if(vv(n)){const o=n.getCenter(),a=oE(t,o),s=oE(e,o),l=(s-a)*r+a;return i.moveTo(t[0],t[1]),pE(i,t,e,o,l),i.lineTo(e[0],e[1]),i}return pv(n)?(i.moveTo(t[0],t[1]),i.lineTo(t[0]+(e[0]-t[0])*r,t[1]),i.lineTo(t[0]+(e[0]-t[0])*r,e[1]),i.lineTo(e[0],e[1]),i):(i.moveTo(t[0],t[1]),i.lineTo(t[0],t[1]+(e[1]-t[1])*r),i.lineTo(e[0],t[1]+(e[1]-t[1])*r),i.lineTo(e[0],e[1]),i)}const $A=(t,e)=>{const{cornerRatio:n=1/3}=t,r=WA(t,["cornerRatio"]),{coordinate:i,document:o}=e;return(t,e,a)=>{const{defaultColor:s}=a,l=WA(a,["defaultColor"]),{color:c=s,transform:u}=e,[h,f]=t,d=HA(h,f,i,n);return wE(o.createElement("path",{})).call(hE,l).style("d",d.toString()).style("stroke",c).style("transform",u).call(hE,r).node()}};$A.props={defaultMarker:"vhv",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var GA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const VA=(t,e)=>{const n=GA(t,[]),{coordinate:r,document:i}=e;return(t,e,o)=>{const{color:a}=o,s=GA(o,["color"]),{color:l=a,transform:c}=e,[u,h]=t,f=mM();if(f.moveTo(u[0],u[1]),vv(r)){const t=r.getCenter();f.quadraticCurveTo(t[0],t[1],h[0],h[1])}else{const t=uE(u,h),e=oE(u,h)/2;pE(f,u,h,t,e)}return wE(i.createElement("path",{})).call(hE,s).style("d",f.toString()).style("stroke",l).style("transform",c).call(hE,n).node()}};VA.props={defaultMarker:"smooth",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var YA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const UA=(t,e)=>{const{coordinate:n,document:r}=e;return(e,i,o)=>{const{color:a}=o,s=YA(o,["color"]),{color:l=a,src:c="",size:u=32,transform:h=""}=i;let{width:f=u,height:d=u}=t;const[[p,v]]=e,[g,y]=n.getSize();f="string"===typeof f?Yp(f)*g:f,d="string"===typeof d?Yp(d)*y:d;const m=p-Number(f)/2,b=v-Number(d)/2;return wE(r.createElement("image",{})).call(hE,s).style("x",m).style("y",b).style("img",c).style("stroke",l).style("transform",h).call(hE,t).style("width",f).style("height",d).node()}};UA.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var XA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function qA(t,e){const n=mM();if(vv(e)){const r=e.getCenter(),i=[...t,t[0]],o=i.map((t=>oE(t,r)));return i.forEach(((e,i)=>{if(0===i)return void n.moveTo(e[0],e[1]);const a=o[i],s=t[i-1],l=o[i-1];void 0!==l&&Math.abs(a-l)<1e-10?pE(n,s,e,r,a):n.lineTo(e[0],e[1])})),n.closePath(),n}return fE(n,t)}const KA=(t,e)=>{const{coordinate:n,document:r}=e;return(e,i,o)=>{const{color:a}=o,s=XA(o,["color"]),{color:l=a,transform:c}=i,u=qA(e,n);return wE(r.createElement("path",{})).call(hE,s).style("d",u.toString()).style("stroke",l).style("fill",l).style("transform",c).call(hE,t).node()}};KA.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var ZA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function QA(t,e){const[n,r,i,o]=t,a=mM();if(vv(e)){const t=e.getCenter(),s=oE(t,n);return a.moveTo(n[0],n[1]),a.quadraticCurveTo(t[0],t[1],i[0],i[1]),pE(a,i,o,t,s),a.quadraticCurveTo(t[0],t[1],r[0],r[1]),pE(a,r,n,t,s),a.closePath(),a}return a.moveTo(n[0],n[1]),a.bezierCurveTo(n[0]/2+i[0]/2,n[1],n[0]/2+i[0]/2,i[1],i[0],i[1]),a.lineTo(o[0],o[1]),a.bezierCurveTo(o[0]/2+r[0]/2,o[1],o[0]/2+r[0]/2,r[1],r[0],r[1]),a.lineTo(n[0],n[1]),a.closePath(),a}const JA=(t,e)=>{const n=ZA(t,[]),{coordinate:r,document:i}=e;return(t,e,o)=>{const{color:a}=o,s=ZA(o,["color"]),{color:l=a,transform:c}=e,u=QA(t,r);return wE(i.createElement("path",{})).call(hE,s).style("d",u.toString()).style("fill",l||a).style("stroke",l||a).style("transform",c).call(hE,n).node()}};JA.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var tL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function eL(t,e){const n=mM();if(vv(e)){const r=e.getCenter(),[i,o]=r,a=aE(rE(t[0],r)),s=aE(rE(t[1],r)),l=oE(r,t[2]),c=oE(r,t[3]),u=oE(r,t[8]),h=oE(r,t[10]),f=oE(r,t[11]);n.moveTo(...t[0]),n.arc(i,o,l,a,s),n.arc(i,o,l,s,a,!0),n.moveTo(...t[2]),n.lineTo(...t[3]),n.moveTo(...t[4]),n.arc(i,o,c,a,s),n.lineTo(...t[6]),n.arc(i,o,h,s,a,!0),n.closePath(),n.moveTo(...t[8]),n.arc(i,o,u,a,s),n.arc(i,o,u,s,a,!0),n.moveTo(...t[10]),n.lineTo(...t[11]),n.moveTo(...t[12]),n.arc(i,o,f,a,s),n.arc(i,o,f,s,a,!0)}else n.moveTo(...t[0]),n.lineTo(...t[1]),n.moveTo(...t[2]),n.lineTo(...t[3]),n.moveTo(...t[4]),n.lineTo(...t[5]),n.lineTo(...t[6]),n.lineTo(...t[7]),n.closePath(),n.moveTo(...t[8]),n.lineTo(...t[9]),n.moveTo(...t[10]),n.lineTo(...t[11]),n.moveTo(...t[12]),n.lineTo(...t[13]);return n}const nL=(t,e)=>{const{coordinate:n,document:r}=e;return(e,i,o)=>{const{color:a,transform:s}=i,{color:l,fill:c=l,stroke:u=l}=o,h=tL(o,["color","fill","stroke"]),f=eL(e,n);return wE(r.createElement("path",{})).call(hE,h).style("d",f.toString()).style("stroke",u).style("fill",a||c).style("transform",s).call(hE,t).node()}};nL.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var rL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function iL(t,e,n=4){const r=mM();if(!vv(e))return r.moveTo(...t[2]),r.lineTo(...t[3]),r.lineTo(t[3][0]-n,t[3][1]),r.lineTo(t[10][0]-n,t[10][1]),r.lineTo(t[10][0]+n,t[10][1]),r.lineTo(t[3][0]+n,t[3][1]),r.lineTo(...t[3]),r.closePath(),r.moveTo(...t[10]),r.lineTo(...t[11]),r.moveTo(t[3][0]+n/2,t[8][1]),r.arc(t[3][0],t[8][1],n/2,0,2*Math.PI),r.closePath(),r;const i=e.getCenter(),[o,a]=i,s=oE(i,t[3]),l=oE(i,t[8]),c=oE(i,t[10]),u=aE(rE(t[2],i)),h=Math.asin(n/l),f=u-h,d=u+h;r.moveTo(...t[2]),r.lineTo(...t[3]),r.moveTo(Math.cos(f)*s+o,Math.sin(f)*s+a),r.arc(o,a,s,f,d),r.lineTo(Math.cos(d)*c+o,Math.sin(d)*c+a),r.arc(o,a,c,d,f,!0),r.lineTo(Math.cos(f)*s+o,Math.sin(f)*s+a),r.closePath(),r.moveTo(...t[10]),r.lineTo(...t[11]);const p=(f+d)/2;return r.moveTo(Math.cos(p)*(l+n/2)+o,Math.sin(p)*(l+n/2)+a),r.arc(Math.cos(p)*l+o,Math.sin(p)*l+a,n/2,p,2*Math.PI+p),r.closePath(),r}const oL=(t,e)=>{const{coordinate:n,document:r}=e;return(e,i,o)=>{const{color:a,transform:s}=i,l=4,{color:c,fill:u=c,stroke:h=c}=o,f=rL(o,["color","fill","stroke"]),d=iL(e,n,l);return wE(r.createElement("path",{})).call(hE,f).style("d",d.toString()).style("stroke",h).style("fill",a||u).style("transform",s).call(hE,t).node()}};oL.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var aL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function sL(t,e,n){const r=t.createElement("path",{style:Object.assign({path:`M ${e},${e} L -${e},0 L ${e},-${e} L 0,0 Z`,anchor:"0.5 0.5",transformOrigin:"center"},n)});return r}function lL(t,e){if(!vv(e))return FM().x((t=>t[0])).y((t=>t[1]))(t);const n=e.getCenter();return MM()({startAngle:0,endAngle:2*Math.PI,outerRadius:oE(t[0],n),innerRadius:oE(t[1],n)})}function cL(t,e){if(!vv(t))return e;const[n,r]=t.getCenter();return`translate(${n}, ${r}) ${e||""}`}const uL=(t,e)=>{const{arrow:n,arrowSize:r=4}=t,i=aL(t,["arrow","arrowSize"]),{coordinate:o,document:a}=e;return(t,e,s)=>{const{color:l,lineWidth:c}=s,u=aL(s,["color","lineWidth"]),{color:h=l,size:f=c}=e,d=n?sL(a,r,Object.assign({fill:i.stroke||h,stroke:i.stroke||h},Gg(i,"arrow"))):null,p=lL(t,o),v=cL(o,e.transform);return wE(a.createElement("path",{})).call(hE,u).style("d",p).style("stroke",h).style("lineWidth",f).style("transform",v).style("markerEnd",d).call(hE,i).node()}};uL.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var hL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function fL(t,e,n){return[["M",t,e],["L",t+2*n,e-n],["L",t+2*n,e+n],["Z"]]}function dL(t){return FM().x((t=>t[0])).y((t=>t[1]))(t)}const pL=JM((t=>{const e=t.attributes,{points:n,class:r,endMarker:i=!0,direction:o}=e,a=hL(e,["points","class","endMarker","direction"]),s=Gg(a,"endMarker"),l=dL(n);wE(t).maybeAppend("connector","path").style("path",l).style("markerEnd",i?new dA({className:"marker",style:Object.assign(Object.assign({},s),{symbol:fL})}):null).call(hE,a)}));function vL(t,e,n,r=0){const[[i,o],[a,s]]=e;if(pv(t)){const t=n,e=i+t,l=a+t,c=e+r;return[[e,o],[c,o],[c,s],[l,s]]}const l=-n,c=o+l,u=s+l,h=c+-r;return[[i,c],[i,h],[a,h],[a,u]]}const gL=(t,e)=>{const{offset:n=0,connectLength1:r}=t,i=hL(t,["offset","connectLength1"]),{coordinate:o}=e;return(t,e,a)=>{const{color:s,connectLength1:l=r}=a,c=hL(a,["color","connectLength1"]),{color:u,transform:h}=e,f=vL(o,t,n,l);return wE(new pL).call(hE,c).style("points",f).style("stroke",u||s).style("transform",h).call(hE,i).node()}};function yL(t){return t.replace(/-(\w)/g,(function(t,e){return e.toUpperCase()}))}function mL(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function bL(t,e,n,r){const i=e.length/2,o=e.slice(0,i),a=e.slice(i);let s=lm(o,((t,e)=>Math.abs(t[1]-a[e][1])));s=Math.max(Math.min(s,i-2),1);const l=t=>[o[t][0],(o[t][1]+a[t][1])/2],c=l(s),u=l(s-1),h=l(s+1),f=aE(rE(h,u))/Math.PI*180;return{x:c[0],y:c[1],transform:`rotate(${f})`,textAlign:"center",textBaseline:"middle"}}function xL(t,e,n,r){const{bounds:i}=n,[[o,a],[s,l]]=i,c=s-o,u=l-a,h=t=>{const{x:e,y:r}=t,i=Xg(n.x,c),s=Xg(n.y,u);return Object.assign(Object.assign({},t),{x:(i||e)+o,y:(s||r)+a})};return h("left"===t?{x:0,y:u/2,textAnchor:"start",textBaseline:"middle"}:"right"===t?{x:c,y:u/2,textAnchor:"end",textBaseline:"middle"}:"top"===t?{x:c/2,y:0,textAnchor:"center",textBaseline:"top"}:"bottom"===t?{x:c/2,y:u,textAnchor:"center",textBaseline:"bottom"}:"top-left"===t?{x:0,y:0,textAnchor:"start",textBaseline:"top"}:"top-right"===t?{x:c,y:0,textAnchor:"end",textBaseline:"top"}:"bottom-left"===t?{x:0,y:u,textAnchor:"start",textBaseline:"bottom"}:"bottom-right"===t?{x:c,y:u,textAnchor:"end",textBaseline:"bottom"}:{x:c/2,y:u/2,textAnchor:"center",textBaseline:"middle"})}function wL(t,e,n,r){const{y:i,y1:o,autoRotate:a,rotateToAlignArc:s}=n,l=r.getCenter(),c=yE(r,e,[i,o]),{innerRadius:u,outerRadius:h,startAngle:f,endAngle:d}=c,p="inside"===t?(f+d)/2:d,v=CL(p,a,s),g=(()=>{const[n,r]=e,i=u+.5*(h-u),[o,a]="inside"===t?OL(l,p,i):uE(n,r);return{x:o,y:a}})();return Object.assign(Object.assign({},g),{textAlign:"inside"===t?"center":"start",textBaseline:"middle",rotate:v})}function OL(t,e,n){return[t[0]+Math.sin(e)*n,t[1]-Math.cos(e)*n]}function CL(t,e,n){if(!e)return 0;const r=n?0:Math.sin(t)<0?90:-90;return t/Math.PI*180+r}function SL(t,e,n,r){const{y:i,y1:o,autoRotate:a,rotateToAlignArc:s,radius:l=.5,offset:c=0}=n,u=yE(r,e,[i,o]),{startAngle:h,endAngle:f}=u,d=r.getCenter(),p=(h+f)/2,v=CL(p,a,s),g={textAlign:"center",textBaseline:"middle",rotate:v},{innerRadius:y,outerRadius:m}=u,b=y+(m-y)*l,x=b+c,[w,O]=OL(d,p,x);return Object.assign({x:w,y:O},g)}function _L(t,e,n,r){const{bounds:i}=n,[o]=i;return{x:o[0],y:o[1]}}function EL(t,e,n,r){const{bounds:i}=n;if(1===i.length)return _L(t,e,n,r);const o=gv(r)?wL:wv(r)?SL:xL;return o(t,e,n,r)}function ML(t,e,n,r,i){const[o,a]=OL(t,e,n),[s,l]=OL(t,e,r),c=Math.sin(e)>0?1:-1;return[[o,a],[s,l],[s+c*i,l]]}function kL(t,e,n){const r=yE(n,t,[e.y,e.y1]),{innerRadius:i,outerRadius:o}=r;return i+(o-i)}function TL(t,e,n){const r=yE(n,t,[e.y,e.y1]),{startAngle:i,endAngle:o}=r;return(i+o)/2}function AL(t,e,n,r){const{autoRotate:i,rotateToAlignArc:o,offset:a=0,connector:s=!0,connectorLength:l=a,connectorLength2:c=0,connectorDistance:u=0}=n,h=r.getCenter(),f=TL(e,n,r),d=Math.sin(f)>0?1:-1,p=CL(f,i,o),v={textAlign:d>0||gv(r)?"start":"end",textBaseline:"middle",rotate:p},g=kL(e,n,r),y=g+(s?l:a),[[m,b],[x,w],[O,C]]=ML(h,f,g,y,s?c:0),S=s?+u*d:0,_=O+S,E=C,M={connector:s,connectorPoints:[[x-_,w-E],[O-_,C-E]]};return Object.assign(Object.assign({x0:m,y0:b,x:O+S,y:C},v),M)}function LL(t,e,n,r){const{bounds:i}=n;if(1===i.length)return _L(t,e,n,r);const o=gv(r)?wL:wv(r)?AL:xL;return o(t,e,n,r)}gL.props={defaultMarker:"line",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var PL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function RL(t,e,n,r){if(!wv(r))return{};const{connectorLength:i,connectorLength2:o,connectorDistance:a}=n,s=PL(AL("outside",e,n,r),[]),l=r.getCenter(),c=kL(e,n,r),u=TL(e,n,r),h=c+i+o,f=Math.sin(u)>0?1:-1,d=l[0]+(h+ +a)*f,{x:p}=s,v=d-p;return s.x+=v,s.connectorPoints[0][0]-=v,s}var IL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function NL(t,e,n,r){if(!wv(r))return{};const{connectorLength:i,connectorLength2:o,connectorDistance:a}=n,s=IL(AL("outside",e,n,r),[]),{x0:l,y0:c}=s,u=r.getCenter(),h=Cv(r),f=h+i,d=sE([l-u[0],c-u[1]]),p=Math.sin(d)>0?1:-1,[v,g]=OL(u,d,f);return s.x=v+(o+a)*p,s.y=g,s}var jL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function BL(t,e){return void 0!==t?t:wv(e)?"inside":pv(e)?"right":"top"}function DL(t,e,n,r,i){const{position:a}=e,s=BL(a,n),l=r["inside"===s?"innerLabel":"label"],c=Object.assign({},l,e),u=o[yL(s)];if(!u)throw new Error(`Unknown position: ${s}`);return Object.assign(Object.assign({},l),u(s,t,c,n,i))}const FL=(t,e)=>{const{coordinate:n,theme:r}=e;return(e,i)=>{const{text:o,x:a,y:s,transform:l="",transformOrigin:c}=i,u=jL(i,["text","x","y","transform","transformOrigin"]),h=DL(e,i,n,r,t),{rotate:f=0,transform:d=""}=h,p=jL(h,["rotate","transform"]);return wE(new bA).call(hE,p).style("text",`${o}`).style("labelTransform",`${d} rotate(${+f}) ${l}`.trim()).style("labelTransformOrigin",c).style("coordCenter",n.getCenter()).call(hE,u).node()}};FL.props={defaultMarker:"point"};var zL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const WL=(t,e)=>{const{arrow:n,colorAttribute:r}=t,i=zL(t,["arrow","colorAttribute"]),{coordinate:o,document:a}=e;return(t,e,n)=>{const{color:s,stroke:l}=n,c=zL(n,["color","stroke"]),{d:u,color:h=s}=e,[f,d]=o.getSize();return wE(a.createElement("path",{})).call(hE,c).style("d","function"===typeof u?u({width:f,height:d}):u).style(r,h).call(hE,i).node()}};WL.props={defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const HL=(t,e)=>WL(Object.assign({colorAttribute:"fill"},t),e);HL.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const $L=(t,e)=>WL(Object.assign({fill:"none",colorAttribute:"stroke"},t),e);$L.props={defaultMarker:"hvh",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var GL=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const VL=(t,e)=>{const{document:n}=e;return(e,r,i)=>{const{transform:o}=r,{color:a}=i,s=GL(i,["color"]),{color:l=a}=r,[c,...u]=e,h=mM();return h.moveTo(...c),u.forEach((([t,e])=>{h.lineTo(t,e)})),h.closePath(),wE(n.createElement("path",{})).call(hE,s).style("d",h.toString()).style("stroke",l||a).style("fill",l||a).style("fillOpacity",.4).style("transform",o).call(hE,t).node()}};function YL(t){var e,n,r,i=t||1;function o(t,o){++e>i&&(r=n,a(1),++e),n[t]=o}function a(t){e=0,n=Object.create(null),t||(r=Object.create(null))}return a(),{clear:a,has:function(t){return void 0!==n[t]||void 0!==r[t]},get:function(t){var e=n[t];return void 0!==e?e:void 0!==(e=r[t])?(o(t,e),e):void 0},set:function(t,e){void 0!==n[t]?n[t]=e:o(t,e)}}}VL.props={defaultMarker:"square",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};YL(3);function UL(t,e=((...t)=>`${t[0]}`),n=16){const r=YL(n);return(...n)=>{const i=e(...n);let o=r.get(i);return r.has(i)?r.get(i):(o=t(...n),r.set(i,o),o)}}function XL(t){return"string"===typeof t?t.split(" ").map((t=>{const[e,n]=t.split(":");return[+e,n]})):t}function qL(t,e,n){const r=t?t():document.createElement("canvas");return r.width=e,r.height=n,r}const KL=UL(((t,e,n)=>{const r=qL(n,2*t,2*t),i=r.getContext("2d"),o=t,a=t;if(1===e)i.beginPath(),i.arc(o,a,t,0,2*Math.PI,!1),i.fillStyle="rgba(0,0,0,1)",i.fill();else{const n=i.createRadialGradient(o,a,t*e,o,a,t);n.addColorStop(0,"rgba(0,0,0,1)"),n.addColorStop(1,"rgba(0,0,0,0)"),i.fillStyle=n,i.fillRect(0,0,2*t,2*t)}return r}),(t=>`${t}`));function ZL(t,e){const n=qL(e,256,1),r=n.getContext("2d"),i=r.createLinearGradient(0,0,256,1);return XL(t).forEach((([t,e])=>{i.addColorStop(t,e)})),r.fillStyle=i,r.fillRect(0,0,256,1),r.getImageData(0,0,256,1).data}function QL(t,e,n,r,i,o){const{blur:a}=i;let s=r.length;while(s--){const{x:i,y:l,value:c,radius:u}=r[s],h=Math.min(c,n),f=i-u,d=l-u,p=KL(u,1-a,o),v=(h-e)/(n-e);t.globalAlpha=Math.max(v,.001),t.drawImage(p,f,d)}return t}function JL(t,e,n,r,i){const{minOpacity:o,opacity:a,maxOpacity:s,useGradientOpacity:l}=i,c=0,u=0,h=e,f=n,d=t.getImageData(c,u,h,f),p=d.data,v=p.length;for(let g=3;g<v;g+=4){const t=p[g],e=4*t;if(!e)continue;const n=a||Math.max(0,Math.min(s,Math.max(o,t)));p[g-3]=r[e],p[g-2]=r[e+1],p[g-1]=r[e+2],p[g]=l?r[e+3]:n}return d}function tP(t,e,n,r,i,o,a){const s=Object.assign({blur:.85,minOpacity:0,opacity:.6,maxOpacity:1,gradient:[[.25,"rgb(0,0,255)"],[.55,"rgb(0,255,0)"],[.85,"yellow"],[1,"rgb(255,0,0)"]]},o);s.minOpacity*=255,s.opacity*=255,s.maxOpacity*=255;const l=qL(a,t,e),c=l.getContext("2d"),u=ZL(s.gradient,a);c.clearRect(0,0,t,e),QL(c,n,r,i,s,a);const h=JL(c,t,e,u,s),f=qL(a,t,e),d=f.getContext("2d");return d.putImageData(h,0,0),d}var eP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function nP(t,e){return Object.keys(t).reduce(((n,r)=>{const i=t[r];return e(i,r)||(n[r]=i),n}),{})}const rP=(t,e)=>{const{gradient:n,opacity:r,maxOpacity:i,minOpacity:o,blur:a,useGradientOpacity:s}=t,l=eP(t,["gradient","opacity","maxOpacity","minOpacity","blur","useGradientOpacity"]),{coordinate:c,createCanvas:u,document:h}=e;return(t,e,f)=>{const{transform:d}=e,[p,v]=c.getSize(),g=t.map((t=>({x:t[0],y:t[1],value:t[2],radius:t[3]}))),y=ug(t,(t=>t[2])),m=cg(t,(t=>t[2])),b={gradient:n,opacity:r,minOpacity:o,maxOpacity:i,blur:a,useGradientOpacity:s},x=p&&v?tP(p,v,y,m,g,nP(b,(t=>void 0===t)),u):{canvas:null};return wE(h.createElement("image",{})).call(hE,f).style("x",0).style("y",0).style("width",p).style("height",v).style("src",x.canvas).style("transform",d).call(hE,l).node()}};rP.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};var iP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const oP=t=>{const{render:e}=t,n=iP(t,["render"]);return t=>{const[[r,i]]=t;return e(Object.assign(Object.assign({},n),{x:r,y:i}))}};oP.props={defaultMarker:"point",defaultEnterAnimation:"fadeIn",defaultUpdateAnimation:"morphing",defaultExitAnimation:"fadeOut"};const aP={BLACK:"#000",WHITE:"#fff",STROKE:"#416180"},sP="transparent",lP=t=>{const e="#5B8FF9",n={defaultColor:e,defaultCategory10:"category10",defaultCategory20:"category20",defaultSize:1,elementActiveStroke:aP.BLACK,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},viewFill:sP,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent",line:{line:{fill:"",strokeOpacity:1,lineWidth:1}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:aP.BLACK,lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:12,strokeWidth:0,connectorStroke:aP.STROKE,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:aP.STROKE,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,strokeWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:aP.STROKE,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:aP.STROKE,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:aP.STROKE,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:aP.STROKE,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:aP.STROKE,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:aP.STROKE,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:aP.STROKE,endMarkerFillOpacity:.95}},interaction:{active:{line:{line:{lineWidth:3}},interval:{rect:{stroke:aP.BLACK}},area:{area:{fillOpacity:.5}}},inactive:{area:{area:{fillOpacity:.3}}},selected:{},disabled:{}},axis:{arrow:!1,gridLineDash:[0,0],gridLineWidth:.5,gridStroke:aP.BLACK,gridStrokeOpacity:.05,labelAlign:"horizontal",labelFill:aP.BLACK,labelFillOpacity:.65,labelFontSize:12,labelFontWeight:"lighter",labelSpacing:8,line:!1,lineLineWidth:.5,lineStroke:aP.BLACK,lineStrokeOpacity:.45,tickLength:4,tickLineWidth:1,tickStroke:aP.BLACK,tickStrokeOpacity:.25,titleFill:aP.BLACK,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,titleTransformOrigin:"center"},axisTop:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"top",titleSpacing:0,titleTextBaseline:"middle"},axisBottom:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,labelAutoRotate:!0,tickDirection:"positive",titlePosition:"bottom",titleSpacing:10,titleTextBaseline:"bottom"},axisLeft:{gridDirection:"negative",labelAutoRotate:!1,labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"left",titleSpacing:10,titleTextBaseline:"middle",titleDirection:"vertical",titleTransformOrigin:"center"},axisRight:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,labelAutoRotate:!1,tickDirection:"negative",titlePosition:"right",titleSpacing:0,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleSpacing:0},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",label:!1,tick:!1,titlePosition:"start"},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:aP.BLACK,itemLabelFillOpacity:.65,itemLabelFontSize:12,itemLabelFontWeight:"lighter",itemMarkerFillOpacity:1,itemMarkerSize:8,itemSpacing:[5,8],itemValueFill:aP.BLACK,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"lighter",navButtonFill:aP.BLACK,navButtonFillOpacity:.65,navPageNumFill:aP.BLACK,navPageNumFillOpacity:.45,navPageNumFontSize:12,padding:8,title:!0,titleFill:aP.BLACK,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,tickStroke:aP.BLACK,tickStrokeOpacity:.25,rowPadding:0,colPadding:8},legendContinuous:{handleHeight:12,handleLabelFill:aP.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal",handleMarkerFill:aP.BLACK,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:aP.BLACK,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:aP.BLACK,labelFillOpacity:.45,labelFontSize:12,labelFontWeight:"lighter",labelSpacing:3,tick:!0,tickLength:12,ribbonSize:12,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:12/1.8,indicator:!1,titleFontSize:12,titleSpacing:4,titleFontWeight:"normal",titleFillOpacity:.65,tickStroke:aP.BLACK,tickStrokeOpacity:.25},label:{fill:aP.BLACK,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:aP.BLACK,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:aP.WHITE,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},slider:{trackSize:16,trackFill:aP.STROKE,trackFillOpacity:1,selectionFill:e,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:aP.BLACK,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:aP.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{padding:[2,2,2,2],trackSize:10,isRound:!0,slidable:!0,scrollable:!0,trackFill:"#e5e5e5",trackFillOpacity:0,thumbFill:"#000",thumbFillOpacity:.15,thumbHighlightedFillOpacity:.2},title:{titleFill:aP.BLACK,titleFillOpacity:.85,titleFontSize:14,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:aP.BLACK,subtitleFillOpacity:.65,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"}};return Object.assign({},n,t)};lP.props={};const cP={BLACK:"#fff",WHITE:"#000",STROKE:"#416180"},uP="#141414",hP=t=>{const e="#5B8FF9",n={defaultColor:e,defaultCategory10:"category10",defaultCategory20:"category20",defaultSize:1,elementActiveStroke:cP.BLACK,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},viewFill:uP,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent",line:{line:{fill:"",strokeOpacity:1,lineWidth:1}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:cP.BLACK,lineWidth:1}},text:{text:{fill:cP.BLACK,fillOpacity:.65,fontSize:12,strokeWidth:0,connectorStroke:cP.STROKE,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:cP.STROKE,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,strokeWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:cP.STROKE,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:cP.STROKE,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:cP.STROKE,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:cP.STROKE,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:cP.STROKE,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:cP.STROKE,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:cP.STROKE,endMarkerFillOpacity:.95}},interaction:{active:{line:{line:{lineWidth:3}},interval:{rect:{stroke:cP.BLACK}},area:{area:{fillOpacity:.5}}},inactive:{area:{area:{fillOpacity:.3}}},selected:{},disabled:{}},axis:{arrow:!1,gridLineDash:[0,0],gridLineWidth:.5,gridStroke:cP.BLACK,gridStrokeOpacity:.05,labelAlign:"horizontal",labelFill:cP.BLACK,labelFillOpacity:.65,labelFontSize:12,labelFontWeight:"lighter",labelSpacing:8,lineLineWidth:.5,lineStroke:cP.BLACK,lineStrokeOpacity:.45,tickLength:4,tickLineWidth:1,tickStroke:cP.BLACK,tickStrokeOpacity:.25,titleFill:cP.BLACK,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:12,titleTransformOrigin:"center"},axisTop:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"top",titleSpacing:0,titleTextBaseline:"middle"},axisBottom:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"bottom",titleSpacing:10,titleTextBaseline:"bottom"},axisLeft:{gridDirection:"negative",labelAutoRotate:!1,labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"left",titleSpacing:10,titleTextBaseline:"middle",titleDirection:"vertical",titleTransformOrigin:"center"},axisRight:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"right",titleSpacing:0,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleTextBaseline:"bottom"},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",label:!1,tick:!1,titlePosition:"start"},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:cP.BLACK,itemLabelFillOpacity:.65,itemLabelFontSize:12,itemLabelFontWeight:"lighter",itemMarkerFillOpacity:1,itemMarkerSize:8,itemSpacing:[5,8],itemValueFill:cP.BLACK,itemValueFillOpacity:.65,itemValueFontSize:12,itemValueFontWeight:"lighter",navButtonFill:cP.BLACK,navButtonFillOpacity:.45,navPageNumFill:cP.BLACK,navPageNumFillOpacity:.45,navPageNumFontSize:12,padding:8,title:!0,titleFill:cP.BLACK,titleFillOpacity:.65,titleFontSize:12,titleFontWeight:"normal",titleSpacing:4,tickStroke:cP.BLACK,tickStrokeOpacity:.25,rowPadding:0,colPadding:8},legendContinuous:{handleHeight:12,handleLabelFill:cP.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal",handleMarkerFill:cP.BLACK,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:cP.BLACK,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:cP.BLACK,labelFillOpacity:.45,labelFontSize:12,labelFontWeight:"lighter",labelSpacing:3,tick:!0,tickLength:12,ribbonSize:12,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:12/1.8,indicator:!1,titleFontSize:12,titleSpacing:4,titleFontWeight:"normal",titleFillOpacity:.65,tickStroke:cP.BLACK,tickStrokeOpacity:.25},label:{fill:cP.BLACK,fillOpacity:.65,fontSize:12,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:cP.BLACK,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:cP.WHITE,fontSize:12,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},slider:{trackSize:16,trackFill:cP.STROKE,trackFillOpacity:1,selectionFill:e,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:cP.BLACK,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:cP.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:12,handleLabelFontWeight:"normal"},scrollbar:{},title:{titleFill:cP.BLACK,titleFillOpacity:.85,titleFontSize:14,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:cP.BLACK,subtitleFillOpacity:.65,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"}};return Object.assign({},n,t)};hP.props={};const fP={BLACK:"#000",WHITE:"#fff",STROKE:"#888"},dP="transparent",pP=t=>{const e="#4e79a7",n={defaultColor:e,defaultCategory10:"tableau10",defaultCategory20:"tableau10",defaultSize:1,elementActiveStroke:fP.BLACK,enter:{duration:300,fill:"both",delay:0},update:{duration:300,fill:"both",delay:0},exit:{duration:300,fill:"both",delay:0},viewFill:dP,plotFill:"transparent",mainFill:"transparent",contentFill:"transparent",line:{line:{fill:"",strokeOpacity:1,lineWidth:1,connectStroke:"#aaa"}},point:{point:{r:3,fillOpacity:.95,lineWidth:0},hollow:{r:3,strokeOpacity:.95,lineWidth:1},plus:{r:3,strokeOpacity:.95,lineWidth:3},diamond:{r:3,strokeOpacity:.95,lineWidth:1}},interval:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},area:{area:{fillOpacity:.85,lineWidth:0,connectFill:fP.BLACK,connectFillOpacity:.1}},polygon:{polygon:{fillOpacity:.95}},cell:{cell:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},rect:{rect:{fillOpacity:.95},hollow:{fill:"",strokeOpacity:1,lineWidth:2}},link:{link:{fill:"",strokeOpacity:1}},vector:{vector:{fillOpacity:1}},box:{box:{fillOpacity:.95,stroke:"#1D2129",lineWidth:1}},text:{text:{fill:"#1D2129",fontSize:10,strokeWidth:0,connectorStroke:fP.STROKE,connectorStrokeOpacity:.45,connectorLineWidth:1,backgroundFill:fP.STROKE,backgroundFillOpacity:.15,backgroundPadding:[2,4],startMarkerSymbol:"circle",startMarkerSize:4,endMarkerSymbol:"circle",endMarkerSize:4},badge:{fill:"#1D2129",fillOpacity:.65,strokeWidth:0,fontSize:10,textAlign:"center",textBaseline:"middle",markerFill:fP.STROKE,markerFillOpacity:.25,markerStrokeOpacity:0}},lineX:{line:{stroke:fP.STROKE,strokeOpacity:.45,lineWidth:1}},lineY:{line:{stroke:fP.STROKE,strokeOpacity:.45,lineWidth:1}},rangeX:{range:{fill:fP.STROKE,fillOpacity:.15,lineWidth:0}},rangeY:{range:{fill:fP.STROKE,fillOpacity:.15,lineWidth:0}},connector:{connector:{stroke:fP.STROKE,strokeOpacity:.45,lineWidth:1,connectLength1:12,endMarker:!0,endMarkerSize:6,endMarkerFill:fP.STROKE,endMarkerFillOpacity:.95}},interaction:{active:{line:{line:{lineWidth:3}},interval:{rect:{stroke:fP.BLACK}},area:{area:{fillOpacity:.5}}},inactive:{area:{area:{fillOpacity:.3}}},selected:{},disabled:{}},axis:{arrow:!1,gridLineDash:[0,0],gridLineWidth:1,gridStroke:"#ddd",gridStrokeOpacity:1,labelAlign:"horizontal",labelAutoRotate:!1,labelFill:fP.BLACK,labelFillOpacity:1,labelFontSize:10,labelFontWeight:"normal",labelSpacing:4,line:!0,lineLineWidth:1,lineStroke:"#888",lineStrokeOpacity:1,tickLength:5,tickLineWidth:1,tickStroke:fP.STROKE,tickStrokeOpacity:1,titleFill:fP.BLACK,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold",titleSpacing:12,titleTransformOrigin:"center"},axisTop:{gridDirection:"positive",labelDirection:"negative",tickDirection:"negative",titlePosition:"top",titleSpacing:0,titleTextBaseline:"middle",labelSpacing:4},axisBottom:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"bottom",titleSpacing:4,titleTextBaseline:"bottom"},axisLeft:{gridDirection:"negative",labelDirection:"positive",labelSpacing:4,tickDirection:"positive",titlePosition:"left",titleSpacing:4,titleTextBaseline:"middle",titleDirection:"vertical",titleTransformOrigin:"center"},axisRight:{gridDirection:"positive",labelDirection:"negative",labelSpacing:4,tickDirection:"negative",titlePosition:"right",titleSpacing:0,titleTextBaseline:"top",titleDirection:"vertical",titleTransformOrigin:"center"},axisLinear:{girdClosed:!0,gridConnect:"arc",gridDirection:"negative",gridType:"surround",titlePosition:"top",titleTextBaseline:"bottom"},axisArc:{title:!1,titlePosition:"inner",line:!1,tick:!0,labelSpacing:4},axisRadar:{girdClosed:!0,gridStrokeOpacity:.3,gridType:"surround",label:!1,tick:!1,titlePosition:"start"},legendCategory:{backgroundFill:"transparent",itemBackgroundFill:"transparent",itemLabelFill:fP.BLACK,itemLabelFillOpacity:1,itemLabelFontSize:10,itemLabelFontWeight:"normal",itemMarkerFillOpacity:1,itemMarkerSize:8,itemSpacing:[5,4],itemValueFill:fP.BLACK,itemValueFillOpacity:1,itemValueFontSize:10,itemValueFontWeight:"normal",navButtonFill:fP.BLACK,navButtonFillOpacity:.45,navButtonSize:6,navPageNumFill:fP.BLACK,navPageNumFillOpacity:.45,navPageNumFontSize:10,padding:8,title:!0,titleFill:fP.BLACK,titleFillOpacity:1,titleFontSize:11,titleFontWeight:"bold",titleSpacing:4,rowPadding:0,colPadding:8},legendContinuous:{handleHeight:12,handleLabelFill:fP.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:10,handleLabelFontWeight:"normal",handleMarkerFill:fP.BLACK,handleMarkerFillOpacity:.6,handleMarkerLineWidth:1,handleMarkerStroke:fP.BLACK,handleMarkerStrokeOpacity:.25,handleWidth:10,labelFill:fP.BLACK,labelFillOpacity:.45,labelFontSize:10,labelFontWeight:"normal",title:!0,titleSpacing:4,ribbonFill:"#aaa",handle:!0,handleLabel:!1,handleShape:"slider",handleIconSize:12/1.8,indicator:!1,titleFontWeight:"bold"},label:{fill:fP.BLACK,fillOpacity:.65,fontSize:10,fontWeight:"normal",stroke:void 0,offset:12,connectorStroke:fP.BLACK,connectorStrokeOpacity:.45,connectorLineWidth:1,connectorLength:12,connectorLength2:8,connectorDistance:4},innerLabel:{fill:fP.WHITE,fontSize:10,fillOpacity:.85,fontWeight:"normal",stroke:void 0,offset:0},slider:{trackSize:16,trackFill:fP.STROKE,trackFillOpacity:.05,selectionFill:e,selectionFillOpacity:.15,handleIconSize:10,handleIconFill:"#f7f7f7",handleIconFillOpacity:1,handleIconStroke:fP.BLACK,handleIconStrokeOpacity:.25,handleIconLineWidth:1,handleIconRadius:2,handleLabelFill:fP.BLACK,handleLabelFillOpacity:.45,handleLabelFontSize:10,handleLabelFontWeight:"normal"},scrollbar:{},title:{titleFill:fP.BLACK,titleFillOpacity:.85,titleFontSize:14,titleFontWeight:"bold",titleTextBaseline:"top",subtitleFill:fP.BLACK,subtitleFillOpacity:.65,subtitleFontSize:12,subtitleFontWeight:"normal",subtitleTextBaseline:"top"}};return Object.assign({},n,t)};function vP(t){return"boolean"!==typeof t&&("enter"in t&&"update"in t&&"exit"in t)}function gP(t){if(!t)return{enter:!1,update:!1,exit:!1};var e=["enter","update","exit"],n=Object.fromEntries(Object.entries(t).filter((function(t){var n=VC(t,1),r=n[0];return!e.includes(r)})));return Object.fromEntries(e.map((function(e){return vP(t)?!1===t[e]?[e,!1]:[e,WC(WC({},t[e]),n)]:[e,n]})))}function yP(t,e){t?t.finished.then(e):e()}function mP(t,e){0===t.length?e():Promise.all(t.map((function(t){return null===t||void 0===t?void 0:t.finished}))).then(e)}function bP(t,e){"update"in t?t.update(e):t.attr(e)}function xP(t,e,n){if(0===e.length)return null;if(!n){var r=e.slice(-1)[0];return bP(t,{style:r}),null}return t.animate(e,n)}function wP(t,e){return"text"===t.nodeName&&"text"===e.nodeName&&t.attributes.text===e.attributes.text}function OP(t,e,n,r){if(void 0===r&&(r="destroy"),wP(t,e))return t.remove(),[null];var i=function(){"destroy"===r?t.destroy():"hide"===r&&kT(t),e.isVisible()&&MT(e)};if(!n)return i(),[null];var o=n.duration,a=void 0===o?0:o,s=n.delay,l=void 0===s?0:s,c=Math.ceil(+a/2),u=+a/4,h=function(t){if("circle"===t.nodeName){var e=VC(t.getLocalPosition(),2),n=e[0],r=e[1],i=t.attr("r");return[n-i,r-i]}return t.getLocalPosition()},f=VC(h(t),2),d=f[0],p=f[1],v=VC(h(e),2),g=v[0],y=v[1],m=VC([(d+g)/2-d,(p+y)/2-p],2),b=m[0],x=m[1],w=t.animate([{opacity:1,transform:"translate(0, 0)"},{opacity:0,transform:"translate(".concat(b,", ").concat(x,")")}],WC(WC({fill:"both"},n),{duration:l+c+u})),O=e.animate([{opacity:0,transform:"translate(".concat(-b,", ").concat(-x,")"),offset:.01},{opacity:1,transform:"translate(0, 0)"}],WC(WC({fill:"both"},n),{duration:c+u,delay:l+c-u}));return yP(O,i),[w,O]}function CP(t,e,n){var r={},i={};return Object.entries(e).forEach((function(e){var n=VC(e,2),o=n[0],a=n[1];if(!ye(a)){var s=t.style[o]||t.parsedStyle[o]||0;s!==a&&(r[o]=s,i[o]=a)}})),n?xP(t,[r,i],WC({fill:"both"},n)):(bP(t,i),null)}function SP(t,e){if(t.length<=e)return t;for(var n=Math.floor(t.length/e),r=[],i=0;i<t.length;i+=n)r.push(t[i]);return r}pP.props={};var _P=function(t,e){var n=function(t){return"".concat(e,"-").concat(t)},r=Object.fromEntries(Object.entries(t).map((function(t){var e=VC(t,2),r=e[0],i=e[1],o=n(i);return[r,{name:o,class:".".concat(o),id:"#".concat(o),toString:function(){return o}}]})));return Object.assign(r,{prefix:n}),r},EP={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new Ec({style:{path:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],anchor:"0.5 0.5",fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",tickStrokeOpacity:.65,labelOverlap:[]},MP=(Bd({},EP,{style:{type:"arc"}}),Bd({},EP,{style:{}}),_P({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis"));function kP(t,e){return[t[0]*e,t[1]*e]}function TP(t,e){return[t[0]+e[0],t[1]+e[1]]}function AP(t,e){return[t[0]-e[0],t[1]-e[1]]}function LP(t,e){return[Math.min(t[0],e[0]),Math.min(t[1],e[1])]}function PP(t,e){return[Math.max(t[0],e[0]),Math.max(t[1],e[1])]}function RP(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function IP(t){if(0===t[0]&&0===t[1])return[0,0];var e=Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2));return[t[0]/e,t[1]/e]}function NP(t,e){return e?[t[1],-t[0]]:[-t[1],t[0]]}function jP(t){return t*Math.PI/180}function BP(t){return Number((180*t/Math.PI).toPrecision(5))}function DP(t){return t.toString().charAt(0).toUpperCase()+t.toString().slice(1)}function FP(t){return t.toString().charAt(0).toLowerCase()+t.toString().slice(1)}function zP(t,e){return"".concat(e).concat(DP(t))}function WP(t,e,n){var r;void 0===n&&(n=!0);var i=e||(null===(r=t.match(/^([a-z][a-z0-9]+)/))||void 0===r?void 0:r[0])||"",o=t.replace(new RegExp("^(".concat(i,")")),"");return n?FP(o):o}function HP(t,e){Object.entries(e).forEach((function(e){var n=VC(e,2),r=n[0],i=n[1];UC([t],VC(t.querySelectorAll(r)),!1).filter((function(t){return t.matches(r)})).forEach((function(t){if(t){var e=t;e.style.cssText+=Object.entries(i).reduce((function(t,e){return"".concat(t).concat(e.join(":"),";")}),"")}}))}))}function $P(t,e,n){void 0===n&&(n=!1);var r={};return Object.entries(t).forEach((function(t){var i=VC(t,2),o=i[0],a=i[1];if("className"===o||"class"===o);else if(o.startsWith("show")&&WP(o,"show").startsWith(e)!==n)o===zP(e,"show")?r[o]=a:r[o.replace(new RegExp(DP(e)),"")]=a;else if(!o.startsWith("show")&&o.startsWith(e)!==n){var s=WP(o,e);"filter"===s&&"function"===typeof a||(r[s]=a)}})),r}function GP(t,e){return Object.entries(t).reduce((function(t,n){var r=VC(n,2),i=r[0],o=r[1];return i.startsWith("show")?t["show".concat(e).concat(i.slice(4))]=o:t["".concat(e).concat(DP(i))]=o,t}),{})}function VP(t,e){void 0===e&&(e=["x","y","class","className"]);var n=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],r={},i={};return Object.entries(t).forEach((function(t){var o=VC(t,2),a=o[0],s=o[1];e.includes(a)||(-1!==n.indexOf(a)?i[a]=s:r[a]=s)})),[r,i]}function YP(t,e){return _T(t)?t.apply(void 0,UC([],VC(e),!1)):t}function UP(t,e){return t.style.opacity||(t.style.opacity=1),CP(t,{opacity:0},e)}var XP=["$el","anchor","cx","cy","d","defX","defY","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function qP(t){return XP.includes(t)}function KP(t){var e={};for(var n in t)qP(n)&&(e[n]=t[n]);return e}var ZP=_P({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function QP(t){return t.reduce((function(t,e,n){return t.push(UC([0===n?"M":"L"],VC(e),!1)),t}),[])}function JP(t,e,n){var r=e.connect,i=void 0===r?"line":r,o=e.center;if("line"===i)return QP(t);if(!o)return[];var a=RP(t[0],o),s=n?0:1;return t.reduce((function(t,e,n){return 0===n?t.push(UC(["M"],VC(e),!1)):t.push(UC(["A",a,a,0,0,s],VC(e),!1)),t}),[])}function tR(t,e,n){return"surround"===e.type?JP(t,e,n):QP(t)}function eR(t,e,n){var r=n.type,i=n.connect,o=n.center,a=n.closed,s=a?[["Z"]]:[],l=VC([tR(t,n),tR(e.slice().reverse(),n,!0)],2),c=l[0],u=l[1],h=VC([t[0],e.slice(-1)[0]],2),f=h[0],d=h[1],p=function(t,e){return[c,t,u,e,s].flat()};if("line"===i||"surround"===r)return p([UC(["L"],VC(d),!1)],[UC(["L"],VC(f),!1)]);if(!o)throw new Error("Arc grid need to specified center");var v=VC([RP(d,o),RP(f,o)],2),g=v[0],y=v[1];return p([UC(["A",g,g,0,0,1],VC(d),!1),UC(["L"],VC(d),!1)],[UC(["A",y,y,0,0,0],VC(f),!1),UC(["L"],VC(f),!1)])}function nR(t,e,n,r){var i=n.animate,o=e.map((function(t,e){return{id:t.id||"grid-line-".concat(e),path:tR(t.points,n)}}));return t.selectAll(ZP.line.class).data(o,(function(t){return t.id})).join((function(t){return t.append("path").each((function(t,e){var n=YP(KP(WC({path:t.path},r)),[t,e,o]);this.attr(WC({class:ZP.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4]},n))}))}),(function(t){return t.transition((function(t,e){var n=YP(KP(WC({path:t.path},r)),[t,e,o]);return CP(this,n,i.update)}))}),(function(t){return t.transition((function(){var t=this,e=UP(this,i.exit);return yP(e,(function(){return t.remove()})),e}))})).transitions()}function rR(t,e,n){var r=n.animate,i=n.connect,o=n.areaFill;if(e.length<2||!o||!i)return[];for(var a=Array.isArray(o)?o:[o,"transparent"],s=function(t){return a[t%a.length]},l=[],c=0;c<e.length-1;c++){var u=VC([e[c].points,e[c+1].points],2),h=u[0],f=u[1],d=eR(h,f,n);l.push({path:d,fill:s(c)})}return t.selectAll(ZP.region.class).data(l,(function(t,e){return e})).join((function(t){return t.append("path").each((function(t,e){var n=YP(t,[t,e,l]);this.attr(n)})).attr("className",ZP.region.name)}),(function(t){return t.transition((function(t,e){var n=YP(t,[t,e,l]);return CP(this,n,r.update)}))}),(function(t){return t.transition((function(){var t=this,e=UP(this,r.exit);return yP(e,(function(){return t.remove()})),e}))})).transitions()}function iR(t){var e=t.data,n=void 0===e?[]:e,r=t.closed;return r?n.map((function(t){var e=t.points,n=VC(e,1),r=n[0];return WC(WC({},t),{points:UC(UC([],VC(e),!1),[r],!1)})})):n}var oR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zC(e,t),e.prototype.render=function(t,e){t.type,t.center,t.areaFill,t.closed;var n=HC(t,["type","center","areaFill","closed"]),r=iR(t),i=HT(e).maybeAppendByClassName(ZP.lineGroup,"g"),o=HT(e).maybeAppendByClassName(ZP.regionGroup,"g"),a=nR(i,r,t,n),s=rR(o,r,t);return UC(UC([],VC(a),!1),VC(s),!1)},e}(BT),aR=function(t,e){if(!_T(t))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n},sR=function(t,e,n){var r=0,i=me(e)?e.split("."):e;while(t&&r<i.length)t=t[i[r++]];return void 0===t||r<i.length?n:t},lR=function(t,e){return function(n){return t*(1-n)+e*n}};function cR(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0;return function(i){var o=new Array(r),a=new Array(n),s=0;for(s=0;s<r;++s)o[s]=hR(t[s],e[s]);for(;s<n;++s)a[s]=e[s];for(s=0;s<r;++s)a[s]=o[s](i);return a}}function uR(t,e){void 0===t&&(t={}),void 0===e&&(e={});var n={},r={};return Object.entries(e).forEach((function(e){var i=VC(e,2),o=i[0],a=i[1];o in t?n[o]=hR(t[o],a):r[o]=a})),function(t){return Object.entries(n).forEach((function(e){var n=VC(e,2),i=n[0],o=n[1];return r[i]=o(t)})),r}}function hR(t,e){return"number"===typeof t&&"number"===typeof e?lR(t,e):Array.isArray(t)&&Array.isArray(e)?cR(t,e):"object"===typeof t&&"object"===typeof e?uR(t,e):function(e){return t}}function fR(t,e,n,r){if(!r)return t.attr("__keyframe_data__",n),null;var i=r.duration,o=void 0===i?0:i,a=hR(e,n),s=Math.ceil(+o/16),l=new Array(s).fill(0).map((function(t,e,n){return{__keyframe_data__:a(e/(n.length-1))}}));return t.animate(l,WC({fill:"both"},r))}function dR(t){return"function"===typeof t?t():me(t)||pe(t)?new FT({style:{text:String(t)}}):t}function pR(t,e,n){void 0===n&&(n=!1);var r=t.getBBox(),i=r.width,o=r.height,a=e/Math.max(i,o);return n&&t.scale(a),a}function vR(t,e){var n={},r=Array.isArray(e)?e:[e];for(var i in t)r.includes(i)||(n[i]=t[i]);return n}function gR(t,e){return Object.fromEntries(Object.entries(t).map((function(t){var n=VC(t,2),r=n[0],i=n[1];return[r,YP(i,e)]})))}function yR(t){if("linear"===t.type){var e=t.startPos,n=t.endPos;return UC(UC([],VC(e),!1),VC(n),!1)}var r=t.startAngle,i=t.endAngle,o=t.center,a=t.radius;return UC(UC([r,i],VC(o),!1),[a],!1)}function mR(t,e){return e&&_T(e)?t.filter(e):t}var bR=aR((function(t,e){var n=e.startAngle,r=e.endAngle;return(r-n)*t+n}),(function(t,e){return[t,e.startAngle,e.endAngle].join()})),xR=aR((function(t,e){if("linear"===e.type){var n=VC(e.startPos,2),r=n[0],i=n[1],o=VC(e.endPos,2),a=o[0],s=o[1],l=VC([a-r,s-i],2),c=l[0],u=l[1];return IP([c,u])}var h=jP(bR(t,e));return[-Math.sin(h),Math.cos(h)]}),(function(t,e){var n=yR(e);return"arc"===e.type&&n.push(t),n.join()}));function wR(t,e,n){var r=xR(t,n);return NP(r,"positive"!==e)}function OR(t,e){return wR(t,e.labelDirection,e)}var CR,SR=aR((function(t,e){var n=VC(e.startPos,2),r=n[0],i=n[1],o=VC(e.endPos,2),a=o[0],s=o[1],l=VC([a-r,s-i],2),c=l[0],u=l[1];return[r+c*t,i+u*t]}),(function(t,e){return UC(UC([t],VC(e.startPos),!1),VC(e.endPos),!1).join()})),_R=aR((function(t,e){var n=e.radius,r=VC(e.center,2),i=r[0],o=r[1],a=jP(bR(t,e));return[i+n*Math.cos(a),o+n*Math.sin(a)]}),(function(t,e){var n=e.startAngle,r=e.endAngle,i=e.radius,o=e.center;return UC([t,n,r,i],VC(o),!1).join()}));function ER(t,e){return"linear"===e.type?SR(t,e):_R(t,e)}function MR(t){return 0===xR(0,t)[1]}function kR(t){return 0===xR(0,t)[0]}function TR(t,e){return e-t===360}function AR(t,e,n,r,i){var o=e-t,a=VC([i,i],2),s=a[0],l=a[1],c=VC([jP(t),jP(e)],2),u=c[0],h=c[1],f=function(t){return[n+i*Math.cos(t),r+i*Math.sin(t)]},d=VC(f(u),2),p=d[0],v=d[1],g=VC(f(h),2),y=g[0],m=g[1];if(TR(t,e)){var b=(h+u)/2,x=VC(f(b),2),w=x[0],O=x[1];return[["M",p,v],["A",s,l,0,1,0,w,O],["A",s,l,0,1,0,y,m]]}var C=o>180?1:0,S=t>e?0:1,_=!1;return _?"M".concat(n,",").concat(r,",L").concat(p,",").concat(v,",A").concat(s,",").concat(l,",0,").concat(C,",").concat(S,",").concat(y,",").concat(m,",L").concat(n,",").concat(r):"M".concat(p,",").concat(v,",A").concat(s,",").concat(l,",0,").concat(C,",").concat(S,",").concat(y,",").concat(m)}function LR(t){var e=t.attributes,n=e.startAngle,r=e.endAngle,i=e.center,o=e.radius;return UC(UC([n,r],VC(i),!1),[o],!1)}function PR(t,e,n,r){var i=e.startAngle,o=e.endAngle,a=e.center,s=e.radius;return t.selectAll(MP.line.class).data([{path:AR.apply(void 0,UC(UC([i,o],VC(a),!1),[s],!1))}],(function(t,e){return e})).join((function(t){return t.append("path").attr("className",MP.line.name).styles(e).styles({path:function(t){return t.path}})}),(function(t){return t.transition((function(){var t=this,e=fR(this,LR(this),UC(UC([i,o],VC(a),!1),[s],!1),r.update);if(e){var n=function(){var e=sR(t.attributes,"__keyframe_data__");t.style.path=AR.apply(void 0,UC([],VC(e),!1))};e.onframe=n,e.onfinish=n}return e})).styles(e)}),(function(t){return t.remove()})).styles(n).transitions()}function RR(t,e){e.truncRange,e.truncShape,e.lineExtension}function IR(t,e,n){void 0===n&&(n=[0,0]);var r=VC([t,e,n],3),i=VC(r[0],2),o=i[0],a=i[1],s=VC(r[1],2),l=s[0],c=s[1],u=VC(r[2],2),h=u[0],f=u[1],d=VC([l-o,c-a],2),p=d[0],v=d[1],g=Math.sqrt(Math.pow(p,2)+Math.pow(v,2)),y=VC([-h/g,f/g],2),m=y[0],b=y[1];return[m*p,m*v,b*p,b*v]}function NR(t){var e=VC(t,2),n=VC(e[0],2),r=n[0],i=n[1],o=VC(e[1],2),a=o[0],s=o[1];return{x1:r,y1:i,x2:a,y2:s}}function jR(t,e,n,r){var i=e.showTrunc,o=e.startPos,a=e.endPos,s=e.truncRange,l=e.lineExtension,c=VC([o,a],2),u=VC(c[0],2),h=u[0],f=u[1],d=VC(c[1],2),p=d[0],v=d[1],g=VC(l?IR(o,a,l):new Array(4).fill(0),4),y=g[0],m=g[1],b=g[2],x=g[3],w=function(e){return t.selectAll(MP.line.class).data(e,(function(t,e){return e})).join((function(t){return t.append("line").attr("className",(function(t){return"".concat(MP.line.name," ").concat(t.className)})).styles(n).transition((function(t){return CP(this,NR(t.line),!1)}))}),(function(t){return t.styles(n).transition((function(t){var e=t.line;return CP(this,NR(e),r.update)}))}),(function(t){return t.remove()})).transitions()};if(!i||!s)return w([{line:[[h+y,f+m],[p+b,v+x]],className:MP.line.name}]);var O=VC(s,2),C=O[0],S=O[1],_=p-h,E=v-f,M=VC([h+_*C,f+E*C],2),k=M[0],T=M[1],A=VC([h+_*S,f+E*S],2),L=A[0],P=A[1],R=w([{line:[[h+y,f+m],[k,T]],className:MP.lineFirst.name},{line:[[L,P],[p+b,v+x]],className:MP.lineSecond.name}]);return RR(t,e),R}function BR(t,e,n,r){var i,o=n.showArrow,a=n.showTrunc,s=n.lineArrow,l=n.lineArrowOffset,c=n.lineArrowSize;if(i="arc"===e?t.select(MP.line.class):a?t.select(MP.lineSecond.class):t.select(MP.line.class),!o||!s||"arc"===n.type&&TR(n.startAngle,n.endAngle)){var u=i.node();u&&(u.style.markerEnd=void 0)}else{var h=dR(s);h.attr(r),pR(h,c,!0),i.style("markerEnd",h).style("markerEndOffset",-l)}}function DR(t,e,n){var r,i=e.type,o=$P(e,"line");return r="linear"===i?jR(t,e,vR(o,"arrow"),n):PR(t,e,vR(o,"arrow"),n),BR(t,i,e,o),r}function FR(t,e){return wR(t,e.gridDirection,e)}function zR(t){var e=t.type,n=t.gridCenter;return"linear"===e?n:n||t.center}function WR(t,e){var n=e.gridLength;return t.map((function(t,r){var i=t.value,o=VC(ER(i,e),2),a=o[0],s=o[1],l=VC(kP(FR(i,e),n),2),c=l[0],u=l[1];return{id:r,points:[[a,s],[a+c,s+u]]}}))}function HR(t,e){var n=e.gridControlAngles,r=zR(e);if(!r)throw new Error("grid center is not provide");if(t.length<2)throw new Error("Invalid grid data");if(!n||0===n.length)throw new Error("Invalid gridControlAngles");var i=VC(r,2),o=i[0],a=i[1];return t.map((function(t,r){var i=t.value,s=VC(ER(i,e),2),l=s[0],c=s[1],u=VC([l-o,c-a],2),h=u[0],f=u[1],d=[];return n.forEach((function(t){var e=jP(t),n=VC([Math.cos(e),Math.sin(e)],2),r=n[0],i=n[1],s=h*r-f*i+o,l=h*i+f*r+a;d.push([s,l])})),{points:d,id:r}}))}function $R(t,e,n,r){var i=$P(n,"grid"),o=i.type,a=i.areaFill,s=zR(n),l=mR(e,n.gridFilter),c="segment"===o?WR(l,n):HR(l,n),u=WC(WC({},i),{center:s,areaFill:_T(a)?l.map((function(t,e){return YP(a,[t,e,l])})):a,animate:r,data:c});return t.selectAll(MP.grid.class).data([1]).join((function(t){return t.append((function(){return new oR({style:u})})).attr("className",MP.grid.name)}),(function(t){return t.transition((function(){return this.update(u)}))}),(function(t){return t.remove()})).transitions()}function GR(t,e,n,r,i){return void 0===r&&(r=!0),!!(r&&t===e||i&&t===n)||t>e&&t<n}var VR=aR((function(t,e){var n=me(t)?t:t.style.text.toString(),r=e||YR(t),i=r.fontSize,o=r.fontFamily,a=r.fontWeight,s=r.fontStyle,l=r.fontVariant;return CR||(CR=document.createElement("canvas").getContext("2d")),CR.font=[s,l,a,"".concat(i,"px"),o].join(" "),CR.measureText(n).width}),(function(t,e){return[me(t)?t:t.style.text.toString(),Object.values(e||YR(t)).join()].join("")})),YR=function(t){var e=t.style.fontFamily||"sans-serif",n=t.style.fontWeight||"normal",r=t.style.fontStyle||"normal",i=t.style.fontVariant,o=t.style.fontSize;return o="object"===typeof o?o.value:o,{fontSize:o,fontFamily:e,fontWeight:n,fontStyle:r,fontVariant:i}};function UR(t){return"text"===t.nodeName?t:"g"===t.nodeName&&1===t.children.length&&"text"===t.children[0].nodeName?t.children[0]:null}function XR(t,e){var n=UR(t);n&&n.attr(e)}function qR(t,e,n){void 0===n&&(n="..."),XR(t,{wordWrap:!0,wordWrapWidth:e,maxLines:1,textOverflow:n})}function KR(t,e,n,r){void 0===n&&(n=2),void 0===r&&(r="top"),XR(t,{wordWrap:!0,wordWrapWidth:e,maxLines:n,textBaseline:r})}function ZR(t,e,n){var r=t.getBBox(),i=r.width,o=r.height,a=VC([e,n].map((function(t,e){var n;return t.includes("%")?parseFloat((null===(n=t.match(/[+-]?([0-9]*[.])?[0-9]+/))||void 0===n?void 0:n[0])||"0")/100*(0===e?i:o):t})),2),s=a[0],l=a[1];return[s,l]}function QR(t,e){if(e)try{var n=/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,r=e.replace(n,(function(e,n,r){return"translate(".concat(ZR(t,n,r),")")}));t.attr("transform",r)}catch(i){}}var JR=function(t){return void 0!==t&&null!=t&&!Number.isNaN(t)};function tI(t){if(pe(t))return[t,t,t,t];if(tn(t)){var e=t.length;if(1===e)return[t[0],t[0],t[0],t[0]];if(2===e)return[t[0],t[1],t[0],t[1]];if(3===e)return[t[0],t[1],t[2],t[1]];if(4===e)return t}return[0,0,0,0]}var eI=function(){function t(t,e,n,r){this.set(t,e,n,r)}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),t.prototype.rotatedPoints=function(t,e,n){var r=this,i=r.x1,o=r.y1,a=r.x2,s=r.y2,l=Math.cos(t),c=Math.sin(t),u=e-e*l+n*c,h=n-e*c-n*l,f=[[l*i-c*s+u,c*i+l*s+h],[l*a-c*s+u,c*a+l*s+h],[l*i-c*o+u,c*i+l*o+h],[l*a-c*o+u,c*a+l*o+h]];return f},t.prototype.set=function(t,e,n,r){return n<t?(this.x2=t,this.x1=n):(this.x1=t,this.x2=n),r<e?(this.y2=e,this.y1=r):(this.y1=e,this.y2=r),this},t.prototype.defined=function(t){return this[t]!==Number.MAX_VALUE&&this[t]!==-Number.MAX_VALUE},t}();function nI(t,e){var n=t.getEulerAngles()||0;t.setEulerAngles(0);var r=t.getLocalBounds(),i=VC(r.min,2),o=i[0],a=i[1],s=VC(r.max,2),l=s[0],c=s[1],u=rI(t),h=u.width,f=u.height,d=f,p=0,v=0,g=o,y=a,m=UR(t);if(m){d-=1.5;var b=m.style.textAlign,x=m.style.textBaseline;"center"===b?g=(o+l)/2:"right"!==b&&"end"!==b||(g=l),"middle"===x?y=(a+c)/2:"bottom"===x&&(y=c)}var w=VC(tI(e),4),O=w[0],C=void 0===O?0:O,S=w[1],_=void 0===S?0:S,E=w[2],M=void 0===E?C:E,k=w[3],T=void 0===k?_:k,A=new eI((p+=o)-T,(v+=a)-C,p+h+_,v+d+M);return t.setEulerAngles(n),A.rotatedPoints(jP(n),g,y)}function rI(t){return t.__bbox__?t.__bbox__:t.getBBox()}function iI(t,e){return e[0]<=Math.max(t[0][0],t[1][0])&&e[0]<=Math.min(t[0][0],t[1][0])&&e[1]<=Math.max(t[0][1],t[1][1])&&e[1]<=Math.min(t[0][1],t[1][1])}function oI(t,e,n){var r=(e[1]-t[1])*(n[0]-e[0])-(e[0]-t[0])*(n[1]-e[1]);return 0===r?0:r<0?2:1}function aI(t,e){var n=oI(t[0],t[1],e[0]),r=oI(t[0],t[1],e[1]),i=oI(e[0],e[1],t[0]),o=oI(e[0],e[1],t[1]);return n!==r&&i!==o||(!(0!==n||!iI(t,e[0]))||(!(0!==r||!iI(t,e[1]))||(!(0!==i||!iI(e,t[0]))||!(0!==o||!iI(e,t[1])))))}function sI(t,e){var n=t.length;if(n<3)return!1;var r=[e,[9999,e[1]]],i=0,o=0;do{var a=[t[o],t[(o+1)%n]];if(aI(a,r)){if(0===oI(a[0],e,a[1]))return iI(a,e);i++}o=(o+1)%n}while(0!==o);return!!(1&i)}function lI(t,e){return e.every((function(e){return sI(t,e)}))}function cI(t,e,n){var r=t.x1,i=t.x2,o=t.y1,a=t.y2,s=[[r,o],[i,o],[i,a],[r,a]],l=nI(e,n);return lI(s,l)}function uI(t,e){var n=VC(t,4),r=n[0],i=n[1],o=n[2],a=n[3],s=VC(e,4),l=s[0],c=s[1],u=s[2],h=s[3],f=o-r,d=a-i,p=u-l,v=h-c,g=f*v-p*d;if(0===g)return!1;var y=g>0,m=r-l,b=i-c,x=f*b-d*m;if(x<0===y)return!1;var w=p*b-v*m;return w<0!==y&&(x>g!==y&&w>g!==y)}function hI(t,e){var n=[[t[0],t[1],t[2],t[3]],[t[2],t[3],t[4],t[5]],[t[4],t[5],t[6],t[7]],[t[6],t[7],t[0],t[1]]];return n.some((function(t){return uI(e,t)}))}function fI(t,e,n){var r,i,o=nI(t,n).flat(1),a=nI(e,n).flat(1),s=[[o[0],o[1],o[2],o[3]],[o[0],o[1],o[4],o[5]],[o[4],o[5],o[6],o[7]],[o[2],o[3],o[6],o[7]]];try{for(var l=GC(s),c=l.next();!c.done;c=l.next()){var u=c.value;if(hI(a,u))return!0}}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return!1}function dI(t,e){var n=t.type,r=t.labelDirection,i=t.crossSize;if(!i)return!1;if("arc"===n){var o=t.center,a=t.radius,s=VC(o,2),l=s[0],c=s[1],u="negative"===r?0:i,h=-a-u,f=a+u,d=VC(tI(e),4),p=d[0],v=d[1],g=d[2],y=d[3];return new eI(l+h-y,c+h-p,l+f+v,c+f+g)}var m=VC(t.startPos,2),b=m[0],x=m[1],w=VC(t.endPos,2),O=w[0],C=w[1],S=VC(kR(t)?[-e,0,e,0]:[0,e,0,-e],4),_=S[0],E=S[1],M=S[2],k=S[3],T=OR(0,t),A=kP(T,i),L=new eI(b,x,O,C);return L.x1+=k,L.y1+=_,L.x2+=E+A[0],L.y2+=M+A[1],L}function pI(t,e,n){var r,i,o=e.crossPadding,a=new Set,s=null,l=dI(e,o),c=function(t){return!l||cI(l,t)},u=function(t,e){return!t||!fI(t,e,tI(n))};try{for(var h=GC(t),f=h.next();!f.done;f=h.next()){var d=f.value;c(d)?!s||u(s,d)?s=d:(a.add(s),a.add(d)):a.add(d)}}catch(p){r={error:p}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}return Array.from(a)}function vI(t,e){return void 0===e&&(e={}),ye(t)?0:"number"===typeof t?t:Math.floor(VR(t,e))}function gI(t,e,n,r){if(!(t.length<=1)){var i=e.suffix,o=void 0===i?"...":i,a=e.minLength,s=e.maxLength,l=void 0===s?1/0:s,c=e.step,u=void 0===c?" ":c,h=e.margin,f=void 0===h?[0,0,0,0]:h,d=YR(r.getTextShape(t[0])),p=vI(u,d),v=a?vI(a,d):p,g=vI(l,d);(ye(g)||g===1/0)&&(g=Math.max.apply(null,t.map((function(t){return rI(t).width}))));for(var y=t.slice(),m=VC(f,4),b=(m[0],m[1],m[2],m[3],function(e){if(y.forEach((function(t){r.ellipsis(r.getTextShape(t),e,o)})),y=pI(t,n,f),y.length<1)return{value:void 0}}),x=g;x>v+p;x-=p){var w=b(x);if("object"===typeof w)return w.value}}}function yI(t){var e=t.getLocalBounds(),n=e.min,r=e.max,i=VC([n,r],2),o=VC(i[0],2),a=o[0],s=o[1],l=VC(i[1],2),c=l[0],u=l[1];return{x:a,y:s,width:c-a,height:u-s,left:a,bottom:u,top:s,right:c}}function mI(t,e){var n=VC(t,2),r=n[0],i=n[1],o=VC(e,2),a=o[0],s=o[1];return r!==a&&i===s}function bI(t,e){var n,r,i=e.attributes;try{for(var o=GC(Object.entries(i)),a=o.next();!a.done;a=o.next()){var s=VC(a.value,2),l=s[0],c=s[1];"id"!==l&&"className"!==l&&t.attr(l,c)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var xI={parity:function(t,e){var n=e.seq,r=void 0===n?2:n;return t.filter((function(t,e){return!(e%r)||(kT(t),!1)}))}},wI=function(t){return t.filter(JR)};function OI(t,e,n,r){var i=t.length,o=e.keepHeader,a=e.keepTail;if(!(i<=1||2===i&&o&&a)){var s,l,c=xI.parity,u=function(t){return t.forEach(r.show),t},h=2,f=t.slice(),d=t.slice(),p=Math.min.apply(Math,UC([1],VC(t.map((function(t){return rI(t).width}))),!1));if("linear"===n.type&&(MR(n)||kR(n))){var v=yI(t[0]).left,g=yI(t[i-1]).right,y=Math.abs(g-v)||1;h=Math.max(Math.floor(i*p/y),h)}o&&(s=f.splice(0,1)[0]),a&&(l=f.splice(-1,1)[0],f.reverse()),u(f);while(h<t.length&&pI(wI(l?UC(UC([l],VC(d),!1),[s],!1):UC([s],VC(d),!1)),n,null===e||void 0===e?void 0:e.margin).length){if(l&&!s&&h%2===0){var m=f.splice(0,1);m.forEach(r.hide)}else if(l&&s){m=f.splice(0,1);m.forEach(r.hide)}d=c(u(f),{seq:h}),h++}}}function CI(t,e,n,r){var i,o,a=e.optionalAngles,s=void 0===a?[0,45,90]:a,l=e.margin,c=e.recoverWhenFailed,u=void 0===c||c,h=t.map((function(t){return t.getLocalEulerAngles()})),f=function(){return pI(t,n,l).length<1},d=function(e){return t.forEach((function(t,n){var i=Array.isArray(e)?e[n]:e;r.rotate(t,+i)}))};try{for(var p=GC(s),v=p.next();!v.done;v=p.next()){var g=v.value;if(d(g),f())return}}catch(y){i={error:y}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}u&&d(h)}function SI(t){var e=t.type,n=t.labelDirection;return"linear"===e&&MR(t)?"negative"===n?"bottom":"top":"middle"}function _I(t,e,n,r){var i=e.wordWrapWidth,o=void 0===i?50:i,a=e.maxLines,s=void 0===a?3:a,l=e.recoverWhenFailed,c=void 0===l||l,u=e.margin,h=void 0===u?[0,0,0,0]:u,f=t.map((function(t){return t.attr("maxLines")||1})),d=Math.min.apply(Math,UC([],VC(f),!1)),p=function(){return pI(t,n,h).length<1},v=SI(n),g=function(e){return t.forEach((function(t,n){var i=Array.isArray(e)?e[n]:e;r.wrap(t,o,i,v)}))};if(!(d>s)){for(var y=d;y<=s;y++)if(g(y),p())return;c&&g(f)}}var EI=new Map([["hide",OI],["rotate",CI],["ellipsis",gI],["wrap",_I]]);function MI(t,e,n){return!(e.labelOverlap.length<1)&&("hide"===n?!NT(t[0]):"rotate"===n?!t.some((function(t){var e;return!!(null===(e=t.attr("transform"))||void 0===e?void 0:e.includes("rotate"))})):"ellipsis"!==n&&"wrap"!==n||t.filter((function(t){return t.querySelector("text")})).length>1)}function kI(t,e,n){var r=e.labelOverlap,i=void 0===r?[]:r;i.length&&i.forEach((function(r){var i=r.type,o=EI.get(i);MI(t,e,i)&&(null===o||void 0===o||o(t,r,e,n))}))}function TI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(t){return"positive"===t?-1:1};return t.reduce((function(t,e){return t*n(e)}),1)}var AI=function(t){var e=t;while(e<0)e+=360;return Math.round(e%360)},LI=aR((function(t,e){var n=VC(t,2),r=n[0],i=n[1],o=VC(e,2),a=o[0],s=o[1],l=VC([r*a+i*s,r*s-i*a],2),c=l[0],u=l[1];return Math.atan2(u,c)}),(function(t,e){return UC(UC([],VC(t),!1),VC(e),!1).join()}));function PI(t){var e=(t+360)%180;return GR(e,-90,90)||(e+=180),e}function RI(t,e,n){var r,i=n.labelAlign,o=null===(r=e.style.transform)||void 0===r?void 0:r.includes("rotate");if(o)return e.getLocalEulerAngles();var a=0,s=OR(t.value,n),l=xR(t.value,n);return"horizontal"===i?0:(a="perpendicular"===i?LI([1,0],s):LI([l[0]<0?-1:1,0],l),PI(BP(a)))}function II(t,e,n){var r=n.type,i=n.labelAlign,o=OR(t,n),a=AI(e),s=AI(BP(LI([1,0],o))),l="center",c="middle";return"linear"===r?[90,270].includes(s)&&0===a?(l="center",c=1===o[1]?"top":"bottom"):s%180||![90,270].includes(a)?0===s?(GR(a,0,90,!1,!0)||GR(a,0,90)||GR(a,270,360))&&(l="start"):90===s?GR(a,0,90,!1,!0)?l="start":(GR(a,90,180)||GR(a,270,360))&&(l="end"):270===s?GR(a,0,90,!1,!0)?l="end":(GR(a,90,180)||GR(a,270,360))&&(l="start"):180===s&&(90===a?l="start":(GR(a,0,90)||GR(a,270,360))&&(l="end")):l="center":"parallel"===i?c=GR(s,0,180,!0)?"top":"bottom":"horizontal"===i?GR(s,90,270,!1)?l="end":(GR(s,270,360,!1)||GR(s,0,90))&&(l="start"):"perpendicular"===i&&(l=GR(s,90,270)?"end":"start"),{textAlign:l,textBaseline:c}}function NI(t,e,n){e.setLocalEulerAngles(t);var r=e.__data__.value,i=II(r,t,n),o=e.querySelector(MP.labelItem.class);o&&DI(o,i)}function jI(t,e,n){var r=n.showTick,i=n.tickLength,o=n.tickDirection,a=n.labelDirection,s=n.labelSpacing,l=e.indexOf(t),c=YP(s,[t,l,e]),u=VC([OR(t.value,n),TI(a,o)],2),h=u[0],f=u[1],d=1===f?YP(r?i:0,[t,l,e]):0,p=VC(TP(kP(h,c+d),ER(t.value,n)),2),v=p[0],g=p[1];return{x:v,y:g}}function BI(t,e,n,r){var i=r.labelFormatter,o=_T(i)?function(){return dR(YP(i,[t,e,n,OR(t.value,r)]))}:function(){return dR(t.label||"")};return o}function DI(t,e){"text"===t.nodeName&&t.attr(e)}function FI(t){kI(this.node().childNodes,t,{hide:kT,show:MT,rotate:function(e,n){NI(+n,e,t)},ellipsis:function(t,e,n){void 0===e&&(e=1/0),t&&qR(t,e,n)},wrap:function(t,e,n){t&&KR(t,e,n)},getTextShape:function(t){return t.querySelector("text")}})}function zI(t,e,n,r,i){var o=n.indexOf(e),a=HT(t).append(BI(e,o,n,i)).attr("className",MP.labelItem.name).node(),s=VC(VP(gR(r,[e,o,n])),2),l=s[0],c=s[1],u=c.transform,h=HC(c,["transform"]);QR(t,u);var f=RI(e,t,i);return t.setLocalEulerAngles(+f),DI(a,WC(WC({},II(e.value,f,i)),l)),QR(t,u),t.attr(h),a}function WI(t,e,n,r){var i=mR(e,n.labelFilter),o=$P(n,"label");return t.selectAll(MP.label.class).data(i,(function(t,e){return e})).join((function(r){return r.append("g").attr("className",MP.label.name).transition((function(t){return zI(this,t,e,o,n),this.attr(jI(t,e,n)),this.__bbox__=t.bbox,null})).call((function(){return FI.call(t,n)}))}),(function(i){return i.transition((function(t){var i=this.querySelector(MP.labelItem.class),a=zI(this,t,e,o,n),s=OP(i,a,r.update),l=CP(this,jI(t,e,n),r.update);return this.__bbox__=t.bbox,UC(UC([],VC(s),!1),[l],!1)})).call((function(e){var r=sR(e,"_transitions").flat().filter(JR);mP(r,(function(){return FI.call(t,n)}))}))}),(function(t){return t.transition((function(){var t=this,e=UP(this.childNodes[0],r.exit);return yP(e,(function(){return HT(t).remove()})),e}))})).transitions()}function HI(t,e){return wR(t,e.tickDirection,e)}var $I=aR((function(t,e){var n=VC(t,2),r=n[0],i=n[1];return[[0,0],[r*e,i*e]]}),(function(t,e){return UC(UC([],VC(t),!1),[e],!1).join()}));function GI(t,e,n,r,i){var o=i.tickLength,a=VC($I(r,YP(o,[t,e,n])),2),s=VC(a[0],2),l=s[0],c=s[1],u=VC(a[1],2),h=u[0],f=u[1];return{x1:l,x2:h,y1:c,y2:f}}function VI(t,e,n,r,i){var o=i.tickFormatter,a=HI(e.value,i),s="line";return _T(o)&&(s=function(){return YP(o,[e,n,r,a])}),t.append(s).attr("className",MP.tickItem.name)}function YI(t,e,n,r,i,o,a){var s=HI(t.value,o),l=GI(t,e,n,s,o),c=l.x1,u=l.x2,h=l.y1,f=l.y2,d=VC(VP(gR(a,[t,e,n,s])),2),p=d[0],v=d[1];"line"===r.node().nodeName&&r.styles(WC({x1:c,x2:u,y1:h,y2:f},p)),i.attr(v),r.styles(p)}function UI(t,e,n,r,i,o){var a=VI(HT(this),t,e,n,r);YI(t,e,n,a,this,r,i);var s=VC(ER(t.value,r),2),l=s[0],c=s[1];return CP(this,{x:l,y:c},o)}function XI(t,e,n,r){var i=mR(e,n.tickFilter),o=$P(n,"tick");return t.selectAll(MP.tick.class).data(i,(function(t){return t.id||t.label})).join((function(t){return t.append("g").attr("className",MP.tick.name).transition((function(t,e){return UI.call(this,t,e,i,n,o,!1)}))}),(function(t){return t.transition((function(t,e){return this.removeChildren(),UI.call(this,t,e,i,n,o,r.update)}))}),(function(t){return t.transition((function(){var t=this,e=UP(this.childNodes[0],r.exit);return yP(e,(function(){return t.remove()})),e}))})).transitions()}var qI=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=t,this.y=e,this.width=n,this.height=r}return Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},t}();var KI=_P({text:"text"},"title");function ZI(t){return/\S+-\S+/g.test(t)?t.split("-").map((function(t){return t[0]})):t.length>2?[t[0]]:t.split("")}function QI(t,e){var n=t.attributes,r=n.position,i=n.spacing,o=n.inset,a=n.text,s=t.getBBox(),l=e.getBBox(),c=ZI(r),u=VC(tI(a?i:0),4),h=u[0],f=u[1],d=u[2],p=u[3],v=VC(tI(o),4),g=v[0],y=v[1],m=v[2],b=v[3],x=VC([p+f,h+d],2),w=x[0],O=x[1],C=VC([b+y,g+m],2),S=C[0],_=C[1];if("l"===c[0])return new qI(s.x,s.y,l.width+s.width+w+S,Math.max(l.height+_,s.height));if("t"===c[0])return new qI(s.x,s.y,Math.max(l.width+S,s.width),l.height+s.height+O+_);var E=VC([e.attributes.width||l.width,e.attributes.height||l.height],2),M=E[0],k=E[1];return new qI(l.x,l.y,M+s.width+w+S,k+s.height+O+_)}function JI(t,e){var n=Object.entries(e).reduce((function(e,n){var r=VC(n,2),i=r[0],o=r[1],a=t.node().attr(i);return a||(e[i]=o),e}),{});t.styles(n)}function tN(t){var e,n,r,i,o=t,a=o.width,s=o.height,l=o.position,c=VC([+a/2,+s/2],2),u=c[0],h=c[1],f=VC([+u,+h,"center","middle"],4),d=f[0],p=f[1],v=f[2],g=f[3],y=ZI(l);return y.includes("l")&&(e=VC([0,"start"],2),d=e[0],v=e[1]),y.includes("r")&&(n=VC([+a,"end"],2),d=n[0],v=n[1]),y.includes("t")&&(r=VC([0,"top"],2),p=r[0],g=r[1]),y.includes("b")&&(i=VC([+s,"bottom"],2),p=i[0],g=i[1]),{x:d,y:p,textAlign:v,textBaseline:g}}var eN=function(t){function e(e){return t.call(this,e,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return zC(e,t),e.prototype.getAvailableSpace=function(){var t=this,e=this.attributes,n=e.width,r=e.height,i=e.position,o=e.spacing,a=e.inset,s=t.querySelector(KI.text.class);if(!s)return new qI(0,0,+n,+r);var l=s.getBBox(),c=l.width,u=l.height,h=VC(tI(o),4),f=h[0],d=h[1],p=h[2],v=h[3],g=VC([0,0,+n,+r],4),y=g[0],m=g[1],b=g[2],x=g[3],w=ZI(i);if(w.includes("i"))return new qI(y,m,b,x);w.forEach((function(t,e){var i,o,a,s;"t"===t&&(i=VC(0===e?[u+p,+r-u-p]:[0,+r],2),m=i[0],x=i[1]),"r"===t&&(o=VC([+n-c-v],1),b=o[0]),"b"===t&&(a=VC([+r-u-f],1),x=a[0]),"l"===t&&(s=VC(0===e?[c+d,+n-c-d]:[0,+n],2),y=s[0],b=s[1])}));var O=VC(tI(a),4),C=O[0],S=O[1],_=O[2],E=O[3],M=VC([E+S,C+_],2),k=M[0],T=M[1];return new qI(y+E,m+C,b-k,x-T)},e.prototype.getBBox=function(){return this.title?this.title.getBBox():new qI(0,0,0,0)},e.prototype.render=function(t,e){var n=this,r=(t.width,t.height,t.position,t.spacing,HC(t,["width","height","position","spacing"])),i=VC(VP(r),1),o=i[0],a=tN(t),s=a.x,l=a.y,c=a.textAlign,u=a.textBaseline;DT(!!r.text,HT(e),(function(t){n.title=t.maybeAppendByClassName(KI.text,"text").styles(o).call(JI,{x:s,y:l,textAlign:c,textBaseline:u}).node()}))},e}(BT);function nN(t,e,n){var r=n.titlePosition,i=void 0===r?"lb":r,o=n.titleSpacing,a=ZI(i),s=t.node().getLocalBounds(),l=VC(s.min,2),c=l[0],u=l[1],h=VC(s.halfExtents,2),f=h[0],d=h[1],p=VC(e.node().getLocalBounds().halfExtents,2),v=p[0],g=p[1],y=VC([c+f,u+d],2),m=y[0],b=y[1],x=VC(tI(o),4),w=x[0],O=x[1],C=x[2],S=x[3];if(["start","end"].includes(i)&&"linear"===n.type){var _=n.startPos,E=n.endPos,M=VC("start"===i?[_,E]:[E,_],2),k=M[0],T=M[1],A=IP([-T[0]+k[0],-T[1]+k[1]]),L=VC(kP(A,w),2),P=L[0],R=L[1];return{x:k[0]+P,y:k[1]+R}}return a.includes("t")&&(b-=d+g+w),a.includes("r")&&(m+=f+v+O),a.includes("l")&&(m-=f+v+S),a.includes("b")&&(b+=d+g+C),{x:m,y:b}}function rN(t,e,n){var r=t.cloneNode(!0);r.style.transform="scale(1, 1)",r.style.transform="none";var i=r.getBBox().height;if("vertical"===e){if("left"===n)return"rotate(-90) translate(0, ".concat(i/2,")");if("right"===n)return"rotate(-90) translate(0, -".concat(i/2,")")}return""}function iN(t,e,n,r,i){var o=$P(r,"title"),a=VC(VP(o),2),s=a[0],l=a[1],c=l.transform,u=HC(l,["transform"]);t.styles(s),e.styles(u);var h=c||rN(t.node(),s.direction,s.position);QR(t.node(),h);var f=nN(HT(n._offscreen||n.querySelector(MP.mainGroup.class)),e,r),d=f.x,p=f.y,v=CP(e.node(),{x:d,y:p},i);return QR(t.node(),h),v}function oN(t,e,n,r){var i=n.titleText;return t.selectAll(MP.title.class).data([{title:i}].filter((function(t){return!!t.title})),(function(t,e){return t.title})).join((function(o){return o.append((function(){return dR(i)})).attr("className",MP.title.name).transition((function(){return iN(HT(this),t,e,n,r.enter)}))}),(function(i){return i.transition((function(){return iN(HT(this),t,e,n,r.update)}))}),(function(t){return t.remove()})).transitions()}function aN(t,e,n,r){var i=t.showLine,o=t.showTick,a=t.showLabel,s=e.maybeAppendByClassName(MP.lineGroup,"g"),l=DT(i,s,(function(e){return DR(e,t,r)}))||[],c=e.maybeAppendByClassName(MP.tickGroup,"g"),u=DT(o,c,(function(e){return XI(e,n,t,r)}))||[],h=e.maybeAppendByClassName(MP.labelGroup,"g"),f=DT(a,h,(function(e){return WI(e,n,t,r)}))||[];return UC(UC(UC([],VC(l),!1),VC(u),!1),VC(f),!1).filter((function(t){return!!t}))}var sN=function(t){function e(e){return t.call(this,e,EP)||this}return zC(e,t),e.prototype.render=function(t,e,n){var r=this,i=t.titleText,o=t.data,a=t.animate,s=t.showTitle,l=t.showGrid,c=t.dataThreshold,u=t.truncRange,h=SP(o,c).filter((function(t){var e=t.value;return!(u&&e>u[0]&&e<u[1])})),f=gP(void 0===n?a:n),d=HT(e).maybeAppendByClassName(MP.gridGroup,"g"),p=DT(l,d,(function(e){return $R(e,h,t,f)}))||[],v=HT(e).maybeAppendByClassName(MP.mainGroup,"g");i&&(!this.initialized&&f.enter||this.initialized&&f.update)&&aN(t,HT(this.offscreenGroup),h,gP(!1));var g=aN(t,HT(v.node()),h,f),y=HT(e).maybeAppendByClassName(MP.titleGroup,"g"),m=DT(s,y,(function(e){return oN(e,r,t,f)}))||[];return UC(UC(UC([],VC(p),!1),VC(g),!1),VC(m),!1).flat().filter((function(t){return!!t}))},e}(BT);function lN(t,e){var n;if(t)if(tn(t)){for(var r=0,i=t.length;r<i;r++)if(n=e(t[r],r),!1===n)break}else if(kn(t))for(var o in t)if(t.hasOwnProperty(o)&&(n=e(t[o],o),!1===n))break}var cN=lN,uN=function(t,e,n){if(!tn(t)&&!Pd(t))return t;var r=n;return cN(t,(function(t,n){r=e(r,t,n)})),r},hN=uN,fN=function(t,e){return hN(t,(function(t,n,r){return e.includes(r)||(t[r]=n),t}),{})};function dN(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function pN(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function vN(t){return t=pN(Math.abs(t)),t?t[1]:NaN}function gN(t,e){return function(n,r){var i=n.length,o=[],a=0,s=t[0],l=0;while(i>0&&s>0){if(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),(l+=s+1)>r)break;s=t[a=(a+1)%t.length]}return o.reverse().join(e)}}function yN(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}var mN,bN=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xN(t){if(!(e=bN.exec(t)))throw new Error("invalid format: "+t);var e;return new wN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function wN(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function ON(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(e+1):t}function CN(t,e){var n=pN(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(mN=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+pN(t,Math.max(0,e+o-1))[0]}function SN(t,e){var n=pN(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}xN.prototype=wN.prototype,wN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var _N={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:dN,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>SN(100*t,e),r:SN,s:CN,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function EN(t){return t}var MN,kN,TN=Array.prototype.map,AN=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function LN(t){var e=void 0===t.grouping||void 0===t.thousands?EN:gN(TN.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",i=void 0===t.decimal?".":t.decimal+"",o=void 0===t.numerals?EN:yN(TN.call(t.numerals,String)),a=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"−":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function c(t){t=xN(t);var c=t.fill,u=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,v=t.comma,g=t.precision,y=t.trim,m=t.type;"n"===m?(v=!0,m="g"):_N[m]||(void 0===g&&(g=12),y=!0,m="g"),(d||"0"===c&&"="===u)&&(d=!0,c="0",u="=");var b="$"===f?n:"#"===f&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",x="$"===f?r:/[%p]/.test(m)?a:"",w=_N[m],O=/[defgprs%]/.test(m);function C(t){var n,r,a,f=b,C=x;if("c"===m)C=w(t)+C,t="";else{t=+t;var S=t<0||1/t<0;if(t=isNaN(t)?l:w(Math.abs(t),g),y&&(t=ON(t)),S&&0===+t&&"+"!==h&&(S=!1),f=(S?"("===h?h:s:"-"===h||"("===h?"":h)+f,C=("s"===m?AN[8+mN/3]:"")+C+(S&&"("===h?")":""),O){n=-1,r=t.length;while(++n<r)if(a=t.charCodeAt(n),48>a||a>57){C=(46===a?i+t.slice(n+1):t.slice(n))+C,t=t.slice(0,n);break}}}v&&!d&&(t=e(t,1/0));var _=f.length+t.length+C.length,E=_<p?new Array(p-_+1).join(c):"";switch(v&&d&&(t=e(E+t,E.length?p-C.length:1/0),E=""),u){case"<":t=f+t+C+E;break;case"=":t=f+E+t+C;break;case"^":t=E.slice(0,_=E.length>>1)+f+t+C+E.slice(_);break;default:t=E+f+t+C;break}return o(t)}return g=void 0===g?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),C.toString=function(){return t+""},C}function u(t,e){var n=c((t=xN(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(vN(e)/3))),i=Math.pow(10,-r),o=AN[8+r/3];return function(t){return n(i*t)+o}}return{format:c,formatPrefix:u}}function PN(t){return MN=LN(t),kN=MN.format,MN.formatPrefix,MN}function RN(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,o=0;o<t.length;o++){var a=t[o],s=a.x,l=a.y,c=a.width,u=a.height,h=VC([s+c,l+u],2),f=h[0],d=h[1];s<e&&(e=s),l<n&&(n=l),f>r&&(r=f),d>i&&(i=d)}return new qI(e,n,r-e,i-n)}PN({thousands:",",grouping:[3],currency:["$",""]});var IN=function(t,e,n){var r=t.width,i=t.height,o=n.flexDirection,a=void 0===o?"row":o,s=(n.flexWrap,n.justifyContent),l=void 0===s?"flex-start":s,c=(n.alignContent,n.alignItems),u=void 0===c?"flex-start":c,h="row"===a,f="row"===a||"column"===a,d=h?f?[1,0]:[-1,0]:f?[0,1]:[0,-1],p=VC([0,0],2),v=p[0],g=p[1],y=e.map((function(t){var e,n=t.width,r=t.height,i=VC([v,g],2),o=i[0],a=i[1];return e=VC([v+n*d[0],g+r*d[1]],2),v=e[0],g=e[1],new qI(o,a,n,r)})),m=RN(y),b={"flex-start":0,"flex-end":h?r-m.width:i-m.height,center:h?(r-m.width)/2:(i-m.height)/2},x=y.map((function(t){var e=t.x,n=t.y,r=qI.fromRect(t);return r.x=h?e+b[l]:e,r.y=h?n:n+b[l],r})),w=(RN(x),function(t){var e=VC(h?["height",i]:["width",r],2),n=e[0],o=e[1];switch(u){case"flex-start":return 0;case"flex-end":return o-t[n];case"center":return o/2-t[n]/2;default:return 0}}),O=x.map((function(t){var e=t.x,n=t.y,r=qI.fromRect(t);return r.x=h?e:e+w(r),r.y=h?n+w(r):n,r})),C=O.map((function(e){var n,r,i=qI.fromRect(e);return i.x+=null!==(n=t.x)&&void 0!==n?n:0,i.y+=null!==(r=t.y)&&void 0!==r?r:0,i}));return C},NN=function(t,e,n){return[]},jN=function(t,e,n){if(0===e.length)return[];var r={flex:IN,grid:NN},i=n.display in r?r[n.display]:null;return(null===i||void 0===i?void 0:i.call(null,t,e,n))||[]},BN=function(t){function e(e){var n=t.call(this,e)||this;n.layoutEvents=[Pl.BOUNDS_CHANGED,Pl.INSERTED,Pl.REMOVED],n.$margin=tI(0),n.$padding=tI(0);var r=e.style||{},i=r.margin,o=void 0===i?0:i,a=r.padding,s=void 0===a?0:a;return n.margin=o,n.padding=s,n.isMutationObserved=!0,n.bindEvents(),n}return zC(e,t),Object.defineProperty(e.prototype,"margin",{get:function(){return this.$margin},set:function(t){this.$margin=tI(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this.$padding},set:function(t){this.$padding=tI(t)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var t=this.attributes,e=t.x,n=void 0===e?0:e,r=t.y,i=void 0===r?0:r,o=t.width,a=t.height,s=VC(this.$margin,4),l=s[0],c=s[1],u=s[2],h=s[3];return new qI(n-h,i-l,o+h+c,a+l+u)},e.prototype.appendChild=function(e,n){return e.isMutationObserved=!0,t.prototype.appendChild.call(this,e,n),e},e.prototype.getAvailableSpace=function(){var t=this.attributes,e=t.width,n=t.height,r=VC(this.$padding,4),i=r[0],o=r[1],a=r[2],s=r[3],l=VC(this.$margin,4),c=l[0],u=l[3];return new qI(s+u,i+c,e-s-o,n-i-a)},e.prototype.layout=function(){if(this.attributes.display&&this.isConnected&&!this.children.some((function(t){return!t.isConnected})))try{var t=jN(this.getAvailableSpace(),this.children.map((function(t){return t.getBBox()})),this.attributes);this.children.forEach((function(e,n){var r=t[n],i=r.x,o=r.y;e.attr({x:i,y:o})}))}catch(e){}},e.prototype.bindEvents=function(){var t=this;this.layoutEvents.forEach((function(e){t.addEventListener(e,(function(e){e.target.isMutationObserved=!0,t.layout()}))}))},e.prototype.attributeChangedCallback=function(t,e,n){"margin"===t?this.margin=n:"padding"===t&&(this.padding=n),this.layout()},e}(Oc),DN=function(t){var e=Lg(t);return e.charAt(0).toUpperCase()+e.substring(1)},FN=DN,zN=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function WN(t){return class extends xc{constructor(e){super(e),this.descriptor=t}connectedCallback(){var t,e;null===(e=(t=this.descriptor).render)||void 0===e||e.call(t,this.attributes,this)}update(t={}){var e,n;this.attr(Bd({},this.attributes,t)),null===(n=(e=this.descriptor).render)||void 0===n||n.call(e,this.attributes,this)}}}function HN(t,e,n){return t.querySelector(e)?wE(t).select(e):wE(t).append(n)}function $N(t){return Array.isArray(t)?t.join(", "):`${t||""}`}function GN(t,e){const n={display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"};let{flexDirection:r,justifyContent:i,alignItems:o}=n;const a={top:["row","flex-start","center"],bottom:["row","flex-start","center"],left:["column","center","center"],right:["column","center","center"],center:["column","center","center"]};return t in a&&([r,i,o]=a[t]),Object.assign({display:"flex",flexDirection:r,justifyContent:i,alignItems:o},e)}class VN extends BN{get child(){var t;return null===(t=this.children)||void 0===t?void 0:t[0]}update(t){var e;this.attr(t);const{subOptions:n}=t;null===(e=this.child)||void 0===e||e.update(n)}}class YN extends VN{update(t){var e;const{subOptions:n}=t;this.attr(t),null===(e=this.child)||void 0===e||e.update(n)}}function UN(t,e){var n;return null===(n=t.filter((t=>t.getOptions().name===e)))||void 0===n?void 0:n[0]}function XN(t){return"horizontal"===t||0===t}function qN(t){return"vertical"===t||t===-Math.PI/2}function KN(t,e,n){const{bbox:r}=t,{position:i="top",size:o,length:a,crossPadding:s=0}=e,l=["top","bottom","center"].includes(i),[c,u]=l?[r.height,r.width]:[r.width,r.height],{defaultSize:h,defaultLength:f}=n.props,d=o||h||c,p=d-2*s,v=a||f||u,g=l?"horizontal":"vertical",[y,m]=l?[v,p]:[p,v];return{orientation:g,width:y,height:m,size:p,length:v}}function ZN(t){return t.find((t=>t.getOptions().domain.length>0)).getOptions().domain}function QN(t){const e=["arrow","crosshairs","grid","handle","handleLabel","indicator","label","line","tick","tip","title","trunc"],{style:n}=t,r=zN(t,["style"]),i={};return Object.entries(r).forEach((([t,n])=>{e.includes(t)?i[`show${FN(t)}`]=n:i[t]=n})),Object.assign(Object.assign({},i),n)}var JN=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function tj(t){const{innerWidth:e,innerHeight:n}=t.getOptions();return[e,n]}function ej(t,e){const{width:n,height:r}=e.getOptions();return i=>{if(!bv(e))return i;const o="bottom"===t?[i,1]:[0,i],a=e.map(o);if("bottom"===t){const t=a[0],e=new qS({domain:[0,n],range:[0,1]});return e.map(t)}if("left"===t){const t=a[1],e=new qS({domain:[0,r],range:[0,1]});return e.map(t)}return i}}function nj(t,e,n){if(t.getTicks)return t.getTicks();if(!n)return e;const[r,i]=X_(e,(t=>+t)),{tickCount:o}=t.getOptions();return n(r,i,o)}function rj(t){return"number"!==typeof t||Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}function ij(t,e){if(vv(e))return t=>t;const n=e.getOptions(),{innerWidth:r,innerHeight:i,insetTop:o,insetBottom:a,insetLeft:s,insetRight:l}=n,[c,u,h]="left"===t||"right"===t?[o,a,i]:[s,l,r],f=new qS({domain:[0,1],range:[c/h,1-u/h]});return t=>f.map(t)}function oj(t,e,n,r,i,o,a,s){var l;void 0===n&&void 0===o||t.update(Object.assign(Object.assign({},n&&{tickCount:n}),o&&{tickMethod:o}));const c=nj(t,e,o),u=i?c.filter(i):c,h=t=>t instanceof Date?String(t):"object"===typeof t&&t?t:String(t),f=r||(null===(l=t.getFormatter)||void 0===l?void 0:l.call(t))||h,d=ij(a,s),p=ej(a,s),v=t=>["top","bottom","center","outer"].includes(t);return vv(s)||pv(s)?u.map(((e,n,r)=>{var i,o;const l=(null===(i=t.getBandWidth)||void 0===i?void 0:i.call(t,e))/2||0,c=d(t.map(e)+l),u=gv(s)&&"center"===a||pv(s)&&(null===(o=t.getTicks)||void 0===o?void 0:o.call(t))&&v(a);return{value:u?1-c:c,label:h(f(rj(e),n,r)),id:String(n)}})):u.map(((e,n,r)=>{var i;const o=(null===(i=t.getBandWidth)||void 0===i?void 0:i.call(t,e))/2||0,a=p(d(t.map(e)+o));return{value:a,label:h(f(rj(e),n,r)),id:String(n)}}))}function aj(t,e){const[n,r]=tj(e);return t.includes("bottom")||t.includes("top")?r:n}function sj(t=[],e){if(t.length>0)return t;const{labelAutoRotate:n,labelAutoHide:r,labelAutoEllipsis:i,labelAutoWrap:o}=e,a=[],s=(t,e)=>{e&&a.push(t)};return s({type:"rotate",optionalAngles:[0,15,30,45,60,90]},n),s({type:"ellipsis",minLength:20},i),s({type:"hide"},r),s({type:"wrap",wordWrapWidth:100,maxLines:3,recoveryWhenFail:!0},o),a}function lj(t,e,n,r,i){const{x:o,y:a,width:s,height:l}=e,c=[o+s/2,a+l/2],u=Math.min(s,l)/2,[h,f]=_v(i),[d,p]=tj(i),v=Math.min(d,p)/2,g={center:c,radius:u,startAngle:h,endAngle:f,gridLength:(r-n)*v};if("inner"===t){const{insetLeft:t,insetTop:e}=i.getOptions();return Object.assign(Object.assign({},g),{center:[c[0]-t,c[1]-e],labelAlign:"perpendicular",labelDirection:"positive",tickDirection:"positive",gridDirection:"negative"})}return Object.assign(Object.assign({},g),{labelAlign:"parallel",labelDirection:"negative",tickDirection:"negative",gridDirection:"positive"})}function cj(t,e,n){return!Ov(e)&&!mv(e)&&(void 0===t?!!n.getTicks:t)}function uj(t,e,n,r){const{x:i,y:o,width:a,height:s}=n;if("bottom"===t)return{startPos:[i,o],endPos:[i+a,o]};if("left"===t)return{startPos:[i+a,o],endPos:[i+a,o+s]};if("right"===t)return{endPos:[i,o+s],startPos:[i,o]};if("top"===t)return{startPos:[i,o+s],endPos:[i+a,o+s]};if("center"===t){if("vertical"===e)return{startPos:[i+a,o],endPos:[i+a,o+s]};if("horizontal"===e)return{startPos:[i,o+s],endPos:[i+a,o+s]};if("number"===typeof e){const[t,n]=r.getCenter(),[l,c]=Sv(r),[u,h]=_v(r),f=Math.min(a,s)/2,{insetLeft:d,insetTop:p}=r.getOptions(),v=l*f,g=c*f,[y,m]=[t+i-d,n+o-p],[b,x]=[Math.cos(e),Math.sin(e)],w=[y+g*b,m+g*x],O=[y+v*b,m+v*x];return{startPos:w,endPos:O,gridClosed:h-u===360,gridCenter:[y,m],gridControlAngles:new Array(3).fill(0).map(((t,e,n)=>(h-u)/(n.length-1)*e))}}}return{}}const hj=t=>{const{order:e,size:n,position:r,orientation:i,labelFormatter:o,tickFilter:a,tickCount:s,tickMethod:l,important:c={},style:u={},indexBBox:h,title:f,grid:d=!1}=t,p=JN(t,["order","size","position","orientation","labelFormatter","tickFilter","tickCount","tickMethod","important","style","indexBBox","title","grid"]);return({scales:[t],value:e,coordinate:n,theme:i})=>{const{bbox:u}=e,{domain:v}=t.getOptions(),g=oj(t,v,s,o,a,l,r,n),y=h?g.map(((t,e)=>{const n=h.get(e);return n?n[0]!==t.label?t:Object.assign(Object.assign({},t),{bbox:n[1]}):t})):g,[m,b]=Sv(n),x=lj(r,u,m,b,n),{axis:w,axisArc:O={}}=i,C=QN(Bd({},w,O,x,Object.assign(Object.assign({type:"arc",data:y,titleText:$N(f),grid:d},p),c)));return new sN({style:fN(C,["transform"])})}};function fj(t,e,n,r,i,o){const a=n.axis;let s=n.axisLinear;return["top","right","bottom","left"].includes(i)&&(s=n[`axis${Dg(i)}`]),Object.assign({},a,s)}function dj(t,e,n,r,i,o){const a=fj(t,e,n,r,i,o);return"center"===i?Object.assign(Object.assign(Object.assign(Object.assign({},a),{labelDirection:"right"===r?"negative":"positive"}),"center"===r?{labelTransform:"translate(50%,0)"}:null),{tickDirection:"right"===r?"negative":"positive",labelSpacing:"center"===r?0:4,titleSpacing:qN(o)?10:0,tick:"center"!==r&&void 0}):a}const pj=t=>{const{direction:e="left",important:n={},labelFormatter:r,order:i,orientation:o,position:a,size:s,style:l={},title:c,tickCount:u,tickFilter:h,tickMethod:f,transform:d,indexBBox:p}=t,v=JN(t,["direction","important","labelFormatter","order","orientation","position","size","style","title","tickCount","tickFilter","tickMethod","transform","indexBBox"]);return({scales:[t],value:i,coordinate:g,theme:y})=>{const{bbox:m}=i,{domain:b}=t.getOptions(),x=dj(t,g,y,e,a,o),w=Object.assign(Object.assign(Object.assign({},x),l),v),O=aj(a,g),C=uj(a,o,m,g),S=oj(t,b,u,r,h,f,a,g),_=p?S.map(((t,e)=>{const n=p.get(e);return n?n[0]!==t.label?t:Object.assign(Object.assign({},t),{bbox:n[1]}):t})):S,E=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},w),{type:"linear",data:_,crossSize:s,titleText:$N(c),labelOverlap:sj(d,w),grid:cj(w.grid,g,t),gridLength:O,line:!0,indexBBox:p}),w.line?null:{lineOpacity:0}),C),n),M=E.labelOverlap.find((t=>"hide"===t.type));return M&&(E.crossSize=!1),new sN({className:"axis",style:QN(E)})}},vj=t=>e=>{const{labelFormatter:n,labelFilter:r=(()=>!0)}=e;return i=>{var o;const{scales:[a]}=i,s=(null===(o=a.getTicks)||void 0===o?void 0:o.call(a))||a.getOptions().domain,l="string"===typeof n?kN(n):n,c=(t,e,n)=>r(s[e],e,s),u=Object.assign(Object.assign({},e),{labelFormatter:l,labelFilter:c,scale:a});return t(u)(i)}},gj=vj(pj),yj=vj(hj);gj.props={defaultPosition:"center",defaultSize:45,defaultOrder:0},yj.props={defaultPosition:"outer",defaultOrientation:"vertical",defaultSize:45,defaultOrder:0};const mj=t=>(...e)=>gj(Object.assign({},{crossPadding:50},t))(...e);mj.props=Object.assign(Object.assign({},gj.props),{defaultPosition:"bottom"});const bj=t=>(...e)=>gj(Object.assign({},{crossPadding:10},t))(...e);bj.props=Object.assign(Object.assign({},gj.props),{defaultPosition:"left"});var xj=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function wj(t){const e=t%(2*Math.PI);return e===Math.PI/2?{titleTransform:"translate(0, 50%)"}:e>-Math.PI/2&&e<Math.PI/2?{titleTransform:"translate(50%, 0)"}:e>Math.PI/2&&e<3*Math.PI/2?{titleTransform:"translate(-50%, 0)"}:{}}function Oj(t,e,n,r){const{radar:i}=t,[o]=r,a=o.getOptions().name,[s,l]=_v(n),{axisRadar:c={}}=e;return Object.assign(Object.assign({},c),{grid:"position"===a,gridConnect:"line",gridControlAngles:new Array(i.count).fill(0).map(((t,e)=>{const n=(l-s)/i.count;return n*e}))})}const Cj=t=>{const{important:e={}}=t,n=xj(t,["important"]);return r=>{const{theme:i,coordinate:o,scales:a}=r;return gj(Object.assign(Object.assign(Object.assign({},n),wj(t.orientation)),{important:Object.assign(Object.assign({},Oj(t,i,o,a)),e)}))(r)}};Cj.props=Object.assign(Object.assign({},gj.props),{defaultPosition:"center"});var Sj=function(){},_j=function(t,e,n){var r=t,i=me(e)?e.split("."):e;return i.forEach((function(t,e){e<i.length-1?(kn(r[t])||(r[t]=pe(i[e+1])?[]:{}),r=r[t]):r[t]=n})),t};function Ej(t,e){return t.reduce((function(t,n){return(t[n[e]]=t[n[e]]||[]).push(n),t}),{})}function Mj(t,e,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||t.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(i,o)}}var kj=Mj;function Tj(t){var e;return(null===(e=t[0])||void 0===e?void 0:e.map((function(e,n){return t.map((function(t){return t[n]}))})))||[]}var Aj=_P({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),Lj=function(t){function e(e){var n=t.call(this,e,{animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonPath:uA(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(t,e){return"".concat(t,"/").concat(e)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return n.playState="idle",n.contentGroup=n.appendChild(new Oc({class:Aj.contentGroup.name})),n.playWindow=n.contentGroup.appendChild(new Oc({class:Aj.playWindow.name})),n.innerCurrPage=n.defaultPage,n}return zC(e,t),Object.defineProperty(e.prototype,"defaultPage",{get:function(){var t=this.attributes.defaultPage;return xe(t,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageShape",{get:function(){var t=this.pageViews,e=VC(Tj(t.map((function(t){var e=t.getBBox(),n=e.width,r=e.height;return[n,r]}))).map((function(t){return Math.max.apply(Math,UC([],VC(t),!1))})),2),n=e[0],r=e[1],i=this.attributes,o=i.pageWidth,a=void 0===o?n:o,s=i.pageHeight,l=void 0===s?r:s;return{pageWidth:a,pageHeight:l}},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(e.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var e=t.prototype.getBBox.call(this),n=e.x,r=e.y,i=this.controllerShape,o=this.pageShape,a=o.pageWidth,s=o.pageHeight;return new qI(n,r,a+i.width,s)},e.prototype.goTo=function(t){var e=this,n=this.attributes.animate,r=this,i=r.currPage,o=r.playState,a=r.playWindow,s=r.pageViews;if("idle"!==o||t<0||s.length<=0||t>=s.length)return null;s[i].setLocalPosition(0,0),this.prepareFollowingPage(t);var l=VC(this.getFollowingPageDiff(t),2),c=l[0],u=l[1];this.playState="running";var h=xP(a,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-c,", ").concat(-u,")")}],n);return yP(h,(function(){e.innerCurrPage=t,e.playState="idle",e.setVisiblePages([t]),e.updatePageInfo()})),h},e.prototype.prev=function(){var t=this.attributes.loop,e=this.pageViews.length,n=this.currPage;if(!t&&n<=0)return null;var r=t?(n-1+e)%e:xe(n-1,0,e);return this.goTo(r)},e.prototype.next=function(){var t=this.attributes.loop,e=this.pageViews.length,n=this.currPage;if(!t&&n>=e-1)return null;var r=t?(n+1)%e:xe(n+1,0,e);return this.goTo(r)},e.prototype.renderClipPath=function(t){var e=this.pageShape,n=e.pageWidth,r=e.pageHeight;n&&r?(this.clipPath=t.maybeAppendByClassName(Aj.clipPath,"rect").styles({width:n,height:r}),this.contentGroup.attr("clipPath",this.clipPath.node())):this.contentGroup.style.clipPath=void 0},e.prototype.setVisiblePages=function(t){this.playWindow.children.forEach((function(e,n){t.includes(n)?MT(e):kT(e)}))},e.prototype.adjustControllerLayout=function(){var t=this,e=t.prevBtnGroup,n=t.nextBtnGroup,r=t.pageInfoGroup,i=this.attributes,o=i.orientation,a=i.controllerPadding,s=r.getBBox(),l=s.width,c=(s.height,VC("horizontal"===o?[-180,0]:[-90,90],2)),u=c[0],h=c[1];e.setLocalEulerAngles(u),n.setLocalEulerAngles(h);var f=e.getBBox(),d=f.width,p=f.height,v=n.getBBox(),g=v.width,y=v.height,m=Math.max(d,l,g),b="horizontal"===o?{offset:[[0,0],[d/2+a,0],[d+l+2*a,0]],textAlign:"start"}:{offset:[[m/2,-p-a],[m/2,0],[m/2,y+a]],textAlign:"center"},x=VC(b.offset,3),w=VC(x[0],2),O=w[0],C=w[1],S=VC(x[1],2),_=S[0],E=S[1],M=VC(x[2],2),k=M[0],T=M[1],A=b.textAlign,L=r.querySelector("text");L&&(L.style.textAlign=A),e.setLocalPosition(O,C),r.setLocalPosition(_,E),n.setLocalPosition(k,T)},e.prototype.updatePageInfo=function(){var t,e=this,n=e.currPage,r=e.pageViews,i=e.attributes.formatter;r.length<2||(null===(t=this.pageInfoGroup.querySelector(Aj.pageInfo.class))||void 0===t||t.attr("text",i(n+1,r.length)),this.adjustControllerLayout())},e.prototype.getFollowingPageDiff=function(t){var e=this.currPage;if(e===t)return[0,0];var n=this.attributes.orientation,r=this.pageShape,i=r.pageWidth,o=r.pageHeight,a=t<e?-1:1;return"horizontal"===n?[a*i,0]:[0,a*o]},e.prototype.prepareFollowingPage=function(t){var e=this,n=e.currPage,r=e.pageViews;if(this.setVisiblePages([t,n]),t!==n){var i=VC(this.getFollowingPageDiff(t),2),o=i[0],a=i[1];r[t].setLocalPosition(o,a)}},e.prototype.renderController=function(t){var e=this,n=this.attributes.controllerSpacing,r=this.pageShape,i=r.pageWidth,o=r.pageHeight,a=this.pageViews.length>=2,s=t.maybeAppendByClassName(Aj.controller,"g");if(TT(s.node(),a),a){var l=$P(this.attributes,"button"),c=$P(this.attributes,"pageNum"),u=VC(VP(l),2),h=u[0],f=u[1],d=h.size,p=HC(h,["size"]),v=!s.select(Aj.prevBtnGroup.class).node(),g=s.maybeAppendByClassName(Aj.prevBtnGroup,"g").styles(f);this.prevBtnGroup=g.node();var y=g.maybeAppendByClassName(Aj.prevBtn,"path"),m=s.maybeAppendByClassName(Aj.nextBtnGroup,"g").styles(f);this.nextBtnGroup=m.node();var b=m.maybeAppendByClassName(Aj.nextBtn,"path");[y,b].forEach((function(t){t.styles(WC(WC({},p),{transformOrigin:"center"})),pR(t.node(),d,!0)}));var x=s.maybeAppendByClassName(Aj.pageInfoGroup,"g");this.pageInfoGroup=x.node(),x.maybeAppendByClassName(Aj.pageInfo,"text").styles(c),this.updatePageInfo(),s.node().setLocalPosition(i+n,o/2),v&&(this.prevBtnGroup.addEventListener("click",(function(){e.prev()})),this.nextBtnGroup.addEventListener("click",(function(){e.next()})))}},e.prototype.render=function(t,e){var n=HT(e);this.renderClipPath(n),this.renderController(n),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},e.prototype.bindEvents=function(){var t=this,e=kj((function(){return t.render(t.attributes,t)}),50);this.playWindow.addEventListener(Pl.INSERTED,e),this.playWindow.addEventListener(Pl.REMOVED,e)},e}(BT);function Pj(t,e){var n=Math.pow(10,e);return~~(t*n)/n}function Rj(t,e,n){var r=Math.round((t-n)/e);return n+r*e}function Ij(t,e,n){var r=1.4,i=r*n;return[["M",t-n,e-i],["L",t+n,e-i],["L",t+n,e+i],["L",t-n,e+i],["Z"]]}var Nj=1.4,jj=.4;function Bj(t,e,n){var r=n,i=r*Nj,o=r/2,a=r/6,s=t+i*jj;return[["M",t,e],["L",s,e+o],["L",t+i,e+o],["L",t+i,e-o],["L",s,e-o],["Z"],["M",s,e+a],["L",t+i-2,e+a],["M",s,e-a],["L",t+i-2,e-a]]}function Dj(t,e,n){var r=n,i=r*Nj,o=r/2,a=r/6,s=e+i*jj;return[["M",t,e],["L",t-o,s],["L",t-o,e+i],["L",t+o,e+i],["L",t+o,s],["Z"],["M",t-a,s],["L",t-a,e+i-2],["M",t+a,s],["L",t+a,e+i-2]]}dA.registerSymbol("hiddenHandle",Ij),dA.registerSymbol("verticalHandle",Bj),dA.registerSymbol("horizontalHandle",Dj);function Fj(t,e,n,r){var i;void 0===r&&(r=4);var o=VC(t,2),a=o[0],s=o[1],l=VC(e,2),c=l[0],u=l[1],h=VC(n,2),f=h[0],d=h[1],p=VC([c,u],2),v=p[0],g=p[1],y=g-v;return v>g&&(i=VC([g,v],2),v=i[0],g=i[1]),y>s-a?[a,s]:v<a?f===a&&d===g?[a,g]:[a,y+a]:g>s?d===s&&f===v?[v,s]:[s-y,s]:[Pj(v,r),Pj(g,r)]}function zj(t,e,n){return void 0===t&&(t="horizontal"),"horizontal"===t?e:n}var Wj=_P({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item");function Hj(t){var e=t.querySelector(Wj.marker.class);return e?e.style:{}}var $j=function(t){function e(e){return t.call(this,e,{span:[1,1],marker:function(){return new bc({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return zC(e,t),Object.defineProperty(e.prototype,"showValue",{get:function(){var t=this.attributes.valueText;return!!t&&("string"===typeof t||"number"===typeof t?""!==t:"function"===typeof t||""!==t.attr("text"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actualSpace",{get:function(){var t=this.labelGroup,e=this.valueGroup,n=this.attributes.markerSize,r=t.node().getBBox(),i=r.width,o=r.height,a=e.node().getBBox(),s=a.width,l=a.height;return{markerWidth:n,labelWidth:i,valueWidth:s,height:Math.max(n,o,l)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"span",{get:function(){var t=this.attributes.span;if(!t)return[1,1];var e=VC(tI(t),2),n=e[0],r=e[1],i=this.showValue?r:0,o=n+i;return[n/o,i/o]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){var t,e=this.attributes,n=e.markerSize,r=e.width,i=this.actualSpace,o=i.markerWidth,a=i.height,s=this.actualSpace,l=s.labelWidth,c=s.valueWidth,u=VC(this.spacing,2),h=u[0],f=u[1];if(r){var d=r-n-h-f,p=VC(this.span,2),v=p[0],g=p[1];t=VC([v*d,g*d],2),l=t[0],c=t[1]}var y=o+l+c+h+f;return{width:y,height:a,markerWidth:o,labelWidth:l,valueWidth:c}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){var t=this.attributes.spacing;if(!t)return[0,0];var e=VC(tI(t),2),n=e[0],r=e[1];return this.showValue?[n,r]:[n,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){var t=this.shape,e=t.markerWidth,n=t.labelWidth,r=t.valueWidth,i=t.width,o=t.height,a=VC(this.spacing,2),s=a[0],l=a[1];return{height:o,width:i,markerWidth:e,labelWidth:n,valueWidth:r,position:[e/2,e+s,e+n+s+l]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleSize",{get:function(){var t=Hj(this.markerGroup.node()),e=this.attributes,n=e.markerSize,r=e.markerStrokeWidth,i=void 0===r?t.strokeWidth:r,o=e.markerLineWidth,a=void 0===o?t.lineWidth:o,s=e.markerStroke,l=void 0===s?t.stroke:s,c=+(i||a||(l?1:0))*Math.sqrt(2),u=this.markerGroup.node().getBBox(),h=u.width,f=u.height;return(1-c/Math.max(h,f))*n},enumerable:!1,configurable:!0}),e.prototype.renderMarker=function(t){var e=this,n=this.attributes.marker,r=$P(this.attributes,"marker");this.markerGroup=t.maybeAppendByClassName(Wj.markerGroup,"g").style("zIndex",0),DT(!!n,this.markerGroup,(function(){var t=e.markerGroup.node(),i=t.getElementsByClassName(Wj.marker.name)[0],o=n();i?o.nodeName===i.nodeName?(bI(i,o),HT(i).styles(r)):(i.remove(),HT(o).attr("className",Wj.marker.name).styles(r),t.appendChild(o)):(HT(o).attr("className",Wj.marker.name).styles(r),t.appendChild(o)),e.markerGroup.node().scale(1/e.markerGroup.node().getScale()[0]),pR(e.markerGroup.node(),e.scaleSize,!0)}))},e.prototype.renderLabel=function(t){var e=$P(this.attributes,"label"),n=e.text,r=HC(e,["text"]);this.labelGroup=t.maybeAppendByClassName(Wj.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(Wj.label,(function(){return dR(n)})).styles(r)},e.prototype.renderValue=function(t){var e=this,n=$P(this.attributes,"value"),r=n.text,i=HC(n,["text"]);this.valueGroup=t.maybeAppendByClassName(Wj.valueGroup,"g").style("zIndex",0),DT(this.showValue,this.valueGroup,(function(){e.valueGroup.maybeAppendByClassName(Wj.value,(function(){return dR(r)})).styles(i)}))},e.prototype.renderBackground=function(t){var e=this.shape,n=e.width,r=e.height,i=$P(this.attributes,"background");this.background=t.maybeAppendByClassName(Wj.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(Wj.background,"rect").styles(WC({width:n,height:r},i))},e.prototype.adjustLayout=function(){var t=this.layout,e=t.labelWidth,n=t.valueWidth,r=t.height,i=VC(t.position,3),o=i[0],a=i[1],s=i[2],l=r/2;this.markerGroup.styles({x:o,y:l}),this.labelGroup.styles({x:a,y:l}),qR(this.labelGroup.select(Wj.label.class).node(),Math.ceil(e)),this.showValue&&(this.valueGroup.styles({x:s,y:l}),qR(this.valueGroup.select(Wj.value.class).node(),Math.ceil(n)))},e.prototype.render=function(t,e){var n=HT(e);this.renderMarker(n),this.renderLabel(n),this.renderValue(n),this.renderBackground(n),this.adjustLayout()},e}(BT),Gj=_P({page:"item-page",navigator:"navigator",item:"item"},"items"),Vj=function(t,e,n){return void 0===n&&(n=!0),t?e(t):n},Yj=function(t){function e(e){var n=t.call(this,e,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:Sj,mouseenter:Sj,mouseleave:Sj})||this;return n.navigatorShape=[0,0],n}return zC(e,t),Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){var t=this.attributes,e=t.gridRow,n=t.gridCol,r=t.data;if(!e&&!n)throw new Error("gridRow and gridCol can not be set null at the same time");return e&&n?[e,n]:e?[e,r.length]:[r.length,n]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderData",{get:function(){var t=this.attributes,e=t.data,n=t.layout,r=$P(this.attributes,"item"),i=e.map((function(t,i){var o=t.id,a=void 0===o?i:o,s=t.label,l=t.value;return{id:"".concat(a),index:i,style:WC({layout:n,labelText:s,valueText:l},Object.fromEntries(Object.entries(r).map((function(n){var r=VC(n,2),o=r[0],a=r[1];return[o,YP(a,[t,i,e])]}))))}}));return i},enumerable:!1,configurable:!0}),e.prototype.getGridLayout=function(){var t=this,e=this.attributes,n=e.orientation,r=e.width,i=e.rowPadding,o=e.colPadding,a=VC(this.navigatorShape,1),s=a[0],l=VC(this.grid,2),c=l[0],u=l[1],h=u*c,f=0;return this.pageViews.children.map((function(e,a){var l,d,p=Math.floor(a/h),v=a%h,g=t.ifHorizontal(u,c),y=[Math.floor(v/g),v%g];"vertical"===n&&y.reverse();var m=VC(y,2),b=m[0],x=m[1],w=(r-s-(u-1)*o)/u,O=e.getBBox().height,C=VC([0,0],2),S=C[0],_=C[1];return"horizontal"===n?(l=VC([f,b*(O+i)],2),S=l[0],_=l[1],f=x===u-1?0:f+w+o):(d=VC([x*(w+o),f],2),S=d[0],_=d[1],f=b===c-1?0:f+O+i),{page:p,index:a,row:b,col:x,pageIndex:v,width:w,height:O,x:S,y:_}}))},e.prototype.getFlexLayout=function(){var t=this.attributes,e=t.width,n=t.height,r=t.rowPadding,i=t.colPadding,o=VC(this.navigatorShape,1),a=o[0],s=VC(this.grid,2),l=s[0],c=s[1],u=VC([e-a,n],2),h=u[0],f=u[1],d=VC([0,0,0,0,0,0,0,0],8),p=d[0],v=d[1],g=d[2],y=d[3],m=d[4],b=d[5],x=d[6],w=d[7];return this.pageViews.children.map((function(t,e){var n,o,a,s,u=t.getBBox(),d=u.width,O=u.height,C=0===x?0:i,S=x+C+d;if(S<=h&&Vj(m,(function(t){return t<c})))return n=VC([x+C,w,S],3),p=n[0],v=n[1],x=n[2],{width:d,height:O,x:p,y:v,page:g,index:e,pageIndex:y++,row:b,col:m++};o=VC([b+1,0,0,w+O+r],4),b=o[0],m=o[1],x=o[2],w=o[3];var _=w+r+O;return _<=f&&Vj(b,(function(t){return t<l}))?(a=VC([x,w,d],3),p=a[0],v=a[1],x=a[2],{width:d,height:O,x:p,y:v,page:g,index:e,pageIndex:y++,row:b,col:m++}):(s=VC([0,0,d,0,g+1,0,0,0],8),p=s[0],v=s[1],x=s[2],w=s[3],g=s[4],y=s[5],b=s[6],m=s[7],{width:d,height:O,x:p,y:v,page:g,index:e,pageIndex:y++,row:b,col:m++})}))},Object.defineProperty(e.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var t="grid"===this.attributes.layout?this.getGridLayout:this.getFlexLayout,e=t.call(this);return e.slice(-1)[0].page>0?(this.navigatorShape=[55,0],t.call(this)):e},enumerable:!1,configurable:!0}),e.prototype.ifHorizontal=function(t,e){var n=this.attributes.orientation;return zj(n,t,e)},e.prototype.flattenPage=function(t){t.querySelectorAll(Gj.item.class).forEach((function(e){t.appendChild(e)})),t.querySelectorAll(Gj.page.class).forEach((function(e){var n=t.removeChild(e);n.destroy()}))},e.prototype.renderItems=function(t){var e=this.attributes,n=e.click,r=e.mouseenter,i=e.mouseleave;this.flattenPage(t);var o=this.dispatchCustomEvent.bind(this);HT(t).selectAll(Gj.item.class).data(this.renderData,(function(t){return t.id})).join((function(t){return t.append((function(t){var e=t.style;return new $j({style:e})})).attr("className",Gj.item.name).on("click",(function(){null===n||void 0===n||n(this),o("itemClick",{item:this})})).on("pointerenter",(function(){null===r||void 0===r||r(this),o("itemMouseenter",{item:this})})).on("pointerleave",(function(){null===i||void 0===i||i(this),o("itemMouseleave",{item:this})}))}),(function(t){return t.each((function(t){var e=t.style;this.update(e)}))}),(function(t){return t.remove()}))},e.prototype.relayoutNavigator=function(){var t,e=this.attributes,n=e.layout,r=e.width,i=(null===(t=this.pageViews.children[0])||void 0===t?void 0:t.getBBox().height)||0,o=VC(this.navigatorShape,2),a=o[0],s=o[1];this.navigator.update("grid"===n?{pageWidth:r-a,pageHeight:i-s}:{})},e.prototype.adjustLayout=function(){var t=this,e=Object.entries(Ej(this.itemsLayout,"page")).map((function(t){var e=VC(t,2),n=e[0],r=e[1];return{page:n,layouts:r}})),n=UC([],VC(this.navigator.getContainer().children),!1);e.forEach((function(e){var r=e.layouts,i=t.pageViews.appendChild(new Oc({className:Gj.page.name}));r.forEach((function(t){var e=t.x,r=t.y,o=t.index,a=t.width,s=t.height,l=n[o];i.appendChild(l),_j(l,"__layout__",t),l.update({x:e,y:r,width:a,height:s})}))})),this.relayoutNavigator()},e.prototype.renderNavigator=function(t){var e=this.attributes.orientation,n=$P(this.attributes,"nav"),r=PT({orientation:e},n),i=this;return t.selectAll(Gj.navigator.class).data(["nav"]).join((function(t){return t.append((function(){return new Lj({style:r})})).attr("className",Gj.navigator.name).each((function(){i.navigator=this}))}),(function(t){return t.each((function(){this.update(r)}))}),(function(t){return t.remove()})),this.navigator},e.prototype.getBBox=function(){return this.navigator.getBBox()},e.prototype.render=function(t,e){var n=this.attributes.data;if(n&&0!==n.length){var r=this.renderNavigator(HT(e));this.renderItems(r.getContainer()),this.adjustLayout()}},e.prototype.dispatchCustomEvent=function(t,e){var n=new _l(t,{detail:e});this.dispatchEvent(n)},e}(BT),Uj=_P({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),Xj={showLabel:!0,formatter:function(t){return t.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0},qj=function(t){function e(e){return t.call(this,e,Xj)||this}return zC(e,t),e.prototype.render=function(t,e){var n=HT(e).maybeAppendByClassName(Uj.markerGroup,"g");this.renderMarker(n);var r=HT(e).maybeAppendByClassName(Uj.labelGroup,"g");this.renderLabel(r)},e.prototype.renderMarker=function(t){var e=this,n=this.attributes,r=n.orientation,i=n.markerSymbol,o=void 0===i?zj(r,"horizontalHandle","verticalHandle"):i;DT(!!o,t,(function(t){var n=$P(e.attributes,"marker"),r=WC({symbol:o},n);e.marker=t.maybeAppendByClassName(Uj.marker,(function(){return new dA({style:r})})).update(r)}))},e.prototype.renderLabel=function(t){var e=this,n=this.attributes,r=n.showLabel,i=n.orientation,o=n.spacing,a=void 0===o?0:o,s=n.formatter;DT(r,t,(function(t){var n,r=$P(e.attributes,"label"),o=r.text,l=HC(r,["text"]),c=(null===(n=t.select(Uj.marker.class))||void 0===n?void 0:n.node().getBBox())||{},u=c.width,h=void 0===u?0:u,f=c.height,d=void 0===f?0:f,p=VC(zj(i,[0,d+a,"center","top"],[h+a,0,"start","middle"]),4),v=p[0],g=p[1],y=p[2],m=p[3];t.maybeAppendByClassName(Uj.label,"text").styles(WC(WC({},l),{x:v,y:g,text:s(o).toString(),textAlign:y,textBaseline:m}))}))},e}(BT),Kj={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},Zj=PT({},Kj,{}),Qj=PT({},Kj,GP(Xj,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"}),Jj=.01,tB=_P({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),eB=function(t){function e(e){return t.call(this,e,Zj)||this}return zC(e,t),e.prototype.renderTitle=function(t,e,n){var r=this.attributes,i=r.showTitle,o=r.titleText,a=$P(this.attributes,"title"),s=VC(VP(a),2),l=s[0],c=s[1];this.titleGroup=t.maybeAppendByClassName(tB.titleGroup,"g").styles(c);var u=WC(WC({width:e,height:n},l),{text:i?o:""});this.title=this.titleGroup.maybeAppendByClassName(tB.title,(function(){return new eN({style:u})})).update(u)},e.prototype.renderItems=function(t,e){var n=e.x,r=e.y,i=e.width,o=e.height,a=$P(this.attributes,"title",!0),s=VC(VP(a),2),l=s[0],c=s[1],u=WC(WC({},l),{width:i,height:o,x:0,y:0});this.itemsGroup=t.maybeAppendByClassName(tB.itemsGroup,"g").styles(WC({x:n,y:r},c));var h=this;this.itemsGroup.selectAll(tB.items.class).data(["items"]).join((function(t){return t.append((function(){return new Yj({style:u})})).attr("className",tB.items.name).each((function(){h.items=HT(this)}))}),(function(t){return t.update(u)}),(function(t){return t.remove()}))},e.prototype.adjustLayout=function(){var t=this.attributes.showTitle;if(t){var e=this.title.node().getAvailableSpace(),n=e.x,r=e.y;this.itemsGroup.node().setLocalPosition(n,r)}},Object.defineProperty(e.prototype,"availableSpace",{get:function(){var t=this.attributes,e=t.showTitle,n=t.width,r=t.height;return e?this.title.node().getAvailableSpace():new qI(0,0,n,r)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var e,n,r=null===(e=this.title)||void 0===e?void 0:e.node(),i=null===(n=this.items)||void 0===n?void 0:n.node();return r&&i?QI(r,i):t.prototype.getBBox.call(this)},e.prototype.render=function(t,e){var n=t.width,r=t.height,i=HT(e);this.renderTitle(i,n,r),this.renderItems(i,this.availableSpace),this.adjustLayout()},e}(BT),nB=function(t){return null!==t&&"function"!==typeof t&&isFinite(t.length)},rB=nB;function iB(t){if(rB(t)){var e=t;return e[e.length-1]}}var oB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function aB(t,e,n,r,i={}){var o,a;const s=(null===(a=null===(o=e[`shape.${t}`])||void 0===o?void 0:o.props)||void 0===a?void 0:a.defaultMarker)||iB(t.split("."));return()=>tT(s,i)(0,0,6)}function sB(t,e){const n=UN(t,"shape"),r=UN(t,"color"),i=n?n.clone():null,o=[];for(const[s,l]of e){const t=s.type,e=(null===r||void 0===r?void 0:r.getOptions().domain.length)>0?null===r||void 0===r?void 0:r.getOptions().domain:l.data,n=e.map(((t,e)=>{var n;return i?i.map(t||"point"):(null===(n=null===s||void 0===s?void 0:s.style)||void 0===n?void 0:n.shape)||l.defaultShape||"point"}));"string"===typeof t&&o.push([t,n])}if(0===o.length)return["point",["point"]];if(1===o.length)return o[0];if(!n)return o[0];const{range:a}=n.getOptions();return o.map((([t,e])=>{let n=0;for(let r=0;r<o.length;r++){const t=a[r%a.length];e[r]===t&&n++}return[n/e.length,[t,e]]})).sort(((t,e)=>e[0]-t[0]))[0][1]}function lB(t,{scales:e,library:n,coordinate:r,theme:i,markState:o}){const[a,s]=sB(e,o),l=(t,e)=>aB(t,n,r,i,{color:e}),c=t=>`${a}.${s[t]}`,{itemMarker:u}=t,h=UN(e,"shape");return h&&!u?(t,e)=>l(c(e),t.color):"function"===typeof u?(t,e)=>{const n=u(t.id,e);return"string"===typeof n?l(n,t.color):n}:(t,e)=>l(u||c(e),t.color)}function cB(t){const e=UN(t,"opacity");if(e){const{range:t}=e.getOptions();return(e,n)=>t[n]}}function uB(t,e){const n=UN(t,"size");return n?2*n.map(NaN):e}function hB(t,e){const{labelFormatter:n=(t=>`${t}`)}=t,{scales:r,theme:i}=e,o={itemMarker:lB(t,e),itemMarkerSize:uB(r,i.legendCategory.itemMarkerSize),itemMarkerOpacity:cB(r)},a="string"===typeof n?kN(n):n,s=UN(r,"color"),l=ZN(r);return Object.assign(Object.assign({},o),{data:l.map((t=>({id:t,label:a(t),color:s.map(t)})))})}function fB(t,e,n){const{position:r}=e;if("center"===r){const{bbox:e}=t,{width:n,height:r}=e;return{width:n,height:r}}const{width:i,height:o}=KN(t,e,n);return{width:i,height:o}}const dB=t=>{const{labelFormatter:e,layout:n,order:r,orientation:i,position:o,size:a,title:s,cols:l,itemMarker:c}=t,u=oB(t,["labelFormatter","layout","order","orientation","position","size","title","cols","itemMarker"]),{gridRow:h}=u;return e=>{const{value:r,theme:i}=e,{bbox:a}=r,{width:c,height:f}=fB(r,t,dB),d=GN(o,n),p=Object.assign(Object.assign(Object.assign(Object.assign({orientation:["right","left","center"].includes(o)?"vertical":"horizontal",width:c,height:f,layout:void 0!==l?"grid":"flex"},void 0!==l&&{gridCol:l}),void 0!==h&&{gridRow:h}),{titleText:$N(s)}),hB(t,e)),{legendCategory:v={}}=i,g=QN(Object.assign({},v,p,u)),y=new YN({style:Object.assign(Object.assign({x:a.x,y:a.y,width:a.width,height:a.height},d),{subOptions:g})});return y.appendChild(new eB({className:"legend-category",style:g})),y}};function pB(t){var e=t.canvas,n=t.touches,r=t.offsetX,i=t.offsetY;if(e){var o=e.x,a=e.y;return[o,a]}if(n){var s=n[0],l=s.clientX,c=s.clientY;return[l,c]}return r&&i?[r,i]:[0,0]}dB.props={defaultPosition:"top",defaultOrder:1,defaultSize:40,defaultPadding:[20,10],defaultCrossPadding:[5,10]};var vB={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(t){return t.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",zIndex:999},gB=_P({background:"background",labelGroup:"label-group",label:"label"},"indicator"),yB=function(t){function e(e){var n=t.call(this,e,vB)||this;return n.point=[0,0],n.group=n.appendChild(new Oc({})),n.isMutationObserved=!0,n}return zC(e,t),e.prototype.renderBackground=function(){if(this.label){var t=this.attributes,e=t.position,n=t.padding,r=VC(tI(n),4),i=r[0],o=r[1],a=r[2],s=r[3],l=this.label.node().getLocalBounds(),c=l.min,u=l.max,h=[[c[0]-s,c[1]-i],[u[0]+o,u[1]+a]],f=this.getPath(e,h),d=$P(this.attributes,"background");this.background=HT(this.group).maybeAppendByClassName(gB.background,"path").styles(WC(WC({},d),{path:f})),this.group.appendChild(this.label.node())}},e.prototype.renderLabel=function(){var t=this.attributes,e=t.formatter,n=t.labelText,r=$P(this.attributes,"label"),i=VC(VP(r),2),o=i[0],a=i[1],s=(o.text,HC(o,["text"]));if(this.label=HT(this.group).maybeAppendByClassName(gB.labelGroup,"g").styles(a),n){var l=this.label.maybeAppendByClassName(gB.label,(function(){return dR(e(n))})).style("text",e(n).toString());l.selectAll("text").styles(s)}},e.prototype.adjustLayout=function(){var t=VC(this.point,2),e=t[0],n=t[1];this.group.attr("x",-e).attr("y",-n)},e.prototype.getPath=function(t,e){var n=this,r=VC(e,2),i=VC(r[0],2),o=i[0],a=i[1],s=VC(r[1],2),l=s[0],c=s[1],u={top:[[o,a],[l,a]],right:[[l,a],[l,c]],bottom:[[l,c],[o,c]],left:[[o,c],[o,a]]},h={top:"bottom",right:"left",bottom:"top",left:"right"},f=Object.entries(u).map((function(e){var r=VC(e,2),i=r[0],o=r[1];return i===h[t]?n.createCorner(o):[UC(["M"],VC(o[0]),!1),UC(["L"],VC(o[1]),!1)]}));return f.push([["Z"]]),f.flat().filter((function(t,e,n){return 0===e||"M"!==t[0]}))},e.prototype.createCorner=function(t,e){void 0===e&&(e=10);var n=.8,r=mI.apply(void 0,UC([],VC(t),!1)),i=VC(t,2),o=VC(i[0],2),a=o[0],s=o[1],l=VC(i[1],2),c=l[0],u=l[1],h=VC(r?[c-a,[a,c]]:[u-s,[s,u]],2),f=h[0],d=VC(h[1],2),p=d[0],v=d[1],g=f/2,y=f/Math.abs(f),m=e*y,b=m/2,x=m*Math.sqrt(3)/2*n,w=VC([p,p+g-b,p+g,p+g+b,v],5),O=w[0],C=w[1],S=w[2],_=w[3],E=w[4];return r?(this.point=[S,s-x],[["M",O,s],["L",C,s],["L",S,s-x],["L",_,s],["L",E,s]]):(this.point=[a+x,S],[["M",a,O],["L",a,C],["L",a+x,S],["L",a,_],["L",a,E]])},e.prototype.bindEvents=function(){this.label.on(Pl.BOUNDS_CHANGED,this.renderBackground)},e.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout()},e}(BT);function mB(t,e){for(var n=1;n<t.length;n+=1){var r=t[n-1],i=t[n];if(e>=r&&e<=i)return[r,i]}return[e,e]}function bB(t,e,n){var r=Array.from(e),i=t.length;return new Array(i).fill(0).reduce((function(e,n,o){var a=r[o%r.length];return e+" ".concat(t[o],":").concat(a).concat(o<i-1?" ".concat(t[o+1],":").concat(a):"")}),"l(".concat("horizontal"===n?"0":"270",")"))}function xB(t,e){var n=VC(mB(t,e),2),r=n[0],i=n[1];return{tick:e>(r+i)/2?i:r,range:[r,i]}}var wB=_P({trackGroup:"background-group",track:"background",selectionGroup:"ribbon-group",selection:"ribbon",clipPath:"clip-path"},"ribbon");function OB(t){var e=t.orientation,n=t.size,r=t.length;return zj(e,[r,n],[n,r])}function CB(t){var e=t.type,n=VC(OB(t),2),r=n[0],i=n[1];return"size"===e?[["M",0,i],["L",0+r,0],["L",0+r,i],["Z"]]:[["M",0,i],["L",0,0],["L",0+r,0],["L",0+r,i],["Z"]]}function SB(t){return CB(t)}function _B(t){var e,n=t.orientation,r=t.color,i=t.block,o=t.partition;if(_T(r)){var a=20;e=new Array(a).fill(0).map((function(t,e,n){return r(e/(n.length-1))}))}else e=r;var s=e.length,l=e.map((function(t){return zo(t).toString()}));return s?1===s?l[0]:i?bB(o,l,n):l.reduce((function(t,e,n){return t+" ".concat(n/(s-1),":").concat(e)}),"l(".concat(zj(n,"0","270"),")")):""}function EB(t){var e=t.orientation,n=t.range;if(!n)return[];var r=VC(OB(t),2),i=r[0],o=r[1],a=VC(n,2),s=a[0],l=a[1],c=zj(e,s*i,0),u=zj(e,0,s*o),h=zj(e,l*i,i),f=zj(e,o,l*o);return[["M",c,u],["L",c,f],["L",h,f],["L",h,u],["Z"]]}function MB(t,e){var n=$P(e,"track");t.maybeAppendByClassName(wB.track,"path").styles(WC({path:CB(e)},n))}function kB(t,e){var n=$P(e,"selection"),r=_B(e),i=t.maybeAppendByClassName(wB.selection,"path").styles(WC({path:SB(e),fill:r},n)),o=i.maybeAppendByClassName(wB.clipPath,"path").styles({path:EB(e)}).node();i.style("clip-path",o)}var TB=function(t){function e(e){return t.call(this,e,{type:"color",orientation:"horizontal",size:30,range:[0,1],length:200,block:!1,partition:[],color:["#fff","#000"],trackFill:"#e5e5e5"})||this}return zC(e,t),e.prototype.render=function(t,e){var n=HT(e).maybeAppendByClassName(wB.trackGroup,"g");MB(n,t);var r=HT(e).maybeAppendByClassName(wB.selectionGroup,"g");kB(r,t)},e}(BT),AB={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},LB={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},PB={orientation:"horizontal",showLabel:!0,type:"start"},RB=_P({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track"},"slider"),IB=_P({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),NB=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zC(e,t),e.prototype.render=function(t,e){var n=t.size,r=void 0===n?10:n,i=t.radius,o=void 0===i?r/4:i,a=t.orientation,s=HC(t,["size","radius","orientation"]),l=r,c=2.4*l,u=HT(e).maybeAppendByClassName(IB.iconRect,"rect").styles(WC(WC({},s),{width:l,height:c,radius:o,x:-l/2,y:-c/2})),h=1/3*l,f=2/3*l,d=1/4*c,p=3/4*c;u.maybeAppendByClassName("".concat(IB.iconLine,"-1"),"line").styles(WC({x1:h,x2:h,y1:d,y2:p},s)),u.maybeAppendByClassName("".concat(IB.iconLine,"-2"),"line").styles(WC({x1:f,x2:f,y1:d,y2:p},s)),u.node().setOrigin(l/2,c/2),"vertical"===a?e.setLocalEulerAngles(90):e.setLocalEulerAngles(0)},e}(BT),jB=function(t){function e(e){return t.call(this,e,PB)||this}return zC(e,t),e.prototype.renderLabel=function(t){var e=this,n=this.attributes.showLabel,r=$P(this.attributes,"label"),i=r.transform,o=HC(r,["transform"]),a=VC(VP(o,[]),2),s=a[0],l=a[1],c=HT(t).maybeAppendByClassName(IB.labelGroup,"g").styles(l),u=WC(WC({},LB),s),h=u.text,f=HC(u,["text"]);DT(!!n,c,(function(t){e.label=t.maybeAppendByClassName(IB.label,"text").styles(WC(WC({},f),{transform:i,text:"".concat(h)})),e.label.on("mousedown",(function(t){t.stopPropagation()})),e.label.on("touchstart",(function(t){t.stopPropagation()}))}))},e.prototype.renderIcon=function(t){var e=this.attributes.orientation,n=WC(WC({orientation:e},AB),$P(this.attributes,"icon")),r=this.attributes.iconShape,i=void 0===r?function(){return new NB({style:n})}:r,o=HT(t).maybeAppendByClassName(IB.iconGroup,"g");o.selectAll(IB.icon.class).data([i]).join((function(t){return t.append(i).attr("className",IB.icon.name)}),(function(t){return t.update(n)}),(function(t){return t.remove()}))},e.prototype.render=function(t,e){this.renderIcon(e),this.renderLabel(e)},e}(BT),BB=aR((function(t){return{min:Math.min.apply(Math,UC([],VC(t.map((function(t){return t.value}))),!1)),max:Math.max.apply(Math,UC([],VC(t.map((function(t){return t.value}))),!1))}}),(function(t){return t.map((function(t){return t.id}))})),DB=function(t){function e(e){var n=t.call(this,e,Qj)||this;return n.eventToOffsetScale=new qS({}),n.innerRibbonScale=new qS({}),n.cacheLabelBBox=null,n.cacheHandleBBox=null,n.onHovering=function(t){var e=n.attributes,r=e.data,i=e.block;t.stopPropagation();var o=n.getValueByCanvasPoint(t);if(i){var a=xB(r.map((function(t){var e=t.value;return e})),o).range;n.showIndicator((a[0]+a[1])/2,"".concat(a[0],"-").concat(a[1])),n.dispatchIndicated(o,a)}else{var s=n.getTickValue(o);n.showIndicator(s),n.dispatchIndicated(s)}},n.onDragStart=function(t){return function(e){e.stopPropagation(),n.attributes.slidable&&(n.target=t,n.prevValue=n.getTickValue(n.getValueByCanvasPoint(e)),document.addEventListener("mousemove",n.onDragging),document.addEventListener("touchmove",n.onDragging),document.addEventListener("mouseleave",n.onDragEnd),document.addEventListener("mouseup",n.onDragEnd),document.addEventListener("mouseup",n.onDragEnd),document.addEventListener("touchend",n.onDragEnd))}},n.onDragging=function(t){var e=n.target;n.updateMouse();var r=VC(n.selection,2),i=r[0],o=r[1],a=n.getTickValue(n.getValueByCanvasPoint(t)),s=a-n.prevValue;"start"===e?i!==a&&n.updateSelection(a,o):"end"===e?o!==a&&n.updateSelection(i,a):"ribbon"===e&&0!==s&&(n.prevValue=a,n.updateSelection(s,s,!0))},n.onDragEnd=function(){n.style.cursor="default",document.removeEventListener("mousemove",n.onDragging),document.removeEventListener("touchmove",n.onDragging),document.removeEventListener("mouseup",n.onDragEnd),document.removeEventListener("touchend",n.onDragEnd)},n}return zC(e,t),Object.defineProperty(e.prototype,"handleOffsetRatio",{get:function(){return this.ifHorizontal(.5,.5)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var t=this.attributes,e=t.width,n=t.height;return new qI(0,0,e,n)},e.prototype.render=function(t,e){var n=this,r=t.showLabel;this.renderTitle(HT(e));var i=this.availableSpace,o=i.x,a=i.y,s=HT(e).maybeAppendByClassName(tB.contentGroup,"g").styles({x:o,y:a}),l=s.maybeAppendByClassName(tB.labelGroup,"g").styles({zIndex:1});DT(!!r,l,(function(t){n.renderLabel(t)}));var c=s.maybeAppendByClassName(tB.ribbonGroup,"g").styles({zIndex:0});this.handlesGroup=s.maybeAppendByClassName(tB.handlesGroup,"g").styles({zIndex:2}),this.renderHandles(),this.renderRibbon(c),this.renderIndicator(s),this.adjustLabel(),this.adjustHandles()},Object.defineProperty(e.prototype,"range",{get:function(){var t=this.attributes.data;return BB(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonScale",{get:function(){var t=this.range,e=t.min,n=t.max;return this.innerRibbonScale.update({domain:[e,n],range:[0,1]}),this.innerRibbonScale},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonRange",{get:function(){var t=VC(this.selection,2),e=t[0],n=t[1],r=this.ribbonScale;return[r.map(e),r.map(n)]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){var t=this.range,e=t.min,n=t.max,r=this.attributes.defaultValue,i=void 0===r?[e,n]:r,o=VC(i,2),a=o[0],s=o[1];return[a,s]},enumerable:!1,configurable:!0}),e.prototype.ifHorizontal=function(t,e){return zj(this.attributes.orientation,"function"===typeof t?t():t,"function"===typeof e?e():e)},e.prototype.renderTitle=function(t){var e=this.attributes,n=e.showTitle,r=e.titleText,i=e.width,o=e.height,a=$P(this.attributes,"title"),s=WC(WC({},a),{width:i,height:o,text:r}),l=this;t.selectAll(tB.title.class).data(n?[r]:[]).join((function(t){return t.append((function(){return new eN({style:s})})).attr("className",tB.title.name).each((function(){l.title=this}))}),(function(t){return t.update(s)}),(function(t){return t.each((function(){l.title=void 0})).remove()}))},Object.defineProperty(e.prototype,"availableSpace",{get:function(){if(this.title)return this.title.getAvailableSpace();var t=this.attributes,e=t.width,n=t.height;return new qI(0,0,e,n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelFixedSpacing",{get:function(){var t=this.attributes.showTick;return t?5:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelPosition",{get:function(){var t=this.attributes,e=t.orientation,n=t.labelDirection,r={vertical:{positive:"right",negative:"left"},horizontal:{positive:"bottom",negative:"top"}};return r[e][n]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelBBox",{get:function(){var t,e=this.attributes.showLabel;if(!e)return new qI(0,0,0,0);if(this.cacheLabelBBox)return this.cacheLabelBBox;var n=(null===(t=this.label.querySelector(MP.labelGroup.class))||void 0===t?void 0:t.children.slice(-1)[0]).getBBox(),r=n.width,i=n.height;return this.cacheLabelBBox=new qI(0,0,r,i),this.cacheLabelBBox},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelShape",{get:function(){var t=this.attributes,e=t.showLabel,n=t.labelSpacing,r=void 0===n?0:n;if(!e)return{width:0,height:0,size:0,length:0};var i=this.labelBBox,o=i.width,a=i.height,s=this.ifHorizontal(a,o)+r+this.labelFixedSpacing,l=this.ifHorizontal(o,a);return{width:o,height:a,size:s,length:l}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonBBox",{get:function(){var t=this.attributes,e=t.showHandle,n=t.ribbonSize,r=this.availableSpace,i=r.width,o=r.height,a=this.labelShape,s=a.size,l=a.length,c=VC(this.ifHorizontal([o,i],[i,o]),2),u=c[0],h=c[1],f=e?this.handleShape:{size:0,length:0},d=f.size,p=f.length,v=this.handleOffsetRatio,g=0,y=this.labelPosition;g=n||(["bottom","right"].includes(y)?Math.min(u-s,(u-d)/v):u*(1-v)>d?Math.max(u-s,0):Math.max((u-s-d)/v,0));var m=Math.max(p,l),b=h-m,x=VC(this.ifHorizontal([b,g],[g,b]),2),w=x[0],O=x[1],C=["top","left"].includes(y)?s:0,S=VC(this.ifHorizontal([m/2,C],[C,m/2]),2),_=S[0],E=S[1];return new qI(_,E,w,O)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ribbonShape",{get:function(){var t=this.ribbonBBox,e=t.width,n=t.height;return this.ifHorizontal({size:n,length:e},{size:e,length:n})},enumerable:!1,configurable:!0}),e.prototype.renderRibbon=function(t){var e=this.attributes,n=e.data,r=e.type,i=e.orientation,o=e.color,a=e.block,s=$P(this.attributes,"ribbon"),l=this.range,c=l.min,u=l.max,h=this.ribbonBBox,f=h.x,d=h.y,p=this.ribbonShape,v=p.length,g=p.size,y=PT({x:f,y:d,length:v,size:g,type:r,orientation:i,color:o,block:a,partition:n.map((function(t){return(t.value-c)/(u-c)})),range:this.ribbonRange},s);this.ribbon=t.maybeAppendByClassName(tB.ribbon,(function(){return new TB({style:y})})).update(y)},e.prototype.getHandleClassName=function(t){return"".concat(tB.prefix("".concat(t,"-handle")))},e.prototype.renderHandles=function(){var t=this.attributes,e=t.showHandle,n=t.orientation,r=$P(this.attributes,"handle"),i=VC(this.selection,2),o=i[0],a=i[1],s=WC(WC({},r),{orientation:n}),l=r.shape,c=void 0===l?"slider":l,u="basic"===c?qj:jB,h=this;this.handlesGroup.selectAll(tB.handle.class).data(e?[{value:o,type:"start"},{value:a,type:"end"}]:[],(function(t){return t.type})).join((function(t){return t.append((function(){return new u({style:s})})).attr("className",(function(t){var e=t.type;return"".concat(tB.handle," ").concat(h.getHandleClassName(e))})).each((function(t){var e=t.type,n=t.value;this.update({labelText:n});var r="".concat(e,"Handle");h[r]=this,this.addEventListener("pointerdown",h.onDragStart(e))}))}),(function(t){return t.update(s).each((function(t){var e=t.value;this.update({labelText:e})}))}),(function(t){return t.each((function(t){var e=t.type,n="".concat(e,"Handle");h[n]=void 0})).remove()}))},e.prototype.adjustHandles=function(){var t=VC(this.selection,2),e=t[0],n=t[1];this.setHandlePosition("start",e),this.setHandlePosition("end",n)},e.prototype.adjustTitle=function(){var t=this.attributes,e=t.titlePosition,n=t.orientation,r=VC(this.getElementsByClassName(tB.title.name),1),i=r[0],o=this.handlesGroup.select(".".concat(this.getHandleClassName("start"))).node();if(i&&o&&"top-left"===e&&"horizontal"===n){var a=VC(o.getLocalBounds().min,1),s=a[0],l=VC(i.getLocalBounds().min,1),c=l[0],u=s-c;i.style.x=+(this.style.x||0)+u}},Object.defineProperty(e.prototype,"handleBBox",{get:function(){if(this.cacheHandleBBox)return this.cacheHandleBBox;if(!this.attributes.showHandle)return new qI(0,0,0,0);var t=this.startHandle.getBBox(),e=t.width,n=t.height,r=this.endHandle.getBBox(),i=r.width,o=r.height,a=VC([Math.max(e,i),Math.max(n,o)],2),s=a[0],l=a[1];return this.cacheHandleBBox=new qI(0,0,s,l),this.cacheHandleBBox},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"handleShape",{get:function(){var t=this.handleBBox,e=t.width,n=t.height,r=VC(this.ifHorizontal([n,e],[e,n]),2),i=r[0],o=r[1];return{width:e,height:n,size:i,length:o}},enumerable:!1,configurable:!0}),e.prototype.setHandlePosition=function(t,e){var n=this.attributes.handleFormatter,r=this.ribbonBBox,i=r.x,o=r.y,a=this.ribbonShape.size,s=this.getOffset(e),l=VC(this.ifHorizontal([i+s,o+a*this.handleOffsetRatio],[i+a*this.handleOffsetRatio,o+s]),2),c=l[0],u=l[1],h=this.handlesGroup.select(".".concat(this.getHandleClassName(t))).node();null===h||void 0===h||h.update({x:c,y:u,formatter:n})},e.prototype.renderIndicator=function(t){var e=$P(this.attributes,"indicator");this.indicator=t.maybeAppendByClassName(tB.indicator,(function(){return new yB({})})).update(e)},Object.defineProperty(e.prototype,"labelData",{get:function(){var t=this,e=this.attributes.data;return e.reduce((function(e,n,r,i){var o,a,s=null!==(o=null===n||void 0===n?void 0:n.id)&&void 0!==o?o:r.toString();if(e.push(WC(WC({},n),{id:s,index:r,type:"value",label:null!==(a=null===n||void 0===n?void 0:n.label)&&void 0!==a?a:n.value.toString(),value:t.ribbonScale.map(n.value)})),r<i.length-1){var l=i[r+1],c=VC([n.value,l.value],2),u=c[0],h=c[1],f=(u+h)/2;e.push(WC(WC({},n),{id:s,index:r,type:"range",range:[u,h],label:[u,h].join("~"),value:t.ribbonScale.map(f)}))}return e}),[])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelStyle",{get:function(){var t=VC(["center","middle"],2),e=t[0],n=t[1],r=this.labelPosition;return"top"===r?n="bottom":"bottom"===r?n="top":"left"===r?e="end":"right"===r&&(e="start"),{labelTextAlign:e,labelTextBaseline:n}},enumerable:!1,configurable:!0}),e.prototype.renderLabel=function(t){var e=this.attributes,n=e.showTick,r=void 0!==n&&n,i=e.labelFilter,o=e.labelFormatter,a=$P(this.attributes,"tick"),s=$P(this.attributes,"label"),l=s.align,c=PT(WC({showLine:!1,showGrid:!1,showTick:r,type:"linear",startPos:[0,0],endPos:[0,0],tickDirection:"negative",labelTransform:"rotate(0)"},this.labelStyle),GP(a,"tick"),GP(s,"label"),{data:this.labelData}),u={tickFilter:function(t,e,n){return"value"===(null===t||void 0===t?void 0:t.type)&&(!i||i(t,t.index,n.filter((function(t){return"value"!==t.type}))))},labelFilter:function(t,e,n){return(null===t||void 0===t?void 0:t.type)===l&&(!i||i(t,t.index,n.filter((function(t){return t.type===l}))))},labelFormatter:o},h=WC(WC(WC({},c),u),{labelOverlap:[{type:"hide"}]});this.label=t.maybeAppendByClassName(tB.label,(function(){return new sN({style:h})})).node(),this.label.update(h,!1)},Object.defineProperty(e.prototype,"labelAxisStyle",{get:function(){var t=this.attributes,e=t.showTick,n=t.labelDirection,r=t.labelSpacing,i=t.tickLength,o=this.ribbonShape.size,a=this.labelPosition,s=this.labelFixedSpacing,l=VC([0,0,0],3),c=l[0],u=(l[1],l[2]),h=null!==i&&void 0!==i?i:o;return e?(u=h,s,"positive"===n?"right"===a?(c=h,u=h):"bottom"===a&&(c=u):"negative"===n&&("top"===a||"left"===a)&&(c=o)):"positive"===n?"right"===a?h:"bottom"===a&&(c=o+s,r):"negative"===n&&("left"===a||"top"===a)&&r,{offset:c,spacing:r,tickLength:u}},enumerable:!1,configurable:!0}),e.prototype.adjustLabel=function(){var t=this.attributes.showLabel;if(t){var e=this.ribbonBBox,n=e.x,r=e.y,i=e.width,o=e.height,a=this.labelAxisStyle,s=a.offset,l=a.spacing,c=a.tickLength,u=VC(this.ifHorizontal([[n,r+s],[n+i,r+s]],[[n+s,r+o],[n+s,r]]),2),h=u[0],f=u[1];this.label.update({startPos:h,endPos:f,tickLength:c,labelSpacing:l},!1)}},e.prototype.bindEvents=function(){this.ribbon.on("pointerdown",this.onDragStart("ribbon")),this.ribbon.on("pointermove",this.onHovering),this.addEventListener("pointerout",this.hideIndicator)},e.prototype.showIndicator=function(t,e){void 0===e&&(e="".concat(t));var n=this.attributes.showIndicator;if(n&&"number"===typeof t){var r=this.range,i=r.min,o=r.max,a=this.ribbonBBox,s=a.x,l=a.y,c=xe(t,i,o),u=this.getOffset(c),h=this.ifHorizontal([u+s,l],[s,u+l]);this.indicator.update({x:h[0],y:h[1],position:this.ifHorizontal("top","left"),labelText:e}),MT(this.indicator.node())}else this.hideIndicator()},e.prototype.hideIndicator=function(){kT(this.indicator.node())},e.prototype.updateMouse=function(){this.attributes.slidable&&(this.style.cursor="grabbing")},e.prototype.setSelection=function(t,e){this.updateSelection(t,e)},e.prototype.updateSelection=function(t,e,n){var r;void 0===n&&(n=!1);var i=VC(this.selection,2),o=i[0],a=i[1],s=VC([t,e],2),l=s[0],c=s[1];n&&(l+=o,c+=a);var u=this.range,h=u.min,f=u.max;r=VC(Fj([h,f],[l,c],this.selection),2),l=r[0],c=r[1],this.update({defaultValue:[l,c]}),this.dispatchSelection()},Object.defineProperty(e.prototype,"step",{get:function(){var t=this.attributes.step,e=void 0===t?1:t,n=this.range,r=n.min,i=n.max;return An(e)?Pj((i-r)*Jj,0):e},enumerable:!1,configurable:!0}),e.prototype.getTickValue=function(t){var e=this.attributes,n=e.data,r=e.block,i=this.range.min;return r?xB(n.map((function(t){var e=t.value;return e})),t).tick:Rj(t,this.step,i)},e.prototype.getValueByCanvasPoint=function(t,e){void 0===e&&(e=!1);var n=this.range,r=n.min,i=n.max,o=VC(this.ribbon.node().getPosition(),2),a=o[0],s=o[1],l=this.ifHorizontal(a,s),c=this.ifHorizontal.apply(this,UC([],VC(pB(t)),!1)),u=c-l,h=xe(this.getOffset(u,!0),r,i);return h},e.prototype.getOffset=function(t,e){void 0===e&&(e=!1);var n=this.range,r=n.min,i=n.max,o=this.ribbonShape.length,a=this.eventToOffsetScale;return a.update({domain:[r,i],range:[0,o]}),e?a.invert(t):a.map(t)},e.prototype.dispatchSelection=function(){var t=new _l("valuechange",{detail:{value:this.selection}});this.dispatchEvent(t)},e.prototype.dispatchIndicated=function(t,e){var n=new _l("indicate",{detail:{value:t,range:e}});this.dispatchEvent(n)},e}(BT),FB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function zB(t,e,n){return t.size=e,XN(n)?t.height=e:t.width=e,t}function WB(t,e,n){const{size:r,crossPadding:i=0}=e,o=KN(t,e,n),a=r-2*i;return zB(o,a,o.orientation)}function HB(t){return e=>({value:e/t,label:String(e)})}function $B(t,e,n,r,i){const o=e.thresholds,a=HB(r);return Object.assign(Object.assign({},t),{color:i,data:[n,...o,r].map(a)})}function GB(t,e,n){const r=e.thresholds,i=[-1/0,...r,1/0].map(((t,e)=>({value:e,label:t})));return Object.assign(Object.assign({},t),{data:i,color:n,labelFilter:(t,e)=>e>0&&e<i.length-1})}function VB(t){const{domain:e}=t.getOptions(),[n,r]=[e[0],Q_(e)];return[n,r]}function YB(t,e){const n=t.getOptions(),r=t.clone();return r.update(Object.assign(Object.assign({},n),{range:[zo(e).toString()]})),r}function UB(t,e,n,r,i,o){const{length:a}=t,s=n||r,l=i.color?o.legendContinuous.ribbonFill||"black":o.defaultColor,c=e||YB(s,l),[u,h]=VB(c);return Object.assign(Object.assign({},t),{data:c.getTicks().map((t=>({value:t}))),color:new Array(a).fill(0).map(((t,e)=>{const n=(h-u)/(a-1)*e+u,i=c.map(n),o=r?r.map(n):1;return i.replace(/rgb[a]*\(([\d]{1,3}) *, *([\d]{1,3}) *, *([\d]{1,3})[\S\s]*\)/,((t,e,n,r)=>`rgba(${e}, ${n}, ${r}, ${o})`))}))})}function XB(t,e,n,r,i,o){const a=UN(t,"color"),s=WB(n,r,i);if(a instanceof n_){const{range:t}=a.getOptions(),[e,n]=VB(a);return a instanceof a_||a instanceof c_?$B(s,a,e,n,t):GB(s,a,t)}const l=UN(t,"size"),c=UN(t,"opacity");return UB(s,a,l,c,e,o)}const qB=t=>{const{labelFormatter:e,layout:n,order:r,orientation:i,position:o,size:a,title:s,style:l,crossPadding:c,padding:u}=t,h=FB(t,["labelFormatter","layout","order","orientation","position","size","title","style","crossPadding","padding"]);return({scales:r,value:i,theme:a,scale:c})=>{const{bbox:u}=i,{x:f,y:d,width:p,height:v}=u,g=GN(o,n),{legendContinuous:y={}}=a,m=QN(Object.assign({},y,Object.assign(Object.assign({titleText:$N(s),labelAlign:"value",labelFormatter:"string"===typeof e?t=>kN(e)(t.label):e},XB(r,c,i,t,qB,a)),l),h)),b=new VN({style:Object.assign(Object.assign({x:f,y:d,width:p,height:v},g),{subOptions:m})});return b.appendChild(new DB({style:m})),b}};qB.props={defaultPosition:"top",defaultOrientation:"vertical",defaultOrder:1,defaultSize:60,defaultLength:200,defaultLegendSize:60,defaultPadding:[20,10],defaultCrossPadding:[5,10]};const KB=t=>(...e)=>qB(Object.assign({},{block:!0},t))(...e);KB.props=Object.assign(Object.assign({},qB.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const ZB=t=>e=>{const{scales:n}=e,r=UN(n,"size");return qB(Object.assign({},{type:"size",data:r.getTicks().map(((t,e)=>({value:t,label:String(t)})))},t))(e)};ZB.props=Object.assign(Object.assign({},qB.props),{defaultPosition:"top",defaultOrientation:"horizontal"});const QB=t=>ZB(Object.assign({},{block:!0},t));QB.props=Object.assign(Object.assign({},qB.props),{defaultPosition:"top",defaultOrientation:"horizontal"});var JB=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function tD(t,e,n,r){switch(r){case"center":return{x:t+n/2,y:e,textAlign:"middle"};case"right":return{x:t+n,y:e,textAlign:"right"};default:return{x:t,y:e,textAlign:"left"}}}const eD=WN({render(t,e){const{x:n,y:r,width:i,title:o,subtitle:a}=t,s=t.style,{spacing:l=2,align:c="left"}=s,u=JB(s,["spacing","align"]),h=Gg(u,"title"),f=Gg(u,"subtitle"),d=HN(e,".title","text").attr("className","title").call(hE,Object.assign(Object.assign(Object.assign({},tD(0,r,i,c)),{fontSize:14,textBaseline:"top",text:o}),h)).node(),p=d.getLocalBounds();HN(e,".sub-title","text").attr("className","sub-title").call((t=>{if(!a)return t.node().remove();t.node().attr(Object.assign(Object.assign(Object.assign({},tD(0,p.max[1]+l,i,c)),{fontSize:12,textBaseline:"top",text:a}),f))}))}}),nD=t=>({value:e,theme:n})=>{const{x:r,y:i,width:o,height:a}=e.bbox;return new eD({style:Bd({},{style:n.title},Object.assign({x:r,y:i,width:o,height:a},t))})};nD.props={defaultPosition:"top",defaultOrder:2,defaultSize:36};var rD=function(t){if("object"!==typeof t||null===t)return t;var e;if(tn(t)){e=[];for(var n=0,r=t.length;n<r;n++)"object"===typeof t[n]&&null!=t[n]?e[n]=rD(t[n]):e[n]=t[n]}else for(var i in e={},t)"object"===typeof t[i]&&null!=t[i]?e[i]=rD(t[i]):e[i]=t[i];return e},iD=rD,oD=function(t){function e(e){var n=this,r=e.style,i=HC(e,["style"]);return n=t.call(this,Bd({},{type:"column"},WC({style:r},i)))||this,n.columnsGroup=new Oc({name:"columns"}),n.appendChild(n.columnsGroup),n.render(),n}return zC(e,t),e.prototype.render=function(){var t=this.attributes.columns;HT(this.columnsGroup).selectAll(".column").data(t.flat()).join((function(t){return t.append("rect").attr("className","column").each((function(t){this.attr(t)}))}),(function(t){return t.each((function(t){this.attr(t)}))}),(function(t){return t.remove()}))},e.prototype.update=function(t){this.attr(PT({},this.attributes,t)),this.render()},e.prototype.clear=function(){this.removeChildren()},e}(yc),aD=function(t){function e(e){var n=this,r=e.style,i=HC(e,["style"]);return n=t.call(this,Bd({},{type:"lines"},WC({style:r},i)))||this,n.linesGroup=n.appendChild(new Oc),n.areasGroup=n.appendChild(new Oc),n.render(),n}return zC(e,t),e.prototype.render=function(){var t=this.attributes,e=t.lines,n=t.areas;e&&this.renderLines(e),n&&this.renderAreas(n)},e.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},e.prototype.update=function(t){this.attr(PT({},this.attributes,t)),this.render()},e.prototype.renderLines=function(t){HT(this.linesGroup).selectAll(".line").data(t).join((function(t){return t.append("path").attr("className","line").each((function(t){this.attr(t)}))}),(function(t){return t.each((function(t){this.attr(t)}))}),(function(t){return t.remove()}))},e.prototype.renderAreas=function(t){HT(this.linesGroup).selectAll(".area").data(t).join((function(t){return t.append("path").attr("className","area").each((function(t){this.attr(t)}))}),(function(t){return t.each((function(t){this.style(t)}))}),(function(t){return t.remove()}))},e}(yc),sD=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(me(t)||me(e))return!1;if(rB(t)||rB(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length;r++)if(n=sD(t[r],e[r]),!n)break;return n}if(Ad(t)||Ad(e)){var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(n=!0,r=0;r<i.length;r++)if(n=sD(t[i[r]],e[i[r]]),!n)break;return n}return!1},lD=sD;function cD(t,e,n,r){var i,o,a,s,l,c,u=[],h=!!r,f=[1/0,1/0],d=[-1/0,-1/0];if(h){i=VC(r,2),f=i[0],d=i[1];for(var p=0,v=t.length;p<v;p+=1){var g=t[p];f=LP(f,g),d=PP(d,g)}}p=0;for(var y=t.length;p<y;p+=1){g=t[p];if(0!==p||n)if(p!==y-1||n){var m=[p?p-1:y-1,p-1][n?0:1];o=t[m],a=t[n?(p+1)%y:p+1];var b=[0,0];b=AP(a,o),b=kP(b,e);var x=RP(g,o),w=RP(g,a),O=x+w;0!==O&&(x/=O,w/=O);var C=kP(b,-x),S=kP(b,w);l=TP(g,C),s=TP(g,S),s=LP(s,PP(a,g)),s=PP(s,LP(a,g)),C=AP(s,g),C=kP(C,-x/w),l=TP(g,C),l=LP(l,PP(o,g)),l=PP(l,LP(o,g)),S=AP(g,l),S=kP(S,w/x),s=TP(g,S),h&&(l=PP(l,f),l=LP(l,d),s=PP(s,f),s=LP(s,d)),u.push(c),u.push(l),c=s}else l=g,u.push(c),u.push(l);else c=g}return n&&u.push(u.shift()),u}function uD(t,e,n){var r;void 0===e&&(e=!1),void 0===n&&(n=[[0,0],[1,1]]);for(var i=!!e,o=[],a=0,s=t.length;a<s;a+=2)o.push([t[a],t[a+1]]);var l,c,u,h=cD(o,.4,i,n),f=o.length,d=[];for(a=0;a<f-1;a+=1)l=h[2*a],c=h[2*a+1],u=o[a+1],d.push(["C",l[0],l[1],c[0],c[1],u[0],u[1]]);return i&&(l=h[f],c=h[f+1],r=VC(o,1),u=r[0],d.push(["C",l[0],l[1],c[0],c[1],u[0],u[1]])),d}function hD(t,e){var n,r=e.x,i=e.y,o=VC(i.getOptions().range||[0,0],2),a=o[0],s=o[1];return s>a&&(n=VC([a,s],2),s=n[0],a=n[1]),t.map((function(t){var e=t.map((function(t,e){return[r.map(e),xe(i.map(t),s,a)]}));return e}))}function fD(t,e){void 0===e&&(e=!1);var n=e?t.length-1:0,r=t.map((function(t,e){return UC([e===n?"M":"L"],VC(t),!1)}));return e?r.reverse():r}function dD(t,e){if(void 0===e&&(e=!1),t.length<=2)return fD(t);for(var n=[],r=t.length,i=0;i<r;i+=1){var o=e?t[r-i-1]:t[i];lD(o,n.slice(-2))||n.push.apply(n,UC([],VC(o),!1))}var a=uD(n,!1);return e?a.unshift(UC(["M"],VC(t[r-1]),!1)):a.unshift(UC(["M"],VC(t[0]),!1)),a}function pD(t,e,n){var r=iD(t);return r.push(["L",e,n],["L",0,n],["Z"]),r}function vD(t,e,n,r){return t.map((function(t){return pD(e?dD(t):fD(t),n,r)}))}function gD(t,e,n){for(var r=[],i=t.length-1;i>=0;i-=1){var o=t[i],a=fD(o),s=void 0;if(0===i)s=pD(a,e,n);else{var l=t[i-1],c=fD(l,!0);c[0][0]="L",s=UC(UC(UC([],VC(a),!1),VC(c),!1),[["Z"]],!1)}r.push(s)}return r}function yD(t,e,n){for(var r=[],i=t.length-1;i>=0;i-=1){var o=t[i],a=dD(o),s=void 0;if(0===i)s=pD(a,e,n);else{var l=t[i-1],c=dD(l,!0),u=o[0];c[0][0]="L",s=UC(UC(UC([],VC(a),!1),VC(c),!1),[UC(["M"],VC(u),!1),["Z"]],!1)}r.push(s)}return r}var mD=function(t,e){if(tn(t)){for(var n,r=1/0,i=0;i<t.length;i++){var o=t[i],a=_T(e)?e(o):o[e];a<r&&(n=o,r=a)}return n}},bD=function(t,e){if(tn(t)){for(var n,r=-1/0,i=0;i<t.length;i++){var o=t[i],a=_T(e)?e(o):o[e];a>r&&(n=o,r=a)}return n}};function xD(t){return 0===t.length?[0,0]:[en(mD(t,(function(t){return en(t)||0}))),nn(bD(t,(function(t){return nn(t)||0})))]}function wD(t){for(var e=iD(t),n=e[0].length,r=VC([Array(n).fill(0),Array(n).fill(0)],2),i=r[0],o=r[1],a=0;a<e.length;a+=1)for(var s=e[a],l=0;l<n;l+=1)s[l]>=0?(s[l]+=i[l],i[l]=s[l]):(s[l]+=o[l],o[l]=s[l]);return e}var OD=function(t){function e(e){return t.call(this,e,{type:"line",width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff"})||this}return zC(e,t),Object.defineProperty(e.prototype,"rawData",{get:function(){var t=this.attributes.data;if(!t||0===(null===t||void 0===t?void 0:t.length))return[[]];var e=iD(t);return pe(e[0])?[e]:e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.attributes.isStack?wD(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseline",{get:function(){var t=this.scales.y,e=VC(t.getOptions().domain||[0,0],2),n=e[0],r=e[1];return r<0?t.map(r):t.map(n<0?0:n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerShape",{get:function(){var t=this.attributes,e=t.width,n=t.height;return{width:e,height:n}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linesStyle",{get:function(){var t=this,e=this.attributes,n=e.type,r=e.isStack,i=e.smooth;if("line"!==n)throw new Error("linesStyle can only be used in line type");var o=$P(this.attributes,"area"),a=$P(this.attributes,"line"),s=this.containerShape.width,l=this.data;if(0===l[0].length)return{lines:[],areas:[]};var c=this.scales,u=c.x,h=c.y,f=hD(l,{type:"line",x:u,y:h}),d=[];if(o){var p=this.baseline;d=r?i?yD(f,s,p):gD(f,s,p):vD(f,i,s,p)}return{lines:f.map((function(e,n){return WC({stroke:t.getColor(n),path:i?dD(e):fD(e)},a)})),areas:d.map((function(e,n){return WC({path:e,fill:t.getColor(n)},o)}))}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columnsStyle",{get:function(){var t=this,e=$P(this.attributes,"column"),n=this.attributes,r=n.isStack,i=n.type;if("column"!==i)throw new Error("columnsStyle can only be used in column type");var o=this.containerShape.height,a=this.rawData;if(!a)return{columns:[]};r&&(a=wD(a));var s=this.createScales(a),l=s.x,c=s.y,u=VC(xD(a),2),h=u[0],f=u[1],d=new qS({domain:[0,f-(h>0?0:h)],range:[0,o]}),p=l.getBandWidth(),v=this.rawData;return{columns:a.map((function(n,i){return n.map((function(n,o){var s=p/a.length;return WC(WC({fill:t.getColor(i)},e),r?{x:l.map(o),y:c.map(n),width:p,height:d.map(v[i][o])}:{x:l.map(o)+s*i,y:n>=0?c.map(n):c.map(0),width:s,height:d.map(Math.abs(n))})}))}))}},enumerable:!1,configurable:!0}),e.prototype.render=function(t,e){this.container=$T(e,".container","rect").attr("className","container").node();var n=t.type,r="spark".concat(n),i="line"===n?this.linesStyle:this.columnsStyle;this.spark=$T(e,".".concat(r),(function(){return"line"===n?new aD({className:r,style:i}):new oD({className:r,style:i})})).styles(i).node()},e.prototype.getColor=function(t){var e=this.attributes.color;return tn(e)?e[t%e.length]:_T(e)?e.call(null,t):e},e.prototype.createScales=function(t){var e,n,r=this.attributes,i=r.type,o=r.range,a=void 0===o?[]:o,s=r.isGroup,l=r.spacing,c=this.containerShape,u=c.width,h=c.height,f=VC(xD(t),2),d=f[0],p=f[1],v=new qS({domain:[null!==(e=a[0])&&void 0!==e?e:d,null!==(n=a[1])&&void 0!==n?n:p],range:[h,0]});return"line"===i?{type:i,x:new qS({domain:[0,t[0].length-1],range:[0,u]}),y:v}:{type:i,x:new kS({domain:t[0].map((function(t,e){return e})),range:[0,u],paddingInner:s?l:0}),y:v}},e.tag="sparkline",e}(BT),CD=function(t){function e(e){var n=t.call(this,e,WC(WC(WC({animate:{duration:100,fill:"both"},brushable:!0,formatter:function(t){return t.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionCursor:"move",selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1]},GP(PB,"handle")),GP(AB,"handleIcon")),GP(LB,"handleLabel")))||this;return n.range=[0,1],n.onDragStart=function(t){return function(e){e.stopPropagation(),n.target=t,n.prevPos=n.getOrientVal(pB(e));var r=n.availableSpace,i=r.x,o=r.y,a=n.attributes,s=a.x,l=a.y;n.selectionStartPos=n.getRatio(n.prevPos-n.getOrientVal([i,o])-n.getOrientVal([+s,+l])),n.selectionWidth=0,document.addEventListener("mousemove",n.onDragging),document.addEventListener("touchmove",n.onDragging),document.addEventListener("mouseup",n.onDragEnd),document.addEventListener("touchend",n.onDragEnd)}},n.onDragging=function(t){var e=n.attributes,r=e.slidable,i=e.brushable;t.stopPropagation();var o=n.getOrientVal(pB(t)),a=o-n.prevPos;if(a){var s=n.getRatio(a);switch(n.target){case"start":r&&n.setValuesOffset(s);break;case"end":r&&n.setValuesOffset(0,s);break;case"selection":r&&n.setValuesOffset(s,s);break;case"track":if(!i)return;n.selectionWidth+=s,n.innerSetValues([n.selectionStartPos,n.selectionStartPos+n.selectionWidth].sort(),!0);break;default:break}n.prevPos=o}},n.onDragEnd=function(){document.removeEventListener("mousemove",n.onDragging),document.removeEventListener("mousemove",n.onDragging),document.removeEventListener("mouseup",n.onDragEnd),document.removeEventListener("touchend",n.onDragEnd)},n.onValueChange=function(t){var e=new _l("valuechange",{detail:{oldValue:t,value:n.getValues()}});n.dispatchEvent(e)},n.selectionStartPos=0,n.selectionWidth=0,n.prevPos=0,n.target="",n}return zC(e,t),Object.defineProperty(e.prototype,"values",{get:function(){return this.attributes.values},set:function(t){this.attributes.values=this.clampValues(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sparklineStyle",{get:function(){var t=this.attributes.orientation;if("horizontal"!==t)return null;var e=$P(this.attributes,"sparkline");return WC(WC({zIndex:0},this.availableSpace),e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){var t=this.attributes,e=t.trackLength,n=t.trackSize,r=VC(this.getOrientVal([[e,n],[n,e]]),2),i=r[0],o=r[1];return{width:i,height:o}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"availableSpace",{get:function(){var t=this.attributes.padding,e=VC(tI(t),4),n=e[0],r=e[1],i=e[2],o=e[3],a=this.shape,s=a.width,l=a.height;return{x:o,y:n,width:s-(o+r),height:l-(n+i)}},enumerable:!1,configurable:!0}),e.prototype.getValues=function(){return this.values},e.prototype.setValues=function(t,e){void 0===t&&(t=[0,0]),void 0===e&&(e=!1),this.attributes.values=t;var n=!1!==e&&this.attributes.animate;CP(this.selectionShape.node(),this.selectionStyle,n),this.updateHandlesPosition(n)},e.prototype.updateHandlesPosition=function(t){this.attributes.showHandle&&(CP(this.startHandle,this.getHandleStyle("start"),t),CP(this.endHandle,this.getHandleStyle("end"),t))},e.prototype.innerSetValues=function(t,e){void 0===t&&(t=[0,0]),void 0===e&&(e=!1);var n=this.values,r=this.clampValues(t);this.attr("values",r),this.setValues(r),e&&this.onValueChange(n)},e.prototype.renderTrack=function(t){var e=this.attributes.brushable,n=$P(this.attributes,"track");this.trackShape=HT(t).maybeAppendByClassName(RB.track,"rect").styles(WC(WC({cursor:e?"crosshair":"default"},this.shape),n))},e.prototype.renderSparkline=function(t){var e=this,n=this.attributes.orientation,r=HT(t).maybeAppendByClassName(RB.sparklineGroup,"g");DT("horizontal"===n,r,(function(t){var n=e.sparklineStyle;t.maybeAppendByClassName(RB.sparkline,(function(){return new OD({style:n})})).update(n)}))},Object.defineProperty(e.prototype,"selectionStyle",{get:function(){var t=$P(this.attributes,"selection");return WC(WC({},t),this.calcMask())},enumerable:!1,configurable:!0}),e.prototype.renderHandles=function(){var t,e=this,n=this.attributes.showHandle,r=(n?["start","end"]:[]).map((function(t){return{type:t}})),i=this;null===(t=this.foregroundGroup)||void 0===t||t.selectAll(RB.handle.class).data(r,(function(t){return t.type})).join((function(t){return t.append((function(t){var n=t.type;return new jB({style:e.getHandleStyle(n)})})).each((function(t){var e=t.type;this.attr("class","".concat(RB.handle.name," ").concat(e,"-handle"));var n="".concat(e,"Handle");i[n]=this,this.addEventListener("pointerdown",(function(t){i.onDragStart(e)(t)}))}))}),(function(t){return t.each((function(t){var e=t.type;this.update(i.getHandleStyle(e))}))}),(function(t){return t.each((function(t){var e=t.type,n="".concat(e,"Handle");i[n]=void 0})).remove()}))},e.prototype.renderSelection=function(t){this.foregroundGroup=HT(t).maybeAppendByClassName(RB.foreground,"g"),this.selectionShape=this.foregroundGroup.maybeAppendByClassName(RB.selection,"rect").styles(this.selectionStyle),this.renderHandles()},e.prototype.render=function(t,e){this.renderTrack(e),this.renderSparkline(e),this.renderSelection(e)},e.prototype.clampValues=function(t,e){var n;void 0===e&&(e=4);var r=VC(this.range,2),i=r[0],o=r[1],a=VC(this.getValues().map((function(t){return Pj(t,e)})),2),s=a[0],l=a[1],c=VC((t||[s,l]).map((function(t){return Pj(t,e)})),2),u=c[0],h=c[1];u>h&&(n=VC([h,u],2),u=n[0],h=n[1]);var f=h-u;return f>o-i?[i,o]:u<i?s===i&&l===h?[i,h]:[i,f+i]:h>o?l===o&&s===u?[u,o]:[o-f,o]:[u,h]},e.prototype.calcMask=function(t){var e=VC(this.clampValues(t),2),n=e[0],r=e[1],i=this.availableSpace,o=i.x,a=i.y,s=i.width,l=i.height;return this.getOrientVal([{y:a,height:l,x:n*s+o,width:(r-n)*s},{x:o,width:s,y:n*l+a,height:(r-n)*l}])},e.prototype.calcHandlePosition=function(t){var e=this.availableSpace,n=e.x,r=e.y,i=e.width,o=e.height,a=VC(this.clampValues(),2),s=a[0],l=a[1],c=("start"===t?s:l)*this.getOrientVal([i,o]);return{x:n+this.getOrientVal([c,i/2]),y:r+this.getOrientVal([o/2,c])}},e.prototype.inferTextStyle=function(t){var e=this.attributes.orientation;return"horizontal"===e?{}:"start"===t?{transform:"rotate(90)",textAlign:"start"}:"end"===t?{transform:"rotate(90)",textAlign:"end"}:{}},e.prototype.calcHandleText=function(t){var e,n=this.attributes,r=n.orientation,i=n.formatter,o=n.autoFitLabel,a=$P(this.attributes,"handle"),s=$P(a,"label"),l=a.spacing,c=this.getHandleSize(),u=this.clampValues(),h="start"===t?u[0]:u[1],f=i(h),d=new FT({style:WC(WC(WC({},s),this.inferTextStyle(t)),{text:f})}),p=d.getBBox(),v=p.width,g=p.height;if(d.destroy(),!o){var y=l+c+("horizontal"===r?v/2:0);return e={text:f},e["horizontal"===r?"x":"y"]="start"===t?-y:y,e}var m=0,b=0,x=this.availableSpace,w=x.width,O=x.height,C=this.calcMask(),S=C.x,_=C.y,E=C.width,M=C.height,k=l+c;if("horizontal"===r){var T=k+v/2;if("start"===t){var A=S-k-v;m=A>0?-T:T}else{var L=w-S-E-k>v;m=L?T:-T}}else{var P=k,R=g+k;b="start"===t?_-c>g?-R:P:O-(_+M)-c>g?R:-P}return{x:m,y:b,text:f}},e.prototype.getHandleLabelStyle=function(t){var e=this.attributes.showLabel;if(!e)return{};var n=$P(this.attributes,"handleLabel");return WC(WC(WC({},n),this.calcHandleText(t)),this.inferTextStyle(t))},e.prototype.getHandleIconStyle=function(){var t=this.attributes.handleIconShape,e=$P(this.attributes,"handleIcon"),n=this.getOrientVal(["ew-resize","ns-resize"]),r=this.getHandleSize();return WC({cursor:n,shape:t,size:r},e)},e.prototype.getHandleStyle=function(t){var e=this.attributes,n=e.showLabel,r=e.orientation,i=this.calcHandlePosition(t),o=this.calcHandleText(t);return WC(WC(WC(WC({},GP(this.getHandleIconStyle(),"icon")),GP(WC(WC({},this.getHandleLabelStyle(t)),o),"label")),i),{orientation:r,showLabel:n,type:t,zIndex:3})},e.prototype.getHandleSize=function(){var t=this.attributes,e=t.handleIconSize,n=t.width,r=t.height;return e||Math.floor((this.getOrientVal([+r,+n])+4)/2.4)},e.prototype.getOrientVal=function(t){var e=VC(t,2),n=e[0],r=e[1],i=this.attributes.orientation;return"horizontal"===i?n:r},e.prototype.setValuesOffset=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=!1);var r=VC(this.getValues(),2),i=r[0],o=r[1],a=[i+t,o+e].sort();n?this.setValues(a):this.innerSetValues(a,!0)},e.prototype.getRatio=function(t){var e=this.availableSpace,n=e.width,r=e.height;return t/this.getOrientVal([n,r])},e.prototype.dispatchCustomEvent=function(t,e,n){var r=this;t.on(e,(function(t){t.stopPropagation(),r.dispatchEvent(new _l(n,{detail:t}))}))},e.prototype.bindEvents=function(){var t=this.selectionShape;this.addEventListener("wheel",this.onScroll),t.on("mousedown",this.onDragStart("selection")),t.on("touchstart",this.onDragStart("selection")),this.dispatchCustomEvent(t,"mouseenter","selectionMouseenter"),this.dispatchCustomEvent(t,"mouseleave","selectionMouseleave"),this.dispatchCustomEvent(t,"click","selectionClick");var e=this.trackShape;this.dispatchCustomEvent(e,"click","trackClick"),this.dispatchCustomEvent(e,"mouseenter","trackMouseenter"),this.dispatchCustomEvent(e,"mouseleave","trackMouseleave"),e.on("mousedown",this.onDragStart("track")),e.on("touchstart",this.onDragStart("track"))},e.prototype.onScroll=function(t){var e=this.attributes.scrollable;if(e){var n=t.deltaX,r=t.deltaY,i=r||n,o=this.getRatio(i);this.setValuesOffset(o,o,!0)}},e.tag="slider",e}(BT);function SD(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _D(t){let e,n,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}function o(t,r,i=0,o=t.length){if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}function a(t,e,n=0,o=t.length){const a=i(t,e,n,o-1);return a>n&&r(t[a-1],e)>-r(t[a],e)?a-1:a}return 2!==t.length?(e=um,n=(e,n)=>um(t(e),n),r=(e,n)=>t(e)-n):(e=t===um||t===SD?t:ED,n=t,r=t),{left:i,center:a,right:o}}function ED(){return 0}const MD=_D(um),kD=MD.right,TD=MD.left,AD=_D(ym).center;var LD=kD;function PD(t,e,n){return Math.min(n,Math.max(e,t))}function RD(t){return t.getBandWidth}function ID(t,e,n){if(!RD(t))return t.invert(e);const{adjustedRange:r}=t,{domain:i}=t.getOptions(),o=n?-1:0,a=t.getStep(),s=n?r:r.map((t=>t+a)),l=TD(s,e),c=PD(l+o,0,i.length-1);return i[c]}function ND(t,e,n){if(!e)return t.getOptions().domain;if(!RD(t)){const r=fm(e);if(!n)return r;const[i]=r,{range:o}=t.getOptions(),[a,s]=o,l=a>s?-1:1,c=t.invert(t.map(i)+l*n);return[i,c]}const{domain:r}=t.getOptions(),i=e[0],o=r.indexOf(i);if(n){const t=o+Math.round(r.length*n);return r.slice(o,t)}const a=e[e.length-1],s=r.indexOf(a);return r.slice(o,s+1)}function jD(t,e,n,r,i,o){const{x:a,y:s}=i,l=(t,e)=>{const[n,r]=o.invert(t);return[ID(a,n,e),ID(s,r,e)]},c=l([t,e],!0),u=l([n,r],!1),h=ND(a,[c[0],u[0]]),f=ND(s,[c[1],u[1]]);return[h,f]}function BD(t,e){const[n,r]=t,i=t=>t.getStep?t.getStep():0;return[e.map(n),e.map(r)+i(e)]}function DD(t,e,n){const{x:r,y:i}=e,[o,a]=t,s=BD(o,r),l=BD(a,i),c=[s[0],l[0]],u=[s[1],l[1]],[h,f]=n.map(c),[d,p]=n.map(u);return[h,f,d,p]}var FD=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function zD(t,e,n){const{x:r,y:i,width:o,height:a}=t;return"left"===e?[r+o-n,i]:"right"===e||"bottom"===e?[r,i]:"top"===e?[r,i+a-n]:void 0}const WD=t=>{const{orientation:e,labelFormatter:n,size:r,style:i={},position:o}=t,a=FD(t,["orientation","labelFormatter","size","style","position"]);return({scales:[t],value:r,theme:s,coordinate:l})=>{var c;const{bbox:u}=r,{width:h,height:f}=u,{slider:d={}}=s,p=(null===(c=t.getFormatter)||void 0===c?void 0:c.call(t))||(t=>t.toString()),v="string"===typeof n?kN(n):n,g="horizontal"===e,y=pv(l)&&g,{trackSize:m=d.trackSize}=i,[b,x]=zD(u,o,m);return new CD({className:"slider",style:Object.assign({},d,Object.assign(Object.assign({x:b,y:x,trackLength:g?h:f,orientation:e,formatter:e=>{const n=v||p,r=y?1-e:e,i=ID(t,r,!0);return n(i)}},i),a))})}};WD.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1};const HD=t=>WD(Object.assign(Object.assign({},t),{orientation:"horizontal"}));HD.props=Object.assign(Object.assign({},WD.props),{defaultPosition:"bottom"});const $D=t=>WD(Object.assign(Object.assign({},t),{orientation:"vertical"}));$D.props=Object.assign(Object.assign({},WD.props),{defaultPosition:"left"});var GD=function(t){function e(e){var n=t.call(this,e,{isRound:!0,orientation:"vertical",padding:[2,2,2,2],scrollable:!0,slidable:!0,thumbCursor:"default",trackSize:10,value:0})||this;return n.range=[0,1],n.onValueChange=function(t){var e=n.attributes.value;if(t!==e){var r={detail:{oldValue:t,value:e}};n.dispatchEvent(new _l("scroll",r)),n.dispatchEvent(new _l("valuechange",r))}},n.onTrackClick=function(t){var e=n.attributes.slidable;if(e){var r=VC(n.getLocalPosition(),2),i=r[0],o=r[1],a=VC(n.padding,4),s=a[0],l=a[3],c=n.getOrientVal([i+l,o+s]),u=n.getOrientVal(pB(t)),h=(u-c)/n.trackLength;n.setValue(h,!0)}},n.onThumbMouseenter=function(t){n.dispatchEvent(new _l("thumbMouseenter",{detail:t.detail}))},n.onTrackMouseenter=function(t){n.dispatchEvent(new _l("trackMouseenter",{detail:t.detail}))},n.onThumbMouseleave=function(t){n.dispatchEvent(new _l("thumbMouseleave",{detail:t.detail}))},n.onTrackMouseleave=function(t){n.dispatchEvent(new _l("trackMouseleave",{detail:t.detail}))},n}return zC(e,t),Object.defineProperty(e.prototype,"padding",{get:function(){var t=this.attributes.padding;return tI(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){var t=this.attributes.value,e=VC(this.range,2),n=e[0],r=e[1];return xe(t,n,r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackLength",{get:function(){var t=this.attributes,e=t.viewportLength,n=t.trackLength,r=void 0===n?e:n;return r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"availableSpace",{get:function(){var t=this.attributes.trackSize,e=this.trackLength,n=VC(this.padding,4),r=n[0],i=n[1],o=n[2],a=n[3],s=VC(this.getOrientVal([[e,t],[t,e]]),2),l=s[0],c=s[1];return{x:a,y:r,width:+l-(a+i),height:+c-(r+o)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackRadius",{get:function(){var t=this.attributes,e=t.isRound,n=t.trackSize;return e?n/2:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thumbRadius",{get:function(){var t=this.attributes,e=t.isRound,n=t.thumbRadius;if(!e)return 0;var r=this.availableSpace,i=r.width,o=r.height;return n||this.getOrientVal([o,i])/2},enumerable:!1,configurable:!0}),e.prototype.getValues=function(t){void 0===t&&(t=this.value);var e=this.attributes,n=e.viewportLength,r=e.contentLength,i=n/r,o=VC(this.range,2),a=o[0],s=o[1],l=t*(s-a-i);return[l,l+i]},e.prototype.getValue=function(){return this.value},e.prototype.renderSlider=function(t){var e=this.attributes,n=e.orientation,r=e.trackSize,i=e.padding,o=e.slidable,a=$P(this.attributes,"track"),s=$P(this.attributes,"thumb"),l=WC(WC({brushable:!1,orientation:n,padding:i,selectionRadius:this.thumbRadius,showHandle:!1,slidable:o,trackLength:this.trackLength,trackRadius:this.trackRadius,trackSize:r,values:this.getValues()},GP(a,"track")),GP(s,"selection"));this.slider=HT(t).maybeAppendByClassName("scrollbar",(function(){return new CD({style:l})})).update(l).node()},e.prototype.render=function(t,e){this.renderSlider(e)},e.prototype.setValue=function(t,e){void 0===e&&(e=!1);var n=this.attributes.value,r=VC(this.range,2),i=r[0],o=r[1];this.slider.setValues(this.getValues(xe(t,i,o)),e),this.onValueChange(n)},e.prototype.bindEvents=function(){var t=this;this.slider.addEventListener("trackClick",(function(e){e.stopPropagation(),t.onTrackClick(e.detail)})),this.onHover()},e.prototype.getOrientVal=function(t){var e=this.attributes.orientation;return"horizontal"===e?t[0]:t[1]},e.prototype.onHover=function(){this.slider.addEventListener("selectionMouseenter",this.onThumbMouseenter),this.slider.addEventListener("trackMouseenter",this.onTrackMouseenter),this.slider.addEventListener("selectionMouseleave",this.onThumbMouseleave),this.slider.addEventListener("trackMouseleave",this.onTrackMouseleave)},e.tag="scrollbar",e}(BT),VD=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const YD=t=>{const{orientation:e,labelFormatter:n,style:r}=t,i=VD(t,["orientation","labelFormatter","style"]);return({scales:[t],value:n,theme:o})=>{const{bbox:a}=n,{x:s,y:l,width:c,height:u}=a,{scrollbar:h={}}=o,{ratio:f,range:d}=t.getOptions(),p="horizontal"===e?c:u,v=p/f,[g,y]=d,m=y>g?0:1;return new GD({className:"g2-scrollbar",style:Object.assign({},h,Object.assign(Object.assign(Object.assign(Object.assign({},r),{x:s,y:l,trackLength:p}),i),{orientation:e,value:m,contentLength:v,viewportLength:p}))})}};YD.props={defaultPosition:"bottom",defaultSize:24,defaultOrder:1};const UD=t=>YD(Object.assign(Object.assign({},t),{orientation:"horizontal"}));UD.props=Object.assign(Object.assign({},YD.props),{defaultPosition:"bottom"});const XD=t=>YD(Object.assign(Object.assign({},t),{orientation:"vertical"}));XD.props=Object.assign(Object.assign({},YD.props),{defaultPosition:"left"});const qD=t=>()=>new Oc;qD.props={};const KD=(t,e)=>{const n=1e-4,{coordinate:r}=e;return(e,i,o)=>{const[a]=e,{height:s}=a.getBoundingClientRect(),{transform:l="",fillOpacity:c=1,strokeOpacity:u=1,opacity:h=1}=a.style,[f,d]=pv(r)?[[0,s],`scale(1, ${n})`]:[[0,0],`scale(${n}, 1)`],p=[{transform:`${l} ${d}`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${l} ${d}`.trimStart(),fillOpacity:c,strokeOpacity:u,opacity:h,offset:.01},{transform:`${l} scale(1, 1)`.trimStart(),fillOpacity:c,strokeOpacity:u,opacity:h}];a.setOrigin(f);const v=a.animate(p,Object.assign(Object.assign({},o),t));return v.finished.then((()=>a.setOrigin(0,0))),v}},ZD=(t,e)=>{const n=1e-4,{coordinate:r}=e;return(e,i,o)=>{const[a]=e,{height:s}=a.getBoundingClientRect(),{transform:l="",fillOpacity:c=1,strokeOpacity:u=1,opacity:h=1}=a.style,[f,d]=pv(r)?[[0,s],`scale(1, ${n})`]:[[0,0],`scale(${n}, 1)`],p=[{transform:`${l} scale(1, 1)`.trimStart()},{transform:`${l} ${d}`.trimStart(),fillOpacity:c,strokeOpacity:u,opacity:h,offset:.99},{transform:`${l} ${d}`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0}];a.setOrigin(f);const v=a.animate(p,Object.assign(Object.assign({},o),t));return v.finished.then((()=>a.setOrigin(0,0))),v}},QD=(t,e)=>{const n=1e-4,{coordinate:r}=e;return(e,i,o)=>{const[a]=e,{height:s}=a.getBoundingClientRect(),{transform:l="",fillOpacity:c=1,strokeOpacity:u=1,opacity:h=1}=a.style,[f,d]=pv(r)?[[0,0],`scale(${n}, 1)`]:[[0,s],`scale(1, ${n})`],p=[{transform:`${l} ${d}`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${l} ${d}`.trimStart(),fillOpacity:c,strokeOpacity:u,opacity:h,offset:.01},{transform:`${l} scale(1, 1)`.trimStart(),fillOpacity:c,strokeOpacity:u,opacity:h}];a.setOrigin(f);const v=a.animate(p,Object.assign(Object.assign({},o),t));return v.finished.then((()=>a.setOrigin(0,0))),v}},JD=(t,e)=>{const n=1e-4,{coordinate:r}=e;return(e,i,o)=>{const[a]=e,{height:s}=a.getBoundingClientRect(),{transform:l="",fillOpacity:c=1,strokeOpacity:u=1,opacity:h=1}=a.style,[f,d]=pv(r)?[[0,0],`scale(${n}, 1)`]:[[0,s],`scale(1, ${n})`],p=[{transform:`${l} scale(1, 1)`.trimStart()},{transform:`${l} ${d}`.trimStart(),fillOpacity:c,strokeOpacity:u,opacity:h,offset:.99},{transform:`${l} ${d}`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0}];a.setOrigin(f);const v=a.animate(p,Object.assign(Object.assign({},o),t));return v.finished.then((()=>a.setOrigin(0,0))),v}},tF=t=>(e,n,r)=>{const[i]=e,{fillOpacity:o=1,strokeOpacity:a=1,opacity:s=1}=i.style,l=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:o,strokeOpacity:a,opacity:s}];return i.animate(l,Object.assign(Object.assign({},r),t))};tF.props={};const eF=t=>(e,n,r)=>{const[i]=e,{fillOpacity:o=1,strokeOpacity:a=1,opacity:s=1}=i.style,l=[{fillOpacity:o,strokeOpacity:a,opacity:s},{fillOpacity:0,strokeOpacity:0,opacity:0}];return i.animate(l,Object.assign(Object.assign({},r),t))};function nF(t,e){const n={};for(const r of e){const e=t.style[r];e&&(n[r]=e)}return n}eF.props={};const rF=["fill","stroke","fillOpacity","strokeOpacity","opacity","lineWidth"];function iF(t){const{min:e,max:n}=t.getLocalBounds(),[r,i]=e,[o,a]=n,s=a-i,l=o-r;return[r,i,l,s]}function oF(t){const[e,n,r,i]=t;return`\n    M ${e} ${n}\n    L ${e+r} ${n}\n    L ${e+r} ${n+i}\n    L ${e} ${n+i}\n    Z\n  `}function aF(t,e){const[n,r,i,o]=iF(t),a=o/i,s=Math.ceil(Math.sqrt(e/a)),l=Math.ceil(e/s),c=[],u=o/l;let h=0,f=e;while(f>0){const t=Math.min(f,s),e=i/t;for(let i=0;i<t;i++){const t=n+i*e,o=r+h*u;c.push(oF([t,o,e,u]))}f-=t,h+=1}return c}function sF(t="pack"){return"function"==typeof t?t:aF}function lF(t,e,n){const[r,i,o,a]=iF(t),{transform:s}=t.style,{transform:l}=e.style;cF(e,t);const[c,u,h,f]=iF(e),d=r-c,p=i-u,v=o/h,g=a/f,y=[Object.assign({transform:`${s?s+" ":""}translate(${d}, ${p}) scale(${v}, ${g})`},nF(t,rF)),Object.assign({transform:(l?l+" ":"")+"translate(0, 0) scale(1, 1)"},nF(e,rF))],m=e.animate(y,n);return m}function cF(t,e){t["__data__"]=e["__data__"],t.className=e.className,t.markType=e.markType,e.parentNode.replaceChild(t,e)}function uF(t,e){const{nodeName:n}=t;if("path"===n)return t;const r=new Ec({style:Object.assign(Object.assign({},nF(t,rF)),{d:e})});return cF(r,t),r}function hF(t,e){const n=t.indexOf(e),r=t.lastIndexOf(e);return n===r}function fF(t){return!hF(t,"m")||!hF(t,"M")}function dF(t){const e=_a(t);if(e&&!fF(e))return e}function pF(t,e,n,r){const{nodeName:i}=e,{nodeName:o}=n,a=dF(e),s=dF(n),l=i===o&&"path"!==i,c=void 0===a||void 0===s;if(l||c)return lF(e,n,r);const u=uF(t,a),h=[Object.assign({path:a},nF(e,rF)),Object.assign({path:s},nF(n,rF))],f=u.animate(h,r);return f.onfinish=()=>{u.style.transform="none",zg(u,n)},u.style.transform="none",f}function vF(t,e,n,r){t.style.visibility="hidden";const i=r(t,e.length);return e.map(((e,r)=>{const o=new Ec({style:Object.assign({path:i[r]},nF(t,rF))});return pF(e,o,e,n)}))}function gF(t,e,n,r){const i=r(e,t.length),{fillOpacity:o=1,strokeOpacity:a=1,opacity:s=1}=e.style,l=[{fillOpacity:0,strokeOpacity:0,opacity:0},{fillOpacity:0,strokeOpacity:0,opacity:0,offset:.99},{fillOpacity:o,strokeOpacity:a,opacity:s}],c=e.animate(l,n),u=t.map(((t,r)=>{const o=new Ec({style:{path:i[r],fill:e.style.fill}});return pF(t,t,o,n)}));return[...u,c]}const yF=t=>(e,n,r)=>{const i=sF(t.split),o=Object.assign(Object.assign({},r),t),{length:a}=e,{length:s}=n;if(1===a&&1===s||a>1&&s>1){const[t]=e,[r]=n;return pF(t,t,r,o)}if(1===a&&s>1){const[t]=e;return vF(t,n,o,i)}if(a>1&&1===s){const[t]=n;return gF(e,t,o,i)}return null};yF.props={};const mF=(t,e)=>{const n=1e-4;mc.registerProperty({name:"waveInArcAngle",inherits:!1,initialValue:"",interpolable:!0,syntax:wo.NUMBER});const{coordinate:r}=e;return(i,o,a)=>{const[s]=i;if(!vv(r))return KD(t,e)(i,o,a);const l=r.getCenter(),{__data__:c,style:u}=s,{radius:h=0,inset:f=0,fillOpacity:d=1,strokeOpacity:p=1,opacity:v=1}=u,{points:g,y:y,y1:m}=c,b=MM().cornerRadius(h).padAngle(f*Math.PI/180),x=yE(r,g,[y,m]),{startAngle:w,endAngle:O}=x,C=new Ec({}),S=t=>{C.attr({d:b(t),transform:`translate(${l[0]}, ${l[1]})`});const e=_a(C);return C.style.transform="",e},_=[{waveInArcAngle:w+n,fillOpacity:0,strokeOpacity:0,opacity:0},{waveInArcAngle:w+n,fillOpacity:d,strokeOpacity:p,opacity:v,offset:.01},{waveInArcAngle:O,fillOpacity:d,strokeOpacity:p,opacity:v}],E=s.animate(_,Object.assign(Object.assign({},a),t));return E.onframe=function(){s.style.path=S(Object.assign(Object.assign({},x),{endAngle:Number(s.style.waveInArcAngle)}))},E.onfinish=function(){s.style.path=S(Object.assign(Object.assign({},x),{endAngle:O}))},E}};mF.props={};const bF=t=>{const e=1e-4;return(n,r,i)=>{const[o]=n,{transform:a="",fillOpacity:s=1,strokeOpacity:l=1,opacity:c=1}=o.style,u=[{transform:`${a} scale(${e})`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0},{transform:`${a} scale(${e})`.trimStart(),fillOpacity:s,strokeOpacity:l,opacity:c,offset:.01},{transform:`${a} scale(1)`.trimStart(),fillOpacity:s,strokeOpacity:l,opacity:c}],{width:h,height:f}=o.getBoundingClientRect();o.setOrigin([h/2,f/2]);const d=o.animate(u,Object.assign(Object.assign({},i),t));return d.finished.then((()=>o.setOrigin(0,0))),d}},xF=t=>{const e=1e-4;return(n,r,i)=>{const[o]=n,{transform:a="",fillOpacity:s=1,strokeOpacity:l=1,opacity:c=1}=o.style,u=[{transform:`${a} scale(1)`.trimStart()},{transform:`${a} scale(${e})`.trimStart(),fillOpacity:s,strokeOpacity:l,opacity:c,offset:.99},{transform:`${a} scale(${e})`.trimStart(),fillOpacity:0,strokeOpacity:0,opacity:0}],{width:h,height:f}=o.getBoundingClientRect();o.setOrigin([h/2,f/2]);const d=o.animate(u,Object.assign(Object.assign({},i),t));return d.finished.then((()=>o.setOrigin(0,0))),d}},wF=t=>(e,n,r)=>{var i,o;const[a]=e,s=(null===(o=(i=a).getTotalLength)||void 0===o?void 0:o.call(i))||0,l=[{lineDash:[0,s]},{lineDash:[s,0]}];return a.animate(l,Object.assign(Object.assign({},r),t))};wF.props={};const OF=(t,e)=>(n,r,i)=>{const[o]=n,{height:a,width:s}=o.getBoundingClientRect(),l=new Ec({style:{path:`M0,0L${s},0L${s},${a}L0,${a}Z`}});o.appendChild(l),o.style.clipPath=l;const c=KD(t,e)([l],r,i);return c.finished.then((()=>{l.remove(),o.style.clipPath=null})),c};OF.props={};const CF=(t,e)=>(n,r,i)=>{const[o]=n,{height:a,width:s}=o.getBoundingClientRect(),l=new Ec({style:{path:`M0,0L${s},0L${s},${a}L0,${a}Z`}});o.appendChild(l),o.style.clipPath=l;const c=QD(t,e)([l],r,i);return c.finished.then((()=>{l.remove(),o.style.clipPath=null})),c};CF.props={};const SF={visibility:"visible",opacity:1,fillOpacity:1,strokeOpacity:1};function _F(t,e){var n;return null!==(n=t.style[e])&&void 0!==n?n:SF[e]}function EF(t,e,n,r){t.style[e]=n,r&&t.children.forEach((t=>EF(t,e,n,r)))}function MF(t){EF(t,"visibility","hidden",!0)}function kF(t){EF(t,"visibility","visible",!0)}var TF=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function AF(t){return wE(t).selectAll(`.${Yh}`).nodes().filter((t=>!t.__removed__))}function LF(t,e){return PF(t,e).flatMap((({container:t})=>AF(t)))}function PF(t,e){return e.filter((e=>e!==t&&e.options.parentKey===t.options.key))}function RF(t){return wE(t).select(`.${Xh}`).node()}function IF(t,e){const{offsetX:n,offsetY:r}=e,i=t.getRenderBounds(),{min:[o,a],max:[s,l]}=i,c=n<o||n>s,u=r<a||r>l;return c||u?null:[n-o,r-a]}function NF(t,e){const{offsetX:n,offsetY:r}=e,[i,o,a,s]=jF(t);return[Math.min(a,Math.max(i,n))-i,Math.min(s,Math.max(o,r))-o]}function jF(t){const e=t.getRenderBounds(),{min:[n,r],max:[i,o]}=e;return[n,r,i,o]}function BF(t){return t=>t.__data__.color}function DF(t){const{x:e}=t.scale;return t=>{const{x:n}=t.__data__;return e.invert(n)}}function FF(t){const e=Array.isArray(t)?t:[t],n=new Map(e.flatMap((t=>{const e=Array.from(t.markState.keys());return e.map((e=>[HF(t.key,e.key),e.data]))})));return t=>{const{index:e,markKey:r,viewKey:i}=t.__data__,o=n.get(HF(i,r));return o[e]}}function zF(t,e=((t,e)=>t),n=((t,e,n)=>t.setAttribute(e,n))){const r="__states__",i="__ordinal__",o=o=>{const{[r]:a=[],[i]:s={}}=o,l=a.reduce(((e,n)=>Object.assign(Object.assign({},e),t[n])),s);if(0!==Object.keys(l).length){for(const[t,r]of Object.entries(l)){const i=_F(o,t),a=e(r,o);n(o,t,a),t in s||(s[t]=i)}o[i]=s}},a=t=>{t[r]||(t[r]=[])},s=(t,...e)=>{a(t),t[r]=[...e],o(t)},l=(t,...e)=>{a(t);for(const n of e){const e=t[r].indexOf(n);-1!==e&&t[r].splice(e,1)}o(t)},c=(t,e)=>(a(t),-1!==t[r].indexOf(e));return{setState:s,removeState:l,hasState:c}}function WF(t){return void 0===t||"object"===typeof t&&0===Object.keys(t).length}function HF(t,e){return`${t},${e}`}function $F(t,e){const n=Array.isArray(t)?t:[t],r=n.flatMap((t=>t.marks.map((e=>[HF(t.key,e.key),e.state])))),i={};for(const o of e){const[t,e]=Array.isArray(o)?o:[o,{}];i[t]=r.reduce(((n,r)=>{const[i,o={}]=r,a=WF(o[t])?e:o[t];for(const[t,e]of Object.entries(a)){const r=n[t],o=(t,n,o,a)=>{const s=HF(a.__data__.viewKey,a.__data__.markKey);return i!==s?null===r||void 0===r?void 0:r(t,n,o,a):"function"!==typeof e?e:e(t,n,o,a)};n[t]=o}return n}),{})}return i}function GF(t,e){const n=new Map(t.map(((t,e)=>[t,e]))),r=e?t.map(e):t;return(t,i)=>{if("function"!==typeof t)return t;const o=n.get(i),a=e?e(i):i;return t(a,o,r,i)}}function VF(t){var{link:e=!1,valueof:n=((t,e)=>t),coordinate:r}=t,i=TF(t,["link","valueof","coordinate"]);const o="element-link";if(!e)return[()=>{},()=>{}];const a=t=>t.__data__.points,s=(t,e)=>{const[,n,r]=t,[i,,,o]=e,a=[n,i,o,r];return a},l=t=>{var e;if(t.length<=1)return;const r=fm(t,((t,e)=>{const{x:n}=t.__data__,{x:r}=e.__data__,i=n-r;return i}));for(let l=1;l<r.length;l++){const t=mM(),c=r[l-1],u=r[l],[h,f,d,p]=s(a(c),a(u));t.moveTo(...h),t.lineTo(...f),t.lineTo(...d),t.lineTo(...p),t.closePath();const v=q_(i,(t=>n(t,c))),{fill:g=c.getAttribute("fill")}=v,y=TF(v,["fill"]),m=new Ec({className:o,style:Object.assign({d:t.toString(),fill:g,zIndex:-2},y)});null===(e=c.link)||void 0===e||e.remove(),c.parentNode.appendChild(m),c.link=m}},c=t=>{var e;null===(e=t.link)||void 0===e||e.remove(),t.link=null};return[l,c]}function YF(t,e,n){const r=e=>{const{transform:n}=t.style;return n?`${n} ${e}`:e};if(vv(n)){const{points:i}=t.__data__,[o,a]=pv(n)?gE(i):i,s=n.getCenter(),l=rE(o,s),c=rE(a,s),u=aE(l),h=lE(l,c),f=u+h/2,d=e*Math.cos(f),p=e*Math.sin(f);return r(`translate(${d}, ${p})`)}return pv(n)?r(`translate(${e}, 0)`):r(`translate(0, ${-e})`)}function UF(t){var{document:e,background:n,scale:r,coordinate:i,valueof:o}=t,a=TF(t,["document","background","scale","coordinate","valueof"]);const s="element-background";if(!n)return[()=>{},()=>{}];const l=(t,e,n)=>{const r=t.invert(e),i=e+t.getBandWidth(r)/2,o=t.getStep(r)/2,a=o*n;return[i-o+a,i+o-a]},c=(t,e)=>{const{x:n}=r;if(!RD(n))return[0,1];const{__data__:i}=t,{x:o}=i,[a,s]=l(n,o,e);return[a,s]},u=(t,e)=>{const{y:n}=r;if(!RD(n))return[0,1];const{__data__:i}=t,{y:o}=i,[a,s]=l(n,o,e);return[a,s]},h=(t,n)=>{const{padding:r}=n,[o,a]=c(t,r),[s,l]=u(t,r),h=[[o,s],[a,s],[a,l],[o,l]].map((t=>i.map(t))),{__data__:f}=t,{y:d,y1:p}=f;return AM(e,h,{y:d,y1:p},i,n)},f=(t,e)=>{const{transform:n="scale(1.2, 1.2)",transformOrigin:r="center center",stroke:i=""}=e,o=TF(e,["transform","transformOrigin","stroke"]),a=Object.assign({transform:n,transformOrigin:r,stroke:i},o),s=t.cloneNode(!0);for(const[l,c]of Object.entries(a))s.style[l]=c;return s},d=()=>{const{x:t,y:e}=r;return[t,e].some(RD)},p=t=>{t.background&&t.background.remove();const e=q_(a,(e=>o(e,t))),{fill:n="#CCD6EC",fillOpacity:r=.3,zIndex:i=-2,padding:l=.001,strokeWidth:c=0}=e,u=TF(e,["fill","fillOpacity","zIndex","padding","strokeWidth"]),p=Object.assign(Object.assign({},u),{fill:n,fillOpacity:r,zIndex:i,padding:l,strokeWidth:c}),v=d()?h:f,g=v(t,p);g.className=s,t.parentNode.appendChild(g),t.background=g},v=t=>{var e;null===(e=t.background)||void 0===e||e.remove(),t.background=null},g=t=>t.className===s;return[p,v,g]}function XF(t,e){const n=t.getRootNode().defaultView,r=n.getContextService().getDomElement();(null===r||void 0===r?void 0:r.style)&&(r.style.cursor=e)}function qF(t){XF(t,"default")}function KF(t,e,n){return t.find((t=>Object.entries(e).every((([e,r])=>n(t)[e]===r))))}var ZF=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function QF(t,{elements:e,datum:n,groupKey:r=(t=>t),link:i=!1,background:o=!1,delay:a=60,scale:s,coordinate:l,emitter:c,state:u={}}){var h;const f=e(t),d=new Set(f),p=cv(f,r),v=GF(f,n),[g,y]=VF(Object.assign({elements:f,valueof:v,link:i,coordinate:l},Gg(u.active,"link"))),[m,b,x]=UF(Object.assign({document:t.ownerDocument,scale:s,coordinate:l,background:o,valueof:v},Gg(u.active,"background"))),w=Bd(u,{active:Object.assign({},(null===(h=u.active)||void 0===h?void 0:h.offset)&&{transform:(...t)=>{const e=u.active.offset(...t),[,n]=t;return YF(f[n],e,l)}})}),{setState:O,removeState:C,hasState:S}=zF(w,v);let _;const E=t=>{const{target:e,nativeEvent:i=!0}=t;if(!d.has(e))return;_&&clearTimeout(_);const o=r(e),a=p.get(o),s=new Set(a);for(const n of f)s.has(n)?S(n,"active")||O(n,"active"):(O(n,"inactive"),y(n)),n!==e&&b(n);m(e),g(a),i&&c.emit("element:highlight",{nativeEvent:i,data:{data:n(e),group:a.map(n)}})},M=()=>{_&&clearTimeout(_),_=setTimeout((()=>{k(),_=null}),a)},k=(t=!0)=>{for(const e of f)C(e,"active","inactive"),b(e),y(e);t&&c.emit("element:unhighlight",{nativeEvent:t})},T=t=>{const{target:e}=t;o&&!x(e)||(o||d.has(e))&&(a>0?M():k())},A=()=>{k()};t.addEventListener("pointerover",E),t.addEventListener("pointerout",T),t.addEventListener("pointerleave",A);const L=t=>{const{nativeEvent:e}=t;e||k(!1)},P=t=>{const{nativeEvent:e}=t;if(e)return;const{data:r}=t.data,i=KF(f,r,n);i&&E({target:i,nativeEvent:!1})};return c.on("element:highlight",P),c.on("element:unhighlight",L),()=>{t.removeEventListener("pointerover",E),t.removeEventListener("pointerout",T),t.removeEventListener("pointerleave",A),c.off("element:highlight",P),c.off("element:unhighlight",L);for(const t of f)b(t),y(t)}}function JF(t){var{delay:e,createGroup:n,background:r=!1,link:i=!1}=t,o=ZF(t,["delay","createGroup","background","link"]);return(t,a,s)=>{const{container:l,view:c,options:u}=t,{scale:h,coordinate:f}=c,d=RF(l);return QF(d,Object.assign({elements:AF,datum:FF(c),groupKey:n?n(c):void 0,coordinate:f,scale:h,state:$F(u,[["active",r?{}:{lineWidth:"1",stroke:"#000"}],"inactive"]),background:r,link:i,delay:e,emitter:s},o))}}function tz(t){return JF(Object.assign(Object.assign({},t),{createGroup:DF}))}function ez(t){return JF(Object.assign(Object.assign({},t),{createGroup:BF}))}var nz=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function rz(t,{elements:e,datum:n,groupKey:r=(t=>t),link:i=!1,single:o=!1,coordinate:a,background:s=!1,scale:l,emitter:c,state:u={}}){var h;const f=e(t),d=new Set(f),p=cv(f,r),v=GF(f,n),[g,y]=VF(Object.assign({link:i,elements:f,valueof:v,coordinate:a},Gg(u.selected,"link"))),[m,b]=UF(Object.assign({document:t.ownerDocument,background:s,coordinate:a,scale:l,valueof:v},Gg(u.selected,"background"))),x=Bd(u,{selected:Object.assign({},(null===(h=u.selected)||void 0===h?void 0:h.offset)&&{transform:(...t)=>{const e=u.selected.offset(...t),[,n]=t;return YF(f[n],e,a)}})}),{setState:w,removeState:O,hasState:C}=zF(x,v),S=(t=!0)=>{for(const e of f)O(e,"selected","unselected"),y(e),b(e);t&&c.emit("element:unselect",{nativeEvent:!0})},_=(t,e,i=!0)=>{if(C(e,"selected"))S();else{const o=r(e),a=p.get(o),s=new Set(a);for(const t of f)s.has(t)?w(t,"selected"):(w(t,"unselected"),y(t)),t!==e&&b(t);if(g(a),m(e),!i)return;c.emit("element:select",Object.assign(Object.assign({},t),{nativeEvent:i,data:{data:[n(e),...a.map(n)]}}))}},E=(t,e,o=!0)=>{const a=r(e),s=p.get(a),l=new Set(s);if(C(e,"selected")){const t=f.some((t=>!l.has(t)&&C(t,"selected")));if(!t)return S();for(const e of s)w(e,"unselected"),y(e),b(e)}else{const t=s.some((t=>C(t,"selected")));for(const e of f)l.has(e)?w(e,"selected"):C(e,"selected")||w(e,"unselected");!t&&i&&g(s),m(e)}o&&c.emit("element:select",Object.assign(Object.assign({},t),{nativeEvent:o,data:{data:f.filter((t=>C(t,"selected"))).map(n)}}))},M=t=>{const{target:e,nativeEvent:n=!0}=t;return d.has(e)?o?_(t,e,n):E(t,e,n):S()};t.addEventListener("click",M);const k=t=>{const{nativeEvent:e,data:r}=t;if(e)return;const i=o?r.data.slice(0,1):r.data;for(const o of i){const t=KF(f,o,n);M({target:t,nativeEvent:!1})}},T=()=>{S(!1)};return c.on("element:select",k),c.on("element:unselect",T),()=>{for(const t of f)y(t);t.removeEventListener("click",M),c.off("element:select",k),c.off("element:unselect",T)}}function iz(t){var{createGroup:e,background:n=!1,link:r=!1}=t,i=nz(t,["createGroup","background","link"]);return(t,o,a)=>{const{container:s,view:l,options:c}=t,{coordinate:u,scale:h}=l,f=RF(s);return rz(f,Object.assign({elements:AF,datum:FF(l),groupKey:e?e(l):void 0,coordinate:u,scale:h,state:$F(c,[["selected",n?{}:{lineWidth:"1",stroke:"#000"}],"unselected"]),background:n,link:r,emitter:a},i))}}function oz(t){return iz(Object.assign(Object.assign({},t),{createGroup:DF}))}function az(t){return iz(Object.assign(Object.assign({},t),{createGroup:BF}))}var sz,lz,cz,uz,hz=function(t,e,n){var r,i,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Date.now(),r=null,a=t.apply(i,o),r||(i=o=null)},c=function(){var c=Date.now();s||!1!==n.leading||(s=c);var u=e-(c-s);return i=this,o=arguments,u<=0||u>e?(r&&(clearTimeout(r),r=null),s=c,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,u)),a};return c.cancel=function(){clearTimeout(r),s=0,r=i=o=null},c},fz=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))},dz=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function pz(t){const{transform:e=[]}=t,n=e.find((t=>"normalizeY"===t.type));if(n)return n;const r={type:"normalizeY"};return e.push(r),t.transform=e,r}function vz(t,e,n){const[r]=Array.from(t.entries()).filter((([t])=>t.type===e)).map((([t])=>{const{encode:e}=t,r=t=>{const n=e[t];return[t,n?n.value:void 0]};return Object.fromEntries(n.map(r))}));return r}function gz(t){var{wait:e=20,leading:n,trailing:r=!1,labelFormatter:i=(t=>`${t}`)}=t,o=dz(t,["wait","leading","trailing","labelFormatter"]);return t=>{const{options:a,view:s,container:l,update:c}=t,{markState:u,scale:h,coordinate:f}=s,d=vz(u,"line",["x","y","series"]);if(!d)return;const{y:p,x:v,series:g=[]}=d,y=p.map(((t,e)=>e)),m=fm(y.map((t=>v[t]))),b=Bd({},a),x=b.marks.find((t=>"line"===t.type)),w=t=>cg(t,(t=>+p[t]))/ug(t,(t=>+p[t])),O=cg(hv(y,w,(t=>g[t])).values()),C=[1/O,O];Bd(x,{scale:{y:{domain:C}}});const S=RF(l),_=l.getElementsByClassName(Yh),E=l.getElementsByClassName(Kh),M=t=>t.__data__.key.split("-")[0],k=cv(E,M),T=new _c({style:Object.assign({x1:0,y1:0,x2:0,y2:S.getAttribute("height"),stroke:"black",lineWidth:1},Gg(o,"rule"))}),A=new Ac({style:Object.assign({x:0,y:S.getAttribute("height"),text:"",fontSize:10},Gg(o,"label"))});T.append(A),S.appendChild(T);const L=(t,e,n)=>{const[r]=t.invert(n),i=e.invert(r);return m[AD(m,i)]},P=(t,e)=>{T.setAttribute("x1",t[0]),T.setAttribute("x2",t[0]),A.setAttribute("text",i(e))};let R;const I=t=>fz(this,void 0,void 0,(function*(){const{x:e}=h,n=L(f,e,t);P(t,n);const r=pz(x);r.groupBy="color",r.basis=(t,e)=>{const r=t[_D((t=>v[+t])).center(t,n)];return e[r]};for(const t of b.marks)t.animate=!1;const i=yield c(b);R=i.view})),N=t=>{const{scale:e,coordinate:n}=R,{x:r,y:i}=e,o=L(n,r,t);P(t,o);for(const a of _){const{seriesIndex:t,key:e}=a.__data__,r=t[_D((t=>v[+t])).center(t,o)],s=[0,i.map(1)],l=[0,i.map(p[r]/p[t[0]])],[,c]=n.map(s),[,u]=n.map(l),h=c-u;a.setAttribute("transform",`translate(0, ${h})`);const f=k.get(e)||[];for(const n of f)n.setAttribute("dy",h)}},j=hz((t=>{const e=IF(S,t);e&&N(e)}),e,{leading:n,trailing:r});return I([0,0]),S.addEventListener("pointerenter",j),S.addEventListener("pointermove",j),S.addEventListener("pointerleave",j),()=>{T.remove(),S.removeEventListener("pointerenter",j),S.removeEventListener("pointermove",j),S.removeEventListener("pointerleave",j)}}}function yz(t){const{coordinate:e={}}=t,{transform:n=[]}=e,r=n.find((t=>"fisheye"===t.type));if(r)return r;const i={type:"fisheye"};return n.push(i),e.transform=n,t.coordinate=e,i}function mz({wait:t=30,leading:e,trailing:n=!1}){return r=>{const{options:i,update:o,container:a}=r,s=RF(a),l=Bd({},i);for(const t of l.marks)t.animate=!1;const c=hz((t=>{const e=IF(s,t);if(!e)return void o(i);const[n,r]=e,a=yz(l);a.focusX=n,a.focusY=r,a.visual=!0,o(l)}),t,{leading:e,trailing:n});return s.addEventListener("pointerenter",c),s.addEventListener("pointermove",c),s.addEventListener("pointerleave",c),()=>{s.removeEventListener("pointerenter",c),s.removeEventListener("pointermove",c),s.removeEventListener("pointerleave",c)}}}function bz(t,e){let n=0,r=0;if(void 0===e)for(let i of t)null!=i&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function xz(){sz=document.createElement("table"),lz=document.createElement("tr"),cz=/^\s*<(\w+|!)[^>]*>/,uz={tr:document.createElement("tbody"),tbody:sz,thead:sz,tfoot:sz,td:lz,th:lz,"*":document.createElement("div")}}function wz(t){sz||xz();var e=cz.test(t)&&RegExp.$1;e&&e in uz||(e="*");var n=uz[e];t="string"===typeof t?t.replace(/(^\s*)|(\s*$)/g,""):t,n.innerHTML=""+t;var r=n.childNodes[0];return r&&n.contains(r)&&n.removeChild(r),r}function Oz(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]})):t}var Cz=Oz;function Sz(t,e){return void 0===t&&(t=0),void 0===e&&(e=!1),function(n,r,i){var o,a=i.value;"function"===typeof a&&(i.value=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(!o){var i=this;e&&a.apply(i,n),o=window.setTimeout((function(){a.apply(i,n),o=null}),t)}})}}function _z(t){return void 0===t&&(t=""),{CONTAINER:"".concat(t,"tooltip"),TITLE:"".concat(t,"tooltip-title"),LIST:"".concat(t,"tooltip-list"),LIST_ITEM:"".concat(t,"tooltip-list-item"),NAME:"".concat(t,"tooltip-list-item-name"),MARKER:"".concat(t,"tooltip-list-item-marker"),NAME_LABEL:"".concat(t,"tooltip-list-item-name-label"),VALUE:"".concat(t,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(t,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(t,"tooltip-crosshair-y")}}var Ez={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function Mz(t){var e;void 0===t&&(t="");var n=_z(t);return e={},e[".".concat(n.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},e[".".concat(n.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},e[".".concat(n.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},e[".".concat(n.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},e[".".concat(n.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},e[".".concat(n.NAME)]={display:"flex","align-items":"center","max-width":"216px"},e[".".concat(n.NAME_LABEL)]=WC({flex:1},Ez),e[".".concat(n.VALUE)]=WC({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},Ez),e[".".concat(n.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},e[".".concat(n.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},e}var kz=function(t){function e(e){var n,r,i=this,o=null===(r=null===(n=e.style)||void 0===n?void 0:n.template)||void 0===r?void 0:r.prefixCls,a=_z(o);return i=t.call(this,e,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(a.CONTAINER,'"></div>'),title:'<div class="'.concat(a.TITLE,'"></div>'),item:'<li class="'.concat(a.LIST_ITEM,'" data-index={index}>\n        <span class="').concat(a.NAME,'">\n          <span class="').concat(a.MARKER,'" style="background:{color}"></span>\n          <span class="').concat(a.NAME_LABEL,'" title="{name}">{name}</span>\n        </span>\n        <span class="').concat(a.VALUE,'" title="{value}">{value}</span>\n      </li>')},style:Mz(o)})||this,i.prevCustomContentKey=i.attributes.contentKey,i.initShape(),i.render(i.attributes,i),i}return zC(e,t),Object.defineProperty(e.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.element},Object.defineProperty(e.prototype,"position",{set:function(t){var e=VC(t,2),n=e[0],r=e[1];this.attributes.x=n,this.attributes.y=r,this.updatePosition()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"elementSize",{get:function(){var t=this.element.offsetWidth,e=this.element.offsetHeight;return{width:t,height:e}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"HTMLTooltipItemsElements",{get:function(){var t=this.attributes,e=t.data,n=t.template;return e.map((function(t,e){var r=t.name,i=void 0===r?"":r,o=t.color,a=void 0===o?"black":o,s=t.index,l=HC(t,["name","color","index"]),c=WC({name:i,color:a,index:null!==s&&void 0!==s?s:e},l);return wz(Cz(n.item,c))}))},enumerable:!1,configurable:!0}),e.prototype.render=function(t,e){this.renderHTMLTooltipElement(),this.updatePosition()},e.prototype.destroy=function(){var e;null===(e=this.element)||void 0===e||e.remove(),t.prototype.destroy.call(this)},e.prototype.show=function(t,e){var n=this,r=void 0!==t&&void 0!==e;if(r){var i=this.element.style.transition;this.element.style.transition="none",this.position=[null!==t&&void 0!==t?t:+this.attributes.x,null!==e&&void 0!==e?e:+this.attributes.y],setTimeout((function(){n.element.style.transition=i}),10)}this.element.style.visibility="visible"},e.prototype.hide=function(){this.element.style.visibility="hidden"},e.prototype.initShape=function(){var t=this.attributes.template;this.element=wz(t.container),this.id&&this.element.setAttribute("id",this.id)},e.prototype.renderCustomContent=function(){if(void 0===this.prevCustomContentKey||this.prevCustomContentKey!==this.attributes.contentKey){this.prevCustomContentKey=this.attributes.contentKey;var t=this.attributes.content;t&&("string"===typeof t?this.element.innerHTML=t:this.element.replaceChildren(t))}},e.prototype.renderHTMLTooltipElement=function(){var t,e,n=this.attributes,r=n.template,i=n.title,o=n.enterable,a=n.style,s=n.content,l=_z(r.prefixCls),c=this.element;if(this.element.style.pointerEvents=o?"auto":"none",s)this.renderCustomContent();else{i?(c.innerHTML=r.title,c.getElementsByClassName(l.TITLE)[0].innerHTML=i):null===(e=null===(t=c.getElementsByClassName(l.TITLE))||void 0===t?void 0:t[0])||void 0===e||e.remove();var u=this.HTMLTooltipItemsElements,h=document.createElement("ul");h.className=l.LIST,h.replaceChildren.apply(h,UC([],VC(u),!1));var f=this.element.querySelector(".".concat(l.LIST));f?f.replaceWith(h):c.appendChild(h)}HP(c,a)},e.prototype.getRelativeOffsetFromCursor=function(t){var e=this.attributes,n=e.position,r=e.offset,i=t||n,o=i.split("-"),a={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},s=this.elementSize,l=s.width,c=s.height,u=[-l/2,-c/2];return o.forEach((function(t){var e=VC(u,2),n=e[0],i=e[1],o=VC(a[t],2),s=o[0],h=o[1];u=[n+(l/2+r[0])*s,i+(c/2+r[1])*h]})),u},e.prototype.setOffsetPosition=function(t){var e=VC(t,2),n=e[0],r=e[1],i=this.attributes,o=i.x,a=void 0===o?0:o,s=i.y,l=void 0===s?0:s,c=i.container,u=c.x,h=c.y;this.element.style.left="".concat(+a+u+n,"px"),this.element.style.top="".concat(+l+h+r,"px")},e.prototype.updatePosition=function(){this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor()))},e.prototype.autoPosition=function(t){var e=VC(t,2),n=e[0],r=e[1],i=this.attributes,o=i.x,a=i.y,s=i.bounding,l=i.position;if(!s)return[n,r];var c=this.element,u=c.offsetWidth,h=c.offsetHeight,f=VC([+o+n,+a+r],2),d=f[0],p=f[1],v={left:"right",right:"left",top:"bottom",bottom:"top"},g=s.x,y=s.y,m=s.width,b=s.height,x={left:d<g,right:d+u>g+m,top:p<y,bottom:p+h>y+b},w=[];l.split("-").forEach((function(t){x[t]?w.push(v[t]):w.push(t)}));var O=w.join("-");return this.getRelativeOffsetFromCursor(O)},e.tag="tooltip",$C([Sz(100,!0)],e.prototype,"updatePosition",null),e}(BT);const Tz=new Proxy({BEFORE_RENDER:"beforerender",AFTER_RENDER:"afterrender",BEFORE_PAINT:"beforepaint",AFTER_PAINT:"afterpaint",BEFORE_CHANGE_DATA:"beforechangedata",AFTER_CHANGE_DATA:"afterchangedata",BEFORE_CLEAR:"beforeclear",AFTER_CLEAR:"afterclear",BEFORE_DESTROY:"beforedestroy",AFTER_DESTROY:"afterdestroy",BEFORE_CHANGE_SIZE:"beforechangesize",AFTER_CHANGE_SIZE:"afterchangesize",POINTER_TAP:"pointertap",POINTER_DOWN:"pointerdown",POINTER_UP:"pointerup",POINTER_OVER:"pointerover",POINTER_OUT:"pointerout",POINTER_MOVE:"pointermove",POINTER_ENTER:"pointerenter",POINTER_LEAVE:"pointerleave",POINTER_UPOUTSIDE:"pointerupoutside",DRAG_START:"dragstart",DRAG:"drag",DRAG_END:"dragend",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"DROP",CLICK:"click",DBLCLICK:"dblclick"},{get(t,e){if(e in t)return t[e]},set(){return!0}});function Az(t,e){const{__data__:n}=t,{markKey:r,index:i,seriesIndex:o}=n,{markState:a}=e,s=Array.from(a.keys()).find((t=>t.key===r));if(s)return o?o.map((t=>s.data[t])):s.data[i]}function Lz(t){if("element"===t.className)return t;let e=t.parent;while(e&&"element"!==e.className)e=e.parent;return e}function Pz(t,e,n,r=(t=>!0)){return i=>{if(!r(i))return;n.emit(`plot:${t}`,i);const{target:o}=i;if(!o)return;const{className:a}=o;if("plot"===a)return;const s=Lz(o);if(!s)return;const{className:l,markType:c}=s;if("element"===l){const r=Object.assign(Object.assign({},i),{nativeEvent:!0,data:{data:Az(s,e)}});n.emit(`element:${t}`,r),n.emit(`${c}:${t}`,r)}else n.emit(`${l}:${t}`,i)}}function Rz(){return(t,e,n)=>{const{container:r,view:i}=t,o=Pz(Tz.CLICK,i,n,(t=>1===t.detail)),a=Pz(Tz.DBLCLICK,i,n,(t=>2===t.detail)),s=Pz(Tz.POINTER_TAP,i,n),l=Pz(Tz.POINTER_DOWN,i,n),c=Pz(Tz.POINTER_UP,i,n),u=Pz(Tz.POINTER_OVER,i,n),h=Pz(Tz.POINTER_OUT,i,n),f=Pz(Tz.POINTER_MOVE,i,n),d=Pz(Tz.POINTER_ENTER,i,n),p=Pz(Tz.POINTER_LEAVE,i,n),v=Pz(Tz.POINTER_UPOUTSIDE,i,n),g=Pz(Tz.DRAG_START,i,n),y=Pz(Tz.DRAG,i,n),m=Pz(Tz.DRAG_END,i,n),b=Pz(Tz.DRAG_ENTER,i,n),x=Pz(Tz.DRAG_LEAVE,i,n),w=Pz(Tz.DRAG_OVER,i,n),O=Pz(Tz.DROP,i,n);return r.addEventListener("click",o),r.addEventListener("click",a),r.addEventListener("pointertap",s),r.addEventListener("pointerdown",l),r.addEventListener("pointerup",c),r.addEventListener("pointerover",u),r.addEventListener("pointerout",h),r.addEventListener("pointermove",f),r.addEventListener("pointerenter",d),r.addEventListener("pointerleave",p),r.addEventListener("pointerupoutside",v),r.addEventListener("dragstart",g),r.addEventListener("drag",y),r.addEventListener("dragend",m),r.addEventListener("dragenter",b),r.addEventListener("dragleave",x),r.addEventListener("dragover",w),r.addEventListener("drop",O),()=>{r.removeEventListener("click",o),r.removeEventListener("click",a),r.removeEventListener("pointertap",s),r.removeEventListener("pointerdown",l),r.removeEventListener("pointerup",c),r.removeEventListener("pointerover",u),r.removeEventListener("pointerout",h),r.removeEventListener("pointermove",f),r.removeEventListener("pointerenter",d),r.removeEventListener("pointerleave",p),r.removeEventListener("pointerupoutside",v),r.removeEventListener("dragstart",g),r.removeEventListener("drag",y),r.removeEventListener("dragend",m),r.removeEventListener("dragenter",b),r.removeEventListener("dragleave",x),r.removeEventListener("dragover",w),r.removeEventListener("drop",O)}}}var Iz=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Nz(t,e){return e?"string"===typeof e?document.querySelector(e):e:t.getRootNode().defaultView.getConfig().container}function jz(t){const e=t.getBounds(),{min:[n,r],max:[i,o]}=e;return{x:n,y:r,width:i-n,height:o-r}}function Bz(t,e){const n=t.getBoundingClientRect(),r=e.getBoundingClientRect();return{x:n.x-r.x,y:n.y-r.y}}function Dz(t,e,n,r,i,o,a){const s=new kz({className:"tooltip",style:{x:e,y:n,container:a,data:[],bounding:o,position:r,enterable:i,title:"",offset:[10,10],template:{prefixCls:"g2-"},style:{".g2-tooltip":{},".g2-tooltip-title":{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}}}});return t.appendChild(s.HTMLTooltipElement),s}function Fz({root:t,data:e,x:n,y:r,render:i,event:o,single:a,position:s="right-bottom",enterable:l=!1,mount:c,bounding:u}){const h=t.getRootNode().defaultView.getConfig().container,f=Nz(t,c),d=a?h:t,p=u||jz(t),v=Bz(h,f),{tooltipElement:g=Dz(f,n,r,s,l,p,v)}=d,{items:y,title:m=""}=e;g.update(Object.assign({x:n,y:r,data:y,title:m,position:s,enterable:l},void 0!==i&&{content:i(o,{items:y,title:m})})),d.tooltipElement=g}function zz({root:t,single:e,emitter:n,nativeEvent:r=!0,mount:i}){r&&n.emit("tooltip:hide",{nativeEvent:r});const o=t.getRootNode().defaultView.getConfig().container,a=e?o:t,{tooltipElement:s}=a;s&&s.hide()}function Wz(t){const{tooltipElement:e}=t;e&&(e.destroy(),t.tooltipElement=void 0)}function Hz(t){const{value:e}=t;return Object.assign(Object.assign({},t),{value:void 0===e?"undefined":e})}function $z(t){const{__data__:e}=t,{title:n,items:r=[]}=e,i=r.filter(Wg).map((e=>{var{color:n=Vz(t)}=e,r=Iz(e,["color"]);return Object.assign(Object.assign({},r),{color:n})})).map(Hz);return Object.assign(Object.assign({},n&&{title:n}),{items:i})}function Gz(t,e){const{color:n,series:r}=t,{color:i,series:o}=e,a=t=>t&&t.invert&&!(t instanceof GS)&&!(t instanceof AS);if(a(r))return r.invert(o);if(o&&o!==i)return o;if(a(n)){const t=n.invert(i);return Array.isArray(t)?null:t}return null}function Vz(t){const e=t.getAttribute("fill"),n=t.getAttribute("stroke"),{__data__:r}=t,{color:i=(e&&"transparent"!==e?e:n)}=r;return i}function Yz(t,e=(t=>t)){const n=new Map(t.map((t=>[e(t),t])));return Array.from(n.values())}function Uz(t,e,n,r=t.map((t=>t["__data__"]))){const i=t=>t instanceof Date?+t:t,o=Yz(r.map((t=>t.title)),i).filter(Wg),a=r.flatMap(((r,i)=>{const o=t[i],{items:a=[],title:s}=r,l=a.filter(Wg),c=void 0!==n?n:a.length<=1;return l.map((t=>{var{color:n=Vz(o),name:i}=t,a=Iz(t,["color","name"]);const l=c?Gz(e,r)||i:i||Gz(e,r);return Object.assign(Object.assign({},a),{color:n,name:l||s})}))})).map(Hz);return Object.assign(Object.assign({},o.length>0&&{title:o.join(",")}),{items:Yz(a,(t=>`(${i(t.name)}, ${i(t.value)}, ${i(t.color)})`))})}function Xz(t,e,n){var{plotWidth:r,plotHeight:i,mainWidth:o,mainHeight:a,startX:s,startY:l,transposed:c,polar:u,insetLeft:h,insetTop:f}=n,d=Iz(n,["plotWidth","plotHeight","mainWidth","mainHeight","startX","startY","transposed","polar","insetLeft","insetTop"]);const p=Object.assign({lineWidth:1,stroke:"#1b1e23",strokeOpacity:.5},d),v=e.map((t=>t[1])),g=e.map((t=>t[0])),y=bz(v),m=bz(g),b=()=>{if(u){const t=Math.min(o,a)/2,e=s+h+o/2,n=l+f+a/2,r=aE(rE([m,y],[e,n])),i=e+t*Math.cos(r),c=n+t*Math.sin(r);return[e,i,n,c]}return c?[s,s+r,y+l,y+l]:[m+s,m+s,l,l+i]},[x,w,O,C]=b(),S=()=>{const e=new _c({style:Object.assign({x1:x,x2:w,y1:O,y2:C},p)});return t.appendChild(e),e};if(g.length>0){const e=t.ruleY||S();e.style.x1=x,e.style.x2=w,e.style.y1=O,e.style.y2=C,t.ruleY=e}}function qz(t){t.ruleY&&(t.ruleY.remove(),t.ruleY=void 0)}function Kz(t,e){return Array.from(t.values()).some((t=>{var n;return null===(n=t.interaction)||void 0===n?void 0:n[e]}))}function Zz(t,e){return void 0===t?e:t}function Qz(t){const{title:e,items:n}=t;return 0===n.length&&void 0===e}function Jz(t){return Array.from(t.values()).some((t=>{var e;return(null===(e=t.interaction)||void 0===e?void 0:e.seriesTooltip)&&t.tooltip}))}function tW(t,e){var{elements:n,sort:r,filter:i,scale:o,coordinate:a,crosshairs:s,render:l,groupName:c,emitter:u,wait:h=50,leading:f=!0,trailing:d=!1,startX:p=0,startY:v=0,body:g=!0,single:y=!0,position:m,enterable:b,mount:x,bounding:w,disableNative:O=!1,style:C={}}=e,S=Iz(e,["elements","sort","filter","scale","coordinate","crosshairs","render","groupName","emitter","wait","leading","trailing","startX","startY","body","single","position","enterable","mount","bounding","disableNative","style"]);const _=n(t),E=pv(a),M=vv(a),k=Bd(C,S),{innerWidth:T,innerHeight:A,width:L,height:P,insetLeft:R,insetTop:I}=a.getOptions(),N=[],j=[];for(const q of _){const{__data__:t}=q,{seriesX:e}=t;e?N.push(q):j.push(q)}N.sort(((t,e)=>{const n=E?0:1,r=t=>t.getBounds().min[n];return E?r(e)-r(t):r(t)-r(e)}));const B=new Map(N.map((t=>{const{__data__:e}=t,{seriesX:n}=e,r=n.map(((t,e)=>e)),i=fm(r,(t=>n[+t]));return[t,[i,n]]}))),D=Gg(k,"crosshairs"),{x:F}=o,z=(null===F||void 0===F?void 0:F.getBandWidth)?F.getBandWidth()/2:0,W=t=>{const[e]=a.invert(t);return e-z},H=(t,e,n)=>{const r=W(t),[i,o]=fm([n[0],n[n.length-1]]);if(r<i||r>o)return null;const a=_D((t=>n[+t])).center,s=a(e,r);return e[s]},$=(t,e)=>{const n=E?1:0,r=t[n],i=t=>{const{min:e,max:r}=t.getLocalBounds();return fm([e[n],r[n]])};return e.filter((t=>{const[e,n]=i(t);return r>=e&&r<=n}))},G=(t,e)=>{const{__data__:n}=t;return Object.fromEntries(Object.entries(n).filter((([t])=>t.startsWith("series")&&"series"!==t)).map((([t,n])=>{const r=n[e];return[Rg(t.replace("series","")),r]})))},V=hz((e=>{const n=IF(t,e);if(!n)return;const h=t.getRenderBounds(),f=h.min[0],d=h.min[1],O=[n[0]-p,n[1]-v];if(!O)return;const C=$(O,j),S=[],_=[];for(const t of N){const[e,n]=B.get(t),r=H(O,e,n);if(null!==r){S.push(t);const e=G(t,r),{x:n,y:i}=e,o=a.map([(n||0)+z,i||0]);_.push([e,o])}}const k=Array.from(new Set(_.map((t=>t[0].x)))),F=k[cm(k,(t=>Math.abs(t-W(O))))],V=_.filter((t=>t[0].x===F)),U=[...V.map((t=>t[0])),...C.map((t=>t.__data__))],X=[...S,...C],q=Uz(X,o,c,U);if(r&&q.items.sort(((t,e)=>r(t)-r(e))),i&&(q.items=q.items.filter(i)),0===X.length||Qz(q))Y();else{if(g&&Fz({root:t,data:q,x:n[0]+f,y:n[1]+d,render:l,event:e,single:y,position:m,enterable:b,mount:x,bounding:w}),s){const e=V.map((t=>t[1]));Xz(t,e,Object.assign(Object.assign({},D),{plotWidth:T,plotHeight:A,mainWidth:L,mainHeight:P,insetLeft:R,insetTop:I,startX:p,startY:v,transposed:E,polar:M}))}u.emit("tooltip:show",Object.assign(Object.assign({},e),{nativeEvent:!0,data:{data:{x:ID(o.x,W(O),!0)}}}))}}),h,{leading:f,trailing:d}),Y=()=>{zz({root:t,single:y,emitter:u,mount:x}),s&&qz(t)},U=({nativeEvent:e,data:n})=>{if(e)return;const{x:r}=n.data,{x:i}=o,s=i.map(r),[l,c]=a.map([s,.5]),{min:[u,h]}=t.getRenderBounds();V({offsetX:l+u,offsetY:c+h})},X=()=>{zz({root:t,single:y,emitter:u,nativeEvent:!1,mount:x})};return u.on("tooltip:show",U),u.on("tooltip:hide",X),O||(t.addEventListener("pointerenter",V),t.addEventListener("pointermove",V),t.addEventListener("pointerleave",Y)),()=>{O||(t.removeEventListener("pointerenter",V),t.removeEventListener("pointermove",V),t.removeEventListener("pointerleave",Y)),u.off("tooltip:show",U),u.off("tooltip:hide",X),Wz(t),s&&qz(t)}}function eW(t,{elements:e,scale:n,render:r,groupName:i,sort:o,filter:a,emitter:s,wait:l=50,leading:c=!0,trailing:u=!1,groupKey:h=(t=>t),single:f=!0,position:d,enterable:p,datum:v,view:g,mount:y,bounding:m,body:b=!0,disableNative:x=!1}){const w=e(t),O=new Set(w),C=cv(w,h),S=hz((e=>{const{target:l}=e;if(!O.has(l))return void zz({root:t,single:f,emitter:s,mount:y});const c=h(l),u=C.get(c),v=1===u.length?$z(u[0]):Uz(u,n,i);if(o&&v.items.sort(((t,e)=>o(t)-o(e))),a&&(v.items=v.items.filter(a)),Qz(v))return void zz({root:t,single:f,emitter:s,mount:y});const{offsetX:x,offsetY:w}=e;b&&Fz({root:t,data:v,x:x,y:w,render:r,event:e,single:f,position:d,enterable:p,mount:y,bounding:m}),s.emit("tooltip:show",Object.assign(Object.assign({},e),{nativeEvent:!0,data:{data:Az(l,g)}}))}),l,{leading:c,trailing:u}),_=e=>{const{target:n}=e;O.has(n)&&zz({root:t,single:f,emitter:s,mount:y})},E=({nativeEvent:t,data:e})=>{if(t)return;const n=KF(w,e.data,v);if(!n)return;const r=n.getBBox(),{x:i,y:o,width:a,height:s}=r;S({target:n,offsetX:i+a/2,offsetY:o+s/2})},M=({nativeEvent:e}={})=>{e||zz({root:t,single:f,emitter:s,nativeEvent:!1,mount:y})};return s.on("tooltip:show",E),s.on("tooltip:hide",M),x||(t.addEventListener("pointerover",S),t.addEventListener("pointermove",S),t.addEventListener("pointerout",_)),()=>{x||(t.removeEventListener("pointerover",S),t.removeEventListener("pointermove",S),t.removeEventListener("pointerout",_)),s.off("tooltip:show",E),s.off("tooltip:hide",M),Wz(t)}}function nW(t){const{shared:e,crosshairs:n,series:r,name:i,item:o=(()=>({})),facet:a=!1}=t,s=Iz(t,["shared","crosshairs","series","name","item","facet"]);return(t,i,l)=>{const{container:c,view:u}=t,{scale:h,markState:f,coordinate:d}=u,p=Kz(f,"seriesTooltip"),v=Kz(f,"crosshairs"),g=RF(c),y=Zz(r,p);if(y&&Jz(f)&&!a)return tW(g,Object.assign(Object.assign({},s),{elements:AF,scale:h,coordinate:d,crosshairs:Zz(n,v),item:o,emitter:l}));if(y&&a){const e=i.filter((e=>e!==t&&e.options.parentKey===t.options.key)),r=LF(t,i),a=e[0].view.scale,c=g.getBounds(),u=c.min[0],h=c.min[1];return tW(g.parentNode.parentNode,Object.assign(Object.assign({},s),{elements:()=>r,scale:a,coordinate:d,crosshairs:Zz(n,v),item:o,startX:u,startY:h,emitter:l}))}return eW(g,Object.assign(Object.assign({},s),{datum:FF(u),elements:AF,scale:h,coordinate:d,groupKey:e?DF(u):void 0,item:o,emitter:l,view:u}))}}var rW=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))};const iW="legend-category",oW="items-item",aW="legend-category-item-marker",sW="legend-category-item-label";function lW(t){return t.getElementsByClassName(aW)[0]}function cW(t){return t.getElementsByClassName(sW)[0]}function uW(t){return t.getElementsByClassName(oW)}function hW(t){return t.getElementsByClassName(iW)}function fW(t){let e=t.parentNode;while(e&&!e.__data__)e=e.parentNode;return e.__data__}function dW(t,{legends:e,marker:n,label:r,datum:i,filter:o,emitter:a,channel:s,state:l={}}){const c=new Map,u=new Map,h=new Map,{unselected:f={markerStroke:"#aaa",markerFill:"#aaa",labelFill:"#aaa"}}=l,d={unselected:Gg(f,"marker")},p={unselected:Gg(f,"label")},{setState:v,removeState:g}=zF(d,void 0),{setState:y,removeState:m}=zF(p,void 0),b=Array.from(e(t));let x=b.map(i);const w=()=>{for(const t of b){const e=i(t),o=n(t),a=r(t);x.includes(e)?(g(o,"unselected"),m(a,"unselected")):(v(o,"unselected"),y(a,"unselected"))}};for(const S of b){const e=()=>{XF(t,"pointer")},n=()=>{qF(t)},r=t=>rW(this,void 0,void 0,(function*(){const e=i(S),n=x.indexOf(e);-1===n?x.push(e):x.splice(n,1),0===x.length&&x.push(...b.map(i)),yield o(x),w();const{nativeEvent:r=!0}=t;r&&(x.length===b.length?a.emit("legend:reset",{nativeEvent:r}):a.emit("legend:filter",Object.assign(Object.assign({},t),{nativeEvent:r,data:{channel:s,values:x}})))}));S.addEventListener("click",r),S.addEventListener("pointerenter",e),S.addEventListener("pointerout",n),c.set(S,r),u.set(S,e),h.set(S,n)}const O=t=>rW(this,void 0,void 0,(function*(){const{nativeEvent:e}=t;if(e)return;const{data:n}=t,{channel:r,values:i}=n;r===s&&(x=i,yield o(x),w())})),C=t=>rW(this,void 0,void 0,(function*(){const{nativeEvent:e}=t;e||(x=b.map(i),yield o(x),w())}));return a.on("legend:filter",O),a.on("legend:reset",C),()=>{for(const t of b)t.removeEventListener("click",c.get(t)),t.removeEventListener("pointerenter",u.get(t)),t.removeEventListener("pointerout",h.get(t)),a.off("legend:filter",O),a.off("legend:reset",C)}}function pW(){return(t,e,n)=>{const{container:r,view:i,options:o,update:a}=t,s=hW(r),l=(t,e)=>rW(this,void 0,void 0,(function*(){const{scale:n}=i,{[t]:r}=n,{marks:s}=o,l=s.map((n=>{if("legends"===n.type)return n;const{transform:i=[]}=n,o=[{type:"filter",[t]:e},...i];return Bd({},n,{transform:o,scale:{[t]:{domain:r.getOptions().domain}},legend:{[t]:{preserve:!0}}})})),c=Object.assign(Object.assign({},o),{marks:l});return a(c)})),c=s.map((t=>{const{name:e,domain:i}=fW(t).scales[0];return dW(r,{legends:uW,marker:lW,label:cW,datum:t=>{const{__data__:e}=t,{index:n}=e;return i[n]},filter:t=>l(e,t),state:t.attributes.state,channel:e,emitter:n})}));return()=>{c.forEach((t=>t()))}}}function vW(){return(t,e,n)=>{const{container:r,view:i,options:o}=t,a=hW(r),s=AF(r),l=t=>fW(t).scales[0].name,c=t=>{const{scale:{[t]:e}}=i;return e},u=$F(o,["active","inactive"]),h=GF(s,FF(i)),f=[];for(const d of a){const t=t=>{const{data:e}=d.attributes,{__data__:n}=t,{index:r}=n;return e[r].label},e=l(d),r=uW(d),i=c(e),o=cv(s,(t=>i.invert(t.__data__[e]))),{state:a={}}=d.attributes,{inactive:p={}}=a,{setState:v,removeState:g}=zF(u,h),y={inactive:Gg(p,"marker")},m={inactive:Gg(p,"label")},{setState:b,removeState:x}=zF(y),{setState:w,removeState:O}=zF(m),C=t=>{for(const e of r){const n=lW(e),r=cW(e);e===t||null===t?(x(n,"inactive"),O(r,"inactive")):(b(n,"inactive"),w(r,"inactive"))}},S=(r,i)=>{const a=t(i),l=new Set(o.get(a));for(const t of s)l.has(t)?v(t,"active"):v(t,"inactive");C(i);const{nativeEvent:c=!0}=r;c&&n.emit("legend:highlight",Object.assign(Object.assign({},r),{nativeEvent:c,data:{channel:e,value:a}}))},_=new Map;for(const n of r){const t=t=>{S(t,n)};n.addEventListener("pointerover",t),_.set(n,t)}const E=t=>{for(const n of s)g(n,"inactive","active");C(null);const{nativeEvent:e=!0}=t;e&&n.emit("legend:unhighlight",{nativeEvent:e})},M=n=>{const{nativeEvent:i,data:o}=n;if(i)return;const{channel:a,value:s}=o;if(a!==e)return;const l=r.find((e=>t(e)===s));l&&S({nativeEvent:!1},l)},k=t=>{const{nativeEvent:e}=t;e||E({nativeEvent:!1})};d.addEventListener("pointerleave",E),n.on("legend:highlight",M),n.on("legend:unhighlight",k);const T=()=>{d.removeEventListener(E),n.off("legend:highlight",M),n.off("legend:unhighlight",k);for(const[t,e]of _)t.removeEventListener(e)};f.push(T)}return()=>f.forEach((t=>t()))}}var gW=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function yW(t,e){const[n,r,i,o]=t,[a,s,l,c]=e;return!(a>i||l<n||s>o||c<r)}function mW(t,e,n,r,i){const[o,a,s,l]=i;return[Math.max(o,Math.min(t,n)),Math.max(a,Math.min(e,r)),Math.min(s,Math.max(t,n)),Math.min(l,Math.max(e,r))]}function bW(t){const{width:e,height:n}=t.getBBox();return[0,0,e,n]}function xW(t,e){for(const[n,r]of Object.entries(e))t.style(n,r)}const wW=JM((t=>{const e=t.attributes,{x:n,y:r,width:i,height:o,class:a,renders:s={},handleSize:l=10,document:c}=e,u=gW(e,["x","y","width","height","class","renders","handleSize","document"]);if(!c||void 0===i||void 0===o||void 0===n||void 0===r)return;const h=l/2,f=(t,e,n)=>{t.handle||(t.handle=n.createElement("rect"),t.append(t.handle));const{handle:r}=t;return r.attr(e),r},d=Gg(Ug(u,"handleNW","handleNE"),"handleN"),{render:p=f}=d,v=gW(d,["render"]),g=Gg(u,"handleE"),{render:y=f}=g,m=gW(g,["render"]),b=Gg(Ug(u,"handleSE","handleSW"),"handleS"),{render:x=f}=b,w=gW(b,["render"]),O=Gg(u,"handleW"),{render:C=f}=O,S=gW(O,["render"]),_=Gg(u,"handleNW"),{render:E=f}=_,M=gW(_,["render"]),k=Gg(u,"handleNE"),{render:T=f}=k,A=gW(k,["render"]),L=Gg(u,"handleSE"),{render:P=f}=L,R=gW(L,["render"]),I=Gg(u,"handleSW"),{render:N=f}=I,j=gW(I,["render"]),B=(t,e)=>{const{id:n}=t,r=t.attributes,{x:i,y:o}=r,a=gW(r,["x","y"]),s=e(t,Object.assign({x:0,y:0},a),c);s.id=n,s.style.draggable=!0},D=t=>()=>{const e=JM((e=>B(e,t)));return new e({})},F=wE(t).attr("className",a).style("x",n).style("y",r).style("draggable",!0);F.maybeAppend("selection","rect").style("draggable",!0).style("fill","transparent").call(xW,Object.assign({width:i,height:o},Ug(u,"handle"))),F.maybeAppend("handle-n",D(p)).style("x",h).style("y",-h).style("width",i-l).style("height",l).style("fill","transparent").call(xW,v),F.maybeAppend("handle-e",D(y)).style("x",i-h).style("y",h).style("width",l).style("height",o-l).style("fill","transparent").call(xW,m),F.maybeAppend("handle-s",D(x)).style("x",h).style("y",o-h).style("width",i-l).style("height",l).style("fill","transparent").call(xW,w),F.maybeAppend("handle-w",D(C)).style("x",-h).style("y",h).style("width",l).style("height",o-l).style("fill","transparent").call(xW,S),F.maybeAppend("handle-nw",D(E)).style("x",-h).style("y",-h).style("width",l).style("height",l).style("fill","transparent").call(xW,M),F.maybeAppend("handle-ne",D(T)).style("x",i-h).style("y",-h).style("width",l).style("height",l).style("fill","transparent").call(xW,A),F.maybeAppend("handle-se",D(P)).style("x",i-h).style("y",o-h).style("width",l).style("height",l).style("fill","transparent").call(xW,R),F.maybeAppend("handle-sw",D(N)).style("x",-h).style("y",o-h).style("width",l).style("height",l).style("fill","transparent").call(xW,j)}));function OW(t,e){var{brushed:n=(()=>{}),brushended:r=(()=>{}),brushcreated:i=(()=>{}),extent:o=bW(t),brushRegion:a=((t,e,n,r,i)=>[t,e,n,r]),reverse:s=!1,fill:l="#777",fillOpacity:c="0.3",stroke:u="#fff",selectedHandles:h=["handle-n","handle-e","handle-s","handle-w","handle-nw","handle-ne","handle-se","handle-sw"]}=e,f=gW(e,["brushed","brushended","brushcreated","extent","brushRegion","reverse","fill","fillOpacity","stroke","selectedHandles"]);let d=null,p=null,v=null,g=null,y=null,m=!1;const[b,x,w,O]=o;XF(t,"crosshair"),t.style.draggable=!0;const C=(t,e)=>{if(g&&g.remove(),y&&y.remove(),d=[t,e],s)return S();_()},S=()=>{y=new Ec({style:Object.assign(Object.assign({},f),{fill:l,fillOpacity:c,stroke:u,pointerEvents:"none"})}),g=new wW({style:{x:0,y:0,width:0,height:0,draggable:!0,document:t.ownerDocument},className:"mask"}),t.appendChild(y),t.appendChild(g)},_=()=>{g=new wW({style:Object.assign(Object.assign({document:t.ownerDocument,x:0,y:0},f),{fill:l,fillOpacity:c,stroke:u,draggable:!0}),className:"mask"}),t.appendChild(g)},E=(t=!0)=>{g&&g.remove(),y&&y.remove(),d=null,p=null,v=null,m=!1,g=null,y=null,r(t)},M=(t,e,r=!0)=>{const[i,l,c,u]=mW(t[0],t[1],e[0],e[1],o),[h,f,d,p]=a(i,l,c,u,o);return s?T(h,f,d,p):k(h,f,d,p),n(h,f,d,p,r),[h,f,d,p]},k=(t,e,n,r)=>{g.style.x=t,g.style.y=e,g.style.width=n-t,g.style.height=r-e},T=(t,e,n,r)=>{y.style.d=`\n      M${b},${x}L${w},${x}L${w},${O}L${b},${O}Z\n      M${t},${e}L${t},${r}L${n},${r}L${n},${e}Z\n    `,g.style.x=t,g.style.y=e,g.style.width=n-t,g.style.height=r-e},A=t=>{const e=(t,e,n,r,i)=>t+e<r?r-e:t+n>i?i-n:t,n=t[0]-v[0],r=t[1]-v[1],i=e(n,d[0],p[0],b,w),o=e(r,d[1],p[1],x,O),a=[d[0]+i,d[1]+o],s=[p[0]+i,p[1]+o];M(a,s)},L={"handle-n":{vector:[0,1,0,0],cursor:"ns-resize"},"handle-e":{vector:[0,0,1,0],cursor:"ew-resize"},"handle-s":{vector:[0,0,0,1],cursor:"ns-resize"},"handle-w":{vector:[1,0,0,0],cursor:"ew-resize"},"handle-nw":{vector:[1,1,0,0],cursor:"nwse-resize"},"handle-ne":{vector:[0,1,1,0],cursor:"nesw-resize"},"handle-se":{vector:[0,0,1,1],cursor:"nwse-resize"},"handle-sw":{vector:[1,0,0,1],cursor:"nesw-resize"}},P=t=>I(t)||R(t),R=t=>{const{id:e}=t;return-1!==h.indexOf(e)&&new Set(Object.keys(L)).has(e)},I=t=>t===g.getElementById("selection"),N=e=>{const{target:n}=e,[r,i]=NF(t,e);if(!g||!P(n))return C(r,i),void(m=!0);P(n)&&(v=[r,i])},j=e=>{const{target:n}=e,r=NF(t,e);if(!d)return;if(!v)return M(d,r);if(I(n))return A(r);const[i,o]=[r[0]-v[0],r[1]-v[1]],{id:a}=n;if(L[a]){const[t,e,n,r]=L[a].vector;return M([d[0]+i*t,d[1]+o*e],[p[0]+i*n,p[1]+o*r])}},B=e=>{if(v){v=null;const{x:t,y:e,width:n,height:r}=g.style;return d=[t,e],void(p=[t+n,e+r])}p=NF(t,e);const[n,r,o,a]=M(d,p);m=!1,i(n,r,o,a,e)},D=t=>{const{target:e}=t;g&&!P(e)&&E()},F=e=>{const{target:n}=e;g&&P(n)&&!m?I(n)?XF(t,"move"):R(n)&&XF(t,L[n.id].cursor):XF(t,"crosshair")},z=()=>{XF(t,"default")};return t.addEventListener("dragstart",N),t.addEventListener("drag",j),t.addEventListener("dragend",B),t.addEventListener("click",D),t.addEventListener("pointermove",F),t.addEventListener("pointerleave",z),{mask:g,move(t,e,n,r,i=!0){g||C(t,e),d=[t,e],p=[n,r],M([t,e],[n,r],i)},remove(t=!0){g&&E(t)},destroy(){g&&E(!1),XF(t,"default"),t.removeEventListener("dragstart",N),t.removeEventListener("drag",j),t.removeEventListener("dragend",B),t.removeEventListener("click",D),t.removeEventListener("pointermove",F),t.removeEventListener("pointerleave",z)}}}function CW(t,e,n){return e.filter((e=>{if(e===t)return!1;const{interaction:r={}}=e.options;return Object.values(r).find((t=>t.brushKey===n))}))}function SW(t,e,n){return CW(t,e,n).map((t=>RF(t.container)))}function _W(t,e,n){return CW(t,e,n).map((t=>t.options))}function EW(t,e){var{elements:n,selectedHandles:r,siblings:i=(t=>[]),datum:o,brushRegion:a,extent:s,reverse:l,scale:c,coordinate:u,series:h=!1,key:f=(t=>t),bboxOf:d=(t=>{const{x:e,y:n,width:r,height:i}=t.style;return{x:e,y:n,width:r,height:i}}),state:p={},emitter:v}=e,g=gW(e,["elements","selectedHandles","siblings","datum","brushRegion","extent","reverse","scale","coordinate","series","key","bboxOf","state","emitter"]);const y=n(t),m=i(t),b=m.flatMap(n),x=GF(y,o),w=Gg(g,"mask"),{setState:O,removeState:C}=zF(p,x),S=new Map,{width:_,height:E,x:M=0,y:k=0}=d(t),T=s||[0,0,_,E],A=()=>{for(const t of[...y,...b])C(t,"active","inactive")},L=(t,e,n,r)=>{var i;for(const a of m)null===(i=a.brush)||void 0===i||i.remove();const o=new Set;for(const a of y){const{min:i,max:s}=a.getLocalBounds(),[l,c]=i,[u,h]=s;yW([l,c,u,h],[t,e,n,r])?(O(a,"active"),o.add(f(a))):O(a,"inactive")}for(const a of b)o.has(f(a))?O(a,"active"):O(a,"inactive")},P=()=>{for(const t of y)C(t,"inactive");for(const t of S.values())t.remove();S.clear()},R=(t,e,n,r)=>{const i=t=>{const e=t.cloneNode();return e.__data__=t.__data__,t.parentNode.appendChild(e),S.set(t,e),e};for(const o of y){const a=S.get(o)||i(o);a.style.clipPath=new Tc({style:{x:t+M,y:e+k,width:n-t,height:r-e}}),O(o,"inactive"),O(a,"active")}},I=OW(t,Object.assign(Object.assign({},w),{extent:T,brushRegion:a,reverse:l,selectedHandles:r,brushended:t=>{const e=h?P:A;t&&v.emit("brush:remove",{nativeEvent:!0}),e()},brushed:(t,e,n,r,i)=>{const o=jD(t,e,n,r,c,u);i&&v.emit("brush:highlight",{nativeEvent:!0,data:{selection:o}});const a=h?R:L;a(t,e,n,r)}})),N=({nativeEvent:t,data:e})=>{if(t)return;const{selection:n}=e,[r,i,o,a]=DD(n,c,u);I.move(r,i,o,a,!1)};v.on("brush:highlight",N);const j=({nativeEvent:t}={})=>{t||I.remove(!1)};v.on("brush:remove",j);const B=I.destroy.bind(I);return I.destroy=()=>{v.off("brush:highlight",N),v.off("brush:remove",j),B()},I}function MW(t){var{facet:e,brushKey:n}=t,r=gW(t,["facet","brushKey"]);return(t,i,o)=>{const{container:a,view:s,options:l}=t,c=RF(a),u={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",reverse:!1},h=["active",["inactive",{opacity:.5}]],{scale:f,coordinate:d}=s;if(e){const e=c.getBounds(),n=e.min[0],a=e.min[1],s=e.max[0],l=e.max[1];return EW(c.parentNode.parentNode,Object.assign(Object.assign({elements:()=>LF(t,i),datum:FF(PF(t,i).map((t=>t.view))),brushRegion:(t,e,n,r)=>[t,e,n,r],extent:[n,a,s,l],state:$F(PF(t,i).map((t=>t.options)),h),emitter:o,scale:f,coordinate:d,selectedHandles:void 0},u),r))}const p=EW(c,Object.assign(Object.assign({elements:AF,key:t=>t.__data__.key,siblings:()=>SW(t,i,n),datum:FF([s,...CW(t,i,n).map((t=>t.view))]),brushRegion:(t,e,n,r)=>[t,e,n,r],extent:void 0,state:$F([l,..._W(t,i,n)],h),emitter:o,scale:f,coordinate:d,selectedHandles:void 0},u),r));return c.brush=p,()=>p.destroy()}}function kW(t,e,n,r,i){const[,o,,a]=i;return[t,o,n,a]}function TW(t){return MW(Object.assign(Object.assign({},t),{brushRegion:kW,selectedHandles:["handle-e","handle-w"]}))}function AW(t,e,n,r,i){const[o,,a]=i;return[o,e,a,r]}function LW(t){return MW(Object.assign(Object.assign({},t),{brushRegion:AW,selectedHandles:["handle-n","handle-s"]}))}var PW=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const RW="axis",IW="axis-line",NW="axis-main-group",jW="axis-hot-area";function BW(t){return t.getElementsByClassName(RW)}function DW(t){return t.getElementsByClassName(IW)[0]}function FW(t){return t.getElementsByClassName(NW)[0]}function zW(t){return FW(t).getLocalBounds()}function WW(t,e){var{cross:n,offsetX:r,offsetY:i}=e,o=PW(e,["cross","offsetX","offsetY"]);const a=zW(t),s=DW(t),[l]=s.getLocalBounds().min,[c,u]=a.min,[h,f]=a.max,d=2*(h-c);return{brushRegion:AW,hotZone:new Tc({className:jW,style:Object.assign({x:n?c:l-d/2,width:n?d/2:d,y:u,height:f-u},o)}),extent:n?(t,e,n,r)=>[-1/0,e,1/0,r]:(t,e,n,i)=>[Math.floor(c-r),e,Math.ceil(h-r),i]}}function HW(t,e){var{offsetY:n,offsetX:r,cross:i=!1}=e,o=PW(e,["offsetY","offsetX","cross"]);const a=zW(t),s=DW(t),[,l]=s.getLocalBounds().min,[c,u]=a.min,[h,f]=a.max,d=f-u;return{brushRegion:kW,hotZone:new Tc({className:jW,style:Object.assign({x:c,width:h-c,y:i?u:l-d,height:i?d:2*d},o)}),extent:i?(t,e,n,r)=>[t,-1/0,n,1/0]:(t,e,r,i)=>[t,Math.floor(u-n),r,Math.ceil(f-n)]}}function $W(t,e){var{axes:n,elements:r,points:i,horizontal:o,datum:a,offsetY:s,offsetX:l,reverse:c=!1,state:u={},emitter:h,coordinate:f}=e,d=PW(e,["axes","elements","points","horizontal","datum","offsetY","offsetX","reverse","state","emitter","coordinate"]);const p=r(t),v=n(t),g=GF(p,a),{setState:y,removeState:m}=zF(u,g),b=new Map,x=Gg(d,"mask"),w=t=>Array.from(b.values()).every((([e,n,r,i])=>t.some((([t,o])=>t>=e&&t<=r&&o>=n&&o<=i)))),O=v.map((t=>t.attributes.scale)),C=t=>t.length>2?[t[0],t[t.length-1]]:t,S=new Map,_=()=>{S.clear();for(let t=0;t<v.length;t++){const e=O[t],{domain:n}=e.getOptions();S.set(t,C(n))}};_();const E=(t,e)=>{const n=[];for(const o of p){const t=i(o);w(t)?(y(o,"active"),n.push(o)):y(o,"inactive")}if(S.set(t,k(n,t)),!e)return;const r=()=>{if(!T)return Array.from(S.values());const t=[];for(const[e,n]of S){const r=O[e],{name:i}=r.getOptions();"x"===i?t[0]=n:t[1]=n}return t};h.emit("brushAxis:highlight",{nativeEvent:!0,data:{selection:r()}})},M=t=>{for(const e of p)m(e,"active","inactive");_(),t&&h.emit("brushAxis:remove",{nativeEvent:!0})},k=(t,e)=>{const n=O[e],{name:r}=n.getOptions(),i=t.map((t=>{const e=t.__data__;return n.invert(e[r])}));return C(ND(n,i))},T=v.some(o)&&v.some((t=>!o(t))),A=[];for(let N=0;N<v.length;N++){const t=v[N],e=o(t)?HW:WW,{hotZone:n,brushRegion:r,extent:i}=e(t,{offsetY:s,offsetX:l,cross:T,zIndex:999,fill:"transparent"});t.parentNode.appendChild(n);const a=OW(n,Object.assign(Object.assign({},x),{reverse:c,brushRegion:r,brushended(e){b.delete(t),0===Array.from(b.entries()).length?M(e):E(N,e)},brushed(e,n,r,o,a){b.set(t,i(e,n,r,o)),E(N,a)}}));A.push(a)}const L=(t={})=>{const{nativeEvent:e}=t;e||A.forEach((t=>t.remove(!1)))},P=(t,e,n)=>{const[r,i]=t,a=t=>t.getStep?t.getStep():0,s=R(r,e,n),l=R(i,e,n)+a(e);return o(n)?[s,-1/0,l,1/0]:[-1/0,s,1/0,l]},R=(t,e,n)=>{const{height:r,width:i}=f.getOptions(),a=e.clone();return o(n)?a.update({range:[0,i]}):a.update({range:[r,0]}),a.map(t)},I=t=>{const{nativeEvent:e}=t;if(e)return;const{selection:n}=t.data;for(let r=0;r<A.length;r++){const t=n[r],e=A[r],i=v[r];if(t){const n=O[r];e.move(...P(t,n,i),!1)}else e.remove(!1)}};return h.on("brushAxis:remove",L),h.on("brushAxis:highlight",I),()=>{A.forEach((t=>t.destroy())),h.off("brushAxis:remove",L),h.off("brushAxis:highlight",I)}}function GW(t){return(e,n,r)=>{const{container:i,view:o,options:a}=e,s=RF(i),{x:l,y:c}=s.getBBox(),{coordinate:u}=o;return $W(i,Object.assign({elements:AF,axes:BW,offsetY:c,offsetX:l,points:t=>t.__data__.points,horizontal:t=>{const{startPos:[e,n],endPos:[r,i]}=t.attributes;return e!==r&&n===i},datum:FF(o),state:$F(a,["active",["inactive",{opacity:.5}]]),coordinate:u,emitter:r},t))}}var VW=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))},YW=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function UW(t=300){let e=null;return n=>{const{timeStamp:r}=n;return null!==e&&r-e<t?(e=r,!0):(e=r,!1)}}function XW(t,e){var{filter:n,reset:r,brushRegion:i,extent:o,reverse:a,emitter:s,scale:l,coordinate:c,selection:u,series:h=!1}=e,f=YW(e,["filter","reset","brushRegion","extent","reverse","emitter","scale","coordinate","selection","series"]);const d=Gg(f,"mask"),{width:p,height:v}=t.getBBox(),g=o||[0,0,p,v],y=UW(),m=OW(t,Object.assign(Object.assign({},d),{extent:g,brushRegion:i,reverse:a,brushcreated:b}));function b(t,e,r,i,o){o.nativeEvent=!0,n(u(t,e,r,i),o),m.remove()}function x(t){y(t)&&(t.nativeEvent=!0,r(t))}t.addEventListener("click",x);const w=({nativeEvent:t,data:e})=>{if(t)return;const{selection:r}=e;n(r,{nativeEvent:!1})};return s.on("brush:filter",w),()=>{m.destroy(),s.off("brush:filter",w),t.removeEventListener("click",x)}}function qW(t){var{hideX:e=!0,hideY:n=!0}=t,r=YW(t,["hideX","hideY"]);return(t,i,o)=>{const{container:a,view:s,options:l,update:c}=t,u=RF(a),h={maskFill:"#777",maskFillOpacity:"0.3",maskStroke:"#fff",unhighlightedOpacity:.5,reverse:!1};let f=!1,d=!1,p=s;const{scale:v,coordinate:g}=s;return XW(u,Object.assign(Object.assign({brushRegion:(t,e,n,r)=>[t,e,n,r],selection:(t,e,n,r)=>{const{scale:i,coordinate:o}=p;return jD(t,e,n,r,i,o)},filter:(t,r)=>VW(this,void 0,void 0,(function*(){if(d)return;d=!0;const[i,a]=t,{marks:s}=l,u=s.map((t=>Bd({axis:Object.assign(Object.assign({},e&&{x:{transform:[{type:"hide"}]}}),n&&{y:{transform:[{type:"hide"}]}})},t,{scale:{x:{domain:i,nice:!1},y:{domain:a,nice:!1}}})));o.emit("brush:filter",Object.assign(Object.assign({},r),{data:{selection:[i,a]}}));const h=Object.assign(Object.assign({},l),{marks:u,clip:!0}),v=yield c(h);p=v.view,d=!1,f=!0})),reset:t=>{if(d||!f)return;const{scale:e}=s,{x:n,y:r}=e,i=n.getOptions().domain,a=r.getOptions().domain;o.emit("brush:filter",Object.assign(Object.assign({},t),{data:{selection:[i,a]}})),f=!1,p=s,c(l)},extent:void 0,emitter:o,scale:v,coordinate:g},h),r))}}function KW(t){return qW(Object.assign(Object.assign({hideX:!0},t),{brushRegion:kW}))}function ZW(t){return qW(Object.assign(Object.assign({hideY:!0},t),{brushRegion:AW}))}var QW=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))};const JW="slider";function tH(t,e,n,r=!1){const{marks:i}=t,o=i.map((t=>{var i,o;return Bd({axis:{x:{transform:[{type:"hide"}]},y:{transform:[{type:"hide"}]}}},t,{scale:e,[n]:Object.assign(Object.assign({},(null===(i=t[n])||void 0===i?void 0:i.x)&&{x:Object.assign({preserve:!0},r&&{ratio:null})}),(null===(o=t[n])||void 0===o?void 0:o.y)&&{y:Object.assign({preserve:!0},r&&{ratio:null})}),animate:!1})}));return Object.assign(Object.assign({},t),{marks:o,clip:!0,animate:!1})}function eH(t,e,n){const[r,i]=t,o=n?t=>1-t:t=>t,a=ID(e,o(r),!0),s=ID(e,o(i),!1);return ND(e,[a,s])}function nH(t){return[t[0],t[t.length-1]]}function rH({channelDomain:t,className:e=JW,prefix:n="slider",setValue:r=((t,e)=>t.setValues(e)),hasState:i=!1,wait:o=50,leading:a=!0,trailing:s=!1}){return(l,c,u)=>{const{container:h,view:f,options:d,update:p}=l,v=h.getElementsByClassName(e);if(!v.length)return()=>{};let g=!1;const{scale:y,coordinate:m,layout:b}=f,{paddingLeft:x,paddingTop:w,paddingBottom:O,paddingRight:C}=b,{x:S,y:_}=y,E=pv(m),M=t=>{const e="vertical"===t?"y":"x",n="vertical"===t?"x":"y";return E?[n,e]:[e,n]},k=new Map,T=new Set;t||(t={x:S.getOptions().domain,y:_.getOptions().domain});for(const e of v){const{orientation:l}=e.attributes,[c,h]=M(l),f=`${n}${FN(c)}:filter`,v="x"===c,{ratio:m}=S.getOptions(),{ratio:b}=_.getOptions(),A=e=>{if(e.data){const{selection:n}=e.data,[r=nH(t.x),i=nH(t.y)]=n;return v?[ND(S,r,m),ND(_,i,b)]:[ND(_,i,b),ND(S,r,m)]}const{value:n}=e.detail,r=y[c],i=eH(n,r,E&&"horizontal"===l),o=t[h];return[i,o]},L=hz((e=>QW(this,void 0,void 0,(function*(){if(g)return;g=!0;const{nativeEvent:r=!0}=e,[o,a]=A(e);t[c]=o,t[h]=a;const s=tH(d,{[c]:{domain:o,nice:!1},[h]:{domain:a,nice:!1}},n,i);if(r){const t=v?o:a,n=v?a:o;u.emit(f,Object.assign(Object.assign({},e),{nativeEvent:r,data:{selection:[nH(t),nH(n)]}}))}yield p(Object.assign(Object.assign({},s),{paddingLeft:x,paddingTop:w,paddingBottom:O,paddingRight:C})),g=!1}))),o,{leading:a,trailing:s}),P=t=>{const{nativeEvent:n}=t;if(n)return;const{data:i}=t,{selection:o}=i,[a,s]=o;e.dispatchEvent(new _l("valuechange",{data:i,nativeEvent:!1}));const l=v?BD(a,S):BD(s,_);r(e,l)};u.on(f,P),e.addEventListener("valuechange",L),k.set(e,L),T.add([f,P])}return()=>{for(const[t,e]of k)t.removeEventListener("valuechange",e);for(const[t,e]of T)u.off(t,e)}}}const iH="g2-scrollbar";function oH(t={}){return(e,n,r)=>{const{view:i,container:o}=e,a=o.getElementsByClassName(iH);if(!a.length)return()=>{};const{scale:s}=i,{x:l,y:c}=s,u={x:l.getOptions().domain,y:c.getOptions().domain};l.update({domain:l.getOptions().expectedDomain}),c.update({domain:c.getOptions().expectedDomain});const h=rH(Object.assign(Object.assign({},t),{channelDomain:u,className:iH,prefix:"scrollbar",hasState:!0,setValue:(t,e)=>t.setValue(e[0])}));return h(e,n,r)}}var aH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function sH(t,e,n){return`<${t} style="${Object.entries(n).map((([t,e])=>`${mL(t)}:${e}`)).join(";")}">${e}</${t}>`}const lH={backgroundColor:"rgba(0,0,0,0.75)",color:"#fff",width:"max-content",padding:"1px 4px",fontSize:"12px",borderRadius:"2.5px",boxShadow:"0 3px 6px -4px rgba(0,0,0,0.12), 0 6px 16px 0 rgba(0,0,0,0.08), 0 9px 28px 8px rgba(0,0,0,0.05)"};function cH(t){return"text"===t.nodeName&&!!t.isOverflowing()}function uH(t){var{offsetX:e=8,offsetY:n=8}=t,r=aH(t,["offsetX","offsetY"]);return t=>{const{container:i}=t,[o,a]=i.getBounds().min,s=Gg(r,"tip"),l=new Set,c=t=>{const{target:r}=t;if(!cH(r))return void t.stopPropagation();const{offsetX:c,offsetY:u}=t,h=c+e-o,f=u+n-a;if(r.tip)return r.tip.style.x=h,void(r.tip.style.y=f);const{text:d}=r.style,p=new Cc({className:"poptip",style:{innerHTML:sH("div",d,Object.assign(Object.assign({},lH),s)),x:h,y:f}});i.appendChild(p),r.tip=p,l.add(p)},u=t=>{const{target:e}=t;cH(e)?e.tip&&(e.tip.remove(),e.tip=null,l.delete(e.tip)):t.stopPropagation()};return i.addEventListener("pointerover",c),i.addEventListener("pointerout",u),()=>{i.removeEventListener("pointerover",c),i.removeEventListener("pointerout",u),l.forEach((t=>t.remove()))}}}var hH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function fH(t){return(e,...n)=>Bd({},t(e,...n),e)}function dH(t){return(e,...n)=>Bd({},e,t(e,...n))}function pH(t,e){if(!t)return e;if(Array.isArray(t))return t;const{value:n=e}=t,r=hH(t,["value"]);return Object.assign(Object.assign({},r),{value:n})}var vH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const gH=()=>t=>{const{children:e}=t;if(!Array.isArray(e))return[];const{x:n=0,y:r=0,width:i,height:o,data:a}=t;return e.map((t=>{var{data:e,x:s,y:l,width:c,height:u}=t,h=vH(t,["data","x","y","width","height"]);return Object.assign(Object.assign({},h),{data:pH(e,a),x:null!==s&&void 0!==s?s:n,y:null!==l&&void 0!==l?l:r,width:null!==c&&void 0!==c?c:i,height:null!==u&&void 0!==u?u:o})}))};gH.props={};var yH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const mH=()=>t=>{const{children:e}=t;if(!Array.isArray(e))return[];const{direction:n="row",ratio:r=e.map((()=>1)),padding:i=0,data:o}=t,[a,s,l,c]="col"===n?["y","height","width","x"]:["x","width","height","y"],u=r.reduce(((t,e)=>t+e)),h=t[s]-i*(e.length-1),f=r.map((t=>h*(t/u))),d=[];let p=t[a]||0;for(let v=0;v<f.length;v+=1){const n=e[v],{data:r}=n,u=yH(n,["data"]),h=pH(r,o);d.push(Object.assign({[a]:p,[s]:f[v],[c]:t[c]||0,[l]:t[l],data:h},u)),p+=f[v]+i}return d};mH.props={};var bH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const xH=()=>t=>{const{children:e}=t,n=bH(t,["children"]);if(!Array.isArray(e))return[];const{data:r,scale:i={},axis:o={},legend:a={},encode:s={},transform:l=[]}=n,c=bH(n,["data","scale","axis","legend","encode","transform"]),u=e.map((t=>{var{data:e,scale:n={},axis:c={},legend:u={},encode:h={},transform:f=[]}=t,d=bH(t,["data","scale","axis","legend","encode","transform"]);return Object.assign({data:pH(e,r),scale:Bd({},i,n),encode:Bd({},s,h),transform:[...l,...f],axis:!(!c||!o)&&Bd({},o,c),legend:!(!u||!a)&&Bd({},a,u)},d)}));return[Object.assign(Object.assign({},c),{marks:u,type:"standardView"})]};xH.props={};var wH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const OH=({static:t=!1}={})=>e=>{const{width:n,height:r,paddingLeft:i,paddingRight:o,paddingTop:a,paddingBottom:s,padding:l,inset:c,insetLeft:u,insetTop:h,insetRight:f,insetBottom:d,margin:p,marginLeft:v,marginBottom:g,marginTop:y,marginRight:m,data:b,coordinate:x,theme:w,component:O,interaction:C,x:S,y:_,key:E,frame:M,labelTransform:k,parentKey:T,clip:A,viewStyle:L,title:P}=e,R=wH(e,["width","height","paddingLeft","paddingRight","paddingTop","paddingBottom","padding","inset","insetLeft","insetTop","insetRight","insetBottom","margin","marginLeft","marginBottom","marginTop","marginRight","data","coordinate","theme","component","interaction","x","y","key","frame","labelTransform","parentKey","clip","viewStyle","title"]);return[Object.assign(Object.assign({type:"standardView",x:S,y:_,key:E,width:n,height:r,padding:l,paddingLeft:i,paddingRight:o,paddingTop:a,inset:c,insetLeft:u,insetTop:h,insetRight:f,insetBottom:d,paddingBottom:s,theme:w,coordinate:x,component:O,interaction:C,frame:M,labelTransform:k,margin:p,marginLeft:v,marginBottom:g,marginTop:y,marginRight:m,parentKey:T,clip:A,style:L},!t&&{title:P}),{marks:[Object.assign(Object.assign(Object.assign({},R),{key:`${E}-0`,data:b}),t&&{title:P})]})]};OH.props={};class CH{constructor(t){this.$value=t}static of(t){return new CH(t)}call(t,...e){return this.$value=t(this.$value,...e),this}value(){return this.$value}}var SH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const _H=fH((t=>{const{encode:e,data:n,scale:r,shareSize:i=!1}=t,{x:o,y:a}=e,s=(t,e)=>{var o;if(void 0===t||!i)return{};const a=cv(n,(e=>e[t])),s=(null===(o=null===r||void 0===r?void 0:r[e])||void 0===o?void 0:o.domain)||Array.from(a.keys()),l=s.map((t=>a.has(t)?a.get(t).length:1));return{domain:s,flex:l}};return{scale:{x:Object.assign(Object.assign({paddingOuter:0,paddingInner:.1,guide:void 0===o?null:{position:"top"}},void 0===o&&{paddingInner:0}),s(o,"x")),y:Object.assign(Object.assign({range:[0,1],paddingOuter:0,paddingInner:.1,guide:void 0===a?null:{position:"right"}},void 0===a&&{paddingInner:0}),s(a,"y"))}}})),EH=fH((t=>{const{data:e,scale:n}=t,r=[t];let i,o,a;while(r.length){const t=r.shift(),{children:e,encode:n={},scale:s={},legend:l={}}=t,{color:c}=n,{color:u}=s,{color:h}=l;void 0!==c&&(i=c),void 0!==u&&(o=u),void 0!==h&&(a=h),Array.isArray(e)&&r.push(...e)}const s=()=>{var t;const r=null===(t=null===n||void 0===n?void 0:n.color)||void 0===t?void 0:t.domain;if(void 0!==r)return[r];if(void 0===i)return[void 0];const o="function"===typeof i?i:t=>t[i],a=e.map(o);return a.some((t=>"number"===typeof t))?[X_(a)]:[Array.from(new Set(a)),"ordinal"]},l="string"===typeof i?i:"",[c,u]=s();return{encode:{color:i},scale:{color:Bd({},o,{domain:c,type:u})},legend:{color:Bd({title:l},a)}}})),MH=fH((()=>({animate:{enterType:"fadeIn"}}))),kH=dH((()=>({frame:!1,encode:{shape:"hollow"},style:{lineWidth:0}}))),TH=dH((()=>({type:"cell"}))),AH=dH((t=>{const{data:e}=t,n={type:"custom",callback:()=>{const{data:e,encode:n}=t,{x:r,y:i}=n,o=r?Array.from(new Set(e.map((t=>t[r])))):[],a=i?Array.from(new Set(e.map((t=>t[i])))):[],s=()=>{if(o.length&&a.length){const t=[];for(const e of o)for(const n of a)t.push({[r]:e,[i]:n});return t}return o.length?o.map((t=>({[r]:t}))):a.length?a.map((t=>({[i]:t}))):void 0};return s()}};return{data:{type:"inline",value:e,transform:[n]}}})),LH=dH(((t,e=PH,n=IH,r=NH,i={})=>{const{data:o,encode:a,children:s,scale:l,x:c=0,y:u=0,shareData:h=!1,key:f}=t,{value:d}=o,{x:p,y:v}=a,{color:g}=l,{domain:y}=g,m=(t,o,a)=>{const{x:l,y:g}=o,{paddingLeft:m,paddingTop:b}=a,{domain:x}=l.getOptions(),{domain:w}=g.getOptions(),O=K_(t),C=t.map(e),S=t.map((({x:t,y:e})=>[l.invert(t),g.invert(e)])),_=S.map((([t,e])=>n=>{const{[p]:r,[v]:i}=n,o=void 0===p||r===t,a=void 0===v||i===e;return o&&a})),E=_.map((t=>d.filter(t))),M=h?cg(E,(t=>t.length)):void 0,k=S.map((([t,e])=>({columnField:p,columnIndex:x.indexOf(t),columnValue:t,columnValuesLength:x.length,rowField:v,rowIndex:w.indexOf(e),rowValue:e,rowValuesLength:w.length}))),T=k.map((t=>Array.isArray(s)?s:[s(t)].flat(1)));return O.flatMap((t=>{const[e,o,a,s]=C[t],l=k[t],h=E[t],g=T[t];return g.map((g=>{var x,w,{scale:O,key:C,facet:S=!0,axis:_={},legend:E={}}=g,k=SH(g,["scale","key","facet","axis","legend"]);const T=(null===(x=null===O||void 0===O?void 0:O.y)||void 0===x?void 0:x.guide)||_.y,A=(null===(w=null===O||void 0===O?void 0:O.x)||void 0===w?void 0:w.guide)||_.x,L={x:{tickCount:p?5:void 0},y:{tickCount:v?5:void 0}},P=S?h:0===h.length?[]:d,R={color:{domain:y}},I={x:jH(A,n)(l,P),y:jH(T,r)(l,P)};return Object.assign(Object.assign({key:`${C}-${t}`,data:P,x:e+m+c,y:o+b+u,parentKey:f,width:a,height:s,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!!P.length,dataDomain:M,scale:Bd(L,O,R),axis:Bd({},_,I),legend:!1},k),i)}))}))};return{children:m}}));function PH(t){const{points:e}=t;return cE(e)}function RH(t,e){return e.length?Bd({title:!1,tick:null,label:null},t):Bd({title:!1,tick:null,label:null,grid:null},t)}function IH(t){return(e,n)=>{const{rowIndex:r,rowValuesLength:i,columnIndex:o,columnValuesLength:a}=e;if(r!==i-1)return RH(t,n);const s=o===a-1&&void 0,l=n.length?void 0:null;return Bd({title:s,grid:l},t)}}function NH(t){return(e,n)=>{const{rowIndex:r,columnIndex:i}=e;if(0!==i)return RH(t,n);const o=0===r&&void 0,a=n.length?void 0:null;return Bd({title:o,grid:a},t)}}function jH(t,e){return"function"===typeof t?t:null===t||!1===t?()=>null:e(t)}const BH=()=>t=>{const e=CH.of(t).call(TH).call(EH).call(MH).call(_H).call(kH).call(AH).call(LH).value();return[e]};BH.props={};var DH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const FH=fH((t=>({scale:{x:{guide:null,paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}}))),zH=dH((t=>{const{data:e,children:n,x:r=0,y:i=0,key:o}=t,a=(t,a,s)=>{const{x:l,y:c}=a,{paddingLeft:u,paddingTop:h}=s,{domain:f}=l.getOptions(),{domain:d}=c.getOptions(),p=K_(t),v=t.map((({points:t})=>cE(t))),g=t.map((({x:t,y:e})=>[l.invert(t),c.invert(e)])),y=g.map((([t,e])=>({columnField:t,columnIndex:f.indexOf(t),columnValue:t,columnValuesLength:f.length,rowField:e,rowIndex:d.indexOf(e),rowValue:e,rowValuesLength:d.length}))),m=y.map((t=>Array.isArray(n)?n:[n(t)].flat(1)));return p.flatMap((t=>{const[n,a,s,l]=v[t],[c,f]=g[t],d=y[t],p=m[t];return p.map((p=>{var v,g;const{scale:y,key:m,encode:b,axis:x}=p,w=DH(p,["scale","key","encode","axis"]),O=null===(v=null===y||void 0===y?void 0:y.y)||void 0===v?void 0:v.guide,C=null===(g=null===y||void 0===y?void 0:y.x)||void 0===g?void 0:g.guide,S={x:{facet:!1},y:{facet:!1}},_={x:HH(C)(d,e),y:$H(O)(d,e)},E={x:{tickCount:5},y:{tickCount:5}};return Object.assign({data:e,parentKey:o,key:`${m}-${t}`,x:n+u+r,y:a+h+i,width:s,height:l,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,frame:!0,scale:Bd(S,y),axis:Bd(E,x,_),legend:!1,encode:Bd({},b,{x:c,y:f})},w)}))}))};return{children:a}})),WH=dH((t=>{const{encode:e}=t,n=DH(t,["encode"]),{position:r=[],x:i=r,y:o=[...r].reverse()}=e,a=DH(e,["position","x","y"]),s=[];for(const l of[i].flat(1))for(const t of[o].flat(1))s.push({$x:l,$y:t});return Object.assign(Object.assign({},n),{data:s,encode:Object.assign(Object.assign({},a),{x:"$x",y:"$y"}),scale:Object.assign(Object.assign({},1===[i].flat(1).length&&{x:{paddingInner:0}}),1===[o].flat(1).length&&{y:{paddingInner:0}})})}));function HH(t){return"function"===typeof t?t:null===t?()=>null:(e,n)=>{const{rowIndex:r,rowValuesLength:i}=e;if(r!==i-1)return RH(t,n)}}function $H(t){return"function"===typeof t?t:null===t?()=>null:(e,n)=>{const{columnIndex:r}=e;if(0!==r)return RH(t,n)}}const GH=()=>t=>{const e=CH.of(t).call(TH).call(EH).call(zH).call(WH).call(MH).call(kH).call(FH).value();return[e]};var VH=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const YH=fH((t=>({scale:{x:{guide:{type:"axisArc"},paddingOuter:0,paddingInner:.1},y:{guide:null,range:[0,1],paddingOuter:0,paddingInner:.1}}}))),UH=fH((t=>({coordinate:{type:"polar"}}))),XH=t=>{const{encode:e}=t,n=VH(t,["encode"]),{position:r}=e;return Object.assign(Object.assign({},n),{encode:{x:r}})};function qH(t){return t=>null}function KH(t){const{points:e}=t,[n,r,i,o]=e,a=oE(n,o),s=rE(n,o),l=rE(r,i),c=lE(s,l),u=1/Math.sin(c/2),h=a/(1+u),f=h*Math.sqrt(2),[d,p]=i,v=sE(s),g=v+c/2,y=h*u,m=d+y*Math.sin(g),b=p+y*Math.cos(g);return[m-f/2,b-f/2,f,f]}const ZH=()=>t=>{const e=CH.of(t).call(TH).call(XH).call(EH).call(UH).call(AH).call(LH,KH,qH,qH,{frame:!1}).call(MH).call(kH).call(YH).value();return[e]};function QH(t,e,n){const r=0,i=n,o=[r,i],a=[1-i,1-r];return"normal"===t?o:"reverse"===t?a:"alternate"===t?e%2===0?o:a:"reverse-alternate"===t?e%2===0?a:o:void 0}function JH(t,e,n){const r=[t];while(r.length){const t=r.pop();t.animate=Bd({enter:{duration:e},update:{duration:e,easing:n,type:"morphing",fill:"both"},exit:{type:"fadeOut",duration:e}},t.animate||{});const{children:i}=t;Array.isArray(i)&&r.push(...i)}return t}const t$=()=>t=>{const{children:e=[],duration:n=1e3,iterationCount:r=1,direction:i="normal",easing:o="ease-in-out-sine"}=t,a=e.length;if(!Array.isArray(e)||0===a)return[];const{key:s}=e[0],l=e.map((t=>Object.assign(Object.assign({},t),{key:s}))).map((t=>JH(t,n,o)));return function*(){let t,e=0;while("infinite"===r||e<r){const[n,r]=QH(i,e,a);for(let e=n;e<r;e+=1){const n=Math.abs(e);t!==n&&(yield l[n]),t=n}e++}}};function e$(t,e){if(null!==t)return{type:"column",value:t,field:e}}function n$(t,e){const n=e$(t,e);return Object.assign(Object.assign({},n),{inferred:!0})}function r$(t,e){if(null!==t)return{type:"column",value:t,field:e,visual:!0}}function i$(t,e){const n=e$(t,e);return Object.assign(Object.assign({},n),{constant:!1})}function o$(t,e){const n=[];for(const r of t)n[r]=e;return n}function a$(t,e){const n=t[e];if(!n)return[null,null];const{value:r,field:i=null}=n;return[r,i]}function s$(t,...e){for(const n of e){if("string"!==typeof n)return[n,null];{const[e,r]=a$(t,n);if(null!==e)return[e,r]}}return[null,null]}function l$(t){return!(t instanceof Date)&&"object"===typeof t}t$.props={};const c$=()=>(t,e)=>{const{encode:n}=e,{y1:r}=n;return void 0!==r?[t,e]:[t,Bd({},e,{encode:{y1:n$(o$(t,0))}})]};function u$(t,e,n){const{encode:r}=n;if(null===t)return[e];const i=p$(t).map((t=>{var e;return[t,null===(e=a$(r,t))||void 0===e?void 0:e[0]]})).filter((([,t])=>Wg(t))),o=t=>i.map((([,e])=>e[t])).join("-");return Array.from(cv(e,o).values())}function h$(t){return Array.isArray(t)?y$(t):"function"===typeof t?g$(t):"series"===t?v$:"value"===t?m$:"sum"===t?b$:"maxIndex"===t?x$:()=>null}function f$(t,e){for(const n of t)n.sort(e)}function d$(t,e){return(null===e||void 0===e?void 0:e.domain)||Array.from(new Set(t))}function p$(t){return Array.isArray(t)?t:[t]}function v$(t,e,n){return w$((t=>n[t]))}function g$(t){return(e,n,r)=>w$((n=>t(e[n])))}function y$(t){return(e,n,r)=>(n,r)=>t.reduce(((t,i)=>0!==t?t:um(e[n][i],e[r][i])),0)}function m$(t,e,n){return w$((t=>e[t]))}function b$(t,e,n){const r=K_(t),i=Array.from(cv(r,(t=>n[+t])).entries()),o=new Map(i.map((([t,n])=>[t,n.reduce(((t,n)=>t+ +e[n]))])));return w$((t=>o.get(n[t])))}function x$(t,e,n){const r=K_(t),i=Array.from(cv(r,(t=>n[+t])).entries()),o=new Map(i.map((([t,n])=>[t,lm(n,(t=>e[t]))])));return w$((t=>o.get(n[t])))}function w$(t){return(e,n)=>um(t(e),t(n))}c$.props={};const O$=(t={})=>{const{groupBy:e="x",orderBy:n=null,reverse:r=!1,y:i="y",y1:o="y1",series:a=!0}=t;return(t,s)=>{const{data:l,encode:c,style:u={}}=s,[h,f]=a$(c,"y"),[d,p]=a$(c,"y1"),[v]=a?s$(c,"series","color"):a$(c,"color"),g=u$(e,t,s),y=h$(n),m=y(l,h,v);m&&f$(g,m);const b=new Array(t.length),x=new Array(t.length),w=new Array(t.length),O=[],C=[];for(const e of g){r&&e.reverse();const t=d?+d[e[0]]:0,n=[],i=[];for(const r of e){const e=w[r]=+h[r]-t;e<0?i.push(r):e>=0&&n.push(r)}const o=n.length>0?n:i,a=i.length>0?i:n;let s=n.length-1,l=0;while(s>0&&0===h[o[s]])s--;while(l<a.length-1&&0===h[a[l]])l++;O.push(o[s]),C.push(a[l]);let c=t;for(const e of i.reverse()){const t=w[e];c=b[e]=(x[e]=c)+t}let u=t;for(const e of n){const t=w[e];t>0?u=b[e]=(x[e]=u)+t:b[e]=x[e]=u}}const S=new Set(O),_=new Set(C),E="y"===i?b:x,M="y"===o?b:x;return[t,Bd({},s,{encode:{y0:n$(h,f),y:e$(E,f),y1:e$(M,p)},style:Object.assign({first:(t,e)=>S.has(e),last:(t,e)=>_.has(e)},u)})]}};function C$(t){const{type:e}=t,n=["stackY","dodgeX","groupX"];return"string"===typeof e&&n.includes(e)}O$.props={};const S$=t=>(e,n,r)=>{const{encode:i,transform:o=[]}=n;if(o.some(C$))return[e,n];const{x:a,y:s}=i;if(void 0===a||void 0===s)return[e,n];const{series:l}=t,c=l?["x","series"]:"x";return O$({groupBy:c})(e,n,r)};S$.props={};const _$=(t={})=>{const{channel:e="x"}=t;return(t,n)=>{const{encode:r}=n,{tooltip:i}=n;if(Kg(i))return[t,n];const{title:o}=i;if(void 0!==o)return[t,n];const a=Object.keys(r).filter((t=>t.startsWith(e))).filter((t=>!r[t].inferred)).map((t=>a$(r,t))).filter((([t])=>t)).map((t=>t[0]));if(0===a.length)return[t,n];const s=[];for(const e of t)s[e]={value:a.map((t=>t[e])).join(", ")};return[t,Bd({},n,{tooltip:{title:s}})]}};_$.props={};const E$=()=>(t,e)=>{const{encode:n}=e,{x:r}=n;return void 0!==r?[t,e]:[t,Bd({},e,{encode:{x:n$(o$(t,0))},scale:{x:{guide:null}}})]};E$.props={};const M$=()=>(t,e)=>{const{encode:n}=e,{y:r}=n;return void 0!==r?[t,e]:[t,Bd({},e,{encode:{y:n$(o$(t,0))},scale:{y:{guide:null}}})]};M$.props={};const k$=()=>(t,e)=>{const{encode:n}=e,{size:r}=n;return void 0!==r?[t,e]:[t,Bd({},e,{encode:{size:r$(o$(t,3))}})]};k$.props={};var T$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const A$=()=>(t,e)=>{const{encode:n}=e,{key:r}=n,i=T$(n,["key"]);if(void 0!==r)return[t,e];const o=Object.values(i).map((({value:t})=>t)),a=t.map((t=>o.filter(Array.isArray).map((e=>e[t])).join("-")));return[t,Bd({},e,{encode:{key:e$(a)}})]};A$.props={};const L$=()=>(t,e)=>{const{encode:n}=e,{series:r,color:i}=n;if(void 0!==r||void 0===i)return[t,e];const[o,a]=a$(n,"color");return[t,Bd({},e,{encode:{series:e$(o,a)}})]};L$.props={};const P$=()=>(t,e)=>{const{data:n}=e;return!Array.isArray(n)||n.some(l$)?[t,e]:[t,Bd({},e,{encode:{y:e$(n)}})]};P$.props={};const R$=()=>(t,e)=>{const{data:n}=e;return!Array.isArray(n)||n.some(l$)?[t,e]:[t,Bd({},e,{encode:{x:e$(n)}})]};R$.props={};const I$=()=>(t,e)=>{const{encode:n}=e,{y1:r}=n;if(r)return[t,e];const[i]=a$(n,"y");return[t,Bd({},e,{encode:{y1:e$([...i])}})]};I$.props={};const N$=()=>(t,e)=>{const{encode:n}=e,{x1:r}=n;if(r)return[t,e];const[i]=a$(n,"x");return[t,Bd({},e,{encode:{x1:e$([...i])}})]};N$.props={};const j$=t=>{const{channel:e}=t;return(t,n)=>{const{encode:r,tooltip:i}=n;if(Kg(i))return[t,n];const{items:o=[]}=i;if(!o||o.length>0)return[t,n];const a=Array.isArray(e)?e:[e],s=a.flatMap((t=>Object.keys(r).filter((e=>e.startsWith(t))).map((t=>{const{field:e,value:n,inferred:i=!1,aggregate:o}=r[t];return i?null:o&&n?{channel:t}:e?{field:e}:n?{channel:t}:null})).filter((t=>null!==t))));return[t,Bd({},n,{tooltip:{items:s}})]}};j$.props={};const B$=()=>(t,e)=>[t,Bd({scale:{x:{padding:0},y:{padding:0}}},e)];B$.props={};var D$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const F$=()=>(t,e)=>{const{data:n,style:r={}}=e,i=D$(e,["data","style"]),{x:o,y:a}=r,s=D$(r,["x","y"]);if(void 0==o||void 0==a)return[t,e];const l=o||0,c=a||0;return[[0],Bd({},i,{data:[0],cartesian:!0,encode:{x:e$([l]),y:e$([c])},scale:{x:{type:"identity",independent:!0,guide:null},y:{type:"identity",independent:!0,guide:null}},style:s})]};F$.props={};const z$=()=>(t,e)=>{const{style:n={}}=e;return[t,Bd({},e,{style:Object.assign(Object.assign({},n),Object.fromEntries(Object.entries(n).filter((([,t])=>"function"===typeof t)).map((([t,e])=>[t,()=>e]))))})]};z$.props={};const W$=()=>(t,e)=>{const{data:n}=e;if(!Array.isArray(n)||n.some(l$))return[t,e];const r=Array.isArray(n[0])?n:[n],i=r.map((t=>t[0])),o=r.map((t=>t[1]));return[t,Bd({},e,{encode:{x:e$(i),y:e$(o)}})]};W$.props={};const H$=()=>(t,e)=>{const{style:n={},encode:r}=e,{series:i}=r,{gradient:o}=n;return!o||i?[t,e]:[t,Bd({},e,{encode:{series:r$(o$(t,void 0))}})]};H$.props={};var $$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const G$=(t={})=>{const{groupBy:e="x",reverse:n=!1,orderBy:r,padding:i}=t;$$(t,["groupBy","reverse","orderBy","padding"]);return(t,o)=>{const{data:a,encode:s,scale:l}=o,{series:c}=l,[u]=a$(s,"y"),[h]=s$(s,"series","color"),f=d$(h,c),d=u$(e,t,o),p=h$(r),v=p(a,u,h);v&&f$(d,v);const g=new Array(t.length);for(const e of d){n&&e.reverse();for(let t=0;t<e.length;t++)g[e[t]]=f[t]}return[t,Bd({},o,{scale:{series:{domain:f,paddingInner:i}},encode:{series:e$(g)}})]}};G$.props={};const V$=t=>{const{groupBy:e=["x"],reducer:n=((t,e)=>e[t[0]]),orderBy:r=null,reverse:i=!1,duration:o}=t;return(t,a)=>{const{encode:s}=a,l=Array.isArray(e)?e:[e],c=l.map((t=>[t,a$(s,t)[0]]));if(0===c.length)return[t,a];let u=[t];for(const[,e]of c){const t=[];for(const n of u){const r=Array.from(cv(n,(t=>e[t])).values());t.push(...r)}u=t}if(r){const[t]=a$(s,r);t&&u.sort(((e,r)=>n(e,t)-n(r,t))),i&&u.reverse()}const h=(o||3e3)/u.length,[f]=o?[o$(t,h)]:s$(s,"enterDuration",o$(t,h)),[d]=s$(s,"enterDelay",o$(t,0)),p=new Array(t.length);for(let e=0,n=0;e<u.length;e++){const t=u[e],r=cg(t,(t=>+f[t]));for(const e of t)p[e]=+d[e]+n;n+=r}return[t,Bd({},a,{encode:{enterDuration:r$(f),enterDelay:r$(p)}})]}};function Y$(t,e){return xm(t,.5,e)}function U$(t,e){return wm(t,.5,e)}function X$(t,e){let n,r=0,i=0,o=0;if(void 0===e)for(let a of t)null!=a&&(a=+a)>=a&&(n=a-i,i+=n/++r,o+=n*(a-i));else{let a=-1;for(let s of t)null!=(s=e(s,++a,t))&&(s=+s)>=s&&(n=s-i,i+=n/++r,o+=n*(s-i))}if(r>1)return o/(r-1)}function q$(t,e){const n=X$(t,e);return n?Math.sqrt(n):n}V$.props={};var K$=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Z$(t){if("function"===typeof t)return t;const e={min:(t,e)=>ug(t,(t=>e[+t])),max:(t,e)=>cg(t,(t=>e[+t])),first:(t,e)=>e[t[0]],last:(t,e)=>e[t[t.length-1]],mean:(t,e)=>bz(t,(t=>e[+t])),median:(t,e)=>Y$(t,(t=>e[+t])),sum:(t,e)=>lg(t,(t=>e[+t])),deviation:(t,e)=>q$(t,(t=>e[+t]))};return e[t]||cg}const Q$=(t={})=>{const{groupBy:e="x",basis:n="max"}=t;return(t,r)=>{const{encode:i,tooltip:o}=r,{x:a}=i,s=K$(i,["x"]),l=Object.entries(s).filter((([t])=>t.startsWith("y"))).map((([t])=>[t,a$(i,t)[0]])),[,c]=l.find((([t])=>"y"===t)),u=l.map((([e])=>[e,new Array(t.length)])),h=u$(e,t,r),f=Z$(n);for(const e of h){const t=f(e,c);for(const n of e)for(let e=0;e<l.length;e++){const[,r]=l[e],[,i]=u[e];i[n]=+r[n]/t}}const d=Kg(o)||(null===o||void 0===o?void 0:o.items)&&0!==(null===o||void 0===o?void 0:o.items.length);return[t,Bd({},r,Object.assign({encode:Object.fromEntries(u.map((([t,e])=>[t,e$(e,a$(i,t)[1])])))},!d&&i.y0&&{tooltip:{items:[{channel:"y0"}]}}))]}};function J$(t,e,n){if(null===t)return[-.5,.5];const r=d$(t,e),i=new kS({domain:r,range:[0,1],padding:n}),o=i.getBandWidth();return[-o/2,o/2]}function tG(t,e,n){return e*(1-t)+n*t}Q$.props={};const eG=(t={})=>{const{padding:e=0,paddingX:n=e,paddingY:r=e,random:i=Math.random}=t;return(t,e)=>{const{encode:o,scale:a}=e,{x:s,y:l}=a,[c]=a$(o,"x"),[u]=a$(o,"y"),h=J$(c,s,n),f=J$(u,l,r),d=t.map((()=>tG(i(),...f))),p=t.map((()=>tG(i(),...h)));return[t,Bd({scale:{x:{padding:.5},y:{padding:.5}}},e,{encode:{dy:e$(d),dx:e$(p)}})]}};eG.props={};const nG=(t={})=>{const{padding:e=0,random:n=Math.random}=t;return(t,r)=>{const{encode:i,scale:o}=r,{x:a}=o,[s]=a$(i,"x"),l=J$(s,a,e),c=t.map((()=>tG(n(),...l)));return[t,Bd({scale:{x:{padding:.5}}},r,{encode:{dx:e$(c)}})]}};nG.props={};var rG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const iG=(t={})=>{const{groupBy:e="x"}=t;return(t,n)=>{const{encode:r}=n,{x:i}=r,o=rG(r,["x"]),a=Object.entries(o).filter((([t])=>t.startsWith("y"))).map((([t])=>[t,a$(r,t)[0]])),s=a.map((([e])=>[e,new Array(t.length)])),l=u$(e,t,n),c=new Array(l.length);for(let e=0;e<l.length;e++){const t=l[e],n=t.flatMap((t=>a.map((([,e])=>+e[t])))),[r,i]=X_(n);c[e]=(r+i)/2}const u=Math.max(...c);for(let e=0;e<l.length;e++){const t=u-c[e],n=l[e];for(const e of n)for(let n=0;n<a.length;n++){const[,r]=a[n],[,i]=s[n];i[e]=+r[e]+t}}return[t,Bd({},n,{encode:Object.fromEntries(s.map((([t,e])=>[t,e$(e,a$(r,t)[1])])))})]}};iG.props={};const oG=(t={})=>{const{groupBy:e="x",series:n=!0}=t;return(t,r)=>{const{encode:i}=r,[o]=a$(i,"y"),[a,s]=a$(i,"y1"),[l]=n?s$(i,"series","color"):a$(i,"color"),c=u$(e,t,r),u=new Array(t.length);for(const e of c){const t=e.map((t=>+o[t]));for(let n=0;n<e.length;n++){const r=e[n],i=Math.max(...t.filter(((t,e)=>e!==n)));u[r]=o[r]>i?i:o[r]}}return[t,Bd({},r,{encode:{y1:e$(u,s)}})]}};function aG(t,e){return[t[0]]}function sG(t,e){const n=t.length-1;return[t[n]]}function lG(t,e){const n=lm(t,(t=>e[t]));return[t[n]]}function cG(t,e){const n=cm(t,(t=>e[t]));return[t[n]]}function uG(t){if("function"===typeof t)return t;const e={first:aG,last:sG,max:lG,min:cG};return e[t]||aG}oG.props={};const hG=(t={})=>{const{groupBy:e="series",channel:n,selector:r}=t;return(t,i)=>{const{encode:o}=i,a=u$(e,t,i),[s]=a$(o,n),l=uG(r);return[a.flatMap((t=>l(t,s))),i]}};hG.props={};var fG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const dG=(t={})=>{const{selector:e}=t,n=fG(t,["selector"]);return hG(Object.assign({channel:"x",selector:e},n))};dG.props={};var pG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const vG=(t={})=>{const{selector:e}=t,n=pG(t,["selector"]);return hG(Object.assign({channel:"y",selector:e},n))};vG.props={};var gG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function yG(t){return e=>null===e?t:`${t} of ${e}`}function mG(t){if("function"===typeof t)return[t,null];const e={mean:bG,max:wG,count:CG,first:_G,last:EG,sum:SG,min:OG,median:xG},n=e[t];if(!n)throw new Error(`Unknown reducer: ${t}.`);return n()}function bG(){const t=(t,e)=>bz(t,(t=>+e[t])),e=yG("mean");return[t,e]}function xG(){const t=(t,e)=>Y$(t,(t=>+e[t])),e=yG("median");return[t,e]}function wG(){const t=(t,e)=>cg(t,(t=>+e[t])),e=yG("max");return[t,e]}function OG(){const t=(t,e)=>ug(t,(t=>+e[t])),e=yG("min");return[t,e]}function CG(){const t=(t,e)=>t.length,e=yG("count");return[t,e]}function SG(){const t=(t,e)=>lg(t,(t=>+e[t])),e=yG("sum");return[t,e]}function _G(){const t=(t,e)=>e[t[0]],e=yG("first");return[t,e]}function EG(){const t=(t,e)=>e[t[t.length-1]],e=yG("last");return[t,e]}const MG=(t={})=>{const{groupBy:e}=t,n=gG(t,["groupBy"]);return(t,r)=>{const{data:i,encode:o}=r,a=e(t,r);if(!a)return[t,r];const s=(t,e)=>{if(t)return t;const{from:n}=e;if(!n)return t;const[,r]=a$(o,n);return r},l=Object.entries(n).map((([t,e])=>{const[n,r]=mG(e),[l,c]=a$(o,t),u=s(c,e),h=a.map((t=>n(t,null!==l&&void 0!==l?l:i)));return[t,Object.assign(Object.assign({},i$(h,(null===r||void 0===r?void 0:r(u))||u)),{aggregate:!0})]})),c=Object.keys(o).map((t=>{const[e,n]=a$(o,t),r=a.map((t=>e[t[0]]));return[t,e$(r,n)]})),u=a.map((t=>i[t[0]])),h=K_(a);return[h,Bd({},r,{data:u,encode:Object.fromEntries([...c,...l])})]}};MG.props={};var kG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const TG=(t={})=>{const{channels:e=["x","y"]}=t,n=kG(t,["channels"]),r=(t,n)=>u$(e,t,n);return MG(Object.assign(Object.assign({},n),{groupBy:r}))};TG.props={};const AG=(t={})=>TG(Object.assign(Object.assign({},t),{channels:["x","color","series"]}));AG.props={};const LG=(t={})=>TG(Object.assign(Object.assign({},t),{channels:["y","color","series"]}));LG.props={};const PG=(t={})=>TG(Object.assign(Object.assign({},t),{channels:["color"]}));function RG(t,e,n){return(2!==e.length?fm(hv(t,e,n),(([t,e],[n,r])=>um(e,r)||um(t,n))):fm(cv(t,n),(([t,n],[r,i])=>e(n,i)||um(t,r)))).map((([t])=>t))}PG.props={};var IG=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function NG(t,e,n){const{by:r=t,reducer:i="max"}=e,[o]=a$(n,r);if("function"===typeof i)return t=>i(t,o);if("max"===i)return t=>cg(t,(t=>+o[t]));if("min"===i)return t=>ug(t,(t=>+o[t]));if("sum"===i)return t=>lg(t,(t=>+o[t]));if("median"===i)return t=>Y$(t,(t=>+o[t]));if("mean"===i)return t=>bz(t,(t=>+o[t]));if("first"===i)return t=>o[t[0]];if("last"===i)return t=>o[t[t.length-1]];throw new Error(`Unknown reducer: ${i}`)}function jG(t,e,n){const{reverse:r,channel:i}=n,{encode:o}=e,[a]=a$(o,i),s=fm(t,(t=>a[t]));return r&&s.reverse(),[s,e]}function BG(t,e,n){if(!Array.isArray(n))return t;const r=new Set(n);return t.filter((t=>r.has(e[t])))}function DG(t,e,n){var r;const{reverse:i,slice:o,channel:a}=n,s=IG(n,["reverse","slice","channel"]),{encode:l,scale:c={}}=e,u=null===(r=c[a])||void 0===r?void 0:r.domain,[h]=a$(l,a),f=NG(a,s,l),d=BG(t,h,u),p=RG(d,f,(t=>h[t]));i&&p.reverse();const v="number"===typeof o?[0,o]:o,g=o?p.slice(...v):p;return[t,Bd(e,{scale:{[a]:{domain:g}}})]}const FG=(t={})=>{const{reverse:e=!1,slice:n,channel:r,ordinal:i=!0}=t,o=IG(t,["reverse","slice","channel","ordinal"]);return(t,a)=>i?DG(t,a,Object.assign({reverse:e,slice:n,channel:r},o)):jG(t,a,Object.assign({reverse:e,slice:n,channel:r},o))};FG.props={};const zG=(t={})=>FG(Object.assign(Object.assign({},t),{channel:"x"}));zG.props={};const WG=(t={})=>FG(Object.assign(Object.assign({},t),{channel:"color"}));WG.props={};const HG=(t={})=>FG(Object.assign(Object.assign({},t),{channel:"y"}));function $G(t,e){return"string"===typeof e?t.map((t=>t[e])):t.map(e)}function GG(t,e){if("function"===typeof t)return n=>t(n,e);if("sum"===t)return t=>lg(t,(t=>+e[t]));throw new Error(`Unknown reducer: ${t}`)}HG.props={};const VG=(t={})=>{const{field:e,channel:n="y",reducer:r="sum"}=t;return(t,i)=>{const{data:o,encode:a}=i,[s]=a$(a,"x"),l=e?$G(o,e):a$(a,n)[0],c=GG(r,l),u=fv(t,c,(t=>s[t])).map((t=>t[1]));return[t,Bd({},i,{scale:{x:{flex:u}}})]}};function YG(t,e,n){const r=t.length;if(0===r)return[];const{innerWidth:i,innerHeight:o}=n,a=o/i;let s=Math.ceil(Math.sqrt(e/a)),l=i/s,c=Math.ceil(e/s),u=c*l;while(u>o)s+=1,l=i/s,c=Math.ceil(e/s),u=c*l;const h=o-c*l,f=c<=1?0:h/(c-1),[d,p]=c<=1?[(i-r*l)/(r-1),(o-l)/2]:[0,0];return t.map(((t,e)=>{const[n,r,i,o]=cE(t),a=e%s,u=Math.floor(e/s),v=a*l,g=(c-u-1)*l+h,y=l/i,m=l/o,b=v-n+d*a,x=g-r-f*u-p;return`translate(${b}, ${x}) scale(${y}, ${m})`}))}VG.props={};const UG=()=>(t,e)=>[t,Bd({},e,{modifier:YG,axis:!1})];function XG(t,e){let n=0;if(void 0===e)for(let r of t)null!=r&&(r=+r)>=r&&++n;else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(i=+i)>=i&&++n}return n}function qG(t,e,n){const r=XG(t),i=q$(t);return r&&i?Math.ceil((n-e)*Math.cbrt(r)/(3.49*i)):1}UG.props={};var KG=Array.prototype,ZG=KG.slice;KG.map;function QG(t){return()=>t}const JG=Math.sqrt(50),tV=Math.sqrt(10),eV=Math.sqrt(2);function nV(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=JG?10:o>=tV?5:o>=eV?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?nV(t,e,2*n):[s,l,c]}function rV(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?nV(e,t,n):nV(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function iV(t,e,n){return e=+e,t=+t,n=+n,nV(t,e,n)[2]}function oV(t,e,n){let r;while(1){const i=iV(t,e,n);if(i===r||0===i||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function aV(t){return Math.max(1,Math.ceil(Math.log(XG(t))/Math.LN2)+1)}function sV(){var t=lv,e=X_,n=aV;function r(r){Array.isArray(r)||(r=Array.from(r));var i,o,a,s=r.length,l=new Array(s);for(i=0;i<s;++i)l[i]=t(r[i],i,r);var c=e(l),u=c[0],h=c[1],f=n(l,u,h);if(!Array.isArray(f)){const t=h,n=+f;if(e===X_&&([u,h]=oV(u,h,n)),f=rV(u,h,n),f[0]<=u&&(a=iV(u,h,n)),f[f.length-1]>=h)if(t>=h&&e===X_){const t=iV(u,h,n);isFinite(t)&&(t>0?h=(Math.floor(h/t)+1)*t:t<0&&(h=(Math.ceil(h*-t)+1)/-t))}else f.pop()}var d=f.length,p=0,v=d;while(f[p]<=u)++p;while(f[v-1]>h)--v;(p||v<d)&&(f=f.slice(p,v),d=v-p);var g,y=new Array(d+1);for(i=0;i<=d;++i)g=y[i]=[],g.x0=i>0?f[i-1]:u,g.x1=i<d?f[i]:h;if(isFinite(a)){if(a>0)for(i=0;i<s;++i)null!=(o=l[i])&&u<=o&&o<=h&&y[Math.min(d,Math.floor((o-u)/a))].push(r[i]);else if(a<0)for(i=0;i<s;++i)if(null!=(o=l[i])&&u<=o&&o<=h){const t=Math.floor((u-o)*a);y[Math.min(d,t+(f[t]<=o))].push(r[i])}}else for(i=0;i<s;++i)null!=(o=l[i])&&u<=o&&o<=h&&y[LD(f,o,0,d)].push(r[i]);return y}return r.value=function(e){return arguments.length?(t="function"===typeof e?e:QG(e),r):t},r.domain=function(t){return arguments.length?(e="function"===typeof t?t:QG([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"===typeof t?t:QG(Array.isArray(t)?ZG.call(t):t),r):n},r}var lV=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const cV="thresholds";function uV(t){const[e,n]=X_(t);return Math.min(200,qG(t,e,n))}const hV=(t={})=>{const{groupChannels:e=["color"],binChannels:n=["x","y"]}=t,r=lV(t,["groupChannels","binChannels"]),i={},o=(t,o)=>{const{encode:a}=o,s=n.map((t=>{const[e]=a$(a,t);return e})),l=Gg(r,cV),c=t.filter((t=>s.every((e=>Wg(e[t]))))),u=[...e.map((t=>{const[e]=a$(a,t);return e})).filter(Wg).map((t=>e=>t[e])),...n.map(((t,e)=>{const n=s[e],r=l[t]||uV(n),o=sV().thresholds(r).value((t=>+n[t]))(c),a=new Map(o.flatMap((t=>{const{x0:e,x1:n}=t,r=`${e},${n}`;return t.map((t=>[t,r]))})));return i[t]=a,t=>a.get(t)}))],h=t=>u.map((e=>e(t))).join("-");return Array.from(cv(c,h).values())};return MG(Object.assign(Object.assign(Object.assign({},Object.fromEntries(Object.entries(r).filter((([t])=>!t.startsWith(cV))))),Object.fromEntries(n.flatMap((t=>{const e=([e])=>+i[t].get(e).split(",")[0],n=([e])=>+i[t].get(e).split(",")[1];return n.from=t,[[t,e],[`${t}1`,n]]})))),{groupBy:o}))};hV.props={};const fV=(t={})=>{const{thresholds:e}=t;return hV(Object.assign(Object.assign({},t),{thresholdsX:e,groupChannels:["color"],binChannels:["x"]}))};function dV(t,e,n,r){const i=t.length;if(r>=i||0===r)return t;const o=n=>1*e[t[n]],a=e=>1*n[t[e]],s=[],l=(i-2)/(r-2);let c,u,h,f=0;s.push(f);for(let d=0;d<r-2;d++){let t=0,e=0,n=Math.floor((d+1)*l)+1,r=Math.floor((d+2)*l)+1;r=Math.min(r,i);const p=r-n;for(;n<r;n++)t+=o(n),e+=a(n);t/=p,e/=p;let v=Math.floor((d+0)*l)+1;const g=Math.floor((d+1)*l)+1,y=[o(f),a(f)];for(c=u=-1;v<g;v++)u=.5*Math.abs((y[0]-t)*(o(v)-y[1])-(y[0]-a(v))*(e-y[0])),u>c&&(c=u,h=v);s.push(h),f=h}return s.push(i-1),s.map((e=>t[e]))}function pV(t){if("function"===typeof t)return t;if("lttb"===t)return dV;const e={first:t=>[t[0]],last:t=>[t[t.length-1]],min:(t,e,n)=>[t[cm(t,(t=>n[t]))]],max:(t,e,n)=>[t[lm(t,(t=>n[t]))]],median:(t,e,n)=>[t[U$(t,(t=>n[t]))]]},n=e[t]||e.median;return(t,e,r,i)=>{const o=Math.max(1,Math.floor(t.length/i)),a=vV(t,o);return a.flatMap((t=>n(t,e,r)))}}function vV(t,e){const n=t.length,r=[];let i=0;while(i<n)r.push(t.slice(i,i+=e));return r}fV.props={};const gV=(t={})=>{const{strategy:e="median",thresholds:n=2e3,groupBy:r=["series","color"]}=t,i=pV(e);return(t,e)=>{const{encode:o}=e,a=u$(r,t,e),[s]=a$(o,"x"),[l]=a$(o,"y");return[a.flatMap((t=>i(t,s,l,n))),e]}};gV.props={};const yV=(t={})=>(e,n)=>{const{encode:r,data:i}=n,o=Object.entries(t).map((([t,e])=>{const[n]=a$(r,t);if(!n)return null;if("function"===typeof e)return t=>e(n[t]);const i=Array.isArray(e)?e:[e];return 0===i.length?null:t=>i.includes(n[t])})).filter(Wg);if(0===o.length)return[e,n];const a=t=>o.every((e=>e(t))),s=e.filter(a),l=s.map(((t,e)=>e)),c=Object.entries(r).map((([t,e])=>[t,Object.assign(Object.assign({},e),{value:l.map((t=>e.value[s[t]]))})]));return[l,Bd({},n,{encode:Object.fromEntries(c),data:s.map((t=>i[t]))})]};function mV(t){const{min:e,max:n}=t;return[[e[0],e[1]],[n[0],n[1]]]}function bV(t,e){const[n,r]=t,[i,o]=e;return n>=i[0]&&n<=o[0]&&r>=i[1]&&r<=o[1]}function xV(t,e){const[n,r]=t;return!(bV(n,e)&&bV(r,e))}function wV(t,e){const[n,r]=t,[i,o]=e;return n[0]<o[0]&&r[0]>i[0]&&n[1]<o[1]&&r[1]>i[1]}yV.props={};const OV=t=>{const{priority:e}=t;return t=>{const n=[];return e&&t.sort(e),t.forEach((t=>{kF(t);const e=t.getLocalBounds(),r=n.some((t=>wV(mV(e),mV(t.getLocalBounds()))));r?MF(t):n.push(t)})),t}};function CV([t,e],[n,r]){return r>t&&e>n}function SV(){const t=new Map,e=e=>t.get(e),n=(e,n)=>t.set(e,n);return[e,n]}function _V(t){const e=t.cloneNode(!0),n=e.getElementById("connector");n&&e.removeChild(n);const{min:r,max:i}=e.getRenderBounds();return e.destroy(),{min:r,max:i}}const EV=t=>{const{maxIterations:e=10,maxError:n=.1,padding:r=1}=t;return t=>{const i=t.length;if(i<=1)return t;const[o,a]=SV(),[s,l]=SV(),[c,u]=SV(),[h,f]=SV();for(const e of t){const{min:t,max:n}=_V(e),[r,i]=t,[o,s]=n;a(e,i),l(e,i),u(e,s-i),f(e,[r,o])}for(let d=0;d<e;d++){t.sort(((t,e)=>um(s(t),s(e))));let e=0;for(let n=0;n<i-1;n++){const i=t[n];let o,a=n+1;while((o=t[a])&&!CV(h(i),h(o)))a+=1;if(o){const t=s(i),n=c(i),a=s(o),u=a-(t+n);if(u<r){const n=(r-u)/2;e=Math.max(e,n),l(i,t-n),l(o,a+n)}}}if(e<n)break}for(const e of t)e.style.y+=s(e)-o(e);return t}};function MV(t){return"object"===typeof t?t:zo(t)}function kV(t){let e=t/255;return e=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),e}function TV(t,e,n){return.2126*kV(t)+.7152*kV(e)+.0722*kV(n)}function AV(t,e){const{r:n,g:r,b:i}=t,{r:o,g:a,b:s}=e,l=TV(n,r,i),c=TV(o,a,s);return(Math.max(l,c)+.05)/(Math.min(l,c)+.05)}function LV(t,e){const n=lm(e,(e=>AV(t,MV(e))));return e[n]}const PV=t=>{const{threshold:e=4.5,palette:n=["#000","#fff"]}=t;return t=>(t.forEach((t=>{const r=t.attr("dependentElement").parsedStyle.fill,i=t.parsedStyle.fill,o=AV(i,r);o<e&&t.attr("fill",LV(r,n))})),t)},RV=()=>t=>(t.forEach((t=>{kF(t);const e=t.attr("bounds"),n=t.getLocalBounds(),r=xV(mV(n),e);r&&MF(t)})),t);var IV=t=>t;function NV(t,e){t&&BV.hasOwnProperty(t.type)&&BV[t.type](t,e)}var jV={Feature:function(t,e){NV(t.geometry,e)},FeatureCollection:function(t,e){var n=t.features,r=-1,i=n.length;while(++r<i)NV(n[r].geometry,e)}},BV={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){DV(t.coordinates,e,0)},MultiLineString:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)DV(n[r],e,0)},Polygon:function(t,e){FV(t.coordinates,e)},MultiPolygon:function(t,e){var n=t.coordinates,r=-1,i=n.length;while(++r<i)FV(n[r],e)},GeometryCollection:function(t,e){var n=t.geometries,r=-1,i=n.length;while(++r<i)NV(n[r],e)}};function DV(t,e,n){var r,i=-1,o=t.length-n;e.lineStart();while(++i<o)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function FV(t,e){var n=-1,r=t.length;e.polygonStart();while(++n<r)DV(t[n],e,1);e.polygonEnd()}function zV(t,e){t&&jV.hasOwnProperty(t.type)?jV[t.type](t,e):NV(t,e)}class WV{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=e[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(e[n++]=a),t=o}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,r,i=this._n,o=0;if(i>0){o=t[--i];while(i>0)if(e=o,n=t[--i],o=e+n,r=n-(o-e),r)break;i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(n=2*r,e=o+n,n==e-o&&(o=e))}return o}}var HV=1e-6,$V=1e-12,GV=Math.PI,VV=GV/2,YV=GV/4,UV=2*GV,XV=180/GV,qV=GV/180,KV=Math.abs,ZV=Math.atan,QV=Math.atan2,JV=Math.cos,tY=Math.ceil,eY=Math.exp,nY=(Math.floor,Math.hypot,Math.log),rY=Math.pow,iY=Math.sin,oY=Math.sign||function(t){return t>0?1:t<0?-1:0},aY=Math.sqrt,sY=Math.tan;function lY(t){return t>1?0:t<-1?GV:Math.acos(t)}function cY(t){return t>1?VV:t<-1?-VV:Math.asin(t)}function uY(){}var hY,fY,dY,pY,vY=new WV,gY=new WV,yY={point:uY,lineStart:uY,lineEnd:uY,polygonStart:function(){yY.lineStart=mY,yY.lineEnd=wY},polygonEnd:function(){yY.lineStart=yY.lineEnd=yY.point=uY,vY.add(KV(gY)),gY=new WV},result:function(){var t=vY/2;return vY=new WV,t}};function mY(){yY.point=bY}function bY(t,e){yY.point=xY,hY=dY=t,fY=pY=e}function xY(t,e){gY.add(pY*t-dY*e),dY=t,pY=e}function wY(){xY(hY,fY)}var OY=yY,CY=1/0,SY=CY,_Y=-CY,EY=_Y,MY={point:kY,lineStart:uY,lineEnd:uY,polygonStart:uY,polygonEnd:uY,result:function(){var t=[[CY,SY],[_Y,EY]];return _Y=EY=-(SY=CY=1/0),t}};function kY(t,e){t<CY&&(CY=t),t>_Y&&(_Y=t),e<SY&&(SY=e),e>EY&&(EY=e)}var TY,AY,LY,PY,RY=MY,IY=0,NY=0,jY=0,BY=0,DY=0,FY=0,zY=0,WY=0,HY=0,$Y={point:GY,lineStart:VY,lineEnd:XY,polygonStart:function(){$Y.lineStart=qY,$Y.lineEnd=KY},polygonEnd:function(){$Y.point=GY,$Y.lineStart=VY,$Y.lineEnd=XY},result:function(){var t=HY?[zY/HY,WY/HY]:FY?[BY/FY,DY/FY]:jY?[IY/jY,NY/jY]:[NaN,NaN];return IY=NY=jY=BY=DY=FY=zY=WY=HY=0,t}};function GY(t,e){IY+=t,NY+=e,++jY}function VY(){$Y.point=YY}function YY(t,e){$Y.point=UY,GY(LY=t,PY=e)}function UY(t,e){var n=t-LY,r=e-PY,i=aY(n*n+r*r);BY+=i*(LY+t)/2,DY+=i*(PY+e)/2,FY+=i,GY(LY=t,PY=e)}function XY(){$Y.point=GY}function qY(){$Y.point=ZY}function KY(){QY(TY,AY)}function ZY(t,e){$Y.point=QY,GY(TY=LY=t,AY=PY=e)}function QY(t,e){var n=t-LY,r=e-PY,i=aY(n*n+r*r);BY+=i*(LY+t)/2,DY+=i*(PY+e)/2,FY+=i,i=PY*t-LY*e,zY+=i*(LY+t),WY+=i*(PY+e),HY+=3*i,GY(LY=t,PY=e)}var JY=$Y;function tU(t){this._context=t}tU.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,UV);break}},result:uY};var eU,nU,rU,iU,oU,aU=new WV,sU={point:uY,lineStart:function(){sU.point=lU},lineEnd:function(){eU&&cU(nU,rU),sU.point=uY},polygonStart:function(){eU=!0},polygonEnd:function(){eU=null},result:function(){var t=+aU;return aU=new WV,t}};function lU(t,e){sU.point=cU,nU=iU=t,rU=oU=e}function cU(t,e){iU-=t,oU-=e,aU.add(aY(iU*iU+oU*oU)),iU=t,oU=e}var uU=sU;let hU,fU,dU,pU;class vU{constructor(t){this._append=null==t?gU:yU(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:this._append`M${t},${e}`,this._point=1;break;case 1:this._append`L${t},${e}`;break;default:if(this._append`M${t},${e}`,this._radius!==dU||this._append!==fU){const t=this._radius,e=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,dU=t,fU=this._append,pU=this._,this._=e}this._+=pU;break}}result(){const t=this._;return this._="",t.length?t:null}}function gU(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function yU(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return gU;if(e!==hU){const t=10**e;hU=e,fU=function(e){let n=1;this._+=e[0];for(const r=e.length;n<r;++n)this._+=Math.round(arguments[n]*t)/t+e[n]}}return fU}function mU(t,e){let n,r,i=3,o=4.5;function a(t){return t&&("function"===typeof o&&r.pointRadius(+o.apply(this,arguments)),zV(t,n(r))),r.result()}return a.area=function(t){return zV(t,n(OY)),OY.result()},a.measure=function(t){return zV(t,n(uU)),uU.result()},a.bounds=function(t){return zV(t,n(RY)),RY.result()},a.centroid=function(t){return zV(t,n(JY)),JY.result()},a.projection=function(e){return arguments.length?(n=null==e?(t=null,IV):(t=e).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(e=null,new vU(i)):new tU(e=t),"function"!==typeof o&&r.pointRadius(o),a):e},a.pointRadius=function(t){return arguments.length?(o="function"===typeof t?t:(r.pointRadius(+t),+t),a):o},a.digits=function(t){if(!arguments.length)return i;if(null==t)i=null;else{const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);i=e}return null===e&&(r=new vU(i)),a},a.projection(t).digits(i).context(e)}function bU(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);while(++r<i)o[r]=t+r*n;return o}function xU(t,e,n){var r=bU(t,e-HV,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function wU(t,e,n){var r=bU(t,e-HV,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function OU(){var t,e,n,r,i,o,a,s,l,c,u,h,f=10,d=f,p=90,v=360,g=2.5;function y(){return{type:"MultiLineString",coordinates:m()}}function m(){return bU(tY(r/p)*p,n,p).map(u).concat(bU(tY(s/v)*v,a,v).map(h)).concat(bU(tY(e/f)*f,t,f).filter((function(t){return KV(t%p)>HV})).map(l)).concat(bU(tY(o/d)*d,i,d).filter((function(t){return KV(t%v)>HV})).map(c))}return y.lines=function(){return m().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[u(r).concat(h(a).slice(1),u(n).reverse().slice(1),h(s).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),y.precision(g)):[[r,s],[n,a]]},y.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),y.precision(g)):[[e,o],[t,i]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(p=+t[0],v=+t[1],y):[p,v]},y.stepMinor=function(t){return arguments.length?(f=+t[0],d=+t[1],y):[f,d]},y.precision=function(f){return arguments.length?(g=+f,l=xU(o,i,90),c=wU(e,t,g),u=xU(s,a,90),h=wU(r,n,g),y):g},y.extentMajor([[-180,-90+HV],[180,90-HV]]).extentMinor([[-180,-80-HV],[180,80+HV]])}function CU(){return OU()()}function SU(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:uY,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function _U(t,e){return KV(t[0]-e[0])<HV&&KV(t[1]-e[1])<HV}function EU(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function MU(t,e,n,r,i){var o,a,s=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(_U(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2*HV}s.push(n=new EU(r,t,null,!0)),l.push(n.o=new EU(r,null,n,!1)),s.push(n=new EU(a,t,null,!1)),l.push(n.o=new EU(a,null,n,!0))}})),s.length){for(l.sort(e),kU(s),kU(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;var c,u,h=s[0];while(1){var f=h,d=!0;while(f.v)if((f=f.n)===h)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(o=0,a=c.length;o<a;++o)i.point((u=c[o])[0],u[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(c=f.p.z,o=c.length-1;o>=0;--o)i.point((u=c[o])[0],u[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,d=!d}while(!f.v);i.lineEnd()}}}function kU(t){if(e=t.length){var e,n,r=0,i=t[0];while(++r<e)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function TU(t){return[QV(t[1],t[0]),cY(t[2])]}function AU(t){var e=t[0],n=t[1],r=JV(n);return[r*JV(e),r*iY(e),iY(n)]}function LU(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function PU(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function RU(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function IU(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function NU(t){var e=aY(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function jU(t){return KV(t[0])<=GV?t[0]:oY(t[0])*((KV(t[0])+GV)%UV-GV)}function BU(t,e){var n=jU(e),r=e[1],i=iY(r),o=[iY(n),-JV(n),0],a=0,s=0,l=new WV;1===i?r=VV+HV:-1===i&&(r=-VV-HV);for(var c=0,u=t.length;c<u;++c)if(f=(h=t[c]).length)for(var h,f,d=h[f-1],p=jU(d),v=d[1]/2+YV,g=iY(v),y=JV(v),m=0;m<f;++m,p=x,g=O,y=C,d=b){var b=h[m],x=jU(b),w=b[1]/2+YV,O=iY(w),C=JV(w),S=x-p,_=S>=0?1:-1,E=_*S,M=E>GV,k=g*O;if(l.add(QV(k*_*iY(E),y*C+k*JV(E))),a+=M?S+_*UV:S,M^p>=n^x>=n){var T=PU(AU(d),AU(b));NU(T);var A=PU(o,T);NU(A);var L=(M^S>=0?-1:1)*cY(A[2]);(r>L||r===L&&(T[0]||T[1]))&&(s+=M^S>=0?1:-1)}}return(a<-HV||a<HV&&l<-$V)^1&s}function*DU(t){for(const e of t)yield*e}function FU(t){return Array.from(DU(t))}function zU(t,e,n,r){return function(i){var o,a,s,l=e(i),c=SU(),u=e(c),h=!1,f={point:d,lineStart:v,lineEnd:g,polygonStart:function(){f.point=y,f.lineStart=m,f.lineEnd=b,a=[],o=[]},polygonEnd:function(){f.point=d,f.lineStart=v,f.lineEnd=g,a=FU(a);var t=BU(o,r);a.length?(h||(i.polygonStart(),h=!0),MU(a,HU,t,n,i)):t&&(h||(i.polygonStart(),h=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){l.point(t,e)}function v(){f.point=p,l.lineStart()}function g(){f.point=d,l.lineEnd()}function y(t,e){s.push([t,e]),u.point(t,e)}function m(){u.lineStart(),s=[]}function b(){y(s[0][0],s[0][1]),u.lineEnd();var t,e,n,r,l=u.clean(),f=c.result(),d=f.length;if(s.pop(),o.push(s),s=null,d)if(1&l){if(n=f[0],(e=n.length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&l&&f.push(f.pop().concat(f.shift())),a.push(f.filter(WU))}return f}}function WU(t){return t.length>1}function HU(t,e){return((t=t.x)[0]<0?t[1]-VV-HV:VV-t[1])-((e=e.x)[0]<0?e[1]-VV-HV:VV-e[1])}var $U=zU((function(){return!0}),GU,YU,[-GV,-VV]);function GU(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?GV:-GV,l=KV(o-n);KV(l-GV)<HV?(t.point(n,r=(r+a)/2>0?VV:-VV),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&l>=GV&&(KV(n-i)<HV&&(n-=i*HV),KV(o-s)<HV&&(o-=s*HV),r=VU(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function VU(t,e,n,r){var i,o,a=iY(t-n);return KV(a)>HV?ZV((iY(e)*(o=JV(r))*iY(n)-iY(r)*(i=JV(e))*iY(t))/(i*o*a)):(e+r)/2}function YU(t,e,n,r){var i;if(null==t)i=n*VV,r.point(-GV,i),r.point(0,i),r.point(GV,i),r.point(GV,0),r.point(GV,-i),r.point(0,-i),r.point(-GV,-i),r.point(-GV,0),r.point(-GV,i);else if(KV(t[0]-e[0])>HV){var o=t[0]<e[0]?GV:-GV;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function UU(t,e,n,r,i,o){if(n){var a=JV(e),s=iY(e),l=r*n;null==i?(i=e+r*UV,o=e-l/2):(i=XU(a,i),o=XU(a,o),(r>0?i<o:i>o)&&(i+=r*UV));for(var c,u=i;r>0?u>o:u<o;u-=l)c=TU([a,-s*JV(u),-s*iY(u)]),t.point(c[0],c[1])}}function XU(t,e){e=AU(e),e[0]-=t,NU(e);var n=lY(-e[1]);return((-e[2]<0?-n:n)+UV-HV)%UV}function qU(t){var e=JV(t),n=6*qV,r=e>0,i=KV(e)>HV;function o(e,r,i,o){UU(o,t,n,i,e,r)}function a(t,n){return JV(t)*JV(n)>e}function s(t){var e,n,o,s,u;return{lineStart:function(){s=o=!1,u=1},point:function(h,f){var d,p=[h,f],v=a(h,f),g=r?v?0:c(h,f):v?c(h+(h<0?GV:-GV),f):0;if(!e&&(s=o=v)&&t.lineStart(),v!==o&&(d=l(e,p),(!d||_U(e,d)||_U(p,d))&&(p[2]=1)),v!==o)u=0,v?(t.lineStart(),d=l(p,e),t.point(d[0],d[1])):(d=l(e,p),t.point(d[0],d[1],2),t.lineEnd()),e=d;else if(i&&e&&r^v){var y;g&n||!(y=l(p,e,!0))||(u=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!v||e&&_U(e,p)||t.point(p[0],p[1]),e=p,o=v,n=g},lineEnd:function(){o&&t.lineEnd(),e=null},clean:function(){return u|(s&&o)<<1}}}function l(t,n,r){var i=AU(t),o=AU(n),a=[1,0,0],s=PU(i,o),l=LU(s,s),c=s[0],u=l-c*c;if(!u)return!r&&t;var h=e*l/u,f=-e*c/u,d=PU(a,s),p=IU(a,h),v=IU(s,f);RU(p,v);var g=d,y=LU(p,g),m=LU(g,g),b=y*y-m*(LU(p,p)-1);if(!(b<0)){var x=aY(b),w=IU(g,(-y-x)/m);if(RU(w,p),w=TU(w),!r)return w;var O,C=t[0],S=n[0],_=t[1],E=n[1];S<C&&(O=C,C=S,S=O);var M=S-C,k=KV(M-GV)<HV,T=k||M<HV;if(!k&&E<_&&(O=_,_=E,E=O),T?k?_+E>0^w[1]<(KV(w[0]-C)<HV?_:E):_<=w[1]&&w[1]<=E:M>GV^(C<=w[0]&&w[0]<=S)){var A=IU(g,(-y+x)/m);return RU(A,p),[w,TU(A)]}}}function c(e,n){var i=r?t:GV-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return zU(a,s,o,r?[0,-t]:[-GV,t-GV])}function KU(t,e,n,r,i,o){var a,s=t[0],l=t[1],c=e[0],u=e[1],h=0,f=1,d=c-s,p=u-l;if(a=n-s,d||!(a>0)){if(a/=d,d<0){if(a<h)return;a<f&&(f=a)}else if(d>0){if(a>f)return;a>h&&(h=a)}if(a=i-s,d||!(a<0)){if(a/=d,d<0){if(a>f)return;a>h&&(h=a)}else if(d>0){if(a<h)return;a<f&&(f=a)}if(a=r-l,p||!(a>0)){if(a/=p,p<0){if(a<h)return;a<f&&(f=a)}else if(p>0){if(a>f)return;a>h&&(h=a)}if(a=o-l,p||!(a<0)){if(a/=p,p<0){if(a>f)return;a>h&&(h=a)}else if(p>0){if(a<h)return;a<f&&(f=a)}return h>0&&(t[0]=s+h*d,t[1]=l+h*p),f<1&&(e[0]=s+f*d,e[1]=l+f*p),!0}}}}}var ZU=1e9,QU=-ZU;function JU(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,c){var u=0,h=0;if(null==i||(u=a(i,s))!==(h=a(o,s))||l(i,o)<0^s>0)do{c.point(0===u||3===u?t:n,u>1?r:e)}while((u=(u+s+4)%4)!==h);else c.point(o[0],o[1])}function a(r,i){return KV(r[0]-t)<HV?i>0?0:3:KV(r[0]-n)<HV?i>0?2:1:KV(r[1]-e)<HV?i>0?1:0:i>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var l,c,u,h,f,d,p,v,g,y,m,b=a,x=SU(),w={point:O,lineStart:E,lineEnd:M,polygonStart:S,polygonEnd:_};function O(t,e){i(t,e)&&b.point(t,e)}function C(){for(var e=0,n=0,i=c.length;n<i;++n)for(var o,a,s=c[n],l=1,u=s.length,h=s[0],f=h[0],d=h[1];l<u;++l)o=f,a=d,h=s[l],f=h[0],d=h[1],a<=r?d>r&&(f-o)*(r-a)>(d-a)*(t-o)&&++e:d<=r&&(f-o)*(r-a)<(d-a)*(t-o)&&--e;return e}function S(){b=x,l=[],c=[],m=!0}function _(){var t=C(),e=m&&t,n=(l=FU(l)).length;(e||n)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),n&&MU(l,s,t,o,a),a.polygonEnd()),b=a,l=c=u=null}function E(){w.point=k,c&&c.push(u=[]),y=!0,g=!1,p=v=NaN}function M(){l&&(k(h,f),d&&g&&x.rejoin(),l.push(x.result())),w.point=O,g&&b.lineEnd()}function k(o,a){var s=i(o,a);if(c&&u.push([o,a]),y)h=o,f=a,d=s,y=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&g)b.point(o,a);else{var l=[p=Math.max(QU,Math.min(ZU,p)),v=Math.max(QU,Math.min(ZU,v))],x=[o=Math.max(QU,Math.min(ZU,o)),a=Math.max(QU,Math.min(ZU,a))];KU(l,x,t,e,n,r)?(g||(b.lineStart(),b.point(l[0],l[1])),b.point(x[0],x[1]),s||b.lineEnd(),m=!1):s&&(b.lineStart(),b.point(o,a),m=!1)}p=o,v=a,g=s}return w}}function tX(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function eX(t,e){return KV(t)>GV&&(t-=Math.round(t/UV)*UV),[t,e]}function nX(t,e,n){return(t%=UV)?e||n?tX(iX(t),oX(e,n)):iX(t):e||n?oX(e,n):eX}function rX(t){return function(e,n){return e+=t,KV(e)>GV&&(e-=Math.round(e/UV)*UV),[e,n]}}function iX(t){var e=rX(t);return e.invert=rX(-t),e}function oX(t,e){var n=JV(t),r=iY(t),i=JV(e),o=iY(e);function a(t,e){var a=JV(e),s=JV(t)*a,l=iY(t)*a,c=iY(e),u=c*n+s*r;return[QV(l*i-u*o,s*n-c*r),cY(u*i+l*o)]}return a.invert=function(t,e){var a=JV(e),s=JV(t)*a,l=iY(t)*a,c=iY(e),u=c*i-l*o;return[QV(l*i+c*o,s*n+u*r),cY(u*n-s*r)]},a}function aX(t){function e(e){return e=t(e[0]*qV,e[1]*qV),e[0]*=XV,e[1]*=XV,e}return t=nX(t[0]*qV,t[1]*qV,t.length>2?t[2]*qV:0),e.invert=function(e){return e=t.invert(e[0]*qV,e[1]*qV),e[0]*=XV,e[1]*=XV,e},e}function sX(t){return function(e){var n=new lX;for(var r in t)n[r]=t[r];return n.stream=e,n}}function lX(){}function cX(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),zV(n,t.stream(RY)),e(RY.result()),null!=r&&t.clipExtent(r),t}function uX(t,e,n){return cX(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}function hX(t,e,n){return uX(t,[[0,0],e],n)}function fX(t,e,n){return cX(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}function dX(t,e,n){return cX(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}eX.invert=eX,lX.prototype={constructor:lX,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var pX=16,vX=JV(30*qV);function gX(t,e){return+e?mX(t,e):yX(t)}function yX(t){return sX({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function mX(t,e){function n(r,i,o,a,s,l,c,u,h,f,d,p,v,g){var y=c-r,m=u-i,b=y*y+m*m;if(b>4*e&&v--){var x=a+f,w=s+d,O=l+p,C=aY(x*x+w*w+O*O),S=cY(O/=C),_=KV(KV(O)-1)<HV||KV(o-h)<HV?(o+h)/2:QV(w,x),E=t(_,S),M=E[0],k=E[1],T=M-r,A=k-i,L=m*T-y*A;(L*L/b>e||KV((y*T+m*A)/b-.5)>.3||a*f+s*d+l*p<vX)&&(n(r,i,o,a,s,l,M,k,_,x/=C,w/=C,O,v,g),g.point(M,k),n(M,k,_,x,w,O,c,u,h,f,d,p,v,g))}}return function(e){var r,i,o,a,s,l,c,u,h,f,d,p,v={point:g,lineStart:y,lineEnd:b,polygonStart:function(){e.polygonStart(),v.lineStart=x},polygonEnd:function(){e.polygonEnd(),v.lineStart=y}};function g(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){u=NaN,v.point=m,e.lineStart()}function m(r,i){var o=AU([r,i]),a=t(r,i);n(u,h,c,f,d,p,u=a[0],h=a[1],c=r,f=o[0],d=o[1],p=o[2],pX,e),e.point(u,h)}function b(){v.point=g,e.lineEnd()}function x(){y(),v.point=w,v.lineEnd=O}function w(t,e){m(r=t,e),i=u,o=h,a=f,s=d,l=p,v.point=m}function O(){n(u,h,c,f,d,p,i,o,r,a,s,l,pX,e),v.lineEnd=b,b()}return v}}var bX=sX({point:function(t,e){this.stream.point(t*qV,e*qV)}});function xX(t){return sX({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function wX(t,e,n,r,i){function o(o,a){return o*=r,a*=i,[e+t*o,n-t*a]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}function OX(t,e,n,r,i,o){if(!o)return wX(t,e,n,r,i);var a=JV(o),s=iY(o),l=a*t,c=s*t,u=a/t,h=s/t,f=(s*n-a*e)/t,d=(s*e+a*n)/t;function p(t,o){return t*=r,o*=i,[l*t-c*o+e,n-c*t-l*o]}return p.invert=function(t,e){return[r*(u*t-h*e+f),i*(d-h*t-u*e)]},p}function CX(t){return SX((function(){return t}))()}function SX(t){var e,n,r,i,o,a,s,l,c,u,h=150,f=480,d=250,p=0,v=0,g=0,y=0,m=0,b=0,x=1,w=1,O=null,C=$U,S=null,_=IV,E=.5;function M(t){return l(t[0]*qV,t[1]*qV)}function k(t){return t=l.invert(t[0],t[1]),t&&[t[0]*XV,t[1]*XV]}function T(){var t=OX(h,0,0,x,w,b).apply(null,e(p,v)),r=OX(h,f-t[0],d-t[1],x,w,b);return n=nX(g,y,m),s=tX(e,r),l=tX(n,s),a=gX(s,E),A()}function A(){return c=u=null,M}return M.stream=function(t){return c&&u===t?c:c=bX(xX(n)(C(a(_(u=t)))))},M.preclip=function(t){return arguments.length?(C=t,O=void 0,A()):C},M.postclip=function(t){return arguments.length?(_=t,S=r=i=o=null,A()):_},M.clipAngle=function(t){return arguments.length?(C=+t?qU(O=t*qV):(O=null,$U),A()):O*XV},M.clipExtent=function(t){return arguments.length?(_=null==t?(S=r=i=o=null,IV):JU(S=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),A()):null==S?null:[[S,r],[i,o]]},M.scale=function(t){return arguments.length?(h=+t,T()):h},M.translate=function(t){return arguments.length?(f=+t[0],d=+t[1],T()):[f,d]},M.center=function(t){return arguments.length?(p=t[0]%360*qV,v=t[1]%360*qV,T()):[p*XV,v*XV]},M.rotate=function(t){return arguments.length?(g=t[0]%360*qV,y=t[1]%360*qV,m=t.length>2?t[2]%360*qV:0,T()):[g*XV,y*XV,m*XV]},M.angle=function(t){return arguments.length?(b=t%360*qV,T()):b*XV},M.reflectX=function(t){return arguments.length?(x=t?-1:1,T()):x<0},M.reflectY=function(t){return arguments.length?(w=t?-1:1,T()):w<0},M.precision=function(t){return arguments.length?(a=gX(s,E=t*t),A()):aY(E)},M.fitExtent=function(t,e){return uX(M,t,e)},M.fitSize=function(t,e){return hX(M,t,e)},M.fitWidth=function(t,e){return fX(M,t,e)},M.fitHeight=function(t,e){return dX(M,t,e)},function(){return e=t.apply(this,arguments),M.invert=e.invert&&k,T()}}function _X(t){var e=0,n=GV/3,r=SX(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*qV,n=t[1]*qV):[e*XV,n*XV]},i}function EX(t){var e=JV(t);function n(t,n){return[t*e,iY(n)/e]}return n.invert=function(t,n){return[t/e,cY(n*e)]},n}function MX(t,e){var n=iY(t),r=(n+iY(e))/2;if(KV(r)<HV)return EX(t);var i=1+n*(2*r-n),o=aY(i)/r;function a(t,e){var n=aY(i-2*r*iY(e))/r;return[n*iY(t*=r),o-n*JV(t)]}return a.invert=function(t,e){var n=o-e,a=QV(t,KV(n))*oY(n);return n*r<0&&(a-=GV*oY(t)*oY(n)),[a/r,cY((i-(t*t+n*n)*r*r)/(2*r))]},a}function kX(){return _X(MX).scale(155.424).center([0,33.6442])}function TX(){return kX().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function AX(t){var e=t.length;return{point:function(n,r){var i=-1;while(++i<e)t[i].point(n,r)},sphere:function(){var n=-1;while(++n<e)t[n].sphere()},lineStart:function(){var n=-1;while(++n<e)t[n].lineStart()},lineEnd:function(){var n=-1;while(++n<e)t[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<e)t[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<e)t[n].polygonEnd()}}}function LX(){var t,e,n,r,i,o,a=TX(),s=kX().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=kX().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function u(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function h(){return t=e=null,u}return u.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:a).invert(t)},u.stream=function(n){return t&&e===n?t:t=AX([a.stream(e=n),s.stream(n),l.stream(n)])},u.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),l.precision(t),h()):a.precision()},u.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),l.scale(t),u.translate(a.translate())):a.scale()},u.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],u=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,u-.238*e],[o+.455*e,u+.238*e]]).stream(c),r=s.translate([o-.307*e,u+.201*e]).clipExtent([[o-.425*e+HV,u+.12*e+HV],[o-.214*e-HV,u+.234*e-HV]]).stream(c),i=l.translate([o-.205*e,u+.212*e]).clipExtent([[o-.214*e+HV,u+.166*e+HV],[o-.115*e-HV,u+.234*e-HV]]).stream(c),h()},u.fitExtent=function(t,e){return uX(u,t,e)},u.fitSize=function(t,e){return hX(u,t,e)},u.fitWidth=function(t,e){return fX(u,t,e)},u.fitHeight=function(t,e){return dX(u,t,e)},u.scale(1070)}function PX(t){return function(e,n){var r=JV(e),i=JV(n),o=t(r*i);return o===1/0?[2,0]:[o*i*iY(e),o*iY(n)]}}function RX(t){return function(e,n){var r=aY(e*e+n*n),i=t(r),o=iY(i),a=JV(i);return[QV(e*o,r*a),cY(r&&n*o/r)]}}var IX=PX((function(t){return aY(2/(1+t))}));function NX(){return CX(IX).scale(124.75).clipAngle(179.999)}IX.invert=RX((function(t){return 2*cY(t/2)}));var jX=PX((function(t){return(t=lY(t))&&t/iY(t)}));function BX(){return CX(jX).scale(79.4188).clipAngle(179.999)}function DX(t,e){return[t,nY(sY((VV+e)/2))]}function FX(){return zX(DX).scale(961/UV)}function zX(t){var e,n,r,i=CX(t),o=i.center,a=i.scale,s=i.translate,l=i.clipExtent,c=null;function u(){var o=GV*a(),s=i(aX(i.rotate()).invert([0,0]));return l(null==c?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===DX?[[Math.max(s[0]-o,c),e],[Math.min(s[0]+o,n),r]]:[[c,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),u()):a()},i.translate=function(t){return arguments.length?(s(t),u()):s()},i.center=function(t){return arguments.length?(o(t),u()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=e=n=r=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),u()):null==c?null:[[c,e],[n,r]]},u()}function WX(t){return sY((VV+t)/2)}function HX(t,e){var n=JV(t),r=t===e?iY(t):nY(n/JV(e))/nY(WX(e)/WX(t)),i=n*rY(WX(t),r)/r;if(!r)return DX;function o(t,e){i>0?e<-VV+HV&&(e=-VV+HV):e>VV-HV&&(e=VV-HV);var n=i/rY(WX(e),r);return[n*iY(r*t),i-n*JV(r*t)]}return o.invert=function(t,e){var n=i-e,o=oY(r)*aY(t*t+n*n),a=QV(t,KV(n))*oY(n);return n*r<0&&(a-=GV*oY(t)*oY(n)),[a/r,2*ZV(rY(i/o,1/r))-VV]},o}function $X(){return _X(HX).scale(109.5).parallels([30,30])}function GX(t,e){return[t,e]}function VX(){return CX(GX).scale(152.63)}function YX(t,e){var n=JV(t),r=t===e?iY(t):(n-JV(e))/(e-t),i=n/r+t;if(KV(r)<HV)return GX;function o(t,e){var n=i-e,o=r*t;return[n*iY(o),i-n*JV(o)]}return o.invert=function(t,e){var n=i-e,o=QV(t,KV(n))*oY(n);return n*r<0&&(o-=GV*oY(t)*oY(n)),[o/r,i-oY(r)*aY(t*t+n*n)]},o}function UX(){return _X(YX).scale(131.154).center([0,13.9389])}jX.invert=RX((function(t){return t})),DX.invert=function(t,e){return[t,2*ZV(eY(e))-VV]},GX.invert=GX;var XX=1.340264,qX=-.081106,KX=893e-6,ZX=.003796,QX=aY(3)/2,JX=12;function tq(t,e){var n=cY(QX*iY(e)),r=n*n,i=r*r*r;return[t*JV(n)/(QX*(XX+3*qX*r+i*(7*KX+9*ZX*r))),n*(XX+qX*r+i*(KX+ZX*r))]}function eq(){return CX(tq).scale(177.158)}function nq(t,e){var n=JV(e),r=JV(t)*n;return[n*iY(t)/r,iY(e)/r]}function rq(){return CX(nq).scale(144.049).clipAngle(60)}function iq(){var t,e,n,r,i,o,a,s=1,l=0,c=0,u=1,h=1,f=0,d=null,p=1,v=1,g=sX({point:function(t,e){var n=b([t,e]);this.stream.point(n[0],n[1])}}),y=IV;function m(){return p=s*u,v=s*h,o=a=null,b}function b(n){var r=n[0]*p,i=n[1]*v;if(f){var o=i*t-r*e;r=r*t+i*e,i=o}return[r+l,i+c]}return b.invert=function(n){var r=n[0]-l,i=n[1]-c;if(f){var o=i*t+r*e;r=r*t-i*e,i=o}return[r/p,i/v]},b.stream=function(t){return o&&a===t?o:o=g(y(a=t))},b.postclip=function(t){return arguments.length?(y=t,d=n=r=i=null,m()):y},b.clipExtent=function(t){return arguments.length?(y=null==t?(d=n=r=i=null,IV):JU(d=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),m()):null==d?null:[[d,n],[r,i]]},b.scale=function(t){return arguments.length?(s=+t,m()):s},b.translate=function(t){return arguments.length?(l=+t[0],c=+t[1],m()):[l,c]},b.angle=function(n){return arguments.length?(f=n%360*qV,e=iY(f),t=JV(f),m()):f*XV},b.reflectX=function(t){return arguments.length?(u=t?-1:1,m()):u<0},b.reflectY=function(t){return arguments.length?(h=t?-1:1,m()):h<0},b.fitExtent=function(t,e){return uX(b,t,e)},b.fitSize=function(t,e){return hX(b,t,e)},b.fitWidth=function(t,e){return fX(b,t,e)},b.fitHeight=function(t,e){return dX(b,t,e)},b}function oq(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function aq(){return CX(oq).scale(175.295)}function sq(t,e){return[JV(e)*iY(t),iY(e)]}function lq(){return CX(sq).scale(249.5).clipAngle(90+HV)}function cq(t,e){var n=JV(e),r=1+JV(t)*n;return[n*iY(t)/r,iY(e)/r]}function uq(){return CX(cq).scale(250).clipAngle(142)}function hq(t,e){return[nY(sY((VV+e)/2)),-t]}function fq(){var t=zX(hq),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)}tq.invert=function(t,e){for(var n,r,i,o=e,a=o*o,s=a*a*a,l=0;l<JX;++l)if(r=o*(XX+qX*a+s*(KX+ZX*a))-e,i=XX+3*qX*a+s*(7*KX+9*ZX*a),o-=n=r/i,a=o*o,s=a*a*a,KV(n)<$V)break;return[QX*t*(XX+3*qX*a+s*(7*KX+9*ZX*a))/JV(o),cY(iY(o)/QX)]},nq.invert=RX(ZV),oq.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(KV(n)>HV&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},sq.invert=RX(cY),cq.invert=RX((function(t){return 2*ZV(t)})),hq.invert=function(t,e){return[-e,2*ZV(eY(t))-VV]};var dq=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function pq(t){if("function"===typeof t)return t;const e=`geo${FN(t)}`,n=a[e];if(!n)throw new Error(`Unknown coordinate: ${t}`);return n}function vq(t){return{type:"FeatureCollection",features:t.flatMap((t=>gq(t).features))}}function gq(t){const e={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featureCollection"};if(!t||!t.type)return null;const n=e[t.type];return n?"geometry"===n?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]}:"feature"===n?{type:"FeatureCollection",features:[t]}:"featureCollection"===n?t:void 0:null}function yq(t,e){var n;for(const[r,i]of Object.entries(e))null===(n=t[r])||void 0===n||n.call(t,i)}function mq(t,e,n,r){const i=()=>{const t=e.filter(Oq),n=t.find((t=>t.sphere));return n?{type:"Sphere"}:vq(t.filter((t=>!t.sphere)).flatMap((t=>t.data.value)))},{outline:o=i()}=r,{size:a="fitExtent"}=r;return"fitExtent"===a?bq(t,o,n):"fitWidth"===a?xq(t,o,n):void 0}function bq(t,e,n){const{x:r,y:i,width:o,height:a}=n;t.fitExtent([[r,i],[o,a]],e)}function xq(t,e,n){const{width:r,height:i}=n,[[o,a],[s,l]]=mU(t.fitWidth(r,e)).bounds(e),c=Math.ceil(l-a),u=Math.min(Math.ceil(s-o),c),h=t.scale()*(u-1)/u,[f,d]=t.translate(),p=d+(i-c)/2;t.scale(h).translate([f,p]).precision(.2)}function wq(t){const{data:e}=t;if(Array.isArray(e))return Object.assign(Object.assign({},t),{data:{value:e}});const{type:n}=e;return"graticule10"===n?Object.assign(Object.assign({},t),{data:{value:[CU()]}}):"sphere"===n?Object.assign(Object.assign({},t),{sphere:!0,data:{value:[{type:"Sphere"}]}}):t}function Oq(t){return"geoPath"===t.type}const Cq=()=>t=>{const{children:e,coordinate:n={}}=t;if(!Array.isArray(e))return[];const{type:r="equalEarth"}=n,i=dq(n,["type"]),o=pq(r),a=e.map(wq);let s;function l(){return[["custom",(t,e,n,r)=>{const l=o(),c={x:t,y:e,width:n,height:r};mq(l,a,c,i),yq(l,i),s=mU(l);const u=new qS({domain:[t,t+n]}),h=new qS({domain:[e,e+r]}),f=t=>{const e=l(t);if(!e)return null;const[n,r]=e;return[u.map(n),h.map(r)]},d=t=>{if(!t)return null;const[e,n]=t,r=[u.invert(e),h.invert(n)];return l.invert(r)};return{transform:t=>f(t),untransform:t=>d(t)}}]]}function c(t){const{style:e,tooltip:n={}}=t;return Object.assign(Object.assign({},t),{type:"path",tooltip:Jg(n,{title:"id",items:[{channel:"color"}]}),style:Object.assign(Object.assign({},e),{d:t=>s(t)||[]})})}const u=t=>Oq(t)?c(t):t;return[Object.assign(Object.assign({},t),{type:"view",scale:{x:{type:"identity"},y:{type:"identity"}},axis:!1,coordinate:{type:l},children:a.flatMap(u)})]};Cq.props={};var Sq=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const _q=()=>t=>{const{type:e,data:n,scale:r,encode:i,style:o,animate:a,key:s,state:l}=t,c=Sq(t,["type","data","scale","encode","style","animate","key","state"]);return[Object.assign(Object.assign({type:"geoView"},c),{children:[{type:"geoPath",key:`${s}-0`,data:{value:n},scale:r,encode:i,style:o,animate:a,state:l}]})]};_q.props={};const Eq={"composition.geoView":Cq,"composition.geoPath":_q};function Mq(){return Object.assign({"data.fetch":Fx,"data.inline":Zx,"data.sortBy":Kx,"data.sort":Gx,"data.filter":$x,"data.pick":Yx,"data.rename":Xx,"data.fold":Wx,"data.slice":Dw,"data.custom":Qx,"data.map":Jx,"data.cluster":yx,"data.tree":mx,"data.sankey":Ag,"data.arc":aw,"data.wordCloud":Nw,"data.join":Bw,"data.kde":Ww,"data.venn":fO,"transform.maybeZeroY1":c$,"transform.maybeZeroX":E$,"transform.maybeStackY":S$,"transform.maybeTitle":_$,"transform.maybeSeries":L$,"transform.maybeZeroPadding":B$,"transform.stackY":O$,"transform.binX":fV,"transform.bin":hV,"transform.dodgeX":G$,"transform.jitter":eG,"transform.jitterX":nG,"transform.symmetryY":iG,"transform.diffY":oG,"transform.stackEnter":V$,"transform.normalizeY":Q$,"transform.select":hG,"transform.selectX":dG,"transform.selectY":vG,"transform.groupX":AG,"transform.groupY":LG,"transform.groupColor":PG,"transform.group":TG,"transform.maybeSize":k$,"transform.maybeZeroY":M$,"transform.maybeKey":A$,"transform.sortX":zG,"transform.sortY":HG,"transform.sortColor":WG,"transform.flexX":VG,"transform.maybeTupleY":P$,"transform.maybeTupleX":R$,"transform.maybeIdentityY":I$,"transform.maybeIdentityX":N$,"transform.maybeTuple":W$,"transform.maybeVisualPosition":F$,"transform.maybeFunctionAttribute":z$,"transform.maybeGradient":H$,"transform.maybeTooltip":j$,"transform.pack":UG,"transform.sample":gV,"transform.filter":yV,"coordinate.cartesian":Wd,"coordinate.polar":$d,"coordinate.helix":Gd,"coordinate.transpose":Vd,"coordinate.theta":Ud,"coordinate.parallel":Kd,"coordinate.fisheye":Zd,"coordinate.radial":qd,"coordinate.radar":Qd,"encode.constant":Jd,"encode.field":ep,"encode.transform":tp,"encode.column":np,"mark.interval":Jp,"mark.rect":ev,"mark.line":Tv,"mark.point":Lv,"mark.text":Rv,"mark.cell":Nv,"mark.area":Bv,"mark.link":Fv,"mark.image":Wv,"mark.polygon":$v,"mark.box":Vv,"mark.vector":Yv,"mark.lineX":Kv,"mark.lineY":Xv,"mark.connector":Qv,"mark.range":ng,"mark.rangeX":ig,"mark.rangeY":ag,"mark.sankey":sy,"mark.path":ly,"mark.treemap":Ty,"mark.pack":sm,"mark.boxplot":Lm,"mark.shape":Pm,"mark.forceGraph":Qb,"mark.gauge":AE,"mark.tree":Cx,"mark.wordCloud":mO,"mark.density":LE,"mark.heatmap":RE,"palette.category10":NE,"palette.category20":jE,"scale.linear":DE,"scale.ordinal":FE,"scale.band":BE,"scale.identity":zE,"scale.point":WE,"scale.time":HE,"scale.log":$E,"scale.pow":GE,"scale.sqrt":XE,"scale.threshold":VE,"scale.quantile":YE,"scale.quantize":UE,"scale.sequential":qE,"scale.constant":KE,"shape.interval.rect":PM,"shape.interval.hollow":RM,"shape.interval.funnel":VM,"shape.interval.pyramid":UM,"shape.rect.rect":PM,"shape.rect.hollow":RM,"shape.cell.cell":PM,"shape.cell.hollow":RM,"shape.line.line":ik,"shape.line.hv":bk,"shape.line.vh":xk,"shape.line.hvh":wk,"shape.line.trail":Sk,"shape.line.smooth":pk,"shape.point.bowtie":iT,"shape.point.cross":oT,"shape.point.diamond":aT,"shape.point.hexagon":sT,"shape.point.hollowBowtie":lT,"shape.point.hollowDiamond":cT,"shape.point.hollowHexagon":uT,"shape.point.hollow":hT,"shape.point.hollowSquare":fT,"shape.point.hollowTriangle":dT,"shape.point.hollowTriangleDown":pT,"shape.point.hyphen":vT,"shape.point.line":gT,"shape.point.plus":yT,"shape.point.point":mT,"shape.point.square":bT,"shape.point.tick":xT,"shape.point.triangle":wT,"shape.point.triangleDown":OT,"shape.text.text":xA,"shape.area.area":PA,"shape.area.smooth":IA,"shape.area.hvh":NA,"shape.area.vh":jA,"shape.area.hv":BA,"shape.link.smooth":zA,"shape.link.vhv":$A,"shape.link.arc":VA,"shape.link.link":DA,"shape.image.image":UA,"shape.polygon.polygon":KA,"shape.polygon.ribbon":JA,"shape.box.box":nL,"shape.box.violin":oL,"shape.vector.vector":ST,"shape.label.label":FL,"shape.text.badge":_A,"shape.lineX.line":uL,"shape.lineY.line":uL,"shape.shape.shape":oP,"shape.connector.connector":gL,"shape.range.range":PM,"shape.rangeX.range":PM,"shape.rangeY.range":PM,"shape.path.path":HL,"shape.path.hollow":$L,"shape.density.density":VL,"shape.heatmap.heatmap":rP,"theme.classic":lP,"theme.classicDark":hP,"theme.academy":pP,"component.axisX":mj,"component.axisY":bj,"component.axisRadar":Cj,"component.axisLinear":gj,"component.axisArc":yj,"component.legendCategory":dB,"component.legendContinuous":qB,"component.legendContinuousBlock":KB,"component.legendContinuousBlockSize":QB,"component.legendContinuousSize":ZB,"component.legends":qD,"component.title":nD,"component.sliderX":HD,"component.sliderY":$D,"component.scrollbarX":UD,"component.scrollbarY":XD,"animation.scaleInX":KD,"animation.scaleOutX":ZD,"animation.scaleInY":QD,"animation.scaleOutY":JD,"animation.waveIn":mF,"animation.fadeIn":tF,"animation.fadeOut":eF,"animation.zoomIn":bF,"animation.zoomOut":xF,"animation.pathIn":wF,"animation.morphing":yF,"animation.growInX":OF,"animation.growInY":CF,"interaction.elementHighlight":JF,"interaction.elementHighlightByX":tz,"interaction.elementHighlightByColor":ez,"interaction.elementSelect":iz,"interaction.elementSelectByX":oz,"interaction.elementSelectByColor":az,"interaction.fisheye":mz,"interaction.chartIndex":gz,"interaction.tooltip":nW,"interaction.legendFilter":pW,"interaction.legendHighlight":vW,"interaction.brushHighlight":MW,"interaction.brushXHighlight":TW,"interaction.brushYHighlight":LW,"interaction.brushAxisHighlight":GW,"interaction.brushFilter":qW,"interaction.brushXFilter":KW,"interaction.brushYFilter":ZW,"interaction.sliderFilter":rH,"interaction.scrollbarFilter":oH,"interaction.poptip":uH,"interaction.event":Rz,"composition.spaceLayer":gH,"composition.spaceFlex":mH,"composition.mark":OH,"composition.view":xH,"composition.facetRect":BH,"composition.repeatMatrix":GH,"composition.facetCircle":ZH,"composition.timingKeyframe":t$,"labelTransform.overlapHide":OV,"labelTransform.overlapDodgeY":EV,"labelTransform.overflowHide":RV,"labelTransform.contrastReverse":PV},Eq)}const kq=[["legendCategory",[[["color","discrete"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["shape","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","discrete"]],[["color","discrete"],["opacity","discrete"],["size","constant"]],[["color","discrete"],["opacity","constant"],["shape","discrete"]],[["color","discrete"],["opacity","constant"],["size","constant"]],[["color","discrete"],["shape","constant"],["size","constant"]],[["color","discrete"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["opacity","constant"],["shape","constant"]],[["color","constant"],["shape","discrete"],["size","constant"]],[["color","constant"],["opacity","discrete"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["size","constant"]],[["color","constant"],["opacity","constant"],["shape","discrete"]],[["color","constant"],["opacity","discrete"],["shape","constant"]],[["color","discrete"],["shape","discrete"]],[["color","discrete"],["size","constant"]],[["color","discrete"],["opacity","discrete"]],[["color","discrete"],["opacity","constant"]],[["color","discrete"],["shape","constant"]],[["color","constant"],["shape","discrete"]],[["color","constant"],["size","constant"]],[["color","constant"],["opacity","discrete"]],[["color","discrete"]]]],["legendContinuousSize",[[["color","continuous"],["opacity","continuous"],["size","continuous"]],[["color","constant"],["opacity","continuous"],["size","continuous"]],[["color","continuous"],["size","continuous"]],[["color","constant"],["size","continuous"]],[["size","continuous"],["opacity","continuous"]],[["size","continuous"]]]],["legendContinuousBlockSize",[[["color","distribution"],["opacity","distribution"],["size","distribution"]],[["color","distribution"],["size","distribution"]]]],["legendContinuousBlock",[[["color","distribution"],["opacity","continuous"]],[["color","distribution"]]]],["legendContinuous",[[["color","continuous"],["opacity","continuous"]],[["color","continuous"]],[["opacity","continuous"]]]]];var Tq=n(5817),Aq=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Lq(t,e){const n=n=>{if("string"!==typeof n)return n;const r=`${t}.${n}`;return e[r]||Fg(`Unknown Component: ${r}`)},r=(t,e)=>{const{type:r}=t,i=Aq(t,["type"]);return n(r)(i,e)};return[r,n]}function Pq(t){const{canvas:e,group:n}=t;return n?n.ownerDocument:e.document}var Rq=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Iq(t,e,n){const[r]=Lq("coordinate",n),{innerHeight:i,innerWidth:o,insetLeft:a,insetTop:s,insetRight:l,insetBottom:c,marginLeft:u,marginTop:h}=t,{coordinates:f=[]}=e,d=Yq(f),p=new Tq.Coordinate(Object.assign(Object.assign({},t),{x:a+u,y:s+h,width:o-a-l,height:i-c-s,transformations:d.map(r).flat()}));return p}function Nq(t,e){const{coordinate:n={}}=t,r=Rq(t,["coordinate"]),{type:i,transform:o=[]}=n,a=Rq(n,["type","transform"]);if(!i)return Object.assign(Object.assign({},r),{coordinates:o});const[,s]=Lq("coordinate",e),{transform:l=!1}=s(i).props||{};if(l)throw new Error(`Unknown coordinate: ${i}.`);return Object.assign(Object.assign({},r),{coordinates:[Object.assign({type:i},a),...o]})}function jq(t,e){return t.filter((t=>t.type===e))}function Bq(t){return jq(t,"polar").length>0}function Dq(t){return jq(t,"helix").length>0}function Fq(t){return jq(t,"transpose").length%2===1}function zq(t){return jq(t,"parallel").length>0}function Wq(t){return jq(t,"theta").length>0}function Hq(t){return jq(t,"reflect").length>0}function $q(t){return jq(t,"radial").length>0}function Gq(t){return jq(t,"radar").length>0}function Vq(t){return jq(t,"reflectY").length>0}function Yq(t){return t.find((t=>"cartesian"===t.type))?t:[...t,{type:"cartesian"}]}function Uq(t){var e=t.length/6|0,n=new Array(e),r=0;while(r<e)n[r]="#"+t.slice(6*r,6*++r);return n}var Xq=Uq("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),qq=Uq("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Kq=Uq("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Zq=Uq("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Qq=Uq("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Jq=Uq("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),tK=Uq("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),eK=Uq("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),nK=Uq("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),rK=Uq("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function iK(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function oK(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return iK((n-r/e)*e,a,i,o,s)}}function aK(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return iK((n-r/e)*e,i,o,a,s)}}var sK=t=>()=>t;function lK(t,e){return function(n){return t+n*e}}function cK(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function uK(t,e){var n=e-t;return n?lK(t,n>180||n<-180?n-360*Math.round(n/360):n):sK(isNaN(t)?e:t)}function hK(t){return 1===(t=+t)?fK:function(e,n){return n-e?cK(e,n,t):sK(isNaN(e)?n:e)}}function fK(t,e){var n=e-t;return n?lK(t,n):sK(isNaN(t)?e:t)}(function t(e){var n=hK(e);function r(t,e){var r=n((t=er(t)).r,(e=er(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=fK(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r})(1);function dK(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=er(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}var pK=dK(oK),vK=(dK(aK),t=>pK(t[t.length-1])),gK=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Uq),yK=vK(gK),mK=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Uq),bK=vK(mK),xK=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Uq),wK=vK(xK),OK=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Uq),CK=vK(OK),SK=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Uq),_K=vK(SK),EK=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Uq),MK=vK(EK),kK=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Uq),TK=vK(kK),AK=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Uq),LK=vK(AK),PK=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Uq),RK=vK(PK),IK=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Uq),NK=vK(IK),jK=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Uq),BK=vK(jK),DK=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Uq),FK=vK(DK),zK=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Uq),WK=vK(zK),HK=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Uq),$K=vK(HK),GK=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Uq),VK=vK(GK),YK=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Uq),UK=vK(YK),XK=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Uq),qK=vK(XK),KK=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Uq),ZK=vK(KK),QK=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Uq),JK=vK(QK),tZ=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Uq),eZ=vK(tZ),nZ=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Uq),rZ=vK(nZ),iZ=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Uq),oZ=vK(iZ),aZ=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Uq),sZ=vK(aZ),lZ=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Uq),cZ=vK(lZ),uZ=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Uq),hZ=vK(uZ),fZ=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Uq),dZ=vK(fZ),pZ=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Uq),vZ=vK(pZ);function gZ(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}var yZ=Math.PI/180,mZ=180/Math.PI,bZ=-.14861,xZ=1.78277,wZ=-.29227,OZ=-.90649,CZ=1.97294,SZ=CZ*OZ,_Z=CZ*xZ,EZ=xZ*wZ-OZ*bZ;function MZ(t){if(t instanceof TZ)return new TZ(t.h,t.s,t.l,t.opacity);t instanceof nr||(t=tr(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(EZ*r+SZ*e-_Z*n)/(EZ+SZ-_Z),o=r-i,a=(CZ*(n-i)-wZ*o)/OZ,s=Math.sqrt(a*a+o*o)/(CZ*i*(1-i)),l=s?Math.atan2(a,o)*mZ-120:NaN;return new TZ(l<0?l+360:l,s,i,t.opacity)}function kZ(t,e,n,r){return 1===arguments.length?MZ(t):new TZ(t,e,n,null==r?1:r)}function TZ(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function AZ(t){return function e(n){function r(e,r){var i=t((e=kZ(e)).h,(r=kZ(r)).h),o=fK(e.s,r.s),a=fK(e.l,r.l),s=fK(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}Pn(TZ,kZ,Rn(In,{brighter:function(t){return t=null==t?jn:Math.pow(jn,t),new TZ(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Nn:Math.pow(Nn,t),new TZ(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*yZ,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new nr(255*(e+n*(bZ*r+xZ*i)),255*(e+n*(wZ*r+OZ*i)),255*(e+n*(CZ*r)),this.opacity)}}));AZ(uK);var LZ=AZ(fK),PZ=LZ(kZ(300,.5,0),kZ(-240,.5,1)),RZ=LZ(kZ(-100,.75,.35),kZ(80,1.5,.8)),IZ=LZ(kZ(260,.75,.35),kZ(80,1.5,.8)),NZ=kZ();function jZ(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return NZ.h=360*t-100,NZ.s=1.5-1.5*e,NZ.l=.8-.9*e,NZ+""}var BZ=er(),DZ=Math.PI/3,FZ=2*Math.PI/3;function zZ(t){var e;return t=(.5-t)*Math.PI,BZ.r=255*(e=Math.sin(t))*e,BZ.g=255*(e=Math.sin(t+DZ))*e,BZ.b=255*(e=Math.sin(t+FZ))*e,BZ+""}function WZ(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function HZ(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var $Z=HZ(Uq("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),GZ=HZ(Uq("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),VZ=HZ(Uq("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),YZ=HZ(Uq("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function UZ(t,e,n,r,i,o){const{guide:a={}}=n,s=sQ(t,e,n);if("string"!==typeof s)return n;const l=lQ(s,t,e,n),c=nQ(s,l,n);return Object.assign(Object.assign(Object.assign({},n),uQ(s,t,e,n,r)),{domain:c,range:cQ(s,t,e,n,c,i,o),expectedDomain:l,guide:a,name:t,type:s})}function XZ(t,e){const n={};for(const r of t){const{values:t,name:i}=r,o=e[i];for(const e of t){const{name:t,value:r}=e;n[t]=r.map((t=>o.map(t)))}}return n}function qZ(t,e){var n;const{components:r=[]}=e,i=["scale","encode","axis","legend","data","transform"],o=Array.from(new Set(t.flatMap((t=>t.channels.map((t=>t.scale)))))),a=new Map(o.map((t=>[t.name,t])));for(const s of r){const t=tQ(s);for(const e of t){const t=a.get(e),r=(null===(n=s.scale)||void 0===n?void 0:n[e])||{},{independent:l=!1}=r;if(t&&!l){const{guide:e}=t,n="boolean"===typeof e?{}:e;t.guide=Bd({},n,s),Object.assign(t,r)}else{const t=Object.assign(Object.assign({},r),{expectedDomain:r.domain,name:e,guide:fN(s,i)});o.push(t)}}}return o}function KZ(t){if(!t||!Array.isArray(t))return[Ng,Ng];let e,n;const r=r=>{var i;e=r.map.bind(r),n=null===(i=r.invert)||void 0===i?void 0:i.bind(r);const o=t.filter((([t])=>"function"===typeof t)),a=t.filter((([t])=>"function"!==typeof t)),s=new Map(a);if(r.map=t=>{for(const[e,n]of o)if(e(t))return n;return s.has(t)?s.get(t):e(t)},!n)return r;const l=new Map(a.map((([t,e])=>[e,t]))),c=new Map(o.map((([t,e])=>[e,t])));return r.invert=t=>c.has(t)?t:l.has(t)?l.get(t):n(t),r},i=t=>(null!==e&&(t.map=e),null!==n&&(t.invert=n),t);return[r,i]}function ZZ(t,e){const n=Object.keys(t);for(const r of Object.values(e)){const{name:e,key:i}=r.getOptions();if("string"===typeof i)i in t||(t[i]=r);else if(e in t){const i=n.filter((t=>t.startsWith(e))).map((t=>+(t.replace(e,"")||0))),o=cg(i)+1,a=`${e}${o}`;t[a]=r,r.getOptions().key=a}else t[e]=r}return t}function QZ(t,e){const[n]=Lq("scale",e),{relations:r}=t,[i]=KZ(r),o=n(t);return i(o)}function JZ(t){const e=t.flatMap((t=>Array.from(t.values()))).flatMap((t=>t.channels.map((t=>t.scale))));eQ(e,"x"),eQ(e,"y")}function tQ(t){const{channels:e=[],type:n,scale:r={}}=t,i=["shape","color","opacity","size"];return 0!==e.length?e:"axisX"===n?["x"]:"axisY"===n?["y"]:"legends"===n?Object.keys(r).filter((t=>i.includes(t))):[]}function eQ(t,e){const n=t.filter((({name:t,facet:n=!0})=>n&&t===e)),r=n.flatMap((t=>t.domain)),i=n.every(oQ)?X_(r):n.every(aQ)?Array.from(new Set(r)):null;if(null!==i)for(const o of n)o.domain=i}function nQ(t,e,n){const{ratio:r}=n;return void 0===r||null===r?e:oQ({type:t})?rQ(e,r,t):aQ({type:t})?iQ(e,r):e}function rQ(t,e,n){const r=t.map(Number),i=new qS({domain:r,range:[r[0],r[0]+(r[r.length-1]-r[0])*e]});return"time"===n?t.map((t=>new Date(i.map(t)))):t.map((t=>i.map(t)))}function iQ(t,e){const n=Math.round(t.length*e);return t.slice(0,n)}function oQ(t){const{type:e}=t;if("string"!==typeof e)return!1;const n=["linear","log","pow","time"];return n.includes(e)}function aQ(t){const{type:e}=t;if("string"!==typeof e)return!1;const n=["band","point","ordinal"];return n.includes(e)}function sQ(t,e,n){const{type:r,domain:i,range:o}=n;return void 0!==r?r:kQ(e)?"identity":"string"===typeof o?"linear":(i||o||[]).length>2?mQ(t):void 0!==i?EQ([i])?mQ(t):MQ(e)?"time":bQ(t,o):EQ(e)?mQ(t):MQ(e)?"time":bQ(t,o)}function lQ(t,e,n,r){const{domain:i}=r;if(void 0!==i)return i;switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":case"quantize":case"threshold":return xQ(wQ(n,r),r);case"band":case"ordinal":case"point":return OQ(n);case"quantile":return CQ(n);case"sequential":return xQ(SQ(n),r);default:return[]}}function cQ(t,e,n,r,i,o,a){const{range:s}=r;if("string"===typeof s)return fQ(s);if(void 0!==s)return s;const{rangeMin:l,rangeMax:c}=r;switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":{const t=hQ(n,r,i,o,a),[s,u]=_Q(e,t);return[l||s,c||u]}case"band":case"point":return[l||0,c||1];case"ordinal":return hQ(n,r,i,o,a);case"sequential":return;case"constant":return[n[0][0]];default:return[]}}function uQ(t,e,n,r,i){switch(t){case"linear":case"time":case"log":case"pow":case"sqrt":return vQ(i,r);case"band":case"point":return gQ(t,e,i,r);case"sequential":return pQ(r);default:return r}}function hQ(t,e,n,r,i){const[o]=Lq("palette",i),{defaultCategory10:a,defaultCategory20:s}=r,l=J_(t.flat()).length<=a.length?a:s,{palette:c=l,offset:u}=e;try{return o({type:c})}catch(h){const t=dQ(c,n,u);if(t)return t;throw new Error(`Unknown Component: ${c} `)}}function fQ(t){return t.split("-")}function dQ(t,e,n=(t=>t)){if(!t)return null;const r=FN(t),i=s[`scheme${r}`],o=s[`interpolate${r}`];if(!i&&!o)return null;if(i){if(!i.some(Array.isArray))return i;const t=i[e.length];if(t)return t}return e.map(((t,r)=>o(n(r/e.length))))}function pQ(t){const{palette:e="ylGnBu",offset:n}=t,r=FN(e),i=s[`interpolate${r}`];if(!i)throw new Error(`Unknown palette: ${r}`);return{interpolator:n?t=>i(n(t)):i}}function vQ(t,e){const{interpolate:n=cS,nice:r=!1,tickCount:i=5}=e;return Object.assign(Object.assign({},e),{interpolate:n,nice:r,tickCount:i})}function gQ(t,e,n,r){if(void 0!==r.padding||void 0!==r.paddingInner||void 0!==r.paddingOuter)return Object.assign(Object.assign({},r),{unknown:NaN});const i=yQ(t,e,n),{paddingInner:o=i,paddingOuter:a=i}=r;return Object.assign(Object.assign({},r),{paddingInner:o,paddingOuter:a,padding:i,unknown:NaN})}function yQ(t,e,n){return"enterDelay"===e||"enterDuration"===e?0:"band"===t?Wq(n)?0:.1:"point"===t?.5:0}function mQ(t){return AQ(t)?"point":"ordinal"}function bQ(t,e){return"color"!==t||e?"linear":"sequential"}function xQ(t,e){if(0===t.length)return t;const{domainMin:n,domainMax:r}=e,[i,o]=t;return[null!==n&&void 0!==n?n:i,null!==r&&void 0!==r?r:o]}function wQ(t,e){const{zero:n=!1}=e;let r=1/0,i=-1/0;for(const o of t)for(const t of o)Wg(t)&&(r=Math.min(r,+t),i=Math.max(i,+t));return r===1/0?[]:n?[Math.min(0,r),i]:[r,i]}function OQ(t){return Array.from(new Set(t.flat()))}function CQ(t){return OQ(t).sort()}function SQ(t){let e=1/0,n=-1/0;for(const r of t)for(const t of r)Wg(t)&&(e=Math.min(e,+t),n=Math.max(n,+t));return e===1/0?[]:[e<0?-n:e,n]}function _Q(t,e){return"enterDelay"===t?[0,1e3]:"enterDuration"==t?[300,1e3]:t.startsWith("y")||t.startsWith("position")?[1,0]:"color"===t?[Z_(e),Q_(e)]:"opacity"===t?[0,1]:"size"===t?[1,10]:[0,1]}function EQ(t){return TQ(t,(t=>{const e=typeof t;return"string"===e||"boolean"===e}))}function MQ(t){return TQ(t,(t=>t instanceof Date))}function kQ(t){return TQ(t,qg)}function TQ(t,e){for(const n of t)if(n.some(e))return!0;return!1}function AQ(t){return t.startsWith("x")||t.startsWith("y")||t.startsWith("position")||t.startsWith("size")}function LQ(t){return t.startsWith("x")||t.startsWith("y")||t.startsWith("position")||"enterDelay"===t||"enterDuration"===t||"updateDelay"===t||"updateDuration"===t||"exitDelay"===t||"exitDuration"===t}function PQ(t){if(!t||!t.type)return!1;if("function"===typeof t.type)return!0;const{type:e,domain:n,range:r,interpolator:i}=t,o=n&&n.length>0,a=r&&r.length>0;return!!(["linear","sqrt","log","time","pow","threshold","quantize","quantile","ordinal","band","point"].includes(e)&&o&&a)||(!(!["sequential"].includes(e)||!o||!a&&!i)||!(!["constant","identity"].includes(e)||!a))}const RQ={linear:"linear",identity:"identity",log:"log",pow:"pow",sqrt:"sqrt",sequential:"sequential"},IQ={threshold:"threshold",quantize:"quantize",quantile:"quantile"},NQ={ordinal:"ordinal",band:"band",point:"point"},jQ={constant:"constant"};var BQ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function DQ(t,e,n){const{coordinates:r=[],title:i}=e,[,o]=Lq("component",n),a=t.filter((({guide:t})=>null!==t)),s=[],l=KQ(e,t,n);if(s.push(...l),i){const{props:t}=o("title"),{defaultPosition:e,defaultOrientation:n,defaultOrder:r,defaultSize:a}=t,l="string"===typeof i?{title:i}:i;s.push(Object.assign({type:"title",position:e,orientation:n,order:r,defaultSize:a},l))}const c=GQ(a,r);return c.forEach((([t,e])=>{const{props:n}=o(t),{defaultPosition:i,defaultOrientation:l,defaultSize:c,defaultOrder:u,defaultLength:h,defaultPadding:f=[0,0],defaultCrossPadding:d=[0,0]}=n,p=Bd({},...e),{guide:v,field:g}=p,y=Array.isArray(v)?v:[v];for(const o of y){const[n,p]=XQ(t,i,l,o,e,a,r);if(!n&&!p)continue;const v="left"===n||"right"===n,y=v?f[1]:f[0],m=v?d[1]:d[0],{size:b,order:x=u,length:w=h,padding:O=y,crossPadding:C=m}=o;s.push(Object.assign(Object.assign({title:g},o),{defaultSize:c,length:w,position:n,orientation:p,padding:O,order:x,crossPadding:C,size:b,type:t,scales:e}))}})),s}function FQ(t,e,n,r,i){const[o]=Lq("component",r),{scaleInstances:a,scale:s,bbox:l}=t,c=BQ(t,["scaleInstances","scale","bbox"]),u={bbox:l,library:r},h=o(c);return h({coordinate:e,library:r,markState:i,scales:a,theme:n,value:u,scale:s})}function zQ(t,e){const n=["left","right","bottom","top"],r=({type:t,position:e,group:r})=>n.includes(e)?void 0===r?t.startsWith("legend")?`legend-${e}`:Symbol("independent"):"independent"===r?Symbol("independent"):r:Symbol("independent"),i=uv(t,r);return i.flatMap((([,t],n)=>{if(1===t.length)return t[0];if(void 0!==e){const n=t.filter((t=>void 0!==t.length)).map((t=>t.length)),r=lg(n);if(r>e)return t.forEach((t=>t.group=Symbol("independent"))),t;const i=e-r,o=t.length-n.length,a=i/o;t.forEach((t=>{void 0===t.length&&(t.length=a)}))}const r=cg(t,(t=>t.size)),i=cg(t,(t=>t.order)),o=cg(t,(t=>t.crossPadding)),a=t[0].position;return{type:"group",size:r,order:i,position:a,children:t,crossPadding:o}}))}function WQ(t,e){const n=["shape","size","color","opacity"],r=(t,e)=>"constant"===t&&"size"===e,i=t.filter((({type:t,name:e})=>"string"===typeof t&&n.includes(e)&&!r(t,e))),o=i.filter((({type:t})=>"constant"===t)),a=i.filter((({type:t})=>"constant"!==t)),s=t=>t.field?t.field:Symbol("independent"),l=uv(a,s).map((([t,e])=>[t,[...e,...o]])).filter((([,t])=>t.some((t=>"constant"!==t.type)))),c=new Map(l);if(0===c.size)return[];const u=t=>t.sort((([t],[e])=>t.localeCompare(e))),h=Array.from(c).map((([,t])=>{const e=nE(t).sort(((t,e)=>e.length-t.length)),n=e.map((t=>({combination:t,option:t.map((t=>[t.name,HQ(t)]))})));for(const[r,i]of kq)for(const{option:t,combination:e}of n)if(i.some((e=>lD(u(e),u(t)))))return[r,e];return null})).filter(Wg);return h}function HQ(t){const{type:e}=t;return"string"!==typeof e?null:e in RQ?"continuous":e in NQ?"discrete":e in IQ?"distribution":e in jQ?"constant":null}function $Q(t,e){return t.map((t=>{const{name:n}=t;if(Dq(e)||Wq(e))return null;if(Fq(e)&&(Bq(e)||$q(e)))return null;if(n.startsWith("x"))return Bq(e)?["axisArc",[t]]:$q(e)?["axisLinear",[t]]:[Fq(e)?"axisY":"axisX",[t]];if(n.startsWith("y"))return Bq(e)?["axisLinear",[t]]:$q(e)?["axisArc",[t]]:[Fq(e)?"axisX":"axisY",[t]];if(n.startsWith("position")){if(Gq(e))return["axisRadar",[t]];if(!Bq(e))return["axisY",[t]]}return null})).filter(Wg)}function GQ(t,e){const n=t.filter((t=>PQ(t)));return[...WQ(n,e),...$Q(n,e)]}function VQ(t){const e=jq(t,"polar");if(e.length){const t=e[e.length-1],{startAngle:n,endAngle:r}=Hd(t);return[n,r]}const n=jq(t,"radial");if(n.length){const t=n[n.length-1],{startAngle:e,endAngle:r}=Xd(t);return[e,r]}return[-Math.PI/2,Math.PI/2*3]}function YQ(t){const e=/position(\d*)/g.exec(t);return e?+e[1]:null}function UQ(t,e,n,r,i){const{name:o}=n[0];if("axisRadar"===t){const t=r.filter((t=>t.name.startsWith("position"))),e=YQ(o);if(o===t.slice(-1)[0].name||null===e)return[null,null];const[n,a]=VQ(i),s=(a-n)/(t.length-1)*e+n;return["center",s]}if("axisY"===t&&zq(i)){const t=YQ(o);return null===t?e:Fq(i)?0===t?["top",null]:["center","horizontal"]:0===t?e:["center","vertical"]}if("axisLinear"===t){const[t]=VQ(i);return["center",t]}return"axisArc"===t?"inner"===e[0]?["inner",null]:["outer",null]:Bq(i)||$q(i)?["center",null]:"axisX"===t&&Hq(i)||"axisX"===t&&Vq(i)?["top",null]:e}function XQ(t,e,n,r,i,o,a){const[s]=VQ(a),l=[r.position||e,null!==s&&void 0!==s?s:n];return"string"===typeof t&&t.startsWith("axis")?UQ(t,l,i,o,a):"string"===typeof t&&t.startsWith("legend")&&Bq(a)&&"center"===r.position?["center","vertical"]:l}function qQ(t,e,n=[]){return"x"===t?Fq(n)?`${e}Y`:`${e}X`:"y"===t?Fq(n)?`${e}X`:`${e}Y`:null}function KQ(t,e,n){const[,r]=Lq("component",n),{coordinates:i}=t;function o(t,e,n,o){const a=qQ(e,t,i);if(!o||!a)return;const{props:s}=r(a),{defaultPosition:l,defaultSize:c,defaultOrder:u}=s;return Object.assign(Object.assign({position:l,defaultSize:c,order:u,type:a},o),{scales:[n]})}return e.filter((t=>t.slider||t.scrollbar)).flatMap((t=>{const{slider:e,scrollbar:n,name:r}=t;return[o("slider",r,t,e),o("scrollbar",r,t,n)]})).filter((t=>!!t))}function ZQ(t,e,n,r,i,o){const{type:a}=t,s=["left","right","bottom","top"];if(!s.includes(r))return;if("string"!==typeof a)return;const l=a,c=()=>l.startsWith("axis")?tJ:l.startsWith("group")?QQ:l.startsWith("legendContinuous")?eJ:"legendCategory"===l?nJ:l.startsWith("slider")?JQ:()=>{};return c()(t,e,n,r,i,o)}function QQ(t,e,n,r,i,o){const{children:a}=t,s=cg(a,(t=>t.crossPadding));a.forEach((t=>t.crossPadding=s)),a.forEach((t=>ZQ(t,e,n,r,i,o)));const l=cg(a,(t=>t.size));t.size=l,a.forEach((t=>t.size=l))}function JQ(t,e,n,r,i,o){const a=()=>{const{slider:e}=i;return Bd({},e,t.style)},{trackSize:s,handleIconSize:l}=a(),c=Math.max(s,2.4*l);t.size=c}function tJ(t,e,n,r,i,o){t.transform=t.transform||[{type:"hide"}];const a="left"===r||"right"===r,s=aJ(t,r,i),{tickLength:l=0,labelSpacing:c=0,titleSpacing:u=0}=s,h=BQ(s,["tickLength","labelSpacing","titleSpacing"]),f=rJ(t,o),d=iJ(t,f,h);if(d){const r=cg(d,(t=>t.width)),i=cg(d,(t=>t.height)),o=l+c;if(a)t.size=r+o;else{const{tickFilter:a,style:s={}}=t,{labelTransform:l}=s;uJ(f,d,e,n,a)&&!l?(t.style=Object.assign(Object.assign({},s),{labelTransform:"rotate(90)"}),t.size=r+o):t.size=i+o}}const p=oJ(t,h);p&&(t.size+=a?u+p.width:u+p.height)}function eJ(t,e,n,r,i,o){const a=()=>{const{legendContinuous:e}=i;return Bd({},e,t.style)},s=a(),{labelSpacing:l=0,titleSpacing:c=0}=s,u=BQ(s,["labelSpacing","titleSpacing"]),h="left"===r||"right"===r,f=Gg(u,"ribbon"),{size:d}=f,p=Gg(u,"handleIcon"),{size:v}=p,g=Math.max(d,2.4*v);t.size=g;const y=rJ(t,o),m=iJ(t,y,u);if(m){const e=h?"width":"height",n=cg(m,(t=>t[e]));t.size+=n+l}const b=oJ(t,u);b&&(h?t.size=Math.max(t.size,b.width):t.size+=c+b.height);const{crossPadding:x=0}=t;t.size+=2*x}function nJ(t,e,n,r,i,o){const a=()=>{const{legendCategory:e}=i;return Bd({},e,t.style)},s=a(),{itemSpacing:l,itemMarkerSize:c,titleSpacing:u,rowPadding:h,colPadding:f}=s,d=BQ(s,["itemSpacing","itemMarkerSize","titleSpacing","rowPadding","colPadding"]),{cols:p,length:v}=t,g=void 0===v?e:v,y="left"===r||"right"===r,m=oJ(t,d),b=rJ(t,o),x=iJ(t,b,d,"itemLabel"),w=Math.max(x[0].height,c)+h,O=(t,e=0)=>c+t+l[0]+e,C=()=>{let e=-1/0,n=0,r=1,i=0,o=-1/0,a=-1/0;const s=m?m.height:0,l=g-s;for(const{width:t}of x){const s=O(t);e=Math.max(e,s),n+w>l?(r++,o=Math.max(o,i),a=Math.max(a,n),i=1,n=w):(n+=w,i++)}r<=1&&(o=i,a=n),t.size=e*r,t.length=a+s,Bd(t,{cols:r,gridRow:o})},S=()=>{const e=Math.ceil(x.length/p),n=cg(x,(t=>O(t.width)))*p;t.size=w*e,t.length=Math.min(n,g)},_=()=>{let e=1,n=0,r=-1/0;for(const{width:t}of x){const i=O(t,f);n+i>g?(r=Math.max(r,n),n=i,e++):n+=i}1===e&&(r=n),t.size=w*e,t.length=r};y?C():"number"===typeof p?S():_(),m&&(y?t.size=Math.max(t.size,m.width):t.size+=u+m.height);const{crossPadding:E=0}=t;t.size+=2*E}function rJ(t,e){const[n]=Lq("scale",e),{scales:r,tickCount:i,tickMethod:o}=t,a=r.find((t=>"constant"!==t.type&&"identity"!==t.type));return void 0!==i&&(a.tickCount=i),void 0!==o&&(a.tickMethod=o),n(a)}function iJ(t,e,n,r="label"){const{labelFormatter:i,tickFilter:o,label:a=!0}=t;if(!a)return null;const s=lJ(e,i,o),l=Gg(n,r),c=s.map(((t,e)=>Object.fromEntries(Object.entries(l).map((([n,r])=>[n,"function"===typeof r?r(t,e):r]))))),u=s.map(((t,e)=>{const n=c[e];return hJ(t,n)})),h=c.some((t=>t.transform));if(!h){const e=s.map(((t,e)=>e));t.indexBBox=new Map(e.map((t=>[t,[s[t],u[t]]])))}return u}function oJ(t,e){const n=t=>!1===t||null===t,{title:r}=t,{title:i}=e;if(n(r)||n(i)||void 0===r)return null;const o=Gg(e,"title"),{direction:a,transform:s}=o,l=Array.isArray(r)?r.join(","):r,c=hJ(l,Object.assign(Object.assign({},o),{transform:s||"vertical"===a?"rotate(-90)":""}));return c}function aJ(t,e,n){const{axis:r,[`axis${Dg(e)}`]:i}=n;return Bd({},r,i,t.style)}function sJ(t,e){const n=t.getTicks?t.getTicks():t.getOptions().domain;return e?n.filter(e):n}function lJ(t,e,n){const r=sJ(t,n),i=r.map((t=>"number"===typeof t?dJ(t):t)),o=e?"string"===typeof e?kN(e):e:t.getFormatter?t.getFormatter():t=>`${t}`;return i.map(o)}function cJ(t,e){if(!t.getBandWidth)return 0;const n=t.getBandWidth(e)/2;return n}function uJ(t,e,n,r,i){const o=lg(e,(t=>t.width));if(o>n)return!0;const a=t.clone();a.update({range:[0,n]});const s=sJ(t,i),l=s.map((t=>a.map(t)+cJ(a,t))),c=s.map(((t,e)=>e)),u=-r[0],h=n+r[1],f=(t,e)=>{const{width:n}=e;return[t-n/2,t+n/2]};for(let d=0;d<c.length;d++){const t=l[d],[n,r]=f(t,e[d]);if(n<u||r>h)return!0;const i=l[d+1];if(i){const[t]=f(i,e[d+1]);if(r>t)return!0}}return!1}function hJ(t,e){const n=fJ(t);n.attr(Object.assign(Object.assign({},e),{visibility:"none"}));const r=n.getBBox();return r}function fJ(t){return t instanceof yc?t:new Ac({style:{text:`${t}`}})}function dJ(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}function pJ(t,e,n,r){const{width:i,height:o,x:a=0,y:s=0,inset:l=0,insetLeft:c=l,insetTop:u=l,insetBottom:h=l,insetRight:f=l,margin:d=0,marginLeft:p=d,marginBottom:v=d,marginTop:g=d,marginRight:y=d,padding:m,paddingBottom:b=m,paddingLeft:x=m,paddingRight:w=m,paddingTop:O=m}=gJ(t,e,n,r),C=1/4,S=(t,n,r,i,o)=>{const{marks:a}=e;if(0===a.length)return[i,o];const s=t-i-o,l=s-t*C;if(l>0)return[i,o];const c=t*(1-C)/2;return["auto"===n?c:i,"auto"===r?c:o]},_=t=>"auto"===t?30:null!==t&&void 0!==t?t:30,E=_(O),M=_(b),k=yJ(t,o-E-M,[E,M],["left","right"],e,n,r),{paddingLeft:T,paddingRight:A}=k,L=i-p-y,[P,R]=S(L,x,w,T,A),I=L-P-R,N=yJ(t,I,[P,R],["bottom","top"],e,n,r),{paddingTop:j,paddingBottom:B}=N,D=o-v-g,[F,z]=S(D,b,O,B,j),W=D-F-z;return{width:i,height:o,insetLeft:c,insetTop:u,insetBottom:h,insetRight:f,innerWidth:I,innerHeight:W,paddingLeft:P,paddingRight:R,paddingTop:z,paddingBottom:F,marginLeft:p,marginBottom:v,marginTop:g,marginRight:y,x:a,y:s}}function vJ(t){const{height:e,width:n,padding:r=0,paddingLeft:i=r,paddingRight:o=r,paddingTop:a=r,paddingBottom:s=r,margin:l=0,marginLeft:c=l,marginRight:u=l,marginTop:h=l,marginBottom:f=l,inset:d=0,insetLeft:p=d,insetRight:v=d,insetTop:g=d,insetBottom:y=d}=t,m=t=>"auto"===t?30:t,b=n-m(i)-m(o)-c-u-p-v,x=e-m(a)-m(s)-h-f-g-y;return{width:b,height:x}}function gJ(t,e,n,r){const{coordinates:i}=e;if(!Bq(i))return e;const o=t.filter((t=>"string"===typeof t.type&&t.type.startsWith("axis")));if(0===o.length)return e;const a=o.map((t=>{const e="axisArc"===t.type?"arc":"linear";return aJ(t,e,n)})),s=cg(a,(t=>{var e;return null!==(e=t.labelSpacing)&&void 0!==e?e:0})),l=o.flatMap(((t,e)=>{const n=a[e],i=rJ(t,r),o=iJ(t,i,n);return o})).filter(Wg),c=cg(l,(t=>t.height))+s,u=o.flatMap(((t,e)=>{const n=a[e];return oJ(t,n)})).filter((t=>null!==t)),h=0===u.length?0:cg(u,(t=>t.height)),{inset:f=c,insetLeft:d=f,insetBottom:p=f,insetTop:v=f+h,insetRight:g=f}=e;return Object.assign(Object.assign({},e),{insetLeft:d,insetBottom:p,insetTop:v,insetRight:g})}function yJ(t,e,n,r,i,o,a){const s=cv(t,(t=>t.position)),{padding:l,paddingLeft:c=l,paddingRight:u=l,paddingBottom:h=l,paddingTop:f=l}=i,d={paddingBottom:h,paddingLeft:c,paddingTop:f,paddingRight:u};for(const p of r){const t=`padding${Dg(yL(p))}`,r=s.get(p)||[],i=d[t],l=t=>{void 0===t.size&&(t.size=t.defaultSize)},c=t=>{"group"===t.type?(t.children.forEach(l),t.size=cg(t.children,(t=>t.size))):t.size=t.defaultSize},u=t=>{t.size||("auto"!==i?c(t):(ZQ(t,e,n,p,o,a),l(t)))};if("number"===typeof i)r.forEach(l);else if(0===r.length)d[t]=30;else{const n=zQ(r,e);n.forEach(u);const i=n.reduce(((t,{size:e})=>t+e),0);d[t]=i}}return d}function mJ(t,e,n){const r=cv(t,(t=>t.position)),{paddingLeft:i,paddingRight:o,paddingTop:a,paddingBottom:s,marginLeft:l,marginTop:c,marginBottom:u,marginRight:h,innerHeight:f,innerWidth:d,insetBottom:p,insetLeft:v,insetRight:g,insetTop:y,height:m,width:b}=n,x=i+l,w=a+c,O=o+h,C=s+u,S=[x+v,w+y,d-v-g,f-y-p,"center",null,null],_={top:[x,0,d,w,"vertical",!0,um],right:[b-O,w,O,f,"horizontal",!1,um],bottom:[x,m-C,d,C,"vertical",!1,um],left:[0,w,x,f,"horizontal",!0,um],"top-left":[x,0,d,w,"vertical",!0,um],"top-right":[x,0,d,w,"vertical",!0,um],"bottom-left":[x,m-C,d,C,"vertical",!1,um],"bottom-right":[x,m-C,d,C,"vertical",!1,um],center:S,inner:S,outer:S};for(const[E,M]of r.entries()){const t=_[E],[n,r]=tE(M,(t=>"string"===typeof t.type&&("center"===E||!(!t.type.startsWith("axis")||!["inner","outer"].includes(E)))));n.length&&bJ(n,e,t,E),r.length&&kJ(M,e,t)}}function bJ(t,e,n,r){const[i,o]=tE(t,(t=>!("string"!==typeof t.type||!t.type.startsWith("axis"))));xJ(i,e,n,r),TJ(o,e,n)}function xJ(t,e,n,r){"center"===r?xv(e)?MJ(t,e,n,r):vv(e)?CJ(t,e,n):mv(e)&&SJ(t,e,n,t[0].orientation):"inner"===r?wJ(t,e,n):"outer"===r&&OJ(t,e,n)}function wJ(t,e,n){const[r,i,,o]=n,[a,s]=e.getCenter(),[l]=Sv(e),c=o/2,u=l*c,h=a-u,f=s-u;for(let d=0;d<t.length;d++){const e=t[d];e.bbox={x:r+h,y:i+f,width:2*u,height:2*u}}}function OJ(t,e,n){const[r,i,o,a]=n;for(const s of t)s.bbox={x:r,y:i,width:o,height:a}}function CJ(t,e,n){const[r,i,o,a]=n;for(const s of t)s.bbox={x:r,y:i,width:o,height:a}}function SJ(t,e,n,r){"horizontal"===r?EJ(t,e,n):"vertical"===r&&_J(t,e,n)}function _J(t,e,n){const[r,i,,o]=n,a=new Array(t.length+1).fill(0),s=e.map(a),l=s.filter(((t,e)=>e%2===0)).map((t=>t+r));for(let c=0;c<t.length;c++){const e=t[c],n=l[c],r=l[c+1]-n;e.bbox={x:n,y:i,width:r,height:o}}}function EJ(t,e,n){const[r,i,o]=n,a=new Array(t.length+1).fill(0),s=e.map(a),l=s.filter(((t,e)=>e%2===1)).map((t=>t+i));for(let c=0;c<t.length;c++){const e=t[c],n=l[c],i=l[c+1]-n;e.bbox={x:r,y:n,width:o,height:i}}}function MJ(t,e,n,r){const[i,o,a,s]=n;for(const l of t)l.bbox={x:i,y:o,width:a,height:s},l.radar={index:t.indexOf(l),count:t.length}}function kJ(t,e,n){const[r,i,o,a,s,l,c]=n,[u,h,f,d,p,v,g,y]="vertical"===s?["y",i,"x",r,"height",a,"width",o]:["x",r,"y",i,"width",o,"height",a];t.sort(((t,e)=>null===c||void 0===c?void 0:c(t.order,e.order)));const m=l?h+v:h;for(let x=0,w=m;x<t.length;x++){const e=t[x],{crossPadding:n=0}=e,{size:r}=e;e.bbox={[u]:l?w-r+n:w+n,[f]:d,[p]:r-2*n,[g]:y},w+=r*(l?-1:1)}const b=t.filter((t=>"group"===t.type));for(const x of b){const{bbox:t,children:e}=x,n=t[g],r=n/e.length,i=e.reduce(((t,e)=>{var n;const r=null===(n=e.layout)||void 0===n?void 0:n.justifyContent;return r||t}),"flex-start"),o=e.map(((t,n)=>{const{length:i=r,padding:o=0}=t;return i+(n===e.length-1?0:o)})),a=lg(o),s=n-a,l="flex-start"===i?0:"center"===i?s/2:s;for(let c=0,h=t[f]+l;c<e.length;c++){const n=e[c],{padding:r=0}=n,a=c===e.length-1?0:r;n.bbox={[p]:t[p],[u]:t[u],[f]:h,[g]:o[c]-a},Bd(n,{layout:{justifyContent:i}}),h+=o[c]}}}function TJ(t,e,n){if(0===t.length)return;const[r,i,o,a]=n,[s]=Sv(e),l=a/2*s/Math.sqrt(2),c=r+o/2,u=i+a/2;for(let h=0;h<t.length;h++){const e=t[h];e.bbox={x:c-l,y:u-l,width:2*l,height:2*l}}}var AJ=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))},LJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function PJ(t,e,n){const{encode:r={},scale:i={},transform:o=[]}=e,a=LJ(e,["encode","scale","transform"]);return[t,Object.assign(Object.assign({},a),{encode:r,scale:i,transform:o})]}function RJ(t,e,n){return AJ(this,void 0,void 0,(function*(){const{library:t}=n,{data:r}=e,[i]=Lq("data",t),o=YJ(r),{transform:a=[]}=o,s=LJ(o,["transform"]),l=[s,...a],c=l.map(i),u=yield Bg(c)(r);return[Array.isArray(u)?K_(u):[],Object.assign(Object.assign({},e),{data:u})]}))}function IJ(t,e,n){const{encode:r}=e;if(!r)return[t,e];const i={};for(const[o,a]of Object.entries(r))if(Array.isArray(a))for(let t=0;t<a.length;t++){const e=`${o}${0===t?"":t}`;i[e]=a[t]}else i[o]=a;return[t,Object.assign(Object.assign({},e),{encode:i})]}function NJ(t,e,n){const{encode:r,data:i}=e;if(!r)return[t,e];const o=q_(r,(t=>{if($J(t))return t;const e=GJ(i,t);return{type:e,value:t}}));return[t,Object.assign(Object.assign({},e),{encode:o})]}function jJ(t,e,n){const{encode:r}=e;if(!r)return[t,e];const i=q_(r,((t,e)=>{const{type:n}=t;return"constant"!==n||LQ(e)?t:Object.assign(Object.assign({},t),{constant:!0})}));return[t,Object.assign(Object.assign({},e),{encode:i})]}function BJ(t,e,n){const{encode:r,data:i}=e;if(!r)return[t,e];const{library:o}=n,a=KJ(o),s=q_(r,(t=>a(i,t)));return[t,Object.assign(Object.assign({},e),{encode:s})]}function DJ(t,e,n){const{tooltip:r={}}=e;return Kg(r)?[t,e]:Array.isArray(r)?[t,Object.assign(Object.assign({},e),{tooltip:{items:r}})]:qg(r)&&ty(r)?[t,Object.assign(Object.assign({},e),{tooltip:r})]:[t,Object.assign(Object.assign({},e),{tooltip:{items:[r]}})]}function FJ(t,e,n){const{data:r,encode:i,tooltip:o={}}=e;if(Kg(o))return[t,e];const a=e=>{if(!e)return e;if("string"===typeof e)return t.map((t=>({name:e,value:r[t][e]})));if(qg(e)){const{field:n,channel:o,color:a,name:s=n,valueFormatter:l=(t=>t)}=e,c="string"===typeof l?kN(l):l,u=o&&i[o],h=u&&i[o].field,f=s||h||o,d=[];for(const e of t){const t=n?r[e][n]:u?i[o].value[e]:null;d[e]={name:f,color:a,value:c(t)}}return d}if("function"===typeof e){const n=[];for(const o of t){const t=e(r[o],o,r,i);qg(t)?n[o]=t:n[o]={value:t}}return n}return e},{title:s,items:l=[]}=o,c=LJ(o,["title","items"]),u=Object.assign({title:a(s),items:Array.isArray(l)?l.map(a):[]},c);return[t,Object.assign(Object.assign({},e),{tooltip:u})]}function zJ(t,e,n){const{encode:r}=e,i=LJ(e,["encode"]);if(!r)return[t,e];const o=Object.entries(r),a=o.filter((([,t])=>{const{value:e}=t;return Array.isArray(e[0])})).flatMap((([e,n])=>{const r=[[e,new Array(t.length).fill(void 0)]],{value:i}=n,o=LJ(n,["value"]);for(let a=0;a<i.length;a++){const n=i[a];if(Array.isArray(n))for(let i=0;i<n.length;i++){const o=r[i]||[`${e}${i}`,new Array(t).fill(void 0)];o[1][a]=n[i],r[i]=o}}return r.map((([t,e])=>[t,Object.assign({type:"column",value:e},o)]))})),s=Object.fromEntries([...o,...a]);return[t,Object.assign(Object.assign({},i),{encode:s})]}function WJ(t,e,n){const{axis:r={},legend:i={},slider:o={},scrollbar:a={}}=e,s=(t,e)=>{if("boolean"===typeof t)return t?{}:null;const n=t[e];return void 0===n||n?n:null},l="object"===typeof r?Array.from(new Set(["x","y",...Object.keys(r)])):["x","y"];return Bd(e,{scale:Object.assign(Object.assign({},Object.fromEntries(l.map((t=>{const e=s(a,t);return[t,Object.assign({guide:s(r,t),slider:s(o,t),scrollbar:e},e&&{ratio:void 0===e.ratio?.5:e.ratio})]})))),{color:{guide:s(i,"color")},size:{guide:s(i,"size")},shape:{guide:s(i,"shape")},opacity:{guide:s(i,"opacity")}})}),[t,e]}function HJ(t,e,n){const{animate:r}=e;return r||void 0===r||Bd(e,{animate:{enter:{type:null},exit:{type:null},update:{type:null}}}),[t,e]}function $J(t){if("object"!==typeof t||t instanceof Date||null===t)return!1;const{type:e}=t;return Wg(e)}function GJ(t,e){return"function"===typeof e?"transform":"string"===typeof e&&VJ(t,e)?"field":"constant"}function VJ(t,e){return!!Array.isArray(t)&&t.some((t=>void 0!==t[e]))}function YJ(t){if(!t)return{type:"inline",value:null};if(Array.isArray(t))return{type:"inline",value:t};const{type:e="inline"}=t,n=LJ(t,["type"]);return Object.assign(Object.assign({},n),{type:e})}var UJ=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))},XJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function qJ(t,e,n){return UJ(this,void 0,void 0,(function*(){const r={library:n},[i,o]=yield ZJ(t,e,r),{encode:a,scale:s,data:l,tooltip:c}=o;if(!1===Array.isArray(l))return null;const{channels:u}=e,h=fv(Object.entries(a).filter((([,t])=>Wg(t))),(t=>t.map((([t,e])=>Object.assign({name:t},e)))),(([t])=>{var e;const n=null===(e=/([^\d]+)\d*$/.exec(t))||void 0===e?void 0:e[1],r=u.find((t=>t.name===n));return(null===r||void 0===r?void 0:r.independent)?t:n})),f=u.filter((t=>{const{name:e,required:n}=t;if(h.find((([t])=>t===e)))return!0;if(n)throw new Error(`Missing encoding for channel: ${e}.`);return!1})).flatMap((t=>{const{name:e,scale:n,scaleKey:r,range:i}=t,o=h.filter((([t])=>t.startsWith(e)));return o.map((([t,e],o)=>{const a=e.some((t=>t.visual)),l=e.some((t=>t.constant)),c=s[t]||{},{independent:u=!1,key:h=r||t,type:f=(l?"constant":a?"identity":n)}=c,d=XJ(c,["independent","key","type"]),p="constant"===f,v=p?void 0:i;return{name:t,values:e,scaleKey:u||p?Symbol("independent"):h,scale:Object.assign({type:f,range:v},d)}}))}));return[o,Object.assign(Object.assign({},e),{index:i,channels:f,tooltip:c})]}))}function KJ(t){const[e]=Lq("encode",t);return(t,n)=>void 0===n||void 0===t?null:Object.assign(Object.assign({},n),{type:"column",value:e(n)(t),field:QJ(n)})}function ZJ(t,e,n){return UJ(this,void 0,void 0,(function*(){const{library:r}=n,[i]=Lq("transform",r),{preInference:o=[],postInference:a=[]}=e,{transform:s=[]}=t,l=[PJ,RJ,IJ,NJ,jJ,BJ,zJ,HJ,WJ,DJ,...o.map(i),...s.map(i),...a.map(i),FJ];let c=[],u=t;for(const t of l)[c,u]=yield t(c,u,n);return[c,u]}))}function QJ(t){const{type:e,value:n}=t;return"field"===e&&"string"===typeof n?n:null}var JJ=function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r["throw"](t))}catch(e){o(e)}}function l(t){t.done?n(t.value):i(t.value).then(a,s)}l((r=r.apply(t,e||[])).next())}))},t0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function e0(t,e,n,r){var i,o;return JJ(this,void 0,void 0,(function*(){const[a]=Lq("composition",n),[s]=Lq("interaction",n),l=new Set(Object.keys(n).map((t=>{var e;return null===(e=/mark\.(.*)/.exec(t))||void 0===e?void 0:e[1]})).filter(Wg)),c=new Set(Object.keys(n).map((t=>{var e;return null===(e=/component\.(.*)/.exec(t))||void 0===e?void 0:e[1]})).filter(Wg)),u=t=>{const{type:e}=t;if("function"===typeof e){const{props:t={}}=e,{composite:n=!0}=t;if(n)return"mark"}return"string"!==typeof e?e:l.has(e)||c.has(e)?"mark":e},h=t=>"mark"===u(t),f=t=>"standardView"===u(t),d=t=>{const{type:e}=t;return"string"===typeof e&&!!c.has(e)},p=t=>{if(f(t))return[t];const e=u(t),n=a({type:e,static:d(t)});return n(t)},v=[],g=new Map,y=new Map,m=[t],b=[];while(m.length){const t=m.shift();if(f(t)){const e=y.get(t),[r,i]=e?c0(e,t,n):yield o0(t,n);g.set(r,t),v.push(r);const o=i.flatMap(p).map((t=>Nq(t,n)));if(m.push(...o),o.every(f)){const t=yield Promise.all(o.map((t=>l0(t,n))));JZ(t);for(let e=0;e<o.length;e++){const n=o[e],r=t[e];y.set(n,r)}}}else{const e=h(t)?t:yield A0(t,n),r=p(e);Array.isArray(r)?m.push(...r):"function"===typeof r&&b.push(r())}}r.emitter.emit(Tz.BEFORE_PAINT);const x=new Map,w=new Map,O=[];e.selectAll(N0(Uh)).data(v,(t=>t.key)).join((t=>t.append("g").attr("className",Uh).attr("id",(t=>t.key)).call(n0).each((function(t){u0(t,wE(this),O,n,r),x.set(t,this)}))),(t=>t.call(n0).each((function(t){u0(t,wE(this),O,n,r),w.set(t,this)}))),(t=>t.each((function(){const t=this["nameInteraction"].values();for(const e of t)e.destroy()})).remove()));const C=t=>Array.from(t.entries()).map((([t,e])=>({view:t,container:e,options:g.get(t),update:r0(wE(e),n,r)}))),S=C(x);for(const t of S){const{options:e}=t,n=new Map;t.container["nameInteraction"]=n;for(const i of T0(e)){const[e,o]=i;if(o){const i=s(Object.assign({type:e},o)),a=i(t,S,r.emitter);n.set(e,{destroy:a})}}}const _=C(w);for(const t of _){const{options:e,container:n}=t,o=n["nameInteraction"];for(const a of T0(e)){const[e,n]=a,l=o.get(e);if(l&&(null===(i=l.destroy)||void 0===i||i.call(l)),n){const i=s(Object.assign({type:e},n)),a=i(t,_,r.emitter);o.set(e,{destroy:a})}}}const{width:E,height:M}=t,k=[];for(const t of b){const i=new Promise((i=>JJ(this,void 0,void 0,(function*(){for(const i of t){const t=Object.assign({width:E,height:M},i);yield e0(t,e,n,r)}i()}))));k.push(i)}r.views=v,null===(o=r.animations)||void 0===o||o.forEach((t=>null===t||void 0===t?void 0:t.cancel())),r.animations=O,r.emitter.emit(Tz.AFTER_PAINT);const T=O.filter(Wg).map(_0).map((t=>t.finished));return Promise.all([...T,...k])}))}function n0(t){t.style("transform",(t=>`translate(${t.layout.x}, ${t.layout.y})`))}function r0(t,e,n){return r=>JJ(this,void 0,void 0,(function*(){const i=[],[o,a]=yield o0(r,e);u0(o,t,i,e,n),i0(t,r,o,e,n);for(const r of a)e0(r,t,e,n);return{options:r,view:o}}))}function i0(t,e,n,r,i){var o;const[a]=Lq("interaction",r),s=t.node(),l=s["nameInteraction"],c=T0(e).find((([t])=>"tooltip"===t)),u=l.get("tooltip");if(!u)return;if(null===(o=u.destroy)||void 0===o||o.call(u),!c[1])return;const h=a(Object.assign({type:"tooltip"},c[1])),f={options:e,view:n,container:t.node(),update:t=>Promise.resolve(t)};h(f,[],i.emitter)}function o0(t,e){return JJ(this,void 0,void 0,(function*(){const n=yield s0(t,e),r=a0(n);t.interaction=r.interaction,t.coordinate=r.coordinate;const i=Nq(r,e),o=yield l0(i,e);return c0(o,i,e)}))}function a0(t){const{coordinate:e={},interaction:n={},style:r={},marks:i}=t,o=t0(t,["coordinate","interaction","style","marks"]),a=i.map((t=>t.coordinate||{})),s=i.map((t=>t.interaction||{})),l=i.map((t=>t.viewStyle||{})),c=[...a,e].reduceRight(((t,e)=>Bd(t,e)),{}),u=[n,...s].reduce(((t,e)=>Bd(t,e)),{}),h=[...l,r].reduce(((t,e)=>Bd(t,e)),{});return Object.assign(Object.assign({},o),{marks:i,coordinate:c,interaction:u,style:h})}function s0(t,e){return JJ(this,void 0,void 0,(function*(){const[n,r]=Lq("mark",e),i=new Set(Object.keys(e).map((t=>{var e;return null===(e=/component\.(.*)/.exec(t))||void 0===e?void 0:e[1]})).filter(Wg)),{marks:o}=t,a=[],s=[],l=[...o],{width:c,height:u}=vJ(t),h={options:t,width:c,height:u};while(l.length){const[t]=l.splice(0,1),o=yield A0(t,e),{type:c=Fg("G2Mark type is required."),key:u}=o;if(i.has(c))s.push(o);else{const{props:t={}}=r(c),{composite:e=!0}=t;if(e){const t=yield n(o,h),e=Array.isArray(t)?t:[t];l.unshift(...e.map(((t,e)=>Object.assign(Object.assign({},t),{key:`${u}-${e}`}))))}else a.push(o)}}return Object.assign(Object.assign({},t),{marks:a,components:s})}))}function l0(t,e){return JJ(this,void 0,void 0,(function*(){const[n]=Lq("theme",e),[,r]=Lq("mark",e),{theme:i,marks:o,coordinates:a=[]}=t,s=n(k0(i)),l=new Map;for(const t of o){const{type:n}=t,{props:i={}}=r(n),o=yield qJ(t,i,e);if(o){const[t,e]=o;l.set(t,e)}}const c=cv(Array.from(l.values()).flatMap((t=>t.channels)),(({scaleKey:t})=>t));for(const t of c.values()){const n=t.reduce(((t,{scale:e})=>Bd(t,e)),{}),{scaleKey:r}=t[0],{values:i}=t[0],o=Array.from(new Set(i.map((t=>t.field)).filter(Wg))),l=Bd({guide:{title:0===o.length?void 0:o},field:o[0]},n),{name:c}=t[0],u=t.flatMap((({values:t})=>t.map((t=>t.value)))),h=Object.assign(Object.assign({},UZ(c,u,l,a,s,e)),{key:r});t.forEach((t=>t.scale=h))}return l}))}function c0(t,e,n){const[r]=Lq("mark",n),[i]=Lq("theme",n),[o]=Lq("labelTransform",n),{key:a,frame:s=!1,theme:l,clip:c,style:u={},labelTransform:h=[]}=e,f=i(k0(l)),d=Array.from(t.values()),p=qZ(d,e),v=DQ(B0(Array.from(p),d,t),e,n),g=pJ(v,e,f,n),y=Iq(g,e,n),m=s?Bd({mainLineWidth:1,mainStroke:"#000"},u):u;mJ(zQ(v),y,g);const b={};for(const O of v){const{scales:t=[]}=O,e=[];for(const r of t){const{name:t}=r,i=QZ(r,n);e.push(i),ZZ(b,{[t]:i})}O.scaleInstances=e}const x=[];for(const[O,C]of t.entries()){const{children:t,dataDomain:e,modifier:i,key:o}=O,{index:s,channels:l,tooltip:c}=C,u=Object.fromEntries(l.map((({name:t,scale:e})=>[t,e]))),h=q_(u,(t=>QZ(t,n)));ZZ(b,h);const f=XZ(l,h),d=r(O),[p,v,m]=d0(d(s,h,f,y)),w=e||p.length,S=i?i(v,w,g):[],_=t=>{var e,n;return null===(n=null===(e=c.title)||void 0===e?void 0:e[t])||void 0===n?void 0:n.value},E=t=>c.items.map((e=>e[t])),M=p.map(((t,e)=>{const n=Object.assign({points:v[e],transform:S[e],index:t,markKey:o,viewKey:a},c&&{title:_(t),items:E(t)});for(const[r,i]of Object.entries(f))n[r]=i[t],m&&(n[`series${FN(r)}`]=m[e].map((t=>i[t])));return m&&(n["seriesIndex"]=m[e]),m&&c&&(n["seriesItems"]=m[e].map((t=>E(t))),n["seriesTitle"]=m[e].map((t=>_(t)))),n}));C.data=M,C.index=p;const k=null===t||void 0===t?void 0:t(M,h,g);x.push(...k||[])}const w={layout:g,theme:f,coordinate:y,markState:t,key:a,clip:c,scale:b,style:m,components:v,labelTransform:jg(h.map(o))};return[w,x]}function u0(t,e,n,r,i){return JJ(this,void 0,void 0,(function*(){const{components:o,theme:a,layout:s,markState:l,coordinate:c,key:u,style:h,clip:f,scale:d}=t,{x:p,y:v,width:g,height:y}=s,m=t0(s,["x","y","width","height"]),b=["view","plot","main","content"],x=b.map(((t,e)=>e)),w=["a","margin","padding","inset"],O=b.map((t=>Vg(Object.assign({},a,h),t))),C=w.map((t=>Gg(m,t))),S=t=>t.style("x",(t=>T[t].x)).style("y",(t=>T[t].y)).style("width",(t=>T[t].width)).style("height",(t=>T[t].height)).each((function(t){D0(wE(this),O[t])}));let _=0,E=0,M=g,k=y;const T=x.map((t=>{const e=C[t],{left:n=0,top:r=0,bottom:i=0,right:o=0}=e;return _+=n,E+=r,M-=n+o,k-=r+i,{x:_,y:E,width:M,height:k}}));e.selectAll(N0(Zh)).data(x.filter((t=>Wg(O[t]))),(t=>b[t])).join((t=>t.append("rect").attr("className",Zh).style("zIndex",-2).call(S)),(t=>t.call(S)),(t=>t.remove()));const A=m0(l),L=!!A&&{duration:A[1]};for(const[,t]of uv(o,(t=>`${t.type}-${t.position}`)))t.forEach(((t,e)=>t.index=e));const P=e.selectAll(N0(qh)).data(o,(t=>`${t.type}-${t.position}-${t.index}`)).join((t=>t.append("g").style("zIndex",(({zIndex:t})=>t||-1)).attr("className",qh).append((t=>FQ(Bd({animate:L,scale:d},t),c,a,r,l)))),(t=>t.transition((function(t){const{preserve:e=!1}=t;if(e)return;const n=FQ(Bd({animate:L,scale:d},t),c,a,r,l),{attributes:i}=n,[o]=this.childNodes;return o.update(i)})))).transitions();n.push(...P.flat().filter(Wg));const R=e.selectAll(N0(Xh)).data([s],(()=>u)).join((t=>t.append("rect").style("zIndex",0).style("fill","transparent").attr("className",Xh).call(L0).call(I0,Array.from(l.keys())).call(j0,f)),(t=>t.call(I0,Array.from(l.keys())).call((t=>A?P0(t,A):L0(t))).call(j0,f))).transitions();n.push(...R.flat());for(const[I,N]of l.entries()){const{data:o}=N,{key:a,class:s,type:l}=I,c=e.select(`#${a}`),u=w0(I,N,t,r,i),h=S0(I,N,t,r),f=E0(I,N,t,r),d=M0(I,N,t,r),p=b0(e,c,s,"element"),v=c.selectAll(N0(Yh)).selectFacetAll(p).data(o,(t=>t.key),(t=>t.groupKey)).join((t=>t.append(u).attr("className",Yh).attr("markType",l).transition((function(t){return h(t,[this])}))),(t=>t.call((t=>{const e=t.parent(),n=Hg((t=>{const[e,n]=t.getBounds().min;return[e,n]}));t.transition((function(t,r){x0(this,e,n);const i=u(t,r),o=f(t,[this],[i]);return null!==o||(this.nodeName===i.nodeName?zg(this,i):(this.parentNode.replaceChild(i,this),i.className=Yh,i.markType=l)),o})).attr("markType",l).attr("className",Yh)}))),(t=>t.each((function(){this.__removed__=!0})).transition((function(t){return d(t,[this])})).remove()),(t=>t.append(u).attr("className",Yh).attr("markType",l).transition((function(t){const{__fromElements__:e}=this,n=f(t,e,[this]),r=new OE(e,null,this.parentNode);return r.transition(n).remove(),n}))),(t=>t.transition((function(t){const e=new OE([],this.__toData__,this.parentNode),n=e.append(u).attr("className",Yh).attr("markType",l).nodes();return f(t,[this],n)})).remove())).transitions();n.push(...v.flat())}h0(t,e,n,r,i)}))}function h0(t,e,n,r,i){const[o]=Lq("labelTransform",r),{markState:a,labelTransform:s}=t,l=e.select(N0(Vh)).node(),c=new Map,u=new Map,h=Array.from(a.entries()).flatMap((([n,o])=>{const{labels:a=[],key:s}=n,l=g0(n,o,t,r,i),h=e.select(`#${s}`).selectAll(N0(Yh)).nodes().filter((t=>!t.__removed__));return a.flatMap(((t,e)=>{const{transform:n=[]}=t,r=t0(t,["transform"]);return h.flatMap((n=>{const i=f0(r,e,n);return i.forEach((e=>{c.set(e,l),u.set(e,t)})),i}))}))})),f=wE(l).selectAll(N0(Kh)).data(h,(t=>t.key)).join((t=>t.append((t=>c.get(t)(t))).attr("className",Kh)),(t=>t.each((function(t){const e=c.get(t),n=e(t);zg(this,n)}))),(t=>t.remove())).nodes(),d=cv(f,(t=>u.get(t.__data__))),{coordinate:p}=t;for(const[v,g]of d){const{transform:t=[]}=v,e=jg(t.map(o));e(g,p)}s&&s(f,p)}function f0(t,e,n){const{seriesIndex:r,seriesKey:i,points:o,key:a,index:s}=n.__data__,l=v0(n);if(!r)return[Object.assign(Object.assign({},t),{key:`${a}-${e}`,bounds:l,index:s,points:o,dependentElement:n})];const c=p0(t),u=r.map(((r,a)=>Object.assign(Object.assign({},t),{key:`${i[a]}-${e}`,bounds:[o[a]],index:r,points:o,dependentElement:n})));return c?c(u):u}function d0([t,e,n]){if(n)return[t,e,n];const r=[],i=[];for(let o=0;o<t.length;o++){const n=t[o],a=e[o];a.every((([t,e])=>Wg(t)&&Wg(e)))&&(r.push(n),i.push(a))}return[r,i]}function p0(t){const{selector:e}=t;if(!e)return null;if("function"===typeof e)return e;if("first"===e)return t=>[t[0]];if("last"===e)return t=>[t[t.length-1]];throw new Error(`Unknown selector: ${e}`)}function v0(t){const e=t.cloneNode(),n=t.getAnimations();e.style.visibility="hidden",n.forEach((t=>{const n=t.effect.getKeyframes();e.attr(n[n.length-1])})),t.parentNode.appendChild(e);const r=e.getLocalBounds();e.destroy();const{min:i,max:o}=r;return[i,o]}function g0(t,e,n,r,i){const[o]=Lq("shape",r),{data:a}=t,{data:s,defaultLabelShape:l}=e,c=s.map((t=>t.points)),{theme:u,coordinate:h}=n,f=Object.assign(Object.assign({},i),{document:Pq(i),theme:u,coordinate:h});return t=>{const{index:e,points:n}=t,r=a[e],{formatter:i=(t=>`${t}`),transform:s,style:h}=t,d=t0(t,["formatter","transform","style"]),p=q_(Object.assign(Object.assign({},d),h),(t=>y0(t,r,e,a))),{shape:v=l,text:g}=p,y=t0(p,["shape","text"]),m="string"===typeof i?kN(i):i,b=Object.assign(Object.assign({},y),{text:m(g,r,e,a)}),x=Object.assign({type:`label.${v}`},y),w=o(x,f),O=O0(u,"label",v,"label");return w(n,b,O,c)}}function y0(t,e,n,r){return"function"===typeof t?t(e,n,r):"string"!==typeof t?t:void 0!==e[t]?e[t]:t}function m0(t){let e=-1/0,n=1/0;for(const[r,i]of t){const{animate:t={}}=r,{data:o}=i,{enter:a={},update:s={},exit:l={}}=t,{type:c,duration:u=300,delay:h=0}=s,{type:f,duration:d=300,delay:p=0}=a,{type:v,duration:g=300,delay:y=0}=l;for(const r of o){const{updateType:t=c,updateDuration:i=u,updateDelay:o=h,enterType:a=f,enterDuration:s=d,enterDelay:l=p,exitDuration:m=g,exitDelay:b=y,exitType:x=v}=r;(void 0===t||t)&&(e=Math.max(e,i+o),n=Math.min(n,o)),(void 0===x||x)&&(e=Math.max(e,m+b),n=Math.min(n,b)),(void 0===a||a)&&(e=Math.max(e,s+l),n=Math.min(n,l))}}return e===-1/0?null:[n,e-n]}function b0(t,e,n,r){const i=t.node().parentElement;return i.findAll((t=>void 0!==t.style.facet&&t.style.facet===n&&t!==e.node())).flatMap((t=>t.getElementsByClassName(r)))}function x0(t,e,n){if(!t.__facet__)return;const r=t.parentNode.parentNode,i=e.parentNode,[o,a]=n(r),[s,l]=n(i),c=`translate(${o-s}, ${a-l})`;$g(t,c),e.append(t)}function w0(t,e,n,r,i){const[o]=Lq("shape",r),{data:a}=t,{defaultShape:s,data:l}=e,c=l.map((t=>t.points)),{theme:u,coordinate:h}=n,{type:f,style:d={}}=t,p=Object.assign(Object.assign({},i),{document:Pq(i),coordinate:h,theme:u});return e=>{const{shape:n=s}=d,{shape:r=n,points:i,seriesIndex:l,index:h}=e,v=t0(e,["shape","points","seriesIndex","index"]),g=Object.assign(Object.assign({},v),{index:h}),y=l?l.map((t=>a[t])):a[h],m=l||h,b=q_(d,(t=>y0(t,y,m,a))),x=Object.assign(Object.assign({},b),{type:R0(t,r)}),w=o(x,p),O=O0(u,f,r,s);return w(i,g,O,c)}}function O0(t,e,n,r){if("string"!==typeof e)return;const{defaultColor:i}=t,o=t[e]||{},a=o[n]||o[r];return Object.assign({color:i},a)}function C0(t,e,n,r,i){var o;const[,a]=Lq("shape",i),[s]=Lq("animation",i),{defaultShape:l}=n,{theme:c,coordinate:u}=r,h=FN(t),f=`default${h}Animation`,{[f]:d}=a(R0(e,l)).props,{[t]:p={}}=c,v=(null===(o=e.animate)||void 0===o?void 0:o[t])||{},g={coordinate:u};return(e,n,r)=>{const{[`${t}Type`]:i,[`${t}Delay`]:o,[`${t}Duration`]:a,[`${t}Easing`]:l}=e,c=Object.assign({type:i||d},v);if(!c.type)return null;const u=s(c,g),h={delay:o,duration:a,easing:l},f=u(n,r,Bd(p,h));return Array.isArray(f)?f:[f]}}function S0(t,e,n,r){return C0("enter",t,e,n,r)}function _0(t){return t.finished.then((()=>{t.cancel()})),t}function E0(t,e,n,r){return C0("update",t,e,n,r)}function M0(t,e,n,r){return C0("exit",t,e,n,r)}function k0(t={}){if("string"===typeof t)return{type:t};const{type:e="classic"}=t,n=t0(t,["type"]);return Object.assign(Object.assign({},n),{type:e})}function T0(t){const e={event:!0,tooltip:!0,sliderFilter:!0,legendFilter:!0,scrollbarFilter:!0},{interaction:n={}}=t;return Object.entries(Bd(e,n))}function A0(t,e){return JJ(this,void 0,void 0,(function*(){const n={library:e},{data:r}=t,i=t0(t,["data"]);if(void 0==r)return t;const[,{data:o}]=yield RJ([],{data:r},n);return Object.assign({data:o},i)}))}function L0(t){t.style("x",(t=>t.paddingLeft)).style("y",(t=>t.paddingTop)).style("width",(t=>t.innerWidth)).style("height",(t=>t.innerHeight))}function P0(t,e){const[n,r]=e;t.transition((function(t){const{x:e,y:i,width:o,height:a}=this.style,{paddingLeft:s,paddingTop:l,innerWidth:c,innerHeight:u}=t,h=[{x:e,y:i,width:o,height:a},{x:s,y:l,width:c,height:u}];return this.animate(h,{delay:n,duration:r,fill:"both"})}))}function R0(t,e){const{type:n}=t;return"string"===typeof e?`${n}.${e}`:e}function I0(t,e){const n=t=>void 0!==t.class?`${t.class}`:"",r=t.nodes();if(0===r.length)return;t.selectAll(N0(Gh)).data(e,(t=>t.key)).join((t=>t.append("g").attr("className",Gh).attr("id",(t=>t.key)).style("facet",n).style("fill","transparent").style("zIndex",(t=>{var e;return null!==(e=t.zIndex)&&void 0!==e?e:0}))),(t=>t.style("facet",n).style("fill","transparent").style("zIndex",(t=>{var e;return null!==(e=t.zIndex)&&void 0!==e?e:0}))),(t=>t.remove()));const i=t.select(N0(Vh)).node();i||t.append("g").attr("className",Vh).style("zIndex",0)}function N0(...t){return t.map((t=>`.${t}`)).join("")}function j0(t,e){t.node()&&t.style("clipPath",(t=>{if(!e)return null;const{paddingTop:n,paddingLeft:r,innerWidth:i,innerHeight:o}=t;return new Tc({style:{x:r,y:n,width:i,height:o}})}))}function B0(t,e,n){var r;for(const[c]of n.entries())if("cell"===c.type)return t.filter((t=>"shape"!==t.name));if(1!==e.length||t.some((t=>"shape"===t.name)))return t;const{defaultShape:i}=e[0],o=["point","line","rect","hollow"];if(!o.includes(i))return t;const a={point:"point",line:"hyphen",rect:"square",hollow:"hollow"},s=(null===(r=t.find((t=>"color"===t.name)))||void 0===r?void 0:r.field)||null,l={field:s,name:"shape",type:"constant",domain:[],range:[a[i]]};return[...t,l]}function D0(t,e){for(const[n,r]of Object.entries(e))t.style(n,r)}function F0(t){const e=Bd({},t),n=new Map([[e,null]]),r=new Map([[null,-1]]),i=[e];while(i.length){const t=i.shift();if(void 0===t.key){const e=n.get(t),i=r.get(t),o=null===e?"0":`${e.key}-${i}`;t.key=o}const{children:e=[]}=t;if(Array.isArray(e))for(let o=0;o<e.length;o++){const a=Bd({},e[o]);e[o]=a,n.set(a,t),r.set(a,o),i.push(a)}}return e}function z0(t,e){const n=new wd;return n.registerPlugin(new kd),new Uc({width:t,height:e,container:document.createElement("div"),renderer:n})}function W0(t,e={},n=(()=>{}),r=(t=>{throw t})){const{width:i=640,height:o=480,theme:a}=t;a||Fg('ChartOptions.theme is required, such as `const chart = new Chart({ theme: "classic"})`.');const s=F0(t),{canvas:l=z0(i,o),library:c=Mq(),emitter:u=new zd}=e;e.canvas=l,e.library=c,e.emitter=u,l.resize(i,o),u.emit(Tz.BEFORE_RENDER);const h=wE(l.document.documentElement);return l.ready.then((()=>e0(Object.assign(Object.assign({},s),{width:i,height:o}),h,c,e))).then((()=>{l.requestAnimationFrame((()=>{u.emit(Tz.AFTER_RENDER),null===n||void 0===n||n()}))})).catch((t=>{null===r||void 0===r||r(t)})),G0(l.getConfig().container)}function H0(t,e={},n=!1){const{canvas:r,emitter:i}=e;r&&($0(r),n?r.destroy():r.destroyChildren()),i.off()}function $0(t){const e=t.getRoot().querySelectorAll(`.${Uh}`);null===e||void 0===e||e.forEach((t=>{const{nameInteraction:e=new Map}=t;(null===e||void 0===e?void 0:e.size)>0&&Array.from(null===e||void 0===e?void 0:e.values()).forEach((t=>{null===t||void 0===t||t.destroy()}))}))}function G0(t){return"string"===typeof t?document.getElementById(t):t}function V0(t,{name:e,key:n=e}){t.prototype[e]=function(t){return 0===arguments.length?this.attr(n):this.attr(n,t)}}function Y0(t,{name:e,key:n=e}){t.prototype[e]=function(t){if(0===arguments.length)return this.attr(n);if(Array.isArray(t))return this.attr(n,t);const e=[...this.attr(n)||[],t];return this.attr(n,e)}}function U0(t,{name:e,key:n=e}){t.prototype[e]=function(t,e){if(0===arguments.length)return this.attr(n);if(1===arguments.length&&"string"!==typeof t)return this.attr(n,t);const r=this.attr(n)||{};return r[t]=1===arguments.length||e,this.attr(n,r)}}function X0(t,{name:e}){t.prototype[e]=function(t){if(0===arguments.length)return this.attr(e);if(Array.isArray(t))return this.attr(e,{items:t});if(qg(t)&&(void 0!==t.title||void 0!==t.items))return this.attr(e,t);if(null===t||!1===t)return this.attr(e,t);const n=this.attr(e)||{},{items:r=[]}=n;return r.push(t),n.items=r,this.attr(e,n)}}function q0(t,{name:e,ctor:n}){t.prototype[e]=function(t){const r=this.append(n);return"mark"===e&&(r.type=t),r}}function K0(t,{name:e,ctor:n}){t.prototype[e]=function(){return this.type=null,this.append(n)}}function Z0(t){return e=>{for(const n of t){const{type:t}=n;"value"===t?V0(e,n):"array"===t?Y0(e,n):"object"===t?U0(e,n):"node"===t?q0(e,n):"container"===t?K0(e,n):"mix"===t&&X0(e,n)}return e}}function Q0(t){return Object.entries(t).map((([t,e])=>({type:"node",name:t,ctor:e})))}function J0(t){return Object.entries(t).map((([t,e])=>({type:"container",name:t,ctor:e})))}function t1(t,e){const n=[t];while(n.length){const t=n.shift();e&&e(t);const r=t.children||[];for(const e of r)n.push(e)}}class e1{constructor(t={},e){this.parentNode=null,this.children=[],this.index=0,this.type=e,this.value=t}map(t=(t=>t)){const e=t(this.value);return this.value=e,this}attr(t,e){return 1===arguments.length?this.value[t]:this.map((n=>(n[t]=e,n)))}append(t){const e=new t({});return e.children=[],this.push(e),e}push(t){return t.parentNode=this,t.index=this.children.length,this.children.push(t),this}remove(){const t=this.parentNode;if(t){const{children:e}=t,n=e.findIndex((t=>t===this));e.splice(n,1)}return this}getNodeByKey(t){let e=null;const n=n=>{t===n.attr("key")&&(e=n)};return t1(this,n),e}getNodesByType(t){const e=[],n=n=>{t===n.type&&e.push(n)};return t1(this,n),e}getNodeByType(t){let e=null;return t1(this,(n=>{e||t===n.type&&(e=n)})),e}call(t,...e){return t(this.map(),...e),this}getRoot(){let t=this;while(t&&t.parentNode)t=t.parentNode;return t}}class n1 extends e1{changeData(t){const e=this.getRoot();if(e)return this.attr("data",t),null===e||void 0===e?void 0:e.render()}getMark(){var t;const e=null===(t=this.getRoot())||void 0===t?void 0:t.getView();if(!e)return;const{markState:n}=e,r=Array.from(n.keys()).find((t=>t.key===this.attr("key")));return n.get(r)}getScale(){var t;const e=null===(t=this.getRoot())||void 0===t?void 0:t.getView();if(e)return null===e||void 0===e?void 0:e.scale}getScaleByChannel(t){var e,n;const r=null===(e=this.getRoot())||void 0===e?void 0:e.getView();if(r)return null===(n=null===r||void 0===r?void 0:r.scale)||void 0===n?void 0:n[t]}getGroup(){const t=this.attr("key");if(!t)return;const e=this.getRoot(),n=e.getContext().canvas.getRoot();return n.getElementById(t)}}var r1=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};const i1=[{name:"encode",type:"object"},{name:"scale",type:"object"},{name:"data",type:"value"},{name:"transform",type:"array"},{name:"style",type:"object"},{name:"animate",type:"object"},{name:"coordinate",type:"object"},{name:"interaction",type:"object"},{name:"label",type:"array",key:"labels"},{name:"axis",type:"object"},{name:"legend",type:"object"},{name:"slider",type:"object"},{name:"scrollbar",type:"object"},{name:"state",type:"object"},{name:"tooltip",type:"mix"}],o1=[{name:"scale",type:"object"},{name:"transform",type:"array"},{name:"style",type:"object"},{name:"state",type:"object"}],a1=o1;let s1=class extends n1{constructor(){super({})}};s1=r1([Z0(i1)],s1);let l1=class extends n1{constructor(){super({},"interval")}};l1=r1([Z0(i1)],l1);let c1=class extends n1{constructor(){super({},"rect")}};c1=r1([Z0(i1)],c1);let u1=class extends n1{constructor(){super({},"point")}};u1=r1([Z0(i1)],u1);let h1=class extends n1{constructor(){super({},"area")}};h1=r1([Z0(i1)],h1);let f1=class extends n1{constructor(){super({},"line")}};f1=r1([Z0(i1)],f1);let d1=class extends n1{constructor(){super({},"cell")}};d1=r1([Z0(i1)],d1);let p1=class extends n1{constructor(){super({},"vector")}};p1=r1([Z0(i1)],p1);let v1=class extends n1{constructor(){super({},"link")}};v1=r1([Z0(i1)],v1);let g1=class extends n1{constructor(){super({},"polygon")}};g1=r1([Z0(i1)],g1);let y1=class extends n1{constructor(){super({},"image")}};y1=r1([Z0(i1)],y1);let m1=class extends n1{constructor(){super({},"text")}};m1=r1([Z0(i1)],m1);let b1=class extends n1{constructor(){super({},"box")}};b1=r1([Z0(i1)],b1);let x1=class extends n1{constructor(){super({},"lineX")}};x1=r1([Z0(i1)],x1);let w1=class extends n1{constructor(){super({},"lineY")}};w1=r1([Z0(i1)],w1);let O1=class extends n1{constructor(){super({},"range")}};O1=r1([Z0(i1)],O1);let C1=class extends n1{constructor(){super({},"rangeX")}};C1=r1([Z0(i1)],C1);let S1=class extends n1{constructor(){super({},"rangeY")}};S1=r1([Z0(i1)],S1);let _1=class extends n1{constructor(){super({},"connector")}};_1=r1([Z0(i1)],_1);let E1=class extends n1{constructor(){super({},"shape")}};E1=r1([Z0(i1)],E1);let M1=class extends n1{constructor(){super({},"sankey")}};M1=r1([Z0([...i1,{name:"layout",type:"value"}])],M1);let k1=class extends n1{constructor(){super({},"treemap")}};k1=r1([Z0([...i1,{name:"layout",type:"value"}])],k1);let T1=class extends n1{constructor(){super({},"boxplot")}};T1=r1([Z0(i1)],T1);let A1=class extends n1{constructor(){super({},"density")}};A1=r1([Z0(i1)],A1);let L1=class extends n1{constructor(){super({},"heatmap")}};L1=r1([Z0(i1)],L1);let P1=class extends n1{constructor(){super({},"path")}};P1=r1([Z0(i1)],P1);let R1=class extends n1{constructor(){super({},"pack")}};R1=r1([Z0([...i1,{name:"layout",type:"value"}])],R1);let I1=class extends n1{constructor(){super({},"forceGraph")}};I1=r1([Z0([...i1,{name:"layout",type:"value"}])],I1);let N1=class extends n1{constructor(){super({},"tree")}};N1=r1([Z0([...i1,{name:"layout",type:"value"}])],N1);let j1=class extends n1{constructor(){super({},"wordCloud")}};j1=r1([Z0([...i1,{name:"layout",type:"object"}])],j1);let B1=class extends n1{constructor(){super({},"gauge")}};B1=r1([Z0(i1)],B1);let D1=class extends n1{constructor(){super({},"axisX")}};D1=r1([Z0(o1)],D1);let F1=class extends n1{constructor(){super({},"axisY")}};F1=r1([Z0(o1)],F1);let z1=class extends n1{constructor(){super({},"legends")}};z1=r1([Z0(a1)],z1);const W1={mark:s1,interval:l1,rect:c1,point:u1,area:h1,line:f1,cell:d1,vector:p1,link:v1,polygon:g1,image:y1,text:m1,box:b1,lineX:x1,lineY:w1,range:O1,rangeX:C1,rangeY:S1,connector:_1,sankey:M1,treemap:k1,boxplot:T1,density:A1,heatmap:L1,path:P1,shape:E1,pack:R1,forceGraph:I1,tree:N1,wordCloud:j1,gauge:B1,axisX:D1,axisY:F1,legends:z1};class H1 extends e1{changeData(t){var e;const n=this.getRoot();if(n)return this.attr("data",t),(null===(e=this.children)||void 0===e?void 0:e.length)&&this.children.forEach((e=>{e.attr("data",t)})),null===n||void 0===n?void 0:n.render()}getView(){const t=this.getRoot(),{views:e}=t.getContext();if(null===e||void 0===e?void 0:e.length)return e.find((t=>t.key===this._key))}getScale(){var t;return null===(t=this.getView())||void 0===t?void 0:t.scale}getScaleByChannel(t){const e=this.getScale();if(e)return e[t]}getCoordinate(){var t;return null===(t=this.getView())||void 0===t?void 0:t.coordinate}getTheme(){var t;return null===(t=this.getView())||void 0===t?void 0:t.theme}getGroup(){const t=this._key;if(!t)return;const e=this.getRoot(),n=e.getContext().canvas.getRoot();return n.getElementById(t)}show(){const t=this.getGroup();t&&!t.isVisible()&&kF(t)}hide(){const t=this.getGroup();t&&t.isVisible()&&MF(t)}}var $1=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let G1=class extends H1{constructor(t={},e="view"){super(t,e)}};G1=$1([Z0([{type:"value",name:"data"},{type:"value",name:"coordinate"},{type:"object",name:"interaction"},{type:"object",name:"theme"},{type:"object",name:"style"},{type:"object",name:"scale"},{type:"object",name:"axis"},{type:"object",name:"legend"},...Q0(W1)])],G1);var V1=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let Y1=class extends H1{constructor(){super({},"spaceLayer")}};Y1=V1([Z0([{type:"value",name:"data"},...Q0(W1)])],Y1);var U1=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let X1=class extends H1{constructor(){super({},"spaceFlex")}};X1=U1([Z0([{type:"value",name:"data"},...Q0(W1)])],X1);var q1=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let K1=class extends H1{constructor(){super({},"facetRect")}};K1=q1([Z0([{type:"value",name:"data"},{type:"array",name:"transform"},{type:"object",name:"scale"},{type:"object",name:"encode"},{type:"object",name:"legend"},{type:"object",name:"axis"},...Q0(W1)])],K1);var Z1=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let Q1=class extends H1{constructor(){super({},"facetCircle")}};Q1=Z1([Z0([{type:"value",name:"data"},{type:"array",name:"transform"},{type:"object",name:"scale"},{type:"object",name:"encode"},{type:"object",name:"legend"},{type:"object",name:"axis"},...Q0(W1)])],Q1);var J1=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let t2=class extends H1{constructor(){super({},"repeatMatrix")}};t2=J1([Z0([{type:"value",name:"data"},{type:"array",name:"transform"},{type:"object",name:"scale"},{type:"object",name:"encode"},{type:"object",name:"encode"},{type:"object",name:"legend"},...Q0(W1)])],t2);var e2=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let n2=class extends H1{constructor(){super({},"timingKeyframe")}};n2=e2([Z0([...Q0(W1)])],n2);var r2=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let i2=class extends H1{constructor(){super({},"geoView")}};i2=r2([Z0([{type:"value",name:"data"},{type:"value",name:"coordinate"},{type:"object",name:"interaction"},{type:"object",name:"theme"},{type:"object",name:"style"},{type:"object",name:"scale"},{type:"object",name:"legend"},...Q0(W1)])],i2);var o2=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a};let a2=class extends H1{constructor(){super({},"geoPath")}};a2=o2([Z0([{type:"value",name:"data"},{type:"value",name:"coordinate"},{type:"object",name:"interaction"},{type:"object",name:"theme"},{type:"object",name:"style"},{type:"object",name:"scale"},{type:"object",name:"encode"},{type:"object",name:"legend"},{type:"object",name:"state"},...Q0(W1)])],a2);const s2={view:G1,spaceLayer:Y1,spaceFlex:X1,facetRect:K1,facetCircle:Q1,repeatMatrix:t2,timingKeyframe:n2,geoView:i2,geoPath:a2};for(const P2 of Object.values(s2))Z0(Q0(s2))(P2);const l2=Mq();const c2=t=>t?parseInt(t):0;function u2(t){const e=getComputedStyle(t),n=t.clientWidth||c2(e.width),r=t.clientHeight||c2(e.height),i=c2(e.paddingLeft)+c2(e.paddingRight),o=c2(e.paddingTop)+c2(e.paddingBottom);return{width:n-i,height:r-o}}var h2=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const f2=["width","height","padding","paddingLeft","paddingRight","paddingBottom","paddingTop","inset","insetLeft","insetRight","insetTop","insetBottom","margin","marginLeft","marginRight","marginTop","marginBottom","autoFit","theme","title"];function d2(t){if(void 0===t)return document.createElement("div");if("string"===typeof t){const e=document.getElementById(t);return e}return t}function p2(t){const e=t.parentNode;e&&e.removeChild(t)}function v2(t){if(null!==t.type)return t;const e=t.children[t.children.length-1];for(const n of f2)e.attr(n,t.attr(n));return e}function g2(t){return Object.assign(Object.assign({},t.value),{type:t.type})}function y2(t,e){const{autoFit:n}=t;if(n)return u2(e);const{width:r=640,height:i=480}=t;return{width:r,height:i}}function m2(t){const e=v2(t),n=[e],r=new Map;r.set(e,g2(e));while(n.length){const t=n.pop(),e=r.get(t),{children:i=[]}=t;for(const o of i){const t=g2(o),{children:i=[]}=e;i.push(t),n.push(o),r.set(o,t),e.children=i}}return r.get(e)}function b2(t){return"function"===typeof t||new Set(Object.keys(W1)).has(t)}function x2(t,e,n){const{type:r}=t,{type:i=n||r}=e;if("view"===i)return e;if(!b2(i))return e;const o={type:"view"},a=Object.assign({},e);for(const s of f2)void 0!==a[s]&&(o[s]=a[s],delete a[s]);return Object.assign(Object.assign({},o),{children:[a]})}function w2(t){if("function"===typeof t)return W1.mark;const e=Object.assign(Object.assign({},W1),s2),n=e[t];if(!n)throw new Error(`Unknown mark: ${t}.`);return n}function O2(t){const{type:e,children:n}=t,r=h2(t,["type","children"]),i=w2(e),o=new i;return o.value=r,o.type=e,o}function C2(t,e){const{type:n,children:r}=e,i=h2(e,["type","children"]);t.type===n||void 0===n?Zg(t.value,i):"string"===typeof n&&(t.type=n,t.value=i)}function S2(t,e){if(!t)return;const n=[[t,e]];while(n.length){const[t,e]=n.shift(),r=O2(e);Array.isArray(t.children)&&t.push(r);const{children:i}=e;if(Array.isArray(i))for(const o of i)n.push([r,o])}}function _2(t,e,n){const r=x2(t,e,n),i=[[null,t,r]];while(i.length){const[t,e,n]=i.shift();if(e)if(n){C2(e,n);const{children:t}=n,{children:r}=e;if(Array.isArray(t)&&Array.isArray(r)){const n=Math.max(t.length,r.length);for(let o=0;o<n;o++){const n=t[o],a=r[o];i.push([e,a,n])}}}else e.remove();else S2(t,n)}}function E2(){let t,e;const n=new Promise(((n,r)=>{e=n,t=r}));return[n,e,t]}var M2=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},k2=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};const T2="G2_CHART_KEY",A2=[{name:"data",type:"value"},{name:"width",type:"value"},{name:"height",type:"value"},{name:"coordinate",type:"value"},{name:"interaction",type:"object"},{name:"theme",type:"object"},{name:"title",type:"value"},{name:"transform",type:"array"},{name:"scale",type:"object"},{name:"axis",type:"object"},{name:"legend",type:"object"},{name:"style",type:"object"},{name:"labelTransform",type:"array"},...Q0(W1),...J0(s2)];let L2=class extends G1{constructor(t){const e=t||{},{container:n,canvas:r,renderer:i,plugins:o}=e,a=k2(e,["container","canvas","renderer","plugins"]);super(a,"view"),this._hasBindAutoFit=!1,this._rendering=!1,this._trailing=!1,this._trailingResolve=null,this._trailingReject=null,this._previousDefinedType=null,this._onResize=kj((()=>{this.forceFit()}),300),this._renderer=i||new wd,this._plugins=o||[],this._container=d2(n),this._emitter=new zd,this._context={library:l2,emitter:this._emitter,canvas:r}}render(){if(this._rendering)return this._addToTrailing();this._context.canvas||this._createCanvas(),this._bindAutoFit(),this._rendering=!0;const t=new Promise(((t,e)=>W0(this._computedOptions(),this._context,this._createResolve(t),this._createReject(e)))),[e,n,r]=E2();return t.then(n).catch(r).then((()=>this._renderTrailing())),e}options(t){if(0===arguments.length)return m2(this);const{type:e}=t;return e&&(this._previousDefinedType=e),_2(this,t,this._previousDefinedType),this}getContainer(){return this._container}getContext(){return this._context}on(t,e,n){return this._emitter.on(t,e,n),this}once(t,e){return this._emitter.once(t,e),this}emit(t,...e){return this._emitter.emit(t,...e),this}off(t,e){return this._emitter.off(t,e),this}clear(){const t=this.options();this.emit(Tz.BEFORE_CLEAR),this._reset(),H0(t,this._context,!1),this.emit(Tz.AFTER_CLEAR)}destroy(){const t=this.options();this.emit(Tz.BEFORE_DESTROY),this._unbindAutoFit(),this._reset(),H0(t,this._context,!0),p2(this._container),this.emit(Tz.AFTER_DESTROY)}forceFit(){this.options["autoFit"]=!0;const{width:t,height:e}=y2(this.options(),this._container);if(t===this._width&&e===this._height)return Promise.resolve(this);this.emit(Tz.BEFORE_CHANGE_SIZE);const n=this.render();return n.then((()=>{this.emit(Tz.AFTER_CHANGE_SIZE)})),n}changeSize(t,e){if(t===this._width&&e===this._height)return Promise.resolve(this);this.emit(Tz.BEFORE_CHANGE_SIZE),this.width(t),this.height(e);const n=this.render();return n.then((()=>{this.emit(Tz.AFTER_CHANGE_SIZE)})),n}_reset(){this.type="view",this.value={},this.children=[]}_renderTrailing(){this._trailing&&(this._trailing=!1,this.render().then((()=>{const t=this._trailingResolve.bind(this);this._trailingResolve=null,t(this)})).catch((t=>{const e=this._trailingReject.bind(this);this._trailingReject=null,e(t)})))}_createResolve(t){return()=>{this._rendering=!1,t(this)}}_createReject(t){return e=>{this._rendering=!1,t(e)}}_computedOptions(){const t=this.options(),{key:e=T2}=t,{width:n,height:r}=y2(t,this._container);return this._width=n,this._height=r,this._key=e,Object.assign(Object.assign({key:this._key},t),{width:n,height:r})}_createCanvas(){const{width:t,height:e}=y2(this.options(),this._container);this._plugins.push(new kd),this._plugins.forEach((t=>this._renderer.registerPlugin(t))),this._context.canvas=new Uc({container:this._container,width:t,height:e,renderer:this._renderer})}_addToTrailing(){var t;null===(t=this._trailingResolve)||void 0===t||t.call(this,this),this._trailing=!0;const e=new Promise(((t,e)=>{this._trailingResolve=t,this._trailingReject=e}));return e}_bindAutoFit(){const t=this.options(),{autoFit:e}=t;this._hasBindAutoFit?e||this._unbindAutoFit():e&&(this._hasBindAutoFit=!0,window.addEventListener("resize",this._onResize))}_unbindAutoFit(){this._hasBindAutoFit&&(this._hasBindAutoFit=!1,window.removeEventListener("resize",this._onResize))}};L2=M2([Z0(A2)],L2),Jl.enableCSSParsing=!1},6341:function(t,e,n){"use strict";n.d(e,{HZt:function(){return r$}});n(7658),n(1439),n(7585),n(5315),n(6229),n(7330),n(2062);t=n.hmd(t);var r=Object.freeze({__proto__:null,get Base(){return Ma},get Circle(){return Ta},get Ellipse(){return Pa},get Image(){return Na},get Line(){return Da},get Marker(){return Wa},get Path(){return es},get Polygon(){return is},get Polyline(){return as},get Rect(){return us},get Text(){return fs}}),i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a=function(){return a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},a.apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}var l=function(t){return null!==t&&"function"!==typeof t&&isFinite(t.length)},c={}.toString,u=function(t,e){return c.call(t)==="[object "+e+"]"},h=function(t){return u(t,"Function")},f=function(t){return null===t||void 0===t},d=function(t){return Array.isArray?Array.isArray(t):u(t,"Array")},p=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};function v(t,e){var n;if(t)if(d(t)){for(var r=0,i=t.length;r<i;r++)if(n=e(t[r],r),!1===n)break}else if(p(t))for(var o in t)if(t.hasOwnProperty(o)&&(n=e(t[o],o),!1===n))break}var g=function(t){return"object"===typeof t&&null!==t},y=function(t){if(d(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},m=function(t){if(d(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},b=function(t){return u(t,"String")},x=function(t){return u(t,"Number")},w=1e-5;function O(t,e,n){return void 0===n&&(n=w),Math.abs(t-e)<n}var C=function(t,e){return(t%e+e)%e},S=Math.PI/180,_=function(t){return S*t},E=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return v(t,(function(n,r){h(t)&&"prototype"===r||e.push(n)})),e},M=function(t){return f(t)?"":t.toString()},k=function(t){var e=M(t);return e.charAt(0).toUpperCase()+e.substring(1)};function T(t){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)};return e(t)}function A(t){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;e(t)}function L(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function P(t,e,n,r){return e&&L(t,e),n&&L(t,n),r&&L(t,r),t}var R,I=function(t,e){if(!h(t))throw new TypeError("Expected a function");var n=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,r);return a.set(o,s),s};return n.cache=new Map,n},N=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(b(t)||b(e))return!1;if(l(t)||l(e)){if(t.length!==e.length)return!1;for(var n=!0,r=0;r<t.length;r++)if(n=N(t[r],e[r]),!n)break;return n}if(g(t)||g(e)){var i=Object.keys(t),o=Object.keys(e);if(i.length!==o.length)return!1;for(n=!0,r=0;r<i.length;r++)if(n=N(t[i[r]],e[i[r]]),!n)break;return n}return!1},j={},B=function(t){return t=t||"g",j[t]?j[t]+=1:j[t]=1,t+j[t]},D=function(){};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function F(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}I((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return R||(R=document.createElement("canvas").getContext("2d")),R.font=[o,a,i,n+"px",r].join(" "),R.measureText(b(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),F([t],E(e)).join("")}));var z="\t\n\v\f\r   ᠎             　\u2028\u2029",W=new RegExp("([a-z])["+z+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+z+"]*,?["+z+"]*)+)","ig"),H=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+z+"]*,?["+z+"]*","ig"),$=function(t){if(!t)return null;if(d(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(W,(function(r,i,o){var a=[],s=i.toLowerCase();if(o.replace(H,(function(t,e){e&&a.push(+e)})),"m"===s&&a.length>2&&(n.push([i].concat(a.splice(0,2))),s="l",i="m"===i?"l":"L"),"o"===s&&1===a.length&&n.push([i,a[0]]),"r"===s)n.push([i].concat(a));else while(a.length>=e[s])if(n.push([i].concat(a.splice(0,e[s]))),!e[s])break;return t})),n},G=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},V=function(t,e,n,r,i){var o=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var a=Math.PI/180,s=t+n*Math.cos(-r*a),l=t+n*Math.cos(-i*a),c=e+n*Math.sin(-r*a),u=e+n*Math.sin(-i*a);o=[["M",s,c],["A",n,n,0,+(i-r>180),0,l,u]]}else o=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},Y=function(t){if(t=$(t),!t||!t.length)return[["M",0,0]];var e,n,r=[],i=0,o=0,a=0,s=0,l=0;"M"===t[0][0]&&(i=+t[0][1],o=+t[0][2],a=i,s=o,l++,r[0]=["M",i,o]);for(var c=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),u=void 0,h=void 0,f=l,d=t.length;f<d;f++){if(r.push(u=[]),h=t[f],e=h[0],e!==e.toUpperCase())switch(u[0]=e.toUpperCase(),u[0]){case"A":u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5],u[6]=+h[6]+i,u[7]=+h[7]+o;break;case"V":u[1]=+h[1]+o;break;case"H":u[1]=+h[1]+i;break;case"R":n=[i,o].concat(h.slice(1));for(var p=2,v=n.length;p<v;p++)n[p]=+n[p]+i,n[++p]=+n[p]+o;r.pop(),r=r.concat(G(n,c));break;case"O":r.pop(),n=V(i,o,h[1],h[2]),n.push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(V(i,o,h[1],h[2],h[3])),u=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+h[1]+i,s=+h[2]+o;break;default:for(p=1,v=h.length;p<v;p++)u[p]=+h[p]+(p%2?i:o)}else if("R"===e)n=[i,o].concat(h.slice(1)),r.pop(),r=r.concat(G(n,c)),u=["R"].concat(h.slice(-2));else if("O"===e)r.pop(),n=V(i,o,h[1],h[2]),n.push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(V(i,o,h[1],h[2],h[3])),u=["U"].concat(r[r.length-1].slice(-2));else for(var g=0,y=h.length;g<y;g++)u[g]=h[g];if(e=e.toUpperCase(),"O"!==e)switch(u[0]){case"Z":i=+a,o=+s;break;case"H":i=u[1];break;case"V":o=u[1];break;case"M":a=u[u.length-2],s=u[u.length-1];break;default:i=u[u.length-2],o=u[u.length-1]}}return r},U=function(t,e,n,r){return[t,e,n,r,n,r]},X=function(t,e,n,r,i,o){var a=1/3,s=2/3;return[a*t+s*n,a*e+s*r,a*i+s*n,a*o+s*r,i,o]},q=function(t,e,n,r,i,o,a,s,l,c){n===r&&(n+=1);var u,h,f,d,p,v=120*Math.PI/180,g=Math.PI/180*(+i||0),y=[],m=function(t,e,n){var r=t*Math.cos(n)-e*Math.sin(n),i=t*Math.sin(n)+e*Math.cos(n);return{x:r,y:i}};if(c)h=c[0],f=c[1],d=c[2],p=c[3];else{u=m(t,e,-g),t=u.x,e=u.y,u=m(s,l,-g),s=u.x,l=u.y,t===s&&e===l&&(s+=1,l+=1);var b=(t-s)/2,x=(e-l)/2,w=b*b/(n*n)+x*x/(r*r);w>1&&(w=Math.sqrt(w),n*=w,r*=w);var O=n*n,C=r*r,S=(o===a?-1:1)*Math.sqrt(Math.abs((O*C-O*x*x-C*b*b)/(O*x*x+C*b*b)));d=S*n*x/r+(t+s)/2,p=S*-r*b/n+(e+l)/2,h=Math.asin(((e-p)/r).toFixed(9)),f=Math.asin(((l-p)/r).toFixed(9)),h=t<d?Math.PI-h:h,f=s<d?Math.PI-f:f,h<0&&(h=2*Math.PI+h),f<0&&(f=2*Math.PI+f),a&&h>f&&(h-=2*Math.PI),!a&&f>h&&(f-=2*Math.PI)}var _=f-h;if(Math.abs(_)>v){var E=f,M=s,k=l;f=h+v*(a&&f>h?1:-1),s=d+n*Math.cos(f),l=p+r*Math.sin(f),y=q(s,l,n,r,i,0,a,M,k,[f,E,d,p])}_=f-h;var T=Math.cos(h),A=Math.sin(h),L=Math.cos(f),P=Math.sin(f),R=Math.tan(_/4),I=4/3*n*R,N=4/3*r*R,j=[t,e],B=[t+I*A,e-N*T],D=[s+I*P,l-N*L],F=[s,l];if(B[0]=2*j[0]-B[0],B[1]=2*j[1]-B[1],c)return[B,D,F].concat(y);y=[B,D,F].concat(y).join().split(",");for(var z=[],W=0,H=y.length;W<H;W++)z[W]=W%2?m(y[W-1],y[W],g).y:m(y[W],y[W+1],g).x;return z},K=function(t,e){var n,r=Y(t),i=e&&Y(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],l=[],c="",u="",h=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(q.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(X(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(X(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(U(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(U(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(U(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(U(e.x,e.y,e.X,e.Y));break}return t},f=function(t,e){if(t[e].length>7){t[e].shift();var o=t[e];while(o.length)s[e]="A",i&&(l[e]="A"),t.splice(e++,0,["C"].concat(o.splice(0,6)));t.splice(e,1),n=Math.max(r.length,i&&i.length||0)}},d=function(t,e,o,a,s){t&&e&&"M"===t[s][0]&&"M"!==e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=t[s][1],o.y=t[s][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var p=0;p<n;p++){r[p]&&(c=r[p][0]),"C"!==c&&(s[p]=c,p&&(u=s[p-1])),r[p]=h(r[p],o,u),"A"!==s[p]&&"C"===c&&(s[p]="C"),f(r,p),i&&(i[p]&&(c=i[p][0]),"C"!==c&&(l[p]=c,p&&(u=l[p-1])),i[p]=h(i[p],a,u),"A"!==l[p]&&"C"===c&&(l[p]="C"),f(i,p)),d(r,i,o,a,p),d(i,r,a,o,p);var v=r[p],g=i&&i[p],y=v.length,m=i&&g.length;o.x=v[y-2],o.y=v[y-1],o.bx=parseFloat(v[y-4])||o.x,o.by=parseFloat(v[y-3])||o.y,a.bx=i&&(parseFloat(g[m-4])||a.x),a.by=i&&(parseFloat(g[m-3])||a.y),a.x=i&&g[m-2],a.y=i&&g[m-1]}return i?[r,i]:r},Z=/,?([a-z]),?/gi,Q=function(t){return t.join(",").replace(Z,"$1")},J=function(t,e,n,r,i){var o=-3*e+9*n-9*r+3*i,a=t*o+6*e-12*n+6*r;return t*a-3*e+3*n},tt=function(t,e,n,r,i,o,a,s,l){null===l&&(l=1),l=l>1?1:l<0?0:l;for(var c=l/2,u=12,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,p=0;p<u;p++){var v=c*h[p]+c,g=J(v,t,n,i,a),y=J(v,e,r,o,s),m=g*g+y*y;d+=f[p]*Math.sqrt(m)}return c*d},et=function(t,e,n,r,i,o,a,s){for(var l,c,u,h,f=[],d=[[],[]],p=0;p<2;++p)if(0===p?(c=6*t-12*n+6*i,l=-3*t+9*n-9*i+3*a,u=3*n-3*t):(c=6*e-12*r+6*o,l=-3*e+9*r-9*o+3*s,u=3*r-3*e),Math.abs(l)<1e-12){if(Math.abs(c)<1e-12)continue;h=-u/c,h>0&&h<1&&f.push(h)}else{var v=c*c-4*u*l,g=Math.sqrt(v);if(!(v<0)){var y=(-c+g)/(2*l);y>0&&y<1&&f.push(y);var m=(-c-g)/(2*l);m>0&&m<1&&f.push(m)}}var b,x=f.length,w=x;while(x--)h=f[x],b=1-h,d[0][x]=b*b*b*t+3*b*b*h*n+3*b*h*h*i+h*h*h*a,d[1][x]=b*b*b*e+3*b*b*h*r+3*b*h*h*o+h*h*h*s;return d[0][w]=t,d[1][w]=e,d[0][w+1]=a,d[1][w+1]=s,d[0].length=d[1].length=w+2,{min:{x:Math.min.apply(0,d[0]),y:Math.min.apply(0,d[1])},max:{x:Math.max.apply(0,d[0]),y:Math.max.apply(0,d[1])}}},nt=function(t,e,n,r,i,o,a,s){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,s)||Math.min(e,r)>Math.max(o,s))){var l=(t*r-e*n)*(i-a)-(t-n)*(i*s-o*a),c=(t*r-e*n)*(o-s)-(e-r)*(i*s-o*a),u=(t-n)*(o-s)-(e-r)*(i-a);if(u){var h=l/u,f=c/u,d=+h.toFixed(2),p=+f.toFixed(2);if(!(d<+Math.min(t,n).toFixed(2)||d>+Math.max(t,n).toFixed(2)||d<+Math.min(i,a).toFixed(2)||d>+Math.max(i,a).toFixed(2)||p<+Math.min(e,r).toFixed(2)||p>+Math.max(e,r).toFixed(2)||p<+Math.min(o,s).toFixed(2)||p>+Math.max(o,s).toFixed(2)))return{x:h,y:f}}}},rt=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},it=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=Q,o},ot=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:it(t,e,n,r),vb:[t,e,n,r].join(" ")}},at=function(t,e){return t=ot(t),e=ot(e),rt(e,t.x,t.y)||rt(e,t.x2,t.y)||rt(e,t.x,t.y2)||rt(e,t.x2,t.y2)||rt(t,e.x,e.y)||rt(t,e.x2,e.y)||rt(t,e.x,e.y2)||rt(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},st=function(t,e,n,r,i,o,a,s){d(t)||(t=[t,e,n,r,i,o,a,s]);var l=et.apply(null,t);return ot(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)},lt=function(t,e,n,r,i,o,a,s,l){var c=1-l,u=Math.pow(c,3),h=Math.pow(c,2),f=l*l,d=f*l,p=u*t+3*h*l*n+3*c*l*l*i+d*a,v=u*e+3*h*l*r+3*c*l*l*o+d*s,g=t+2*l*(n-t)+f*(i-2*n+t),y=e+2*l*(r-e)+f*(o-2*r+e),m=n+2*l*(i-n)+f*(a-2*i+n),b=r+2*l*(o-r)+f*(s-2*o+r),x=c*t+l*n,w=c*e+l*r,O=c*i+l*a,C=c*o+l*s,S=90-180*Math.atan2(g-m,y-b)/Math.PI;return{x:p,y:v,m:{x:g,y:y},n:{x:m,y:b},start:{x:x,y:w},end:{x:O,y:C},alpha:S}},ct=function(t,e,n){var r=st(t),i=st(e);if(!at(r,i))return n?0:[];for(var o=tt.apply(0,t),a=tt.apply(0,e),s=~~(o/8),l=~~(a/8),c=[],u=[],h={},f=n?0:[],d=0;d<s+1;d++){var p=lt.apply(0,t.concat(d/s));c.push({x:p.x,y:p.y,t:d/s})}for(d=0;d<l+1;d++){p=lt.apply(0,e.concat(d/l));u.push({x:p.x,y:p.y,t:d/l})}for(d=0;d<s;d++)for(var v=0;v<l;v++){var g=c[d],y=c[d+1],m=u[v],b=u[v+1],x=Math.abs(y.x-g.x)<.001?"y":"x",w=Math.abs(b.x-m.x)<.001?"y":"x",O=nt(g.x,g.y,y.x,y.y,m.x,m.y,b.x,b.y);if(O){if(h[O.x.toFixed(4)]===O.y.toFixed(4))continue;h[O.x.toFixed(4)]=O.y.toFixed(4);var C=g.t+Math.abs((O[x]-g[x])/(y[x]-g[x]))*(y.t-g.t),S=m.t+Math.abs((O[w]-m[w])/(b[w]-m[w]))*(b.t-m.t);C>=0&&C<=1&&S>=0&&S<=1&&(n?f+=1:f.push({x:O.x,y:O.y,t1:C,t2:S}))}}return f},ut=function(t,e,n){var r,i,o,a,s,l,c,u,h,f;t=K(t),e=K(e);for(var d=n?0:[],p=0,v=t.length;p<v;p++){var g=t[p];if("M"===g[0])r=s=g[1],i=l=g[2];else{"C"===g[0]?(h=[r,i].concat(g.slice(1)),r=h[6],i=h[7]):(h=[r,i,r,i,s,l,s,l],r=s,i=l);for(var y=0,m=e.length;y<m;y++){var b=e[y];if("M"===b[0])o=c=b[1],a=u=b[2];else{"C"===b[0]?(f=[o,a].concat(b.slice(1)),o=f[6],a=f[7]):(f=[o,a,o,a,c,u,c,u],o=c,a=u);var x=ct(h,f,n);if(n)d+=x;else{for(var w=0,O=x.length;w<O;w++)x[w].segment1=p,x[w].segment2=y,x[w].bez1=h,x[w].bez2=f;d=d.concat(x)}}}}}return d},ht=function(t,e){return ut(t,e)};function ft(t,e){var n=[],r=[];function i(t,e){if(1===t.length)n.push(t[0]),r.push(t[0]);else{for(var o=[],a=0;a<t.length-1;a++)0===a&&n.push(t[0]),a===t.length-2&&r.push(t[a+1]),o[a]=[(1-e)*t[a][0]+e*t[a+1][0],(1-e)*t[a][1]+e*t[a+1][1]];i(o,e)}}return t.length&&i(t,e),{left:n,right:r.reverse()}}function dt(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var o=r,a=1/n,s=0;s<n-1;s++){var l=a/(1-a*s),c=ft(o,l);i.push(c.left),o=c.right}i.push(o);var u=i.map((function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1]),e}));return u}var pt=function(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(dt(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r},vt=function(t,e){if(1===t.length)return t;var n=t.length-1,r=e.length-1,i=n/r,o=[];if(1===t.length&&"M"===t[0][0]){for(var a=0;a<r-n;a++)t.push(t[0]);return t}for(a=0;a<r;a++){var s=Math.floor(i*a);o[s]=(o[s]||0)+1}var l=o.reduce((function(e,r,i){return i===n?e.concat(t[n]):e.concat(pt(t[i],t[i+1],r))}),[]);return l.unshift(t[0]),"Z"!==e[r]&&"z"!==e[r]||l.push("Z"),l},gt=function(t,e){if(t.length!==e.length)return!1;var n=!0;return v(t,(function(t,r){if(t!==e[r])return n=!1,!1})),n};function yt(t,e,n){var r=null,i=n;return e<i&&(i=e,r="add"),t<i&&(i=t,r="del"),{type:r,min:i}}var mt=function(t,e){var n,r,i=t.length,o=e.length,a=0;if(0===i||0===o)return null;for(var s=[],l=0;l<=i;l++)s[l]=[],s[l][0]={min:l};for(var c=0;c<=o;c++)s[0][c]={min:c};for(l=1;l<=i;l++){n=t[l-1];for(c=1;c<=o;c++){r=e[c-1],a=gt(n,r)?0:1;var u=s[l-1][c].min+1,h=s[l][c-1].min+1,f=s[l-1][c-1].min+a;s[l][c]=yt(u,h,f)}}return s},bt=function(t,e){var n=mt(t,e),r=t.length,i=e.length,o=[],a=1,s=1;if(n[r][i].min!==r){for(var l=1;l<=r;l++){var c=n[l][l].min;s=l;for(var u=a;u<=i;u++)n[l][u].min<c&&(c=n[l][u].min,s=u);a=s,n[l][a].type&&o.push({index:l-1,type:n[l][a].type})}for(l=o.length-1;l>=0;l--)a=o[l].index,"add"===o[l].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}r=t.length;var h=i-r;if(r<i)for(l=0;l<h;l++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t};function xt(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=wt(e)[0],s=1;s<=n;s++)o*=s,r=Math.floor(t.length*o),0===r?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function wt(t){var e=[];switch(t[0]){case"M":e.push([t[1],t[2]]);break;case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":e.push([t[1],t[1]]);break;case"V":e.push([t[1],t[1]]);break}return e}var Ot=function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=wt(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=xt(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=xt(n,t[r-1],2)}t[r]=["C"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;case"S":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=xt(n,t[r-1],1)}t[r]=["S"].concat(n.reduce((function(t,e){return t.concat(e)}),[]));break;default:t[r]=e[r]}return t},Ct=Object.freeze({__proto__:null,catmullRomToBezier:G,fillPath:vt,fillPathByDiff:bt,formatPath:Ot,intersection:ht,parsePathArray:Q,parsePathString:$,pathToAbsolute:Y,pathToCurve:K,rectPath:it}),St=function(){function t(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}return t.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t.prototype.toString=function(){var t=this.type;return"[Event (type="+t+")]"},t.prototype.save=function(){},t.prototype.restore=function(){},t}(),_t=function(t,e){return _t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},_t(t,e)};function Et(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}_t(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Mt="*",kt=function(){function t(){this._events={}}return t.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},t.prototype.once=function(t,e){return this.on(t,e,!0)},t.prototype.emit=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this._events[t]||[],o=this._events[Mt]||[],a=function(r){for(var i=r.length,o=0;o<i;o++)if(r[o]){var a=r[o],s=a.callback,l=a.once;l&&(r.splice(o,1),0===r.length&&delete e._events[t],i--,o--),s.apply(e,n)}};a(i),a(o)},t.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],r=n.length,i=0;i<r;i++)n[i].callback===e&&(n.splice(i,1),r--,i--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},t.prototype.getEvents=function(){return this._events},t}();function Tt(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}var At="undefined"!==typeof window&&"undefined"!==typeof window.document;function Lt(t,e){if(t.isCanvas())return!0;var n=e.getParent(),r=!1;while(n){if(n===t){r=!0;break}n=n.getParent()}return r}function Pt(t){return t.cfg.visible&&t.cfg.capture}var Rt=function(t){function e(e){var n=t.call(this)||this;n.destroyed=!1;var r=n.getDefaultCfg();return n.cfg=P(r,e),n}return Et(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,e){this.cfg[t]=e},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(kt),It=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},Nt=function(){function t(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"}return t}(),jt=function(){function t(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return t}(),Bt=function(){function t(t,e,n,r){this.name=t,this.version=e,this.os=n,this.bot=r,this.type="bot-device"}return t}(),Dt=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Ft=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),zt=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Wt=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Ht=3,$t=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",zt]],Gt=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Vt(t){return t?Ut(t):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new Ft:"undefined"!==typeof navigator?Ut(navigator.userAgent):qt()}function Yt(t){return""!==t&&$t.reduce((function(e,n){var r=n[0],i=n[1];if(e)return e;var o=i.exec(t);return!!o&&[r,o]}),!1)}function Ut(t){var e=Yt(t);if(!e)return null;var n=e[0],r=e[1];if("searchbot"===n)return new Dt;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<Ht&&(i=It(It([],i,!0),Kt(Ht-i.length),!0)):i=[];var o=i.join("."),a=Xt(t),s=Wt.exec(t);return s&&s[1]?new Bt(n,o,a,s[1]):new Nt(n,o,a)}function Xt(t){for(var e=0,n=Gt.length;e<n;e++){var r=Gt[e],i=r[0],o=r[1],a=o.exec(t);if(a)return i}return null}function qt(){var t="undefined"!==typeof process&&process.version;return t?new jt(process.version.slice(1)):null}function Kt(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Zt="undefined"!==typeof Float32Array?Float32Array:Array;function Qt(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],f=n[0],d=n[1],p=n[2],v=n[3],g=n[4],y=n[5],m=n[6],b=n[7],x=n[8];return t[0]=f*r+d*a+p*c,t[1]=f*i+d*s+p*u,t[2]=f*o+d*l+p*h,t[3]=v*r+g*a+y*c,t[4]=v*i+g*s+y*u,t[5]=v*o+g*l+y*h,t[6]=m*r+b*a+x*c,t[7]=m*i+b*s+x*u,t[8]=m*o+b*l+x*h,t}function Jt(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function te(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function ee(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function ne(){var t=new Zt(3);return Zt!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function re(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function ie(){var t=new Zt(2);return Zt!=Float32Array&&(t[0]=0,t[1]=0),t}function oe(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function ae(t,e){return t[0]*e[0]+t[1]*e[1]}function se(t,e){return t[0]===e[0]&&t[1]===e[1]}function le(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return Jt(r,n),Qt(t,r,e)}function ce(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return te(r,n),Qt(t,r,e)}function ue(t,e,n){var r=[0,0,0,0,0,0,0,0,0];return ee(r,n),Qt(t,r,e)}function he(t,e,n){return Qt(t,n,e)}function fe(t,e){for(var n=t?[].concat(t):[1,0,0,0,1,0,0,0,1],r=0,i=e.length;r<i;r++){var o=e[r];switch(o[0]){case"t":le(n,n,[o[1],o[2]]);break;case"s":ue(n,n,[o[1],o[2]]);break;case"r":ce(n,n,o[1]);break;case"m":he(n,n,o[1]);break}}return n}function de(t,e){var n=[],r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],f=e[0],d=e[1],p=e[2],v=e[3],g=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return n[0]=f*r+d*a+p*c,n[1]=f*i+d*s+p*u,n[2]=f*o+d*l+p*h,n[3]=v*r+g*a+y*c,n[4]=v*i+g*s+y*u,n[5]=v*o+g*l+y*h,n[6]=m*r+b*a+x*c,n[7]=m*i+b*s+x*u,n[8]=m*o+b*l+x*h,n}function pe(t,e){var n=[],r=e[0],i=e[1];return n[0]=t[0]*r+t[3]*i+t[6],n[1]=t[1]*r+t[4]*i+t[7],n}function ve(t){var e=[],n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],h=u*a-s*c,f=-u*o+s*l,d=c*o-a*l,p=n*h+r*f+i*d;return p?(p=1/p,e[0]=h*p,e[1]=(-u*r+i*c)*p,e[2]=(s*r-i*a)*p,e[3]=f*p,e[4]=(u*n-i*l)*p,e[5]=(-s*n+i*o)*p,e[6]=d*p,e[7]=(-c*n+r*l)*p,e[8]=(a*n-r*o)*p,e):null}Math.hypot||(Math.hypot=function(){var t=0,e=arguments.length;while(e--)t+=arguments[e]*arguments[e];return Math.sqrt(t)}),function(){var t=ne()}(),function(){var t=ie()}();var ge=fe,ye="matrix",me=["zIndex","capture","visible","type"],be=["repeat"],xe=":",we="*";function Oe(t){for(var e=[],n=0;n<t.length;n++)d(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}function Ce(t,e){var n={},r=e.attrs;for(var i in t)n[i]=r[i];return n}function Se(t,e){var n={},r=e.attr();return v(t,(function(t,e){-1!==be.indexOf(e)||N(r[e],t)||(n[e]=t)})),n}function _e(t,e){if(e.onFrame)return t;var n=e.startTime,r=e.delay,i=e.duration,o=Object.prototype.hasOwnProperty;return v(t,(function(t){n+r<t.startTime+t.delay+t.duration&&i>t.delay&&v(e.toAttrs,(function(e,n){o.call(t.toAttrs,n)&&(delete t.toAttrs[n],delete t.fromAttrs[n])}))})),t}var Ee=function(t){function e(e){var n=t.call(this,e)||this;n.attrs={};var r=n.getDefaultAttrs();return P(r,e.attrs),n.attrs=r,n.initAttrs(r),n.initAnimate(),n}return Et(e,t),e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=e[1];if(!r)return this.attrs;if(p(r)){for(var o in r)this.setAttr(o,r[o]);return this.afterAttrsChange(r),this}return 2===e.length?(this.setAttr(r,i),this.afterAttrsChange((t={},t[r]=i,t)),this):this.attrs[r]},e.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},e.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},e.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var e=this.cfg.applyTo;e&&e.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(t){var e=t.getChildren();this.get("el");var n=e.indexOf(this);e.splice(n,1),e.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(t){var e=t.getChildren();this.get("el");var n=e.indexOf(this);e.splice(n,1),e.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(Tt(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(ye,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(ye)},e.prototype.setMatrix=function(t){this.attr(ye,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var e=this.attr("matrix"),n=this.cfg.parentMatrix;t=n&&e?de(n,e):e||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null;n=t&&e?de(t,e):e||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?pe(e,t):t},e.prototype.invertFromMatrix=function(t){var e=this.attr("matrix");if(e){var n=ve(e);if(n)return pe(n,t)}return t},e.prototype.setClip=function(t){var e=this.getCanvas(),n=null;if(t){var r=this.getShapeBase(),i=k(t.type),o=r[i];o&&(n=new o({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:e}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,e=this.attrs,n={};v(e,(function(t,r){d(e[r])?n[r]=Oe(e[r]):n[r]=e[r]}));var r=this.constructor,i=new r({attrs:n});return v(me,(function(e){i.set(e,t.get(e))})),i},e.prototype.destroy=function(){var e=this.destroyed;e||(this.attrs={},t.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.get("timeline")||this.get("canvas")){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var r=this.get("animations")||[];n.timer||n.initTimer();var i,o,a,s,l,c=t[0],u=t[1],f=t[2],d=void 0===f?"easeLinear":f,v=t[3],g=void 0===v?D:v,y=t[4],m=void 0===y?0:y;h(c)?(i=c,c={}):p(c)&&c.onFrame&&(i=c.onFrame,o=c.repeat),p(u)?(l=u,u=l.duration,d=l.easing||"easeLinear",m=l.delay||0,o=l.repeat||o||!1,g=l.callback||D,a=l.pauseCallback||D,s=l.resumeCallback||D):(x(g)&&(m=g,g=null),h(d)?(g=d,d="easeLinear"):d=d||"easeLinear");var b=Se(c,this),w={fromAttrs:Ce(b,this),toAttrs:b,duration:u,easing:d,repeat:o,callback:g,pauseCallback:a,resumeCallback:s,delay:m,startTime:n.getTime(),id:B(),onFrame:i,pathFormatted:!1};r.length>0?r=_e(r,w):n.addAnimator(this),r.push(w),this.set("animations",r),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var e=this;void 0===t&&(t=!0);var n=this.get("animations");v(n,(function(n){t&&(n.onFrame?e.attr(n.onFrame(1)):e.attr(n.toAttrs)),n.callback&&n.callback()})),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return v(e,(function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()})),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline"),e=t.getTime(),n=this.get("animations"),r=this.get("_pause").pauseTime;return v(n,(function(t){t.startTime=t.startTime+(e-r),t._paused=!1,t._pauseTime=null,t.resumeCallback&&t.resumeCallback()})),this.set("_pause",{isPaused:!1}),this.set("animations",n),this},e.prototype.emitDelegation=function(t,e){var n,r=this,i=e.propagationPath;this.getEvents(),"mouseenter"===t?n=e.fromShape:"mouseleave"===t&&(n=e.toShape);for(var o=function(t){var o=i[t],s=o.get("name");if(s){if((o.isGroup()||o.isCanvas&&o.isCanvas())&&n&&Lt(o,n))return"break";d(s)?v(s,(function(t){r.emitDelegateEvent(o,t,e)})):a.emitDelegateEvent(o,s,e)}},a=this,s=0;s<i.length;s++){var l=o(s);if("break"===l)break}},e.prototype.emitDelegateEvent=function(t,e,n){var r=this.getEvents(),i=e+xe+n.type;(r[i]||r[we])&&(n.name=i,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(i,n))},e.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),r=ge(n,[["t",t,e]]);return this.setMatrix(r),this},e.prototype.move=function(t,e){var n=this.attr("x")||0,r=this.attr("y")||0;return this.translate(t-n,e-r),this},e.prototype.moveTo=function(t,e){return this.move(t,e)},e.prototype.scale=function(t,e){var n=this.getMatrix(),r=ge(n,[["s",t,e||t]]);return this.setMatrix(r),this},e.prototype.rotate=function(t){var e=this.getMatrix(),n=ge(e,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,r=e.y,i=this.getMatrix(),o=ge(i,[["t",-n,-r],["r",t],["t",n,r]]);return this.setMatrix(o),this},e.prototype.rotateAtPoint=function(t,e,n){var r=this.getMatrix(),i=ge(r,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(i),this},e}(Rt),Me={},ke="_INDEX";function Te(t,e){if(t.set("canvas",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){Te(t,e)}))}}function Ae(t,e){if(t.set("timeline",e),t.isGroup()){var n=t.get("children");n.length&&n.forEach((function(t){Ae(t,e)}))}}function Le(t,e,n){void 0===n&&(n=!0),n?e.destroy():(e.set("parent",null),e.set("canvas",null)),Tt(t.getChildren(),e)}function Pe(t){return function(e,n){var r=t(e,n);return 0===r?e[ke]-n[ke]:r}}var Re,Ie,Ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Et(e,t),e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));a.length>0?(v(a,(function(t){var e=t.getBBox();i.push(e.minX,e.maxX),o.push(e.minY,e.maxY)})),t=m(i),e=y(i),n=m(o),r=y(o)):(t=0,e=0,n=0,r=0);var s={x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n};return s},e.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=[],o=[],a=this.getChildren().filter((function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&t.getChildren().length>0)}));a.length>0?(v(a,(function(t){var e=t.getCanvasBBox();i.push(e.minX,e.maxX),o.push(e.minY,e.maxY)})),t=m(i),e=y(i),n=m(o),r=y(o)):(t=0,e=0,n=0,r=0);var s={x:t,y:n,minX:t,minY:n,maxX:e,maxY:r,width:e-t,height:r-n};return s},e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e["children"]=[],e},e.prototype.onAttrChange=function(e,n,r){if(t.prototype.onAttrChange.call(this,e,n,r),"matrix"===e){var i=this.getTotalMatrix();this._applyChildrenMarix(i)}},e.prototype.applyMatrix=function(e){var n=this.getTotalMatrix();t.prototype.applyMatrix.call(this,e);var r=this.getTotalMatrix();r!==n&&this._applyChildrenMarix(r)},e.prototype._applyChildrenMarix=function(t){var e=this.getChildren();v(e,(function(e){e.applyMatrix(t)}))},e.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],r=t[1];p(n)?r=n:r["type"]=n;var i=Me[r.type];i||(i=k(r.type),Me[r.type]=i);var o=this.getShapeBase(),a=new o[i](r);return this.add(a),a},e.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r=t[0],i=t[1];if(h(r))n=new r(i||{parent:this});else{var o=r||{},a=this.getGroupBase();n=new a(o)}return this.add(n),n},e.prototype.getCanvas=function(){var t;return t=this.isCanvas()?this:this.get("canvas"),t},e.prototype.getShape=function(t,e,n){if(!Pt(this))return null;var r,i=this.getChildren();if(this.isCanvas())r=this._findShape(i,t,e,n);else{var o=[t,e,1];o=this.invertFromMatrix(o),this.isClipped(o[0],o[1])||(r=this._findShape(i,o[0],o[1],n))}return r},e.prototype._findShape=function(t,e,n,r){for(var i=null,o=t.length-1;o>=0;o--){var a=t[o];if(Pt(a)&&(a.isGroup()?i=a.getShape(e,n,r):a.isHit(e,n)&&(i=a)),i)break}return i},e.prototype.add=function(t){var e=this.getCanvas(),n=this.getChildren(),r=this.get("timeline"),i=t.getParent();i&&Le(i,t,!1),t.set("parent",this),e&&Te(t,e),r&&Ae(t,r),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},e.prototype.getChildren=function(){return this.get("children")},e.prototype.sort=function(){var t=this.getChildren();v(t,(function(t,e){return t[ke]=e,t})),t.sort(Pe((function(t,e){return t.get("zIndex")-e.get("zIndex")}))),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;e>=0;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),t.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){var e=this.getChildren();return e[t]},e.prototype.getCount=function(){var t=this.getChildren();return t.length},e.prototype.contain=function(t){var e=this.getChildren();return e.indexOf(t)>-1},e.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},e.prototype.findAll=function(t){var e=[],n=this.getChildren();return v(n,(function(n){t(n)&&e.push(n),n.isGroup()&&(e=e.concat(n.findAll(t)))})),e},e.prototype.find=function(t){var e=null,n=this.getChildren();return v(n,(function(n){if(t(n)?e=n:n.isGroup()&&(e=n.find(t)),e)return!1})),e},e.prototype.findById=function(t){return this.find((function(e){return e.get("id")===t}))},e.prototype.findByClassName=function(t){return this.find((function(e){return e.get("className")===t}))},e.prototype.findAllByName=function(t){return this.findAll((function(e){return e.get("name")===t}))},e}(Ee),je=0,Be=0,De=0,Fe=1e3,ze=0,We=0,He=0,$e="object"===typeof performance&&performance.now?performance:Date,Ge="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ve(){return We||(Ge(Ye),We=$e.now()+He)}function Ye(){We=0}function Ue(){this._call=this._time=this._next=null}function Xe(t,e,n){var r=new Ue;return r.restart(t,e,n),r}function qe(){Ve(),++je;var t,e=Re;while(e)(t=We-e._time)>=0&&e._call.call(null,t),e=e._next;--je}function Ke(){We=(ze=$e.now())+He,je=Be=0;try{qe()}finally{je=0,Qe(),We=0}}function Ze(){var t=$e.now(),e=t-ze;e>Fe&&(He-=e,ze=t)}function Qe(){var t,e,n=Re,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Re=e);Ie=t,Je(r)}function Je(t){if(!je){Be&&(Be=clearTimeout(Be));var e=t-We;e>24?(t<1/0&&(Be=setTimeout(Ke,t-$e.now()-He)),De&&(De=clearInterval(De))):(De||(ze=$e.now(),De=setInterval(Ze,Fe)),je=1,Ge(Ke))}}function tn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function en(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function nn(){}Ue.prototype=Xe.prototype={constructor:Ue,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?Ve():+n)+(null==e?0:+e),this._next||Ie===this||(Ie?Ie._next=this:Re=this,Ie=this),this._call=t,this._time=n,Je()},stop:function(){this._call&&(this._call=null,this._time=1/0,Je())}};var rn=.7,on=1/rn,an="\\s*([+-]?\\d+)\\s*",sn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ln="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cn=/^#([0-9a-f]{3,8})$/,un=new RegExp("^rgb\\("+[an,an,an]+"\\)$"),hn=new RegExp("^rgb\\("+[ln,ln,ln]+"\\)$"),fn=new RegExp("^rgba\\("+[an,an,an,sn]+"\\)$"),dn=new RegExp("^rgba\\("+[ln,ln,ln,sn]+"\\)$"),pn=new RegExp("^hsl\\("+[sn,ln,ln]+"\\)$"),vn=new RegExp("^hsla\\("+[sn,ln,ln,sn]+"\\)$"),gn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function yn(){return this.rgb().formatHex()}function mn(){return An(this).formatHsl()}function bn(){return this.rgb().formatRgb()}function xn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=cn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?wn(e):3===n?new _n(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?On(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?On(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=un.exec(t))?new _n(e[1],e[2],e[3],1):(e=hn.exec(t))?new _n(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=fn.exec(t))?On(e[1],e[2],e[3],e[4]):(e=dn.exec(t))?On(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=pn.exec(t))?Tn(e[1],e[2]/100,e[3]/100,1):(e=vn.exec(t))?Tn(e[1],e[2]/100,e[3]/100,e[4]):gn.hasOwnProperty(t)?wn(gn[t]):"transparent"===t?new _n(NaN,NaN,NaN,0):null}function wn(t){return new _n(t>>16&255,t>>8&255,255&t,1)}function On(t,e,n,r){return r<=0&&(t=e=n=NaN),new _n(t,e,n,r)}function Cn(t){return t instanceof nn||(t=xn(t)),t?(t=t.rgb(),new _n(t.r,t.g,t.b,t.opacity)):new _n}function Sn(t,e,n,r){return 1===arguments.length?Cn(t):new _n(t,e,n,null==r?1:r)}function _n(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function En(){return"#"+kn(this.r)+kn(this.g)+kn(this.b)}function Mn(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function kn(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Tn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Pn(t,e,n,r)}function An(t){if(t instanceof Pn)return new Pn(t.h,t.s,t.l,t.opacity);if(t instanceof nn||(t=xn(t)),!t)return new Pn;if(t instanceof Pn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Pn(a,s,l,t.opacity)}function Ln(t,e,n,r){return 1===arguments.length?An(t):new Pn(t,e,n,null==r?1:r)}function Pn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Rn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function In(t){return function(){return t}}function Nn(t,e){return function(n){return t+n*e}}function jn(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Bn(t){return 1===(t=+t)?Dn:function(e,n){return n-e?jn(e,n,t):In(isNaN(e)?n:e)}}function Dn(t,e){var n=e-t;return n?Nn(t,n):In(isNaN(t)?e:t)}tn(nn,xn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:yn,formatHex:yn,formatHsl:mn,formatRgb:bn,toString:bn}),tn(_n,Sn,en(nn,{brighter:function(t){return t=null==t?on:Math.pow(on,t),new _n(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?rn:Math.pow(rn,t),new _n(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:En,formatHex:En,formatRgb:Mn,toString:Mn})),tn(Pn,Ln,en(nn,{brighter:function(t){return t=null==t?on:Math.pow(on,t),new Pn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?rn:Math.pow(rn,t),new Pn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new _n(Rn(t>=240?t-240:t+120,i,r),Rn(t,i,r),Rn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Fn=function t(e){var n=Bn(e);function r(t,e){var r=n((t=Sn(t)).r,(e=Sn(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Dn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function zn(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Wn(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Hn(t,e){return(Wn(e)?zn:$n)(t,e)}function $n(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Qn(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Gn(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Vn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Yn(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=Qn(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Un=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xn=new RegExp(Un.source,"g");function qn(t){return function(){return t}}function Kn(t){return function(e){return t(e)+""}}function Zn(t,e){var n,r,i,o=Un.lastIndex=Xn.lastIndex=0,a=-1,s=[],l=[];t+="",e+="";while((n=Un.exec(t))&&(r=Xn.exec(e)))(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Vn(n,r)})),o=Xn.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?Kn(l[0].x):qn(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function Qn(t,e){var n,r=typeof e;return null==e||"boolean"===r?In(e):("number"===r?Vn:"string"===r?(n=xn(e))?(e=n,Fn):Zn:e instanceof xn?Fn:e instanceof Date?Gn:Wn(e)?zn:Array.isArray(e)?$n:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?Yn:Vn)(t,e)}function Jn(t){return+t}function tr(t){return t*t}function er(t){return t*(2-t)}function nr(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function rr(t){return t*t*t}function ir(t){return--t*t*t+1}function or(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ar=3,sr=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(ar),lr=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(ar),cr=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(ar),ur=Math.PI,hr=ur/2;function fr(t){return 1===+t?1:1-Math.cos(t*hr)}function dr(t){return Math.sin(t*hr)}function pr(t){return(1-Math.cos(ur*t))/2}function vr(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function gr(t){return vr(1-+t)}function yr(t){return 1-vr(t)}function mr(t){return((t*=2)<=1?vr(1-t):2-vr(t-1))/2}function br(t){return 1-Math.sqrt(1-t*t)}function xr(t){return Math.sqrt(1- --t*t)}function wr(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Or=4/11,Cr=6/11,Sr=8/11,_r=3/4,Er=9/11,Mr=10/11,kr=15/16,Tr=21/22,Ar=63/64,Lr=1/Or/Or;function Pr(t){return 1-Rr(1-t)}function Rr(t){return(t=+t)<Or?Lr*t*t:t<Sr?Lr*(t-=Cr)*t+_r:t<Mr?Lr*(t-=Er)*t+kr:Lr*(t-=Tr)*t+Ar}function Ir(t){return((t*=2)<=1?1-Rr(1-t):Rr(t-1)+1)/2}var Nr=1.70158,jr=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(Nr),Br=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(Nr),Dr=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(Nr),Fr=2*Math.PI,zr=1,Wr=.3,Hr=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Fr);function i(t){return e*vr(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*Fr)},i.period=function(n){return t(e,n)},i}(zr,Wr),$r=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Fr);function i(t){return 1-e*vr(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*Fr)},i.period=function(n){return t(e,n)},i}(zr,Wr),Gr=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Fr);function i(t){return((t=2*t-1)<0?e*vr(-t)*Math.sin((r-t)/n):2-e*vr(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*Fr)},i.period=function(n){return t(e,n)},i}(zr,Wr),Vr=Object.freeze({__proto__:null,easeLinear:Jn,easeQuad:nr,easeQuadIn:tr,easeQuadOut:er,easeQuadInOut:nr,easeCubic:or,easeCubicIn:rr,easeCubicOut:ir,easeCubicInOut:or,easePoly:cr,easePolyIn:sr,easePolyOut:lr,easePolyInOut:cr,easeSin:pr,easeSinIn:fr,easeSinOut:dr,easeSinInOut:pr,easeExp:mr,easeExpIn:gr,easeExpOut:yr,easeExpInOut:mr,easeCircle:wr,easeCircleIn:br,easeCircleOut:xr,easeCircleInOut:wr,easeBounce:Rr,easeBounceIn:Pr,easeBounceOut:Rr,easeBounceInOut:Ir,easeBack:Dr,easeBackIn:jr,easeBackOut:Br,easeBackInOut:Dr,easeElastic:$r,easeElasticIn:Hr,easeElasticOut:$r,easeElasticInOut:Gr}),Yr={};function Ur(t){return Yr[t.toLowerCase()]||Vr[t]}var Xr=function(t){return["fill","stroke","fillStyle","strokeStyle"].includes(t)},qr=function(t){return/^[r,R,L,l]{1}[\s]*\(/.test(t)},Kr=[1,0,0,0,1,0,0,0,1];function Zr(t,e,n){var r={},i=e.fromAttrs,o=e.toAttrs;if(!t.destroyed){var a;for(var s in o)if(!N(i[s],o[s]))if("path"===s){var l=o[s],c=i[s];l.length>c.length?(l=$(o[s]),c=$(i[s]),c=bt(c,l),c=Ot(c,l),e.fromAttrs.path=c,e.toAttrs.path=l):e.pathFormatted||(l=$(o[s]),c=$(i[s]),c=Ot(c,l),e.fromAttrs.path=c,e.toAttrs.path=l,e.pathFormatted=!0),r[s]=[];for(var u=0;u<l.length;u++){for(var f=l[u],d=c[u],p=[],v=0;v<f.length;v++)x(f[v])&&d&&x(d[v])?(a=Qn(d[v],f[v]),p.push(a(n))):p.push(f[v]);r[s].push(p)}}else if("matrix"===s){var g=Hn(i[s]||Kr,o[s]||Kr),y=g(n);r[s]=y}else Xr(s)&&qr(o[s])?r[s]=o[s]:h(o[s])||(a=Qn(i[s],o[s]),r[s]=a(n));t.attr(r)}}function Qr(t,e,n){var r,i=e.startTime,o=e.delay;if(n<i+o||e._paused)return!1;var a=e.duration,s=e.easing,l=Ur(s);if(n=n-i-e.delay,e.repeat)r=n%a/a,r=l(r);else{if(r=n/a,!(r<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;r=l(r)}if(e.onFrame){var c=e.onFrame(r);t.attr(c)}else Zr(t,e,r);return!1}var Jr=function(){function t(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}return t.prototype.initTimer=function(){var t,e,n,r=this,i=!1;this.timer=Xe((function(o){if(r.current=o,r.animators.length>0){for(var a=r.animators.length-1;a>=0;a--)if(t=r.animators[a],t.destroyed)r.removeAnimator(a);else{if(!t.isAnimatePaused()){e=t.get("animations");for(var s=e.length-1;s>=0;s--)n=e[s],i=Qr(t,n,o),i&&(e.splice(s,1),i=!1,n.callback&&n.callback())}0===e.length&&r.removeAnimator(a)}var l=r.canvas.get("autoDraw");l||r.canvas.draw()}}))},t.prototype.addAnimator=function(t){this.animators.push(t)},t.prototype.removeAnimator=function(t){this.animators.splice(t,1)},t.prototype.isAnimating=function(){return!!this.animators.length},t.prototype.stop=function(){this.timer&&this.timer.stop()},t.prototype.stopAllAnimations=function(t){void 0===t&&(t=!0),this.animators.forEach((function(e){e.stopAnimate(t)})),this.animators=[],this.canvas.draw()},t.prototype.getTime=function(){return this.current},t}(),ti=40,ei=0,ni=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function ri(t,e,n){n.name=e,n.target=t,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}function ii(t,e,n){if(n.bubbles){var r=void 0,i=!1;if("mouseenter"===e?(r=n.fromShape,i=!0):"mouseleave"===e&&(i=!0,r=n.toShape),t.isCanvas()&&i)return;if(r&&Lt(t,r))return void(n.bubbles=!1);n.name=e,n.currentTarget=t,n.delegateTarget=t,t.emit(e,n)}}var oi=function(){function t(t){var e=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var n=t.type;e._triggerEvent(n,t)},this._onDocumentMove=function(t){var n=e.canvas,r=n.get("el");if(r!==t.target&&(e.dragging||e.currentShape)){var i=e._getPointInfo(t);e.dragging&&e._emitEvent("drag",t,i,e.draggingShape)}},this._onDocumentMouseUp=function(t){var n=e.canvas,r=n.get("el");if(r!==t.target&&e.dragging){var i=e._getPointInfo(t);e.draggingShape&&e._emitEvent("drop",t,i,null),e._emitEvent("dragend",t,i,e.draggingShape),e._afterDrag(e.draggingShape,i,t)}},this.canvas=t.canvas}return t.prototype.init=function(){this._bindEvents()},t.prototype._bindEvents=function(){var t=this,e=this.canvas.get("el");v(ni,(function(n){e.addEventListener(n,t._eventCallback)})),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._clearEvents=function(){var t=this,e=this.canvas.get("el");v(ni,(function(n){e.removeEventListener(n,t._eventCallback)})),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},t.prototype._getEventObj=function(t,e,n,r,i,o){var a=new St(t,e);return a.fromShape=i,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(r),a},t.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},t.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),r=e.getPointByEvent(t);return{x:r.x,y:r.y,clientX:n.x,clientY:n.y}},t.prototype._triggerEvent=function(t,e){var n=this._getPointInfo(e),r=this._getShape(n,e),i=this["_on"+t],o=!1;if(i)i.call(this,n,r,e);else{var a=this.currentShape;"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,n,null,null,r),r&&this._emitEvent(t,e,n,r,null,r),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,n,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(o=!0,a&&this._emitEvent(t,e,n,a,a,null),this._emitEvent(t,e,n,null,a,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,n,null)):this._emitEvent(t,e,n,r,null,null)}if(o||(this.currentShape=r),r&&!r.get("destroyed")){var s=this.canvas,l=s.get("el");l.style.cursor=r.attr("cursor")||s.get("cursor")}},t.prototype._onmousedown=function(t,e,n){n.button===ei&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},t.prototype._emitMouseoverEvents=function(t,e,n,r){var i=this.canvas.get("el");n!==r&&(n&&(this._emitEvent("mouseout",t,e,n,n,r),this._emitEvent("mouseleave",t,e,n,n,r),r&&!r.get("destroyed")||(i.style.cursor=this.canvas.get("cursor"))),r&&(this._emitEvent("mouseover",t,e,r,n,r),this._emitEvent("mouseenter",t,e,r,n,r)))},t.prototype._emitDragoverEvents=function(t,e,n,r,i){r?(r!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,r),this._emitEvent("dragenter",t,e,r,n,r)),i||this._emitEvent("dragover",t,e,r)):n&&this._emitEvent("dragleave",t,e,n,n,r),i&&this._emitEvent("dragover",t,e,r)},t.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var r=this._getShape(e,n);r!==t&&this._emitMouseoverEvents(n,e,t,r),this.currentShape=r},t.prototype._onmouseup=function(t,e,n){if(n.button===ei){var r=this.draggingShape;this.dragging?(r&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,r),this._afterDrag(r,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null)}},t.prototype._ondragover=function(t,e,n){n.preventDefault();var r=this.currentShape;this._emitDragoverEvents(n,t,r,e,!0)},t.prototype._onmousemove=function(t,e,n){var r=this.canvas,i=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(n,t,i,e,!1),this._emitEvent("drag",n,t,o);else{var a=this.mousedownPoint;if(a){var s=this.mousedownShape,l=n.timeStamp,c=l-this.mousedownTimeStamp,u=a.clientX-t.clientX,h=a.clientY-t.clientY,f=u*u+h*h;c>120||f>ti?s&&s.get("draggable")?(o=this.mousedownShape,o.set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",n,t,o),this.mousedownShape=null,this.mousedownPoint=null):!s&&r.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e))}else this._emitMouseoverEvents(n,t,i,e),this._emitEvent("mousemove",n,t,e)}},t.prototype._emitEvent=function(t,e,n,r,i,o){var a=this._getEventObj(t,e,n,r,i,o);if(r){a.shape=r,ri(r,t,a);var s=r.getParent();while(s)s.emitDelegation(t,a),a.propagationStopped||ii(s,t,a),a.propagationPath.push(s),s=s.getParent()}else{var l=this.canvas;ri(l,t,a)}},t.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},t}(),ai="px",si=Vt(),li=si&&"firefox"===si.name,ci=function(t){function e(e){var n=t.call(this,e)||this;return n.initContainer(),n.initDom(),n.initEvents(),n.initTimeline(),n}return Et(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e["cursor"]="default",e["supportCSSTransform"]=!1,e},e.prototype.initContainer=function(){var t=this.get("container");b(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t);var e=this.get("container");e.appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new oi({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new Jr(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,e){var n=this.get("el");At&&(n.style.width=t+ai,n.style.height=e+ai)},e.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");At&&e&&(e.style.cursor=t)},e.prototype.getPointByEvent=function(t){var e=this.get("supportCSSTransform");if(e){if(li&&!f(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!f(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var n=this.getClientByEvent(t),r=n.x,i=n.y;return this.getPointByClient(r,i)},e.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},e.prototype.getPointByClient=function(t,e){var n=this.get("el"),r=n.getBoundingClientRect();return{x:t-r.left,y:e-r.top}},e.prototype.getClientByPoint=function(t,e){var n=this.get("el"),r=n.getBoundingClientRect();return{x:t+r.left,y:e+r.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){var t=this.get("eventController");t.destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var e=this.get("timeline");this.get("destroyed")||(this.clear(),e&&e.stop(),this.clearEvents(),this.removeDom(),t.prototype.destroy.call(this))},e}(Ne),ui=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Et(e,t),e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=this.getChildren(),r=0;r<n.length;r++){var i=n[r];e.add(i.clone())}return e},e}(Ne),hi=function(t){function e(e){return t.call(this,e)||this}return Et(e,t),e.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(e){t.prototype.applyMatrix.call(this,e),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),e=this.getTotalMatrix(),n=t.minX,r=t.minY,i=t.maxX,o=t.maxY;if(e){var a=pe(e,[t.minX,t.minY]),s=pe(e,[t.maxX,t.minY]),l=pe(e,[t.minX,t.maxY]),c=pe(e,[t.maxX,t.maxY]);n=Math.min(a[0],s[0],l[0],c[0]),i=Math.max(a[0],s[0],l[0],c[0]),r=Math.min(a[1],s[1],l[1],c[1]),o=Math.max(a[1],s[1],l[1],c[1])}var u=this.attrs;if(u.shadowColor){var h=u.shadowBlur,f=void 0===h?0:h,d=u.shadowOffsetX,p=void 0===d?0:d,v=u.shadowOffsetY,g=void 0===v?0:v,y=n-f+p,m=i+f+p,b=r-f+g,x=o+f+g;n=Math.min(n,y),i=Math.max(i,m),r=Math.min(r,b),o=Math.max(o,x)}return{x:n,y:r,minX:n,minY:r,maxX:i,maxY:o,width:i-n,height:o-r}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,e){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),r=this.get("endArrowShape"),i=[t,e,1];i=this.invertFromMatrix(i);var o=i[0],a=i[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(r&&r.isHit(o,a))return!0}return!1},e}(Ee),fi=new Map;function di(t,e){fi.set(t,e)}function pi(t){return fi.get(t)}function vi(t){var e=t.attr(),n=e.x,r=e.y,i=e.width,o=e.height;return{x:n,y:r,width:i,height:o}}function gi(t){var e=t.attr(),n=e.x,r=e.y,i=e.r;return{x:n-i,y:r-i,width:2*i,height:2*i}}function yi(t){return Math.min.apply(null,t)}function mi(t){return Math.max.apply(null,t)}function bi(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function xi(t,e){return Math.abs(t-e)<.001}function wi(t,e){var n=yi(t),r=yi(e),i=mi(t),o=mi(e);return{x:n,y:r,width:i-n,height:o-r}}function Oi(t){return(t+2*Math.PI)%(2*Math.PI)}var Ci={box:function(t,e,n,r){return wi([t,n],[e,r])},length:function(t,e,n,r){return bi(t,e,n,r)},pointAt:function(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}},pointDistance:function(t,e,n,r,i,o){var a=(n-t)*(i-t)+(r-e)*(o-e);if(a<0)return bi(t,e,i,o);var s=(n-t)*(n-t)+(r-e)*(r-e);return a>s?bi(n,r,i,o):this.pointToLine(t,e,n,r,i,o)},pointToLine:function(t,e,n,r,i,o){var a=[n-t,r-e];if(se(a,[0,0]))return Math.sqrt((i-t)*(i-t)+(o-e)*(o-e));var s=[-a[1],a[0]];oe(s,s);var l=[i-t,o-e];return Math.abs(ae(l,s))},tangentAngle:function(t,e,n,r){return Math.atan2(r-e,n-t)}},Si=1e-4;function _i(t,e,n,r,i,o){var a,s=1/0,l=[n,r],c=20;o&&o>200&&(c=o/10);for(var u=1/c,h=u/10,f=0;f<=c;f++){var d=f*u,p=[i.apply(null,t.concat([d])),i.apply(null,e.concat([d]))],v=bi(l[0],l[1],p[0],p[1]);v<s&&(a=d,s=v)}if(0===a)return{x:t[0],y:e[0]};if(1===a){var g=t.length;return{x:t[g-1],y:e[g-1]}}s=1/0;for(f=0;f<32;f++){if(h<Si)break;var y=a-h,m=a+h;p=[i.apply(null,t.concat([y])),i.apply(null,e.concat([y]))],v=bi(l[0],l[1],p[0],p[1]);if(y>=0&&v<s)a=y,s=v;else{var b=[i.apply(null,t.concat([m])),i.apply(null,e.concat([m]))],x=bi(l[0],l[1],b[0],b[1]);m<=1&&x<s?(a=m,s=x):h*=.5}}return{x:i.apply(null,t.concat([a])),y:i.apply(null,e.concat([a]))}}function Ei(t,e){for(var n=0,r=t.length,i=0;i<r;i++){var o=t[i],a=e[i],s=t[(i+1)%r],l=e[(i+1)%r];n+=bi(o,a,s,l)}return n/2}function Mi(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function ki(t,e,n){var r=t+n-2*e;if(xi(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}function Ti(t,e,n,r){return 2*(1-r)*(e-t)+2*r*(n-e)}function Ai(t,e,n,r,i,o,a){var s=Mi(t,n,i,a),l=Mi(e,r,o,a),c=Ci.pointAt(t,e,n,r,a),u=Ci.pointAt(n,r,i,o,a);return[[t,e,c.x,c.y,s,l],[s,l,u.x,u.y,i,o]]}function Li(t,e,n,r,i,o,a){if(0===a)return(bi(t,e,n,r)+bi(n,r,i,o)+bi(t,e,i,o))/2;var s=Ai(t,e,n,r,i,o,.5),l=s[0],c=s[1];return l.push(a-1),c.push(a-1),Li.apply(null,l)+Li.apply(null,c)}var Pi={box:function(t,e,n,r,i,o){var a=ki(t,n,i)[0],s=ki(e,r,o)[0],l=[t,i],c=[e,o];return void 0!==a&&l.push(Mi(t,n,i,a)),void 0!==s&&c.push(Mi(e,r,o,s)),wi(l,c)},length:function(t,e,n,r,i,o){return Li(t,e,n,r,i,o,3)},nearestPoint:function(t,e,n,r,i,o,a,s){return _i([t,n,i],[e,r,o],a,s,Mi)},pointDistance:function(t,e,n,r,i,o,a,s){var l=this.nearestPoint(t,e,n,r,i,o,a,s);return bi(l.x,l.y,a,s)},interpolationAt:Mi,pointAt:function(t,e,n,r,i,o,a){return{x:Mi(t,n,i,a),y:Mi(e,r,o,a)}},divide:function(t,e,n,r,i,o,a){return Ai(t,e,n,r,i,o,a)},tangentAngle:function(t,e,n,r,i,o,a){var s=Ti(t,n,i,a),l=Ti(e,r,o,a),c=Math.atan2(l,s);return Oi(c)}};function Ri(t,e,n,r,i){var o=1-i;return o*o*o*t+3*e*i*o*o+3*n*i*i*o+r*i*i*i}function Ii(t,e,n,r,i){var o=1-i;return 3*(o*o*(e-t)+2*o*i*(n-e)+i*i*(r-n))}function Ni(t,e,n,r){var i,o,a,s=-3*t+9*e-9*n+3*r,l=6*t-12*e+6*n,c=3*e-3*t,u=[];if(xi(s,0))xi(l,0)||(i=-c/l,i>=0&&i<=1&&u.push(i));else{var h=l*l-4*s*c;xi(h,0)?u.push(-l/(2*s)):h>0&&(a=Math.sqrt(h),i=(-l+a)/(2*s),o=(-l-a)/(2*s),i>=0&&i<=1&&u.push(i),o>=0&&o<=1&&u.push(o))}return u}function ji(t,e,n,r,i,o,a,s,l){var c=Ri(t,n,i,a,l),u=Ri(e,r,o,s,l),h=Ci.pointAt(t,e,n,r,l),f=Ci.pointAt(n,r,i,o,l),d=Ci.pointAt(i,o,a,s,l),p=Ci.pointAt(h.x,h.y,f.x,f.y,l),v=Ci.pointAt(f.x,f.y,d.x,d.y,l);return[[t,e,h.x,h.y,p.x,p.y,c,u],[c,u,v.x,v.y,d.x,d.y,a,s]]}function Bi(t,e,n,r,i,o,a,s,l){if(0===l)return Ei([t,n,i,a],[e,r,o,s]);var c=ji(t,e,n,r,i,o,a,s,.5),u=c[0],h=c[1];return u.push(l-1),h.push(l-1),Bi.apply(null,u)+Bi.apply(null,h)}var Di={extrema:Ni,box:function(t,e,n,r,i,o,a,s){for(var l=[t,a],c=[e,s],u=Ni(t,n,i,a),h=Ni(e,r,o,s),f=0;f<u.length;f++)l.push(Ri(t,n,i,a,u[f]));for(f=0;f<h.length;f++)c.push(Ri(e,r,o,s,h[f]));return wi(l,c)},length:function(t,e,n,r,i,o,a,s){return Bi(t,e,n,r,i,o,a,s,3)},nearestPoint:function(t,e,n,r,i,o,a,s,l,c,u){return _i([t,n,i,a],[e,r,o,s],l,c,Ri,u)},pointDistance:function(t,e,n,r,i,o,a,s,l,c,u){var h=this.nearestPoint(t,e,n,r,i,o,a,s,l,c,u);return bi(h.x,h.y,l,c)},interpolationAt:Ri,pointAt:function(t,e,n,r,i,o,a,s,l){return{x:Ri(t,n,i,a,l),y:Ri(e,r,o,s,l)}},divide:function(t,e,n,r,i,o,a,s,l){return ji(t,e,n,r,i,o,a,s,l)},tangentAngle:function(t,e,n,r,i,o,a,s,l){var c=Ii(t,n,i,a,l),u=Ii(e,r,o,s,l);return Oi(Math.atan2(u,c))}};function Fi(t,e){var n=Math.abs(t);return e>0?n:-1*n}var zi={box:function(t,e,n,r){return{x:t-n,y:e-r,width:2*n,height:2*r}},length:function(t,e,n,r){return Math.PI*(3*(n+r)-Math.sqrt((3*n+r)*(n+3*r)))},nearestPoint:function(t,e,n,r,i,o){var a=n,s=r;if(0===a||0===s)return{x:t,y:e};for(var l,c,u=i-t,h=o-e,f=Math.abs(u),d=Math.abs(h),p=a*a,v=s*s,g=Math.PI/4,y=0;y<4;y++){l=a*Math.cos(g),c=s*Math.sin(g);var m=(p-v)*Math.pow(Math.cos(g),3)/a,b=(v-p)*Math.pow(Math.sin(g),3)/s,x=l-m,w=c-b,O=f-m,C=d-b,S=Math.hypot(w,x),_=Math.hypot(C,O),E=S*Math.asin((x*C-w*O)/(S*_)),M=E/Math.sqrt(p+v-l*l-c*c);g+=M,g=Math.min(Math.PI/2,Math.max(0,g))}return{x:t+Fi(l,u),y:e+Fi(c,h)}},pointDistance:function(t,e,n,r,i,o){var a=this.nearestPoint(t,e,n,r,i,o);return bi(a.x,a.y,i,o)},pointAt:function(t,e,n,r,i){var o=2*Math.PI*i;return{x:t+n*Math.cos(o),y:e+r*Math.sin(o)}},tangentAngle:function(t,e,n,r,i){var o=2*Math.PI*i,a=Math.atan2(r*Math.cos(o),-n*Math.sin(o));return Oi(a)}};function Wi(t,e,n,r,i,o,a,s){return-1*n*Math.cos(i)*Math.sin(s)-r*Math.sin(i)*Math.cos(s)}function Hi(t,e,n,r,i,o,a,s){return-1*n*Math.sin(i)*Math.sin(s)+r*Math.cos(i)*Math.cos(s)}function $i(t,e,n){return Math.atan(-e/t*Math.tan(n))}function Gi(t,e,n){return Math.atan(e/(t*Math.tan(n)))}function Vi(t,e,n,r,i,o){return n*Math.cos(i)*Math.cos(o)-r*Math.sin(i)*Math.sin(o)+t}function Yi(t,e,n,r,i,o){return n*Math.sin(i)*Math.cos(o)+r*Math.cos(i)*Math.sin(o)+e}function Ui(t,e,n,r){var i=Math.atan2(r*t,n*e);return(i+2*Math.PI)%(2*Math.PI)}function Xi(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function qi(t,e,n){var r=Math.cos(n),i=Math.sin(n);return[t*r-e*i,t*i+e*r]}var Ki={box:function(t,e,n,r,i,o,a){for(var s=$i(n,r,i),l=1/0,c=-1/0,u=[o,a],h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var f=s+h;o<a?o<f&&f<a&&u.push(f):a<f&&f<o&&u.push(f)}for(h=0;h<u.length;h++){var d=Vi(t,e,n,r,i,u[h]);d<l&&(l=d),d>c&&(c=d)}var p=Gi(n,r,i),v=1/0,g=-1/0,y=[o,a];for(h=2*-Math.PI;h<=2*Math.PI;h+=Math.PI){var m=p+h;o<a?o<m&&m<a&&y.push(m):a<m&&m<o&&y.push(m)}for(h=0;h<y.length;h++){var b=Yi(t,e,n,r,i,y[h]);b<v&&(v=b),b>g&&(g=b)}return{x:l,y:v,width:c-l,height:g-v}},length:function(t,e,n,r,i,o,a){},nearestPoint:function(t,e,n,r,i,o,a,s,l){var c=qi(s-t,l-e,-i),u=c[0],h=c[1],f=zi.nearestPoint(0,0,n,r,u,h),d=Ui(n,r,f.x,f.y);d<o?f=Xi(n,r,o):d>a&&(f=Xi(n,r,a));var p=qi(f.x,f.y,i);return{x:p[0]+t,y:p[1]+e}},pointDistance:function(t,e,n,r,i,o,a,s,l){var c=this.nearestPoint(t,e,n,r,s,l);return bi(c.x,c.y,s,l)},pointAt:function(t,e,n,r,i,o,a,s){var l=(a-o)*s+o;return{x:Vi(t,e,n,r,i,l),y:Yi(t,e,n,r,i,l)}},tangentAngle:function(t,e,n,r,i,o,a,s){var l=(a-o)*s+o,c=Wi(t,e,n,r,i,o,a,l),u=Hi(t,e,n,r,i,o,a,l);return Oi(Math.atan2(u,c))}};function Zi(t){for(var e=0,n=[],r=0;r<t.length-1;r++){var i=t[r],o=t[r+1],a=bi(i[0],i[1],o[0],o[1]),s={from:i,to:o,length:a};n.push(s),e+=a}return{segments:n,totalLength:e}}function Qi(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=bi(r[0],r[1],i[0],i[1])}return e}function Ji(t,e){if(e>1||e<0||t.length<2)return null;var n=Zi(t),r=n.segments,i=n.totalLength;if(0===i)return{x:t[0][0],y:t[0][1]};for(var o=0,a=null,s=0;s<r.length;s++){var l=r[s],c=l.from,u=l.to,h=l.length/i;if(e>=o&&e<=o+h){var f=(e-o)/h;a=Ci.pointAt(c[0],c[1],u[0],u[1],f);break}o+=h}return a}function to(t,e){if(e>1||e<0||t.length<2)return 0;for(var n=Zi(t),r=n.segments,i=n.totalLength,o=0,a=0,s=0;s<r.length;s++){var l=r[s],c=l.from,u=l.to,h=l.length/i;if(e>=o&&e<=o+h){a=Math.atan2(u[1]-c[1],u[0]-c[0]);break}o+=h}return a}function eo(t,e,n){for(var r=1/0,i=0;i<t.length-1;i++){var o=t[i],a=t[i+1],s=Ci.pointDistance(o[0],o[1],a[0],a[1],e,n);s<r&&(r=s)}return r}var no={box:function(t){for(var e=[],n=[],r=0;r<t.length;r++){var i=t[r];e.push(i[0]),n.push(i[1])}return wi(e,n)},length:function(t){return Qi(t)},pointAt:function(t,e){return Ji(t,e)},pointDistance:function(t,e,n){return eo(t,e,n)},tangentAngle:function(t,e){return to(t,e)}};function ro(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function io(t,e){var n=t.get("startArrowShape"),r=t.get("endArrowShape"),i=null,o=null;return n&&(i=n.getCanvasBBox(),e=ro(e,i)),r&&(o=r.getCanvasBBox(),e=ro(e,o)),e}function oo(t){for(var e=t.attr(),n=e.points,r=[],i=[],o=0;o<n.length;o++){var a=n[o];r.push(a[0]),i.push(a[1])}var s=wi(r,i),l=s.x,c=s.y,u=s.width,h=s.height,f={minX:l,minY:c,maxX:l+u,maxY:c+h};return f=io(t,f),{x:f.minX,y:f.minY,width:f.maxX-f.minX,height:f.maxY-f.minY}}function ao(t){for(var e=t.attr(),n=e.points,r=[],i=[],o=0;o<n.length;o++){var a=n[o];r.push(a[0]),i.push(a[1])}return wi(r,i)}var so=null;function lo(){if(!so){var t=document.createElement("canvas");t.width=1,t.height=1,so=t.getContext("2d")}return so}function co(t,e,n){var r=1;if(b(t)&&(r=t.split("\n").length),r>1){var i=uo(e,n);return e*r+i*(r-1)}return e}function uo(t,e){return e?e-t:.14*t}function ho(t,e){var n=lo(),r=0;if(f(t)||""===t)return r;if(n.save(),n.font=e,b(t)&&t.includes("\n")){var i=t.split("\n");v(i,(function(t){var e=n.measureText(t).width;r<e&&(r=e)}))}else r=n.measureText(t).width;return n.restore(),r}function fo(t){var e=t.fontSize,n=t.fontFamily,r=t.fontWeight,i=t.fontStyle,o=t.fontVariant;return[i,o,r,e+"px",n].join(" ").trim()}function po(t){var e=t.attr(),n=e.x,r=e.y,i=e.text,o=e.fontSize,a=e.lineHeight,s=e.font;s||(s=fo(e));var l,c=ho(i,s);if(c){var u=e.textAlign,h=e.textBaseline,f=co(i,o,a),d={x:n,y:r-f};u&&("end"===u||"right"===u?d.x-=c:"center"===u&&(d.x-=c/2)),h&&("top"===h?d.y+=f:"middle"===h&&(d.y+=f/2)),l={x:d.x,y:d.y,width:c,height:f}}else l={x:n,y:r,width:0,height:0};return l}var vo=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,go=/[^\s\,]+/gi;function yo(t){var e=t||[];return d(e)?e:b(e)?(e=e.match(vo),v(e,(function(t,n){if(t=t.match(go),t[0].length>1){var r=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=r}v(t,(function(e,n){isNaN(e)||(t[n]=+e)})),e[n]=t})),e):void 0}var mo="\t\n\v\f\r   ᠎             　\u2028\u2029",bo=new RegExp("([a-z])["+mo+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+mo+"]*,?["+mo+"]*)+)","ig"),xo=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+mo+"]*,?["+mo+"]*","ig");function wo(t){if(!t)return null;if(d(t))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(bo,(function(t,r,i){var o=[],a=r.toLowerCase();if(i.replace(xo,(function(t,e){e&&o.push(+e)})),"m"===a&&o.length>2&&(n.push([r].concat(o.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===o.length&&n.push([r,o[0]]),"r"===a)n.push([r].concat(o));else while(o.length>=e[a])if(n.push([r].concat(o.splice(0,e[a]))),!e[a])break;return""})),n}var Oo=/[a-z]/;function Co(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function So(t){var e=wo(t);if(!e||!e.length)return[["M",0,0]];for(var n=!1,r=0;r<e.length;r++){var i=e[r][0];if(Oo.test(i)||["V","H","T","S"].indexOf(i)>=0){n=!0;break}}if(!n)return e;var o=[],a=0,s=0,l=0,c=0,u=0,h=e[0];"M"!==h[0]&&"m"!==h[0]||(a=+h[1],s=+h[2],l=a,c=s,u++,o[0]=["M",a,s]);r=u;for(var f=e.length;r<f;r++){var d=e[r],p=o[r-1],v=[],g=(i=d[0],i.toUpperCase());if(i!==g)switch(v[0]=g,g){case"A":v[1]=d[1],v[2]=d[2],v[3]=d[3],v[4]=d[4],v[5]=d[5],v[6]=+d[6]+a,v[7]=+d[7]+s;break;case"V":v[1]=+d[1]+s;break;case"H":v[1]=+d[1]+a;break;case"M":l=+d[1]+a,c=+d[2]+s,v[1]=l,v[2]=c;break;default:for(var y=1,m=d.length;y<m;y++)v[y]=+d[y]+(y%2?a:s)}else v=e[r];switch(g){case"Z":a=+l,s=+c;break;case"H":a=v[1],v=["L",a,s];break;case"V":s=v[1],v=["L",a,s];break;case"T":a=v[1],s=v[2];var b=Co([p[1],p[2]],[p[3],p[4]]);v=["Q",b[0],b[1],a,s];break;case"S":a=v[v.length-2],s=v[v.length-1];var x=p.length,w=Co([p[x-4],p[x-3]],[p[x-2],p[x-1]]);v=["C",w[0],w[1],v[1],v[2],a,s];break;case"M":l=v[v.length-2],c=v[v.length-1];break;default:a=v[v.length-2],s=v[v.length-1]}o.push(v)}return o}function _o(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Eo(t,e){return _o(t)*_o(e)?(t[0]*e[0]+t[1]*e[1])/(_o(t)*_o(e)):1}function Mo(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Eo(t,e))}function ko(t,e){return t[0]===e[0]&&t[1]===e[1]}function To(t,e){var n=e[1],r=e[2],i=C(_(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],l=t[1],c=e[6],u=e[7],h=Math.cos(i)*(s-c)/2+Math.sin(i)*(l-u)/2,f=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(l-u)/2,d=h*h/(n*n)+f*f/(r*r);d>1&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var p=n*n*(f*f)+r*r*(h*h),v=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*n*f/r:0,y=n?v*-r*h/n:0,m=(s+c)/2+Math.cos(i)*g-Math.sin(i)*y,b=(l+u)/2+Math.sin(i)*g+Math.cos(i)*y,x=[(h-g)/n,(f-y)/r],w=[(-1*h-g)/n,(-1*f-y)/r],O=Mo([1,0],x),S=Mo(x,w);return Eo(x,w)<=-1&&(S=Math.PI),Eo(x,w)>=1&&(S=0),0===a&&S>0&&(S-=2*Math.PI),1===a&&S<0&&(S+=2*Math.PI),{cx:m,cy:b,rx:ko(t,[c,u])?0:n,ry:ko(t,[c,u])?0:r,startAngle:O,endAngle:O+S,xRotation:i,arcFlag:o,sweepFlag:a}}function Ao(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}function Lo(t){t=yo(t);for(var e=[],n=null,r=null,i=null,o=0,a=t.length,s=0;s<a;s++){var l=t[s];r=t[s+1];var c=l[0],u={command:c,prePoint:n,params:l,startTangent:null,endTangent:null};switch(c){case"M":i=[l[1],l[2]],o=s;break;case"A":var h=To(n,l);u["arcParams"]=h;break}if("Z"===c)n=i,r=t[o+1];else{var f=l.length;n=[l[f-2],l[f-1]]}r&&"Z"===r[0]&&(r=t[o],e[o]&&(e[o].prePoint=n)),u["currentPoint"]=n,e[o]&&ko(n,e[o].currentPoint)&&(e[o].prePoint=u.prePoint);var d=r?[r[r.length-2],r[r.length-1]]:null;u["nextPoint"]=d;var p=u.prePoint;if(["L","H","V"].includes(c))u.startTangent=[p[0]-n[0],p[1]-n[1]],u.endTangent=[n[0]-p[0],n[1]-p[1]];else if("Q"===c){var v=[l[1],l[2]];u.startTangent=[p[0]-v[0],p[1]-v[1]],u.endTangent=[n[0]-v[0],n[1]-v[1]]}else if("T"===c){var g=e[s-1];v=Ao(g.currentPoint,p);"Q"===g.command?(u.command="Q",u.startTangent=[p[0]-v[0],p[1]-v[1]],u.endTangent=[n[0]-v[0],n[1]-v[1]]):(u.command="TL",u.startTangent=[p[0]-n[0],p[1]-n[1]],u.endTangent=[n[0]-p[0],n[1]-p[1]])}else if("C"===c){var y=[l[1],l[2]],m=[l[3],l[4]];u.startTangent=[p[0]-y[0],p[1]-y[1]],u.endTangent=[n[0]-m[0],n[1]-m[1]],0===u.startTangent[0]&&0===u.startTangent[1]&&(u.startTangent=[y[0]-m[0],y[1]-m[1]]),0===u.endTangent[0]&&0===u.endTangent[1]&&(u.endTangent=[m[0]-y[0],m[1]-y[1]])}else if("S"===c){g=e[s-1],y=Ao(g.currentPoint,p),m=[l[1],l[2]];"C"===g.command?(u.command="C",u.startTangent=[p[0]-y[0],p[1]-y[1]],u.endTangent=[n[0]-m[0],n[1]-m[1]]):(u.command="SQ",u.startTangent=[p[0]-m[0],p[1]-m[1]],u.endTangent=[n[0]-m[0],n[1]-m[1]])}else if("A"===c){var b=.001,x=u["arcParams"]||{},w=x.cx,O=void 0===w?0:w,C=x.cy,S=void 0===C?0:C,_=x.rx,E=void 0===_?0:_,M=x.ry,k=void 0===M?0:M,T=x.sweepFlag,A=void 0===T?0:T,L=x.startAngle,P=void 0===L?0:L,R=x.endAngle,I=void 0===R?0:R;0===A&&(b*=-1);var N=E*Math.cos(P-b)+O,j=k*Math.sin(P-b)+S;u.startTangent=[N-i[0],j-i[1]];var B=E*Math.cos(P+I+b)+O,D=k*Math.sin(P+I-b)+S;u.endTangent=[p[0]-B,p[1]-D]}e.push(u)}return e}function Po(t,e){for(var n=[],r=[],i=[],o=0;o<t.length;o++){var a=t[o],s=a.currentPoint,l=a.params,c=a.prePoint,u=void 0;switch(a.command){case"Q":u=Pi.box(c[0],c[1],l[1],l[2],l[3],l[4]);break;case"C":u=Di.box(c[0],c[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var h=a.arcParams;u=Ki.box(h.cx,h.cy,h.rx,h.ry,h.xRotation,h.startAngle,h.endAngle);break;default:n.push(s[0]),r.push(s[1]);break}u&&(a.box=u,n.push(u.x,u.x+u.width),r.push(u.y,u.y+u.height)),e&&("L"===a.command||"M"===a.command)&&a.prePoint&&a.nextPoint&&i.push(a)}n=n.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0})),r=r.filter((function(t){return!Number.isNaN(t)&&t!==1/0&&t!==-1/0}));var f=m(n),d=m(r),p=y(n),v=y(r);if(0===i.length)return{x:f,y:d,width:p-f,height:v-d};for(o=0;o<i.length;o++){a=i[o],s=a.currentPoint;var g=void 0;s[0]===f?(g=Ro(a,e),f-=g.xExtra):s[0]===p&&(g=Ro(a,e),p+=g.xExtra),s[1]===d?(g=Ro(a,e),d-=g.yExtra):s[1]===v&&(g=Ro(a,e),v+=g.yExtra)}return{x:f,y:d,width:p-f,height:v-d}}function Ro(t,e){var n=t.prePoint,r=t.currentPoint,i=t.nextPoint,o=Math.pow(r[0]-n[0],2)+Math.pow(r[1]-n[1],2),a=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2),l=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!l||0===Math.sin(l)||O(l,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),u=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));c=c>Math.PI/2?Math.PI-c:c,u=u>Math.PI/2?Math.PI-u:u;var h={xExtra:Math.cos(l/2-c)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(u-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0};return h}function Io(t){var e=t.attr(),n=e.path,r=e.stroke,i=r?e.lineWidth:0,o=t.get("segments")||Lo(n),a=Po(o,i),s=a.x,l=a.y,c=a.width,u=a.height,h={minX:s,minY:l,maxX:s+c,maxY:l+u};return h=io(t,h),{x:h.minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}}function No(t){var e=t.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=Math.min(n,i),s=Math.max(n,i),l=Math.min(r,o),c=Math.max(r,o),u={minX:a,maxX:s,minY:l,maxY:c};return u=io(t,u),{x:u.minX,y:u.minY,width:u.maxX-u.minX,height:u.maxY-u.minY}}function jo(t){var e=t.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;return{x:n-i,y:r-o,width:2*i,height:2*o}}function Bo(){return window?window.devicePixelRatio:1}function Do(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}function Fo(t,e,n,r,i,o){return i>=t&&i<=t+n&&o>=e&&o<=e+r}function zo(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function Wo(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function Ho(t,e){return t[0]===e[0]&&t[1]===e[1]}di("rect",vi),di("image",vi),di("circle",gi),di("marker",gi),di("polyline",oo),di("polygon",ao),di("text",po),di("path",Io),di("line",No),di("ellipse",jo);var $o=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Go=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Vo=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Yo=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Uo(t,e){var n=t.match(Yo);v(n,(function(t){var n=t.split(":");e.addColorStop(n[0],n[1])}))}function Xo(t,e,n){var r,i,o=$o.exec(n),a=parseFloat(o[1])%360*(Math.PI/180),s=o[2],l=e.getBBox();a>=0&&a<.5*Math.PI?(r={x:l.minX,y:l.minY},i={x:l.maxX,y:l.maxY}):.5*Math.PI<=a&&a<Math.PI?(r={x:l.maxX,y:l.minY},i={x:l.minX,y:l.maxY}):Math.PI<=a&&a<1.5*Math.PI?(r={x:l.maxX,y:l.maxY},i={x:l.minX,y:l.minY}):(r={x:l.minX,y:l.maxY},i={x:l.maxX,y:l.minY});var c=Math.tan(a),u=c*c,h=(i.x-r.x+c*(i.y-r.y))/(u+1)+r.x,f=c*(i.x-r.x+c*(i.y-r.y))/(u+1)+r.y,d=t.createLinearGradient(r.x,r.y,h,f);return Uo(s,d),d}function qo(t,e,n){var r=Go.exec(n),i=parseFloat(r[1]),o=parseFloat(r[2]),a=parseFloat(r[3]),s=r[4];if(0===a){var l=s.match(Yo);return l[l.length-1].split(":")[1]}var c=e.getBBox(),u=c.maxX-c.minX,h=c.maxY-c.minY,f=Math.sqrt(u*u+h*h)/2,d=t.createRadialGradient(c.minX+u*i,c.minY+h*o,0,c.minX+u/2,c.minY+h/2,a*f);return Uo(s,d),d}function Ko(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===n)return e.get("pattern");var r,i,o=Vo.exec(n),a=o[1],s=o[2];function l(){r=t.createPattern(i,a),e.set("pattern",r),e.set("patternSource",n)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;case"n":a="no-repeat";break;default:a="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?l():(i.onload=l,i.src=i.src),r}function Zo(t,e,n){var r=e.getBBox();if(isNaN(r.x)||isNaN(r.y)||isNaN(r.width)||isNaN(r.height))return n;if(b(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return Xo(t,e,n);if("r"===n[0])return qo(t,e,n);if("p"===n[0])return Ko(t,e,n)}return n}return n instanceof CanvasPattern?n:void 0}function Qo(t){var e=0,n=0,r=0,i=0;return d(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,[e,n,r,i]}function Jo(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ta(t,e){return Jo(t)*Jo(e)?(t[0]*e[0]+t[1]*e[1])/(Jo(t)*Jo(e)):1}function ea(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(ta(t,e))}function na(t,e){var n=e[1],r=e[2],i=C(_(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],l=t[1],c=e[6],u=e[7],h=Math.cos(i)*(s-c)/2+Math.sin(i)*(l-u)/2,f=-1*Math.sin(i)*(s-c)/2+Math.cos(i)*(l-u)/2,d=h*h/(n*n)+f*f/(r*r);d>1&&(n*=Math.sqrt(d),r*=Math.sqrt(d));var p=n*n*(f*f)+r*r*(h*h),v=p?Math.sqrt((n*n*(r*r)-p)/p):1;o===a&&(v*=-1),isNaN(v)&&(v=0);var g=r?v*n*f/r:0,y=n?v*-r*h/n:0,m=(s+c)/2+Math.cos(i)*g-Math.sin(i)*y,b=(l+u)/2+Math.sin(i)*g+Math.cos(i)*y,x=[(h-g)/n,(f-y)/r],w=[(-1*h-g)/n,(-1*f-y)/r],O=ea([1,0],x),S=ea(x,w);return ta(x,w)<=-1&&(S=Math.PI),ta(x,w)>=1&&(S=0),0===a&&S>0&&(S-=2*Math.PI),1===a&&S<0&&(S+=2*Math.PI),{cx:m,cy:b,rx:Ho(t,[c,u])?0:n,ry:Ho(t,[c,u])?0:r,startAngle:O,endAngle:O+S,xRotation:i,arcFlag:o,sweepFlag:a}}var ra=Math.sin,ia=Math.cos,oa=Math.atan2,aa=Math.PI;function sa(t,e,n,r,i,o,a){var s=e.stroke,l=e.lineWidth,c=n-i,u=r-o,h=oa(u,c),f=new es({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*ia(aa/6)+","+10*ra(aa/6)+" L0,0 L"+10*ia(aa/6)+",-"+10*ra(aa/6),stroke:s,lineWidth:l}});f.translate(i,o),f.rotateAtPoint(i,o,h),t.set(a?"startArrowShape":"endArrowShape",f)}function la(t,e,n,r,i,o,l){var c=e.startArrow,u=e.endArrow,h=e.stroke,f=e.lineWidth,d=l?c:u,p=d.d,v=d.fill,g=d.stroke,y=d.lineWidth,m=s(d,["d","fill","stroke","lineWidth"]),b=n-i,x=r-o,w=oa(x,b);p&&(i-=ia(w)*p,o-=ra(w)*p);var O=new es({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:a(a({},m),{stroke:g||h,lineWidth:y||f,fill:v})});O.translate(i,o),O.rotateAtPoint(i,o,w),t.set(l?"startArrowShape":"endArrowShape",O)}function ca(t,e,n,r,i){var o=oa(r-e,n-t);return{dx:ia(o)*i,dy:ra(o)*i}}function ua(t,e,n,r,i,o){"object"===typeof e.startArrow?la(t,e,n,r,i,o,!0):e.startArrow?sa(t,e,n,r,i,o,!0):t.set("startArrowShape",null)}function ha(t,e,n,r,i,o){"object"===typeof e.endArrow?la(t,e,n,r,i,o,!1):e.endArrow?sa(t,e,n,r,i,o,!1):t.set("startArrowShape",null)}var fa={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function da(t,e){var n=e.attr();for(var r in n){var i=n[r],o=fa[r]?fa[r]:r;"matrix"===o&&i?t.transform(i[0],i[1],i[3],i[4],i[6],i[7]):"lineDash"===o&&t.setLineDash?d(i)&&t.setLineDash(i):("strokeStyle"===o||"fillStyle"===o?i=Zo(t,e,i):"globalAlpha"===o&&(i*=t.globalAlpha),t[o]=i)}}function pa(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];i.cfg.visible?i.draw(t,n):i.skipDraw()}}function va(t,e,n){var r=t.get("refreshElements");v(r,(function(e){if(e!==t){var n=e.cfg.parent;while(n&&n!==t&&!n.cfg.refresh)n.cfg.refresh=!0,n=n.cfg.parent}})),r[0]===t?ma(e):ga(e,n)}function ga(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.cfg.visible)if(r.cfg.hasChanged)r.cfg.refresh=!0,r.isGroup()&&ma(r.cfg.children);else if(r.cfg.refresh)r.isGroup()&&ga(r.cfg.children,e);else{var i=ba(r,e);r.cfg.refresh=i,i&&r.isGroup()&&ga(r.cfg.children,e)}}}function ya(t){for(var e=0;e<t.length;e++){var n=t[e];n.cfg.hasChanged=!1,n.isGroup()&&!n.destroyed&&ya(n.cfg.children)}}function ma(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.cfg.refresh=!0,r.isGroup()&&ma(r.get("children"))}}function ba(t,e){var n=t.cfg.cacheCanvasBBox,r=t.cfg.isInView&&n&&zo(n,e);return r}function xa(t,e,n,r){var i=n.path,o=n.startArrow,a=n.endArrow;if(i){var s=[0,0],l=[0,0],c={dx:0,dy:0};e.beginPath();for(var u=0;u<i.length;u++){var h=i[u],f=h[0];if(0===u&&o&&o.d){var d=t.getStartTangent();c=ca(d[0][0],d[0][1],d[1][0],d[1][1],o.d)}else if(u===i.length-2&&"Z"===i[u+1][0]&&a&&a.d){var p=i[u+1];if("Z"===p[0]){d=t.getEndTangent();c=ca(d[0][0],d[0][1],d[1][0],d[1][1],a.d)}}else if(u===i.length-1&&a&&a.d&&"Z"!==i[0]){d=t.getEndTangent();c=ca(d[0][0],d[0][1],d[1][0],d[1][1],a.d)}var v=c.dx,g=c.dy;switch(f){case"M":e.moveTo(h[1]-v,h[2]-g),l=[h[1],h[2]];break;case"L":e.lineTo(h[1]-v,h[2]-g);break;case"Q":e.quadraticCurveTo(h[1],h[2],h[3]-v,h[4]-g);break;case"C":e.bezierCurveTo(h[1],h[2],h[3],h[4],h[5]-v,h[6]-g);break;case"A":var y=void 0;r?(y=r[u],y||(y=na(s,h),r[u]=y)):y=na(s,h);var m=y.cx,b=y.cy,x=y.rx,w=y.ry,O=y.startAngle,C=y.endAngle,S=y.xRotation,_=y.sweepFlag;if(e.ellipse)e.ellipse(m,b,x,w,S,O,C,1-_);else{var E=x>w?x:w,M=x>w?1:x/w,k=x>w?w/x:1;e.translate(m,b),e.rotate(S),e.scale(M,k),e.arc(0,0,E,O,C,1-_),e.scale(1/M,1/k),e.rotate(-S),e.translate(-m,-b)}break;case"Z":e.closePath();break}if("Z"===f)s=l;else{var T=h.length;s=[h[T-2],h[T-1]]}}}}function wa(t,e){var n=t.get("canvas");n&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(t.set("hasChanged",!0),t.cfg.parent&&t.cfg.parent.get("hasChanged")||(n.refreshElement(t,e,n),n.get("autoDraw")&&n.draw())))}function Oa(t){var e;if(t.destroyed)e=t["_cacheCanvasBBox"];else{var n=t.get("cacheCanvasBBox"),r=n&&!(!n.width||!n.height),i=t.getCanvasBBox(),o=i&&!(!i.width||!i.height);r&&o?e=Wo(n,i):r?e=n:o&&(e=i)}return e}function Ca(t){if(!t.length)return null;var e=[],n=[],r=[],i=[];return v(t,(function(t){var o=Oa(t);o&&(e.push(o.minX),n.push(o.minY),r.push(o.maxX),i.push(o.maxY))})),{minX:m(e),minY:m(n),maxX:y(r),maxY:y(i)}}function Sa(t,e){return t&&e&&zo(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}var _a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.onCanvasChange=function(t){wa(this,t)},e.prototype.getShapeBase=function(){return r},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,e){e&&(t.save(),da(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,e=[],n=[];v(t,(function(t){var r=t.cfg.cacheCanvasBBox;r&&t.cfg.isInView&&(e.push(r.minX,r.maxX),n.push(r.minY,r.maxY))}));var r=null;if(e.length){var i=m(e),o=y(e),a=m(n),s=y(n);r={minX:i,minY:a,x:i,y:a,maxX:o,maxY:s,width:o-i,height:s-a};var l=this.cfg.canvas;if(l){var c=l.getViewRange();this.set("isInView",zo(r,c))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},e.prototype.draw=function(t,e){var n=this.cfg.children,r=!e||this.cfg.refresh;n.length&&r&&(t.save(),da(t,this),this._applyClip(t,this.getClip()),pa(t,n,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(ui),Ea=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return a(a({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return r},e.prototype.getGroupBase=function(){return _a},e.prototype.onCanvasChange=function(t){wa(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=pi(t),r=n(this),i=e/2,o=r.x-i,a=r.y-i,s=r.x+r.width+i,l=r.y+r.height+i;return{x:o,minX:o,y:a,minY:a,width:r.width+e,height:r.height+e,maxX:s,maxY:l}},e.prototype.isFill=function(){return!!this.attrs["fill"]||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs["stroke"]},e.prototype._applyClip=function(t,e){e&&(t.save(),da(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var n=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);var r=this.getCanvasBBox();if(!zo(e,r))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),da(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),n=zo(e,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",e):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isFill()&&(f(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.isStroke()&&n>0&&(f(i)||1===i||(t.globalAlpha=i),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,e){var n=this.isStroke(),r=this.isFill(),i=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t["lineWidth"]+t["lineAppendWidth"]},e}(hi),Ma=Ea,ka=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return a(a({},e),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=o.x,s=o.y,l=o.r,c=i/2,u=Do(a,s,t,e);return r&&n?u<=l+c:r?u<=l:!!n&&(u>=l-c&&u<=l+c)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()},e}(Ma),Ta=ka;function Aa(t,e,n,r){return t/(n*n)+e/(r*r)}var La=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return a(a({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=i/2,s=o.x,l=o.y,c=o.rx,u=o.ry,h=(t-s)*(t-s),f=(e-l)*(e-l);return r&&n?Aa(h,f,c+a,u+a)<=1:r?Aa(h,f,c,u)<=1:!!n&&(Aa(h,f,c-a,u-a)>=1&&Aa(h,f,c+a,u+a)<=1)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.rx,o=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,r,i,o,0,0,2*Math.PI,!1);else{var a=i>o?i:o,s=i>o?1:i/o,l=i>o?o/i:1;t.save(),t.translate(n,r),t.scale(s,l),t.arc(0,0,a,0,2*Math.PI),t.restore(),t.closePath()}},e}(Ma),Pa=La;function Ra(t){return t instanceof HTMLElement&&b(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var Ia=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return a(a({},e),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var e=this,n=this.attrs;if(b(t)){var r=new Image;r.onload=function(){if(e.destroyed)return!1;e.attr("img",r),e.set("loading",!1),e._afterLoading();var t=e.get("callback");t&&t.call(e)},r.crossOrigin="Anonymous",r.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):Ra(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"img"===e&&this._setImage(n)},e.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,a=e.sx,s=e.sy,l=e.swidth,c=e.sheight,u=e.img;(u instanceof Image||Ra(u))&&(f(a)||f(s)||f(l)||f(c)?t.drawImage(u,n,r,i,o):t.drawImage(u,a,s,l,c,n,r,i,o))},e}(Ma),Na=Ia;function ja(t,e,n,r,i,o,a){var s=Math.min(t,n),l=Math.max(t,n),c=Math.min(e,r),u=Math.max(e,r),h=i/2;return o>=s-h&&o<=l+h&&a>=c-h&&a<=u+h&&Ci.pointToLine(t,e,n,r,o,a)<=i/2}var Ba=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return a(a({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=t.startArrow,a=t.endArrow;o&&ua(this,t,r,i,e,n),a&&ha(this,t,e,n,r,i)},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var o=this.attr(),a=o.x1,s=o.y1,l=o.x2,c=o.y2;return ja(a,s,l,c,i,t,e)},e.prototype.createPath=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.startArrow,s=e.endArrow,l={dx:0,dy:0},c={dx:0,dy:0};a&&a.d&&(l=ca(n,r,i,o,e.startArrow.d)),s&&s.d&&(c=ca(n,r,i,o,e.endArrow.d)),t.beginPath(),t.moveTo(n+l.dx,r+l.dy),t.lineTo(i-c.dx,o-c.dy)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return Ci.length(e,n,r,i)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,o=e.y2;return Ci.pointAt(n,r,i,o,t)},e}(Ma),Da=Ba,Fa={circle:function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["Z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},za=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["symbol","x","y","r","radius"].indexOf(e)&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return f(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t,n,r=this.attr(),i=r.x,o=r.y,a=r.symbol||"circle",s=this._getR(r);if(h(a))t=a,n=t(i,o,s),n=So(n);else{if(t=e.Symbols[a],!t)return console.warn(a+" marker is not supported."),null;n=t(i,o,s)}return n},e.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");xa(this,t,{path:e},n)},e.Symbols=Fa,e}(Ma),Wa=za;function Ha(t,e,n){var r=lo();return t.createPath(r),r.isPointInPath(e,n)}var $a=1e-6;function Ga(t){return Math.abs(t)<$a?0:t<0?-1:1}function Va(t,e,n){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])&&Math.min(t[0],e[0])<=n[0]&&n[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=n[1]&&n[1]<=Math.max(t[1],e[1])}function Ya(t,e,n){var r=!1,i=t.length;if(i<=2)return!1;for(var o=0;o<i;o++){var a=t[o],s=t[(o+1)%i];if(Va(a,s,[e,n]))return!0;Ga(a[1]-n)>0!==Ga(s[1]-n)>0&&Ga(e-(n-a[1])*(a[0]-s[0])/(a[1]-s[1])-a[0])<0&&(r=!r)}return r}function Ua(t,e,n,r,i,o,a,s){var l=(Math.atan2(s-e,a-t)+2*Math.PI)%(2*Math.PI);if(l<r||l>i)return!1;var c={x:t+n*Math.cos(l),y:e+n*Math.sin(l)};return Do(c.x,c.y,a,s)<=o/2}var Xa=fe;function qa(t){for(var e=!1,n=t.length,r=0;r<n;r++){var i=t[r],o=i[0];if("C"===o||"A"===o||"Q"===o){e=!0;break}}return e}function Ka(t,e,n,r,i){for(var o=!1,a=e/2,s=0;s<t.length;s++){var l=t[s],c=l.currentPoint,u=l.params,h=l.prePoint,f=l.box;if(!f||Fo(f.x-a,f.y-a,f.width+e,f.height+e,n,r)){switch(l.command){case"L":case"Z":o=ja(h[0],h[1],c[0],c[1],e,n,r);break;case"Q":var d=Pi.pointDistance(h[0],h[1],u[1],u[2],u[3],u[4],n,r);o=d<=e/2;break;case"C":var p=Di.pointDistance(h[0],h[1],u[1],u[2],u[3],u[4],u[5],u[6],n,r,i);o=p<=e/2;break;case"A":var v=l.arcParams,g=v.cx,y=v.cy,m=v.rx,b=v.ry,x=v.startAngle,w=v.endAngle,O=v.xRotation,C=[n,r,1],S=m>b?m:b,_=m>b?1:m/b,E=m>b?b/m:1,M=Xa(null,[["t",-g,-y],["r",-O],["s",1/_,1/E]]);re(C,C,M),o=Ua(0,0,S,x,w,e,C[0],C[1]);break}if(o)break}}return o}function Za(t){for(var e=t.length,n=[],r=[],i=[],o=0;o<e;o++){var a=t[o],s=a[0];"M"===s?(i.length&&(r.push(i),i=[]),i.push([a[1],a[2]])):"Z"===s?i.length&&(n.push(i),i=[]):i.push([a[1],a[2]])}return i.length>0&&r.push(i),{polygons:n,polylines:r}}var Qa=a({hasArc:qa,extractPolygons:Za,isPointInStroke:Ka},Ct);function Ja(t,e,n){for(var r=!1,i=0;i<t.length;i++){var o=t[i];if(r=Ya(o,e,n),r)break}return r}var ts=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return a(a({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),"path"===e&&this._setPathArr(n),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=So(t);var e=Qa.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=Lo(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var r=this.getStartTangent();ua(this,t,r[0][0],r[0][1],r[1][0],r[1][1])}if(n){r=this.getEndTangent();ha(this,t,r[0][0],r[0][1],r[1][0],r[1][1])}},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.getSegments(),a=this.get("hasArc"),s=!1;if(n){var l=this.getTotalLength();s=Qa.isPointInStroke(o,i,t,e,l)}if(!s&&r)if(a)s=Ha(this,t,e);else{var c=this.attr("path"),u=Qa.extractPolygons(c);s=Ja(u.polygons,t,e)||Ja(u.polylines,t,e)}return s},e.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");xa(this,t,e,n)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return f(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var e,n,r=this.get("tCache");r||(this._calculateCurve(),this._setTcache(),r=this.get("tCache"));var i=this.get("curve");if(!r||0===r.length)return i?{x:i[0][1],y:i[0][2]}:null;v(r,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)}));var o=i[n];if(f(o)||f(n))return null;var a=o.length,s=i[n+1];return Di.pointAt(o[a-2],o[a-1],s[1],s[2],s[3],s[4],s[5],s[6],e)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",Qa.pathToCurve(t))},e.prototype._setTcache=function(){var t,e,n,r,i=0,o=0,a=[],s=this.get("curve");s&&(v(s,(function(t,e){n=s[e+1],r=t.length,n&&(i+=Di.length(t[r-2],t[r-1],n[1],n[2],n[3],n[4],n[5],n[6])||0)})),this.set("totalLength",i),0!==i?(v(s,(function(l,c){n=s[c+1],r=l.length,n&&(t=[],t[0]=o/i,e=Di.length(l[r-2],l[r-1],n[1],n[2],n[3],n[4],n[5],n[6]),o+=e||0,t[1]=o/i,a.push(t))})),this.set("tCache",a)):this.set("tCache",[]))},e.prototype.getStartTangent=function(){var t,e=this.getSegments();if(e.length>1){var n=e[0].currentPoint,r=e[1].currentPoint,i=e[1].startTangent;t=[],i?(t.push([n[0]-i[0],n[1]-i[1]]),t.push([n[0],n[1]])):(t.push([r[0],r[1]]),t.push([n[0],n[1]]))}return t},e.prototype.getEndTangent=function(){var t,e=this.getSegments(),n=e.length;if(n>1){var r=e[n-2].currentPoint,i=e[n-1].currentPoint,o=e[n-1].endTangent;t=[],o?(t.push([i[0]-o[0],i[1]-o[1]]),t.push([i[0],i[1]])):(t.push([r[0],r[1]]),t.push([i[0],i[1]]))}return t},e}(Ma),es=ts;function ns(t,e,n,r,i){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++){var s=t[a][0],l=t[a][1],c=t[a+1][0],u=t[a+1][1];if(ja(s,l,c,u,e,n,r))return!0}if(i){var h=t[0],f=t[o-1];if(ja(h[0],h[1],f[0],f[1],e,n,r))return!0}return!1}var rs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr().points,a=!1;return n&&(a=ns(o,i,t,e,!0)),!a&&r&&(a=Ya(o,t,e)),a},e.prototype.createPath=function(t){var e=this.attr(),n=e.points;if(!(n.length<2)){t.beginPath();for(var r=0;r<n.length;r++){var i=n[r];0===r?t.moveTo(i[0],i[1]):t.lineTo(i[0],i[1])}t.closePath()}},e}(Ma),is=rs,os=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return a(a({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),this.setArrow(),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,r=e.startArrow,i=e.endArrow,o=n.length,a=n[0][0],s=n[0][1],l=n[o-1][0],c=n[o-1][1];r&&ua(this,t,n[1][0],n[1][1],a,s),i&&ha(this,t,n[o-2][0],n[o-2][1],l,c)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){if(!n||!i)return!1;var o=this.attr().points;return ns(o,i,t,e,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var e=this.attr(),n=e.points,r=e.startArrow,i=e.endArrow,o=n.length;if(!(n.length<2)){var a=n[0][0],s=n[0][1],l=n[o-1][0],c=n[o-1][1];if(r&&r.d){var u=ca(a,s,n[1][0],n[1][1],r.d);a+=u.dx,s+=u.dy}if(i&&i.d){u=ca(n[o-2][0],n[o-2][1],l,c,i.d);l-=u.dx,c-=u.dy}t.beginPath(),t.moveTo(a,s);for(var h=0;h<o-1;h++){var f=n[h];t.lineTo(f[0],f[1])}t.lineTo(l,c)}},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return f(e)?(this.set("totalLength",no.length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),v(i,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),Ci.pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,i=0,o=[];v(t,(function(a,s){t[s+1]&&(n=[],n[0]=i/e,r=Ci.length(a[0],a[1],t[s+1][0],t[s+1][1]),i+=r,n[1]=i/e,o.push(n))})),this.set("tCache",o)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(Ma),as=os;function ss(t,e,n,r,i,o,a){var s=i/2;return Fo(t-s,e-s,n,i,o,a)||Fo(t+n-s,e-s,i,r,o,a)||Fo(t+s,e+r-s,n,i,o,a)||Fo(t-s,e+s,i,r,o,a)}function ls(t,e,n,r,i,o,a,s){return ja(t+i,e,t+n-i,e,o,a,s)||ja(t+n,e+i,t+n,e+r-i,o,a,s)||ja(t+n-i,e+r,t+i,e+r,o,a,s)||ja(t,e+r-i,t,e+i,o,a,s)||Ua(t+n-i,e+i,i,1.5*Math.PI,2*Math.PI,o,a,s)||Ua(t+n-i,e+r-i,i,0,.5*Math.PI,o,a,s)||Ua(t+i,e+r-i,i,.5*Math.PI,Math.PI,o,a,s)||Ua(t+i,e+i,i,Math.PI,1.5*Math.PI,o,a,s)}var cs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return a(a({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,e,n,r,i){var o=this.attr(),a=o.x,s=o.y,l=o.width,c=o.height,u=o.radius;if(u){var h=!1;return n&&(h=ls(a,s,l,c,u,i,t,e)),!h&&r&&(h=Ha(this,t,e)),h}var f=i/2;return r&&n?Fo(a-f,s-f,l+f,c+f,t,e):r?Fo(a,s,l,c,t,e):n?ss(a,s,l,c,i,t,e):void 0},e.prototype.createPath=function(t){var e=this.attr(),n=e.x,r=e.y,i=e.width,o=e.height,a=e.radius;if(t.beginPath(),0===a)t.rect(n,r,i,o);else{var s=Qo(a),l=s[0],c=s[1],u=s[2],h=s[3];t.moveTo(n+l,r),t.lineTo(n+i-c,r),0!==c&&t.arc(n+i-c,r+c,c,-Math.PI/2,0),t.lineTo(n+i,r+o-u),0!==u&&t.arc(n+i-u,r+o-u,u,0,Math.PI/2),t.lineTo(n+h,r+o),0!==h&&t.arc(n+h,r+o-h,h,Math.PI/2,Math.PI),t.lineTo(n,r+l),0!==l&&t.arc(n+l,r+l,l,Math.PI,1.5*Math.PI),t.closePath()}},e}(Ma),us=cs,hs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return a(a({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=fo(t)},e.prototype._setText=function(t){var e=null;b(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),e.startsWith("font")&&this._assembleFont(),"text"===e&&this._setText(n)},e.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},e.prototype._drawTextArr=function(t,e,n){var r,i=this.attrs,o=i.textBaseline,a=i.x,s=i.y,l=1*i.fontSize,c=this._getSpaceingY(),u=co(i.text,i.fontSize,i.lineHeight);v(e,(function(e,i){r=s+i*(c+l)-u+l,"middle"===o&&(r+=u-l-(u-l)/2),"top"===o&&(r+=u-l),f(e)||(n?t.fillText(e,a,r):t.strokeText(e,a,r))}))},e.prototype._drawText=function(t,e){var n=this.attr(),r=n.x,i=n.y,o=this.get("textArr");if(o)this._drawTextArr(t,o,e);else{var a=n.text;f(a)||(e?t.fillText(a,r,i):t.strokeText(a,r,i))}},e.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,r=e.opacity,i=e.strokeOpacity,o=e.fillOpacity;this.isStroke()&&n>0&&(f(i)||1===i||(t.globalAlpha=r),this.stroke(t)),this.isFill()&&(f(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=r)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(Ma),fs=hs;function ds(t,e){if(e){var n=ve(e);return pe(n,t)}return t}function ps(t,e,n){var r=t.getTotalMatrix();if(r){var i=ds([e,n,1],r),o=i[0],a=i[1];return[o,a]}return[e,n]}function vs(t,e,n){if(t.isCanvas&&t.isCanvas())return!0;if(!Pt(t)||!1===t.cfg.isInView)return!1;if(t.cfg.clipShape){var r=ps(t,e,n),i=r[0],o=r[1];if(t.isClipped(i,o))return!1}var a=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=a.minX&&e<=a.maxX&&n>=a.minY&&n<=a.maxY}function gs(t,e,n){if(!vs(t,e,n))return null;for(var r=null,i=t.getChildren(),o=i.length,a=o-1;a>=0;a--){var s=i[a];if(s.isGroup())r=gs(s,e,n);else if(vs(s,e,n)){var l=s,c=ps(s,e,n),u=c[0],h=c[1];l.isInShape(u,h)&&(r=s)}if(r)break}return r}var ys,ms,bs,xs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e["renderer"]="canvas",e["autoDraw"]=!0,e["localRefresh"]=!0,e["refreshElements"]=[],e["clipView"]=!0,e["quickHit"]=!1,e},e.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return r},e.prototype.getGroupBase=function(){return _a},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Bo();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},e.prototype.setDOMSize=function(e,n){t.prototype.setDOMSize.call(this,e,n);var r=this.get("context"),i=this.get("el"),o=this.getPixelRatio();i.width=o*e,i.height=o*n,o>1&&r.scale(o,o)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame();var e=this.get("context"),n=this.get("el");e.clearRect(0,0,n.width,n.height)},e.prototype.getShape=function(e,n){var r;return r=this.get("quickHit")?gs(this,e,n):t.prototype.getShape.call(this,e,n,null),r},e.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),n=this.getViewRange();if(e.length&&e[0]===this)t=n;else if(t=Ca(e),t){t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1;var r=this.get("clipView");r&&(t=Sa(t,n))}return t},e.prototype.refreshElement=function(t){var e=this.get("refreshElements");e.push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(A(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),da(t,this),pa(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),r=this._getRefreshRegion();r?(t.clearRect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.save(),t.beginPath(),t.rect(r.minX,r.minY,r.maxX-r.minX,r.maxY-r.minY),t.clip(),da(t,this),va(this,n,r),pa(t,n,r),t.restore()):e.length&&ya(e),v(e,(function(t){t.get("hasChanged")&&t.set("hasChanged",!1)})),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=T((function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)})),this.set("drawFrame",e))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(ci);(function(t){t["DATA_CELL_CLICK_EVENT"]="interaction:data-cell-click",t["MERGED_CELLS_CLICK_EVENT"]="interaction:merged-cells-click",t["CORNER_TEXT_CLICK_EVENT"]="interaction:corner-cell-text-click",t["ROW_COLUMN_CLICK_EVENT"]="interaction:row-column-click",t["ROW_TEXT_CLICK_EVENT"]="interaction:row-text-click",t["HOVER_EVENT"]="interaction:hover",t["TREND_ICON_CLICK"]="interaction:trend-icon-click"})(ys||(ys={})),function(t){t["MOUSE_DOWN"]="mousedown",t["MOUSE_MOVE"]="mousemove",t["MOUSE_OUT"]="mouseout",t["MOUSE_LEAVE"]="mouseleave",t["MOUSE_UP"]="mouseup",t["KEY_DOWN"]="keydown",t["KEY_UP"]="keyup",t["CLICK"]="click",t["HOVER"]="hover",t["DOUBLE_CLICK"]="dblclick",t["CONTEXT_MENU"]="contextmenu"}(ms||(ms={})),function(t){t["ROW_CELL_HOVER"]="row-cell:hover",t["ROW_CELL_CLICK"]="row-cell:click",t["ROW_CELL_DOUBLE_CLICK"]="row-cell:double-click",t["ROW_CELL_CONTEXT_MENU"]="row-cell:context-menu",t["ROW_CELL_MOUSE_DOWN"]="row-cell:mouse-down",t["ROW_CELL_MOUSE_UP"]="row-cell:mouse-up",t["ROW_CELL_MOUSE_MOVE"]="row-cell:mouse-move",t["ROW_CELL_COLLAPSE_TREE_ROWS"]="row-cell:collapsed-tree-rows",t["ROW_CELL_SCROLL"]="row-cell:scroll",t["ROW_CELL_BRUSH_SELECTION"]="row-cell:brush-selection",t["COL_CELL_HOVER"]="col-cell:hover",t["COL_CELL_CLICK"]="col-cell:click",t["COL_CELL_DOUBLE_CLICK"]="col-cell:double-click",t["COL_CELL_CONTEXT_MENU"]="col-cell:context-menu",t["COL_CELL_MOUSE_DOWN"]="col-cell:mouse-down",t["COL_CELL_MOUSE_UP"]="col-cell:mouse-up",t["COL_CELL_MOUSE_MOVE"]="col-cell:mouse-move",t["COL_CELL_BRUSH_SELECTION"]="col-cell:brush-selection",t["DATA_CELL_HOVER"]="data-cell:hover",t["DATA_CELL_CLICK"]="data-cell:click",t["DATA_CELL_DOUBLE_CLICK"]="data-cell:double-click",t["DATA_CELL_CONTEXT_MENU"]="data-cell:context-menu",t["DATA_CELL_MOUSE_UP"]="data-cell:mouse-up",t["DATA_CELL_MOUSE_DOWN"]="data-cell:mouse-down",t["DATA_CELL_MOUSE_MOVE"]="data-cell:mouse-move",t["DATA_CELL_TREND_ICON_CLICK"]="data-cell:trend-icon-click",t["DATA_CELL_BRUSH_SELECTION"]="data-cell:brush-selection",t["DATA_CELL_SELECT_MOVE"]="data-cell:select-move",t["CORNER_CELL_HOVER"]="corner-cell:hover",t["CORNER_CELL_CLICK"]="corner-cell:click",t["CORNER_CELL_DOUBLE_CLICK"]="corner-cell:double-click",t["CORNER_CELL_CONTEXT_MENU"]="corner-cell:context-menu",t["CORNER_CELL_MOUSE_DOWN"]="corner-cell:mouse-down",t["CORNER_CELL_MOUSE_UP"]="corner-cell:mouse-up",t["CORNER_CELL_MOUSE_MOVE"]="corner-cell:mouse-move",t["MERGED_CELLS_HOVER"]="merged-cells:hover",t["MERGED_CELLS_CLICK"]="merged-cells:click",t["MERGED_CELLS_DOUBLE_CLICK"]="merged-cells:double-click",t["MERGED_CELLS_CONTEXT_MENU"]="merged-cell:context-menu",t["MERGED_CELLS_MOUSE_DOWN"]="merged-cells:mouse-down",t["MERGED_CELLS_MOUSE_UP"]="merged-cells:mouse-up",t["MERGED_CELLS_MOUSE_MOVE"]="merged-cells:mouse-move",t["RANGE_SORT"]="sort:range-sort",t["RANGE_SORTED"]="sort:range-sorted",t["RANGE_FILTER"]="filter:range-filter",t["RANGE_FILTERED"]="filter:range-filtered",t["LAYOUT_AFTER_HEADER_LAYOUT"]="layout:after-header-layout",t["LAYOUT_CELL_SCROLL"]="layout:cell-scroll",t["LAYOUT_PAGINATION"]="layout:pagination",t["LAYOUT_COLLAPSE_ROWS"]="layout:collapsed-rows",t["LAYOUT_AFTER_COLLAPSE_ROWS"]="layout:after-collapsed-rows",t["LAYOUT_AFTER_REAL_DATA_CELL_RENDER"]="layout:after-real-data-cell-render",t["LAYOUT_TREE_ROWS_COLLAPSE_ALL"]="layout:toggle-collapse-all",t["LAYOUT_COLS_EXPANDED"]="layout:table-col-expanded",t["LAYOUT_COLS_HIDDEN"]="layout:table-col-hidden",t["LAYOUT_AFTER_RENDER"]="layout:after-render",t["LAYOUT_BEFORE_RENDER"]="layout:before-render",t["LAYOUT_DESTROY"]="layout:destroy",t["LAYOUT_RESIZE"]="layout:resize",t["LAYOUT_RESIZE_SERIES_WIDTH"]="layout:resize-series-width",t["LAYOUT_RESIZE_ROW_WIDTH"]="layout:resize-row-width",t["LAYOUT_RESIZE_ROW_HEIGHT"]="layout:resize-row-height",t["LAYOUT_RESIZE_COL_WIDTH"]="layout:resize-column-width",t["LAYOUT_RESIZE_COL_HEIGHT"]="layout:resize-column-height",t["LAYOUT_RESIZE_TREE_WIDTH"]="layout:resize-tree-width",t["LAYOUT_RESIZE_MOUSE_DOWN"]="layout:resize:mouse-down",t["LAYOUT_RESIZE_MOUSE_MOVE"]="layout:resize:mouse-move",t["LAYOUT_RESIZE_MOUSE_UP"]="layout:resize-mouse-up",t["GLOBAL_KEYBOARD_DOWN"]="global:keyboard-down",t["GLOBAL_KEYBOARD_UP"]="global:keyboard-up",t["GLOBAL_COPIED"]="global:copied",t["GLOBAL_MOUSE_UP"]="global:mouse-up",t["GLOBAL_MOUSE_MOVE"]="global:mouse-move",t["GLOBAL_ACTION_ICON_CLICK"]="global:action-icon-click",t["GLOBAL_ACTION_ICON_HOVER"]="global:action-icon-hover",t["GLOBAL_ACTION_ICON_HOVER_OFF"]="global:action-icon-hover-off",t["GLOBAL_CONTEXT_MENU"]="global:context-menu",t["GLOBAL_CLICK"]="global:click",t["GLOBAL_DOUBLE_CLICK"]="global:double-click",t["GLOBAL_SELECTED"]="global:selected",t["GLOBAL_HOVER"]="global:hover",t["GLOBAL_RESET"]="global:reset",t["GLOBAL_LINK_FIELD_JUMP"]="global:link-field-jump",t["GLOBAL_SCROLL"]="global:scroll"}(bs||(bs={}));var ws,Os="$$value$$",Cs="$$extra$$",Ss="$$extra_column$$",_s="$$total$$",Es="$$series_number$$",Ms=0,ks=3,Ts=3,As=4,Ls=5,Ps=5,Rs=1,Is=1,Ns=2,js="backGroundGroup",Bs="foreGroundGroup",Ds="panelGroup",Fs="panelScrollGroup",zs="mergedCellsGroup",Ws="frozenRowGroup",Hs="frozenColGroup",$s="frozenTrailingRowGroup",Gs="frozenTrailingColGroup",Vs="frozenTopGroup",Ys="frozenBottomGroup",Us="rowResizeAreaGroup",Xs="rowFrozenResizeAreaGroup",qs="frozenSplitLine",Ks="rowIndexResizeAreaGroup",Zs="cornerResizeAreaGroup",Qs="colResizeAreaGroup",Js="colFrozenResizeAreaGroup",tl="colScrollGroup",el="colFrozenGroup",nl="colFrozenTrailingGroup",rl="gridGroup",il="series-number-node",ol="horizontal-resize-area-",al="root",sl="[&]",ll="-",cl=28,ul=16,hl=16,fl=.5,dl=50;(function(t){t["Line"]="line",t["Bar"]="bar",t["Bullet"]="bullet"})(ws||(ws={}));var pl,vl,gl,yl="square",ml="...",bl="antv-s2",xl="valueRanges",wl={},Ol="#000000",Cl="#FFFFFF",Sl={data:[],totalData:[],fields:{rows:[],columns:[],values:[],customTreeItems:[],valueInCols:!0},meta:[],sortParams:[],filterParams:[]};(function(t){t["ROW"]="row",t["COL"]="col",t["TRAILING_ROW"]="trailingRow",t["TRAILING_COL"]="trailingCol",t["SCROLL"]="scroll",t["TOP"]="top",t["BOTTOM"]="bottom"})(vl||(vl={})),function(t){t["FROZEN_COL"]="frozenCol",t["FROZEN_ROW"]="frozenRow",t["FROZEN_TRAILING_COL"]="frozenTrailingCol",t["FROZEN_TRAILING_ROW"]="frozenTrailingRow"}(gl||(gl={}));var _l,El,Ml,kl=(pl={},pl[vl.ROW]="frozenRowGroup",pl[vl.COL]="frozenColGroup",pl[vl.TRAILING_COL]="frozenTrailingColGroup",pl[vl.TRAILING_ROW]="frozenTrailingRowGroup",pl[vl.SCROLL]="panelScrollGroup",pl[vl.TOP]="frozenTopGroup",pl[vl.BOTTOM]="frozenBottomGroup",pl);(function(t){t["CORNER_CELL_CLICK"]="cornerCellClick",t["DATA_CELL_CLICK"]="dataCellClick",t["MERGED_CELLS_CLICK"]="mergedCellsClick",t["ROW_COLUMN_CLICK"]="rowColumnClick",t["ROW_TEXT_CLICK"]="rowTextClick",t["HOVER"]="hover",t["BRUSH_SELECTION"]="brushSelection",t["ROW_BRUSH_SELECTION"]="rowBrushSelection",t["COL_BRUSH_SELECTION"]="colBrushSelection",t["COL_ROW_RESIZE"]="rowColResize",t["DATA_CELL_MULTI_SELECTION"]="dataCellMultiSelection",t["RANGE_SELECTION"]="rangeSelection",t["SELECTED_CELL_MOVE"]="selectedCellMove"})(_l||(_l={})),function(t){t["ALL_SELECTED"]="allSelected",t["SELECTED"]="selected",t["UNSELECTED"]="unselected",t["HOVER"]="hover",t["HOVER_FOCUS"]="hoverFocus",t["HIGHLIGHT"]="highlight",t["SEARCH_RESULT"]="searchResult",t["PREPARE_SELECT"]="prepareSelect"}(El||(El={})),function(t){t["DATA_CELL"]="dataCell",t["HEADER_CELL"]="headerCell",t["ROW_CELL"]="rowCell",t["COL_CELL"]="colCell",t["CORNER_CELL"]="cornerCell",t["MERGED_CELL"]="mergedCell"}(Ml||(Ml={}));var Tl,Al,Ll,Pl,Rl=800,Il={textOpacity:"fillOpacity",backgroundOpacity:"fillOpacity",backgroundColor:"fill",borderOpacity:"strokeOpacity",borderColor:"stroke",borderWidth:"lineWidth",opacity:"opacity"},Nl={textShape:["textOpacity"],textShapes:["textOpacity"],linkFieldShape:["opacity"],interactiveBgShape:["backgroundColor","backgroundOpacity"],interactiveBorderShape:["borderColor","borderOpacity","borderWidth"]},jl="interactionStateInfo";(function(t){t["CLICK"]="click",t["UN_DRAGGED"]="unDragged",t["DRAGGED"]="dragged"})(Tl||(Tl={})),function(t){t["SHIFT"]="Shift",t["COPY"]="c",t["ESC"]="Escape",t["META"]="Meta",t["CONTROL"]="Control",t["ARROW_UP"]="ArrowUp",t["ARROW_DOWN"]="ArrowDown",t["ARROW_LEFT"]="ArrowLeft",t["ARROW_RIGHT"]="ArrowRight"}(Al||(Al={})),function(t){t["ASC"]="ASC",t["DESC"]="DESC"}(Ll||(Ll={})),function(t){t["HOVER"]="hover",t["CLICK"]="click",t["BRUSH_SELECTION"]="brushSelection",t["ROW_BRUSH_SELECTION"]="rowBrushSelection",t["COL_BRUSH_SELECTION"]="colBrushSelection",t["MULTI_SELECTION"]="multiSelection",t["RESIZE"]="resize"}(Pl||(Pl={}));var Bl,Dl,Fl,zl={x:{value:0,scroll:!1},y:{value:0,scroll:!1}};(function(t){t["CONTENT"]="content",t["CANVAS"]="canvas"})(Bl||(Bl={})),function(t){t["SCROLL_UP"]="scrollUp",t["SCROLL_DOWN"]="scrollDown"}(Dl||(Dl={})),function(t){t[t["SCROLL_UP"]=-1]="SCROLL_UP",t[t["SCROLL_DOWN"]=1]="SCROLL_DOWN"}(Fl||(Fl={}));var Wl,Hl,$l,Gl="RESIZE_START_GUIDE_LINE",Vl="RESIZE_END_GUIDE_LINE",Yl="RESIZE_MASK";(function(t){t["Horizontal"]="col",t["Vertical"]="row"})(Wl||(Wl={})),function(t){t["Field"]="field",t["Cell"]="cell",t["Tree"]="tree",t["Series"]="series"}(Hl||(Hl={})),function(t){t["ALL"]="all",t["CURRENT"]="current"}($l||($l={}));var Ul,Xl=1;(function(t){t["Adaptive"]="adaptive",t["ColAdaptive"]="colAdaptive",t["Compact"]="compact"})(Ul||(Ul={}));var ql=120,Kl={layoutWidthType:Ul.Adaptive,showTreeLeafNodeAlignDot:!1,collapsedRows:{},collapsedCols:{},cellCfg:{width:96,height:30},rowCfg:{width:null,widthByField:{},heightByField:{}},colCfg:{height:30,widthByFieldValue:{},heightByField:{}},device:"pc"},Zl={width:600,height:480,debug:!1,hierarchyType:"grid",conditions:{},totals:{},tooltip:{showTooltip:!1,autoAdjustBoundary:"body",operation:{hiddenColumns:!1,trend:!1,sort:!1,menus:[]}},interaction:{linkFields:[],hiddenColumnFields:[],selectedCellsSpotlight:!1,hoverHighlight:!0,hoverFocus:{duration:Rl},scrollSpeedRatio:{horizontal:1,vertical:1},autoResetSheetStyle:!0,brushSelection:{data:!0,row:!1,col:!1},multiSelection:!0,rangeSelection:!0,scrollbarPosition:Bl.CONTENT,resize:{rowCellVertical:!0,cornerCellHorizontal:!0,colCellHorizontal:!0,colCellVertical:!0,rowResizeType:$l.ALL},eventListenerOptions:!1,selectedCellHighlight:!1,overscrollBehavior:"auto"},showSeriesNumber:!1,customSVGIcons:[],showDefaultHeaderActionIcon:!1,headerActionIcons:[],style:Kl,frozenRowHeader:!0,frozenRowCount:0,frozenColCount:0,frozenTrailingRowCount:0,frozenTrailingColCount:0,hdAdapter:!0,cornerText:"",cornerExtraFieldText:"",placeholder:ll,supportCSSTransform:!1,devicePixelRatio:window.devicePixelRatio},Ql=function(t,e){return Ql=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Ql(t,e)};function Jl(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ql(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var tc=function(){return tc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},tc.apply(this,arguments)};function ec(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function nc(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rc(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function ic(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var oc="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ac=oc,sc="object"==typeof self&&self&&self.Object===Object&&self,lc=ac||sc||Function("return this")(),cc=lc,uc=cc.Symbol,hc=uc,fc=Object.prototype,dc=fc.hasOwnProperty,pc=fc.toString,vc=hc?hc.toStringTag:void 0;function gc(t){var e=dc.call(t,vc),n=t[vc];try{t[vc]=void 0;var r=!0}catch(o){}var i=pc.call(t);return r&&(e?t[vc]=n:delete t[vc]),i}var yc=Object.prototype,mc=yc.toString;function bc(t){return mc.call(t)}var xc="[object Null]",wc="[object Undefined]",Oc=hc?hc.toStringTag:void 0;function Cc(t){return null==t?void 0===t?wc:xc:Oc&&Oc in Object(t)?gc(t):bc(t)}function Sc(t){return null!=t&&"object"==typeof t}var _c="[object Symbol]";function Ec(t){return"symbol"==typeof t||Sc(t)&&Cc(t)==_c}var Mc=NaN;function kc(t){return"number"==typeof t?t:Ec(t)?Mc:+t}function Tc(t,e){var n=-1,r=null==t?0:t.length,i=Array(r);while(++n<r)i[n]=e(t[n],n,t);return i}var Ac=Array.isArray,Lc=Ac,Pc=1/0,Rc=hc?hc.prototype:void 0,Ic=Rc?Rc.toString:void 0;function Nc(t){if("string"==typeof t)return t;if(Lc(t))return Tc(t,Nc)+"";if(Ec(t))return Ic?Ic.call(t):"";var e=t+"";return"0"==e&&1/t==-Pc?"-0":e}function jc(t,e){return function(n,r){var i;if(void 0===n&&void 0===r)return e;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Nc(n),r=Nc(r)):(n=kc(n),r=kc(r)),i=t(n,r)}return i}}var Bc=jc((function(t,e){return t+e}),0),Dc=Bc,Fc=/\s/;function zc(t){var e=t.length;while(e--&&Fc.test(t.charAt(e)));return e}var Wc=/^\s+/;function Hc(t){return t?t.slice(0,zc(t)+1).replace(Wc,""):t}function $c(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var Gc=NaN,Vc=/^[-+]0x[0-9a-f]+$/i,Yc=/^0b[01]+$/i,Uc=/^0o[0-7]+$/i,Xc=parseInt;function qc(t){if("number"==typeof t)return t;if(Ec(t))return Gc;if($c(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=$c(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Hc(t);var n=Yc.test(t);return n||Uc.test(t)?Xc(t.slice(2),n?2:8):Vc.test(t)?Gc:+t}var Kc=1/0,Zc=17976931348623157e292;function Qc(t){if(!t)return 0===t?t:0;if(t=qc(t),t===Kc||t===-Kc){var e=t<0?-1:1;return e*Zc}return t===t?t:0}function Jc(t){var e=Qc(t),n=e%1;return e===e?n?e-n:e:0}var tu="Expected a function";function eu(t,e){if("function"!=typeof e)throw new TypeError(tu);return t=Jc(t),function(){if(--t<1)return e.apply(this,arguments)}}function nu(t){return t}var ru="[object AsyncFunction]",iu="[object Function]",ou="[object GeneratorFunction]",au="[object Proxy]";function su(t){if(!$c(t))return!1;var e=Cc(t);return e==iu||e==ou||e==ru||e==au}var lu=cc["__core-js_shared__"],cu=lu,uu=function(){var t=/[^.]+$/.exec(cu&&cu.keys&&cu.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function hu(t){return!!uu&&uu in t}var fu=Function.prototype,du=fu.toString;function pu(t){if(null!=t){try{return du.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var vu=/[\\^$.*+?()[\]{}|]/g,gu=/^\[object .+?Constructor\]$/,yu=Function.prototype,mu=Object.prototype,bu=yu.toString,xu=mu.hasOwnProperty,wu=RegExp("^"+bu.call(xu).replace(vu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ou(t){if(!$c(t)||hu(t))return!1;var e=su(t)?wu:gu;return e.test(pu(t))}function Cu(t,e){return null==t?void 0:t[e]}function Su(t,e){var n=Cu(t,e);return Ou(n)?n:void 0}var _u=Su(cc,"WeakMap"),Eu=_u,Mu=Eu&&new Eu,ku=Mu,Tu=ku?function(t,e){return ku.set(t,e),t}:nu,Au=Tu,Lu=Object.create,Pu=function(){function t(){}return function(e){if(!$c(e))return{};if(Lu)return Lu(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Ru=Pu;function Iu(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Ru(t.prototype),r=t.apply(n,e);return $c(r)?r:n}}var Nu=1;function ju(t,e,n){var r=e&Nu,i=Iu(t);function o(){var e=this&&this!==cc&&this instanceof o?i:t;return e.apply(r?n:this,arguments)}return o}function Bu(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Du=Math.max;function Fu(t,e,n,r){var i=-1,o=t.length,a=n.length,s=-1,l=e.length,c=Du(o-a,0),u=Array(l+c),h=!r;while(++s<l)u[s]=e[s];while(++i<a)(h||i<o)&&(u[n[i]]=t[i]);while(c--)u[s++]=t[i++];return u}var zu=Math.max;function Wu(t,e,n,r){var i=-1,o=t.length,a=-1,s=n.length,l=-1,c=e.length,u=zu(o-s,0),h=Array(u+c),f=!r;while(++i<u)h[i]=t[i];var d=i;while(++l<c)h[d+l]=e[l];while(++a<s)(f||i<o)&&(h[d+n[a]]=t[i++]);return h}function Hu(t,e){var n=t.length,r=0;while(n--)t[n]===e&&++r;return r}function $u(){}var Gu=4294967295;function Vu(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Gu,this.__views__=[]}function Yu(){}Vu.prototype=Ru($u.prototype),Vu.prototype.constructor=Vu;var Uu=ku?function(t){return ku.get(t)}:Yu,Xu=Uu,qu={},Ku=qu,Zu=Object.prototype,Qu=Zu.hasOwnProperty;function Ju(t){var e=t.name+"",n=Ku[e],r=Qu.call(Ku,e)?n.length:0;while(r--){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function th(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function eh(t,e){var n=-1,r=t.length;e||(e=Array(r));while(++n<r)e[n]=t[n];return e}function nh(t){if(t instanceof Vu)return t.clone();var e=new th(t.__wrapped__,t.__chain__);return e.__actions__=eh(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}th.prototype=Ru($u.prototype),th.prototype.constructor=th;var rh=Object.prototype,ih=rh.hasOwnProperty;function oh(t){if(Sc(t)&&!Lc(t)&&!(t instanceof Vu)){if(t instanceof th)return t;if(ih.call(t,"__wrapped__"))return nh(t)}return new th(t)}function ah(t){var e=Ju(t),n=oh[e];if("function"!=typeof n||!(e in Vu.prototype))return!1;if(t===n)return!0;var r=Xu(n);return!!r&&t===r[0]}oh.prototype=$u.prototype,oh.prototype.constructor=oh;var sh=800,lh=16,ch=Date.now;function uh(t){var e=0,n=0;return function(){var r=ch(),i=lh-(r-n);if(n=r,i>0){if(++e>=sh)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var hh=uh(Au),fh=hh,dh=/\{\n\/\* \[wrapped with (.+)\] \*/,ph=/,? & /;function vh(t){var e=t.match(dh);return e?e[1].split(ph):[]}var gh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function yh(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(gh,"{\n/* [wrapped with "+e+"] */\n")}function mh(t){return function(){return t}}var bh=function(){try{var t=Su(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),xh=bh,wh=xh?function(t,e){return xh(t,"toString",{configurable:!0,enumerable:!1,value:mh(e),writable:!0})}:nu,Oh=wh,Ch=uh(Oh),Sh=Ch;function _h(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!1===e(t[n],n,t))break;return t}function Eh(t,e,n,r){var i=t.length,o=n+(r?1:-1);while(r?o--:++o<i)if(e(t[o],o,t))return o;return-1}function Mh(t){return t!==t}function kh(t,e,n){var r=n-1,i=t.length;while(++r<i)if(t[r]===e)return r;return-1}function Th(t,e,n){return e===e?kh(t,e,n):Eh(t,Mh,n)}function Ah(t,e){var n=null==t?0:t.length;return!!n&&Th(t,e,0)>-1}var Lh=1,Ph=2,Rh=8,Ih=16,Nh=32,jh=64,Bh=128,Dh=256,Fh=512,zh=[["ary",Bh],["bind",Lh],["bindKey",Ph],["curry",Rh],["curryRight",Ih],["flip",Fh],["partial",Nh],["partialRight",jh],["rearg",Dh]];function Wh(t,e){return _h(zh,(function(n){var r="_."+n[0];e&n[1]&&!Ah(t,r)&&t.push(r)})),t.sort()}function Hh(t,e,n){var r=e+"";return Sh(t,yh(r,Wh(vh(r),n)))}var $h=1,Gh=2,Vh=4,Yh=8,Uh=32,Xh=64;function qh(t,e,n,r,i,o,a,s,l,c){var u=e&Yh,h=u?a:void 0,f=u?void 0:a,d=u?o:void 0,p=u?void 0:o;e|=u?Uh:Xh,e&=~(u?Xh:Uh),e&Vh||(e&=~($h|Gh));var v=[t,e,i,d,h,p,f,s,l,c],g=n.apply(void 0,v);return ah(t)&&fh(g,v),g.placeholder=r,Hh(g,t,e)}function Kh(t){var e=t;return e.placeholder}var Zh=9007199254740991,Qh=/^(?:0|[1-9]\d*)$/;function Jh(t,e){var n=typeof t;return e=null==e?Zh:e,!!e&&("number"==n||"symbol"!=n&&Qh.test(t))&&t>-1&&t%1==0&&t<e}var tf=Math.min;function ef(t,e){var n=t.length,r=tf(e.length,n),i=eh(t);while(r--){var o=e[r];t[r]=Jh(o,n)?i[o]:void 0}return t}var nf="__lodash_placeholder__";function rf(t,e){var n=-1,r=t.length,i=0,o=[];while(++n<r){var a=t[n];a!==e&&a!==nf||(t[n]=nf,o[i++]=n)}return o}var of=1,af=2,sf=8,lf=16,cf=128,uf=512;function hf(t,e,n,r,i,o,a,s,l,c){var u=e&cf,h=e&of,f=e&af,d=e&(sf|lf),p=e&uf,v=f?void 0:Iu(t);function g(){var y=arguments.length,m=Array(y),b=y;while(b--)m[b]=arguments[b];if(d)var x=Kh(g),w=Hu(m,x);if(r&&(m=Fu(m,r,i,d)),o&&(m=Wu(m,o,a,d)),y-=w,d&&y<c){var O=rf(m,x);return qh(t,e,hf,g.placeholder,n,m,O,s,l,c-y)}var C=h?n:this,S=f?C[t]:t;return y=m.length,s?m=ef(m,s):p&&y>1&&m.reverse(),u&&l<y&&(m.length=l),this&&this!==cc&&this instanceof g&&(S=v||Iu(S)),S.apply(C,m)}return g}function ff(t,e,n){var r=Iu(t);function i(){var o=arguments.length,a=Array(o),s=o,l=Kh(i);while(s--)a[s]=arguments[s];var c=o<3&&a[0]!==l&&a[o-1]!==l?[]:rf(a,l);if(o-=c.length,o<n)return qh(t,e,hf,i.placeholder,void 0,a,c,void 0,void 0,n-o);var u=this&&this!==cc&&this instanceof i?r:t;return Bu(u,this,a)}return i}var df=1;function pf(t,e,n,r){var i=e&df,o=Iu(t);function a(){var e=-1,s=arguments.length,l=-1,c=r.length,u=Array(c+s),h=this&&this!==cc&&this instanceof a?o:t;while(++l<c)u[l]=r[l];while(s--)u[l++]=arguments[++e];return Bu(h,i?n:this,u)}return a}var vf="__lodash_placeholder__",gf=1,yf=2,mf=4,bf=8,xf=128,wf=256,Of=Math.min;function Cf(t,e){var n=t[1],r=e[1],i=n|r,o=i<(gf|yf|xf),a=r==xf&&n==bf||r==xf&&n==wf&&t[7].length<=e[8]||r==(xf|wf)&&e[7].length<=e[8]&&n==bf;if(!o&&!a)return t;r&gf&&(t[2]=e[2],i|=n&gf?0:mf);var s=e[3];if(s){var l=t[3];t[3]=l?Fu(l,s,e[4]):s,t[4]=l?rf(t[3],vf):e[4]}return s=e[5],s&&(l=t[5],t[5]=l?Wu(l,s,e[6]):s,t[6]=l?rf(t[5],vf):e[6]),s=e[7],s&&(t[7]=s),r&xf&&(t[8]=null==t[8]?e[8]:Of(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}var Sf="Expected a function",_f=1,Ef=2,Mf=8,kf=16,Tf=32,Af=64,Lf=Math.max;function Pf(t,e,n,r,i,o,a,s){var l=e&Ef;if(!l&&"function"!=typeof t)throw new TypeError(Sf);var c=r?r.length:0;if(c||(e&=~(Tf|Af),r=i=void 0),a=void 0===a?a:Lf(Jc(a),0),s=void 0===s?s:Jc(s),c-=i?i.length:0,e&Af){var u=r,h=i;r=i=void 0}var f=l?void 0:Xu(t),d=[t,e,n,r,i,u,h,o,a,s];if(f&&Cf(d,f),t=d[0],e=d[1],n=d[2],r=d[3],i=d[4],s=d[9]=void 0===d[9]?l?0:t.length:Lf(d[9]-c,0),!s&&e&(Mf|kf)&&(e&=~(Mf|kf)),e&&e!=_f)p=e==Mf||e==kf?ff(t,e,s):e!=Tf&&e!=(_f|Tf)||i.length?hf.apply(void 0,d):pf(t,e,n,r);else var p=ju(t,e,n);var v=f?Au:fh;return Hh(v(p,d),t,e)}var Rf=128;function If(t,e,n){return e=n?void 0:e,e=t&&null==e?t.length:e,Pf(t,Rf,void 0,void 0,void 0,void 0,e)}function Nf(t,e,n){"__proto__"==e&&xh?xh(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function jf(t,e){return t===e||t!==t&&e!==e}var Bf=Object.prototype,Df=Bf.hasOwnProperty;function Ff(t,e,n){var r=t[e];Df.call(t,e)&&jf(r,n)&&(void 0!==n||e in t)||Nf(t,e,n)}function zf(t,e,n,r){var i=!n;n||(n={});var o=-1,a=e.length;while(++o<a){var s=e[o],l=r?r(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),i?Nf(n,s,l):Ff(n,s,l)}return n}var Wf=Math.max;function Hf(t,e,n){return e=Wf(void 0===e?t.length-1:e,0),function(){var r=arguments,i=-1,o=Wf(r.length-e,0),a=Array(o);while(++i<o)a[i]=r[e+i];i=-1;var s=Array(e+1);while(++i<e)s[i]=r[i];return s[e]=n(a),Bu(t,this,s)}}function $f(t,e){return Sh(Hf(t,e,nu),t+"")}var Gf=9007199254740991;function Vf(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Gf}function Yf(t){return null!=t&&Vf(t.length)&&!su(t)}function Uf(t,e,n){if(!$c(n))return!1;var r=typeof e;return!!("number"==r?Yf(n)&&Jh(e,n.length):"string"==r&&e in n)&&jf(n[e],t)}function Xf(t){return $f((function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;o=t.length>3&&"function"==typeof o?(i--,o):void 0,a&&Uf(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);while(++r<i){var s=n[r];s&&t(e,s,r,o)}return e}))}var qf=Object.prototype;function Kf(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||qf;return t===n}function Zf(t,e){var n=-1,r=Array(t);while(++n<t)r[n]=e(n);return r}var Qf="[object Arguments]";function Jf(t){return Sc(t)&&Cc(t)==Qf}var td=Object.prototype,ed=td.hasOwnProperty,nd=td.propertyIsEnumerable,rd=Jf(function(){return arguments}())?Jf:function(t){return Sc(t)&&ed.call(t,"callee")&&!nd.call(t,"callee")},id=rd;function od(){return!1}var ad="object"==typeof exports&&exports&&!exports.nodeType&&exports,sd=ad&&t&&!t.nodeType&&t,ld=sd&&sd.exports===ad,cd=ld?cc.Buffer:void 0,ud=cd?cd.isBuffer:void 0,hd=ud||od,fd=hd,dd="[object Arguments]",pd="[object Array]",vd="[object Boolean]",gd="[object Date]",yd="[object Error]",md="[object Function]",bd="[object Map]",xd="[object Number]",wd="[object Object]",Od="[object RegExp]",Cd="[object Set]",Sd="[object String]",_d="[object WeakMap]",Ed="[object ArrayBuffer]",Md="[object DataView]",kd="[object Float32Array]",Td="[object Float64Array]",Ad="[object Int8Array]",Ld="[object Int16Array]",Pd="[object Int32Array]",Rd="[object Uint8Array]",Id="[object Uint8ClampedArray]",Nd="[object Uint16Array]",jd="[object Uint32Array]",Bd={};function Dd(t){return Sc(t)&&Vf(t.length)&&!!Bd[Cc(t)]}function Fd(t){return function(e){return t(e)}}Bd[kd]=Bd[Td]=Bd[Ad]=Bd[Ld]=Bd[Pd]=Bd[Rd]=Bd[Id]=Bd[Nd]=Bd[jd]=!0,Bd[dd]=Bd[pd]=Bd[Ed]=Bd[vd]=Bd[Md]=Bd[gd]=Bd[yd]=Bd[md]=Bd[bd]=Bd[xd]=Bd[wd]=Bd[Od]=Bd[Cd]=Bd[Sd]=Bd[_d]=!1;var zd="object"==typeof exports&&exports&&!exports.nodeType&&exports,Wd=zd&&t&&!t.nodeType&&t,Hd=Wd&&Wd.exports===zd,$d=Hd&&ac.process,Gd=function(){try{var t=Wd&&Wd.require&&Wd.require("util").types;return t||$d&&$d.binding&&$d.binding("util")}catch(e){}}(),Vd=Gd,Yd=Vd&&Vd.isTypedArray,Ud=Yd?Fd(Yd):Dd,Xd=Ud,qd=Object.prototype,Kd=qd.hasOwnProperty;function Zd(t,e){var n=Lc(t),r=!n&&id(t),i=!n&&!r&&fd(t),o=!n&&!r&&!i&&Xd(t),a=n||r||i||o,s=a?Zf(t.length,String):[],l=s.length;for(var c in t)!e&&!Kd.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Jh(c,l))||s.push(c);return s}function Qd(t,e){return function(n){return t(e(n))}}var Jd=Qd(Object.keys,Object),tp=Jd,ep=Object.prototype,np=ep.hasOwnProperty;function rp(t){if(!Kf(t))return tp(t);var e=[];for(var n in Object(t))np.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ip(t){return Yf(t)?Zd(t):rp(t)}var op=Object.prototype,ap=op.hasOwnProperty,sp=Xf((function(t,e){if(Kf(e)||Yf(e))zf(e,ip(e),t);else for(var n in e)ap.call(e,n)&&Ff(t,n,e[n])})),lp=sp;function cp(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}var up=Object.prototype,hp=up.hasOwnProperty;function fp(t){if(!$c(t))return cp(t);var e=Kf(t),n=[];for(var r in t)("constructor"!=r||!e&&hp.call(t,r))&&n.push(r);return n}function dp(t){return Yf(t)?Zd(t,!0):fp(t)}var pp=Xf((function(t,e){zf(e,dp(e),t)})),vp=pp,gp=Xf((function(t,e,n,r){zf(e,dp(e),t,r)})),yp=gp,mp=Xf((function(t,e,n,r){zf(e,ip(e),t,r)})),bp=mp,xp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wp=/^\w*$/;function Op(t,e){if(Lc(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ec(t))||(wp.test(t)||!xp.test(t)||null!=e&&t in Object(e))}var Cp=Su(Object,"create"),Sp=Cp;function _p(){this.__data__=Sp?Sp(null):{},this.size=0}function Ep(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Mp="__lodash_hash_undefined__",kp=Object.prototype,Tp=kp.hasOwnProperty;function Ap(t){var e=this.__data__;if(Sp){var n=e[t];return n===Mp?void 0:n}return Tp.call(e,t)?e[t]:void 0}var Lp=Object.prototype,Pp=Lp.hasOwnProperty;function Rp(t){var e=this.__data__;return Sp?void 0!==e[t]:Pp.call(e,t)}var Ip="__lodash_hash_undefined__";function Np(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Sp&&void 0===e?Ip:e,this}function jp(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}function Bp(){this.__data__=[],this.size=0}function Dp(t,e){var n=t.length;while(n--)if(jf(t[n][0],e))return n;return-1}jp.prototype.clear=_p,jp.prototype["delete"]=Ep,jp.prototype.get=Ap,jp.prototype.has=Rp,jp.prototype.set=Np;var Fp=Array.prototype,zp=Fp.splice;function Wp(t){var e=this.__data__,n=Dp(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():zp.call(e,n,1),--this.size,!0}function Hp(t){var e=this.__data__,n=Dp(e,t);return n<0?void 0:e[n][1]}function $p(t){return Dp(this.__data__,t)>-1}function Gp(t,e){var n=this.__data__,r=Dp(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Vp(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}Vp.prototype.clear=Bp,Vp.prototype["delete"]=Wp,Vp.prototype.get=Hp,Vp.prototype.has=$p,Vp.prototype.set=Gp;var Yp=Su(cc,"Map"),Up=Yp;function Xp(){this.size=0,this.__data__={hash:new jp,map:new(Up||Vp),string:new jp}}function qp(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Kp(t,e){var n=t.__data__;return qp(e)?n["string"==typeof e?"string":"hash"]:n.map}function Zp(t){var e=Kp(this,t)["delete"](t);return this.size-=e?1:0,e}function Qp(t){return Kp(this,t).get(t)}function Jp(t){return Kp(this,t).has(t)}function tv(t,e){var n=Kp(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ev(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}ev.prototype.clear=Xp,ev.prototype["delete"]=Zp,ev.prototype.get=Qp,ev.prototype.has=Jp,ev.prototype.set=tv;var nv="Expected a function";function rv(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(nv);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(rv.Cache||ev),n}rv.Cache=ev;var iv=500;function ov(t){var e=rv(t,(function(t){return n.size===iv&&n.clear(),t})),n=e.cache;return e}var av=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sv=/\\(\\)?/g,lv=ov((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(av,(function(t,n,r,i){e.push(r?i.replace(sv,"$1"):n||t)})),e})),cv=lv;function uv(t){return null==t?"":Nc(t)}function hv(t,e){return Lc(t)?t:Op(t,e)?[t]:cv(uv(t))}var fv=1/0;function dv(t){if("string"==typeof t||Ec(t))return t;var e=t+"";return"0"==e&&1/t==-fv?"-0":e}function pv(t,e){e=hv(e,t);var n=0,r=e.length;while(null!=t&&n<r)t=t[dv(e[n++])];return n&&n==r?t:void 0}function vv(t,e,n){var r=null==t?void 0:pv(t,e);return void 0===r?n:r}function gv(t,e){var n=-1,r=e.length,i=Array(r),o=null==t;while(++n<r)i[n]=o?void 0:vv(t,e[n]);return i}function yv(t,e){var n=-1,r=e.length,i=t.length;while(++n<r)t[i+n]=e[n];return t}var mv=hc?hc.isConcatSpreadable:void 0;function bv(t){return Lc(t)||id(t)||!!(mv&&t&&t[mv])}function xv(t,e,n,r,i){var o=-1,a=t.length;n||(n=bv),i||(i=[]);while(++o<a){var s=t[o];e>0&&n(s)?e>1?xv(s,e-1,n,r,i):yv(i,s):r||(i[i.length]=s)}return i}function wv(t){var e=null==t?0:t.length;return e?xv(t,1):[]}function Ov(t){return Sh(Hf(t,void 0,wv),t+"")}var Cv=Ov(gv),Sv=Cv,_v=Qd(Object.getPrototypeOf,Object),Ev=_v,Mv="[object Object]",kv=Function.prototype,Tv=Object.prototype,Av=kv.toString,Lv=Tv.hasOwnProperty,Pv=Av.call(Object);function Rv(t){if(!Sc(t)||Cc(t)!=Mv)return!1;var e=Ev(t);if(null===e)return!0;var n=Lv.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Av.call(n)==Pv}var Iv="[object DOMException]",Nv="[object Error]";function jv(t){if(!Sc(t))return!1;var e=Cc(t);return e==Nv||e==Iv||"string"==typeof t.message&&"string"==typeof t.name&&!Rv(t)}var Bv=$f((function(t,e){try{return Bu(t,void 0,e)}catch(n){return jv(n)?n:new Error(n)}})),Dv=Bv,Fv="Expected a function";function zv(t,e){var n;if("function"!=typeof e)throw new TypeError(Fv);return t=Jc(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var Wv=1,Hv=32,$v=$f((function(t,e,n){var r=Wv;if(n.length){var i=rf(n,Kh($v));r|=Hv}return Pf(t,r,e,n,i)}));$v.placeholder={};var Gv=$v,Vv=Ov((function(t,e){return _h(e,(function(e){e=dv(e),Nf(t,e,Gv(t[e],t))})),t})),Yv=Vv,Uv=1,Xv=2,qv=32,Kv=$f((function(t,e,n){var r=Uv|Xv;if(n.length){var i=rf(n,Kh(Kv));r|=qv}return Pf(e,r,t,n,i)}));Kv.placeholder={};var Zv=Kv;function Qv(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;var o=Array(i);while(++r<i)o[r]=t[r+e];return o}function Jv(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:Qv(t,e,n)}var tg="\\ud800-\\udfff",eg="\\u0300-\\u036f",ng="\\ufe20-\\ufe2f",rg="\\u20d0-\\u20ff",ig=eg+ng+rg,og="\\ufe0e\\ufe0f",ag="\\u200d",sg=RegExp("["+ag+tg+ig+og+"]");function lg(t){return sg.test(t)}function cg(t){return t.split("")}var ug="\\ud800-\\udfff",hg="\\u0300-\\u036f",fg="\\ufe20-\\ufe2f",dg="\\u20d0-\\u20ff",pg=hg+fg+dg,vg="\\ufe0e\\ufe0f",gg="["+ug+"]",yg="["+pg+"]",mg="\\ud83c[\\udffb-\\udfff]",bg="(?:"+yg+"|"+mg+")",xg="[^"+ug+"]",wg="(?:\\ud83c[\\udde6-\\uddff]){2}",Og="[\\ud800-\\udbff][\\udc00-\\udfff]",Cg="\\u200d",Sg=bg+"?",_g="["+vg+"]?",Eg="(?:"+Cg+"(?:"+[xg,wg,Og].join("|")+")"+_g+Sg+")*",Mg=_g+Sg+Eg,kg="(?:"+[xg+yg+"?",yg,wg,Og,gg].join("|")+")",Tg=RegExp(mg+"(?="+mg+")|"+kg+Mg,"g");function Ag(t){return t.match(Tg)||[]}function Lg(t){return lg(t)?Ag(t):cg(t)}function Pg(t){return function(e){e=uv(e);var n=lg(e)?Lg(e):void 0,r=n?n[0]:e.charAt(0),i=n?Jv(n,1).join(""):e.slice(1);return r[t]()+i}}var Rg=Pg("toUpperCase"),Ig=Rg;function Ng(t){return Ig(uv(t).toLowerCase())}function jg(t,e,n,r){var i=-1,o=null==t?0:t.length;r&&o&&(n=t[++i]);while(++i<o)n=e(n,t[i],i,t);return n}function Bg(t){return function(e){return null==t?void 0:t[e]}}var Dg={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Fg=Bg(Dg),zg=Fg,Wg=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Hg="\\u0300-\\u036f",$g="\\ufe20-\\ufe2f",Gg="\\u20d0-\\u20ff",Vg=Hg+$g+Gg,Yg="["+Vg+"]",Ug=RegExp(Yg,"g");function Xg(t){return t=uv(t),t&&t.replace(Wg,zg).replace(Ug,"")}var qg=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Kg(t){return t.match(qg)||[]}var Zg=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Qg(t){return Zg.test(t)}var Jg="\\ud800-\\udfff",ty="\\u0300-\\u036f",ey="\\ufe20-\\ufe2f",ny="\\u20d0-\\u20ff",ry=ty+ey+ny,iy="\\u2700-\\u27bf",oy="a-z\\xdf-\\xf6\\xf8-\\xff",ay="\\xac\\xb1\\xd7\\xf7",sy="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ly="\\u2000-\\u206f",cy=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",uy="A-Z\\xc0-\\xd6\\xd8-\\xde",hy="\\ufe0e\\ufe0f",fy=ay+sy+ly+cy,dy="['’]",py="["+fy+"]",vy="["+ry+"]",gy="\\d+",yy="["+iy+"]",my="["+oy+"]",by="[^"+Jg+fy+gy+iy+oy+uy+"]",xy="\\ud83c[\\udffb-\\udfff]",wy="(?:"+vy+"|"+xy+")",Oy="[^"+Jg+"]",Cy="(?:\\ud83c[\\udde6-\\uddff]){2}",Sy="[\\ud800-\\udbff][\\udc00-\\udfff]",_y="["+uy+"]",Ey="\\u200d",My="(?:"+my+"|"+by+")",ky="(?:"+_y+"|"+by+")",Ty="(?:"+dy+"(?:d|ll|m|re|s|t|ve))?",Ay="(?:"+dy+"(?:D|LL|M|RE|S|T|VE))?",Ly=wy+"?",Py="["+hy+"]?",Ry="(?:"+Ey+"(?:"+[Oy,Cy,Sy].join("|")+")"+Py+Ly+")*",Iy="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ny="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",jy=Py+Ly+Ry,By="(?:"+[yy,Cy,Sy].join("|")+")"+jy,Dy=RegExp([_y+"?"+my+"+"+Ty+"(?="+[py,_y,"$"].join("|")+")",ky+"+"+Ay+"(?="+[py,_y+My,"$"].join("|")+")",_y+"?"+My+"+"+Ty,_y+"+"+Ay,Ny,Iy,gy,By].join("|"),"g");function Fy(t){return t.match(Dy)||[]}function zy(t,e,n){return t=uv(t),e=n?void 0:e,void 0===e?Qg(t)?Fy(t):Kg(t):t.match(e)||[]}var Wy="['’]",Hy=RegExp(Wy,"g");function $y(t){return function(e){return jg(zy(Xg(e).replace(Hy,"")),t,"")}}var Gy=$y((function(t,e,n){return e=e.toLowerCase(),t+(n?Ng(e):e)})),Vy=Gy;function Yy(){if(!arguments.length)return[];var t=arguments[0];return Lc(t)?t:[t]}var Uy=cc.isFinite,Xy=Math.min;function qy(t){var e=Math[t];return function(t,n){if(t=qc(t),n=null==n?0:Xy(Jc(n),292),n&&Uy(t)){var r=(uv(t)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+n));return r=(uv(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}var Ky=qy("ceil"),Zy=Ky;function Qy(t){var e=oh(t);return e.__chain__=!0,e}var Jy=Math.ceil,tm=Math.max;function em(t,e,n){e=(n?Uf(t,e,n):void 0===e)?1:tm(Jc(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];var i=0,o=0,a=Array(Jy(r/e));while(i<r)a[o++]=Qv(t,i,i+=e);return a}function nm(t,e,n){return t===t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function rm(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=qc(n),n=n===n?n:0),void 0!==e&&(e=qc(e),e=e===e?e:0),nm(qc(t),e,n)}function im(){this.__data__=new Vp,this.size=0}function om(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}function am(t){return this.__data__.get(t)}function sm(t){return this.__data__.has(t)}var lm=200;function cm(t,e){var n=this.__data__;if(n instanceof Vp){var r=n.__data__;if(!Up||r.length<lm-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ev(r)}return n.set(t,e),this.size=n.size,this}function um(t){var e=this.__data__=new Vp(t);this.size=e.size}function hm(t,e){return t&&zf(e,ip(e),t)}function fm(t,e){return t&&zf(e,dp(e),t)}um.prototype.clear=im,um.prototype["delete"]=om,um.prototype.get=am,um.prototype.has=sm,um.prototype.set=cm;var dm="object"==typeof exports&&exports&&!exports.nodeType&&exports,pm=dm&&t&&!t.nodeType&&t,vm=pm&&pm.exports===dm,gm=vm?cc.Buffer:void 0,ym=gm?gm.allocUnsafe:void 0;function mm(t,e){if(e)return t.slice();var n=t.length,r=ym?ym(n):new t.constructor(n);return t.copy(r),r}function bm(t,e){var n=-1,r=null==t?0:t.length,i=0,o=[];while(++n<r){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function xm(){return[]}var wm=Object.prototype,Om=wm.propertyIsEnumerable,Cm=Object.getOwnPropertySymbols,Sm=Cm?function(t){return null==t?[]:(t=Object(t),bm(Cm(t),(function(e){return Om.call(t,e)})))}:xm,_m=Sm;function Em(t,e){return zf(t,_m(t),e)}var Mm=Object.getOwnPropertySymbols,km=Mm?function(t){var e=[];while(t)yv(e,_m(t)),t=Ev(t);return e}:xm,Tm=km;function Am(t,e){return zf(t,Tm(t),e)}function Lm(t,e,n){var r=e(t);return Lc(t)?r:yv(r,n(t))}function Pm(t){return Lm(t,ip,_m)}function Rm(t){return Lm(t,dp,Tm)}var Im=Su(cc,"DataView"),Nm=Im,jm=Su(cc,"Promise"),Bm=jm,Dm=Su(cc,"Set"),Fm=Dm,zm="[object Map]",Wm="[object Object]",Hm="[object Promise]",$m="[object Set]",Gm="[object WeakMap]",Vm="[object DataView]",Ym=pu(Nm),Um=pu(Up),Xm=pu(Bm),qm=pu(Fm),Km=pu(Eu),Zm=Cc;(Nm&&Zm(new Nm(new ArrayBuffer(1)))!=Vm||Up&&Zm(new Up)!=zm||Bm&&Zm(Bm.resolve())!=Hm||Fm&&Zm(new Fm)!=$m||Eu&&Zm(new Eu)!=Gm)&&(Zm=function(t){var e=Cc(t),n=e==Wm?t.constructor:void 0,r=n?pu(n):"";if(r)switch(r){case Ym:return Vm;case Um:return zm;case Xm:return Hm;case qm:return $m;case Km:return Gm}return e});var Qm=Zm,Jm=Object.prototype,tb=Jm.hasOwnProperty;function eb(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&tb.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var nb=cc.Uint8Array,rb=nb;function ib(t){var e=new t.constructor(t.byteLength);return new rb(e).set(new rb(t)),e}function ob(t,e){var n=e?ib(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var ab=/\w*$/;function sb(t){var e=new t.constructor(t.source,ab.exec(t));return e.lastIndex=t.lastIndex,e}var lb=hc?hc.prototype:void 0,cb=lb?lb.valueOf:void 0;function ub(t){return cb?Object(cb.call(t)):{}}function hb(t,e){var n=e?ib(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var fb="[object Boolean]",db="[object Date]",pb="[object Map]",vb="[object Number]",gb="[object RegExp]",yb="[object Set]",mb="[object String]",bb="[object Symbol]",xb="[object ArrayBuffer]",wb="[object DataView]",Ob="[object Float32Array]",Cb="[object Float64Array]",Sb="[object Int8Array]",_b="[object Int16Array]",Eb="[object Int32Array]",Mb="[object Uint8Array]",kb="[object Uint8ClampedArray]",Tb="[object Uint16Array]",Ab="[object Uint32Array]";function Lb(t,e,n){var r=t.constructor;switch(e){case xb:return ib(t);case fb:case db:return new r(+t);case wb:return ob(t,n);case Ob:case Cb:case Sb:case _b:case Eb:case Mb:case kb:case Tb:case Ab:return hb(t,n);case pb:return new r;case vb:case mb:return new r(t);case gb:return sb(t);case yb:return new r;case bb:return ub(t)}}function Pb(t){return"function"!=typeof t.constructor||Kf(t)?{}:Ru(Ev(t))}var Rb="[object Map]";function Ib(t){return Sc(t)&&Qm(t)==Rb}var Nb=Vd&&Vd.isMap,jb=Nb?Fd(Nb):Ib,Bb=jb,Db="[object Set]";function Fb(t){return Sc(t)&&Qm(t)==Db}var zb=Vd&&Vd.isSet,Wb=zb?Fd(zb):Fb,Hb=Wb,$b=1,Gb=2,Vb=4,Yb="[object Arguments]",Ub="[object Array]",Xb="[object Boolean]",qb="[object Date]",Kb="[object Error]",Zb="[object Function]",Qb="[object GeneratorFunction]",Jb="[object Map]",tx="[object Number]",ex="[object Object]",nx="[object RegExp]",rx="[object Set]",ix="[object String]",ox="[object Symbol]",ax="[object WeakMap]",sx="[object ArrayBuffer]",lx="[object DataView]",cx="[object Float32Array]",ux="[object Float64Array]",hx="[object Int8Array]",fx="[object Int16Array]",dx="[object Int32Array]",px="[object Uint8Array]",vx="[object Uint8ClampedArray]",gx="[object Uint16Array]",yx="[object Uint32Array]",mx={};function bx(t,e,n,r,i,o){var a,s=e&$b,l=e&Gb,c=e&Vb;if(n&&(a=i?n(t,r,i,o):n(t)),void 0!==a)return a;if(!$c(t))return t;var u=Lc(t);if(u){if(a=eb(t),!s)return eh(t,a)}else{var h=Qm(t),f=h==Zb||h==Qb;if(fd(t))return mm(t,s);if(h==ex||h==Yb||f&&!i){if(a=l||f?{}:Pb(t),!s)return l?Am(t,fm(a,t)):Em(t,hm(a,t))}else{if(!mx[h])return i?t:{};a=Lb(t,h,s)}}o||(o=new um);var d=o.get(t);if(d)return d;o.set(t,a),Hb(t)?t.forEach((function(r){a.add(bx(r,e,n,r,t,o))})):Bb(t)&&t.forEach((function(r,i){a.set(i,bx(r,e,n,i,t,o))}));var p=c?l?Rm:Pm:l?dp:ip,v=u?void 0:p(t);return _h(v||t,(function(r,i){v&&(i=r,r=t[i]),Ff(a,i,bx(r,e,n,i,t,o))})),a}mx[Yb]=mx[Ub]=mx[sx]=mx[lx]=mx[Xb]=mx[qb]=mx[cx]=mx[ux]=mx[hx]=mx[fx]=mx[dx]=mx[Jb]=mx[tx]=mx[ex]=mx[nx]=mx[rx]=mx[ix]=mx[ox]=mx[px]=mx[vx]=mx[gx]=mx[yx]=!0,mx[Kb]=mx[Zb]=mx[ax]=!1;var xx=4;function wx(t){return bx(t,xx)}var Ox=1,Cx=4;function Sx(t){return bx(t,Ox|Cx)}var _x=1,Ex=4;function Mx(t,e){return e="function"==typeof e?e:void 0,bx(t,_x|Ex,e)}var kx=4;function Tx(t,e){return e="function"==typeof e?e:void 0,bx(t,kx,e)}function Ax(){return new th(this.value(),this.__chain__)}function Lx(t){var e=-1,n=null==t?0:t.length,r=0,i=[];while(++e<n){var o=t[e];o&&(i[r++]=o)}return i}function Px(){var t=arguments.length;if(!t)return[];var e=Array(t-1),n=arguments[0],r=t;while(r--)e[r-1]=arguments[r];return yv(Lc(n)?eh(n):[n],xv(e,1))}var Rx="__lodash_hash_undefined__";function Ix(t){return this.__data__.set(t,Rx),this}function Nx(t){return this.__data__.has(t)}function jx(t){var e=-1,n=null==t?0:t.length;this.__data__=new ev;while(++e<n)this.add(t[e])}function Bx(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(e(t[n],n,t))return!0;return!1}function Dx(t,e){return t.has(e)}jx.prototype.add=jx.prototype.push=Ix,jx.prototype.has=Nx;var Fx=1,zx=2;function Wx(t,e,n,r,i,o){var a=n&Fx,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var h=-1,f=!0,d=n&zx?new jx:void 0;o.set(t,e),o.set(e,t);while(++h<s){var p=t[h],v=e[h];if(r)var g=a?r(v,p,h,e,t,o):r(p,v,h,t,e,o);if(void 0!==g){if(g)continue;f=!1;break}if(d){if(!Bx(e,(function(t,e){if(!Dx(d,e)&&(p===t||i(p,t,n,r,o)))return d.push(e)}))){f=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){f=!1;break}}return o["delete"](t),o["delete"](e),f}function Hx(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function $x(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var Gx=1,Vx=2,Yx="[object Boolean]",Ux="[object Date]",Xx="[object Error]",qx="[object Map]",Kx="[object Number]",Zx="[object RegExp]",Qx="[object Set]",Jx="[object String]",tw="[object Symbol]",ew="[object ArrayBuffer]",nw="[object DataView]",rw=hc?hc.prototype:void 0,iw=rw?rw.valueOf:void 0;function ow(t,e,n,r,i,o,a){switch(n){case nw:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ew:return!(t.byteLength!=e.byteLength||!o(new rb(t),new rb(e)));case Yx:case Ux:case Kx:return jf(+t,+e);case Xx:return t.name==e.name&&t.message==e.message;case Zx:case Jx:return t==e+"";case qx:var s=Hx;case Qx:var l=r&Gx;if(s||(s=$x),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=Vx,a.set(t,e);var u=Wx(s(t),s(e),r,i,o,a);return a["delete"](t),u;case tw:if(iw)return iw.call(t)==iw.call(e)}return!1}var aw=1,sw=Object.prototype,lw=sw.hasOwnProperty;function cw(t,e,n,r,i,o){var a=n&aw,s=Pm(t),l=s.length,c=Pm(e),u=c.length;if(l!=u&&!a)return!1;var h=l;while(h--){var f=s[h];if(!(a?f in e:lw.call(e,f)))return!1}var d=o.get(t),p=o.get(e);if(d&&p)return d==e&&p==t;var v=!0;o.set(t,e),o.set(e,t);var g=a;while(++h<l){f=s[h];var y=t[f],m=e[f];if(r)var b=a?r(m,y,f,e,t,o):r(y,m,f,t,e,o);if(!(void 0===b?y===m||i(y,m,n,r,o):b)){v=!1;break}g||(g="constructor"==f)}if(v&&!g){var x=t.constructor,w=e.constructor;x==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(v=!1)}return o["delete"](t),o["delete"](e),v}var uw=1,hw="[object Arguments]",fw="[object Array]",dw="[object Object]",pw=Object.prototype,vw=pw.hasOwnProperty;function gw(t,e,n,r,i,o){var a=Lc(t),s=Lc(e),l=a?fw:Qm(t),c=s?fw:Qm(e);l=l==hw?dw:l,c=c==hw?dw:c;var u=l==dw,h=c==dw,f=l==c;if(f&&fd(t)){if(!fd(e))return!1;a=!0,u=!1}if(f&&!u)return o||(o=new um),a||Xd(t)?Wx(t,e,n,r,i,o):ow(t,e,l,n,r,i,o);if(!(n&uw)){var d=u&&vw.call(t,"__wrapped__"),p=h&&vw.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,g=p?e.value():e;return o||(o=new um),i(v,g,n,r,o)}}return!!f&&(o||(o=new um),cw(t,e,n,r,i,o))}function yw(t,e,n,r,i){return t===e||(null==t||null==e||!Sc(t)&&!Sc(e)?t!==t&&e!==e:gw(t,e,n,r,yw,i))}var mw=1,bw=2;function xw(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;t=Object(t);while(i--){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}while(++i<o){s=n[i];var l=s[0],c=t[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in t))return!1}else{var h=new um;if(r)var f=r(c,u,l,t,e,h);if(!(void 0===f?yw(u,c,mw|bw,r,h):f))return!1}}return!0}function ww(t){return t===t&&!$c(t)}function Ow(t){var e=ip(t),n=e.length;while(n--){var r=e[n],i=t[r];e[n]=[r,i,ww(i)]}return e}function Cw(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function Sw(t){var e=Ow(t);return 1==e.length&&e[0][2]?Cw(e[0][0],e[0][1]):function(n){return n===t||xw(n,t,e)}}function _w(t,e){return null!=t&&e in Object(t)}function Ew(t,e,n){e=hv(e,t);var r=-1,i=e.length,o=!1;while(++r<i){var a=dv(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=null==t?0:t.length,!!i&&Vf(i)&&Jh(a,i)&&(Lc(t)||id(t)))}function Mw(t,e){return null!=t&&Ew(t,e,_w)}var kw=1,Tw=2;function Aw(t,e){return Op(t)&&ww(e)?Cw(dv(t),e):function(n){var r=vv(n,t);return void 0===r&&r===e?Mw(n,t):yw(e,r,kw|Tw)}}function Lw(t){return function(e){return null==e?void 0:e[t]}}function Pw(t){return function(e){return pv(e,t)}}function Rw(t){return Op(t)?Lw(dv(t)):Pw(t)}function Iw(t){return"function"==typeof t?t:null==t?nu:"object"==typeof t?Lc(t)?Aw(t[0],t[1]):Sw(t):Rw(t)}var Nw="Expected a function";function jw(t){var e=null==t?0:t.length,n=Iw;return t=e?Tc(t,(function(t){if("function"!=typeof t[1])throw new TypeError(Nw);return[n(t[0]),t[1]]})):[],$f((function(n){var r=-1;while(++r<e){var i=t[r];if(Bu(i[0],this,n))return Bu(i[1],this,n)}}))}function Bw(t,e,n){var r=n.length;if(null==t)return!r;t=Object(t);while(r--){var i=n[r],o=e[i],a=t[i];if(void 0===a&&!(i in t)||!o(a))return!1}return!0}function Dw(t){var e=ip(t);return function(n){return Bw(n,t,e)}}var Fw=1;function zw(t){return Dw(bx(t,Fw))}function Ww(t,e){return null==e||Bw(t,e,ip(e))}function Hw(t,e,n,r){var i=-1,o=null==t?0:t.length;while(++i<o){var a=t[i];e(r,a,n(a),t)}return r}function $w(t){return function(e,n,r){var i=-1,o=Object(e),a=r(e),s=a.length;while(s--){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}var Gw=$w(),Vw=Gw;function Yw(t,e){return t&&Vw(t,e,ip)}function Uw(t,e){return function(n,r){if(null==n)return n;if(!Yf(n))return t(n,r);var i=n.length,o=e?i:-1,a=Object(n);while(e?o--:++o<i)if(!1===r(a[o],o,a))break;return n}}var Xw=Uw(Yw),qw=Xw;function Kw(t,e,n,r){return qw(t,(function(t,i,o){e(r,t,n(t),o)})),r}function Zw(t,e){return function(n,r){var i=Lc(n)?Hw:Kw,o=e?e():{};return i(n,t,Iw(r),o)}}var Qw=Object.prototype,Jw=Qw.hasOwnProperty,tO=Zw((function(t,e,n){Jw.call(t,n)?++t[n]:Nf(t,n,1)})),eO=tO;function nO(t,e){var n=Ru(t);return null==e?n:hm(n,e)}var rO=8;function iO(t,e,n){e=n?void 0:e;var r=Pf(t,rO,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=iO.placeholder,r}iO.placeholder={};var oO=16;function aO(t,e,n){e=n?void 0:e;var r=Pf(t,oO,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=aO.placeholder,r}aO.placeholder={};var sO=function(){return cc.Date.now()},lO=sO,cO="Expected a function",uO=Math.max,hO=Math.min;function fO(t,e,n){var r,i,o,a,s,l,c=0,u=!1,h=!1,f=!0;if("function"!=typeof t)throw new TypeError(cO);function d(e){var n=r,o=i;return r=i=void 0,c=e,a=t.apply(o,n),a}function p(t){return c=t,s=setTimeout(y,e),u?d(t):a}function v(t){var n=t-l,r=t-c,i=e-n;return h?hO(i,o-r):i}function g(t){var n=t-l,r=t-c;return void 0===l||n>=e||n<0||h&&r>=o}function y(){var t=lO();if(g(t))return m(t);s=setTimeout(y,v(t))}function m(t){return s=void 0,f&&r?d(t):(r=i=void 0,a)}function b(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0}function x(){return void 0===s?a:m(lO())}function w(){var t=lO(),n=g(t);if(r=arguments,i=this,l=t,n){if(void 0===s)return p(l);if(h)return clearTimeout(s),s=setTimeout(y,e),d(l)}return void 0===s&&(s=setTimeout(y,e)),a}return e=qc(e)||0,$c(n)&&(u=!!n.leading,h="maxWait"in n,o=h?uO(qc(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f),w.cancel=b,w.flush=x,w}function dO(t,e){return null==t||t!==t?e:t}var pO=Object.prototype,vO=pO.hasOwnProperty,gO=$f((function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;i&&Uf(e[0],e[1],i)&&(r=1);while(++n<r){var o=e[n],a=dp(o),s=-1,l=a.length;while(++s<l){var c=a[s],u=t[c];(void 0===u||jf(u,pO[c])&&!vO.call(t,c))&&(t[c]=o[c])}}return t})),yO=gO;function mO(t,e,n){(void 0!==n&&!jf(t[e],n)||void 0===n&&!(e in t))&&Nf(t,e,n)}function bO(t){return Sc(t)&&Yf(t)}function xO(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}function wO(t){return zf(t,dp(t))}function OO(t,e,n,r,i,o,a){var s=xO(t,n),l=xO(e,n),c=a.get(l);if(c)mO(t,n,c);else{var u=o?o(s,l,n+"",t,e,a):void 0,h=void 0===u;if(h){var f=Lc(l),d=!f&&fd(l),p=!f&&!d&&Xd(l);u=l,f||d||p?Lc(s)?u=s:bO(s)?u=eh(s):d?(h=!1,u=mm(l,!0)):p?(h=!1,u=hb(l,!0)):u=[]:Rv(l)||id(l)?(u=s,id(s)?u=wO(s):$c(s)&&!su(s)||(u=Pb(l))):h=!1}h&&(a.set(l,u),i(u,l,r,o,a),a["delete"](l)),mO(t,n,u)}}function CO(t,e,n,r,i){t!==e&&Vw(e,(function(o,a){if(i||(i=new um),$c(o))OO(t,e,a,n,CO,r,i);else{var s=r?r(xO(t,a),o,a+"",t,e,i):void 0;void 0===s&&(s=o),mO(t,a,s)}}),dp)}function SO(t,e,n,r,i,o){return $c(t)&&$c(e)&&(o.set(e,t),CO(t,e,void 0,SO,o),o["delete"](e)),t}var _O=Xf((function(t,e,n,r){CO(t,e,n,r)})),EO=_O,MO=$f((function(t){return t.push(void 0,SO),Bu(EO,void 0,t)})),kO=MO,TO="Expected a function";function AO(t,e,n){if("function"!=typeof t)throw new TypeError(TO);return setTimeout((function(){t.apply(void 0,n)}),e)}var LO=$f((function(t,e){return AO(t,1,e)})),PO=LO,RO=$f((function(t,e,n){return AO(t,qc(e)||0,n)})),IO=RO;function NO(t,e,n){var r=-1,i=null==t?0:t.length;while(++r<i)if(n(e,t[r]))return!0;return!1}var jO=200;function BO(t,e,n,r){var i=-1,o=Ah,a=!0,s=t.length,l=[],c=e.length;if(!s)return l;n&&(e=Tc(e,Fd(n))),r?(o=NO,a=!1):e.length>=jO&&(o=Dx,a=!1,e=new jx(e));t:while(++i<s){var u=t[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,a&&h===h){var f=c;while(f--)if(e[f]===h)continue t;l.push(u)}else o(e,h,r)||l.push(u)}return l}var DO=$f((function(t,e){return bO(t)?BO(t,xv(e,1,bO,!0)):[]})),FO=DO;function zO(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var WO=$f((function(t,e){var n=zO(e);return bO(n)&&(n=void 0),bO(t)?BO(t,xv(e,1,bO,!0),Iw(n)):[]})),HO=WO,$O=$f((function(t,e){var n=zO(e);return bO(n)&&(n=void 0),bO(t)?BO(t,xv(e,1,bO,!0),void 0,n):[]})),GO=$O,VO=jc((function(t,e){return t/e}),1),YO=VO;function UO(t,e,n){var r=null==t?0:t.length;return r?(e=n||void 0===e?1:Jc(e),Qv(t,e<0?0:e,r)):[]}function XO(t,e,n){var r=null==t?0:t.length;return r?(e=n||void 0===e?1:Jc(e),e=r-e,Qv(t,0,e<0?0:e)):[]}function qO(t,e,n,r){var i=t.length,o=r?i:-1;while((r?o--:++o<i)&&e(t[o],o,t));return n?Qv(t,r?0:o,r?o+1:i):Qv(t,r?o+1:0,r?i:o)}function KO(t,e){return t&&t.length?qO(t,Iw(e),!0,!0):[]}function ZO(t,e){return t&&t.length?qO(t,Iw(e),!0):[]}function QO(t){return"function"==typeof t?t:nu}function JO(t,e){var n=Lc(t)?_h:qw;return n(t,QO(e))}function tC(t,e){var n=null==t?0:t.length;while(n--)if(!1===e(t[n],n,t))break;return t}var eC=$w(!0),nC=eC;function rC(t,e){return t&&nC(t,e,ip)}var iC=Uw(rC,!0),oC=iC;function aC(t,e){var n=Lc(t)?tC:oC;return n(t,QO(e))}function sC(t,e,n){t=uv(t),e=Nc(e);var r=t.length;n=void 0===n?r:nm(Jc(n),0,r);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function lC(t,e){return Tc(e,(function(e){return[e,t[e]]}))}function cC(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}var uC="[object Map]",hC="[object Set]";function fC(t){return function(e){var n=Qm(e);return n==uC?Hx(e):n==hC?cC(e):lC(e,t(e))}}var dC=fC(ip),pC=dC,vC=fC(dp),gC=vC,yC={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mC=Bg(yC),bC=mC,xC=/[&<>"']/g,wC=RegExp(xC.source);function OC(t){return t=uv(t),t&&wC.test(t)?t.replace(xC,bC):t}var CC=/[\\^$.*+?()[\]{}|]/g,SC=RegExp(CC.source);function _C(t){return t=uv(t),t&&SC.test(t)?t.replace(CC,"\\$&"):t}function EC(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!e(t[n],n,t))return!1;return!0}function MC(t,e){var n=!0;return qw(t,(function(t,r,i){return n=!!e(t,r,i),n})),n}function kC(t,e,n){var r=Lc(t)?EC:MC;return n&&Uf(t,e,n)&&(e=void 0),r(t,Iw(e))}var TC=4294967295;function AC(t){return t?nm(Jc(t),0,TC):0}function LC(t,e,n,r){var i=t.length;n=Jc(n),n<0&&(n=-n>i?0:i+n),r=void 0===r||r>i?i:Jc(r),r<0&&(r+=i),r=n>r?0:AC(r);while(n<r)t[n++]=e;return t}function PC(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Uf(t,e,n)&&(n=0,r=i),LC(t,e,n,r)):[]}function RC(t,e){var n=[];return qw(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function IC(t,e){var n=Lc(t)?bm:RC;return n(t,Iw(e))}function NC(t){return function(e,n,r){var i=Object(e);if(!Yf(e)){var o=Iw(n);e=ip(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var jC=Math.max;function BC(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Jc(n);return i<0&&(i=jC(r+i,0)),Eh(t,Iw(e),i)}var DC=NC(BC),FC=DC;function zC(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function WC(t,e){return zC(t,Iw(e),Yw)}var HC=Math.max,$C=Math.min;function GC(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=Jc(n),i=n<0?HC(r+i,0):$C(i,r-1)),Eh(t,Iw(e),i,!0)}var VC=NC(GC),YC=VC;function UC(t,e){return zC(t,Iw(e),rC)}function XC(t){return t&&t.length?t[0]:void 0}function qC(t,e){var n=-1,r=Yf(t)?Array(t.length):[];return qw(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function KC(t,e){var n=Lc(t)?Tc:qC;return n(t,Iw(e))}function ZC(t,e){return xv(KC(t,e),1)}var QC=1/0;function JC(t,e){return xv(KC(t,e),QC)}function tS(t,e,n){return n=void 0===n?1:Jc(n),xv(KC(t,e),n)}var eS=1/0;function nS(t){var e=null==t?0:t.length;return e?xv(t,eS):[]}function rS(t,e){var n=null==t?0:t.length;return n?(e=void 0===e?1:Jc(e),xv(t,e)):[]}var iS=512;function oS(t){return Pf(t,iS)}var aS=qy("floor"),sS=aS,lS="Expected a function",cS=8,uS=32,hS=128,fS=256;function dS(t){return Ov((function(e){var n=e.length,r=n,i=th.prototype.thru;t&&e.reverse();while(r--){var o=e[r];if("function"!=typeof o)throw new TypeError(lS);if(i&&!a&&"wrapper"==Ju(o))var a=new th([],!0)}r=a?r:n;while(++r<n){o=e[r];var s=Ju(o),l="wrapper"==s?Xu(o):void 0;a=l&&ah(l[0])&&l[1]==(hS|cS|uS|fS)&&!l[4].length&&1==l[9]?a[Ju(l[0])].apply(a,l[3]):1==o.length&&ah(o)?a[s]():a.thru(o)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&Lc(r))return a.plant(r).value();var i=0,o=n?e[i].apply(this,t):r;while(++i<n)o=e[i].call(this,o);return o}}))}var pS=dS(),vS=pS,gS=dS(!0),yS=gS;function mS(t,e){return null==t?t:Vw(t,QO(e),dp)}function bS(t,e){return null==t?t:nC(t,QO(e),dp)}function xS(t,e){return t&&Yw(t,QO(e))}function wS(t,e){return t&&rC(t,QO(e))}function OS(t){var e=-1,n=null==t?0:t.length,r={};while(++e<n){var i=t[e];r[i[0]]=i[1]}return r}function CS(t,e){return bm(e,(function(e){return su(t[e])}))}function SS(t){return null==t?[]:CS(t,ip(t))}function _S(t){return null==t?[]:CS(t,dp(t))}var ES=Object.prototype,MS=ES.hasOwnProperty,kS=Zw((function(t,e,n){MS.call(t,n)?t[n].push(e):Nf(t,n,[e])})),TS=kS;function AS(t,e){return t>e}function LS(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=qc(e),n=qc(n)),t(e,n)}}var PS=LS(AS),RS=PS,IS=LS((function(t,e){return t>=e})),NS=IS,jS=Object.prototype,BS=jS.hasOwnProperty;function DS(t,e){return null!=t&&BS.call(t,e)}function FS(t,e){return null!=t&&Ew(t,e,DS)}var zS=Math.max,WS=Math.min;function HS(t,e,n){return t>=WS(e,n)&&t<zS(e,n)}function $S(t,e,n){return e=Qc(e),void 0===n?(n=e,e=0):n=Qc(n),t=qc(t),HS(t,e,n)}var GS="[object String]";function VS(t){return"string"==typeof t||!Lc(t)&&Sc(t)&&Cc(t)==GS}function YS(t,e){return Tc(e,(function(e){return t[e]}))}function US(t){return null==t?[]:YS(t,ip(t))}var XS=Math.max;function qS(t,e,n,r){t=Yf(t)?t:US(t),n=n&&!r?Jc(n):0;var i=t.length;return n<0&&(n=XS(i+n,0)),VS(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Th(t,e,n)>-1}var KS=Math.max;function ZS(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Jc(n);return i<0&&(i=KS(r+i,0)),Th(t,e,i)}function QS(t){var e=null==t?0:t.length;return e?Qv(t,0,-1):[]}var JS=Math.min;function t_(t,e,n){var r=n?NO:Ah,i=t[0].length,o=t.length,a=o,s=Array(o),l=1/0,c=[];while(a--){var u=t[a];a&&e&&(u=Tc(u,Fd(e))),l=JS(u.length,l),s[a]=!n&&(e||i>=120&&u.length>=120)?new jx(a&&u):void 0}u=t[0];var h=-1,f=s[0];t:while(++h<i&&c.length<l){var d=u[h],p=e?e(d):d;if(d=n||0!==d?d:0,!(f?Dx(f,p):r(c,p,n))){a=o;while(--a){var v=s[a];if(!(v?Dx(v,p):r(t[a],p,n)))continue t}f&&f.push(p),c.push(d)}}return c}function e_(t){return bO(t)?t:[]}var n_=$f((function(t){var e=Tc(t,e_);return e.length&&e[0]===t[0]?t_(e):[]})),r_=n_,i_=$f((function(t){var e=zO(t),n=Tc(t,e_);return e===zO(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?t_(n,Iw(e)):[]})),o_=i_,a_=$f((function(t){var e=zO(t),n=Tc(t,e_);return e="function"==typeof e?e:void 0,e&&n.pop(),n.length&&n[0]===t[0]?t_(n,void 0,e):[]})),s_=a_;function l_(t,e,n,r){return Yw(t,(function(t,i,o){e(r,n(t),i,o)})),r}function c_(t,e){return function(n,r){return l_(n,t,e(r),{})}}var u_=Object.prototype,h_=u_.toString,f_=c_((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=h_.call(e)),t[e]=n}),mh(nu)),d_=f_,p_=Object.prototype,v_=p_.hasOwnProperty,g_=p_.toString,y_=c_((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=g_.call(e)),v_.call(t,e)?t[e].push(n):t[e]=[n]}),Iw),m_=y_;function b_(t,e){return e.length<2?t:pv(t,Qv(e,0,-1))}function x_(t,e,n){e=hv(e,t),t=b_(t,e);var r=null==t?t:t[dv(zO(e))];return null==r?void 0:Bu(r,t,n)}var w_=$f(x_),O_=w_,C_=$f((function(t,e,n){var r=-1,i="function"==typeof e,o=Yf(t)?Array(t.length):[];return qw(t,(function(t){o[++r]=i?Bu(e,t,n):x_(t,e,n)})),o})),S_=C_,__="[object ArrayBuffer]";function E_(t){return Sc(t)&&Cc(t)==__}var M_=Vd&&Vd.isArrayBuffer,k_=M_?Fd(M_):E_,T_=k_,A_="[object Boolean]";function L_(t){return!0===t||!1===t||Sc(t)&&Cc(t)==A_}var P_="[object Date]";function R_(t){return Sc(t)&&Cc(t)==P_}var I_=Vd&&Vd.isDate,N_=I_?Fd(I_):R_,j_=N_;function B_(t){return Sc(t)&&1===t.nodeType&&!Rv(t)}var D_="[object Map]",F_="[object Set]",z_=Object.prototype,W_=z_.hasOwnProperty;function H_(t){if(null==t)return!0;if(Yf(t)&&(Lc(t)||"string"==typeof t||"function"==typeof t.splice||fd(t)||Xd(t)||id(t)))return!t.length;var e=Qm(t);if(e==D_||e==F_)return!t.size;if(Kf(t))return!rp(t).length;for(var n in t)if(W_.call(t,n))return!1;return!0}function $_(t,e){return yw(t,e)}function G_(t,e,n){n="function"==typeof n?n:void 0;var r=n?n(t,e):void 0;return void 0===r?yw(t,e,void 0,n):!!r}var V_=cc.isFinite;function Y_(t){return"number"==typeof t&&V_(t)}function U_(t){return"number"==typeof t&&t==Jc(t)}function X_(t,e){return t===e||xw(t,e,Ow(e))}function q_(t,e,n){return n="function"==typeof n?n:void 0,xw(t,e,Ow(e),n)}var K_="[object Number]";function Z_(t){return"number"==typeof t||Sc(t)&&Cc(t)==K_}function Q_(t){return Z_(t)&&t!=+t}var J_=cu?su:od,tE=J_,eE="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function nE(t){if(tE(t))throw new Error(eE);return Ou(t)}function rE(t){return null==t}function iE(t){return null===t}var oE="[object RegExp]";function aE(t){return Sc(t)&&Cc(t)==oE}var sE=Vd&&Vd.isRegExp,lE=sE?Fd(sE):aE,cE=lE,uE=9007199254740991;function hE(t){return U_(t)&&t>=-uE&&t<=uE}function fE(t){return void 0===t}var dE="[object WeakMap]";function pE(t){return Sc(t)&&Qm(t)==dE}var vE="[object WeakSet]";function gE(t){return Sc(t)&&Cc(t)==vE}var yE=1;function mE(t){return Iw("function"==typeof t?t:bx(t,yE))}var bE=Array.prototype,xE=bE.join;function wE(t,e){return null==t?"":xE.call(t,e)}var OE=$y((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),CE=OE,SE=Zw((function(t,e,n){Nf(t,n,e)})),_E=SE;function EE(t,e,n){var r=n+1;while(r--)if(t[r]===e)return r;return r}var ME=Math.max,kE=Math.min;function TE(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return void 0!==n&&(i=Jc(n),i=i<0?ME(r+i,0):kE(i,r-1)),e===e?EE(t,e,i):Eh(t,Mh,i,!0)}var AE=$y((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),LE=AE,PE=Pg("toLowerCase"),RE=PE;function IE(t,e){return t<e}var NE=LS(IE),jE=NE,BE=LS((function(t,e){return t<=e})),DE=BE;function FE(t,e){var n={};return e=Iw(e),Yw(t,(function(t,r,i){Nf(n,e(t,r,i),t)})),n}function zE(t,e){var n={};return e=Iw(e),Yw(t,(function(t,r,i){Nf(n,r,e(t,r,i))})),n}var WE=1;function HE(t){return Sw(bx(t,WE))}var $E=1;function GE(t,e){return Aw(t,bx(e,$E))}function VE(t,e,n){var r=-1,i=t.length;while(++r<i){var o=t[r],a=e(o);if(null!=a&&(void 0===s?a===a&&!Ec(a):n(a,s)))var s=a,l=o}return l}function YE(t){return t&&t.length?VE(t,nu,AS):void 0}function UE(t,e){return t&&t.length?VE(t,Iw(e),AS):void 0}function XE(t,e){var n,r=-1,i=t.length;while(++r<i){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}var qE=NaN;function KE(t,e){var n=null==t?0:t.length;return n?XE(t,e)/n:qE}function ZE(t){return KE(t,nu)}function QE(t,e){return KE(t,Iw(e))}var JE=Xf((function(t,e,n){CO(t,e,n)})),tM=JE,eM=$f((function(t,e){return function(n){return x_(n,t,e)}})),nM=eM,rM=$f((function(t,e){return function(n){return x_(t,n,e)}})),iM=rM;function oM(t){return t&&t.length?VE(t,nu,IE):void 0}function aM(t,e){return t&&t.length?VE(t,Iw(e),IE):void 0}function sM(t,e,n){var r=ip(e),i=CS(e,r),o=!($c(n)&&"chain"in n)||!!n.chain,a=su(t);return _h(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=eh(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,yv([this.value()],arguments))})})),t}var lM=jc((function(t,e){return t*e}),1),cM=lM,uM="Expected a function";function hM(t){if("function"!=typeof t)throw new TypeError(uM);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function fM(t){var e,n=[];while(!(e=t.next()).done)n.push(e.value);return n}var dM="[object Map]",pM="[object Set]",vM=hc?hc.iterator:void 0;function gM(t){if(!t)return[];if(Yf(t))return VS(t)?Lg(t):eh(t);if(vM&&t[vM])return fM(t[vM]());var e=Qm(t),n=e==dM?Hx:e==pM?$x:US;return n(t)}function yM(){void 0===this.__values__&&(this.__values__=gM(this.value()));var t=this.__index__>=this.__values__.length,e=t?void 0:this.__values__[this.__index__++];return{done:t,value:e}}function mM(t,e){var n=t.length;if(n)return e+=e<0?n:0,Jh(e,n)?t[e]:void 0}function bM(t,e){return t&&t.length?mM(t,Jc(e)):void 0}function xM(t){return t=Jc(t),$f((function(e){return mM(e,t)}))}function wM(t,e){return e=hv(e,t),t=b_(t,e),null==t||delete t[dv(zO(e))]}function OM(t){return Rv(t)?void 0:t}var CM=1,SM=2,_M=4,EM=Ov((function(t,e){var n={};if(null==t)return n;var r=!1;e=Tc(e,(function(e){return e=hv(e,t),r||(r=e.length>1),e})),zf(t,Rm(t),n),r&&(n=bx(n,CM|SM|_M,OM));var i=e.length;while(i--)wM(n,e[i]);return n})),MM=EM;function kM(t,e,n,r){if(!$c(t))return t;e=hv(e,t);var i=-1,o=e.length,a=o-1,s=t;while(null!=s&&++i<o){var l=dv(e[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(i!=a){var u=s[l];c=r?r(u,l,s):void 0,void 0===c&&(c=$c(u)?u:Jh(e[i+1])?[]:{})}Ff(s,l,c),s=s[l]}return t}function TM(t,e,n){var r=-1,i=e.length,o={};while(++r<i){var a=e[r],s=pv(t,a);n(s,a)&&kM(o,hv(a,t),s)}return o}function AM(t,e){if(null==t)return{};var n=Tc(Rm(t),(function(t){return[t]}));return e=Iw(e),TM(t,n,(function(t,n){return e(t,n[0])}))}function LM(t,e){return AM(t,hM(Iw(e)))}function PM(t){return zv(2,t)}function RM(t,e){var n=t.length;t.sort(e);while(n--)t[n]=t[n].value;return t}function IM(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t===t,o=Ec(t),a=void 0!==e,s=null===e,l=e===e,c=Ec(e);if(!s&&!c&&!o&&t>e||o&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}function NM(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;while(++r<a){var l=IM(i[r],o[r]);if(l){if(r>=s)return l;var c=n[r];return l*("desc"==c?-1:1)}}return t.index-e.index}function jM(t,e,n){e=e.length?Tc(e,(function(t){return Lc(t)?function(e){return pv(e,1===t.length?t[0]:t)}:t})):[nu];var r=-1;e=Tc(e,Fd(Iw));var i=qC(t,(function(t,n,i){var o=Tc(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return RM(i,(function(t,e){return NM(t,e,n)}))}function BM(t,e,n,r){return null==t?[]:(Lc(e)||(e=null==e?[]:[e]),n=r?void 0:n,Lc(n)||(n=null==n?[]:[n]),jM(t,e,n))}function DM(t){return Ov((function(e){return e=Tc(e,Fd(Iw)),$f((function(n){var r=this;return t(e,(function(t){return Bu(t,r,n)}))}))}))}var FM=DM(Tc),zM=FM,WM=$f,HM=WM,$M=Math.min,GM=HM((function(t,e){e=1==e.length&&Lc(e[0])?Tc(e[0],Fd(Iw)):Tc(xv(e,1),Fd(Iw));var n=e.length;return $f((function(r){var i=-1,o=$M(r.length,n);while(++i<o)r[i]=e[i].call(this,r[i]);return Bu(t,this,r)}))})),VM=GM,YM=DM(EC),UM=YM,XM=DM(Bx),qM=XM,KM=9007199254740991,ZM=Math.floor;function QM(t,e){var n="";if(!t||e<1||e>KM)return n;do{e%2&&(n+=t),e=ZM(e/2),e&&(t+=t)}while(e);return n}var JM=Lw("length"),tk=JM,ek="\\ud800-\\udfff",nk="\\u0300-\\u036f",rk="\\ufe20-\\ufe2f",ik="\\u20d0-\\u20ff",ok=nk+rk+ik,ak="\\ufe0e\\ufe0f",sk="["+ek+"]",lk="["+ok+"]",ck="\\ud83c[\\udffb-\\udfff]",uk="(?:"+lk+"|"+ck+")",hk="[^"+ek+"]",fk="(?:\\ud83c[\\udde6-\\uddff]){2}",dk="[\\ud800-\\udbff][\\udc00-\\udfff]",pk="\\u200d",vk=uk+"?",gk="["+ak+"]?",yk="(?:"+pk+"(?:"+[hk,fk,dk].join("|")+")"+gk+vk+")*",mk=gk+vk+yk,bk="(?:"+[hk+lk+"?",lk,fk,dk,sk].join("|")+")",xk=RegExp(ck+"(?="+ck+")|"+bk+mk,"g");function wk(t){var e=xk.lastIndex=0;while(xk.test(t))++e;return e}function Ok(t){return lg(t)?wk(t):tk(t)}var Ck=Math.ceil;function Sk(t,e){e=void 0===e?" ":Nc(e);var n=e.length;if(n<2)return n?QM(e,t):e;var r=QM(e,Ck(t/Ok(e)));return lg(e)?Jv(Lg(r),0,t).join(""):r.slice(0,t)}var _k=Math.ceil,Ek=Math.floor;function Mk(t,e,n){t=uv(t),e=Jc(e);var r=e?Ok(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Sk(Ek(i),n)+t+Sk(_k(i),n)}function kk(t,e,n){t=uv(t),e=Jc(e);var r=e?Ok(t):0;return e&&r<e?t+Sk(e-r,n):t}function Tk(t,e,n){t=uv(t),e=Jc(e);var r=e?Ok(t):0;return e&&r<e?Sk(e-r,n)+t:t}var Ak=/^\s+/,Lk=cc.parseInt;function Pk(t,e,n){return n||null==e?e=0:e&&(e=+e),Lk(uv(t).replace(Ak,""),e||0)}var Rk=32,Ik=$f((function(t,e){var n=rf(e,Kh(Ik));return Pf(t,Rk,void 0,e,n)}));Ik.placeholder={};var Nk=Ik,jk=64,Bk=$f((function(t,e){var n=rf(e,Kh(Bk));return Pf(t,jk,void 0,e,n)}));Bk.placeholder={};var Dk=Bk,Fk=Zw((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),zk=Fk;function Wk(t,e){return TM(t,e,(function(e,n){return Mw(t,n)}))}var Hk=Ov((function(t,e){return null==t?{}:Wk(t,e)})),$k=Hk;function Gk(t){var e,n=this;while(n instanceof $u){var r=nh(n);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e}function Vk(t){return function(e){return null==t?void 0:pv(t,e)}}function Yk(t,e,n,r){var i=n-1,o=t.length;while(++i<o)if(r(t[i],e))return i;return-1}var Uk=Array.prototype,Xk=Uk.splice;function qk(t,e,n,r){var i=r?Yk:Th,o=-1,a=e.length,s=t;t===e&&(e=eh(e)),n&&(s=Tc(t,Fd(n)));while(++o<a){var l=0,c=e[o],u=n?n(c):c;while((l=i(s,u,l,r))>-1)s!==t&&Xk.call(s,l,1),Xk.call(t,l,1)}return t}function Kk(t,e){return t&&t.length&&e&&e.length?qk(t,e):t}var Zk=$f(Kk),Qk=Zk;function Jk(t,e,n){return t&&t.length&&e&&e.length?qk(t,e,Iw(n)):t}function tT(t,e,n){return t&&t.length&&e&&e.length?qk(t,e,void 0,n):t}var eT=Array.prototype,nT=eT.splice;function rT(t,e){var n=t?e.length:0,r=n-1;while(n--){var i=e[n];if(n==r||i!==o){var o=i;Jh(i)?nT.call(t,i,1):wM(t,i)}}return t}var iT=Ov((function(t,e){var n=null==t?0:t.length,r=gv(t,e);return rT(t,Tc(e,(function(t){return Jh(t,n)?+t:t})).sort(IM)),r})),oT=iT,aT=Math.floor,sT=Math.random;function lT(t,e){return t+aT(sT()*(e-t+1))}var cT=parseFloat,uT=Math.min,hT=Math.random;function fT(t,e,n){if(n&&"boolean"!=typeof n&&Uf(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=Qc(t),void 0===e?(e=t,t=0):e=Qc(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=hT();return uT(t+i*(e-t+cT("1e-"+((i+"").length-1))),e)}return lT(t,e)}var dT=Math.ceil,pT=Math.max;function vT(t,e,n,r){var i=-1,o=pT(dT((e-t)/(n||1)),0),a=Array(o);while(o--)a[r?o:++i]=t,t+=n;return a}function gT(t){return function(e,n,r){return r&&"number"!=typeof r&&Uf(e,n,r)&&(n=r=void 0),e=Qc(e),void 0===n?(n=e,e=0):n=Qc(n),r=void 0===r?e<n?1:-1:Qc(r),vT(e,n,r,t)}}var yT=gT(),mT=yT,bT=gT(!0),xT=bT,wT=256,OT=Ov((function(t,e){return Pf(t,wT,void 0,void 0,void 0,e)})),CT=OT;function ST(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function _T(t,e,n){var r=Lc(t)?jg:ST,i=arguments.length<3;return r(t,Iw(e),n,i,qw)}function ET(t,e,n,r){var i=null==t?0:t.length;r&&i&&(n=t[--i]);while(i--)n=e(n,t[i],i,t);return n}function MT(t,e,n){var r=Lc(t)?ET:ST,i=arguments.length<3;return r(t,Iw(e),n,i,oC)}function kT(t,e){var n=Lc(t)?bm:RC;return n(t,hM(Iw(e)))}function TT(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;e=Iw(e);while(++r<o){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return rT(t,i),n}function AT(t,e,n){return e=(n?Uf(t,e,n):void 0===e)?1:Jc(e),QM(uv(t),e)}function LT(){var t=arguments,e=uv(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var PT="Expected a function";function RT(t,e){if("function"!=typeof t)throw new TypeError(PT);return e=void 0===e?e:Jc(e),$f(t,e)}function IT(t,e,n){e=hv(e,t);var r=-1,i=e.length;i||(i=1,t=void 0);while(++r<i){var o=null==t?void 0:t[dv(e[r])];void 0===o&&(r=i,o=n),t=su(o)?o.call(t):o}return t}var NT=Array.prototype,jT=NT.reverse;function BT(t){return null==t?t:jT.call(t)}var DT=qy("round"),FT=DT;function zT(t){var e=t.length;return e?t[lT(0,e-1)]:void 0}function WT(t){return zT(US(t))}function HT(t){var e=Lc(t)?zT:WT;return e(t)}function $T(t,e){var n=-1,r=t.length,i=r-1;e=void 0===e?r:e;while(++n<e){var o=lT(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function GT(t,e){return $T(eh(t),nm(e,0,t.length))}function VT(t,e){var n=US(t);return $T(n,nm(e,0,n.length))}function YT(t,e,n){e=(n?Uf(t,e,n):void 0===e)?1:Jc(e);var r=Lc(t)?GT:VT;return r(t,e)}function UT(t,e,n){return null==t?t:kM(t,e,n)}function XT(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:kM(t,e,n,r)}function qT(t){return $T(eh(t))}function KT(t){return $T(US(t))}function ZT(t){var e=Lc(t)?qT:KT;return e(t)}var QT="[object Map]",JT="[object Set]";function tA(t){if(null==t)return 0;if(Yf(t))return VS(t)?Ok(t):t.length;var e=Qm(t);return e==QT||e==JT?t.size:rp(t).length}function eA(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Uf(t,e,n)?(e=0,n=r):(e=null==e?0:Jc(e),n=void 0===n?r:Jc(n)),Qv(t,e,n)):[]}var nA=$y((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),rA=nA;function iA(t,e){var n;return qw(t,(function(t,r,i){return n=e(t,r,i),!n})),!!n}function oA(t,e,n){var r=Lc(t)?Bx:iA;return n&&Uf(t,e,n)&&(e=void 0),r(t,Iw(e))}var aA=$f((function(t,e){if(null==t)return[];var n=e.length;return n>1&&Uf(t,e[0],e[1])?e=[]:n>2&&Uf(e[0],e[1],e[2])&&(e=[e[0]]),jM(t,xv(e,1),[])})),sA=aA,lA=4294967295,cA=lA-1,uA=Math.floor,hA=Math.min;function fA(t,e,n,r){var i=0,o=null==t?0:t.length;if(0===o)return 0;e=n(e);var a=e!==e,s=null===e,l=Ec(e),c=void 0===e;while(i<o){var u=uA((i+o)/2),h=n(t[u]),f=void 0!==h,d=null===h,p=h===h,v=Ec(h);if(a)var g=r||p;else g=c?p&&(r||f):s?p&&f&&(r||!d):l?p&&f&&!d&&(r||!v):!d&&!v&&(r?h<=e:h<e);g?i=u+1:o=u}return hA(o,cA)}var dA=4294967295,pA=dA>>>1;function vA(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=pA){while(r<i){var o=r+i>>>1,a=t[o];null!==a&&!Ec(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return fA(t,e,nu,n)}function gA(t,e){return vA(t,e)}function yA(t,e,n){return fA(t,e,Iw(n))}function mA(t,e){var n=null==t?0:t.length;if(n){var r=vA(t,e);if(r<n&&jf(t[r],e))return r}return-1}function bA(t,e){return vA(t,e,!0)}function xA(t,e,n){return fA(t,e,Iw(n),!0)}function wA(t,e){var n=null==t?0:t.length;if(n){var r=vA(t,e,!0)-1;if(jf(t[r],e))return r}return-1}function OA(t,e){var n=-1,r=t.length,i=0,o=[];while(++n<r){var a=t[n],s=e?e(a):a;if(!n||!jf(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function CA(t){return t&&t.length?OA(t):[]}function SA(t,e){return t&&t.length?OA(t,Iw(e)):[]}var _A=4294967295;function EA(t,e,n){return n&&"number"!=typeof n&&Uf(t,e,n)&&(e=n=void 0),n=void 0===n?_A:n>>>0,n?(t=uv(t),t&&("string"==typeof e||null!=e&&!cE(e))&&(e=Nc(e),!e&&lg(t))?Jv(Lg(t),0,n):t.split(e,n)):[]}var MA="Expected a function",kA=Math.max;function TA(t,e){if("function"!=typeof t)throw new TypeError(MA);return e=null==e?0:kA(Jc(e),0),$f((function(n){var r=n[e],i=Jv(n,0,e);return r&&yv(i,r),Bu(t,this,i)}))}var AA=$y((function(t,e,n){return t+(n?" ":"")+Ig(e)})),LA=AA;function PA(t,e,n){return t=uv(t),n=null==n?0:nm(Jc(n),0,t.length),e=Nc(e),t.slice(n,n+e.length)==e}function RA(){return{}}function IA(){return""}function NA(){return!0}var jA=jc((function(t,e){return t-e}),0),BA=jA;function DA(t){return t&&t.length?XE(t,nu):0}function FA(t,e){return t&&t.length?XE(t,Iw(e)):0}function zA(t){var e=null==t?0:t.length;return e?Qv(t,1,e):[]}function WA(t,e,n){return t&&t.length?(e=n||void 0===e?1:Jc(e),Qv(t,0,e<0?0:e)):[]}function HA(t,e,n){var r=null==t?0:t.length;return r?(e=n||void 0===e?1:Jc(e),e=r-e,Qv(t,e<0?0:e,r)):[]}function $A(t,e){return t&&t.length?qO(t,Iw(e),!1,!0):[]}function GA(t,e){return t&&t.length?qO(t,Iw(e)):[]}function VA(t,e){return e(t),t}var YA=Object.prototype,UA=YA.hasOwnProperty;function XA(t,e,n,r){return void 0===t||jf(t,YA[n])&&!UA.call(r,n)?e:t}var qA={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function KA(t){return"\\"+qA[t]}var ZA=/<%=([\s\S]+?)%>/g,QA=ZA,JA=/<%-([\s\S]+?)%>/g,tL=JA,eL=/<%([\s\S]+?)%>/g,nL=eL,rL={escape:tL,evaluate:nL,interpolate:QA,variable:"",imports:{_:{escape:OC}}},iL=rL,oL="Invalid `variable` option passed into `_.template`",aL=/\b__p \+= '';/g,sL=/\b(__p \+=) '' \+/g,lL=/(__e\(.*?\)|\b__t\)) \+\n'';/g,cL=/[()=,{}\[\]\/\s]/,uL=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,hL=/($^)/,fL=/['\n\r\u2028\u2029\\]/g,dL=Object.prototype,pL=dL.hasOwnProperty;function vL(t,e,n){var r=iL.imports._.templateSettings||iL;n&&Uf(t,e,n)&&(e=void 0),t=uv(t),e=yp({},e,r,XA);var i,o,a=yp({},e.imports,r.imports,XA),s=ip(a),l=YS(a,s),c=0,u=e.interpolate||hL,h="__p += '",f=RegExp((e.escape||hL).source+"|"+u.source+"|"+(u===QA?uL:hL).source+"|"+(e.evaluate||hL).source+"|$","g"),d=pL.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+"\n":"";t.replace(f,(function(e,n,r,a,s,l){return r||(r=a),h+=t.slice(c,l).replace(fL,KA),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),h+="';\n";var p=pL.call(e,"variable")&&e.variable;if(p){if(cL.test(p))throw new Error(oL)}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(aL,""):h).replace(sL,"$1").replace(lL,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Dv((function(){return Function(s,d+"return "+h).apply(void 0,l)}));if(v.source=h,jv(v))throw v;return v}var gL="Expected a function";function yL(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError(gL);return $c(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),fO(t,e,{leading:r,maxWait:e,trailing:i})}function mL(t,e){return e(t)}var bL=9007199254740991,xL=4294967295,wL=Math.min;function OL(t,e){if(t=Jc(t),t<1||t>bL)return[];var n=xL,r=wL(t,xL);e=QO(e),t-=xL;var i=Zf(r,e);while(++n<t)e(n);return i}function CL(){return this}function SL(t,e){var n=t;return n instanceof Vu&&(n=n.value()),jg(e,(function(t,e){return e.func.apply(e.thisArg,yv([t],e.args))}),n)}function _L(){return SL(this.__wrapped__,this.__actions__)}function EL(t){return uv(t).toLowerCase()}function ML(t){return Lc(t)?Tc(t,dv):Ec(t)?[t]:eh(cv(uv(t)))}var kL=9007199254740991;function TL(t){return t?nm(Jc(t),-kL,kL):0===t?t:0}function AL(t){return uv(t).toUpperCase()}function LL(t,e,n){var r=Lc(t),i=r||fd(t)||Xd(t);if(e=Iw(e),null==n){var o=t&&t.constructor;n=i?r?new o:[]:$c(t)&&su(o)?Ru(Ev(t)):{}}return(i?_h:Yw)(t,(function(t,r,i){return e(n,t,r,i)})),n}function PL(t,e){var n=t.length;while(n--&&Th(e,t[n],0)>-1);return n}function RL(t,e){var n=-1,r=t.length;while(++n<r&&Th(e,t[n],0)>-1);return n}function IL(t,e,n){if(t=uv(t),t&&(n||void 0===e))return Hc(t);if(!t||!(e=Nc(e)))return t;var r=Lg(t),i=Lg(e),o=RL(r,i),a=PL(r,i)+1;return Jv(r,o,a).join("")}function NL(t,e,n){if(t=uv(t),t&&(n||void 0===e))return t.slice(0,zc(t)+1);if(!t||!(e=Nc(e)))return t;var r=Lg(t),i=PL(r,Lg(e))+1;return Jv(r,0,i).join("")}var jL=/^\s+/;function BL(t,e,n){if(t=uv(t),t&&(n||void 0===e))return t.replace(jL,"");if(!t||!(e=Nc(e)))return t;var r=Lg(t),i=RL(r,Lg(e));return Jv(r,i).join("")}var DL=30,FL="...",zL=/\w*$/;function WL(t,e){var n=DL,r=FL;if($c(e)){var i="separator"in e?e.separator:i;n="length"in e?Jc(e.length):n,r="omission"in e?Nc(e.omission):r}t=uv(t);var o=t.length;if(lg(t)){var a=Lg(t);o=a.length}if(n>=o)return t;var s=n-Ok(r);if(s<1)return r;var l=a?Jv(a,0,s).join(""):t.slice(0,s);if(void 0===i)return l+r;if(a&&(s+=l.length-s),cE(i)){if(t.slice(s).search(i)){var c,u=l;i.global||(i=RegExp(i.source,uv(zL.exec(i))+"g")),i.lastIndex=0;while(c=i.exec(u))var h=c.index;l=l.slice(0,void 0===h?s:h)}}else if(t.indexOf(Nc(i),s)!=s){var f=l.lastIndexOf(i);f>-1&&(l=l.slice(0,f))}return l+r}function HL(t){return If(t,1)}var $L={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},GL=Bg($L),VL=GL,YL=/&(?:amp|lt|gt|quot|#39);/g,UL=RegExp(YL.source);function XL(t){return t=uv(t),t&&UL.test(t)?t.replace(YL,VL):t}var qL=1/0,KL=Fm&&1/$x(new Fm([,-0]))[1]==qL?function(t){return new Fm(t)}:Yu,ZL=KL,QL=200;function JL(t,e,n){var r=-1,i=Ah,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=NO;else if(o>=QL){var c=e?null:ZL(t);if(c)return $x(c);a=!1,i=Dx,l=new jx}else l=e?[]:s;t:while(++r<o){var u=t[r],h=e?e(u):u;if(u=n||0!==u?u:0,a&&h===h){var f=l.length;while(f--)if(l[f]===h)continue t;e&&l.push(h),s.push(u)}else i(l,h,n)||(l!==s&&l.push(h),s.push(u))}return s}var tP=$f((function(t){return JL(xv(t,1,bO,!0))})),eP=tP,nP=$f((function(t){var e=zO(t);return bO(e)&&(e=void 0),JL(xv(t,1,bO,!0),Iw(e))})),rP=nP,iP=$f((function(t){var e=zO(t);return e="function"==typeof e?e:void 0,JL(xv(t,1,bO,!0),void 0,e)})),oP=iP;function aP(t){return t&&t.length?JL(t):[]}function sP(t,e){return t&&t.length?JL(t,Iw(e)):[]}function lP(t,e){return e="function"==typeof e?e:void 0,t&&t.length?JL(t,void 0,e):[]}var cP=0;function uP(t){var e=++cP;return uv(t)+e}function hP(t,e){return null==t||wM(t,e)}var fP=Math.max;function dP(t){if(!t||!t.length)return[];var e=0;return t=bm(t,(function(t){if(bO(t))return e=fP(t.length,e),!0})),Zf(e,(function(e){return Tc(t,Lw(e))}))}function pP(t,e){if(!t||!t.length)return[];var n=dP(t);return null==e?n:Tc(n,(function(t){return Bu(e,void 0,t)}))}function vP(t,e,n,r){return kM(t,e,n(pv(t,e)),r)}function gP(t,e,n){return null==t?t:vP(t,e,QO(n))}function yP(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:vP(t,e,QO(n),r)}var mP=$y((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),bP=mP;function xP(t){return null==t?[]:YS(t,dp(t))}var wP=$f((function(t,e){return bO(t)?BO(t,e):[]})),OP=wP;function CP(t,e){return Nk(QO(e),t)}var SP=Ov((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return gv(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Vu&&Jh(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:mL,args:[i],thisArg:void 0}),new th(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(i)})),_P=SP;function EP(){return Qy(this)}function MP(){var t=this.__wrapped__;if(t instanceof Vu){var e=t;return this.__actions__.length&&(e=new Vu(this)),e=e.reverse(),e.__actions__.push({func:mL,args:[BT],thisArg:void 0}),new th(e,this.__chain__)}return this.thru(BT)}function kP(t,e,n){var r=t.length;if(r<2)return r?JL(t[0]):[];var i=-1,o=Array(r);while(++i<r){var a=t[i],s=-1;while(++s<r)s!=i&&(o[i]=BO(o[i]||a,t[s],e,n))}return JL(xv(o,1),e,n)}var TP=$f((function(t){return kP(bm(t,bO))})),AP=TP,LP=$f((function(t){var e=zO(t);return bO(e)&&(e=void 0),kP(bm(t,bO),Iw(e))})),PP=LP,RP=$f((function(t){var e=zO(t);return e="function"==typeof e?e:void 0,kP(bm(t,bO),void 0,e)})),IP=RP,NP=$f(dP),jP=NP;function BP(t,e,n){var r=-1,i=t.length,o=e.length,a={};while(++r<i){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a}function DP(t,e){return BP(t||[],e||[],Ff)}function FP(t,e){return BP(t||[],e||[],kM)}var zP=$f((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,pP(t,n)})),WP=zP,HP={chunk:em,compact:Lx,concat:Px,difference:FO,differenceBy:HO,differenceWith:GO,drop:UO,dropRight:XO,dropRightWhile:KO,dropWhile:ZO,fill:PC,findIndex:BC,findLastIndex:GC,first:XC,flatten:wv,flattenDeep:nS,flattenDepth:rS,fromPairs:OS,head:XC,indexOf:ZS,initial:QS,intersection:r_,intersectionBy:o_,intersectionWith:s_,join:wE,last:zO,lastIndexOf:TE,nth:bM,pull:Qk,pullAll:Kk,pullAllBy:Jk,pullAllWith:tT,pullAt:oT,remove:TT,reverse:BT,slice:eA,sortedIndex:gA,sortedIndexBy:yA,sortedIndexOf:mA,sortedLastIndex:bA,sortedLastIndexBy:xA,sortedLastIndexOf:wA,sortedUniq:CA,sortedUniqBy:SA,tail:zA,take:WA,takeRight:HA,takeRightWhile:$A,takeWhile:GA,union:eP,unionBy:rP,unionWith:oP,uniq:aP,uniqBy:sP,uniqWith:lP,unzip:dP,unzipWith:pP,without:OP,xor:AP,xorBy:PP,xorWith:IP,zip:jP,zipObject:DP,zipObjectDeep:FP,zipWith:WP},$P={countBy:eO,each:JO,eachRight:aC,every:kC,filter:IC,find:FC,findLast:YC,flatMap:ZC,flatMapDeep:JC,flatMapDepth:tS,forEach:JO,forEachRight:aC,groupBy:TS,includes:qS,invokeMap:S_,keyBy:_E,map:KC,orderBy:BM,partition:zk,reduce:_T,reduceRight:MT,reject:kT,sample:HT,sampleSize:YT,shuffle:ZT,size:tA,some:oA,sortBy:sA},GP={now:lO},VP={after:eu,ary:If,before:zv,bind:Gv,bindKey:Zv,curry:iO,curryRight:aO,debounce:fO,defer:PO,delay:IO,flip:oS,memoize:rv,negate:hM,once:PM,overArgs:VM,partial:Nk,partialRight:Dk,rearg:CT,rest:RT,spread:TA,throttle:yL,unary:HL,wrap:CP},YP={castArray:Yy,clone:wx,cloneDeep:Sx,cloneDeepWith:Mx,cloneWith:Tx,conformsTo:Ww,eq:jf,gt:RS,gte:NS,isArguments:id,isArray:Lc,isArrayBuffer:T_,isArrayLike:Yf,isArrayLikeObject:bO,isBoolean:L_,isBuffer:fd,isDate:j_,isElement:B_,isEmpty:H_,isEqual:$_,isEqualWith:G_,isError:jv,isFinite:Y_,isFunction:su,isInteger:U_,isLength:Vf,isMap:Bb,isMatch:X_,isMatchWith:q_,isNaN:Q_,isNative:nE,isNil:rE,isNull:iE,isNumber:Z_,isObject:$c,isObjectLike:Sc,isPlainObject:Rv,isRegExp:cE,isSafeInteger:hE,isSet:Hb,isString:VS,isSymbol:Ec,isTypedArray:Xd,isUndefined:fE,isWeakMap:pE,isWeakSet:gE,lt:jE,lte:DE,toArray:gM,toFinite:Qc,toInteger:Jc,toLength:AC,toNumber:qc,toPlainObject:wO,toSafeInteger:TL,toString:uv},UP={add:Dc,ceil:Zy,divide:YO,floor:sS,max:YE,maxBy:UE,mean:ZE,meanBy:QE,min:oM,minBy:aM,multiply:cM,round:FT,subtract:BA,sum:DA,sumBy:FA},XP={clamp:rm,inRange:$S,random:fT},qP={assign:lp,assignIn:vp,assignInWith:yp,assignWith:bp,at:Sv,create:nO,defaults:yO,defaultsDeep:kO,entries:pC,entriesIn:gC,extend:vp,extendWith:yp,findKey:WC,findLastKey:UC,forIn:mS,forInRight:bS,forOwn:xS,forOwnRight:wS,functions:SS,functionsIn:_S,get:vv,has:FS,hasIn:Mw,invert:d_,invertBy:m_,invoke:O_,keys:ip,keysIn:dp,mapKeys:FE,mapValues:zE,merge:tM,mergeWith:EO,omit:MM,omitBy:LM,pick:$k,pickBy:AM,result:IT,set:UT,setWith:XT,toPairs:pC,toPairsIn:gC,transform:LL,unset:hP,update:gP,updateWith:yP,values:US,valuesIn:xP},KP={at:_P,chain:Qy,commit:Ax,lodash:oh,next:yM,plant:Gk,reverse:MP,tap:VA,thru:mL,toIterator:CL,toJSON:_L,value:_L,valueOf:_L,wrapperChain:EP},ZP={camelCase:Vy,capitalize:Ng,deburr:Xg,endsWith:sC,escape:OC,escapeRegExp:_C,kebabCase:CE,lowerCase:LE,lowerFirst:RE,pad:Mk,padEnd:kk,padStart:Tk,parseInt:Pk,repeat:AT,replace:LT,snakeCase:rA,split:EA,startCase:LA,startsWith:PA,template:vL,templateSettings:iL,toLower:EL,toUpper:AL,trim:IL,trimEnd:NL,trimStart:BL,truncate:WL,unescape:XL,upperCase:bP,upperFirst:Ig,words:zy},QP={attempt:Dv,bindAll:Yv,cond:jw,conforms:zw,constant:mh,defaultTo:dO,flow:vS,flowRight:yS,identity:nu,iteratee:mE,matches:HE,matchesProperty:GE,method:nM,methodOf:iM,mixin:sM,noop:Yu,nthArg:xM,over:zM,overEvery:UM,overSome:qM,property:Rw,propertyOf:Vk,range:mT,rangeRight:xT,stubArray:xm,stubFalse:od,stubObject:RA,stubString:IA,stubTrue:NA,times:OL,toPath:ML,uniqueId:uP};function JP(){var t=new Vu(this.__wrapped__);return t.__actions__=eh(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=eh(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=eh(this.__views__),t}function tR(){if(this.__filtered__){var t=new Vu(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}var eR=Math.max,nR=Math.min;function rR(t,e,n){var r=-1,i=n.length;while(++r<i){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=nR(e,t+a);break;case"takeRight":t=eR(t,e-a);break}}return{start:t,end:e}}var iR=1,oR=2,aR=Math.min;function sR(){var t=this.__wrapped__.value(),e=this.__dir__,n=Lc(t),r=e<0,i=n?t.length:0,o=rR(0,i,this.__views__),a=o.start,s=o.end,l=s-a,c=r?s:a-1,u=this.__iteratees__,h=u.length,f=0,d=aR(l,this.__takeCount__);if(!n||!r&&i==l&&d==l)return SL(t,this.__actions__);var p=[];t:while(l--&&f<d){c+=e;var v=-1,g=t[c];while(++v<h){var y=u[v],m=y.iteratee,b=y.type,x=m(g);if(b==oR)g=x;else if(!x){if(b==iR)continue t;break t}}p[f++]=g}return p}
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var lR="4.17.21",cR=2,uR=1,hR=3,fR=4294967295,dR=Array.prototype,pR=Object.prototype,vR=pR.hasOwnProperty,gR=hc?hc.iterator:void 0,yR=Math.max,mR=Math.min,bR=function(t){return function(e,n,r){if(null==r){var i=$c(n),o=i&&ip(n),a=o&&o.length&&CS(n,o);(a?a.length:i)||(r=n,n=e,e=this)}return t(e,n,r)}}(sM);oh.after=VP.after,oh.ary=VP.ary,oh.assign=qP.assign,oh.assignIn=qP.assignIn,oh.assignInWith=qP.assignInWith,oh.assignWith=qP.assignWith,oh.at=qP.at,oh.before=VP.before,oh.bind=VP.bind,oh.bindAll=QP.bindAll,oh.bindKey=VP.bindKey,oh.castArray=YP.castArray,oh.chain=KP.chain,oh.chunk=HP.chunk,oh.compact=HP.compact,oh.concat=HP.concat,oh.cond=QP.cond,oh.conforms=QP.conforms,oh.constant=QP.constant,oh.countBy=$P.countBy,oh.create=qP.create,oh.curry=VP.curry,oh.curryRight=VP.curryRight,oh.debounce=VP.debounce,oh.defaults=qP.defaults,oh.defaultsDeep=qP.defaultsDeep,oh.defer=VP.defer,oh.delay=VP.delay,oh.difference=HP.difference,oh.differenceBy=HP.differenceBy,oh.differenceWith=HP.differenceWith,oh.drop=HP.drop,oh.dropRight=HP.dropRight,oh.dropRightWhile=HP.dropRightWhile,oh.dropWhile=HP.dropWhile,oh.fill=HP.fill,oh.filter=$P.filter,oh.flatMap=$P.flatMap,oh.flatMapDeep=$P.flatMapDeep,oh.flatMapDepth=$P.flatMapDepth,oh.flatten=HP.flatten,oh.flattenDeep=HP.flattenDeep,oh.flattenDepth=HP.flattenDepth,oh.flip=VP.flip,oh.flow=QP.flow,oh.flowRight=QP.flowRight,oh.fromPairs=HP.fromPairs,oh.functions=qP.functions,oh.functionsIn=qP.functionsIn,oh.groupBy=$P.groupBy,oh.initial=HP.initial,oh.intersection=HP.intersection,oh.intersectionBy=HP.intersectionBy,oh.intersectionWith=HP.intersectionWith,oh.invert=qP.invert,oh.invertBy=qP.invertBy,oh.invokeMap=$P.invokeMap,oh.iteratee=QP.iteratee,oh.keyBy=$P.keyBy,oh.keys=ip,oh.keysIn=qP.keysIn,oh.map=$P.map,oh.mapKeys=qP.mapKeys,oh.mapValues=qP.mapValues,oh.matches=QP.matches,oh.matchesProperty=QP.matchesProperty,oh.memoize=VP.memoize,oh.merge=qP.merge,oh.mergeWith=qP.mergeWith,oh.method=QP.method,oh.methodOf=QP.methodOf,oh.mixin=bR,oh.negate=hM,oh.nthArg=QP.nthArg,oh.omit=qP.omit,oh.omitBy=qP.omitBy,oh.once=VP.once,oh.orderBy=$P.orderBy,oh.over=QP.over,oh.overArgs=VP.overArgs,oh.overEvery=QP.overEvery,oh.overSome=QP.overSome,oh.partial=VP.partial,oh.partialRight=VP.partialRight,oh.partition=$P.partition,oh.pick=qP.pick,oh.pickBy=qP.pickBy,oh.property=QP.property,oh.propertyOf=QP.propertyOf,oh.pull=HP.pull,oh.pullAll=HP.pullAll,oh.pullAllBy=HP.pullAllBy,oh.pullAllWith=HP.pullAllWith,oh.pullAt=HP.pullAt,oh.range=QP.range,oh.rangeRight=QP.rangeRight,oh.rearg=VP.rearg,oh.reject=$P.reject,oh.remove=HP.remove,oh.rest=VP.rest,oh.reverse=HP.reverse,oh.sampleSize=$P.sampleSize,oh.set=qP.set,oh.setWith=qP.setWith,oh.shuffle=$P.shuffle,oh.slice=HP.slice,oh.sortBy=$P.sortBy,oh.sortedUniq=HP.sortedUniq,oh.sortedUniqBy=HP.sortedUniqBy,oh.split=ZP.split,oh.spread=VP.spread,oh.tail=HP.tail,oh.take=HP.take,oh.takeRight=HP.takeRight,oh.takeRightWhile=HP.takeRightWhile,oh.takeWhile=HP.takeWhile,oh.tap=KP.tap,oh.throttle=VP.throttle,oh.thru=mL,oh.toArray=YP.toArray,oh.toPairs=qP.toPairs,oh.toPairsIn=qP.toPairsIn,oh.toPath=QP.toPath,oh.toPlainObject=YP.toPlainObject,oh.transform=qP.transform,oh.unary=VP.unary,oh.union=HP.union,oh.unionBy=HP.unionBy,oh.unionWith=HP.unionWith,oh.uniq=HP.uniq,oh.uniqBy=HP.uniqBy,oh.uniqWith=HP.uniqWith,oh.unset=qP.unset,oh.unzip=HP.unzip,oh.unzipWith=HP.unzipWith,oh.update=qP.update,oh.updateWith=qP.updateWith,oh.values=qP.values,oh.valuesIn=qP.valuesIn,oh.without=HP.without,oh.words=ZP.words,oh.wrap=VP.wrap,oh.xor=HP.xor,oh.xorBy=HP.xorBy,oh.xorWith=HP.xorWith,oh.zip=HP.zip,oh.zipObject=HP.zipObject,oh.zipObjectDeep=HP.zipObjectDeep,oh.zipWith=HP.zipWith,oh.entries=qP.toPairs,oh.entriesIn=qP.toPairsIn,oh.extend=qP.assignIn,oh.extendWith=qP.assignInWith,bR(oh,oh),oh.add=UP.add,oh.attempt=QP.attempt,oh.camelCase=ZP.camelCase,oh.capitalize=ZP.capitalize,oh.ceil=UP.ceil,oh.clamp=XP.clamp,oh.clone=YP.clone,oh.cloneDeep=YP.cloneDeep,oh.cloneDeepWith=YP.cloneDeepWith,oh.cloneWith=YP.cloneWith,oh.conformsTo=YP.conformsTo,oh.deburr=ZP.deburr,oh.defaultTo=QP.defaultTo,oh.divide=UP.divide,oh.endsWith=ZP.endsWith,oh.eq=YP.eq,oh.escape=ZP.escape,oh.escapeRegExp=ZP.escapeRegExp,oh.every=$P.every,oh.find=$P.find,oh.findIndex=HP.findIndex,oh.findKey=qP.findKey,oh.findLast=$P.findLast,oh.findLastIndex=HP.findLastIndex,oh.findLastKey=qP.findLastKey,oh.floor=UP.floor,oh.forEach=$P.forEach,oh.forEachRight=$P.forEachRight,oh.forIn=qP.forIn,oh.forInRight=qP.forInRight,oh.forOwn=qP.forOwn,oh.forOwnRight=qP.forOwnRight,oh.get=qP.get,oh.gt=YP.gt,oh.gte=YP.gte,oh.has=qP.has,oh.hasIn=qP.hasIn,oh.head=HP.head,oh.identity=nu,oh.includes=$P.includes,oh.indexOf=HP.indexOf,oh.inRange=XP.inRange,oh.invoke=qP.invoke,oh.isArguments=YP.isArguments,oh.isArray=Lc,oh.isArrayBuffer=YP.isArrayBuffer,oh.isArrayLike=YP.isArrayLike,oh.isArrayLikeObject=YP.isArrayLikeObject,oh.isBoolean=YP.isBoolean,oh.isBuffer=YP.isBuffer,oh.isDate=YP.isDate,oh.isElement=YP.isElement,oh.isEmpty=YP.isEmpty,oh.isEqual=YP.isEqual,oh.isEqualWith=YP.isEqualWith,oh.isError=YP.isError,oh.isFinite=YP.isFinite,oh.isFunction=YP.isFunction,oh.isInteger=YP.isInteger,oh.isLength=YP.isLength,oh.isMap=YP.isMap,oh.isMatch=YP.isMatch,oh.isMatchWith=YP.isMatchWith,oh.isNaN=YP.isNaN,oh.isNative=YP.isNative,oh.isNil=YP.isNil,oh.isNull=YP.isNull,oh.isNumber=YP.isNumber,oh.isObject=$c,oh.isObjectLike=YP.isObjectLike,oh.isPlainObject=YP.isPlainObject,oh.isRegExp=YP.isRegExp,oh.isSafeInteger=YP.isSafeInteger,oh.isSet=YP.isSet,oh.isString=YP.isString,oh.isSymbol=YP.isSymbol,oh.isTypedArray=YP.isTypedArray,oh.isUndefined=YP.isUndefined,oh.isWeakMap=YP.isWeakMap,oh.isWeakSet=YP.isWeakSet,oh.join=HP.join,oh.kebabCase=ZP.kebabCase,oh.last=zO,oh.lastIndexOf=HP.lastIndexOf,oh.lowerCase=ZP.lowerCase,oh.lowerFirst=ZP.lowerFirst,oh.lt=YP.lt,oh.lte=YP.lte,oh.max=UP.max,oh.maxBy=UP.maxBy,oh.mean=UP.mean,oh.meanBy=UP.meanBy,oh.min=UP.min,oh.minBy=UP.minBy,oh.stubArray=QP.stubArray,oh.stubFalse=QP.stubFalse,oh.stubObject=QP.stubObject,oh.stubString=QP.stubString,oh.stubTrue=QP.stubTrue,oh.multiply=UP.multiply,oh.nth=HP.nth,oh.noop=QP.noop,oh.now=GP.now,oh.pad=ZP.pad,oh.padEnd=ZP.padEnd,oh.padStart=ZP.padStart,oh.parseInt=ZP.parseInt,oh.random=XP.random,oh.reduce=$P.reduce,oh.reduceRight=$P.reduceRight,oh.repeat=ZP.repeat,oh.replace=ZP.replace,oh.result=qP.result,oh.round=UP.round,oh.sample=$P.sample,oh.size=$P.size,oh.snakeCase=ZP.snakeCase,oh.some=$P.some,oh.sortedIndex=HP.sortedIndex,oh.sortedIndexBy=HP.sortedIndexBy,oh.sortedIndexOf=HP.sortedIndexOf,oh.sortedLastIndex=HP.sortedLastIndex,oh.sortedLastIndexBy=HP.sortedLastIndexBy,oh.sortedLastIndexOf=HP.sortedLastIndexOf,oh.startCase=ZP.startCase,oh.startsWith=ZP.startsWith,oh.subtract=UP.subtract,oh.sum=UP.sum,oh.sumBy=UP.sumBy,oh.template=ZP.template,oh.times=QP.times,oh.toFinite=YP.toFinite,oh.toInteger=Jc,oh.toLength=YP.toLength,oh.toLower=ZP.toLower,oh.toNumber=YP.toNumber,oh.toSafeInteger=YP.toSafeInteger,oh.toString=YP.toString,oh.toUpper=ZP.toUpper,oh.trim=ZP.trim,oh.trimEnd=ZP.trimEnd,oh.trimStart=ZP.trimStart,oh.truncate=ZP.truncate,oh.unescape=ZP.unescape,oh.uniqueId=QP.uniqueId,oh.upperCase=ZP.upperCase,oh.upperFirst=ZP.upperFirst,oh.each=$P.forEach,oh.eachRight=$P.forEachRight,oh.first=HP.head,bR(oh,function(){var t={};return Yw(oh,(function(e,n){vR.call(oh.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),oh.VERSION=lR,(oh.templateSettings=ZP.templateSettings).imports._=oh,_h(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){oh[t].placeholder=oh})),_h(["drop","take"],(function(t,e){Vu.prototype[t]=function(n){n=void 0===n?1:yR(Jc(n),0);var r=this.__filtered__&&!e?new Vu(this):this.clone();return r.__filtered__?r.__takeCount__=mR(n,r.__takeCount__):r.__views__.push({size:mR(n,fR),type:t+(r.__dir__<0?"Right":"")}),r},Vu.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),_h(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=n==uR||n==hR;Vu.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Iw(t),type:n}),e.__filtered__=e.__filtered__||r,e}})),_h(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Vu.prototype[t]=function(){return this[n](1).value()[0]}})),_h(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Vu.prototype[t]=function(){return this.__filtered__?new Vu(this):this[n](1)}})),Vu.prototype.compact=function(){return this.filter(nu)},Vu.prototype.find=function(t){return this.filter(t).head()},Vu.prototype.findLast=function(t){return this.reverse().find(t)},Vu.prototype.invokeMap=$f((function(t,e){return"function"==typeof t?new Vu(this):this.map((function(n){return x_(n,t,e)}))})),Vu.prototype.reject=function(t){return this.filter(hM(Iw(t)))},Vu.prototype.slice=function(t,e){t=Jc(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Vu(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(e=Jc(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},Vu.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Vu.prototype.toArray=function(){return this.take(fR)},Yw(Vu.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=oh[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(oh.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,s=e instanceof Vu,l=a[0],c=s||Lc(e),u=function(t){var e=i.apply(oh,yv([t],a));return r&&h?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(s=c=!1);var h=this.__chain__,f=!!this.__actions__.length,d=o&&!h,p=s&&!f;if(!o&&c){e=p?e:new Vu(this);var v=t.apply(e,a);return v.__actions__.push({func:mL,args:[u],thisArg:void 0}),new th(v,h)}return d&&p?t.apply(this,a):(v=this.thru(u),d?r?v.value()[0]:v.value():v)})})),_h(["pop","push","shift","sort","splice","unshift"],(function(t){var e=dR[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);oh.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Lc(i)?i:[],t)}return this[n]((function(n){return e.apply(Lc(n)?n:[],t)}))}})),Yw(Vu.prototype,(function(t,e){var n=oh[e];if(n){var r=n.name+"";vR.call(Ku,r)||(Ku[r]=[]),Ku[r].push({name:e,func:n})}})),Ku[hf(void 0,cR).name]=[{name:"wrapper",func:void 0}],Vu.prototype.clone=JP,Vu.prototype.reverse=tR,Vu.prototype.value=sR,oh.prototype.at=KP.at,oh.prototype.chain=KP.wrapperChain,oh.prototype.commit=KP.commit,oh.prototype.next=KP.next,oh.prototype.plant=KP.plant,oh.prototype.reverse=KP.reverse,oh.prototype.toJSON=oh.prototype.valueOf=oh.prototype.value=KP.value,oh.prototype.first=oh.prototype.head,gR&&(oh.prototype[gR]=KP.toIterator);var xR={exports:{}};(function(t){(function(e){var n=/^\s+/,r=/\s+$/,i=0,o=e.round,a=e.min,s=e.max,l=e.random;function c(t,e){if(t=t||"",e=e||{},t instanceof c)return t;if(!(this instanceof c))return new c(t,e);var n=u(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=o(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=n.ok,this._tc_id=i++}function u(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,l=!1,c=!1;return"string"==typeof t&&(t=U(t)),"object"==typeof t&&(Y(t.r)&&Y(t.g)&&Y(t.b)?(e=h(t.r,t.g,t.b),l=!0,c="%"===String(t.r).substr(-1)?"prgb":"rgb"):Y(t.h)&&Y(t.s)&&Y(t.v)?(r=H(t.s),i=H(t.v),e=v(t.h,r,i),l=!0,c="hsv"):Y(t.h)&&Y(t.s)&&Y(t.l)&&(r=H(t.s),o=H(t.l),e=d(t.h,r,o),l=!0,c="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=N(n),{ok:l,format:t.format||c,r:a(255,s(e.r,0)),g:a(255,s(e.g,0)),b:a(255,s(e.b,0)),a:n}}function h(t,e,n){return{r:255*j(t,255),g:255*j(e,255),b:255*j(n,255)}}function f(t,e,n){t=j(t,255),e=j(e,255),n=j(n,255);var r,i,o=s(t,e,n),l=a(t,e,n),c=(o+l)/2;if(o==l)r=i=0;else{var u=o-l;switch(i=c>.5?u/(2-o-l):u/(o+l),o){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4;break}r/=6}return{h:r,s:i,l:c}}function d(t,e,n){var r,i,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=j(t,360),e=j(e,100),n=j(n,100),0===e)r=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;r=a(l,s,t+1/3),i=a(l,s,t),o=a(l,s,t-1/3)}return{r:255*r,g:255*i,b:255*o}}function p(t,e,n){t=j(t,255),e=j(e,255),n=j(n,255);var r,i,o=s(t,e,n),l=a(t,e,n),c=o,u=o-l;if(i=0===o?0:u/o,o==l)r=0;else{switch(o){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4;break}r/=6}return{h:r,s:i,v:c}}function v(t,n,r){t=6*j(t,360),n=j(n,100),r=j(r,100);var i=e.floor(t),o=t-i,a=r*(1-n),s=r*(1-o*n),l=r*(1-(1-o)*n),c=i%6,u=[r,s,a,a,l,r][c],h=[l,r,r,s,a,a][c],f=[a,a,l,r,r,s][c];return{r:255*u,g:255*h,b:255*f}}function g(t,e,n,r){var i=[W(o(t).toString(16)),W(o(e).toString(16)),W(o(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function y(t,e,n,r,i){var a=[W(o(t).toString(16)),W(o(e).toString(16)),W(o(n).toString(16)),W($(r))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function m(t,e,n,r){var i=[W($(r)),W(o(t).toString(16)),W(o(e).toString(16)),W(o(n).toString(16))];return i.join("")}function b(t,e){e=0===e?0:e||10;var n=c(t).toHsl();return n.s-=e/100,n.s=B(n.s),c(n)}function x(t,e){e=0===e?0:e||10;var n=c(t).toHsl();return n.s+=e/100,n.s=B(n.s),c(n)}function w(t){return c(t).desaturate(100)}function O(t,e){e=0===e?0:e||10;var n=c(t).toHsl();return n.l+=e/100,n.l=B(n.l),c(n)}function C(t,e){e=0===e?0:e||10;var n=c(t).toRgb();return n.r=s(0,a(255,n.r-o(-e/100*255))),n.g=s(0,a(255,n.g-o(-e/100*255))),n.b=s(0,a(255,n.b-o(-e/100*255))),c(n)}function S(t,e){e=0===e?0:e||10;var n=c(t).toHsl();return n.l-=e/100,n.l=B(n.l),c(n)}function _(t,e){var n=c(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,c(n)}function E(t){var e=c(t).toHsl();return e.h=(e.h+180)%360,c(e)}function M(t){var e=c(t).toHsl(),n=e.h;return[c(t),c({h:(n+120)%360,s:e.s,l:e.l}),c({h:(n+240)%360,s:e.s,l:e.l})]}function k(t){var e=c(t).toHsl(),n=e.h;return[c(t),c({h:(n+90)%360,s:e.s,l:e.l}),c({h:(n+180)%360,s:e.s,l:e.l}),c({h:(n+270)%360,s:e.s,l:e.l})]}function T(t){var e=c(t).toHsl(),n=e.h;return[c(t),c({h:(n+72)%360,s:e.s,l:e.l}),c({h:(n+216)%360,s:e.s,l:e.l})]}function A(t,e,n){e=e||6,n=n||30;var r=c(t).toHsl(),i=360/n,o=[c(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(c(r));return o}function L(t,e){e=e||6;var n=c(t).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;while(e--)a.push(c({h:r,s:i,v:o})),o=(o+s)%1;return a}c.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,n,r,i,o,a,s=this.toRgb();return t=s.r/255,n=s.g/255,r=s.b/255,i=t<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4),o=n<=.03928?n/12.92:e.pow((n+.055)/1.055,2.4),a=r<=.03928?r/12.92:e.pow((r+.055)/1.055,2.4),.2126*i+.7152*o+.0722*a},setAlpha:function(t){return this._a=N(t),this._roundA=o(100*this._a)/100,this},toHsv:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=p(this._r,this._g,this._b),e=o(360*t.h),n=o(100*t.s),r=o(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=f(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=f(this._r,this._g,this._b),e=o(360*t.h),n=o(100*t.s),r=o(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return g(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return y(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*j(this._r,255))+"%",g:o(100*j(this._g,255))+"%",b:o(100*j(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+o(100*j(this._r,255))+"%, "+o(100*j(this._g,255))+"%, "+o(100*j(this._b,255))+"%)":"rgba("+o(100*j(this._r,255))+"%, "+o(100*j(this._g,255))+"%, "+o(100*j(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(R[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+m(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=c(t);n="#"+m(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0,i=!e&&r&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t);return i?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return c(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(O,arguments)},brighten:function(){return this._applyModification(C,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(b,arguments)},saturate:function(){return this._applyModification(x,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(A,arguments)},complement:function(){return this._applyCombination(E,arguments)},monochromatic:function(){return this._applyCombination(L,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(M,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},c.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:H(t[r]));t=n}return c(t,e)},c.equals=function(t,e){return!(!t||!e)&&c(t).toRgbString()==c(e).toRgbString()},c.random=function(){return c.fromRatio({r:l(),g:l(),b:l()})},c.mix=function(t,e,n){n=0===n?0:n||50;var r=c(t).toRgb(),i=c(e).toRgb(),o=n/100,a={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return c(a)},c.readability=function(t,n){var r=c(t),i=c(n);return(e.max(r.getLuminance(),i.getLuminance())+.05)/(e.min(r.getLuminance(),i.getLuminance())+.05)},c.isReadable=function(t,e,n){var r,i,o=c.readability(t,e);switch(i=!1,r=X(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7;break}return i},c.mostReadable=function(t,e,n){var r,i,o,a,s=null,l=0;n=n||{},i=n.includeFallbackColors,o=n.level,a=n.size;for(var u=0;u<e.length;u++)r=c.readability(t,e[u]),r>l&&(l=r,s=c(e[u]));return c.isReadable(t,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,c.mostReadable(t,["#fff","#000"],n))};var P=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},R=c.hexNames=I(P);function I(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function N(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function j(t,n){F(t)&&(t="100%");var r=z(t);return t=a(n,s(0,parseFloat(t))),r&&(t=parseInt(t*n,10)/100),e.abs(t-n)<1e-6?1:t%n/parseFloat(n)}function B(t){return a(1,s(0,t))}function D(t){return parseInt(t,16)}function F(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function z(t){return"string"===typeof t&&-1!=t.indexOf("%")}function W(t){return 1==t.length?"0"+t:""+t}function H(t){return t<=1&&(t=100*t+"%"),t}function $(t){return e.round(255*parseFloat(t)).toString(16)}function G(t){return D(t)/255}var V=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Y(t){return!!V.CSS_UNIT.exec(t)}function U(t){t=t.replace(n,"").replace(r,"").toLowerCase();var e,i=!1;if(P[t])t=P[t],i=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=V.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=V.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=V.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=V.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=V.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=V.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=V.hex8.exec(t))?{r:D(e[1]),g:D(e[2]),b:D(e[3]),a:G(e[4]),format:i?"name":"hex8"}:(e=V.hex6.exec(t))?{r:D(e[1]),g:D(e[2]),b:D(e[3]),format:i?"name":"hex"}:(e=V.hex4.exec(t))?{r:D(e[1]+""+e[1]),g:D(e[2]+""+e[2]),b:D(e[3]+""+e[3]),a:G(e[4]+""+e[4]),format:i?"name":"hex8"}:!!(e=V.hex3.exec(t))&&{r:D(e[1]+""+e[1]),g:D(e[2]+""+e[2]),b:D(e[3]+""+e[3]),format:i?"name":"hex"}}function X(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}t.exports?t.exports=c:window.tinycolor=c})(Math)})(xR);var wR,OR=xR.exports,CR="#FFFFFF",SR="#000000",_R=[95,85,75,30,15,0,15,30,45,60,80],ER=15,MR=function(t){return OR(t).getLuminance()<=.5},kR=[{fontColorIndex:0,bgColorIndex:3},{fontColorIndex:13,bgColorIndex:8},{fontColorIndex:14,bgColorIndex:1}],TR=function(t){for(var e=[],n=0;n<11;n++){var r=_R[n];e.push(AL(0===r?t:OR.mix(t,n<5?CR:SR,r).toHexString()))}return e},AR=function(t){void 0===t&&(t={});var e=Array.from(Array(ER)).fill(Cl),n=t.basicColorRelations,r=void 0===n?[]:n,i=t.brandColor,o=TR(i);return r.forEach((function(t){e[t.basicColorIndex]=o[t.standardColorIndex]})),kR.forEach((function(t){var n=t.fontColorIndex,r=t.bgColorIndex;e[n]=MR(e[r])?Cl:Ol})),tc(tc({},t),{basicColors:e})},LR={brandColor:"#3471F9",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:5},{basicColorIndex:4,standardColorIndex:6},{basicColorIndex:5,standardColorIndex:6},{basicColorIndex:6,standardColorIndex:6},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:4},{basicColorIndex:11,standardColorIndex:4},{basicColorIndex:12,standardColorIndex:5}]},PR=AR(LR),RR={brandColor:"#326EF4",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:1},{basicColorIndex:4,standardColorIndex:2},{basicColorIndex:5,standardColorIndex:7},{basicColorIndex:6,standardColorIndex:5},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:2},{basicColorIndex:11,standardColorIndex:5},{basicColorIndex:12,standardColorIndex:5}]},IR=AR(RR),NR={brandColor:"#9DA7B6",semanticColors:{red:"#FF4D4F",green:"#29A294",yellow:"#FAAD14"},others:{highlight:"#87B5FF",results:"#F0F7FF"},basicColorRelations:[{basicColorIndex:1,standardColorIndex:0},{basicColorIndex:2,standardColorIndex:1},{basicColorIndex:3,standardColorIndex:1},{basicColorIndex:4,standardColorIndex:2},{basicColorIndex:5,standardColorIndex:7},{basicColorIndex:6,standardColorIndex:8},{basicColorIndex:7,standardColorIndex:5},{basicColorIndex:9,standardColorIndex:1},{basicColorIndex:10,standardColorIndex:2},{basicColorIndex:11,standardColorIndex:3},{basicColorIndex:12,standardColorIndex:3}]},jR=AR(NR),BR={default:IR,colorful:PR,gray:jR},DR="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif",FR=12,zR={"小计":"小计","总计":"总计","总和":"总和","项":"项","已选择":"已选择","序号":"序号","度量":"度量","数值":"数值","共计":"共计","条":"条","趋势":"趋势","隐藏":"隐藏","组内升序":"组内升序","升序":"升序","降序":"降序","组内降序":"组内降序","不排序":"不排序"},WR={"小计":"Total","总计":"Total","总和":"SUM","项":"items","已选择":"selected","序号":"Index","度量":"Measure","数值":"Measure","共计":"Total","条":"","隐藏":"Hide","趋势":"Trend","组内升序":"Group ASC","组内降序":"Group DESC","升序":"ASC","降序":"DESC","不排序":"No order"},HR="zh_CN",$R=HR,GR={zh_CN:zR,en_US:WR},VR=function(t,e){return void 0===e&&(e=t),vv(GR,[$R,t],e)},YR="".concat(bl,"-tooltip"),UR="".concat(YR,"-container"),XR="".concat(UR,"-show"),qR="".concat(UR,"-hide"),KR=("".concat(YR,"-operation"),{x:15,y:10}),ZR=function(){return{key:"hiddenColumns",text:VR("隐藏"),icon:"EyeOutlined"}},QR=function(){return{key:"trend",text:VR("趋势"),icon:"Trend"}},JR=function(){return[{key:"asc",icon:"groupAsc",text:VR("组内升序")},{key:"desc",icon:"groupDesc",text:VR("组内降序")},{key:"none",text:VR("不排序")}]},tI=function(){return[{key:"asc",icon:"groupAsc",text:VR("升序")},{key:"desc",icon:"groupDesc",text:VR("降序")},{key:"none",text:VR("不排序")}]};(function(t){t[t["ALL"]=0]="ALL",t[t["COL"]=1]="COL",t[t["ROW"]=2]="ROW"})(wR||(wR={}));var eI=1;function nI(t){return"mobile"===t||/(iPhone|iPad|SymbianOS|Windows Phone|iPod|iOS|Android)/i.test(navigator.userAgent)}function rI(){return/iPhone/gi.test(navigator.userAgent)&&812===window.screen.height&&375===window.screen.width}function iI(){return/windows/i.test(navigator.userAgent)}var oI=function(t){var e=t||"default";return BR[e.toLowerCase()]},aI=function(t){var e,n,r,i,o,a=(null===t||void 0===t?void 0:t.palette)||oI(null===t||void 0===t?void 0:t.name),s=a.basicColors,l=a.semanticColors,c=a.others,u=null===(e=null===t||void 0===t?void 0:t.spreadsheet)||void 0===e?void 0:e.isTableMode(),h=iI()?"bold":700,f=function(){var t,e;return{bolderText:{fontFamily:DR,fontSize:12,fontWeight:h,fill:s[13],opacity:1,textAlign:"right",textBaseline:"middle",linkTextFill:s[6]},text:{fontFamily:DR,fontSize:12,fontWeight:"normal",fill:s[13],opacity:1,textAlign:"right",textBaseline:"middle",linkTextFill:s[6]},cell:{crossBackgroundColor:s[1],backgroundColor:s[8],backgroundColorOpacity:1,horizontalBorderColor:s[9],horizontalBorderColorOpacity:1,verticalBorderColor:s[9],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:8,right:8,bottom:8,left:8},interactionState:{hover:{backgroundColor:s[2],backgroundOpacity:.6},hoverFocus:{backgroundColor:s[2],backgroundOpacity:.6,borderColor:s[14],borderWidth:1,borderOpacity:1},selected:{backgroundColor:s[2],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},searchResult:{backgroundColor:null!==(t=null===c||void 0===c?void 0:c.results)&&void 0!==t?t:s[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(e=null===c||void 0===c?void 0:c.highlight)&&void 0!==e?e:s[6],backgroundOpacity:1},prepareSelect:{borderColor:s[14],borderOpacity:1,borderWidth:1}}},miniChart:{line:{point:{size:2.2,fill:s[6],opacity:1},linkLine:{size:1.5,fill:s[6],opacity:.6}},bar:{intervalPadding:4,fill:s[6],opacity:1},bullet:{progressBar:{widthPercent:.6,height:10,innerHeight:6},comparativeMeasure:{width:1,height:12,fill:s[13],opacity:.25},rangeColors:{good:null===l||void 0===l?void 0:l.green,satisfactory:l.yellow,bad:l.red},backgroundColor:"#E9E9E9"},interval:{height:FR,fill:s[7]}},icon:{fill:s[13],downIconColor:l.red,upIconColor:l.green,size:10,margin:{right:4,left:4}}}};return{cornerCell:{bolderText:{fontFamily:DR,fontSize:12,fontWeight:h,fill:s[0],opacity:1,textAlign:u?"center":"left",textBaseline:"middle"},text:{fontFamily:DR,fontSize:12,fontWeight:h,fill:s[0],opacity:1,textAlign:"right",textBaseline:"middle"},cell:{backgroundColor:s[3],backgroundColorOpacity:1,horizontalBorderColor:s[10],horizontalBorderColorOpacity:1,verticalBorderColor:s[10],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:0,right:8,bottom:0,left:8}},icon:{fill:s[0],size:10,margin:{right:4,left:4}}},rowCell:{seriesText:{fontFamily:DR,fontSize:12,fontWeight:"normal",fill:s[14],linkTextFill:s[6],opacity:1,textBaseline:"middle",textAlign:"center"},measureText:{fontFamily:DR,fontSize:12,fontWeight:"normal",fill:s[14],linkTextFill:s[6],opacity:1,textAlign:u?"center":"left",textBaseline:"top"},bolderText:{fontFamily:DR,fontSize:12,fontWeight:h,fill:s[14],linkTextFill:s[6],opacity:1,textAlign:u?"center":"left",textBaseline:"top"},text:{fontFamily:DR,fontSize:12,fontWeight:"normal",fill:s[14],linkTextFill:s[6],opacity:1,textBaseline:"top",textAlign:u?"center":"left"},cell:{backgroundColor:s[1],backgroundColorOpacity:1,horizontalBorderColor:s[9],horizontalBorderColorOpacity:1,verticalBorderColor:s[9],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:0,right:8,bottom:0,left:8},interactionState:{hover:{backgroundColor:s[2],backgroundOpacity:.6},selected:{backgroundColor:s[2],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},prepareSelect:{borderColor:s[14],borderOpacity:1,borderWidth:1},searchResult:{backgroundColor:null!==(n=null===c||void 0===c?void 0:c.results)&&void 0!==n?n:s[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(r=null===c||void 0===c?void 0:c.highlight)&&void 0!==r?r:s[6],backgroundOpacity:1}}},icon:{fill:s[14],size:10,margin:{right:4,left:4}},seriesNumberWidth:80},colCell:{measureText:{fontFamily:DR,fontSize:12,fontWeight:"normal",fill:s[0],opacity:1,textAlign:"right",textBaseline:"middle"},bolderText:{fontFamily:DR,fontSize:12,fontWeight:h,fill:s[0],opacity:1,textAlign:"center",textBaseline:"middle"},text:{fontFamily:DR,fontSize:12,fontWeight:"normal",fill:s[0],opacity:1,textAlign:"center",textBaseline:"middle"},cell:{backgroundColor:s[3],backgroundColorOpacity:1,horizontalBorderColor:s[10],horizontalBorderColorOpacity:1,verticalBorderColor:s[10],verticalBorderColorOpacity:1,horizontalBorderWidth:1,verticalBorderWidth:1,padding:{top:0,right:8,bottom:0,left:8},interactionState:{hover:{backgroundColor:s[4],backgroundOpacity:.6},selected:{backgroundColor:s[4],backgroundOpacity:.6},unselected:{backgroundOpacity:.3,textOpacity:.3,opacity:.3},prepareSelect:{borderColor:s[14],borderOpacity:1,borderWidth:1},searchResult:{backgroundColor:null!==(i=null===c||void 0===c?void 0:c.results)&&void 0!==i?i:s[2],backgroundOpacity:1},highlight:{backgroundColor:null!==(o=null===c||void 0===c?void 0:c.highlight)&&void 0!==o?o:s[6],backgroundOpacity:1}}},icon:{fill:s[0],size:10,margin:{top:6,right:4,bottom:6,left:4}}},dataCell:f(),mergedCell:f(),resizeArea:{size:3,background:s[7],backgroundOpacity:0,guideLineColor:s[7],guideLineDisableColor:"rgba(0,0,0,0.25)",guideLineDash:[3,3],interactionState:{hover:{backgroundColor:s[7],backgroundOpacity:1}}},scrollBar:{trackColor:"rgba(0,0,0,0.01)",thumbHoverColor:"rgba(0,0,0,0.25)",thumbColor:"rgba(0,0,0,0.15)",thumbHorizontalMinSize:32,thumbVerticalMinSize:32,size:nI()?3:6,hoverSize:nI()?4:8,lineCap:"round"},splitLine:{horizontalBorderColor:s[12],horizontalBorderColorOpacity:.2,horizontalBorderWidth:2,verticalBorderColor:s[11],verticalBorderColorOpacity:.25,verticalBorderWidth:2,showShadow:!0,shadowWidth:8,shadowColors:{left:"rgba(0,0,0,0.1)",right:"rgba(0,0,0,0)"}},prepareSelectMask:{backgroundColor:s[5],backgroundOpacity:.3},background:{color:s[8],opacity:1}}},sI=function(){function t(t){this.x=0,this.y=0,this.width=0,this.height=0,this.colIndex=-1,this.level=0,this.isLeaf=!1,this.children=[],this.padding=0;var e=t.id,n=t.key,r=t.value,i=t.label,o=t.parent,a=t.level,s=t.rowIndex,l=t.isTotals,c=t.isGrandTotals,u=t.isSubTotals,h=t.isCollapsed,f=t.hierarchy,d=t.isPivotMode,p=t.seriesNumberWidth,v=t.field,g=t.spreadsheet,y=t.query,m=t.belongsCell,b=t.inCollapseNode,x=t.isTotalMeasure,w=t.isLeaf,O=t.extra;this.id=e,this.key=n,this.value=r,this.label=i||r,this.parent=o,this.level=a,this.rowIndex=s,this.isTotals=l,this.isCollapsed=h,this.hierarchy=f,this.isPivotMode=d,this.seriesNumberWidth=p,this.field=v,this.spreadsheet=g,this.query=y,this.belongsCell=m,this.inCollapseNode=b,this.isTotalMeasure=x,this.isLeaf=w,this.isGrandTotals=c,this.isSubTotals=u,this.extra=O}return t.getFieldPath=function(t,e){if(t&&!t.isTotals||t&&e){var n=t.parent,r=[t.field];while(n&&n.id!==al)r.push(n.field),n=n.parent;return r.reverse()}return[]},t.getAllLeaveNodes=function(t){var e=[];if(t.isLeaf)return[t];var n=ic([],rc(t.children),!1),r=n.shift();while(r)r.isLeaf?e.push(r):n.unshift.apply(n,ic([],rc(r.children),!1)),r=n.shift();return e},t.getAllChildrenNodes=function(t){var e=[];if(t.isLeaf)return[t];var n=ic([],rc(t.children||[]),!1),r=n.shift();while(r)e.push(r),n.unshift.apply(n,ic([],rc(r.children),!1)),r=n.shift();return e},t.getAllBranch=function(t){var e=[],n=this.getAllLeaveNodes(t),r=n.shift(),i=[];while(r){i.unshift(r);var o=r.parent;while(o){if($_(o,t))break;i.unshift(o),o=o.parent}e.push(i),r=n.shift(),i=[]}return e},t.blankNode=function(){return new t({id:"",key:"",value:""})},t.rootNode=function(){return new t({id:"root",key:"",value:""})},t.prototype.toJSON=function(){return MM(this,["config","hierarchy","parent","spreadsheet"])},t.prototype.getHeadLeafChild=function(){var t=this;while(!H_(t.children))t=XC(t.children);return t},t}(),lI=function(){function t(){this.width=0,this.height=0,this.maxLevel=-1,this.sampleNodesForAllLevels=[],this.sampleNodeForLastLevel=null,this.allNodesWithoutRoot=[],this.indexNode=[]}return t.prototype.getLeaves=function(){return this.allNodesWithoutRoot.filter((function(t){return t.isLeaf}))},t.prototype.getNodes=function(t){return void 0!==t?this.allNodesWithoutRoot.filter((function(e){return e.level===t})):this.allNodesWithoutRoot},t.prototype.getNodesLessThanLevel=function(t){return this.allNodesWithoutRoot.filter((function(e){return e.level<=t}))},t.prototype.pushNode=function(t,e){void 0===e&&(e=-1),-1===e?this.allNodesWithoutRoot.push(t):this.allNodesWithoutRoot.splice(e,0,t)},t.prototype.pushIndexNode=function(t){this.indexNode.push(t)},t.prototype.getIndexNodes=function(){return this.indexNode},t}(),cI=function(){function t(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.label=t,this.isSubTotals=e,this.isGrandTotals=n}return t}(),uI=function(t){var e,n,r,i=t.isFirstField,o=t.currentField,a=t.fieldValues,s=t.spreadsheet,l=t.lastField,c=s.getTotalsConfig(i?o:l);i?(null===c||void 0===c?void 0:c.showGrandTotals)&&(n=c.reverseLayout?"unshift":"push",r=new cI(c.label,!1,!0)):(null===c||void 0===c?void 0:c.showSubTotals)&&(oh.size(a)>1||!1!==oh.get(c,"showSubTotals.always"))&&o!==Cs&&(n=c.reverseSubLayout?"unshift":"push",r=new cI(c.subLabel,!0)),null===(e=a[n])||void 0===e||e.call(a,r)};function hI(t,e){var n={},r=t;while(r&&r.key)r.isTotals&&!e||(n[r.key]=r.value),r=r.parent;return n}var fI=function(t,e,n,r){return e.layoutArrange?e.layoutArrange(e.spreadsheet,n,r,t):t},dI=function(t,e,n,r){var i,o,a=null===(o=null===(i=t.spreadsheet)||void 0===i?void 0:i.facet)||void 0===o?void 0:o.getHiddenColumnsInfo(n);if(a)return!1;var s=!0,l=function(t,n,i){void 0===n&&(n=-1),void 0===i&&(i=-1),-1===n?(e.children.push(t),r.pushNode(t)):(e.children.splice(n,0,t),r.pushNode(t,i))};if(t.layoutHierarchy){var c=t.layoutHierarchy(t.spreadsheet,n);if(c){var u=!!L_(null===c||void 0===c?void 0:c.delete)&&(null===c||void 0===c?void 0:c.delete);s=!u;var h=c.push,f=c.unshift,d=e.children.length,p=r.getNodes().length;H_(f)||(JO(f,(function(t){l(t)})),d=e.children.length,p=r.getNodes().length),H_(h)||JO(h,(function(t){l(t)})),u||l(n,d,p)}else l(n)}else l(n);return s},pI=function(t,e,n){(null===t||void 0===t?void 0:t.layoutCoordinate)&&((null===e||void 0===e?void 0:e.isLeaf)||(null===n||void 0===n?void 0:n.isLeaf))&&(null===t||void 0===t||t.layoutCoordinate(t.spreadsheet,e,n))},vI=function(t,e){var n=null===t||void 0===t?void 0:t.layoutDataPosition;if(n){var r=e.getCellMeta,i=n(t.spreadsheet,r);return tc(tc({},e),{getCellMeta:i})}return e},gI=function(){function t(t){this.label=t}return t}(),yI=function(t,e,n){var r,i,o,a,s=null!==(a=null===(o=n.colCfg)||void 0===o?void 0:o.hideMeasureColumn)&&void 0!==a&&a,l=n.dataSet.fields.valueInCols;try{for(var c=nc(t),u=c.next();!u.done;u=c.next()){var h=u.value;s&&l&&e===Cs&&t.splice(t.indexOf(h),1)}}catch(f){r={error:f}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}},mI=function(t){var e,n=t.addTotalMeasureInTotal,r=t.addMeasureInTotalQuery,i=t.parentNode,o=t.currentField,a=t.fields,s=t.facetCfg,l=t.hierarchy,c=a.indexOf(o),u=s.dataSet,h=s.values,f=s.spreadsheet,d=[],p={};if(i.isTotals)n&&(p=hI(i.parent,!0),d.push.apply(d,ic([],rc(h.map((function(t){return new gI(t)}))),!1)));else{p=hI(i,!0);var v=u.getDimensionValues(o,p),g=fI(v,s,i,o);d.push.apply(d,ic([],rc(g||[]),!1));var y=u.getFieldName(o);H_(d)&&(o===Cs?d.push.apply(d,ic([],rc(null===(e=u.fields)||void 0===e?void 0:e.values),!1)):d.push(y)),yI(d,o,s),uI({currentField:o,lastField:a[c-1],isFirstField:0===c,fieldValues:d,spreadsheet:f})}var m=d.filter((function(t){return!fE(t)}));xI({currentField:o,fields:a,fieldValues:m,facetCfg:s,hierarchy:l,parentNode:i,level:c,query:p,addMeasureInTotalQuery:r,addTotalMeasureInTotal:n})},bI=function(t,e){return"".concat(t).concat(sl).concat(e)},xI=function(t){var e,n,r,i,o,a,s,l,c,u,h,f,d=t.currentField,p=t.fields,v=t.fieldValues,g=t.facetCfg,y=t.hierarchy,m=t.parentNode,b=t.level,x=t.query,w=t.addMeasureInTotalQuery,O=t.addTotalMeasureInTotal,C=g.spreadsheet,S=g.collapsedCols,_=g.colCfg;try{for(var E=nc(v.entries()),M=E.next();!M.done;M=E.next()){var k=rc(M.value,2),T=k[0],A=k[1],L=A instanceof cI,P=A instanceof gI,R=void 0,I=void 0,N=!1,j=!1,B=!1,D=d;if(L){var F=A;j=F.isGrandTotals,B=F.isSubTotals,R=VR(A.label),w?(I=tc(tc({},x),(r={},r[Cs]=null===(s=null===C||void 0===C?void 0:C.dataSet)||void 0===s?void 0:s.fields.values[0],r)),N=!0):(I=x,O||(N=!0))}else if(P)R=VR(A.label),I=tc(tc({},x),(i={},i[Cs]=R,i)),D=Cs,N=!0;else if(C.isTableMode())R=A,D=p[T],I=tc(tc({},x),(o={},o[D]=R,o)),N=!0;else{R=A,I=tc(tc({},x),(a={},a[d]=R,a));var z=null===(c=null===(l=C.dataCfg.fields)||void 0===l?void 0:l.valueInCols)||void 0===c||c,W=(null===_||void 0===_?void 0:_.hideMeasureColumn)&&z&&qS(p,Cs),H=W?2:1;N=b===p.length-H}var $=bI(m.id,R);if(!$)return;var G=!!L_(null===S||void 0===S?void 0:S[$])&&(null===S||void 0===S?void 0:S[$]),V=new sI({id:$,key:D,value:R,level:b,field:D,parent:m,isTotals:L,isGrandTotals:j,isSubTotals:B,isTotalMeasure:P,isCollapsed:G,hierarchy:y,query:I,spreadsheet:C,isLeaf:N||G}),Y=dI(g,m,V,y),U=null===(u=null===C||void 0===C?void 0:C.facet)||void 0===u?void 0:u.getHiddenColumnsInfo(V);U&&m&&(m.hiddenChildNodeInfo=U),!(b>y.maxLevel)||j||m.isGrandTotals||m.isSubTotals||V.isSubTotals||(y.sampleNodesForAllLevels.push(V),y.maxLevel=b,y.sampleNodeForLastLevel=U?(null===(h=null===U||void 0===U?void 0:U.displaySiblingNode)||void 0===h?void 0:h.next)||(null===(f=null===U||void 0===U?void 0:U.displaySiblingNode)||void 0===f?void 0:f.prev):V);var X=N||G||!Y;X?(V.isLeaf=!0,y.pushIndexNode(V),V.rowIndex=y.getIndexNodes().length-1):mI({addTotalMeasureInTotal:O,addMeasureInTotalQuery:w,parentNode:V,currentField:p[b+1],fields:p,facetCfg:g,hierarchy:y})}}catch(q){e={error:q}}finally{try{M&&!M.done&&(n=E.return)&&n.call(E)}finally{if(e)throw e.error}}},wI=function(t,e,n,r){var i=e.facetCfg,o=e.hierarchy,a=e.parentNode,s=i.dataSet;t.forEach((function(t,l){"string"===typeof t&&(t={key:t});var c=t.key,u=c===Es?VR("序号"):s.getFieldName(c),h=r||a;if(xI({currentField:c,fields:[c],fieldValues:[u],facetCfg:i,hierarchy:o,parentNode:h,level:n,query:{},addMeasureInTotalQuery:!1,addTotalMeasureInTotal:!1}),t.children&&t.children.length){var f=h.children[l];f.isLeaf=!1,wI(t.children,e,n+1,f)}}))},OI=function(t,e){return e>0&&t<e},CI=function(t,e,n){return e>0&&t>=n-e},SI=function(t,e,n){return n>0&&t<e+n},_I=function(t,e,n){return n>0&&t>=e+1-n},EI=function(t,e,n,r,i,o){var a=BC(n,(function(e,r){var a=t-(rE(o)?0:o)+i.x;return a>=e&&a<n[r+1]}),0);a=Math.max(a,0);var s=BC(n,(function(e,r){var o=i.width+t+i.x;return o>=e&&o<n[r+1]}),a);s=Math.min(-1===s?1/0:s,n.length-2);var l=r.getIndexRange(e+i.y,i.height+e+i.y),c=l.start,u=l.end;return[a,s,c,u]},MI=function(t,e,n){var r=2,i=Math.abs(t/e),o=i<=1/r?0:t,a=i>r?0:e;return[o*n.horizontal,a*n.vertical]},kI=function(t,e,n){var r,i,o=null===t||void 0===t?void 0:t.getMatrix(),a=null!==(r=null===o||void 0===o?void 0:o[6])&&void 0!==r?r:0,s=null!==(i=null===o||void 0===o?void 0:o[7])&&void 0!==i?i:0;null===t||void 0===t||t.translate(e-a,n-s)},TI=function(t,e){var n,r=null===t||void 0===t?void 0:t.getMatrix(),i=null!==(n=null===r||void 0===r?void 0:r[6])&&void 0!==n?n:0;null===t||void 0===t||t.translate(e-i,0)},AI=function(t,e){var n,r=null===t||void 0===t?void 0:t.getMatrix(),i=null!==(n=null===r||void 0===r?void 0:r[7])&&void 0!==n?n:0;null===t||void 0===t||t.translate(0,e-i)},LI=function(t,e,n,r){var i=e.frozenColCount,o=e.frozenRowCount,a=e.frozenTrailingColCount,s=e.frozenTrailingRowCount,l=t.colIndex,c=t.rowIndex;return SI(c,r.start,o)?vl.ROW:_I(c,r.end,s)?vl.TRAILING_ROW:OI(l,i)?vl.COL:CI(l,a,n)?vl.TRAILING_COL:vl.SCROLL},PI=function(t,e,n){for(var r,i=t.frozenColCount,o=t.frozenRowCount,a=t.frozenTrailingColCount,s=t.frozenTrailingRowCount,l=(r={},r[vl.TOP]=[],r[vl.BOTTOM]=[],r),c=0;c<i;c++){for(var u=n.start;u<n.start+o;u++)l[vl.TOP].push({x:c,y:u});if(s>0)for(u=0;u<s;u++){var h=n.end-u;l[vl.BOTTOM].push({x:c,y:h})}}for(c=0;c<a;c++){var f=e-1-c;for(u=n.start;u<n.start+o;u++)l[vl.TOP].push({x:f,y:u});if(s>0)for(u=0;u<s;u++){h=n.end-u;l[vl.BOTTOM].push({x:f,y:h})}}return l},RI=function(t,e,n,r){var i=e.frozenColCount,o=e.frozenRowCount,a=e.frozenTrailingColCount,s=e.frozenTrailingRowCount,l=ic([],rc(t),!1);OI(l[0],i)&&(l[0]=i),CI(l[1],a,n)&&(l[1]=n-a-1),SI(l[2],r.start,o)&&(l[2]=r.start+o),_I(l[3],r.end,s)&&(l[3]=r.end-s);var c=ic([],rc(l),!1);c[2]=r.start,c[3]=r.start+o-1;var u=ic([],rc(l),!1);u[0]=0,u[1]=i-1;var h=ic([],rc(l),!1);h[2]=r.end+1-s,h[3]=r.end;var f=ic([],rc(l),!1);return f[0]=n-a,f[1]=n-1,{center:l,frozenRow:c,frozenCol:u,frozenTrailingCol:f,frozenTrailingRow:h}},II=function(t,e){var n=t,r=0,i=n.getTotalLength()-1;if(e){var o=e.current,a=void 0===o?eI:o,s=e.pageSize;r=Math.max((a-1)*s,0),i=Math.min(a*s-1,n.getTotalLength()-1)}return{start:r,end:i}},NI=function(t,e,n){var r=e,i=n,o=function(t){return t.isLeaf?1:t.children?t.children.reduce((function(t,e){return t+=o(e),t}),0):0};return e&&(r=t.slice(0,e).reduce((function(t,e){return t+=o(e),t}),0)),n&&(i=t.slice(t.length-n).reduce((function(t,e){return t+=o(e),t}),0)),{colCount:r,trailingColCount:i}},jI=function(t,e){return t.reduce((function(t,n){"string"===typeof n&&(n={key:n});var r=tc({},n);return r.children?(r.children=jI(r.children,e),t.push(r),t):(e[r.key]&&t.push(r),t)}),[])},BI=function(t){return"root"===t.parent.id},DI=function(t){while(!BI(t))t=t.parent;return t},FI=function(t){var e=[],n=function(t){t.forEach((function(t){"string"!==typeof t&&t.children?n(t.children):e.push(t)}))};return n(t),e},zI=function(t){var e=FI(t);return e.map((function(t){return"string"===typeof t?t:t.key}))},WI=function(t){var e=t.children[0];return e?e.isLeaf?e:WI(e):t},HI=function(t){return H_(t.rows)&&H_(t.columns)&&H_(t.values)&&H_(t.customTreeItems)},$I=function(t){var e=t.facetCfg,n=e.columns,r=e.spreadsheet,i=r.store.get("hiddenColumnsDetail"),o=null===e||void 0===e?void 0:e.showSeriesNumber,a=zI(n),s=a.filter((function(t){return!i||i.every((function(e){return e.hideColumnNodes.every((function(e){return e.field!==t}))}))})),l=ic([],rc(s),!1),c=ic([],rc(n),!1),u={};o&&(c.unshift({key:Es}),u[Es]=!0),l.reduce((function(t,e){return t[e]=!0,t}),u),wI(jI(c,u),t,0,null)},GI="Transform Data",VI="Header Layout",YI="Data Cell Render",UI=function(){function t(){var t=this;this.debug=!1,this.debugCallback=function(e,n){if(t.debug){var r=performance.now();n();var i=performance.now();console.log(e,"".concat(i-r," ms"))}else n()},this.logger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t.debug&&console.log.apply(console,ic([e],rc(n),!1))}}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.setDebug=function(t){this.debug=t},t}(),XI='\n<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">\n    <text id="↓" fill="#29A294">\n        <tspan x="-0.225097656" y="8.5">↓</tspan>\n    </text>\n</g>\n</svg>',qI='<svg width="10px" height="10px" viewBox="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" font-family="Roboto, PingFangSC, BlinkMacSystemFont, Microsoft YaHei, Arial, sans-serif" font-size="12" font-weight="bold">\n    <text id="↑" fill="#FF4D4F">\n        <tspan x="-0.225097656" y="8.5">↑</tspan>\n    </text>\n</g>\n</svg>\n',KI='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 58 (84663) - https://sketch.com --\x3e\n    <title>down</title>\n    <desc>Created with Sketch.</desc>\n    <g id="一期开发" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon id="down" fill="#58AE57" transform="translate(3.500000, 4.500000) scale(1, -1) translate(-3.500000, -4.500000) " points="3.5 0 7 9 0 9"></polygon>\n    </g>\n</svg>',ZI='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="7px" height="9px" viewBox="0 0 7 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: Sketch 58 (84663) - https://sketch.com --\x3e\n    <title>up</title>\n    <desc>Created with Sketch.</desc>\n    <g id="一期开发" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <polygon id="up" fill="#F46649" points="3.5 0 7 9 0 9"></polygon>\n    </g>\n</svg> ',QI='<svg t="1557124621626" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\nxmlns="http://www.w3.org/2000/svg" p-id="17452"\nxmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n<defs>\n  <style type="text/css"></style>\n</defs>\n<path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 626.944h176c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8h-176A8 8 0 0 1 384 857.984v-56c0-4.416 3.584-8 8-8z m0-424h368c4.416 0 8 3.648 8 8v56a8 8 0 0 1-8 8h-368A8 8 0 0 1 384 433.984v-56c0-4.352 3.584-8 8-8z m528-139.968h-528A8 8 0 0 1 384 222.016v-56c0-4.416 3.584-8 8-8h528c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z m-256 424h-272A8 8 0 0 1 384 646.016v-56c0-4.416 3.584-8 8-8h272c4.416 0 8 3.584 8 8v56a8 8 0 0 1-8 8z" p-id="17453"></path>\n</svg>',JI='<svg t="1557124685600" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\n  xmlns="http://www.w3.org/2000/svg" p-id="17561"\n  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h176A8 8 0 0 0 576 222.016v-56a8 8 0 0 0-8-8h-176A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h368a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-368A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m-256-424h-272A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h272a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17562"></path>\n</svg>',tN='<svg t="1557124695786" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\n  xmlns="http://www.w3.org/2000/svg" p-id="17670"\n  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 167.04a8 8 0 0 0-12.544 0L57.728 309.056A8 8 0 0 0 64 321.984h76.032v530.048c0 4.352 3.584 7.936 7.936 7.936h56.064a8 8 0 0 0 7.936-7.936V321.92H288a8 8 0 0 0 6.272-12.992l-112-141.888z m209.728 62.976h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17671"></path>\n</svg>',eN='<svg t="1557124710652" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\n  xmlns="http://www.w3.org/2000/svg" p-id="17779"\n  xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path d="M182.272 856.96a8 8 0 0 1-12.544 0l-112-141.952A8 8 0 0 1 64 702.08h76.032V172.032c0-4.416 3.584-8 7.936-8h56.064c4.352 0 7.936 3.584 7.936 8v529.984H288c6.72 0 10.496 7.808 6.272 12.992l-112 141.888z m209.728-626.944h304A8 8 0 0 0 704 222.016v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 166.016v56c0 4.416 3.584 8 8 8z m0 424h304a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8h-304A8 8 0 0 0 384 590.016v56c0 4.416 3.584 8 8 8z m528 139.968h-528a8 8 0 0 0-8 8v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z m0-424h-528A8 8 0 0 0 384 377.984v56c0 4.416 3.584 8 8 8h528a8 8 0 0 0 8-8v-56a8 8 0 0 0-8-8z" p-id="17780"></path>\n</svg>',nN='<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n<g id="设计输出" stroke="none" stroke-width="1" fill-opacity="0.25" fill-rule="evenodd">\n    <g id="设计输出-移动端指标详情页-阅读端" transform="translate(-3275.000000, -724.000000)" fill-rule="nonzero">\n        <g id="编组-39" transform="translate(3064.500000, 667.000000)">\n            <g id="编组-36" transform="translate(80.500000, 44.000000)">\n                <g id="不排序" transform="translate(130.000000, 13.000000)">\n                    <path d="M12.0009375,12.40625 C12.0696875,12.40625 12.1259375,12.4625 12.1259375,12.53125 L12.1259375,12.53125 L12.1259375,13.40625 C12.1259375,13.475 12.0696875,13.53125 12.0009375,13.53125 L12.0009375,13.53125 L6.25093747,13.53125 C6.18218747,13.53125 6.12593747,13.475 6.12593747,13.40625 L6.12593747,13.40625 L6.12593747,12.53125 C6.12593747,12.4625 6.18218747,12.40625 6.25093747,12.40625 L6.25093747,12.40625 Z M2.93949997,2.5801875 L2.97437497,2.6109375 L4.72437497,4.828125 C4.78062497,4.89776786 4.74503823,4.99725765 4.66779698,5.02426203 L4.62593747,5.03125 L3.438,5.03089062 L3.43843747,10.9691406 L4.62593747,10.9691406 C4.73062497,10.9691406 4.78999997,11.0910156 4.72437497,11.1722656 L2.97437497,13.3894531 C2.92437497,13.4535156 2.82749997,13.4535156 2.77749997,13.3894531 L1.02749997,11.1722656 C0.961874969,11.0894531 1.02124997,10.9691406 1.12593747,10.9691406 L2.31343747,10.9691406 L2.313,5.03089062 L1.12593747,5.03125 C1.03620533,5.03125 0.979764,4.94285714 1.00679571,4.8654519 L1.02749997,4.828125 L2.77749997,2.6109375 C2.81749997,2.5596875 2.88749997,2.5494375 2.93949997,2.5801875 Z M10.5009375,9.09375 C10.5696875,9.09375 10.6259375,9.15 10.6259375,9.21875 L10.6259375,9.21875 L10.6259375,10.09375 C10.6259375,10.1625 10.5696875,10.21875 10.5009375,10.21875 L10.5009375,10.21875 L6.25093747,10.21875 C6.18218747,10.21875 6.12593747,10.1625 6.12593747,10.09375 L6.12593747,10.09375 L6.12593747,9.21875 C6.12593747,9.15 6.18218747,9.09375 6.25093747,9.09375 L6.25093747,9.09375 Z M14.5009375,5.78125 C14.5696875,5.78125 14.6259375,5.8375 14.6259375,5.90625 L14.6259375,5.90625 L14.6259375,6.78125 C14.6259375,6.85 14.5696875,6.90625 14.5009375,6.90625 L14.5009375,6.90625 L6.25093747,6.90625 C6.18218747,6.90625 6.12593747,6.85 6.12593747,6.78125 L6.12593747,6.78125 L6.12593747,5.90625 C6.12593747,5.8375 6.18218747,5.78125 6.25093747,5.78125 L6.25093747,5.78125 Z M9.00093747,2.46875 C9.06968747,2.46875 9.12593747,2.525 9.12593747,2.59375 L9.12593747,2.59375 L9.12593747,3.46875 C9.12593747,3.5375 9.06968747,3.59375 9.00093747,3.59375 L9.00093747,3.59375 L6.25093747,3.59375 C6.18218747,3.59375 6.12593747,3.5375 6.12593747,3.46875 L6.12593747,3.46875 L6.12593747,2.59375 C6.12593747,2.525 6.18218747,2.46875 6.25093747,2.46875 L6.25093747,2.46875 Z" id="形状结合"></path>\n                </g>\n            </g>\n        </g>\n    </g>q\n</g>\n</svg>',rN='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1590389330617" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19656" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M512 64c-247.4 0-448 200.6-448 448s200.6 448 448 448 448-200.6 448-448-200.6-448-448-448z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" fill="" p-id="19657"></path><path d="M464 336c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48-48 21.5-48 48zM536 448h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-272c0-4.4-3.6-8-8-8z" fill="" p-id="19658"></path></svg>',iN='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="23px" height="12px" viewBox="0 0 23 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>编组 8备份 3</title>\n    <g id="----隐藏列标注！" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="隐藏列标注" transform="translate(-275.000000, -824.000000)">\n            <rect fill="#FFFFFF" x="0" y="0" width="1333" height="1167"></rect>\n            <g id="编组-8备份-3" transform="translate(275.000000, 824.000000)">\n                <rect id="矩形" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="0.5" y="0.5" width="11" height="11"></rect>\n                <rect id="矩形备份-9" stroke-opacity="0.25" stroke="#000000" fill="#F7F7F7" x="11.5" y="0.5" width="11" height="11"></rect>\n                <g id="7.Icon/arrow/15.down/fill" transform="translate(6.000000, 6.000000) rotate(90.000000) translate(-6.000000, -6.000000) " fill="#000000" fill-rule="nonzero" opacity="0.65">\n                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>\n                </g>\n                <g id="7.Icon/arrow/15.down/fill" transform="translate(17.000000, 6.000000) rotate(270.000000) translate(-17.000000, -6.000000) translate(11.000000, 0.000000)" fill="#000000" fill-rule="nonzero" opacity="0.65">\n                    <path d="M7.25020811,6.37218077 L4.91348936,8.20968077 C4.82677061,8.27764952 4.69903624,8.21671202 4.69903624,8.10655577 L4.69903624,4.43272764 C4.69903624,4.32257139 4.82677061,4.26046202 4.91348936,4.32960264 L7.25020811,6.16593077 C7.31700499,6.21866514 7.31700499,6.31944639 7.25020811,6.37218077 Z" id="fill" transform="translate(5.999671, 6.269385) rotate(90.000000) translate(-5.999671, -6.269385) "></path>\n                </g>\n            </g>\n            <line x1="286.5" y1="813" x2="286.5" y2="864.5" id="路径-2备份-3" stroke="#000000" opacity="0.25"></line>\n        </g>\n    </g>\n</svg>',oN='<svg t="1557140120188" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\nxmlns="http://www.w3.org/2000/svg" p-id="16909" xmlns:xlink="http://www.w3.org/1999/xlink"\nwidth="200" height="200">\n\t<defs>\n\t\t<style type="text/css">\n\t\t</style>\n\t</defs>\n\t<path d="M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"\n\tp-id="16910">\n\t</path>\n\t<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"\n\tp-id="16911">\n\t</path>\n</svg>',aN='<svg t="1557140186692" class="icon" style="" viewBox="0 0 1024 1024" version="1.1"\nxmlns="http://www.w3.org/2000/svg" p-id="17025" xmlns:xlink="http://www.w3.org/1999/xlink"\nwidth="200" height="200">\n\t<defs>\n\t\t<style type="text/css">\n\t\t</style>\n\t</defs>\n\t<path d="M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"\n\tp-id="17026">\n\t</path>\n\t<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"\n\tp-id="17027">\n\t</path>\n</svg>',sN='<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\n     p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"\n    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>\n</svg>\n',lN='<svg t="1565940955886" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\n     p-id="17472" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    fill-opacity="0.45"\n    d="M948 392.992l-403.008 488.99200001Q532 896 512.992 896t-32-14.016L76 392.992q-18.016-20.992-7.008-46.016T108 321.98400001L916 321.98400001q28 0 39.008 24.99199999T948 392.992z"\n    p-id="17473" data-spm-anchor-id="a313x.7781069.0.i2" class="selected"></path>\n</svg>\n',cN='<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\np-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n<defs>\n<style type="text/css"></style>\n</defs>\n<path\nd="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"\np-id="17621"></path>\n</svg>\n',uN='<svg t="1565940979768" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"\n     p-id="17620" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200">\n  <defs>\n    <style type="text/css"></style>\n  </defs>\n  <path\n    fill-opacity="0.45"\n    d="M76 631.008l403.008-488.99200001Q492 128 511.008 128t32 14.016L948 631.008q18.016 20.992 7.008 46.016T916 702.01599999L108 702.01599999q-28 0-39.008-24.99199999T76 631.008z"\n    p-id="17621"></path>\n</svg>\n',hN='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1596433821690" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20229" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><style type="text/css"></style></defs><path d="M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM305.8 637.7c3.1 3.1 8.1 3.1 11.3 0l138.3-137.6L583 628.5c3.1 3.1 8.2 3.1 11.3 0l275.4-275.3c3.1-3.1 3.1-8.2 0-11.3l-39.6-39.6c-3.1-3.1-8.2-3.1-11.3 0l-230 229.9L461.4 404c-3.1-3.1-8.2-3.1-11.3 0L266.3 586.7c-3.1 3.1-3.1 8.2 0 11.3l39.5 39.7z" p-id="20230"></path></svg>',fN='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1608030723688" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21482" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M547.648 696a32 32 0 0 1 31.488 26.24l0.512 5.76v151.68l145.216-144.512a32 32 0 0 1 40.832-3.648l4.416 3.712a32 32 0 0 1 3.584 40.832l-3.712 4.48-203.072 202.24a32 32 0 0 1-40.768 3.648l-4.416-3.712-202.24-202.24a32 32 0 0 1 40.832-48.96l4.416 3.712 150.912 150.912v-158.144a32 32 0 0 1 32-32z m194.56-529.28l4.928 3.072 233.792 180.224a32 32 0 0 1 1.728 49.28l-4.864 3.52-409.792 245.568a32 32 0 0 1-27.328 2.624l-5.184-2.432-422.4-245.568a32 32 0 0 1-7.552-49.28l4.544-4.032 242.816-180.288a32 32 0 0 1 42.432 47.552l-4.288 3.84-203.84 151.296 364.16 211.648 353.28-211.712-196.608-151.552a32 32 0 0 1-8.896-40l3.136-4.864a32 32 0 0 1 40-8.96zM547.712 28.672a32 32 0 0 1 31.488 26.24l0.512 5.76v396.992a32 32 0 0 1-63.488 5.76l-0.512-5.76V60.736a32 32 0 0 1 32-32z" p-id="21483" fill="currentColor"></path></svg>\n',dN='<svg viewBox="64 64 896 896" focusable="false" data-icon="eye" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"></path></svg>',pN=Object.freeze({__proto__:null,ArrowDown:XI,ArrowUp:qI,CellDown:KI,CellUp:ZI,GlobalAsc:QI,GlobalDesc:JI,GroupAsc:tN,GroupDesc:eN,GroupNone:nN,Minus:oN,Plus:aN,SortDown:lN,SortUp:uN,SortDownSelected:sN,SortUpSelected:cN,InfoCircle:rN,ExpandColIcon:iN,Trend:hN,DrillDownIcon:fN,EyeOutlined:dN}),vN={},gN=function(t,e){vN[LE(t)]=e},yN=function(t){return vN[LE(t)]};ip(pN).forEach((function(t){gN(t,pN[t])}));var mN,bN,xN,wN="<svg",ON="data:image/svg+xml",CN={},SN=function(t){function e(e){var n=t.call(this,e)||this;return n.isOnlineLink=function(t){return/^(https?:)?(\/\/)/.test(t)},n.render(),n}return Jl(e,t),e.prototype.getImage=function(t,e,n){var r=this;return new Promise((function(i,o){var a=yN(t);if(a){var s=new Image;s.onload=function(){CN[e]=s,i(s)},s.onerror=o,a.includes(ON)||r.isOnlineLink(a)?s.src=a:(n&&(a=a.replace(/fill=[\'\"]#?\w+[\'\"]/g,""),a=a.replace(/fill>/g,">")),a=a.replace(wN,"".concat(wN,' fill="').concat(n,'"')),s.src="".concat(ON,";utf-8,").concat(encodeURIComponent(a)))}}))},e.prototype.render=function(){var t=this.cfg,n=t.name,r=t.fill,i=wx(this.cfg),o=tc(tc({},MM(i,"fill")),{type:e.type}),a=new Na({attrs:o});this.iconImageShape=a,this.setImageAttrs({name:n,fill:r})},e.prototype.setImageAttrs=function(t){var e=this,n=t.name,r=t.fill,i=this.iconImageShape;n=n||i.attrs.name,r=r||i.attrs.fill;var o="".concat(n,"-").concat(r),a=CN[o];a?(i.attr("img",a),this.addShape("image",i)):this.getImage(n,o,r).then((function(t){e.destroyed||(i.attr("img",t),e.addShape("image",i))})).catch((function(t){console.error("GuiIcon ".concat(n," load failed"),t)}))},e.type="__GUI_ICON__",e}(_a);(function(t){t["TOP"]="TOP",t["BOTTOM"]="BOTTOM",t["LEFT"]="LEFT",t["RIGHT"]="RIGHT"})(mN||(mN={})),function(t){t["SUM"]="SUM",t["MIN"]="MIN",t["MAX"]="MAX",t["AVG"]="AVG"}(bN||(bN={})),function(t){t["Row"]="row",t["Col"]="col",t["Series"]="series"}(xN||(xN={}));var _N=function(){function t(){this.store=new Map}return t.prototype.set=function(t,e){return this.store.set(t,e)},t.prototype.get=function(t,e){var n,r=this.store.get(t);return null!==(n=r)&&void 0!==n?n:e},t.prototype.clear=function(){this.store.clear()},t.prototype.size=function(){return this.store.size},t}(),EN=function(t,e,n){return t.sort((function(t,r){n&&(t=n(t),r=n(r));var i=e.indexOf(t),o=e.indexOf(r);return-1===i&&-1===o?0:-1===i?1:-1===o?-1:i-o}))},MN=function(t){return IC(t,(function(t){return!fE(t)&&"undefined"!==t}))},kN=function(t){var e;return null===(e=ip(t))||void 0===e?void 0:e.reduce((function(e,n){var r=vv(t,n);return Array.isArray(r)?e=e.concat(kN(r)):null===e||void 0===e||e.push(r),e}),[])},TN=function(t){var e=[];if(Array.isArray(t)){var n="undefined"in t,r=t.length+(n?1:0),i=0,o=function(){var n=i===t.length?t["undefined"]:t[i];i++,n&&"undefined"in n?ip(n).forEach((function(t){e.push(n[t])})):Array.isArray(n)?e.push.apply(e,ic([],rc(n),!1)):e.push(n)};while(i<r)o()}else e.push(t);return e},AN=function(t){return null===t||void 0===t?void 0:t.every((function(t){return fE(t)}))},LN=function(t,e){var n=[];return null===t||void 0===t||t.forEach((function(t,r){void 0===t&&e[r]&&n.push(e[r])})),n},PN=function(t,e){var n;return null===(n=null===t||void 0===t?void 0:t.filter((function(t){return!(null===e||void 0===e?void 0:e.includes(t))})))||void 0===n?void 0:n.concat(e)},RN=function(t,e){return!kC(t,(function(t){return e[t]}))};function IN(t,e){var n=e.rows,r=e.columns;return _T(t,(function(t,e){return RN([].concat(n).concat(r),e)&&t.push(e),t}),[])}function NN(t,e){var n=t.isRowTotal,r=t.isRowSubTotal,i=t.isColTotal,o=t.isColSubTotal,a=e||{},s=a.row,l=a.col,c=s||{},u=c.calcTotals,h=void 0===u?{}:u,f=c.calcSubTotals,d=void 0===f?{}:f,p=l||{},v=p.calcTotals,g=void 0===v?{}:v,y=p.calcSubTotals,m=void 0===y?{}:y,b=function(t,e){if((t.aggregation||t.calcFunc)&&e)return{aggregation:t.aggregation,calcFunc:t.calcFunc}};return b(g,i)||b(m,o)||b(h,n)||b(d,r)}"KMBTP".split("");var jN=function(t){return Number.parseFloat((qc(t)||0).toPrecision(hl))},BN=function(t,e,n){if(void 0===n&&(n=0),!Object.values(t).find((function(t){return t>0})))return t;var r=tc({},t);r.frozenColCount>=e&&(r.frozenColCount=e);var i=e-r.frozenColCount;r.frozenTrailingColCount>i&&(r.frozenTrailingColCount=i),r.frozenRowCount>=n&&(r.frozenRowCount=n);var o=n-r.frozenRowCount;return r.frozenTrailingRowCount>o&&(r.frozenTrailingRowCount=o),r};function DN(t,e,n){var r;return null===(r=null===t||void 0===t?void 0:t.addShape)||void 0===r?void 0:r.call(t,"rect",tc({zIndex:1,attrs:e},n||{}))}function FN(t,e){var n;return null===(n=null===t||void 0===t?void 0:t.addShape)||void 0===n?void 0:n.call(t,"polygon",{attrs:e})}function zN(t,e){var n;return null===(n=null===t||void 0===t?void 0:t.addShape)||void 0===n?void 0:n.call(t,"polyline",{attrs:e})}function WN(t,e){var n;return null===(n=null===t||void 0===t?void 0:t.addShape)||void 0===n?void 0:n.call(t,"circle",{attrs:e})}function HN(t,e,n,r,i,o,a,s){var l;return!H_(e)&&t&&JO(e,(function(e){t.contain(e)&&t.removeChild(e,!0)})),null===(l=null===t||void 0===t?void 0:t.addShape)||void 0===l?void 0:l.call(t,"text",{attrs:tc(tc({x:n,y:r,text:i,originalText:s},o),a)})}function $N(t,e,n){var r;return null===(r=null===t||void 0===t?void 0:t.addShape)||void 0===r?void 0:r.call(t,"line",{zIndex:100,attrs:tc(tc({},e),n)})}function GN(t,e,n){if(!H_(t)){var r=Lc(t)?t:[t];r.forEach((function(t){UT(t,"attrs.".concat(e),n)}))}}function VN(t,e){var n=new SN(e);return null===t||void 0===t||t.add(n),n}function YN(t,e,n,r,i){var o=new SN(tc(tc({name:r?"Plus":"Minus"},e),{fill:n}));return su(i)&&o.on("click",i),null===t||void 0===t||t.add(o),o}var UN,XN="s2-offscreen-canvas",qN=function(){var t=document.getElementById(XN);return t||(t=document.createElement("canvas"),t.id=XN,t.style.display="none",document.body.appendChild(t),t)},KN=function(){var t;null===(t=document.getElementById(XN))||void 0===t||t.remove()},ZN=function(t){var e;return null!==(e=null===t||void 0===t?void 0:t.position)&&void 0!==e?e:"right"},QN=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),t=jN(t),e=jN(e);var n=t>=0,r=e>=0&&t<=0,i=n?t:e,o=r?0:i,a=e-t;return function(e){var i=n?0:1,s=r?rm(Math.abs(0-t)/a,0,1):i,l=rm((e-o)/a,-1,1);return{zeroScale:s,scale:l}}},JN=function(t,e){var n,r,i,o=t.data,a=t.encode,s=t.type,l=e.getMeta(),c=l.x,u=l.y,h=l.height,f=l.width,d=e.getStyle(Ml.DATA_CELL),p=d.cell,v=d.miniChart,g=[],y=KC(o,(function(t){return g.push(null===t||void 0===t?void 0:t[a.y]),{x:t[a.x],y:t[a.y]}})),m=YE(g),b=oM(g),x=m-b,w=c+p.padding.left,O=c+f-p.padding.right,C=u+p.padding.top,S=u+h-p.padding.bottom,_=S-C,E=s===ws.Bar?(O-w-(g.length-1)*(null===(n=null===v||void 0===v?void 0:v.bar)||void 0===n?void 0:n.intervalPadding))/g.length+(null===(r=null===v||void 0===v?void 0:v.bar)||void 0===r?void 0:r.intervalPadding):null!==(i=(O-w)/(g.length-1))&&void 0!==i?i:0,M=[],k=KC(y,(function(t,e){var n,r,i=w+e*E;if(r=0!==x?S-((null===t||void 0===t?void 0:t.y)-b)/x*_:b>0?C:S,s===ws.Bar){var o=void 0,a=void 0;b<0&&m>0&&0!==x?(o=S-(0-b)/x*_,a=Math.abs(r-o),(null===t||void 0===t?void 0:t.y)<0&&(r=o)):(o=b<0?C:S,x=YE([Math.abs(m),Math.abs(b)]),a=0===x?_:Math.abs((null===t||void 0===t?void 0:t.y)-0)/x*_,r=o);var l=E-(null===(n=null===v||void 0===v?void 0:v.bar)||void 0===n?void 0:n.intervalPadding);M.push([l,a])}return[i,r]}));return{points:k,box:M}},tj=function(t,e){if(!H_(null===t||void 0===t?void 0:t.data)&&!H_(e)){var n=e.getStyle(Ml.DATA_CELL),r=n.miniChart,i=r.line,o=i.point,a=i.linkLine,s=JN(t,e).points;zN(e,{points:s,stroke:a.fill,lineWidth:a.size,opacity:a.opacity});for(var l=0;l<s.length;l++)WN(e,{x:s[l][0],y:s[l][1],r:o.size,fill:o.fill,fillOpacity:o.opacity})}},ej=function(t,e){if(!H_(null===t||void 0===t?void 0:t.data)&&!H_(e))for(var n=e.getStyle(Ml.DATA_CELL),r=n.miniChart,i=r.bar,o=JN(t,e),a=o.points,s=o.box,l=0;l<a.length;l++)DN(e,{x:a[l][0],y:a[l][1],width:s[l][0],height:s[l][1],fill:i.fill,fillOpacity:i.opacity})},nj=function(t,e,n){var r=Number(e)-Number(t);return Number.isNaN(r)||Number(t)<0?n.bad:r<=.1?n.good:r>.1&&r<=.2?n.satisfactory:n.bad},rj=function(t,e){var n,r;void 0===e&&(e={min:0,max:0});var i=Number(t);if(Number.isNaN(i))return t;var o=null!==(n=null===e||void 0===e?void 0:e.min)&&void 0!==n?n:e,a=null!==(r=null===e||void 0===e?void 0:e.max)&&void 0!==r?r:e,s=new Intl.NumberFormat("en-US",{minimumFractionDigits:o,maximumFractionDigits:a,useGrouping:!1,style:"percent"});return s.format(i)},ij=function(t){var e,n,r,i,o,a;if(!H_(t)){var s=t.getCellArea(),l=s.x,c=s.y,u=s.height,h=s.width,f=t.findFieldCondition(null===(e=t.cellConditions)||void 0===e?void 0:e.interval);if(f&&f.mapping){var d=t.mappingValue(f);if(!d)return;var p=d.isCompare?d:t.valueRangeByField,v=jN(p.minValue),g=jN(p.maxValue),y=rE(null===d||void 0===d?void 0:d.fieldValue)?jN(t.getMeta().fieldValue):jN(null===d||void 0===d?void 0:d.fieldValue);if(y<v||y>g)return;var m=null!==(r=null===(n=t.getStyle().miniChart.interval)||void 0===n?void 0:n.height)&&void 0!==r?r:t.getStyle().cell.miniBarChartHeight,b=null!==(o=null===(i=t.getStyle().miniChart.interval)||void 0===i?void 0:i.fill)&&void 0!==o?o:t.getStyle().cell.miniBarChartFillColor,x=QN(v,g),w=x(y),O=w.zeroScale,C=w.scale,S=null!==(a=d.fill)&&void 0!==a?a:b;return DN(t,{x:l+h*O,y:c+u/2-m/2,width:h*C,height:m,fill:S})}}},oj=function(t,e){var n,r=e.getStyle(Ml.DATA_CELL),i=e.getMeta(),o=i.x,a=i.y,s=i.height,l=i.width,c=i.spreadsheet;if(H_(t))HN(e,[],o+l-r.cell.padding.right,a+s/2,Oj(e,c.options.placeholder),r.text);else{var u=r.miniChart.bullet,h=u.progressBar,f=u.comparativeMeasure,d=u.rangeColors,p=u.backgroundColor,v=t.measure,g=t.target,y=Math.max(Number(v),0),m=Math.max(Number(g),0),b=rj(v,2),x=(null===h||void 0===h?void 0:h.widthPercent)>1?(null===h||void 0===h?void 0:h.widthPercent)/100:null===h||void 0===h?void 0:h.widthPercent,w=r.cell.padding,O=l-w.left-w.right,C=x*O,S=O-C,_=o+l-w.right-C,E=a+s/2-h.height/2;DN(e,{x:_,y:E,width:C,height:h.height,fill:p,textBaseline:r.text.textBaseline});var M=vv(e.getMeta(),"spreadsheet.options.bullet.getRangeColor"),k=Math.max(Math.min(C*y,C),0);DN(e,{x:_,y:E+(h.height-h.innerHeight)/2,width:k,height:h.innerHeight,fill:null!==(n=null===M||void 0===M?void 0:M(y,m))&&void 0!==n?n:nj(y,m,d)});var T=_+C*m;$N(e,{x1:T,y1:a+(s-f.height)/2,x2:T,y2:a+(s-f.height)/2+f.height},{stroke:(null===f||void 0===f?void 0:f.fill)||(null===f||void 0===f?void 0:f.color),lineWidth:f.width,opacity:null===f||void 0===f?void 0:f.opacity}),HN(e,[],_-w.right,a+s/2,mj({measureTextWidth:c.measureTextWidth,text:b,maxWidth:S-w.right,fontParam:r.text}),r.text)}},aj=function(t,e){switch(null===e||void 0===e?void 0:e.type){case ws.Line:tj(e,t);break;case ws.Bar:ej(e,t);break;default:oj(e,t);break}},sj=function(t,e){var n=t.x,r=t.y,i=t.width,o=t.height,a=i-(null===e||void 0===e?void 0:e.left)-(null===e||void 0===e?void 0:e.right),s=o-(null===e||void 0===e?void 0:e.top)-(null===e||void 0===e?void 0:e.bottom);return{x:n+(null===e||void 0===e?void 0:e.left),y:r+(null===e||void 0===e?void 0:e.top),width:a,height:s}},lj=function(t){return tM({size:0,position:"right",margin:{left:0,right:0}},t)},cj=function(t,e){return e=lj(e),t-e.size-e.margin.right-e.margin.left},uj=function(t,e,n){var r=t.y,i=t.height;void 0===n&&(n=0);var o=0;switch(e){case"top":o=r;break;case"middle":o=r+i/2-n/2;break;default:o=r+i-n;break}return o},hj=function(t,e,n,r,i){void 0===n&&(n=0),void 0===i&&(i=1);var o,a,s=t.x,l=t.width,c=e.textAlign,u=e.textBaseline,h=lj(r),f=h.size,d=h.margin,p=h.position,v=i*(f+d.left)+(i?d.right:0);switch(c){case"left":o=s+("left"===p?v:0),a=s+("left"===p?d.left:n+d.left);break;case"center":var g=v-("left"===p?d.left:d.right)+n,y=s+l/2-g/2;o=y+n/2+("left"===p?v-d.left:0),a=y+("left"===p?0:n+d.left);break;default:o=s+l-("right"===p?v:0),a=s+l-("right"===p?v-d.left:n+v-d.left);break}var m=uj(t,u,0),b=uj(t,u,f);return{text:{x:o,y:m},icon:{x:a,y:b}}},fj=function(t,e){return hj(t,e).text},dj=function(t,e,n){var r,i,o=e.start+e.width,a=t.start+t.width;if(e.start<=t.start&&o>=a)r=t.start+t.width/2,i=t.width;else if(e.start<=t.start){var s=e.width-(t.start-e.start);r=s<n?o-n/2:o-s/2,i=s}else if(o>=a){s=e.width-(o-a);r=s<n?e.start+n/2:e.start+s/2,i=s}else r=e.start+e.width/2,i=e.width;return{start:r,width:i}},pj=function(t,e,n){var r,i,o,a,s,l=e.x,c=e.y,u=e.width,h=e.height,f=n.horizontalBorderWidth,d=n.horizontalBorderColorOpacity,p=n.horizontalBorderColor,v=n.verticalBorderWidth,g=n.verticalBorderColor,y=n.verticalBorderColorOpacity;if(t===mN.TOP||t===mN.BOTTOM){var m=c;m=t===mN.TOP?c+v/2:c+h-v/2,i=m,a=m,r=l,o=l+u,s={lineWidth:f,stroke:p,strokeOpacity:d}}if(t===mN.LEFT||t===mN.RIGHT){var b=l;b=t===mN.LEFT?l+f/2:l+u-f/2,r=b,o=b,i=c,a=c+h,s={lineWidth:v,stroke:g,strokeOpacity:y}}return{position:{x1:r,x2:o,y1:i,y2:a},style:s}},vj=function(t,e,n){void 0===n&&(n={left:0,right:0});var r=tc({},t);return"left"===e?(r.start+=n.left,r.width-=n.left):"right"===e&&(r.width-=n.right),r},gj=function(t,e,n,r){var i=e+n,o=t.start;if("center"===r)return o-n/2;var a=t.width-i>0,s=a?t.width/2:i/2;return"left"===r?o-s:o+s-n},yj=(rv((function(t,e){if(void 0===t&&(t=""),!e)return 0;var n=qN().getContext("2d"),r=e,i=r.fontSize,o=r.fontFamily,a=r.fontWeight,s=r.fontStyle,l=r.fontVariant;return n.font=[s,l,a,"".concat(i,"px"),o].join(" ").trim(),n.measureText("".concat(t)).width}),(function(t,e){return ic([t],rc(US(e)),!1).join("")})),function(t,e,n,r){var i,o=16,a=t(ml,r);i=VS(e)?e:uv(e);var s,l,c=n,u=[];if(t(e,r)<=n)return e;var h=!0;while(h){if(s=i.substr(0,o),l=t(s,r),l+a>c&&l>c){h=!1;break}if(u.push(s),c-=l,i=i.substr(o),!i)return u.join("")}var f=!0;while(f){if(s=i.substr(0,1),l=t(s,r),l+a>c){f=!1;break}if(u.push(s),c-=l,i=i.substr(1),!i)return u.join("")}return"".concat(u.join(""),"...")}),mj=function(t){var e=t.measureTextWidth,n=t.text,r=t.maxWidth,i=t.fontParam,o=t.priorityParam,a=t.placeholder,s={},l=null!==a&&void 0!==a?a:ll,c=rE(n)||""===n?l:"".concat(n),u=o;if(i&&Lc(i)?u=i:s=i||{},!u||!u.length)return yj(e,c,r,s);var h=[],f=[c];u.forEach((function(t){f.forEach((function(e,n){var r=-1,i=e.match(new RegExp(t));if(i){var o=i[0];r=i.index,h.push(o);var a=r+o.length,s=e.slice(0,r),l=e.slice(a),c=[s,l].filter((function(t){return!!t}));f.splice.apply(f,ic([n,1],rc(c),!1))}}))})),f=h.concat(f);var d=c,p=e(ml,s),v=r;return f.forEach((function(t){if(v<=0){var n=d.indexOf(t),r=d.slice(n-3,n);if(r&&r!==ml){var i=e(t,s);d=d.replace(t,i>p?ml:t)}else d=d.replace(t,"");v-=p}else{i=e(t,s);if(v<i&&i>p){var o=yj(e,t,v,s);d=d.replace(t,o),v=0}else v-=i}})),d},bj=function(t,e,n,r){void 0===r&&(r="left");var i=e.right,o=e.left,a=n||0;return"left"===r?t+i/2+a:"right"===r?t-i/2-a:t+o/2+a},xj=function(t){var e,n,r,i=t.getMeta().isTotals,o=null===(n=(e=t).isMeasureField)||void 0===n?void 0:n.call(e),a=t.getStyle(o?Ml.COL_CELL:Ml.DATA_CELL);return r=o?a.measureText:i?a.bolderText:a.text,{cellStyle:a,textStyle:r}},wj=function(t){var e=t.rowIndex,n=t.colIndex,r=t.meta,i=t.data,o=t.textStyle,a=t.textCondition,s=o.fill;return(null===a||void 0===a?void 0:a.mapping)&&(s=null===a||void 0===a?void 0:a.mapping(i,{rowIndex:e,colIndex:n,meta:r}).fill),tc(tc({},o),{fill:s})},Oj=function(t,e){return su(e)?e(t):e},Cj=function(t,e,n){for(var r,i,o,a=t.x,s=t.y,l=t.width,c=t.height,u=c/tA(e),h=[],f=0,d=KC(n,(function(t){return t>1?t/100:t})),p=0;p<tA(e);p++){i=s+u*p;var v=[];r=a,f=0;for(var g=0;g<tA(e[p]);g++)o=H_(d)?l/tA(e[0]):l*d[g],r=bj(a,{left:0,right:0},f,"left"),f+=o,v.push({x:r,y:i,width:o,height:u});h.push(v)}return h},Sj=function(t,e,n){var r,i,o,a;void 0===n&&(n=!0);var s=t.getContentArea(),l=s.x,c=s.y,u=s.height,h=s.width,f=e||t.getMeta().fieldValue,d=f.values,p=t.getMeta().spreadsheet,v=p.options,g=p.measureTextWidth,y=v.style.cellCfg.valuesCfg,m=null===(i=null===(r=null===v||void 0===v?void 0:v.conditions)||void 0===r?void 0:r.text)||void 0===i?void 0:i[0],b=null===(a=null===(o=null===v||void 0===v?void 0:v.conditions)||void 0===o?void 0:o.icon)||void 0===a?void 0:a[0];if(Lc(d)){var x=null===y||void 0===y?void 0:y.widthPercent,w=0;if(null===f||void 0===f?void 0:f.label){var O=t.getStyle(Ml.DATA_CELL),C=O.bolderText;w=u/(d.length+1);var S=HN(t,[],l,c+w/2,mj({measureTextWidth:g,text:f.label,maxWidth:h,fontParam:C}),C);t.addTextShape(S)}for(var _,E=xj(t),M=E.cellStyle,k=E.textStyle,T=null===M||void 0===M?void 0:M.icon,A=b&&b.mapping&&{size:null===T||void 0===T?void 0:T.size,margin:null===T||void 0===T?void 0:T.margin,position:null===b||void 0===b?void 0:b.position},L=Cj({x:l,y:c+w,height:u-w,width:h},d,x),P=0;P<d.length;P++)for(var R=wx(d[P]),I=0;I<R.length;I++){_=R[I];var N=n?wj({rowIndex:P,colIndex:I,meta:null===t||void 0===t?void 0:t.getMeta(),data:_,textStyle:k,textCondition:m}):k,j=(null===t||void 0===t?void 0:t.getMeta().spreadsheet.options).placeholder,B=Oj(null===t||void 0===t?void 0:t.getMeta(),j),D=cj(L[P][I].width,T),F=mj({measureTextWidth:g,text:_,maxWidth:D,fontParam:N,placeholder:B}),z=g(F,k),W=hj(L[P][I],k,z,A,b?1:0);S=HN(t,[],W.text.x,W.text.y,F,N,{},null===_||void 0===_?void 0:_.toString());if(t.addTextShape(S),b&&n){var H=null===b||void 0===b?void 0:b.mapping(_,{rowIndex:P,colIndex:I,meta:null===t||void 0===t?void 0:t.getMeta()});if(H){var $=VN(t,tc(tc({},W.icon),{name:H.icon,width:null===T||void 0===T?void 0:T.size,height:null===T||void 0===T?void 0:T.size,fill:H.fill}));t.addConditionIconShape($)}}}}else aj(t,d)},_j=function(t,e){return void 0===e&&(e=1),(null===t||void 0===t?void 0:t.width)*e},Ej=function(t){try{return JSON.parse(t)}catch(e){return null}};function Mj(t,e){return!(!t||!e)&&String(t).toLowerCase()===String(e).toLowerCase()}var kj,Tj="\r\n",Aj="\t",Lj=function(t,e){var n=t.getColumnNodes().find((function(t){return t.id===e}));return t.isPivotMode()?null===n||void 0===n?void 0:n.value:null===n||void 0===n?void 0:n.field},Pj=function(t,e){var n=e.getColumnNodes().find((function(e){return e.colIndex===t}));return Lj(e,n.id)},Rj=function(t,e){var n=t.rowIndex,r=t.colIndex;return[e.getRowNodes().find((function(t){return t.rowIndex===n})),e.getColumnNodes().find((function(t){return t.colIndex===r}))]},Ij=function(t,e){var n=e.getColumnNodes().find((function(e){return e.colIndex===t})),r=Lj(e,n.id);return e.options.interaction.copyWithFormat?e.dataSet.getFieldFormatter(r):function(t){return t}},Nj=function(t){var e,n,r,i,o=(null===(i=null===(r=null===(n=t.options)||void 0===n?void 0:n.style)||void 0===r?void 0:r.colCfg)||void 0===i?void 0:i.hideMeasureColumn)&&t.isValueInCols();return o?(e={},e[Cs]=t.dataCfg.fields.values[0],e):{}},jj=function(t,e,n){var r,i;if(n.isPivotMode()){var o=rc(Rj(t,n),2),a=o[0],s=o[1],l=Nj(n),c=n.dataSet.getCellData({query:tc(tc(tc({},a.query),s.query),l),rowNode:a,isTotals:a.isTotals||a.isTotalMeasure||s.isTotals||s.isTotalMeasure});return null!==(r=null===c||void 0===c?void 0:c[Os])&&void 0!==r?r:""}var u=Pj(t.colIndex,n);return null===(i=e[t.rowIndex])||void 0===i?void 0:i[u]},Bj=function(t,e,n){var r=Ij(t.colIndex,n);return r(jj(t,e,n))},Dj=function(t){return/\n/.test(t)?'"'+t.replace(/\r\n?/g,"\n")+'"':t},Fj=function(t,e){var n=t.split(sl);return e?n.slice(n.length-e):(n.shift(),n)};(function(t){t["PLAIN"]="text/plain",t["HTML"]="text/html"})(kj||(kj={}));var zj=function(t){return{type:kj.PLAIN,content:KC(t,(function(t){return t.join(Aj)})).join(Tj)}},Wj=function(t){function e(t,e){return t.map((function(t){return"<".concat(e,">").concat(OC(t),"</").concat(e,">")})).join("")}function n(t,n){return t.map((function(t){return"<".concat(n,">").concat(e(t,"td"),"</").concat(n,">")})).join("")}return{type:kj.HTML,content:'<meta charset="utf-8"><table><tbody>'.concat(n(t,"tr"),"</tbody></table>")}},Hj=(UN={},UN[kj.PLAIN]=zj,UN[kj.HTML]=Wj,UN);function $j(t){return Hj[t]}function Gj(t,e){return void 0===e&&(e=kj.PLAIN),Array.isArray(e)?[].concat(t).filter((function(t){return e.includes(t.type)})).map((function(t){return t.content})):[].concat(t).filter((function(t){return(null===t||void 0===t?void 0:t.type)===e})).map((function(t){return t.content}))[0]||""}var Vj=function(t,e,n){var r,i,o,a,s,l,c=null!==(i=null===(r=t[0])||void 0===r?void 0:r.length)&&void 0!==i?i:0,u=null!==(o=null===e||void 0===e?void 0:e.length)&&void 0!==o?o:0,h=null!==(s=null===(a=n[0])||void 0===a?void 0:a.length)&&void 0!==s?s:0,f=null!==(l=n.length)&&void 0!==l?l:0,d=c+h,p=u+f,v=Array.from(Array(p),(function(){return new Array(d)}));return v=KC(v,(function(r,i){return KC(r,(function(r,o){return o>=0&&o<c&&i>=0&&i<u?"":o>=c&&o<=d&&i>=0&&i<u?e[i][o-c]:o>=0&&o<c&&i>=u&&i<p?t[i-u][o]:o>=c&&o<=d&&i>=u&&i<p?n[i-u][o-c]:void 0}))})),[$j(kj.PLAIN)(v),$j(kj.HTML)(v)]},Yj=function(t,e,n){var r=e.map((function(e){return e.map((function(e){return e?Dj(Bj(e,t,n)):""}))}));return[$j(kj.PLAIN)(r),$j(kj.HTML)(r)]},Uj=function(t){if(!(null===t||void 0===t?void 0:t.length))return[];var e=rc([{row:1/0,col:1/0},{row:0,col:0}],2),n=e[0],r=e[1];t.forEach((function(t){var e=t.rowIndex,i=t.colIndex;n.col=Math.min(i,n.col),n.row=Math.min(e,n.row),r.col=Math.max(i,r.col),r.row=Math.max(e,r.row)}));var i=rc([r.row-n.row+1,r.col-n.col+1],2),o=i[0],a=i[1],s=new Array(o).fill("").map((function(){return new Array(a).fill("")}));return t.forEach((function(t){var e=t.rowIndex,r=t.colIndex,i=rc([e-n.row,r-n.col],2),o=i[0],a=i[1];s[o][a]=t})),s},Xj=function(t,e){var n=t.dataSet.getDisplayDataSet(),r=e.length?e.map((function(e){return{field:Lj(t,e.id),formatter:Ij(e.colIndex,t)}})):t.dataCfg.fields.columns.map((function(e){return t.getColumnNodes().find((function(t){return t.field===e}))})).map((function(e){return{field:Lj(t,e.id),formatter:Ij(e.colIndex,t)}})),i=n.map((function(t){return r.map((function(e){var n=e.field,r=e.formatter;return Dj(r(t[n]))}))}));return[$j(kj.PLAIN)(i),$j(kj.HTML)(i)]},qj=function(t,e,n){return KC(t,(function(t){return e.map((function(e){var r,i=n.dataSet.getCellData({query:tc(tc({},t.query),e.query),rowNode:t,isTotals:t.isTotals||t.isTotalMeasure||e.isTotals||e.isTotalMeasure});return Ij(e.colIndex,n)(null!==(r=null===i||void 0===i?void 0:i[Os])&&void 0!==r?r:"")}))}))},Kj=function(t,e,n){var r=qj(e,n,t);return[$j(kj.PLAIN)(r),$j(kj.HTML)(r)]},Zj=function(t,e,n){var r=KC(e,(function(t){return Fj(t.id)})),i=jP.apply(void 0,ic([],rc(KC(n,(function(t){return Fj(t.id)}))),!1)),o=qj(e,n,t);return Vj(r,i,o)};function Qj(t,e,n){var r=t.options.interaction.copyWithHeader;return r?Zj(t,e,n):Kj(t,e,n)}var Jj=function(t,e){var n=t.getRowNodes().filter((function(e){return e.isLeaf||t.isHierarchyTreeType()})),r=t.getColumnNodes().filter((function(t){return t.isLeaf})),i=e.length?e.reduce((function(t,e){return t.push.apply(t,ic([],rc(r.filter((function(t){return t.id.startsWith(e.id)}))),!1)),t}),[]):r;return Qj(t,n,i)},tB=function(t,e,n){return e.isPivotMode()?Jj(e,n):Xj(e,n)},eB=function(t,e){var n=t.dataSet.getDisplayDataSet(),r=n.filter((function(t,n){return e.map((function(t){return t.rowIndex})).includes(n)})).map((function(e){return Object.keys(e).map((function(e){return t.getColumnNodes().find((function(t){return t.field===e}))})).filter(Boolean).map((function(n){return Dj(Ij(n.colIndex,t)(e[n.field]))}))}));return[$j(kj.PLAIN)(r),$j(kj.HTML)(r)]},nB=function(t,e){var n=t.getRowNodes().filter((function(e){return e.isLeaf||t.isHierarchyTreeType()})),r=t.getColumnNodes().filter((function(t){return t.isLeaf})),i=e.reduce((function(t,e){return t.push.apply(t,ic([],rc(n.filter((function(t){return t.id.startsWith(e.id)}))),!1)),t}),[]);return Qj(t,i,r)},rB=function(t,e,n){return e.isPivotMode()?nB(e,n):eB(e,n)};var iB=function(t,e,n){var r=jP.apply(void 0,ic([],rc(KC(t[0],(function(t){var e,n,r=null!==(n=null===(e=t.id.split(ll))||void 0===e?void 0:e[1])&&void 0!==n?n:"";return Fj(r)}))),!1)),i=KC(t,(function(t){var e,n,r=null!==(n=null===(e=t[0].id.split(ll))||void 0===e?void 0:e[0])&&void 0!==n?n:"";return Fj(r)})),o=KC(t,(function(t){return KC(t,(function(t){return Bj(t,e,n)}))}));return Vj(i,r,o)};function oB(t){var e=new Set;return JO(t,(function(t){var n=t.getMeta().level;e.has(n)||e.add(n)})),e}function aB(t,e){return IC(t,(function(t){var n=t.getMeta(),r=n.level===e,i=n.isTotals&&H_(n.children);return r||i}))}function sB(t,e,n){return KC(t,(function(t){var r=t.getMeta(),i=r.id,o=r.label,a=r.isTotals,s=r.level,l=i;a&&s!==e&&(l=i+sl+AT(o,e-s));var c=t.getActualText(),u=Fj(l,n.size),h=KC(u,(function(t){return $_(t,o)?c:t}));return h}))}function lB(t){var e,n=oB(t),r=null!==(e=YE(Array.from(n)))&&void 0!==e?e:0,i=aB(t,r),o=t[0].cellType===Ml.COL_CELL,a=sB(i,r,n);return o&&(a=jP.apply(void 0,ic([],rc(a),!1))),[$j(kj.PLAIN)(a),$j(kj.HTML)(a)]}var cB=function(t,e,n){return KC(e,(function(e){var r;return null!==(r=t[e])&&void 0!==r?r:n}))},uB=function(t,e){var n=t.options.placeholder,r=t.dataCfg.fields,i=r.rows,o=r.columns,a=r.values,s=Oj(t,n),l=t.getColumnLeafNodes(),c=[];if(t.isTableMode()){var u=IC(l,(function(t){return t.field!==Es}));c=KC(e,(function(t){return KC(u,(function(e){var n;return null!==(n=null===t||void 0===t?void 0:t[e.field])&&void 0!==n?n:s}))}))}else if(t.isPivotMode()){var h=ic(ic(ic([],rc(i),!1),rc(o),!1),rc(a),!1),f=kN(e),d=f.filter((function(t){return ic(ic([],rc(i),!1),rc(o),!1).every((function(e){return!rE(t[e])}))}));c=_T(d,(function(t,e){return ic(ic([],rc(t),!1),[cB(e,h,s)],!1)}),[])}return[$j(kj.PLAIN)(c),$j(kj.HTML)(c)]};function hB(t,e){var n,r,i=e.filter((function(t){var e=t.type;return e===Ml.COL_CELL})),o=e.filter((function(t){var e=t.type;return e===Ml.ROW_CELL})),a=t.dataSet.getDisplayDataSet();if(t.interaction.getCurrentStateName()===El.ALL_SELECTED)r=tB(a,t,[]);else if(i.length)r=tB(a,t,i);else if(o.length)r=rB(a,t,o);else{if(!e.length)return;var s=Uj(e),l=t.interaction.getSelectedCellHighlight().currentRow;if(l){var c=BM(e,"rowIndex","asc").map((function(e){return t.dataSet.getRowData(e)}));r=uB(t,c)}else r=(null===(n=t.options.interaction)||void 0===n?void 0:n.copyWithHeader)?iB(s,a,t):Yj(a,s,t)}return r}var fB=function(t){var e,n,r=t.interaction,i=r.getState().cells||[],o=null!==(e=r.getInteractedCells())&&void 0!==e?e:[],a=!H_(o)&&kC(o,(function(t){return t.cellType===Ml.ROW_CELL||t.cellType===Ml.COL_CELL}));return n=a?lB(o):hB(t,i),n&&vB(n),Gj(n,kj.PLAIN)};var dB=function(t){return new Promise((function(e,n){var r;r=Array.isArray(t)?vv(t.filter((function(t){return t.type===kj.PLAIN})),"[0].content",""):t.content||"";var i=document.createElement("textarea");i.value=r,document.body.appendChild(i),i.focus({preventScroll:!0}),i.select();var o=document.execCommand("copy");document.body.removeChild(i),o?e():n()}))},pB=function(t){return navigator.clipboard.write([new ClipboardItem([].concat(t).reduce((function(t,e){var n,r=e.type,i=e.content,o=i.replace(/\x00/g,"");return tc(tc({},t),(n={},n[r]=new Blob([o],{type:r}),n))}),{}))]).catch((function(){return dB(t)}))},vB=function(t,e){var n;return void 0===e&&(e=!1),n="string"===typeof t?{content:t,type:kj.PLAIN}:t,navigator.clipboard&&window.ClipboardItem&&!e?pB(n):dB(n)},gB=function(t,e,n){var r,i=t.split(sl);if(n)r=[t];else{r=[bI(i[0],i[1])];for(var o=2;o<i.length;o+=1)r.push(bI(r[o-2],i[o]))}var a=IC(e,(function(t){var e;return r.includes(null===(e=t.getMeta())||void 0===e?void 0:e.id)}));return a},yB=function(t,e,n){if(t){var r=gB(t,e);JO(r,(function(t){t.updateByState(n)}))}},mB=function(t,e){return"function"===typeof t?t(e):t.some((function(t){return t===e.key||t===e.id||t===e.valueField}))},bB=function(t){function e(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=t.call(this,{})||this;return o.textShapes=[],o.actualTextWidth=0,o.conditionIconShapes=[],o.stateShapes=new Map,o.meta=e,o.spreadsheet=n,o.theme=n.theme,o.conditions=o.spreadsheet.options.conditions,o.handleRestOptions.apply(o,ic([],rc(r),!1)),o.shouldInit()&&o.initCell(),o}return Jl(e,t),e.prototype.getMeta=function(){return this.meta},e.prototype.setMeta=function(t){this.meta=t},e.prototype.getIconStyle=function(){return this.theme[this.cellType].icon},e.prototype.getTextAndIconPosition=function(t){void 0===t&&(t=1);var e=this.getTextStyle(),n=this.getIconStyle();return hj(this.getContentArea(),e,this.actualTextWidth,n,t)},e.prototype.getActualText=function(){return this.actualText},e.prototype.getFieldValue=function(){return this.getFormattedFieldValue().formattedValue},e.prototype.handleRestOptions=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.shouldInit=function(){var t=this.meta,e=t.width,n=t.height;return e>0&&n>0},e.prototype.getStyle=function(t){return vv(this.theme,t||this.cellType)},e.prototype.getResizeAreaStyle=function(){return this.getStyle("resizeArea")},e.prototype.shouldDrawResizeAreaByType=function(t,e){var n=this.spreadsheet.options.interaction.resize;return L_(n)?n:su(n.visible)?n.visible(e):n[t]},e.prototype.getCellArea=function(){var t=this.meta,e=t.x,n=t.y,r=t.height,i=t.width;return{x:e,y:n,height:r,width:i}},e.prototype.getContentArea=function(){var t=this.getStyle()||this.theme.dataCell,e=(null===t||void 0===t?void 0:t.cell).padding;return sj(this.getCellArea(),e)},e.prototype.getIconPosition=function(t){return void 0===t&&(t=1),this.getTextAndIconPosition(t).icon},e.prototype.drawTextShape=function(){var t=this.getFormattedFieldValue().formattedValue,e=this.getMaxTextWidth(),n=this.getTextStyle(),r=this.spreadsheet,i=r.options.placeholder,o=r.measureTextWidth,a=Oj(this,i),s=mj({measureTextWidth:o,text:t,maxWidth:e,fontParam:n,placeholder:a});this.actualText=s,this.actualTextWidth=o(s,n);var l=this.getTextPosition();this.textShape=HN(this,[this.textShape],l.x,l.y,s,n),this.textShapes.push(this.textShape)},e.prototype.drawLinkFieldShape=function(t,e){if(t){var n=this.spreadsheet.options.style.device;if(!nI(n)){var r=this.getTextStyle(),i=this.getTextPosition(),o=i.x;"center"===r.textAlign?o-=this.actualTextWidth/2:"right"===r.textAlign&&(o-=this.actualTextWidth);var a=this.textShape.getBBox().maxY;this.linkFieldShape=$N(this,{x1:o,y1:a+1,x2:o+this.actualTextWidth,y2:a+1},{stroke:e,lineWidth:1})}this.textShape.attr({fill:e,cursor:"pointer",appendInfo:{isLinkFieldText:!0,cellData:this.meta}})}},e.prototype.getLinkFieldStyle=function(){return this.getTextStyle().linkTextFill},e.prototype.drawLinkField=function(t){var e=this.spreadsheet.options.interaction.linkFields,n=void 0===e?[]:e,r=this.getLinkFieldStyle(),i=mB(n,t);this.drawLinkFieldShape(i,r)},e.prototype.updateByState=function(t,e){var n=this;this.spreadsheet.interaction.setInteractedCells(e);var r=vv(this.theme,"".concat(this.cellType,".cell.interactionState.").concat(t));JO(r,(function(t,e){var r=ip(AM(Nl,(function(t){return qS(t,e)})));r.forEach((function(r){var i=n.stateShapes.has(r),o=i?n.stateShapes.get(r):n[r],a=Lc(o)?o:[o];if(i&&a.forEach((function(t){t.set("visible",!0)})),"interactiveBorderShape"===r&&"borderWidth"===e&&Z_(t)){var s=n.getInteractiveBorderShapeStyle(t);JO(s,(function(t,e){GN(a,e,t)}))}GN(a,Il[e],t)}))}))},e.prototype.getInteractiveBorderShapeStyle=function(t){var e=this.getCellArea(),n=e.x,r=e.y,i=e.height,o=e.width,a=this.theme.dataCell.cell,s=a.horizontalBorderWidth,l=a.verticalBorderWidth;return{x:n+l/2+t/2,y:r+s/2+t/2,width:o-l-t,height:i-s-t}},e.prototype.hideInteractionShape=function(){this.stateShapes.forEach((function(t){GN(t,Il.backgroundOpacity,0),GN(t,Il.backgroundColor,"transparent"),GN(t,Il.borderOpacity,0),GN(t,Il.borderWidth,1),GN(t,Il.borderColor,"transparent")}))},e.prototype.clearUnselectedState=function(){GN(this.backgroundShape,Il.backgroundOpacity,1),GN(this.textShapes,Il.textOpacity,1),GN(this.linkFieldShape,Il.opacity,1)},e.prototype.getTextShape=function(){return this.textShape},e.prototype.getTextShapes=function(){return this.textShapes||[this.textShape]},e.prototype.addTextShape=function(t){t&&this.textShapes.push(t)},e.prototype.getConditionIconShape=function(){return this.conditionIconShape},e.prototype.getConditionIconShapes=function(){return this.conditionIconShapes||[this.conditionIconShape]},e.prototype.addConditionIconShape=function(t){t&&this.conditionIconShapes.push(t)},e.prototype.resetTextAndConditionIconShapes=function(){this.textShapes=[],this.conditionIconShapes=[]},Object.defineProperty(e.prototype,"cellConditions",{get:function(){return this.conditions},enumerable:!1,configurable:!0}),e.prototype.drawConditionIconShapes=function(){var t,e=this.findFieldCondition(null===(t=this.conditions)||void 0===t?void 0:t.icon);if(e&&e.mapping){var n=this.mappingValue(e),r=this.getIconPosition(),i=this.theme.dataCell.icon.size;H_(null===n||void 0===n?void 0:n.icon)||(this.conditionIconShape=VN(this,tc(tc({},r),{name:n.icon,width:i,height:i,fill:n.fill})),this.addConditionIconShape(this.conditionIconShape))}},e.prototype.getTextConditionFill=function(t){var e,n,r=t.fill,i=this.findFieldCondition(null===(e=this.conditions)||void 0===e?void 0:e.text);return(null===i||void 0===i?void 0:i.mapping)&&(r=(null===(n=this.mappingValue(i))||void 0===n?void 0:n.fill)||t.fill),r},e}(_a),xB=function(t,e){return e?e(t[Cs],t[Os]):t[Os]},wB=function(t,e){var n=e.getMeta().id;return t.some((function(t){return $_(t.id,n)}))},OB=function(t,e){return"".concat(t).concat(ll).concat(e)},CB=function(t){var e=t.interaction.getSelectedCellHighlight(),n=e.currentRow,r=e.currentCol,i=e.rowHeader,o=e.colHeader;return n||r||i||o},SB=function(t){return t.type===Ml.DATA_CELL},_B=function(t,e){JO(t,(function(t){SB(t)&&t.rowIndex===e.getMeta().rowIndex&&e.updateByState(El.SELECTED)}))},EB=function(t,e){JO(t,(function(t){SB(t)&&t.colIndex===e.getMeta().colIndex&&e.updateByState(El.SELECTED)}))},MB=function(t,e){JO(t,(function(t){SB(t)&&t.rowIndex===e.getMeta().rowIndex&&t.colIndex===e.getMeta().colIndex&&e.updateByState(El.SELECTED)}))},kB=function(t,e,n){var r=n.interaction.getSelectedCellHighlight(),i=r.rowHeader,o=r.colHeader,a=r.currentRow,s=r.currentCol,l=e.cellType===Ml.ROW_CELL,c=n.isTableMode()&&n.options.showSeriesNumber&&i&&l;(a||c)&&_B(t,e),s&&EB(t,e),(i||o)&&MB(t,e)},TB=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),Object.defineProperty(e.prototype,"cellType",{get:function(){return Ml.DATA_CELL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"valueRangeByField",{get:function(){return this.spreadsheet.dataSet.getValueRangeByField(this.meta.valueField)},enumerable:!1,configurable:!0}),e.prototype.handleByStateName=function(t,e){wB(t,this)&&this.updateByState(e)},e.prototype.handleSearchResult=function(t){if(wB(t,this)){var e=FC(t,(function(t){return null===t||void 0===t?void 0:t.isTarget}));e.id===this.getMeta().id?this.updateByState(El.HIGHLIGHT):this.updateByState(El.SEARCH_RESULT)}},e.prototype.handleSelect=function(t){var e,n=null===(e=null===t||void 0===t?void 0:t[0])||void 0===e?void 0:e.type;switch(n){case Ml.COL_CELL:this.changeRowColSelectState("colIndex");break;case Ml.ROW_CELL:this.changeRowColSelectState("rowIndex");break;case Ml.DATA_CELL:CB(this.spreadsheet)?kB(t,this,this.spreadsheet):wB(t,this)?this.updateByState(El.SELECTED):this.spreadsheet.options.interaction.selectedCellsSpotlight&&this.updateByState(El.UNSELECTED);break}},e.prototype.handleHover=function(t){var e=XC(t);if(e.type===Ml.DATA_CELL){var n=this.spreadsheet.interaction.getHoverHighlight(),r=n.currentRow,i=n.currentCol;if(r||i){var o=this.meta.colIndex,a=this.meta.rowIndex;i&&o===(null===e||void 0===e?void 0:e.colIndex)||r&&a===(null===e||void 0===e?void 0:e.rowIndex)?this.updateByState(El.HOVER):this.hideInteractionShape()}var s=this.getMeta(),l=s.id,c=s.rowIndex,u=s.colIndex;$_(e.id,l)&&$_(e.rowIndex,c)&&$_(e.colIndex,u)&&this.updateByState(El.HOVER_FOCUS)}else this.hideInteractionShape()},e.prototype.update=function(){var t=this.spreadsheet.interaction.getCurrentStateName(),e=this.spreadsheet.interaction.getCells();if(t!==El.ALL_SELECTED){if(!H_(e)&&t)switch(t){case El.SELECTED:this.handleSelect(e);break;case El.HOVER_FOCUS:case El.HOVER:this.handleHover(e);break;case El.SEARCH_RESULT:this.handleSearchResult(e);break;default:this.handleByStateName(e,t);break}}else this.updateByState(El.SELECTED)},e.prototype.setMeta=function(e){t.prototype.setMeta.call(this,e),this.initCell()},e.prototype.drawTextShape=function(){t.prototype.drawTextShape.call(this),this.drawLinkField(this.meta)},e.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.shouldHideRowSubtotalData()||(this.drawConditionIntervalShape(),this.drawTextShape(),this.drawConditionIconShapes()),this.drawInteractiveBorderShape(),this.meta.isFrozenCorner&&this.drawBorderShape(),this.update()},e.prototype.getDefaultTextFill=function(t){var e=t.fill,n=this.getBackgroundColor(),r=n.backgroundColor,i=n.intelligentReverseTextColor;return MR(r)&&t.fill===Ol&&i&&(e=Cl),e},e.prototype.getTextStyle=function(){var t=this.meta.isTotals,e=t?this.theme.dataCell.bolderText:this.theme.dataCell.text,n=this.getTextConditionFill(tc(tc({},e),{fill:this.getDefaultTextFill(e)}));return tc(tc({},e),{fill:n})},e.prototype.getIconStyle=function(){var t,e=this.theme.dataCell.icon,n=e.size,r=e.margin,i=this.findFieldCondition(null===(t=this.conditions)||void 0===t?void 0:t.icon),o=i&&i.mapping&&{size:n,margin:r,position:ZN(i)};return o},e.prototype.drawConditionIntervalShape=function(){this.conditionIntervalShape=ij(this)},e.prototype.shouldHideRowSubtotalData=function(){var t,e=(null!==(t=this.spreadsheet.options.totals)&&void 0!==t?t:{}).row,n=void 0===e?{}:e,r=this.meta.rowIndex,i=this.spreadsheet.facet.layoutResult.rowLeafNodes[r],o=!(null===i||void 0===i?void 0:i.isGrandTotals)&&(null===i||void 0===i?void 0:i.isTotals);return"tree"===this.spreadsheet.options.hierarchyType&&!n.showSubTotals&&o},e.prototype.getFormattedFieldValue=function(){if(this.shouldHideRowSubtotalData())return{value:null,formattedValue:ll};var t=this.meta,e=t.rowId,n=t.valueField,r=t.fieldValue,i=t.data,o=this.spreadsheet.dataSet.getFieldMeta(e),a=o?e:n,s=this.spreadsheet.dataSet.getFieldFormatter(a),l=s(r,i,this.meta);return{value:r,formattedValue:l}},e.prototype.getMaxTextWidth=function(){var t=this.getContentArea().width;return cj(t,this.getIconStyle())},e.prototype.getTextPosition=function(){return this.getTextAndIconPosition().text},e.prototype.getBackgroundColor=function(){var t,e=this.getStyle().cell,n=e.crossBackgroundColor,r=e.backgroundColorOpacity,i=this.getStyle().cell.backgroundColor;if(n&&this.meta.rowIndex%2===0&&(i=n),this.shouldHideRowSubtotalData())return{backgroundColor:i,backgroundColorOpacity:r};var o=this.findFieldCondition(null===(t=this.conditions)||void 0===t?void 0:t.background),a=!1;if(o&&o.mapping){var s=this.mappingValue(o);s&&(i=s.fill,a=s.intelligentReverseTextColor)}return{backgroundColor:i,backgroundColorOpacity:r,intelligentReverseTextColor:a}},e.prototype.drawBackgroundShape=function(){var t=this.getBackgroundColor(),e=t.backgroundColor,n=t.backgroundColorOpacity;this.backgroundShape=DN(this,tc(tc({},this.getCellArea()),{fill:e,fillOpacity:n}))},e.prototype.drawInteractiveBorderShape=function(){var t=1,e=this.getCellArea(),n=e.x,r=e.y,i=e.height,o=e.width;this.stateShapes.set("interactiveBorderShape",DN(this,{x:n+t,y:r+t,width:o-2*t,height:i-2*t},{capture:!1,visible:!1}))},e.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",DN(this,tc({},this.getCellArea()),{visible:!1}))},e.prototype.changeRowColSelectState=function(t){var e=this.spreadsheet.interaction,n=vv(this.meta,t),r=e.getState(),i=r.nodes,o=void 0===i?[]:i,a=r.cells,s=void 0===a?[]:a,l=!1;if(this.spreadsheet.isTableMode()&&o.length){var c=o[0].hierarchy.getLeaves();l=c.some((function(t,e){return!!o.some((function(e){return e===t}))&&e===n}))}else l=ic(ic([],rc(o),!1),rc(s),!1).some((function(e){return vv(e,t)===n}));l?this.updateByState(El.SELECTED):this.spreadsheet.options.interaction.selectedCellsSpotlight?this.updateByState(El.UNSELECTED):this.hideInteractionShape()},e.prototype.drawBorderShape=function(){var t=this;[mN.BOTTOM,mN.RIGHT].forEach((function(e){var n=pj(e,t.getCellArea(),t.getStyle().cell),r=n.position,i=n.style;$N(t,r,i)}))},e.prototype.findFieldCondition=function(t){var e=this;return YC(t,(function(t){return t.field instanceof RegExp?t.field.test(e.meta.valueField):t.field===e.meta.valueField}))},e.prototype.mappingValue=function(t){var e=this.meta.fieldValue,n=this.spreadsheet.isTableMode()?this.spreadsheet.dataSet.getCellData({query:{rowIndex:this.meta.rowIndex}}):this.meta.data;return null===t||void 0===t?void 0:t.mapping(e,n)},e.prototype.updateByState=function(e){if(t.prototype.updateByState.call(this,e,this),e===El.UNSELECTED){var n=vv(this.theme,"".concat(this.cellType,".cell.interactionState.").concat(e));n&&this.toggleConditionIntervalShapeOpacity(n.opacity)}},e.prototype.clearUnselectedState=function(){t.prototype.clearUnselectedState.call(this),this.toggleConditionIntervalShapeOpacity(1)},e.prototype.toggleConditionIntervalShapeOpacity=function(t){GN(this.conditionIntervalShape,Il.backgroundOpacity,t),GN(this.conditionIconShapes,Il.opacity,t)},e.prototype.drawLeftBorder=function(){var t=pj(mN.LEFT,this.getCellArea(),this.getStyle().cell),e=t.position,n=t.style;$N(this,e,n)},e}(bB),AB=function(t){function e(e,n,r){return t.call(this,r,e,n)||this}return Jl(e,t),e.prototype.handleRestOptions=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=rc(t,1),r=n[0];this.cells=r},Object.defineProperty(e.prototype,"cellType",{get:function(){return Ml.MERGED_CELL},enumerable:!1,configurable:!0}),e.prototype.update=function(){},e.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.conditions=this.spreadsheet.options.conditions,this.drawBackgroundShape(),this.drawTextShape()},e.prototype.drawBackgroundShape=function(){var t=IB(this.cells),e=this.theme.dataCell.cell;this.backgroundShape=FN(this,{points:t,stroke:e.horizontalBorderColor,fill:e.backgroundColor,lineHeight:e.horizontalBorderWidth})},e.prototype.drawTextShape=function(){H_(this.meta)||($c(this.meta.fieldValue)?Sj(this):t.prototype.drawTextShape.call(this))},e}(TB),LB=function(t,e,n,r){var i=[t,e],o=[t+n,e],a=[t+n,e+r],s=[t,e+r];return[[i,o],[o,a],[a,s],[s,i]]},PB=function(t){var e=[];return JO(t,(function(n){var r=[n[1],n[0]];JSON.stringify(t).includes(JSON.stringify(r))||e.push(n)})),e},RB=function(t,e){return FC(e,(function(e){return $_(e[0],t[1])}))},IB=function(t){var e=[];t.forEach((function(t){var n=t.getMeta(),r=n.x,i=n.y,o=n.width,a=n.height;e=e.concat(LB(r,i,o,a))})),e=PB(e);var n=[],r=e[0],i=r,o=[];while(!$_(r,o))n=n.concat(i),o=RB(i,e),i=o;return n},NB=function(t,e){var n,r=[];return JO(t,(function(t){var i,o,a,s=null===(o=null===(i=null===e||void 0===e?void 0:e.facet)||void 0===i?void 0:i.layoutResult)||void 0===o?void 0:o.getCellMeta(t.rowIndex,t.colIndex);if(s){var l=null===(a=null===e||void 0===e?void 0:e.facet)||void 0===a?void 0:a.cfg.dataCell(s);n=(null===t||void 0===t?void 0:t.showText)?s:n,r.push(l)}})),{cells:r,cellsMeta:n}},jB=function(t,e){var n,r=[],i=[];return JO(t,(function(t){var o=FC(e,(function(e){var n,r=null===(n=null===e||void 0===e?void 0:e.getMeta)||void 0===n?void 0:n.call(e);if((null===r||void 0===r?void 0:r.colIndex)===(null===t||void 0===t?void 0:t.colIndex)&&(null===r||void 0===r?void 0:r.rowIndex)===(null===t||void 0===t?void 0:t.rowIndex))return e}));o?(r.push(o),n=(null===t||void 0===t?void 0:t.showText)?null===o||void 0===o?void 0:o.getMeta():n):i.push(t)})),{cells:r,invisibleCellInfo:i,cellsMeta:n}},BB=function(t,e,n){var r;void 0===n&&(n=[]);var i=jB(n,t),o=i.cellsMeta,a=i.cells,s=i.invisibleCellInfo,l=o,c=a,u=(null===s||void 0===s?void 0:s.length)>0&&s.length<n.length;if(u){var h=NB(s,e),f=h.cells,d=h.cellsMeta;l=l||d,c=a.concat(f)}return H_(a)||l||(l=null===(r=c[0])||void 0===r?void 0:r.getMeta()),{cells:c,viewMeta:l}},DB=function(t){var e=t.interaction,n=e.getActiveCells(),r=[];return JO(n,(function(t,e){var n=t.getMeta(),i=0===e?{showText:!0}:{};r.push(tc(tc({},i),{colIndex:null===n||void 0===n?void 0:n.colIndex,rowIndex:null===n||void 0===n?void 0:n.rowIndex}))})),r},FB=function(t,e,n){return t.options.mergedCell?t.options.mergedCell(t,e,n):new AB(t,e,n)},zB=function(t,e,n){var r,i=e||DB(t);if((null===i||void 0===i?void 0:i.length)<=1)console.error("then merged cells must be more than one");else{var o=t.interaction.getPanelGroupAllDataCells(),a=BB(o,t,i),s=a.cells,l=a.viewMeta;if(!H_(s)){var c=(null===(r=t.options)||void 0===r?void 0:r.mergedCellsInfo)||[];c.push(i),t.setOptions({mergedCellsInfo:c});var u=n?void 0:l;t.panelScrollGroup.addMergeCell(FB(t,s,u))}}},WB=function(t,e){var n=KC(t.cells,(function(t){return{colIndex:t.getMeta().colIndex,rowIndex:t.getMeta().rowIndex}}));return IC(e,(function(t){var e=t.map((function(t){return t.showText?{colIndex:t.colIndex,rowIndex:t.rowIndex}:t}));return!$_(e,n)}))},HB=function(t,e){var n,r,i;if(e&&e.cellType===Ml.MERGED_CELL){var o=WB(e,null===(n=t.options)||void 0===n?void 0:n.mergedCellsInfo);(null===o||void 0===o?void 0:o.length)!==(null===(i=null===(r=t.options)||void 0===r?void 0:r.mergedCellsInfo)||void 0===i?void 0:i.length)&&(t.setOptions({mergedCellsInfo:o}),e.remove(!0))}else console.error("unmergeCell: the ".concat(e," is not a MergedCell"))},$B=function(t){return KC(t,(function(t){return{cells:t.cells,viewMeta:t.getMeta()}}))},GB=function(t,e){return GO(t,e,(function(t,e){return $_(t.viewMeta.id,e.viewMeta.id)}))},VB=function(t,e){var n,r=null===(n=t.options)||void 0===n?void 0:n.mergedCellsInfo;if(!H_(r)){var i=t.interaction.getPanelGroupAllDataCells();if(!H_(i)){var o=[];r.forEach((function(e){var n=BB(i,t,e);n.cells.length>0&&o.push(n)}));var a=e.getChildren(),s=$B(a),l=GB(s,o),c=GB(o,s);JO(l,(function(t){var e=FC(a,(function(e){return $_(e.getMeta().id,t.viewMeta.id)}));null===e||void 0===e||e.remove(!0)})),JO(c,(function(n){var r=n.cells,i=n.viewMeta;e.add(FB(t,r,i))}))}}},YB=function(t){var e=t.includes(sl)?"id":"field";return e},UB=function(t,e){void 0===e&&(e=[]);var n=t.getInitColumnLeafNodes();return Lx(e.map((function(t){var e=YB(t);return n.find((function(n){return n[e]===t}))})))},XB=function(t,e){if(void 0===e&&(e=[]),H_(e))return{prev:null,next:null};var n=t.getInitColumnLeafNodes(),r=UB(t,e).map((function(t){return null===t||void 0===t?void 0:t.colIndex})),i=Math.max.apply(Math,ic([],rc(r),!1)),o=Math.min.apply(Math,ic([],rc(r),!1)),a=n.find((function(t){return t.colIndex===i+1})),s=n.find((function(t){return t.colIndex===o-1}));return{prev:s||null,next:a||null}},qB=function(t,e){if(H_(e))return[];var n=Number.NEGATIVE_INFINITY;return t.reduce((function(t,r,i){if(!e.includes(r))return t;if(i===n+1){var o=zO(t);o.push(r)}else{var a=[r];t.push(a)}return n=i,t}),[])},KB=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=!1);var r=function(e,n){void 0===e&&(e=[]),void 0===n&&(n=[]),t.setOptions({interaction:{hiddenColumnFields:e}}),t.interaction.reset(),t.store.set("hiddenColumnsDetail",n),t.render(!1,{reBuildHiddenColumnsDetail:!1})};if(H_(e)&&n)r();else{var i=t.store.get("hiddenColumnsDetail",[]),o=t.options.interaction.hiddenColumnFields;if(!$_(e,o)||n){var a=aP(ic(ic([],rc(e),!1),rc(o),!1)),s=UB(t,a).every((function(t,e,n){var r=n[e+1];return!r||1===Math.abs(t.colIndex-r.colIndex)})),l=XB(t,s?a:e),c={hideColumnNodes:UB(t,e),displaySiblingNode:l},u=ic(ic([],rc(i),!1),[c],!1);t.emit(bs.LAYOUT_COLS_HIDDEN,c,u),r(a,u)}}},ZB=function(t){var e=t.dataCfg.fields.columns,n=void 0===e?[]:e;return t.isTableMode()?n:t.getInitColumnLeafNodes().map((function(t){var e=t.id;return e}))},QB=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=!1),H_(e)&&n&&KB(t,e,!0);var r=ZB(t),i=zI(r),o=qB(i,e);o.forEach((function(e){KB(t,e,n)}))},JB=function(t,e){var n=t.getColumnLeafNodes(),r=t.getInitColumnLeafNodes(),i=YB(e);return vv(zO(n),i)===e&&vv(zO(r),i)!==e},tD=function(t){return(null===t||void 0===t?void 0:t.next)||(null===t||void 0===t?void 0:t.prev)},eD=function(t){var e=tD(t);return null===e||void 0===e?void 0:e.id},nD=function(t,e){return eD(t)===e},rD=function(t){var e=t.type,n=t.id,r=t.theme,i=t.width,o=t.height,a=ec(t,["type","id","theme","width","height"]),s=e===Wl.Horizontal?r.size:null,l=e===Wl.Vertical?r.size:null;return{fill:r.background,fillOpacity:r.backgroundOpacity,cursor:"".concat(e,"-resize"),width:s,height:l,appendInfo:tc(tc({},a),{isResizeArea:!0,type:e,id:n,width:i,height:o,size:r.size})}},iD=function(t,e){if(t.foregroundGroup){var n=t.foregroundGroup.findById(e);return n||t.foregroundGroup.addGroup({id:e,zIndex:Ls})}},oD=function(t,e,n){var r=null!==n&&void 0!==n?n:{},i=r.scrollX,o=void 0===i?0:i,a=r.scrollY,s=void 0===a?0:a,l=!(t.x-o>e.x+e.width||t.x+t.width-o<e.x),c=!(t.y-s>e.y+e.height||t.y+t.height-s<e.y);return l&&c},aD=function(t,e,n){if(!t)return!1;var r=t.iconNames,i=t.displayCondition,o=t.belongsCell;return!H_(r)&&(o===n&&(!i||r.some((function(t){return i(e,t)}))))},sD=function(t,e,n){var r=FC(t,(function(t){return aD(t,e,n)}));if(r){var i=r.iconNames;return r.displayCondition&&(i=i.filter((function(t){return r.displayCondition(e,t)}))),tc(tc({},r),{iconNames:i})}},lD=function(t,e){var n=t.label,r=t.field;return $_(r,Cs)?{formattedValue:e||n,value:n}:{formattedValue:n,value:n}};function cD(t,e){return e.map((function(e){var n=t[e];return void 0===n?n:"".concat(n)}))}function uD(t){return t.map((function(t){var e=null===t||void 0===t?void 0:t.split(sl);return e[(null===e||void 0===e?void 0:e.length)-1]||t}))}function hD(t,e,n){var r,i=e.slice(0,e.indexOf(t)+1);return null===(r=n.map((function(t){return i.map((function(e){return t[e]})).join("".concat(sl))})))||void 0===r?void 0:r.filter((function(t){return t}))}function fD(t){var e=t.rowDimensionValues,n=t.colDimensionValues,r=t.careUndefined,i=t.isFirstCreate,o=t.onFirstCreate,a=t.rowFields,s=t.colFields,l=t.rowPivotMeta,c=t.colPivotMeta,u=function(t,e,n,l){void 0===e&&(e=!0);for(var c=e?n:l,u=e?a:s,h=[],f=0;f<t.length;f++){var d=t[f];if(!c.has(d))if(i)c.set(d,{level:c.size,children:new Map}),null===o||void 0===o||o({isRow:e,dimension:null===u||void 0===u?void 0:u[f],dimensionPath:t.slice(0,f+1)});else{var p=c.get(d);if(p&&h.push(p.level),!r)break}var v=c.get(d);fE(d)&&r?h.push(d):h.push(null===v||void 0===v?void 0:v.level),v&&(i&&(v.childField=null===u||void 0===u?void 0:u[f+1]),c=null===v||void 0===v?void 0:v.children)}return h},h=u(e,!0,l,c),f=u(n,!1,l,c),d=h.concat.apply(h,ic([],rc(f),!1));return d}function dD(t,e){return _T(t,(function(t,n){return t.push(e[n]),t}),[])}function pD(t){var e=t.rows,n=t.columns,r=t.originData,i=void 0===r?[]:r,o=t.indexesData,a=void 0===o?[]:o,s=t.totalData,l=void 0===s?[]:s,c=t.sortedDimensionValues,u=t.rowPivotMeta,h=t.colPivotMeta,f=[],d=new Set(r_(e,n)),p=function(t){var e=t.isRow,n=t.dimension,r=t.dimensionPath;!e&&d.has(n)||(c[n]||(c[n]=[])).push(r.map((function(t){return"".concat(t)})).join(sl))},v=i.concat(l);return v.forEach((function(t){var r=cD(t,e),i=cD(t,n),o=fD({rowDimensionValues:r,colDimensionValues:i,rowPivotMeta:u,colPivotMeta:h,isFirstCreate:!0,onFirstCreate:p,careUndefined:(null===l||void 0===l?void 0:l.length)>0,rowFields:e,colFields:n});f.push(o),UT(a,o,t)})),{paths:f,indexesData:a,rowPivotMeta:u,colPivotMeta:h,sortedDimensionValues:c}}function vD(t,e){if(t&&e){var n=e.split(sl),r=zO(n),i=t;JO(n,(function(t,e){var n=i.get(t);return n?(t===r?(n.children=new Map,n.childField=void 0):i=n.children,!0):0===e&&t===al}))}}function gD(t,e,n){var r=function(e){var n=FC(t,(function(t){var n=t.field;return n===e}));return vv(n,"name",e)},i=e||n,o={field:Cs,name:i,formatter:function(t){return r(t)}};return o}var yD=function(t){return"ASC"===AL(t)},mD=function(t){return"DESC"===AL(t)},bD=function(t){return!Q_(Number(t))},xD=function(t,e,n){var r=yD(e)?1:-1,i=["-",void 0];return null===t||void 0===t?void 0:t.sort((function(t,e){var o=t,a=e;if(n){if(o=t[n],a=e[n],bD(o)&&bD(a))return(Number(o)-Number(a))*r;if(o&&(null===i||void 0===i?void 0:i.includes(null===o||void 0===o?void 0:o.toString())))return-r;if(Number(o)&&(null===i||void 0===i?void 0:i.includes(null===a||void 0===a?void 0:a.toString())))return r}return rE(o)||rE(a)?o?r:-r:o.toString().localeCompare(a.toString(),"zh")*r}))},wD=function(t,e,n){return n?PN(e,aP(t)):ic([],rc(new Set(ic(ic([],rc(t),!1),rc(e),!1))),!1)},OD=function(t){var e=t.sortByValues,n=t.originValues,r=n.filter((function(t){return e.find((function(e){return sC(t,e)}))})),i=r.map((function(t){var e=t.split(sl);if(e.length>1){var n=e.slice(0,e.length-1).join(sl);return[n,e[e.length-1]]}return e})),o=Array.from(new Set(i.map((function(t){return t[0]}))));i.sort((function(t,n){var r=t.slice(0,t.length-1),i=n.slice(0,n.length-1);if(r.join()!==i.join()){var a=o.indexOf(r[0]),s=o.indexOf(i[0]);return a-s}var l=e.indexOf(t[t.length-1]),c=e.indexOf(n[n.length-1]);return l-c}));var a=i.map((function(t){return t.join(sl)}));return EN(n,a)},CD=function(t){var e=t.originValues,n=t.measureValues,r=t.sortParam,i=t.dataSet,o=r.sortFunc,a=r.sortFieldId,s=r.sortMethod,l=o(tc({data:n},r));return(null===l||void 0===l?void 0:l.length)?(i.fields.rows.indexOf(a)>0||i.fields.columns.indexOf(a)>0)&&!qS(l[0],sl)?OD({sortByValues:l,originValues:e}):wD(l,e,yD(s)):e},SD=function(t){var e,n=t.sortParam,r=t.measureValues,i=t.originValues,o=t.dataSet,a=n.sortByMeasure,s=n.query,l=n.sortFieldId,c=n.sortMethod,u=o.fields,h=u.rows,f=u.columns,d=h.includes(l);if(a){var p=xD(r,c,a===_s?s[Cs]:a);e=hD(l,d?h:zI(f),p)}else e=KC(xD(r,c));return wD(e,i,yD(c))},_D=function(t){var e=t.sortParam,n=t.originValues,r=t.measureValues,i=t.dataSet,o=e.sortFunc,a=e.sortMethod,s=e.sortBy,l=n,c={originValues:n,measureValues:r,sortParam:e,dataSet:i};return o?l=CD(c):s?l=OD({sortByValues:s,originValues:n}):(yD(a)||mD(a))&&(l=SD(c)),l},ED=function(t,e,n){var r,i={},o=qS(t,sl);if(o)for(var a=EA(t,sl),s=(null===(r=null===e||void 0===e?void 0:e.rows)||void 0===r?void 0:r.includes(n))?e.rows:zI(e.columns),l=0;l<=ZS(s,n);l++)i[s[l]]=a[l];else i[n]=t;return i},MD=function(t){return t.filter((function(t){return t!==Cs}))},kD=function(t){var e=t.dataSet,n=t.sortParam,r=t.originValues,i=e.fields,o=n.sortByMeasure,a=n.query,s=n.sortFieldId,l=e.getMultiData(a),c=zI(i.columns);if(o!==_s){var u=Px(i.rows,c);return l.filter((function(t){var e=new Set(ip(t));return u.every((function(t){return e.has(t)}))}))}var h=qS(i.rows,s),f=MD(h?i.rows:c),d=MD(h?c:i.rows),p=f[f.indexOf(s)+1],v=ip(a),g=d.filter((function(t){return!v.includes(t)})),y=l.filter((function(t){var e=new Set(ip(t));if(!e.has(s))return!1;if(e.has(p))return!1;var n=g.every((function(t){return!e.has(t)}));return n}));return H_(y)?Lx(KC(r,(function(t){var n=ED(t,i,s);return e.getTotalValue(tc(tc({},a),n))}))):y},TD=function(t){var e,n=t.dataSet,r=t.sortParam,i=t.originValues,o=t.isSortByMeasure;return e=o?kD(t):i,_D({sortParam:r,originValues:i,measureValues:e,dataSet:n})},AD=function(t,e){if(null===t||void 0===t?void 0:t.sortMethod){if(yD(null===t||void 0===t?void 0:t.sortMethod))return"groupAsc";if(mD(null===t||void 0===t?void 0:t.sortMethod))return"groupDesc"}if(e)return"SortDown"},LD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.handleRestOptions=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=rc(t,1),r=n[0];this.headerConfig=tc({},r);var i=this.meta,o=i.value,a=i.query,s=this.spreadsheet.dataCfg.sortParams,l=this.isSortCell(),c=FC(ic([],rc(s),!1).reverse(),(function(t){return l&&(null===t||void 0===t?void 0:t.sortByMeasure)===o&&$_(vv(t,"query"),a)})),u=AD(c,l);this.headerConfig.sortParam=tc(tc(tc({},this.headerConfig.sortParam),c||{query:a}),{type:u})},e.prototype.initCell=function(){this.resetTextAndConditionIconShapes(),this.actionIcons=[],this.hasDefaultHiddenIcon=!1},e.prototype.getInteractiveBorderShapeStyle=function(t){var e=this.getCellArea(),n=e.x,r=e.y,i=e.height,o=e.width;return{x:n+t,y:r+t,width:o-2*t,height:i-2*t}},e.prototype.getFormattedFieldValue=function(){var t=this.meta,e=t.label,n=t.isTotals,r=t.isGrandTotals,i=this.spreadsheet.dataSet.getFieldFormatter(this.meta.field),o=!0;o=!this.spreadsheet.isTableMode()&&(this.spreadsheet.isHierarchyTreeType()?!r:!n);var a=o&&i?i(e,void 0,this.meta):e;return{formattedValue:a,value:e}},e.prototype.getActionIconCfg=function(){return sD(this.spreadsheet.options.headerActionIcons,this.meta,this.cellType)},e.prototype.showSortIcon=function(){var t=this.spreadsheet,e=t.options,n=t.dataCfg,r=H_(n.fields.values);if(e.showDefaultHeaderActionIcon&&!r){var i=this.headerConfig.sortParam,o=this.meta.query;return o&&$_(null===i||void 0===i?void 0:i.query,o)&&(null===i||void 0===i?void 0:i.type)&&"none"!==(null===i||void 0===i?void 0:i.type)}return!1},e.prototype.getActionIconsCount=function(){if(this.showSortIcon())return 1;var t=this.getActionIconCfg();if(t){var e=t.iconNames;return e.length}return 0},e.prototype.getActionIconsWidth=function(){var t=this.getStyle().icon,e=t.size,n=t.margin;return(e+n.left)*this.getActionIconsCount()},e.prototype.drawSortIcons=function(){var t=this;if(this.showSortIcon()){var e=this.getStyle(),n=e.icon,r=e.text,i=this.getTextConditionFill(r),o=this.headerConfig.sortParam,a=this.getIconPosition(),s=new SN(tc(tc({name:vv(o,"type","none")},a),{width:n.size,height:n.size,fill:i}));s.on("click",(function(e){t.spreadsheet.emit(bs.GLOBAL_ACTION_ICON_CLICK,e),t.spreadsheet.handleGroupSort(e,t.meta)})),this.add(s),this.actionIcons.push(s)}},e.prototype.hasDefaultHideActionIcon=function(){return this.hasDefaultHiddenIcon},e.prototype.addActionIcon=function(t){var e=this,n=t.x,r=t.y,i=t.iconName,o=t.defaultHide,a=t.action,s=t.onClick,l=t.onHover,c=this.getStyle(),u=c.icon,h=c.text,f=this.getTextConditionFill(h),d=(null===u||void 0===u?void 0:u.fill)||f,p=new SN({name:i,x:n,y:r,width:null===u||void 0===u?void 0:u.size,height:null===u||void 0===u?void 0:u.size,fill:d});p.set("visible",!o),p.on("mouseover",(function(t){e.spreadsheet.emit(bs.GLOBAL_ACTION_ICON_HOVER,t),null===l||void 0===l||l({hovering:!0,iconName:i,meta:e.meta,event:t})})),p.on("mouseleave",(function(t){e.spreadsheet.emit(bs.GLOBAL_ACTION_ICON_HOVER_OFF,t),null===l||void 0===l||l({hovering:!1,iconName:i,meta:e.meta,event:t})})),p.on("click",(function(t){var n;e.spreadsheet.emit(bs.GLOBAL_ACTION_ICON_CLICK,t),null===(n=s||a)||void 0===n||n({iconName:i,meta:e.meta,event:t})})),this.actionIcons.push(p),this.add(p)},e.prototype.drawActionIcons=function(){var t=this;if(this.showSortIcon())this.drawSortIcons();else{var e=this.getActionIconCfg();if(e){var n=e.iconNames,r=e.action,i=e.onClick,o=e.onHover,a=e.defaultHide,s=this.getIconPosition(n.length),l=this.getStyle().icon,c=l.size,u=l.margin;JO(n,(function(e,n){var l=s.x+n*c+n*u.left,h=s.y,f="function"===typeof a?a(t.meta,e):a;f&&(t.hasDefaultHiddenIcon=!0),t.addActionIcon({iconName:e,x:l,y:h,defaultHide:f,action:r,onClick:i,onHover:o})}))}}},e.prototype.drawBackgroundShape=function(){var t=this.getBackgroundColor(),e=t.backgroundColor,n=t.backgroundColorOpacity;this.backgroundShape=DN(this,tc(tc({},this.getCellArea()),{fill:e,fillOpacity:n}))},e.prototype.isSortCell=function(){var t,e,n,r=null===(e=null===(t=this.meta.spreadsheet)||void 0===t?void 0:t.isValueInCols)||void 0===e?void 0:e.call(t),i=this.meta.level===(null===(n=this.meta.hierarchy)||void 0===n?void 0:n.maxLevel);return r?i&&this.cellType===Ml.COL_CELL:i&&this.cellType===Ml.ROW_CELL},e.prototype.handleByStateName=function(t,e){wB(t,this)&&this.updateByState(e)},e.prototype.handleSearchResult=function(t){if(wB(t,this)){var e=FC(t,(function(t){return null===t||void 0===t?void 0:t.isTarget}));e.id===this.getMeta().id?this.updateByState(El.HIGHLIGHT):this.updateByState(El.SEARCH_RESULT)}},e.prototype.handleHover=function(t){var e;wB(t,this)&&(this.updateByState(El.HOVER),this.hasDefaultHideActionIcon()&&this.toggleActionIcon(null===(e=null===t||void 0===t?void 0:t[0])||void 0===e?void 0:e.id))},e.prototype.handleSelect=function(t,e){wB(t,this)&&this.updateByState(El.SELECTED);var n=KC(e,"id");qS(n,this.meta.id)&&this.updateByState(El.SELECTED)},e.prototype.getTextStyle=function(){var t,e=this.getStyle(),n=e.text,r=e.bolderText,i=e.measureText;t=this.isMeasureField()?i||n:this.isBolderText()?r:n;var o=this.getTextConditionFill(t);return tc(tc({},t),{fill:o})},e.prototype.getBackgroundColor=function(){var t,e,n=(null===(t=this.getStyle())||void 0===t?void 0:t.cell)||{},r=n.backgroundColor,i=n.backgroundColorOpacity,o=r,a=this.findFieldCondition(null===(e=this.conditions)||void 0===e?void 0:e.background);if(a&&a.mapping){var s=this.mappingValue(a);s&&(o=s.fill)}return{backgroundColor:o,backgroundColorOpacity:i}},e.prototype.toggleActionIcon=function(t){if(this.getMeta().id===t){var e=[];JO(this.actionIcons,(function(t){t.get("visible")||(t.set("visible",!0),e.push(t))})),this.spreadsheet.store.set("visibleActionIcons",e)}},e.prototype.update=function(){var t=this.spreadsheet.interaction,e=null===t||void 0===t?void 0:t.getState(),n=null===t||void 0===t?void 0:t.getCells([Ml.CORNER_CELL,Ml.COL_CELL,Ml.ROW_CELL]);if(XC(n))switch(null===e||void 0===e?void 0:e.stateName){case El.SELECTED:this.handleSelect(n,null===e||void 0===e?void 0:e.nodes);break;case El.HOVER_FOCUS:case El.HOVER:this.handleHover(n);break;case El.SEARCH_RESULT:this.handleSearchResult(n);break;default:this.handleByStateName(n,null===e||void 0===e?void 0:e.stateName);break}},e.prototype.updateByState=function(e){t.prototype.updateByState.call(this,e,this)},e.prototype.hideInteractionShape=function(){t.prototype.hideInteractionShape.call(this)},e.prototype.isMeasureField=function(){return[Cs,Ss].includes(this.meta.field)},e.prototype.mappingValue=function(t){var e=this.getMeta().label;return null===t||void 0===t?void 0:t.mapping(e,this.meta)},e.prototype.findFieldCondition=function(t){var e=this;return YC(t,(function(t){return t.field instanceof RegExp?t.field.test(e.meta.field):t.field===e.meta.field}))},e}(bB),PD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),Object.defineProperty(e.prototype,"cellType",{get:function(){return Ml.COL_CELL},enumerable:!1,configurable:!0}),e.prototype.initCell=function(){t.prototype.initCell.call(this),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextShape(),this.drawConditionIconShapes(),this.drawActionIcons(),this.drawBorders(),this.drawResizeArea(),this.addExpandColumnIconShapes(),this.update()},e.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",DN(this,tc({},this.getCellArea()),{visible:!1}))},e.prototype.drawInteractiveBorderShape=function(){var t=2;this.stateShapes.set("interactiveBorderShape",DN(this,this.getInteractiveBorderShapeStyle(t),{visible:!1}))},e.prototype.getMaxTextWidth=function(){var t=this.getContentArea().width;return t-this.getActionIconsWidth()},e.prototype.getIconPosition=function(){if(this.meta.isLeaf)return t.prototype.getIconPosition.call(this,this.getActionIconsCount());var e=this.getIconStyle(),n=e.margin.left,r=this.getTextStyle(),i=this.textPosition,o=i.x,a=i.y-e.size/2;return"left"===r.textAlign?{x:o+this.actualTextWidth+n,y:a}:"right"===r.textAlign?{x:o+n,y:a}:{x:o+this.actualTextWidth/2+n,y:a}},e.prototype.isBolderText=function(){var t=this.meta,e=t.isLeaf,n=t.isTotals;return!(!n&&e)},e.prototype.getTextPosition=function(){var t,e=this.meta.isLeaf,n=this.headerConfig,r=n.width,i=n.scrollContainsRowHeader,o=n.cornerWidth,a=n.scrollX,s=this.getTextStyle(),l=this.getContentArea(),c=this.getIconStyle();if(e)return hj(l,s,this.actualTextWidth,c,this.getActionIconsCount()).text;var u={start:a-(i?o:0),width:r+(i?o:0)},h=this.getTextStyle().textAlign,f=vj(u,h,null===(t=this.getStyle().cell)||void 0===t?void 0:t.padding),d=this.getActionIconsWidth(),p=this.actualTextWidth+d,v=dj(f,{start:l.x,width:l.width},p),g=gj(v,this.actualTextWidth,d,h),y=l.y+l.height/2;return this.textPosition={x:g,y:y},this.textPosition},e.prototype.getActionIconsWidth=function(){var t=this.getStyle().icon,e=t.size,n=t.margin,r=this.getActionIconsCount();return(e+n.left)*r+(r>0?n.right:0)},e.prototype.getColResizeAreaKey=function(){return this.meta.key},e.prototype.getColResizeArea=function(){return iD(this.spreadsheet,Qs)},e.prototype.getHorizontalResizeAreaName=function(){return"".concat(ol).concat(this.meta.key)},e.prototype.drawHorizontalResizeArea=function(){var t,e,n=0===(null===(e=null===(t=this.spreadsheet.options.style)||void 0===t?void 0:t.colCfg)||void 0===e?void 0:e.height);if(!n&&this.shouldDrawResizeAreaByType("colCellVertical",this)){var r=this.headerConfig,i=r.cornerWidth,o=r.viewportWidth,a=this.meta,s=a.y,l=a.height,c=this.getResizeAreaStyle(),u=this.getColResizeArea(),h=this.getHorizontalResizeAreaName(),f=u.find((function(t){return t.attrs.name===h}));if(!f){var d=i+o;u.addShape("rect",{attrs:tc(tc({},rD({theme:c,type:Wl.Vertical,id:this.getColResizeAreaKey(),effect:Hl.Field,offsetX:0,offsetY:s,width:d,height:l,meta:this.meta})),{name:h,x:0,y:s+l-c.size/2,width:d})})}}},e.prototype.shouldAddVerticalResizeArea=function(){var t=this.meta,e=t.x,n=t.y,r=t.width,i=t.height,o=this.headerConfig,a=o.scrollX,s=o.scrollY,l=o.scrollContainsRowHeader,c=o.cornerWidth,u=o.height,h=o.width,f=this.getResizeAreaStyle(),d={x:e+r-f.size/2,y:n,width:f.size,height:i},p={x:l?-c:0,y:0,width:l?c+h:h,height:u};return oD(d,p,{scrollX:a,scrollY:s})},e.prototype.getVerticalResizeAreaOffset=function(){var t=this.meta,e=t.x,n=t.y,r=this.headerConfig,i=r.scrollX,o=r.position;return{x:o.x+e-i,y:o.y+n}},e.prototype.drawVerticalResizeArea=function(){if(this.meta.isLeaf&&this.shouldDrawResizeAreaByType("colCellHorizontal",this)){var t=this.meta,e=t.label,n=t.width,r=t.height,i=this.getResizeAreaStyle(),o=this.getColResizeArea();if(this.shouldAddVerticalResizeArea()){var a=this.getVerticalResizeAreaOffset(),s=a.x,l=a.y;o.addShape("rect",{attrs:tc(tc({},rD({theme:i,type:Wl.Horizontal,effect:Hl.Cell,id:e,offsetX:s,offsetY:l,width:n,height:r,meta:this.meta})),{x:s+n-i.size/2,y:l,height:r})})}}},e.prototype.drawResizeArea=function(){this.drawHorizontalResizeArea(),this.drawVerticalResizeArea()},e.prototype.drawHorizontalBorder=function(){var t=pj(mN.TOP,this.meta,this.theme.colCell.cell),e=t.position,n=t.style;$N(this,e,n)},e.prototype.drawVerticalBorder=function(t){var e=pj(t,this.meta,this.theme.colCell.cell),n=e.position,r=e.style;$N(this,n,r)},e.prototype.drawBorders=function(){var t=this.spreadsheet,e=t.options,n=t.isTableMode;0===this.meta.colIndex&&n()&&!e.showSeriesNumber&&this.drawVerticalBorder(mN.LEFT),this.drawHorizontalBorder(),this.drawVerticalBorder(mN.RIGHT)},e.prototype.hasHiddenColumnCell=function(){var t=this,e=this.spreadsheet.options,n=e.interaction.hiddenColumnFields,r=void 0===n?[]:n,i=e.tooltip.operation,o=this.spreadsheet.store.get("hiddenColumnsDetail",[]);return!(H_(o)||H_(r)||!i.hiddenColumns)&&!!o.find((function(e){return nD(null===e||void 0===e?void 0:e.displaySiblingNode,t.meta.id)}))},e.prototype.getExpandIconTheme=function(){var t=this.getStyle();return t.icon},e.prototype.addExpandColumnSplitLine=function(){var t=this.meta,e=t.x,n=t.y,r=t.width,i=t.height,o=this.theme.splitLine,a=o.horizontalBorderColor,s=o.horizontalBorderWidth,l=o.horizontalBorderColorOpacity,c=this.isLastColumn()?e+r-s:e;$N(this,{x1:c,y1:n,x2:c,y2:n+i},{stroke:a,lineWidth:s,strokeOpacity:l})},e.prototype.addExpandColumnIconShapes=function(){this.hasHiddenColumnCell()&&(this.addExpandColumnSplitLine(),this.addExpandColumnIcons())},e.prototype.addExpandColumnIcons=function(){var t=this.isLastColumn();this.addExpandColumnIcon(t),this.isAllDisplaySiblingNodeHidden()&&t&&this.addExpandColumnIcon(!1)},e.prototype.addExpandColumnIcon=function(t){var e=this,n=this.getExpandColumnIconConfig(t),r=VN(this,tc(tc({},n),{name:"ExpandColIcon",cursor:"pointer"}));r.on("click",(function(){e.spreadsheet.emit(bs.LAYOUT_COLS_EXPANDED,e.meta)}))},e.prototype.getExpandColumnIconConfig=function(t){var e=this.getExpandIconTheme().size,n=this.getCellArea(),r=n.x,i=n.y,o=n.width,a=n.height,s=r-e,l=t?s+o:s,c=i+a/2-e/2;return{x:l,y:c,width:2*e,height:e}},e.prototype.isLastColumn=function(){return JB(this.spreadsheet,this.meta.id)},e.prototype.isAllDisplaySiblingNodeHidden=function(){var t=this.meta.id,e=this.spreadsheet.store.get("hiddenColumnsDetail",[]),n=e.find((function(e){var n,r=e.displaySiblingNode;return(null===(n=null===r||void 0===r?void 0:r.next)||void 0===n?void 0:n.id)===t})),r=e.find((function(e){var n,r=e.displaySiblingNode;return(null===(n=null===r||void 0===r?void 0:r.prev)||void 0===n?void 0:n.id)===t}));return r&&n},e}(LD),RD=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.isBolderText=function(){var t=this.meta.cornerType;return t===xN.Col},Object.defineProperty(e.prototype,"cellType",{get:function(){return Ml.CORNER_CELL},enumerable:!1,configurable:!0}),e.prototype.initCell=function(){t.prototype.initCell.call(this),this.resetTextAndConditionIconShapes(),this.drawBackgroundShape(),this.drawTreeIcon(),this.drawCellText(),this.drawConditionIconShapes(),this.drawActionIcons(),this.drawBorderShape(),this.drawResizeArea(),this.update()},e.prototype.drawCellText=function(){this.drawTextShape()},e.prototype.drawTextShape=function(){var t=this.getContentArea().x,e=this.getCellArea(),n=e.y,r=e.height,i=this.getTextStyle(),o=this.getCornerText(),a=this.getMaxTextWidth(),s=Oj(this.meta,this.spreadsheet.options.placeholder),l=this.spreadsheet.measureTextWidth,c=mj({measureTextWidth:l,text:o,maxWidth:a,fontParam:i,placeholder:s});this.actualText=c;var u=c.indexOf(ml),h=c,f="";if(-1!==u&&this.spreadsheet.isHierarchyTreeType()){var d=u+(rI()?1:0);h=o.substr(0,d),f=o.slice(d),f=mj({measureTextWidth:l,text:f,maxWidth:a,fontParam:i})}var p=fj({x:t+this.getTreeIconWidth(),y:n,width:a,height:r},i).x,v=n+(H_(f)?r/2:r/4);this.addTextShape(HN(this,[this.textShapes[0]],p,v,h,i)),H_(f)||this.addTextShape(HN(this,[this.textShapes[1]],p,n+.75*r,f,i)),this.actualTextWidth=YE([l(h,i),l(f,i)])},e.prototype.drawTreeIcon=function(){var t=this;if(this.showTreeIcon()&&this.meta.cornerType!==xN.Col){var e=this.headerConfig.hierarchyCollapse,n=this.getStyle().icon.size,r=this.getTextStyle(),i=r.textBaseline,o=r.fill,a=this.getContentArea();this.treeIcon=YN(this,{x:a.x,y:uj(a,i,n),width:n,height:n},o,e,(function(){t.headerConfig.spreadsheet.store.set("scrollY",0),t.headerConfig.spreadsheet.emit(bs.LAYOUT_TREE_ROWS_COLLAPSE_ALL,e)}))}},e.prototype.drawBorderShape=function(){var t=this;[mN.TOP,mN.LEFT].forEach((function(e){var n=pj(e,t.getCellArea(),t.getStyle().cell),r=n.position,i=n.style;$N(t,r,i)}))},e.prototype.isLastRowCornerCell=function(){var t=this.meta,e=t.cornerType,n=t.field,r=this.headerConfig.rows;return e===xN.Row&&(this.spreadsheet.isHierarchyTreeType()||zO(r)===n)},e.prototype.getResizeAreaEffect=function(){var t=this.meta.cornerType;return t===xN.Series?Hl.Series:this.isLastRowCornerCell()&&this.spreadsheet.isHierarchyTreeType()?Hl.Tree:Hl.Field},e.prototype.drawResizeArea=function(){if(this.shouldDrawResizeAreaByType("cornerCellHorizontal",this)){var t=this.getResizeAreaStyle(),e=iD(this.spreadsheet,Zs),n=this.headerConfig,r=n.position,i=n.scrollX,o=n.scrollY,a=n.width,s=n.height,l=this.meta,c=l.x,u=l.y,h=l.width,f=l.height,d=l.field,p=l.cornerType,v={x:c+h-t.size/2,y:u,width:t.size,height:f},g={x:0,y:0,width:a,height:s};if(p!==xN.Col&&oD(v,g,{scrollX:i,scrollY:o})){var y=r.x+c-i,m=r.y+(this.isLastRowCornerCell()?0:u);e.addShape("rect",{attrs:tc(tc({},rD({theme:t,id:d,type:Wl.Horizontal,effect:this.getResizeAreaEffect(),offsetX:y,offsetY:m,width:h,height:f,meta:this.meta})),{x:y+h-t.size/2,y:m,height:this.isLastRowCornerCell()?s:f})})}}},e.prototype.showTreeIcon=function(){var t;return this.spreadsheet.isHierarchyTreeType()&&0===(null===(t=this.meta)||void 0===t?void 0:t.x)},e.prototype.getIconPosition=function(){var t,e,n=null===(e=null===(t=this.textShapes)||void 0===t?void 0:t[0])||void 0===e?void 0:e.cfg.attrs,r=this.getTextStyle(),i=r.textBaseline,o=r.textAlign,a=this.getStyle().icon,s=a.size,l=a.margin,c=(null===n||void 0===n?void 0:n.x)+jw([[HE("center"),mh(this.actualTextWidth/2)],[HE("right"),mh(0)],[NA,mh(this.actualTextWidth)]])(o)+l.left,u=uj(this.getContentArea(),i,s);return{x:c,y:u}},e.prototype.getTreeIconWidth=function(){var t=this.getStyle().icon,e=t.size,n=t.margin;return this.showTreeIcon()?e+n.right:0},e.prototype.getTextStyle=function(){var t=this.getStyle(),e=t.text,n=t.bolderText,r=this.isBolderText()?e:n,i=this.getTextConditionFill(r);return tc(tc({},r),{fill:i})},e.prototype.getMaxTextWidth=function(){var t=this.getContentArea().width;return t-this.getTreeIconWidth()-this.getActionIconsWidth()},e.prototype.getTextPosition=function(){return{x:0,y:0}},e.prototype.getFormattedFieldValue=function(){return lD(this.meta,this.spreadsheet.dataSet.getFieldName(this.meta.label))},e.prototype.getCornerText=function(){var t=this.getFormattedFieldValue().formattedValue;return t},e}(LD),ID=function(){function t(t){this.EVENT="gesture",this.gm=t}return t.prototype.do=function(t){var e=t.type;switch(e){case"touchstart":this.onTouchStart(t);break;case"touchmove":this.onTouchMove(t);break;case"touchend":this.onTouchEnd(t);break;case"touchcancel":this.onTouchCancel(t);break;default:return}},t.prototype.emit=function(t){this.gm.emit(this.EVENT,t)},t}(),ND=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EVENT="pan",e}return Jl(e,t),e.prototype.onTouchCancel=function(t){},e.prototype.onTouchEnd=function(t){},e.prototype.onTouchMove=function(t){var e=t.x,n=t.y,r=e-this.preX,i=n-this.preY;this.preX=e,this.preY=n,this.emit({x:e,y:n,deltaX:r,deltaY:i,event:t})},e.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.preX=e,this.preY=n},e}(ID),jD="object"===typeof performance&&performance.now?performance:Date,BD=300,DD=10,FD=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EVENT="press",e}return Jl(e,t),e.prototype.onTouchCancel=function(t){this.clearTimeout()},e.prototype.onTouchEnd=function(t){this.clearTimeout()},e.prototype.onTouchMove=function(t){var e=t.x,n=t.y;(e-this.touchStartX>DD||n-this.touchStartY>DD)&&this.clearTimeout()},e.prototype.onTouchStart=function(t){var e=this;this.clearTimeout();var n=t.x,r=t.y;this.touchStartTime=jD.now(),this.touchStartX=n,this.touchStartY=r,this.pressTimeout=window.setTimeout((function(){e.emit({x:n,y:r,event:t})}),BD)},e.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},e}(ID),zD=100,WD=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EVENT="swipe",e.latestMoveTime=0,e.ms=0,e.speedX=0,e.speedY=0,e.preX=0,e.preY=0,e}return Jl(e,t),e.prototype.onTouchCancel=function(t){},e.prototype.onTouchEnd=function(t){var e=this.speedX,n=this.speedY;if(jD.now()-this.latestMoveTime<zD){var r=t.x,i=t.y;this.emit({x:r,y:i,speedX:e,speedY:n,event:t})}},e.prototype.onTouchMove=function(t){var e=t.x,n=t.y,r=jD.now(),i=e-this.preX,o=n-this.preY,a=r-this.ms;this.speedX=i/a,this.speedY=o/a,this.latestMoveTime=r},e.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.speedX=this.speedY=0,this.preX=e,this.preY=n,this.ms=jD.now()},e}(ID),HD=300,$D=2,GD=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.EVENT="tap",e}return Jl(e,t),e.prototype.onTouchCancel=function(t){},e.prototype.onTouchEnd=function(t){var e=t.x,n=t.y;e-this.touchStartX<$D&&n-this.touchStartY<$D&&jD.now()-this.touchStartTime<HD&&this.emit({x:e,y:n,event:t})},e.prototype.onTouchMove=function(t){},e.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.touchStartTime=jD.now(),this.touchStartX=e,this.touchStartY=n},e}(ID),VD={Pan:ND,Press:FD,Swipe:WD,Tap:GD},YD=function(t){return VD[t]},UD=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this)||this;return r.onTouchStart=function(t){r.preventEvent(t),r.element.on("touchmove",r.onTouchMove),r.element.on("touchend",r.onTouchEnd),r.element.on("touchcancel",r.onTouchCancel),r.emit("touchdown",t),r.doGestures(t)},r.onTouchMove=function(t){r.preventEvent(t),r.emit("touchmove",t),r.doGestures(t)},r.onTouchEnd=function(t){r.preventEvent(t),r.emit("touchend",t),r.element.off("touchmove",r.onTouchMove),r.element.off("touchend",r.onTouchEnd),r.element.off("touchcancel",r.onTouchCancel),r.doGestures(t)},r.onTouchCancel=function(t){r.preventEvent(t),r.emit("touchcancel",t),r.element.off("touchmove",r.onTouchMove),r.element.off("touchend",r.onTouchEnd),r.element.off("touchcancel",r.onTouchCancel),r.doGestures(t)},r.element=e,r.options=n,r.initialGestures(),r.bindTouchStart(),r}return Jl(e,t),e.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},e.prototype.initialGestures=function(){var t=this,e=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=e.map((function(e){var n=YD(e);return new n(t)}))},e.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},e.prototype.preventEvent=function(t){var e=t.type,n=this.options.prevents||[];n.includes(e)&&t.preventDefault()},e.prototype.doGestures=function(t){this.gestures.forEach((function(e){e.do(t)}))},e}(kt),XD=rr,qD=800,KD="swipe",ZD="pan",QD="wheel",JD=function(t){function e(e){var n=t.call(this)||this;return n.rafMs=0,n.onPan=function(t){n.raf&&cancelAnimationFrame(n.raf);var e=t.deltaX,r=t.deltaY,i=n.getWrapperEvent(t,e,r);n.emit(QD,i)},n.onSwipe=function(t){var e=t.speedX,r=t.speedY;n.rafMs=jD.now(),n.ms=n.rafMs,0===e&&0===r||n.rafInertia(t)},n.element=e,n.gm=new UD(e,{gestures:["Pan","Swipe"]}),n.gm.on(KD,n.onSwipe),n.gm.on(ZD,n.onPan),n}return Jl(e,t),e.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},e.prototype.rafInertia=function(t){var e=this,n=t.speedX,r=t.speedY;this.raf=window.requestAnimationFrame((function(){var i=jD.now(),o=(i-e.ms)/qD;if(o<1){o=XD(1-o);var a=i-e.rafMs,s=n*o*a,l=r*o*a,c=e.getWrapperEvent(t,s,l);e.emit(QD,c),e.rafMs=i,e.rafInertia(t)}}))},e.prototype.getWrapperEvent=function(t,e,n){return tc(tc({},t),{deltaX:-e,deltaY:-n})},e}(kt),tF=function(t){var e=0,n=t.children;return null===n||void 0===n||n.forEach((function(t){e+=t.height||0})),e},eF=function(t,e,n,r,i){var o=0,a=t+(e-i)/2,s=t+(e+i)/2,l=n+r;return o=t+i>=l?t:l<s?n+r-i:n>a?t+e-n>i?n:t+e-i:t+(e-i)/2,o},nF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),Object.defineProperty(e.prototype,"cellType",{get:function(){return Ml.ROW_CELL},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var e;t.prototype.destroy.call(this),null===(e=this.gm)||void 0===e||e.destroy()},e.prototype.initCell=function(){t.prototype.initCell.call(this),this.drawBackgroundShape(),this.drawInteractiveBgShape(),this.drawInteractiveBorderShape(),this.drawTextShape(),this.drawConditionIconShapes(),this.drawTreeIcon(),this.drawTreeLeafNodeAlignDot(),this.drawRectBorder(),this.drawResizeAreaInLeaf(),this.drawActionIcons(),this.update()},e.prototype.drawInteractiveBorderShape=function(){var t=2;this.stateShapes.set("interactiveBorderShape",DN(this,this.getInteractiveBorderShapeStyle(t),{visible:!1}))},e.prototype.drawInteractiveBgShape=function(){this.stateShapes.set("interactiveBgShape",DN(this,tc({},this.getCellArea()),{visible:!1}))},e.prototype.showTreeIcon=function(){return this.spreadsheet.isHierarchyTreeType()&&!this.meta.isLeaf},e.prototype.showTreeLeafNodeAlignDot=function(){var t;return(null===(t=this.spreadsheet.options.style)||void 0===t?void 0:t.showTreeLeafNodeAlignDot)&&this.spreadsheet.isHierarchyTreeType()},e.prototype.getParentTreeIconCfg=function(){if(this.showTreeLeafNodeAlignDot()&&this.spreadsheet.isHierarchyTreeType()&&this.meta.isLeaf)return vv(this.meta,"parent.belongsCell.treeIcon.cfg")},e.prototype.drawTreeIcon=function(){var t=this;if(this.showTreeIcon()){var e=this.meta,n=e.isCollapsed,r=e.id,i=e.hierarchy,o=this.getContentArea().x,a=this.getTextStyle().fill,s=this.getStyle().icon.size,l=this.getContentIndent(),c=o+l,u=this.getIconYPosition();this.treeIcon=YN(this,{x:c,y:u,width:s,height:s},a,n,(function(){if(!nI()){if(!n){var e=t.spreadsheet.store.get("scrollY"),o=t.spreadsheet.facet.panelBBox.viewportHeight||0,a=tF(t.meta),s=i.height-a;if(e>0&&e+o>s){var l=s-o;t.spreadsheet.store.set("scrollY",l>0?l:0)}}t.spreadsheet.emit(bs.ROW_CELL_COLLAPSE_TREE_ROWS,{id:r,isCollapsed:!n,node:t.meta})}})),nI()&&(this.gm=new UD(this,{gestures:["Tap"]}),this.gm.on("tap",(function(){t.spreadsheet.emit(bs.ROW_CELL_COLLAPSE_TREE_ROWS,{id:r,isCollapsed:!n,node:t.meta})})))}},e.prototype.drawTreeLeafNodeAlignDot=function(){var t=this.getParentTreeIconCfg();if(t){var e=this.getStyle().icon,n=e.size,r=e.margin,i=t.x+n+r.right,o=this.getTextPosition().y,a=this.getTextStyle(),s=a.fill,l=a.fontSize,c=n/5;this.treeLeafNodeAlignDot=WN(this,{x:i+n/2,y:o+(l-c)/2,r:c,fill:s,fillOpacity:.3})}},e.prototype.isBolderText=function(){var t=this.meta,e=t.isLeaf,n=t.isTotals,r=t.level;return!e&&0===r||n},e.prototype.drawTextShape=function(){t.prototype.drawTextShape.call(this),this.drawLinkField(this.meta)},e.prototype.drawRectBorder=function(){var t=this,e=this.getCellArea().x,n=this.getContentIndent(),r=this.spreadsheet.isHierarchyTreeType()?e:e+n;[mN.BOTTOM,mN.LEFT].forEach((function(e){var n=pj(e,tc(tc({},t.getCellArea()),{x:r}),t.getStyle().cell),i=n.position,o=n.style;$N(t,i,o)}))},e.prototype.drawResizeAreaInLeaf=function(){if(this.meta.isLeaf&&this.shouldDrawResizeAreaByType("rowCellVertical",this)){var t=this.getCellArea(),e=t.x,n=t.y,r=t.width,i=t.height,o=this.getResizeAreaStyle(),a=iD(this.spreadsheet,Us),s=this.headerConfig,l=s.position,c=s.seriesNumberWidth,u=s.width,h=s.viewportHeight,f=s.scrollX,d=s.scrollY,p={x:e,y:n+i-o.size/2,width:r,height:o.size},v={x:0,y:0,width:u,height:h};if(oD(p,v,{scrollX:f,scrollY:d})){var g=(null===l||void 0===l?void 0:l.x)+e-f+c,y=(null===l||void 0===l?void 0:l.y)+n-d,m=this.spreadsheet.isFrozenRowHeader()?u-c-(e-f):r;a.addShape("rect",{attrs:tc(tc({},rD({id:this.meta.id,theme:o,type:Wl.Vertical,effect:Hl.Cell,offsetX:g,offsetY:y,width:r,height:i,meta:this.meta})),{x:g,y:y+i-o.size/2,width:m})})}}},e.prototype.getContentIndent=function(){if(!this.spreadsheet.isHierarchyTreeType())return 0;var t=this.getStyle(),e=t.icon,n=t.cell,r=e.size+e.margin.right,i=this.meta.parent,o=0;while(i)0!==i.height&&(o+=r),i=i.parent;return this.showTreeLeafNodeAlignDot()&&(o+=this.isTreeLevel()?0:n.padding.right+e.margin.right),o},e.prototype.getTextIndent=function(){var t=this.getStyle().icon,e=t.size,n=t.margin,r=this.getContentIndent(),i=this.showTreeIcon()||this.isTreeLevel()&&this.showTreeLeafNodeAlignDot()?e+n.right:0;return r+i},e.prototype.isTreeLevel=function(){return FC(vv(this.meta,"parent.children"),(function(t){return!t.isLeaf}))},e.prototype.getIconPosition=function(){var t=this.textShape.cfg.attrs,e=t.x,n=t.y,r=t.textAlign,i=this.getStyle().icon.margin.left;return"left"===r?{x:e+this.actualTextWidth+i,y:n}:"right"===r?{x:e+i,y:n}:{x:e+this.actualTextWidth/2+i,y:n}},e.prototype.getMaxTextWidth=function(){var t=this.getContentArea().width;return t-this.getTextIndent()-this.getActionIconsWidth()},e.prototype.getTextArea=function(){var t=this.getContentArea(),e=this.getTextIndent();return tc(tc({},t),{x:t.x+e,width:t.width-e})},e.prototype.getAdjustTextAreaHeight=function(t,e,n){var r=t.height;return!this.spreadsheet.facet.vScrollBar&&t.y+t.height>e+n&&(r=e+n-t.y),r},e.prototype.getTextPosition=function(){var t=this.getTextArea(),e=this.headerConfig,n=e.scrollY,r=e.viewportHeight,i=this.getAdjustTextAreaHeight(t,n,r),o=this.getTextStyle().fontSize,a=eF(t.y,i,n,r,o),s=hj(t,this.getTextStyle(),0,this.getIconStyle(),this.getActionIconsCount()).text.x;return{x:s,y:a}},e.prototype.getIconYPosition=function(){var t=this.getTextPosition().y,e=this.getStyle().icon.size,n=this.getTextStyle().fontSize;return t+(n-e)/2},e}(LD),rF=function(t,e,n,r){var i,o,a=vv(r,"size"),s=vv(r,"margin"),l=0;return l=t.options.showDefaultHeaderActionIcon?1:null!==(o=null===(i=sD(t.options.headerActionIcons,e,n))||void 0===i?void 0:i.iconNames.length)&&void 0!==o?o:0,l*(a+s.left)+(l>0?s.right:0)},iF=function(t,e,n){var r,i,o=(null===(r=n.icon.margin)||void 0===r?void 0:r.left)||0,a=(null===(i=n.icon.margin)||void 0===i?void 0:i.right)||0,s=t.store.get("hiddenColumnsDetail",[]),l=!1,c=!1;s.forEach((function(t){var n,r,i,o;(null===(r=null===(n=null===t||void 0===t?void 0:t.displaySiblingNode)||void 0===n?void 0:n.prev)||void 0===r?void 0:r.field)===e&&(l=!0),(null===(o=null===(i=null===t||void 0===t?void 0:t.displaySiblingNode)||void 0===i?void 0:i.next)||void 0===o?void 0:o.field)===e&&(c=!0)}));var u=vv(n,"icon.size");return{left:c?u+a:0,right:l?u+o:0}},oF=function(t,e,n){var r=vv(n,"cell.padding"),i=iF(t,e.field,n);return r.left+r.right+rF(t,e,Ml.COL_CELL,vv(n,"icon"))+i.left+i.right},aF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.handleRestOptions=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=rc(t,1),r=n[0];this.headerConfig=tc({},r);var i=this.meta.field,o=this.spreadsheet.dataCfg.sortParams,a=FC(o,(function(t){return(null===t||void 0===t?void 0:t.sortFieldId)===i})),s=AD(a,!0);this.headerConfig.sortParam=tc(tc(tc({},this.headerConfig.sortParam),a||{}),{type:s})},e.prototype.isFrozenCell=function(){var t=this.spreadsheet.options,e=t.frozenColCount,n=t.frozenTrailingColCount,r=this.spreadsheet.facet.layoutResult.colNodes.filter((function(t){return BI(t)})),i=DI(this.meta).colIndex;return OI(i,e)||CI(i,n,r.length)},e.prototype.getFormattedFieldValue=function(){return lD(this.meta,this.spreadsheet.dataSet.getFieldName(this.meta.label))},e.prototype.shouldAddVerticalResizeArea=function(){return!!this.isFrozenCell()||t.prototype.shouldAddVerticalResizeArea.call(this)},e.prototype.getVerticalResizeAreaOffset=function(){var t=this.meta,e=t.x,n=t.y,r=this.headerConfig,i=r.scrollX,o=r.position;return this.isFrozenCell()?{x:e,y:n}:{x:o.x+e-i,y:o.y+n}},e.prototype.getColResizeArea=function(){var e=this.isFrozenCell();return e?iD(this.spreadsheet,Js):t.prototype.getColResizeArea.call(this)},e.prototype.isSortCell=function(){return!0},e.prototype.showSortIcon=function(){return this.spreadsheet.options.showDefaultHeaderActionIcon},e.prototype.getTextStyle=function(){var t=this.getStyle();return null===t||void 0===t?void 0:t.bolderText},e.prototype.getContentArea=function(){var t,e=((null===(t=this.getStyle())||void 0===t?void 0:t.cell)||this.theme.dataCell.cell).padding,n=tc({},e),r=iF(this.spreadsheet,this.meta.field,this.getStyle());return r.left&&(n.left=(n.left||0)+r.left),r.right&&(n.right=(n.right||0)+r.right),sj(this.getCellArea(),n)},e.prototype.getHorizontalResizeAreaName=function(){return"".concat(ol).concat("table-col-cell")},e.prototype.drawBackgroundShape=function(){var t=this.getStyle().cell.backgroundColor;this.backgroundShape=DN(this,tc(tc({},this.getCellArea()),{fill:t}))},e}(PD),sF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.getStyle=function(t){return t?this.theme[t]:vv(this,"theme.cornerCell")},e.prototype.showSortIcon=function(){return!1},e.prototype.drawLeftBorder=function(){var t=pj(mN.LEFT,this.getCellArea(),this.getStyle().cell),e=t.position,n=t.style;$N(this,e,n)},e.prototype.drawBorders=function(){t.prototype.drawBorders.call(this),0===this.meta.colIndex&&this.drawLeftBorder()},e}(aF),lF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.getLinkFieldStyle=function(){return this.theme.rowCell.text.linkTextFill},e.prototype.drawBorderShape=function(){t.prototype.drawBorderShape.call(this),0===this.meta.colIndex&&this.drawLeftBorder()},e.prototype.shouldDrawResizeArea=function(){return 0===this.meta.colIndex},e.prototype.drawResizeArea=function(){if(this.shouldDrawResizeArea()){var t=this.getCellArea(),e=t.x,n=t.y,r=t.width,i=t.height,o=this.meta.rowIndex,a=this.getResizeAreaStyle(),s=this.spreadsheet.options,l=s.frozenRowCount,c=s.frozenTrailingRowCount,u=this.spreadsheet.facet.getCellRange(),h=SI(o,u.start,l),f=_I(o,u.end,c),d=h||f,p=d?Xs:Us,v=iD(this.spreadsheet,p),g=this.spreadsheet.facet.layoutResult.colsHierarchy.height,y=this.spreadsheet.facet.getScrollOffset().scrollY,m=this.spreadsheet.facet.getPaginationScrollY(),b=y+m,x=n+(f?0:g);f||(x-=h?m:b),v.addShape("rect",{attrs:tc(tc({},rD({id:String(this.meta.rowIndex),theme:a,type:Wl.Vertical,effect:Hl.Cell,offsetX:e,offsetY:x,width:r,height:i,meta:this.meta})),{x:e,y:x+i-a.size/2,width:r})})}},e}(TB),cF=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),Object.defineProperty(e.prototype,"cellType",{get:function(){return Ml.ROW_CELL},enumerable:!1,configurable:!0}),e.prototype.getTextStyle=function(){return this.theme.rowCell.seriesText},e}(lF),uF=function(t){return[Al.META,Al.CONTROL].includes(t.key)},hF=function(t){return t.ctrlKey||t.metaKey},fF=function(t){var e=t.getMeta(),n=e||{},r=n.id,i=n.colIndex,o=n.rowIndex,a=n.rowQuery;return{id:r,colIndex:i,rowIndex:o,type:t.cellType,rowQuery:a}},dF=function(t,e){var n=t.interaction;n.changeState({stateName:El.SELECTED,cells:e}),t.emit(bs.GLOBAL_SELECTED,n.getActiveCells())};function pF(t,e){var n=Math.min(t.rowIndex,e.rowIndex),r=Math.max(t.rowIndex,e.rowIndex),i=Math.min(t.colIndex,e.colIndex),o=Math.max(t.colIndex,e.colIndex);return{start:{rowIndex:n,colIndex:i},end:{rowIndex:r,colIndex:o}}}function vF(t,e){var n=e.interaction,r=e.facet,i=e.options;if(e.isTableMode()){if(!i.showSeriesNumber)return[];var o=r.layoutResult.colLeafNodes[0].id,a=OB(String(t.rowIndex),o),s=[],l=n.getAllCells().find((function(t){return t.getMeta().id===a}));return l&&l instanceof cF&&s.push(l),s}return gB(t.rowId,n.getAllRowHeaderCells(),e.isHierarchyTreeType())}var gF,yF,mF=function(t,e){var n=t.getSelectedCellHighlight(),r=n.colHeader,i=n.rowHeader;r&&t.updateCells(t.getAllColHeaderCells()),i&&t.updateCells(t.getAllRowHeaderCells()),e()},bF=function(t){var e=t.store.get("visibleActionIcons"),n=t.interaction.getInteractedCells(),r=t.interaction.getState().cells;if(H_(n)&&H_(r)&&H_(e))return!1;if(JO(e,(function(t){t.set("visible",!1)})),t.store.set("visibleActionIcons",[]),JO(n,(function(t){t.hideInteractionShape()})),t.interaction.resetState(),t.options.interaction.selectedCellsSpotlight){var i=t.interaction.getPanelGroupAllUnSelectedDataCells()||[];JO(i,(function(t){t.clearUnselectedState()}))}return!0},xF=function(t,e){var n=null===e||void 0===e?void 0:e.stateName;t.interaction.isEqualStateName(n)||(bF(t),t.hideTooltip(),t.store.set(jl,e))},wF=function(t,e,n){var r,i,o=n.facet,a=o.panelBBox.width,s=null===o||void 0===o?void 0:o.frozenGroupInfo,l=null!==(r=null===s||void 0===s?void 0:s.frozenCol.width)&&void 0!==r?r:0,c=null!==(i=null===s||void 0===s?void 0:s.frozenTrailingCol.width)&&void 0!==i?i:0,u=o.layoutResult.colLeafNodes[t];return e===Dl.SCROLL_UP?u.x-l:u.x+u.width-(a-c)},OF=function(t,e,n){var r,i,o=n.facet,a=o.viewCellHeights.getCellOffsetY,s=o.panelBBox.height,l=a(t+1);if(rE(l))return 0;var c=null===o||void 0===o?void 0:o.frozenGroupInfo,u=null!==(r=null===c||void 0===c?void 0:c.frozenRow.height)&&void 0!==r?r:0,h=null!==(i=null===c||void 0===c?void 0:c.frozenTrailingRow.height)&&void 0!==i?i:0;return e===Dl.SCROLL_UP?a(t)-u:l-(s-h)},CF=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(t,e){if(Lc(t)&&Lc(e))return e},r=ic(ic([],rc(t),!1),[n],!1);return EO.apply(void 0,ic([{}],rc(r),!1))},SF=function(t){var e=["rows","columns","values"],n=e.reduce((function(e,n){var r=t[n],i=aP(r);return $_(i,r)||console.warn("fields.".concat(n,":[").concat(r,"] should be unique")),e[n]=i,e}),{});return tc(tc({},t),n)},_F=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=CF.apply(void 0,ic([Sl],rc(t),!1));return n.fields=SF(n.fields),H_(n.fields.customTreeItems)&&!H_(n.fields.values)||(n.fields.valueInCols=!1),n},EF=function(t){return CF(Zl,t)},MF=9e15,kF=1e9,TF="0123456789abcdef",AF="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",LF="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",PF={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-MF,maxE:MF,crypto:!1},RF=!0,IF="[DecimalError] ",NF=IF+"Invalid argument: ",jF=IF+"Precision limit exceeded",BF=IF+"crypto unavailable",DF="[object Decimal]",FF=Math.floor,zF=Math.pow,WF=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,HF=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,$F=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,GF=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,VF=1e7,YF=7,UF=9007199254740991,XF=AF.length-1,qF=LF.length-1,KF={toStringTag:DF};function ZF(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=YF-r.length,n&&(o+=cz(n)),o+=r;a=t[e],r=a+"",n=YF-r.length,n&&(o+=cz(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}function QF(t,e,n){if(t!==~~t||t<e||t>n)throw Error(NF+t)}function JF(t,e,n,r){var i,o,a,s;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=YF,i=0):(i=Math.ceil((e+1)/YF),e%=YF),o=zF(10,YF-e),s=t[i]%o|0,null==r?e<3?(0==e?s=s/100|0:1==e&&(s=s/10|0),a=n<4&&99999==s||n>3&&49999==s||5e4==s||0==s):a=(n<4&&s+1==o||n>3&&s+1==o/2)&&(t[i+1]/o/100|0)==zF(10,e-2)-1||(s==o/2||0==s)&&0==(t[i+1]/o/100|0):e<4?(0==e?s=s/1e3|0:1==e?s=s/100|0:2==e&&(s=s/10|0),a=(r||n<4)&&9999==s||!r&&n>3&&4999==s):a=((r||n<4)&&s+1==o||!r&&n>3&&s+1==o/2)&&(t[i+1]/o/1e3|0)==zF(10,e-3)-1,a}function tz(t,e,n){for(var r,i,o=[0],a=0,s=t.length;a<s;){for(i=o.length;i--;)o[i]*=e;for(o[0]+=TF.indexOf(t.charAt(a++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}function ez(t,e){var n,r,i;if(e.isZero())return e;r=e.d.length,r<32?(n=Math.ceil(r/3),i=(1/xz(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),t.precision+=n,e=bz(t,1,e.times(i),new t(1));for(var o=n;o--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=n,e}KF.absoluteValue=KF.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),rz(t)},KF.ceil=function(){return rz(new this.constructor(this),this.e+1,2)},KF.clampedTo=KF.clamp=function(t,e){var n,r=this,i=r.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(NF+e);return n=r.cmp(t),n<0?t:r.cmp(e)>0?e:new i(r)},KF.comparedTo=KF.cmp=function(t){var e,n,r,i,o=this,a=o.d,s=(t=new o.constructor(t)).d,l=o.s,c=t.s;if(!a||!s)return l&&c?l!==c?l:a===s?0:!a^l<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?l:s[0]?-c:0;if(l!==c)return l;if(o.e!==t.e)return o.e>t.e^l<0?1:-1;for(r=a.length,i=s.length,e=0,n=r<i?r:i;e<n;++e)if(a[e]!==s[e])return a[e]>s[e]^l<0?1:-1;return r===i?0:r>i^l<0?1:-1},KF.cosine=KF.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+YF,r.rounding=1,n=ez(r,wz(r,n)),r.precision=t,r.rounding=e,rz(2==yF||3==yF?n.neg():n,t,e,!0)):new r(1):new r(NaN)},KF.cubeRoot=KF.cbrt=function(){var t,e,n,r,i,o,a,s,l,c,u=this,h=u.constructor;if(!u.isFinite()||u.isZero())return new h(u);for(RF=!1,o=u.s*zF(u.s*u,1/3),o&&Math.abs(o)!=1/0?r=new h(o.toString()):(n=ZF(u.d),t=u.e,(o=(t-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=zF(n,1/3),t=FF((t+1)/3)-(t%3==(t<0?-1:2)),o==1/0?n="5e"+t:(n=o.toExponential(),n=n.slice(0,n.indexOf("e")+1)+t),r=new h(n),r.s=u.s),a=(t=h.precision)+3;;)if(s=r,l=s.times(s).times(s),c=l.plus(u),r=nz(c.plus(u).times(s),c.plus(l),a+2,1),ZF(s.d).slice(0,a)===(n=ZF(r.d)).slice(0,a)){if(n=n.slice(a-3,a+1),"9999"!=n&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(rz(r,t+1,1),e=!r.times(r).times(r).eq(u));break}if(!i&&(rz(s,t+1,0),s.times(s).times(s).eq(u))){r=s;break}a+=4,i=1}return RF=!0,rz(r,t,h.rounding,e)},KF.decimalPlaces=KF.dp=function(){var t,e=this.d,n=NaN;if(e){if(t=e.length-1,n=(t-FF(this.e/YF))*YF,t=e[t],t)for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},KF.dividedBy=KF.div=function(t){return nz(this,new this.constructor(t))},KF.dividedToIntegerBy=KF.divToInt=function(t){var e=this,n=e.constructor;return rz(nz(e,new n(t),0,1,1),n.precision,n.rounding)},KF.equals=KF.eq=function(t){return 0===this.cmp(t)},KF.floor=function(){return rz(new this.constructor(this),this.e+1,3)},KF.greaterThan=KF.gt=function(t){return this.cmp(t)>0},KF.greaterThanOrEqualTo=KF.gte=function(t){var e=this.cmp(t);return 1==e||0===e},KF.hyperbolicCosine=KF.cosh=function(){var t,e,n,r,i,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;n=a.precision,r=a.rounding,a.precision=n+Math.max(o.e,o.sd())+4,a.rounding=1,i=o.d.length,i<32?(t=Math.ceil(i/3),e=(1/xz(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),o=bz(a,1,o.times(e),new a(1),!0);for(var l,c=t,u=new a(8);c--;)l=o.times(o),o=s.minus(l.times(u.minus(l.times(u))));return rz(o,a.precision=n,a.rounding=r,!0)},KF.hyperbolicSine=KF.sinh=function(){var t,e,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,r=i.d.length,r<3)i=bz(o,2,i,i,!0);else{t=1.4*Math.sqrt(r),t=t>16?16:0|t,i=i.times(1/xz(5,t)),i=bz(o,2,i,i,!0);for(var a,s=new o(5),l=new o(16),c=new o(20);t--;)a=i.times(i),i=i.times(s.plus(a.times(l.times(a).plus(c))))}return o.precision=e,o.rounding=n,rz(i,e,n,!0)},KF.hyperbolicTangent=KF.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,nz(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)},KF.inverseCosine=KF.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,o=n.rounding;return-1!==r?0===r?e.isNeg()?sz(n,i,o):new n(0):new n(NaN):e.isZero()?sz(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=sz(n,i+4,o).times(.5),n.precision=i,n.rounding=o,t.minus(e))},KF.inverseHyperbolicCosine=KF.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,RF=!1,n=n.times(n).minus(1).sqrt().plus(n),RF=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)},KF.inverseHyperbolicSine=KF.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,RF=!1,n=n.times(n).plus(1).sqrt().plus(n),RF=!0,r.precision=t,r.rounding=e,n.ln())},KF.inverseHyperbolicTangent=KF.atanh=function(){var t,e,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?rz(new o(i),t,e,!0):(o.precision=n=r-i.e,i=nz(i.plus(1),new o(1).minus(i),n+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)},KF.inverseSine=KF.asin=function(){var t,e,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==e?0===e?(t=sz(o,n+4,r).times(.5),t.s=i.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},KF.inverseTangent=KF.atan=function(){var t,e,n,r,i,o,a,s,l,c=this,u=c.constructor,h=u.precision,f=u.rounding;if(c.isFinite()){if(c.isZero())return new u(c);if(c.abs().eq(1)&&h+4<=qF)return a=sz(u,h+4,f).times(.25),a.s=c.s,a}else{if(!c.s)return new u(NaN);if(h+4<=qF)return a=sz(u,h+4,f).times(.5),a.s=c.s,a}for(u.precision=s=h+10,u.rounding=1,n=Math.min(28,s/YF+2|0),t=n;t;--t)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(RF=!1,e=Math.ceil(s/YF),r=1,l=c.times(c),a=new u(c),i=c;-1!==t;)if(i=i.times(l),o=a.minus(i.div(r+=2)),i=i.times(l),a=o.plus(i.div(r+=2)),void 0!==a.d[e])for(t=e;a.d[t]===o.d[t]&&t--;);return n&&(a=a.times(2<<n-1)),RF=!0,rz(a,u.precision=h,u.rounding=f,!0)},KF.isFinite=function(){return!!this.d},KF.isInteger=KF.isInt=function(){return!!this.d&&FF(this.e/YF)>this.d.length-2},KF.isNaN=function(){return!this.s},KF.isNegative=KF.isNeg=function(){return this.s<0},KF.isPositive=KF.isPos=function(){return this.s>0},KF.isZero=function(){return!!this.d&&0===this.d[0]},KF.lessThan=KF.lt=function(t){return this.cmp(t)<0},KF.lessThanOrEqualTo=KF.lte=function(t){return this.cmp(t)<1},KF.logarithm=KF.log=function(t){var e,n,r,i,o,a,s,l,c=this,u=c.constructor,h=u.precision,f=u.rounding,d=5;if(null==t)t=new u(10),e=!0;else{if(t=new u(t),n=t.d,t.s<0||!n||!n[0]||t.eq(1))return new u(NaN);e=t.eq(10)}if(n=c.d,c.s<0||!n||!n[0]||c.eq(1))return new u(n&&!n[0]?-1/0:1!=c.s?NaN:n?0:1/0);if(e)if(n.length>1)o=!0;else{for(i=n[0];i%10===0;)i/=10;o=1!==i}if(RF=!1,s=h+d,a=pz(c,s),r=e?az(u,s+10):pz(t,s),l=nz(a,r,s,1),JF(l.d,i=h,f))do{if(s+=10,a=pz(c,s),r=e?az(u,s+10):pz(t,s),l=nz(a,r,s,1),!o){+ZF(l.d).slice(i+1,i+15)+1==1e14&&(l=rz(l,h+1,0));break}}while(JF(l.d,i+=10,f));return RF=!0,rz(l,h,f)},KF.minus=KF.sub=function(t){var e,n,r,i,o,a,s,l,c,u,h,f,d=this,p=d.constructor;if(t=new p(t),!d.d||!t.d)return d.s&&t.s?d.d?t.s=-t.s:t=new p(t.d||d.s!==t.s?d:NaN):t=new p(NaN),t;if(d.s!=t.s)return t.s=-t.s,d.plus(t);if(c=d.d,f=t.d,s=p.precision,l=p.rounding,!c[0]||!f[0]){if(f[0])t.s=-t.s;else{if(!c[0])return new p(3===l?-0:0);t=new p(d)}return RF?rz(t,s,l):t}if(n=FF(t.e/YF),u=FF(d.e/YF),c=c.slice(),o=u-n,o){for(h=o<0,h?(e=c,o=-o,a=f.length):(e=f,n=u,a=c.length),r=Math.max(Math.ceil(s/YF),a)+2,o>r&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for(r=c.length,a=f.length,h=r<a,h&&(a=r),r=0;r<a;r++)if(c[r]!=f[r]){h=c[r]<f[r];break}o=0}for(h&&(e=c,c=f,f=e,t.s=-t.s),a=c.length,r=f.length-a;r>0;--r)c[a++]=0;for(r=f.length;r>o;){if(c[--r]<f[r]){for(i=r;i&&0===c[--i];)c[i]=VF-1;--c[i],c[r]+=VF}c[r]-=f[r]}for(;0===c[--a];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=oz(c,n),RF?rz(t,s,l):t):new p(3===l?-0:0)},KF.modulo=KF.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?rz(new r(n),r.precision,r.rounding):(RF=!1,9==r.modulo?(e=nz(n,t.abs(),0,3,1),e.s*=t.s):e=nz(n,t,0,r.modulo,1),e=e.times(t),RF=!0,n.minus(e))},KF.naturalExponential=KF.exp=function(){return dz(this)},KF.naturalLogarithm=KF.ln=function(){return pz(this)},KF.negated=KF.neg=function(){var t=new this.constructor(this);return t.s=-t.s,rz(t)},KF.plus=KF.add=function(t){var e,n,r,i,o,a,s,l,c,u,h=this,f=h.constructor;if(t=new f(t),!h.d||!t.d)return h.s&&t.s?h.d||(t=new f(t.d||h.s===t.s?h:NaN)):t=new f(NaN),t;if(h.s!=t.s)return t.s=-t.s,h.minus(t);if(c=h.d,u=t.d,s=f.precision,l=f.rounding,!c[0]||!u[0])return u[0]||(t=new f(h)),RF?rz(t,s,l):t;if(o=FF(h.e/YF),r=FF(t.e/YF),c=c.slice(),i=o-r,i){for(i<0?(n=c,i=-i,a=u.length):(n=u,r=o,a=c.length),o=Math.ceil(s/YF),a=o>a?o+1:a+1,i>a&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(a=c.length,i=u.length,a-i<0&&(i=a,n=u,u=c,c=n),e=0;i;)e=(c[--i]=c[i]+u[i]+e)/VF|0,c[i]%=VF;for(e&&(c.unshift(e),++r),a=c.length;0==c[--a];)c.pop();return t.d=c,t.e=oz(c,r),RF?rz(t,s,l):t},KF.precision=KF.sd=function(t){var e,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(NF+t);return n.d?(e=lz(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e},KF.round=function(){var t=this,e=t.constructor;return rz(new e(t),t.e+1,e.rounding)},KF.sine=KF.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+YF,r.rounding=1,n=mz(r,wz(r,n)),r.precision=t,r.rounding=e,rz(yF>2?n.neg():n,t,e,!0)):new r(NaN)},KF.squareRoot=KF.sqrt=function(){var t,e,n,r,i,o,a=this,s=a.d,l=a.e,c=a.s,u=a.constructor;if(1!==c||!s||!s[0])return new u(!c||c<0&&(!s||s[0])?NaN:s?a:1/0);for(RF=!1,c=Math.sqrt(+a),0==c||c==1/0?(e=ZF(s),(e.length+l)%2==0&&(e+="0"),c=Math.sqrt(e),l=FF((l+1)/2)-(l<0||l%2),c==1/0?e="5e"+l:(e=c.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),r=new u(e)):r=new u(c.toString()),n=(l=u.precision)+3;;)if(o=r,r=o.plus(nz(a,o,n+2,1)).times(.5),ZF(o.d).slice(0,n)===(e=ZF(r.d)).slice(0,n)){if(e=e.slice(n-3,n+1),"9999"!=e&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(rz(r,l+1,1),t=!r.times(r).eq(a));break}if(!i&&(rz(o,l+1,0),o.times(o).eq(a))){r=o;break}n+=4,i=1}return RF=!0,rz(r,l,u.rounding,t)},KF.tangent=KF.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,n=n.sin(),n.s=1,n=nz(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,rz(2==yF||4==yF?n.neg():n,t,e,!0)):new r(NaN)},KF.times=KF.mul=function(t){var e,n,r,i,o,a,s,l,c,u=this,h=u.constructor,f=u.d,d=(t=new h(t)).d;if(t.s*=u.s,!f||!f[0]||!d||!d[0])return new h(!t.s||f&&!f[0]&&!d||d&&!d[0]&&!f?NaN:f&&d?0*t.s:t.s/0);for(n=FF(u.e/YF)+FF(t.e/YF),l=f.length,c=d.length,l<c&&(o=f,f=d,d=o,a=l,l=c,c=a),o=[],a=l+c,r=a;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+d[r]*f[i-r-1]+e,o[i--]=s%VF|0,e=s/VF|0;o[i]=(o[i]+e)%VF|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=oz(o,n),RF?rz(t,h.precision,h.rounding):t},KF.toBinary=function(t,e){return Oz(this,2,t,e)},KF.toDecimalPlaces=KF.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(QF(t,0,kF),void 0===e?e=r.rounding:QF(e,0,8),rz(n,t+n.e+1,e))},KF.toExponential=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=iz(r,!0):(QF(t,0,kF),void 0===e?e=i.rounding:QF(e,0,8),r=rz(new i(r),t+1,e),n=iz(r,!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n},KF.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return void 0===t?n=iz(i):(QF(t,0,kF),void 0===e?e=o.rounding:QF(e,0,8),r=rz(new o(i),t+i.e+1,e),n=iz(r,!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},KF.toFraction=function(t){var e,n,r,i,o,a,s,l,c,u,h,f,d=this,p=d.d,v=d.constructor;if(!p)return new v(d);if(c=n=new v(1),r=l=new v(0),e=new v(r),o=e.e=lz(p)-d.e-1,a=o%YF,e.d[0]=zF(10,a<0?YF+a:a),null==t)t=o>0?e:c;else{if(s=new v(t),!s.isInt()||s.lt(c))throw Error(NF+s);t=s.gt(e)?o>0?e:c:s}for(RF=!1,s=new v(ZF(p)),u=v.precision,v.precision=o=p.length*YF*2;;){if(h=nz(s,e,0,1,1),i=n.plus(h.times(r)),1==i.cmp(t))break;n=r,r=i,i=c,c=l.plus(h.times(i)),l=i,i=e,e=s.minus(h.times(i)),s=i}return i=nz(t.minus(n),r,0,1,1),l=l.plus(i.times(c)),n=n.plus(i.times(r)),l.s=c.s=d.s,f=nz(c,r,o,1).minus(d).abs().cmp(nz(l,n,o,1).minus(d).abs())<1?[c,r]:[l,n],v.precision=u,RF=!0,f},KF.toHexadecimal=KF.toHex=function(t,e){return Oz(this,16,t,e)},KF.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),null==t){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),void 0===e?e=r.rounding:QF(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(RF=!1,n=nz(n,t,0,e,1).times(t),RF=!0,rz(n)):(t.s=n.s,n=t),n},KF.toNumber=function(){return+this},KF.toOctal=function(t,e){return Oz(this,8,t,e)},KF.toPower=KF.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,c=+(t=new l(t));if(!s.d||!t.d||!s.d[0]||!t.d[0])return new l(zF(+s,c));if(s=new l(s),s.eq(1))return s;if(r=l.precision,o=l.rounding,t.eq(1))return rz(s,r,o);if(e=FF(t.e/YF),e>=t.d.length-1&&(n=c<0?-c:c)<=UF)return i=uz(l,s,n,r),t.s<0?new l(1).div(i):rz(i,r,o);if(a=s.s,a<0){if(e<t.d.length-1)return new l(NaN);if(0==(1&t.d[e])&&(a=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=a,s}return n=zF(+s,c),e=0!=n&&isFinite(n)?new l(n+"").e:FF(c*(Math.log("0."+ZF(s.d))/Math.LN10+s.e+1)),e>l.maxE+1||e<l.minE-1?new l(e>0?a/0:0):(RF=!1,l.rounding=s.s=1,n=Math.min(12,(e+"").length),i=dz(t.times(pz(s,r+n)),r),i.d&&(i=rz(i,r+5,1),JF(i.d,r,o)&&(e=r+10,i=rz(dz(t.times(pz(s,e+n)),e),e+5,1),+ZF(i.d).slice(r+1,r+15)+1==1e14&&(i=rz(i,r+1,0)))),i.s=a,RF=!0,l.rounding=o,rz(i,r,o))},KF.toPrecision=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=iz(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(QF(t,1,kF),void 0===e?e=i.rounding:QF(e,0,8),r=rz(new i(r),t,e),n=iz(r,t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n},KF.toSignificantDigits=KF.toSD=function(t,e){var n=this,r=n.constructor;return void 0===t?(t=r.precision,e=r.rounding):(QF(t,1,kF),void 0===e?e=r.rounding:QF(e,0,8)),rz(new r(n),t,e)},KF.toString=function(){var t=this,e=t.constructor,n=iz(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},KF.truncated=KF.trunc=function(){return rz(new this.constructor(this),this.e+1,1)},KF.valueOf=KF.toJSON=function(){var t=this,e=t.constructor,n=iz(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};var nz=function(){function t(t,e,n){var r,i=0,o=t.length;for(t=t.slice();o--;)r=t[o]*e+i,t[o]=r%n|0,i=r/n|0;return i&&t.unshift(i),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(r,i,o,a,s,l){var c,u,h,f,d,p,v,g,y,m,b,x,w,O,C,S,_,E,M,k,T=r.constructor,A=r.s==i.s?1:-1,L=r.d,P=i.d;if(!L||!L[0]||!P||!P[0])return new T(r.s&&i.s&&(L?!P||L[0]!=P[0]:P)?L&&0==L[0]||!P?0*A:A/0:NaN);for(l?(d=1,u=r.e-i.e):(l=VF,d=YF,u=FF(r.e/d)-FF(i.e/d)),M=P.length,_=L.length,y=new T(A),m=y.d=[],h=0;P[h]==(L[h]||0);h++);if(P[h]>(L[h]||0)&&u--,null==o?(O=o=T.precision,a=T.rounding):O=s?o+(r.e-i.e)+1:o,O<0)m.push(1),p=!0;else{if(O=O/d+2|0,h=0,1==M){for(f=0,P=P[0],O++;(h<_||f)&&O--;h++)C=f*l+(L[h]||0),m[h]=C/P|0,f=C%P|0;p=f||h<_}else{for(f=l/(P[0]+1)|0,f>1&&(P=t(P,f,l),L=t(L,f,l),M=P.length,_=L.length),S=M,b=L.slice(0,M),x=b.length;x<M;)b[x++]=0;k=P.slice(),k.unshift(0),E=P[0],P[1]>=l/2&&++E;do{f=0,c=e(P,b,M,x),c<0?(w=b[0],M!=x&&(w=w*l+(b[1]||0)),f=w/E|0,f>1?(f>=l&&(f=l-1),v=t(P,f,l),g=v.length,x=b.length,c=e(v,b,g,x),1==c&&(f--,n(v,M<g?k:P,g,l))):(0==f&&(c=f=1),v=P.slice()),g=v.length,g<x&&v.unshift(0),n(b,v,x,l),-1==c&&(x=b.length,c=e(P,b,M,x),c<1&&(f++,n(b,M<x?k:P,x,l))),x=b.length):0===c&&(f++,b=[0]),m[h++]=f,c&&b[0]?b[x++]=L[S]||0:(b=[L[S]],x=1)}while((S++<_||void 0!==b[0])&&O--);p=void 0!==b[0]}m[0]||m.shift()}if(1==d)y.e=u,gF=p;else{for(h=1,f=m[0];f>=10;f/=10)h++;y.e=h+u*d-1,rz(y,s?o+y.e+1:o,a,p)}return y}}();function rz(t,e,n,r){var i,o,a,s,l,c,u,h,f,d=t.constructor;t:if(null!=e){if(h=t.d,!h)return t;for(i=1,s=h[0];s>=10;s/=10)i++;if(o=e-i,o<0)o+=YF,a=e,u=h[f=0],l=u/zF(10,i-a-1)%10|0;else if(f=Math.ceil((o+1)/YF),s=h.length,f>=s){if(!r)break t;for(;s++<=f;)h.push(0);u=l=0,i=1,o%=YF,a=o-YF+1}else{for(u=s=h[f],i=1;s>=10;s/=10)i++;o%=YF,a=o-YF+i,l=a<0?0:u/zF(10,i-a-1)%10|0}if(r=r||e<0||void 0!==h[f+1]||(a<0?u:u%zF(10,i-a-1)),c=n<4?(l||r)&&(0==n||n==(t.s<0?3:2)):l>5||5==l&&(4==n||r||6==n&&(o>0?a>0?u/zF(10,i-a):0:h[f-1])%10&1||n==(t.s<0?8:7)),e<1||!h[0])return h.length=0,c?(e-=t.e+1,h[0]=zF(10,(YF-e%YF)%YF),t.e=-e||0):h[0]=t.e=0,t;if(0==o?(h.length=f,s=1,f--):(h.length=f+1,s=zF(10,YF-o),h[f]=a>0?(u/zF(10,i-a)%zF(10,a)|0)*s:0),c)for(;;){if(0==f){for(o=1,a=h[0];a>=10;a/=10)o++;for(a=h[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(t.e++,h[0]==VF&&(h[0]=1));break}if(h[f]+=s,h[f]!=VF)break;h[f--]=0,s=1}for(o=h.length;0===h[--o];)h.pop()}return RF&&(t.e>d.maxE?(t.d=null,t.e=NaN):t.e<d.minE&&(t.e=0,t.d=[0])),t}function iz(t,e,n){if(!t.isFinite())return vz(t);var r,i=t.e,o=ZF(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+cz(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):i<0?(o="0."+cz(-i-1)+o,n&&(r=n-a)>0&&(o+=cz(r))):i>=a?(o+=cz(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+cz(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=cz(r))),o}function oz(t,e){var n=t[0];for(e*=YF;n>=10;n/=10)e++;return e}function az(t,e,n){if(e>XF)throw RF=!0,n&&(t.precision=n),Error(jF);return rz(new t(AF),e,1,!0)}function sz(t,e,n){if(e>qF)throw Error(jF);return rz(new t(LF),e,n,!0)}function lz(t){var e=t.length-1,n=e*YF+1;if(e=t[e],e){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function cz(t){for(var e="";t--;)e+="0";return e}function uz(t,e,n,r){var i,o=new t(1),a=Math.ceil(r/YF+4);for(RF=!1;;){if(n%2&&(o=o.times(e),Cz(o.d,a)&&(i=!0)),n=FF(n/2),0===n){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}e=e.times(e),Cz(e.d,a)}return RF=!0,o}function hz(t){return 1&t.d[t.d.length-1]}function fz(t,e,n){for(var r,i=new t(e[0]),o=0;++o<e.length;){if(r=new t(e[o]),!r.s){i=r;break}i[n](r)&&(i=r)}return i}function dz(t,e){var n,r,i,o,a,s,l,c=0,u=0,h=0,f=t.constructor,d=f.rounding,p=f.precision;if(!t.d||!t.d[0]||t.e>17)return new f(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);null==e?(RF=!1,l=p):l=e,s=new f(.03125);while(t.e>-2)t=t.times(s),h+=5;for(r=Math.log(zF(2,h))/Math.LN10*2+5|0,l+=r,n=o=a=new f(1),f.precision=l;;){if(o=rz(o.times(t),l,1),n=n.times(++u),s=a.plus(nz(o,n,l,1)),ZF(s.d).slice(0,l)===ZF(a.d).slice(0,l)){i=h;while(i--)a=rz(a.times(a),l,1);if(null!=e)return f.precision=p,a;if(!(c<3&&JF(a.d,l-r,d,c)))return rz(a,f.precision=p,d,RF=!0);f.precision=l+=10,n=o=s=new f(1),u=0,c++}a=s}}function pz(t,e){var n,r,i,o,a,s,l,c,u,h,f,d=1,p=10,v=t,g=v.d,y=v.constructor,m=y.rounding,b=y.precision;if(v.s<0||!g||!g[0]||!v.e&&1==g[0]&&1==g.length)return new y(g&&!g[0]?-1/0:1!=v.s?NaN:g?0:v);if(null==e?(RF=!1,u=b):u=e,y.precision=u+=p,n=ZF(g),r=n.charAt(0),!(Math.abs(o=v.e)<15e14))return c=az(y,u+2,b).times(o+""),v=pz(new y(r+"."+n.slice(1)),u-p).plus(c),y.precision=b,null==e?rz(v,b,m,RF=!0):v;while(r<7&&1!=r||1==r&&n.charAt(1)>3)v=v.times(t),n=ZF(v.d),r=n.charAt(0),d++;for(o=v.e,r>1?(v=new y("0."+n),o++):v=new y(r+"."+n.slice(1)),h=v,l=a=v=nz(v.minus(1),v.plus(1),u,1),f=rz(v.times(v),u,1),i=3;;){if(a=rz(a.times(f),u,1),c=l.plus(nz(a,new y(i),u,1)),ZF(c.d).slice(0,u)===ZF(l.d).slice(0,u)){if(l=l.times(2),0!==o&&(l=l.plus(az(y,u+2,b).times(o+""))),l=nz(l,new y(d),u,1),null!=e)return y.precision=b,l;if(!JF(l.d,u-p,m,s))return rz(l,y.precision=b,m,RF=!0);y.precision=u+=p,c=a=v=nz(h.minus(1),h.plus(1),u,1),f=rz(v.times(v),u,1),i=s=1}l=c,i+=2}}function vz(t){return String(t.s*t.s/0)}function gz(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);r++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i),e){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%YF,n<0&&(r+=YF),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=YF;r<i;)t.d.push(+e.slice(r,r+=YF));e=e.slice(r),r=YF-e.length}else r-=i;for(;r--;)e+="0";t.d.push(+e),RF&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function yz(t,e){var n,r,i,o,a,s,l,c,u;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),GF.test(e))return gz(t,e)}else if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(HF.test(e))n=16,e=e.toLowerCase();else if(WF.test(e))n=2;else{if(!$F.test(e))throw Error(NF+e);n=8}for(o=e.search(/p/i),o>0?(l=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),a=o>=0,r=t.constructor,a&&(e=e.replace(".",""),s=e.length,o=s-o,i=uz(r,new r(n),o,2*o)),c=tz(e,n,VF),u=c.length-1,o=u;0===c[o];--o)c.pop();return o<0?new r(0*t.s):(t.e=oz(c,u),t.d=c,RF=!1,a&&(t=nz(t,i,4*s)),l&&(t=t.times(Math.abs(l)<54?zF(2,l):fW.pow(2,l))),RF=!0,t)}function mz(t,e){var n,r=e.d.length;if(r<3)return e.isZero()?e:bz(t,2,e,e);n=1.4*Math.sqrt(r),n=n>16?16:0|n,e=e.times(1/xz(5,n)),e=bz(t,2,e,e);for(var i,o=new t(5),a=new t(16),s=new t(20);n--;)i=e.times(e),e=e.times(o.plus(i.times(a.times(i).minus(s))));return e}function bz(t,e,n,r,i){var o,a,s,l,c=t.precision,u=Math.ceil(c/YF);for(RF=!1,l=n.times(n),s=new t(r);;){if(a=nz(s.times(l),new t(e++*e++),c,1),s=i?r.plus(a):r.minus(a),r=nz(a.times(l),new t(e++*e++),c,1),a=s.plus(r),void 0!==a.d[u]){for(o=u;a.d[o]===s.d[o]&&o--;);if(-1==o)break}o=s,s=r,r=a,a=o}return RF=!0,a.d.length=u+1,a}function xz(t,e){var n=t;while(--e)n*=t;return n}function wz(t,e){var n,r=e.s<0,i=sz(t,t.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return yF=r?4:1,e;if(n=e.divToInt(i),n.isZero())yF=r?3:2;else{if(e=e.minus(n.times(i)),e.lte(o))return yF=hz(n)?r?2:3:r?4:1,e;yF=hz(n)?r?1:4:r?3:2}return e.minus(i).abs()}function Oz(t,e,n,r){var i,o,a,s,l,c,u,h,f,d=t.constructor,p=void 0!==n;if(p?(QF(n,1,kF),void 0===r?r=d.rounding:QF(r,0,8)):(n=d.precision,r=d.rounding),t.isFinite()){for(u=iz(t),a=u.indexOf("."),p?(i=2,16==e?n=4*n-3:8==e&&(n=3*n-2)):i=e,a>=0&&(u=u.replace(".",""),f=new d(1),f.e=u.length-a,f.d=tz(iz(f),10,i),f.e=f.d.length),h=tz(u,10,i),o=l=h.length;0==h[--l];)h.pop();if(h[0]){if(a<0?o--:(t=new d(t),t.d=h,t.e=o,t=nz(t,f,n,r,0,i),h=t.d,o=t.e,c=gF),a=h[n],s=i/2,c=c||void 0!==h[n+1],c=r<4?(void 0!==a||c)&&(0===r||r===(t.s<0?3:2)):a>s||a===s&&(4===r||c||6===r&&1&h[n-1]||r===(t.s<0?8:7)),h.length=n,c)for(;++h[--n]>i-1;)h[n]=0,n||(++o,h.unshift(1));for(l=h.length;!h[l-1];--l);for(a=0,u="";a<l;a++)u+=TF.charAt(h[a]);if(p){if(l>1)if(16==e||8==e){for(a=16==e?4:3,--l;l%a;l++)u+="0";for(h=tz(u,i,e),l=h.length;!h[l-1];--l);for(a=1,u="1.";a<l;a++)u+=TF.charAt(h[a])}else u=u.charAt(0)+"."+u.slice(1);u=u+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)u="0"+u;u="0."+u}else if(++o>l)for(o-=l;o--;)u+="0";else o<l&&(u=u.slice(0,o)+"."+u.slice(o))}else u=p?"0p+0":"0";u=(16==e?"0x":2==e?"0b":8==e?"0o":"")+u}else u=vz(t);return t.s<0?"-"+u:u}function Cz(t,e){if(t.length>e)return t.length=e,!0}function Sz(t){return new this(t).abs()}function _z(t){return new this(t).acos()}function Ez(t){return new this(t).acosh()}function Mz(t,e){return new this(t).plus(e)}function kz(t){return new this(t).asin()}function Tz(t){return new this(t).asinh()}function Az(t){return new this(t).atan()}function Lz(t){return new this(t).atanh()}function Pz(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,o=r+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?sz(this,r,i):new this(0),n.s=t.s):!t.d||e.isZero()?(n=sz(this,o,1).times(.5),n.s=t.s):e.s<0?(this.precision=o,this.rounding=1,n=this.atan(nz(t,e,o,1)),e=sz(this,o,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(nz(t,e,o,1)):(n=sz(this,o,1).times(e.s>0?.25:.75),n.s=t.s):n=new this(NaN),n}function Rz(t){return new this(t).cbrt()}function Iz(t){return rz(t=new this(t),t.e+1,2)}function Nz(t,e,n){return new this(t).clamp(e,n)}function jz(t){if(!t||"object"!==typeof t)throw Error(IF+"Object expected");var e,n,r,i=!0===t.defaults,o=["precision",1,kF,"rounding",0,8,"toExpNeg",-MF,0,"toExpPos",0,MF,"maxE",0,MF,"minE",-MF,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(n=o[e],i&&(this[n]=PF[n]),void 0!==(r=t[n])){if(!(FF(r)===r&&r>=o[e+1]&&r<=o[e+2]))throw Error(NF+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=PF[n]),void 0!==(r=t[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(NF+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(BF);this[n]=!0}else this[n]=!1}return this}function Bz(t){return new this(t).cos()}function Dz(t){return new this(t).cosh()}function Fz(t){var e,n,r;function i(t){var e,n,r,o=this;if(!(o instanceof i))return new i(t);if(o.constructor=i,Gz(t))return o.s=t.s,void(RF?!t.d||t.e>i.maxE?(o.e=NaN,o.d=null):t.e<i.minE?(o.e=0,o.d=[0]):(o.e=t.e,o.d=t.d.slice()):(o.e=t.e,o.d=t.d?t.d.slice():t.d));if(r=typeof t,"number"===r){if(0===t)return o.s=1/t<0?-1:1,o.e=0,void(o.d=[0]);if(t<0?(t=-t,o.s=-1):o.s=1,t===~~t&&t<1e7){for(e=0,n=t;n>=10;n/=10)e++;return void(RF?e>i.maxE?(o.e=NaN,o.d=null):e<i.minE?(o.e=0,o.d=[0]):(o.e=e,o.d=[t]):(o.e=e,o.d=[t]))}return 0*t!==0?(t||(o.s=NaN),o.e=NaN,void(o.d=null)):gz(o,t.toString())}if("string"!==r)throw Error(NF+t);return 45===(n=t.charCodeAt(0))?(t=t.slice(1),o.s=-1):(43===n&&(t=t.slice(1)),o.s=1),GF.test(t)?gz(o,t):yz(o,t)}if(i.prototype=KF,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=jz,i.clone=Fz,i.isDecimal=Gz,i.abs=Sz,i.acos=_z,i.acosh=Ez,i.add=Mz,i.asin=kz,i.asinh=Tz,i.atan=Az,i.atanh=Lz,i.atan2=Pz,i.cbrt=Rz,i.ceil=Iz,i.clamp=Nz,i.cos=Bz,i.cosh=Dz,i.div=zz,i.exp=Wz,i.floor=Hz,i.hypot=$z,i.ln=Vz,i.log=Yz,i.log10=Xz,i.log2=Uz,i.max=qz,i.min=Kz,i.mod=Zz,i.mul=Qz,i.pow=Jz,i.random=tW,i.round=eW,i.sign=nW,i.sin=rW,i.sinh=iW,i.sqrt=oW,i.sub=aW,i.sum=sW,i.tan=lW,i.tanh=cW,i.trunc=uW,void 0===t&&(t={}),t&&!0!==t.defaults)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function zz(t,e){return new this(t).div(e)}function Wz(t){return new this(t).exp()}function Hz(t){return rz(t=new this(t),t.e+1,3)}function $z(){var t,e,n=new this(0);for(RF=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return RF=!0,new this(1/0);n=e}return RF=!0,n.sqrt()}function Gz(t){return t instanceof fW||t&&t.toStringTag===DF||!1}function Vz(t){return new this(t).ln()}function Yz(t,e){return new this(t).log(e)}function Uz(t){return new this(t).log(2)}function Xz(t){return new this(t).log(10)}function qz(){return fz(this,arguments,"lt")}function Kz(){return fz(this,arguments,"gt")}function Zz(t,e){return new this(t).mod(e)}function Qz(t,e){return new this(t).mul(e)}function Jz(t,e){return new this(t).pow(e)}function tW(t){var e,n,r,i,o=0,a=new this(1),s=[];if(void 0===t?t=this.precision:QF(t,1,kF),r=Math.ceil(t/YF),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));o<r;)i=e[o],i>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(BF);for(e=crypto.randomBytes(r*=4);o<r;)i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((127&e[o+3])<<24),i>=214e7?crypto.randomBytes(4).copy(e,o):(s.push(i%1e7),o+=4);o=r/4}else for(;o<r;)s[o++]=1e7*Math.random()|0;for(r=s[--o],t%=YF,r&&t&&(i=zF(10,YF-t),s[o]=(r/i|0)*i);0===s[o];o--)s.pop();if(o<0)n=0,s=[0];else{for(n=-1;0===s[0];n-=YF)s.shift();for(r=1,i=s[0];i>=10;i/=10)r++;r<YF&&(n-=YF-r)}return a.e=n,a.d=s,a}function eW(t){return rz(t=new this(t),t.e+1,this.rounding)}function nW(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function rW(t){return new this(t).sin()}function iW(t){return new this(t).sinh()}function oW(t){return new this(t).sqrt()}function aW(t,e){return new this(t).sub(e)}function sW(){var t=0,e=arguments,n=new this(e[t]);for(RF=!1;n.s&&++t<e.length;)n=n.plus(e[t]);return RF=!0,rz(n,this.precision,this.rounding)}function lW(t){return new this(t).tan()}function cW(t){return new this(t).tanh()}function uW(t){return rz(t=new this(t),t.e+1,1)}KF[Symbol.for("nodejs.util.inspect.custom")]=KF.toString,KF[Symbol.toStringTag]="Decimal";var hW,fW=KF.constructor=Fz(PF);AF=new fW(AF),LF=new fW(LF);var dW,pW=function(t){return"number"===typeof t?Number.isNaN(t):!t||("string"!==typeof t||Number.isNaN(Number(t)))},vW=function(t,e,n){return void 0===n&&(n=!1),(null===t||void 0===t?void 0:t.length)?t.reduce((function(t,r){var i=vv(r,e),o=pW(i);if(n&&o)return t;var a=o?0:i;return t.push(new fW(a)),t}),[]):[]},gW=function(t,e){var n=vW(t,e);return n.length?fW.sum.apply(fW,ic([],rc(n),!1)).toNumber():0},yW=function(t,e,n){var r=vW(e,n,!0);if(null===r||void 0===r?void 0:r.length)return fW[t].apply(fW,ic([],rc(r),!1)).toNumber()},mW=function(t,e){var n=vW(t,e);return(null===n||void 0===n?void 0:n.length)?fW.sum.apply(fW,ic([],rc(n),!1)).dividedBy(n.length).toNumber():0},bW=(hW={},hW[bN.SUM]=gW,hW[bN.MIN]=function(t,e){return yW("min",t,e)},hW[bN.MAX]=function(t,e){return yW("max",t,e)},hW[bN.AVG]=mW,hW),xW=function(t){return $c(t)&&"values"in t},wW=function(t){var e=t.spreadsheet,n=t.position,r=t.tooltipContainer,i=t.autoAdjustBoundary,o=e.getCanvasElement(),a=n.x+KR.x,s=n.y+KR.y;if(!i||!o)return{x:a,y:s};var l="body"===i,c=e.facet.panelBBox,u=c.maxX,h=c.maxY,f=e.options,d=f.width,p=f.height,v=o.getBoundingClientRect(),g=v.top,y=v.left,m=r.getBoundingClientRect(),b=m.width,x=m.height,w=document.body.getBoundingClientRect(),O=w.width,C=w.height,S=l?O:Math.min(d,u)+y,_=l?C:Math.min(p,h)+g;return a+b>=S&&(a=S-b),s+x>=_&&(s=_-x),{x:a,y:s}},OW=function(t){return tc({operator:{onClick:Yu,menus:[]},enterable:!0,enableFormat:!0},t)},CW=function(t){return tc(tc({},null===t||void 0===t?void 0:t.colQuery),null===t||void 0===t?void 0:t.rowQuery)},SW=function(t,e){var n;if(t){var r=e.style,i=e.className,o=void 0===i?[]:i,a=e.visible;if(r&&Object.assign(t.style,r),o.length){var s=o.filter(Boolean);(n=t.classList).add.apply(n,ic([],rc(s),!1))}t.classList.toggle(XR,a),t.classList.toggle(qR,!a)}},_W=function(t){var e=Z_(t)&&Number.isNaN(t),n=""===t;return rE(t)||e||n?"-":t},EW=function(t,e){var n,r=null===(n=null===t||void 0===t?void 0:t.dataSet)||void 0===n?void 0:n.getFieldFormatter(e);return function(t,e){return _W(r(t,e))}},MW=function(t,e){var n,r=e.data,i=e.field,o=e.valueField,a=e.useCompleteDataForFormatter,s=void 0===a||a,l=null===(n=null===t||void 0===t?void 0:t.dataSet)||void 0===n?void 0:n.getFieldName(i),c=EW(t,i),u=$c(r[i])?JSON.stringify(r[i]):r[i],h=c(o||u,s?r:void 0);return{name:l,value:h}},kW=function(t,e,n){var r=IC(Px([],e),(function(t){return t!==Cs&&n[t]})),i=KC(r,(function(e){return MW(t,{data:n,field:e,useCompleteDataForFormatter:!1})}));return i},TW=function(t,e,n){var r,i,o,a,s=(n||{}).isTotals,l=[],c=[];if(e){var u=null===(i=null===(r=null===t||void 0===t?void 0:t.dataSet)||void 0===r?void 0:r.fields)||void 0===i?void 0:i.columns,h=null===(a=null===(o=null===t||void 0===t?void 0:t.dataSet)||void 0===o?void 0:o.fields)||void 0===a?void 0:a.rows;l=kW(t,zI(u||[]),e),c=kW(t,h,e)}return H_(l)&&H_(c)&&s&&(l=[{value:VR("总计")}]),{cols:l,rows:c}},AW=function(t,e,n){if(e){var r=n.isTotals,i=e[Cs],o=e[i],a=[];if(r)a.push(MW(t,{data:e,field:i,valueField:vv(e,Os)}));else if(xW(o)&&t.getTooltipDataItemMappingCallback()){var s=xB(e,t.getTooltipDataItemMappingCallback());JO(s,(function(e,n){a.push(MW(t,{data:s,field:n}))}))}else a.push(MW(t,{data:e,field:i}));return a}},LW=function(t,e,n){var r;if(n)return VR("总计");var i=null===(r=null===t||void 0===t?void 0:t.dataSet)||void 0===r?void 0:r.getFieldName(e);return i&&"undefined"!==i?i:""},PW=function(t,e,n){void 0===n&&(n=!0);var r=[];return JO(e,(function(e,i){JO(t,(function(t){n||-1===t.colIndex?n&&-1!==t.rowIndex&&r.push([t.rowIndex,i]):r.push([i,t.colIndex])}))})),r},RW=function(t,e){var n,r=e.rowLeafNodes,i=e.colLeafNodes,o=t.interaction.getState(),a=o.nodes,s=void 0===a?[]:a,l=o.cells,c=void 0===l?[]:l,u=null===(n=null===c||void 0===c?void 0:c[0])||void 0===n?void 0:n.type;return u===Ml.COL_CELL?PW(s,r,!1):u===Ml.ROW_CELL?PW(s,i):[]},IW=function(t,e,n){var r,i=null===(r=t.facet)||void 0===r?void 0:r.layoutResult,o=function(t){var n=null===e||void 0===e?void 0:e.getMeta(),r=null===n||void 0===n?void 0:n.isTotals,o=(null===e||void 0===e?void 0:e.cellType)===Ml.COL_CELL,a=(null===e||void 0===e?void 0:e.cellType)===Ml.ROW_CELL;if(!o&&!a)return!1;var s=i.colNodes.find((function(e){return e.colIndex===t.colIndex})),l=i.rowNodes.find((function(e){return e.rowIndex===t.rowIndex})),c=o?null===l||void 0===l?void 0:l.isTotals:null===s||void 0===s?void 0:s.isTotals;return!r&&(null===t||void 0===t?void 0:t.isTotals)||r&&c};if(n){var a=RW(t,i);return Lx(KC(a,(function(t){var e=rc(t,2),n=e[0],r=e[1],a=i.getCellMeta(n,r);if(!o(a))return(null===a||void 0===a?void 0:a.data)||CW(a)})))}var s=t.interaction.getCells();return s.filter((function(t){var e=i.getCellMeta(t.rowIndex,t.colIndex);return!o(e)})).map((function(t){var e=i.getCellMeta(t.rowIndex,t.colIndex);return(null===e||void 0===e?void 0:e.data)||CW(e)}))},NW=function(t){var e=t.spreadsheet,n=t.targetCell,r=t.options,i=void 0===r?{}:r,o=[],a={},s=e.isTableMode();if(s&&(null===i||void 0===i?void 0:i.showSingleTips)){var l=e.dataSet.getMultiData({});return[{selectedData:l,name:"",value:""}]}var c=IW(e,n,i.showSingleTips);return JO(c,(function(t){var e;a[null===t||void 0===t?void 0:t[Cs]]?null===(e=a[null===t||void 0===t?void 0:t[Cs]])||void 0===e||e.push(t):a[null===t||void 0===t?void 0:t[Cs]]=[t]})),FE(a,(function(t,n){var r,s=LW(e,n,null===i||void 0===i?void 0:i.isTotals),l="",c="";if(kC(t,(function(t){return pW(vv(t,Os))}))){var u=e.options.placeholder,h=Oj(a,u);l=h,c=h}else{var f=EW(e,n),d=gW(t,Os);c=d,l=null!==(r=null===f||void 0===f?void 0:f(d,t))&&void 0!==r?r:parseFloat(d.toPrecision(hl))}o.push({selectedData:t,name:s,value:l,originValue:c})})),o},jW=function(t){if(t){var e=t.getMeta();if(!e.isTotals){var n=FC(e.spreadsheet.dataCfg.meta,{field:e.field||e.value||e.valueField}),r=null===n||void 0===n?void 0:n.field;return e.spreadsheet.dataSet.getFieldDescription(r)}}},BW=function(t){var e=t.spreadsheet,n=t.cellInfos,r=void 0===n?[]:n,i=t.options,o=void 0===i?{}:i,a=t.targetCell,s=null,l=null,c=null,u=jW(a),h=r[0]||{};if(null===o||void 0===o?void 0:o.hideSummary)if(o.showSingleTips){var f=EW(e,h.valueField),d=f(h.value),p=o.enableFormat?e.dataSet.getFieldName(h.value)||d:e.dataSet.getFieldName(h.valueField);h.name=p||""}else l=TW(e,h,o),c=AW(e,h,o);else s=NW({spreadsheet:e,options:o,targetCell:a});var v=h||{},g=v.interpretation,y=v.infos,m=v.tips,b=v.name;return{summaries:s,interpretation:g,infos:y,tips:m,name:b,headInfo:l,details:c,description:u}},DW=function(t){return KC(t,(function(t){var e=t.getMeta();return lp({},e.query||{},$k(e,["colIndex","rowIndex"]))}))},FW=function(t){if(!t.interaction.isSelectedState())return[];var e=t.dataCfg.fields.valueInCols;return t.interaction.getCells().reduce((function(n,r){var i=t.facet.layoutResult.getCellMeta(null===r||void 0===r?void 0:r.rowIndex,null===r||void 0===r?void 0:r.colIndex),o=CW(i);if(H_(i)||H_(o))return[];var a=tc(tc({},o),{colIndex:e?i.colIndex:null,rowIndex:e?null:i.rowIndex}),s=n.find((function(t){return $_(a,t)}));return s||n.push(a),n}),[])},zW=function(t,e){void 0===t&&(t={});var n=function(e){return CF(t,e)},r=t.col,i=t.row,o=t.data,a=t.corner;return e===Ml.COL_CELL?n(r):e===Ml.ROW_CELL?n(i):e===Ml.DATA_CELL?n(o):e===Ml.CORNER_CELL?n(a):tc({},t)},WW=function(t,e){var n;if(e&&t){var r=null===(n=t.getCellType)||void 0===n?void 0:n.call(t,null===e||void 0===e?void 0:e.target);return zW(t.options.tooltip,r)}},HW=function(t,e){var n=e.defaultMenus,r=void 0===n?[]:n,i=e.cell,o=function(t){return void 0===t&&(t=[]),t.filter((function(t){var e;return su(t.visible)?t.visible(i):null===(e=t.visible)||void 0===e||e})).map((function(t){return t.children&&(t.children=o(t.children)),t}))},a=o(t.menus);return{onClick:t.onClick,menus:Lx(ic(ic([],rc(r),!1),rc(a),!1))}},$W=function(t,e){var n=!1,r=e;while(r&&r!==document.body){if(t===r){n=!0;break}r=r.parentElement}return n},GW=function(t){t.store.set(xl,wl)},VW=function(t,e){var n=t.store.get(xl,wl);t.store.set(xl,tc(tc({},n),e))},YW=function(t,e){var n=t.store.get(xl,wl);return n[e]},UW=function(){function t(t){var e=this;this.getFieldMeta=rv((function(t,n){return FC(e.meta||n,(function(e){return e.field===t}))})),this.spreadsheet=t}return t.prototype.getFieldName=function(t){return vv(this.getFieldMeta(t,this.meta),"name",t)},t.prototype.getFieldFormatter=function(t){return vv(this.getFieldMeta(t,this.meta),"formatter",nu)},t.prototype.getFieldDescription=function(t){return vv(this.getFieldMeta(t,this.meta),"description")},t.prototype.setDataCfg=function(t){this.getFieldMeta.cache.clear();var e=this.processDataCfg(t),n=e.fields,r=e.meta,i=e.data,o=e.totalData,a=e.sortParams,s=e.filterParams;this.fields=n,this.meta=r,this.originData=i,this.totalData=o,this.sortParams=a,this.filterParams=s,this.displayData=this.originData,this.indexesData=[]},t.prototype.processMeta=function(t,e){var n,r;return void 0===t&&(t=[]),ic(ic([],rc(t),!1),[gD(t,null===(r=null===(n=this.spreadsheet)||void 0===n?void 0:n.options)||void 0===r?void 0:r.cornerExtraFieldText,e)],!1)},t.prototype.getDisplayDataSet=function(){return this.displayData},t.prototype.getValueRangeByField=function(t){var e,n=YW(this.spreadsheet,t);if(n)return n;var r=Lx(KC(this.originData,(function(e){var n=e[t];return rE(n)?null:Number.parseFloat(n)}))),i={maxValue:YE(r),minValue:oM(r)};return VW(this.spreadsheet,(e={},e[t]=i,e)),i},t.prototype.moreThanOneValue=function(){var t,e;return(null===(e=null===(t=this.fields)||void 0===t?void 0:t.values)||void 0===e?void 0:e.length)>1},t}(),XW=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleDimensionValuesSort=function(){JO(e.sortParams,(function(t){var n=t.sortFieldId,r=t.sortByMeasure;if(n){var i=ic([],rc(e.sortedDimensionValues[n]||[]),!1),o=TD({dataSet:e,sortParam:t,originValues:i,isSortByMeasure:!H_(r)});e.sortedDimensionValues[n]=o}}))},e.getCustomData=function(t){for(var n,r=!1,i=e.indexesData,o=function(e){var o=t[e];r?i=fE(o)?TN(i):null===(n=US(i))||void 0===n?void 0:n.map((function(t){return t&&vv(t,o)})):fE(o)?r=!0:i=null===i||void 0===i?void 0:i[o]},a=0;a<t.length;a++)o(a);return i},e.getTotalStatus=function(t){var n=e.fields,r=n.columns,i=n.rows,o=function(e,n){if(n){var r=FC(e,(function(e){return!FS(t,e)}));return r&&r!==XC(e)}return kC(e,(function(e){return!FS(t,e)}))},a=function(t,e){return e?t.filter((function(t){return t!==Cs})):t};return{isRowTotal:o(a(i,!e.spreadsheet.isValueInCols())),isRowSubTotal:o(i,!0),isColTotal:o(a(r,e.spreadsheet.isValueInCols())),isColSubTotal:o(r,!0)}},e}return Jl(e,t),e.prototype.setDataCfg=function(e){var n=this;t.prototype.setDataCfg.call(this,e),this.sortedDimensionValues={},this.rowPivotMeta=new Map,this.colPivotMeta=new Map,this.totalData=[].concat(IN(e.data,e.fields)).concat(this.totalData),UI.getInstance().debugCallback(GI,(function(){var t=n.fields,e=t.rows,r=t.columns,i=pD({rows:e,columns:r,originData:n.originData,totalData:n.totalData,indexesData:n.indexesData,sortedDimensionValues:n.sortedDimensionValues,rowPivotMeta:n.rowPivotMeta,colPivotMeta:n.colPivotMeta}).indexesData;n.indexesData=i})),this.handleDimensionValuesSort()},e.prototype.transformDrillDownData=function(t,e,n){var r,i=this,o=this.fields,a=o.columns,s=o.values,l=sI.getFieldPath(n,!0),c=ic(ic([],rc(l),!1),[t],!1),u=this.spreadsheet.store,h=this.standardTransform(e,s),f=IN(h,{columns:this.fields.columns,rows:c}),d=FO(h,f),p=null===n||void 0===n?void 0:n.id,v=null!==(r=u.get("drillDownIdPathMap"))&&void 0!==r?r:new Map;v.has(p)&&(JO(v.get(p),(function(t){hP(i.indexesData,t)})),vD(this.rowPivotMeta,p));var g=pD({rows:c,columns:a,originData:d,totalData:f,indexesData:this.indexesData,sortedDimensionValues:this.sortedDimensionValues,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),y=g.paths,m=g.indexesData,b=g.rowPivotMeta,x=g.colPivotMeta,w=g.sortedDimensionValues;this.indexesData=m,this.rowPivotMeta=b,this.colPivotMeta=x,this.sortedDimensionValues=w,v.set(p,y),u.set("drillDownIdPathMap",v)},e.prototype.clearDrillDownData=function(t){var e=this,n=this.spreadsheet.store,r=n.get("drillDownIdPathMap");if(r){var i=n.get("drillDownDataCache",[]);if(t){var o=r.get(t);o&&JO(o,(function(t){hP(e.indexesData,t)})),vD(this.rowPivotMeta,t),r.delete(t);var a=IC(i,(function(t){return r.has(null===t||void 0===t?void 0:t.rowId)}));n.set("drillDownDataCache",a);var s=a.map((function(t){return null===t||void 0===t?void 0:t.drillLevel})),l=n.get("drillDownFieldInLevel",[]),c=l.filter((function(t){return qS(s,null===t||void 0===t?void 0:t.drillLevel)}));n.set("drillDownFieldInLevel",c)}else{r.clear();var u=this.spreadsheet.store.get("originalDataCfg");H_(u)||this.spreadsheet.setDataCfg(u),this.spreadsheet.store.set("drillItemsNum",-1),this.spreadsheet.store.set("drillDownDataCache",[]),this.spreadsheet.store.set("drillDownFieldInLevel",[])}n.set("drillDownIdPathMap",r)}},e.prototype.standardTransform=function(t,e){if(H_(e))return t;var n=[];return JO(e,(function(e){JO(t,(function(t){var r;FS(t,e)&&n.push(tc(tc({},t),(r={},r[Cs]=e,r[Os]=t[e],r)))}))})),n},e.prototype.processDataCfg=function(t){var e=t.data,n=t.meta,r=void 0===n?[]:n,i=t.fields,o=t.sortParams,a=void 0===o?[]:o,s=t.totalData,l=i.columns,c=i.rows,u=i.values,h=i.valueInCols,f=i.customValueOrder,d=l,p=c;h?d=this.isCustomMeasuresPosition(f)?this.handleCustomMeasuresOrder(f,d):aP(ic(ic([],rc(l),!1),[Cs],!1)):p=this.isCustomMeasuresPosition(f)?this.handleCustomMeasuresOrder(f,p):aP(ic(ic([],rc(c),!1),[Cs],!1));var v=this.processMeta(r,VR("数值")),g=this.standardTransform(e,u),y=this.standardTransform(s,u);return{data:g,meta:v,fields:tc(tc({},i),{rows:p,columns:d,values:u}),totalData:y,sortParams:a}},e.prototype.getDimensionValues=function(t,e){var n,r,i,o,a=this.fields||{},s=a.rows,l=void 0===s?[]:s,c=a.columns,u=void 0===c?[]:c,h=new Map,f=[];if(qS(l,t)?(h=this.rowPivotMeta,f=l):qS(u,t)&&(h=this.colPivotMeta,f=u),!H_(e)){var d=[],p=[],v=function(t){var n=vv(e,t);p.push("".concat(n));var r=p.join("".concat(sl));if(h.has(n)&&!fE(n)){var a=null===(i=h.get(n))||void 0===i?void 0:i.childField;if(h=h.get(n).children,FC(g.sortParams,(function(t){return t.sortFieldId===a}))&&g.sortedDimensionValues[a]){var s=null===(o=g.sortedDimensionValues[a])||void 0===o?void 0:o.filter((function(t){return null===t||void 0===t?void 0:t.startsWith(r)}));d=uD(ic([],rc(s),!1))}else d=ic([],rc(h.keys()),!1)}},g=this;try{for(var y=nc(f),m=y.next();!m.done;m=y.next()){var b=m.value;v(b)}}catch(x){n={error:x}}finally{try{m&&!m.done&&(r=y.return)&&r.call(y)}finally{if(n)throw n.error}}return H_(d)?[]:MN(EN(ic([],rc(h.keys()),!1),d))}return this.sortedDimensionValues[t]?MN(uD(ic([],rc(this.sortedDimensionValues[t]),!1))):MN(ic([],rc(h.keys()),!1))},e.prototype.getTotalValue=function(t){var e,n,r=NN(this.getTotalStatus(t),null===(n=this.spreadsheet.options)||void 0===n?void 0:n.totals)||{},i=r.aggregation,o=r.calcFunc,a=bW[i];if(a||o){var s=this.getMultiData(t),l=void 0;return o?l=o(t,s):a&&(l=a(s,Os)),tc(tc({},t),(e={},e[Os]=l,e[t[Cs]]=l,e))}},e.prototype.getCellData=function(t){var e,n,r,i=t||{},o=i.query,a=i.rowNode,s=i.isTotals,l=void 0!==s&&s,c=this.fields,u=c.columns,h=c.rows,f=h,d=null===(e=this.spreadsheet)||void 0===e?void 0:e.store.get("drillDownIdPathMap"),p=Array.from(null!==(n=null===d||void 0===d?void 0:d.keys())&&void 0!==n?n:[]).some((function(t){return a.id.startsWith(t)}));l&&!p||(f=null!==(r=sI.getFieldPath(a,p))&&void 0!==r?r:h);var v=dD(f,o),g=dD(u,o),y=fD({rowDimensionValues:v,colDimensionValues:g,careUndefined:l||RN([].concat(h).concat(u),o),rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),m=vv(this.indexesData,y);return m||(l?this.getTotalValue(o):m)},e.prototype.getMultiData=function(t,e,n,r){var i;if(H_(t))return Lx(kN(this.indexesData));var o=this.fields,a=o.rows,s=o.columns,l=o.values,c=H_(r)?a:a.concat(r),u=dD(c,t),h=dD(s,t),f=fD({rowDimensionValues:u,colDimensionValues:h,careUndefined:!0,isFirstCreate:!0,rowFields:a,colFields:s,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}),d=this.getCustomData(f),p=Lx(TN(d));if(e){var v=[],g=LN(u,a),y=LN(h,s);if(n)v=g;else{var m=1===(null===(i=ip(t))||void 0===i?void 0:i.length)&&FS(t,Cs);if(m)v=y;else{var b=function(t){return AN(null===t||void 0===t?void 0:t.filter((function(t){return!(null===l||void 0===l?void 0:l.includes(t))})))},x=b(h),w=b(u);v=x?g:w?y:ic(ic([],rc(g),!1),rc(y),!1)}}p=p.filter((function(t){return!(null===v||void 0===v?void 0:v.find((function(e){var n;return e!==Cs&&(null===(n=ip(t))||void 0===n?void 0:n.includes(e))})))}))}return p||[]},e.prototype.getFieldFormatter=function(e,n){return e===_s?this.getFieldFormatterForTotalValue(n):t.prototype.getFieldFormatter.call(this,e)},e.prototype.getFieldFormatterForTotalValue=function(e){var n;return!this.spreadsheet.isValueInCols()&&e&&(n=vv(e.rowQuery,Cs)),n=null!==n&&void 0!==n?n:vv(this.fields.values,0),t.prototype.getFieldFormatter.call(this,n)},e.prototype.handleCustomMeasuresOrder=function(t,e){var n=aP(ic([],rc(e),!1));return e.length>=t?(n.splice(t,0,Cs),n):ic(ic([],rc(n),!1),[Cs],!1)},e.prototype.isCustomMeasuresPosition=function(t){return Z_(t)},e.prototype.getRowData=function(t){return this.getMultiData(t.rowQuery)},e}(UW),qW=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleDimensionValueFilter=function(){JO(e.filterParams,(function(t){var n=t.filterKey,r=t.filteredValues,i=t.customFilter,o=function(t){return!qS(r,t[n])};e.displayData=ic(ic(ic([],rc(e.getStartRows()),!1),rc(IC(e.getMovableRows(),(function(t){return i?i(t)&&o(t):o(t)}))),!1),rc(e.getEndRows()),!1)}))},e.handleDimensionValuesSort=function(){JO(e.sortParams,(function(t){var n=t.sortFieldId,r=t.sortBy,i=t.sortFunc,o=t.sortMethod,a=t.query;if(n){var s=e.getMovableRows(),l=[];if(a){var c=[];s.forEach((function(t){for(var e=Object.keys(a),n=!0,r=0;r<e.length;r++){var i=e[r];if(t[i]!==a[i]){n=!1,l.push(t);break}}n&&c.push(t)})),s=c}var u=s;if(i)u=i(tc(tc({},t),{data:s}));else if(r&&!su(r)){var h=ic([],rc(r),!1).reverse();u=s.sort((function(t,e){var r=h.indexOf(t[n]),i=h.indexOf(e[n]);return i-r}))}else if(yD(o)||mD(o)){var f=su(r)?r:null;u=BM(s,[f||n],[o.toLocaleLowerCase()])}l.length&&(u=ic(ic([],rc(u),!1),rc(l),!1)),e.displayData=ic(ic(ic([],rc(e.getStartRows()),!1),rc(u),!1),rc(e.getEndRows()),!1)}}))},e}return Jl(e,t),e.prototype.processDataCfg=function(t){return t},e.prototype.setDataCfg=function(e){t.prototype.setDataCfg.call(this,e),this.handleDimensionValueFilter(),this.handleDimensionValuesSort()},e.prototype.getStartRows=function(){var t=(this.spreadsheet.options||{}).frozenRowCount;if(!t)return[];var e=this.displayData;return e.slice(0,t)},e.prototype.getEndRows=function(){var t=(this.spreadsheet.options||{}).frozenTrailingRowCount;if(!t)return[];var e=this.displayData;return e.slice(-t)},e.prototype.getMovableRows=function(){var t=this.displayData,e=this.spreadsheet.options||{},n=e.frozenTrailingRowCount,r=e.frozenRowCount;return t.slice(r||0,-n||void 0)},e.prototype.getDimensionValues=function(t,e){return[]},e.prototype.getCellData=function(t){var e=t.query;if(0!==this.displayData.length||0!==e.rowIndex){var n=this.displayData[e.rowIndex];return"col"in e&&$c(n)?n[e.col]:n}},e.prototype.getMultiData=function(t,e){return this.displayData},e.prototype.getRowData=function(t){return this.getCellData({query:{rowIndex:t.rowIndex}})},e}(UW),KW=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.getCellData=function(t){var e=t.query,n=this.fields,r=n.columns,i=n.rows,o=dD(i,e),a=dD(r,e),s=fD({rowDimensionValues:o,colDimensionValues:a,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta,isFirstCreate:!0,careUndefined:!0,rowFields:i,colFields:r}),l=vv(this.indexesData,s);return l},e.prototype.setDataCfg=function(e){t.prototype.setDataCfg.call(this,e),this.sortedDimensionValues={},this.rowPivotMeta=new Map,this.colPivotMeta=new Map;var n=this.fields,r=n.rows,i=n.columns,o=pD({rows:r,columns:i,originData:this.originData,totalData:[],indexesData:this.indexesData,sortedDimensionValues:this.sortedDimensionValues,rowPivotMeta:this.rowPivotMeta,colPivotMeta:this.colPivotMeta}).indexesData;this.indexesData=o,this.handleDimensionValuesSort()},e.prototype.processDataCfg=function(t){t.fields.valueInCols=!1;var e=t.data,n=t.meta,r=ec(t,["data","meta"]),i=t.fields.values,o=[];JO(e,(function(t){H_(r_(ip(t),i))?o.push(t):JO(i,(function(e){var n;FS(t,e)&&o.push(tc(tc({},t),(n={},n[Cs]=e,n[Os]=t[e],n)))}))}));var a=this.processMeta(n,VR("指标"));return tc(tc({},r),{meta:a,data:aP(o),fields:tc(tc({},t.fields),{rows:[Cs]})})},e}(XW);(function(t){t["ScrollChange"]="scroll-change",t["ScrollEnd"]="scroll-end"})(dW||(dW={}));var ZW=function(t){function e(e){var n=t.call(this,e)||this;n.isMobile=!1,n.eventHandlers=[],n.scrollFrameId=null,n.getCoordinatesName=function(){var t=n.isHorizontal?"x1":"y1",e=n.isHorizontal?"x2":"y2";return{from:t,to:e}},n.getCoordinatesWithBBoxExtraPadding=function(){var t=n.theme.size,e=n.isHorizontal?0:t/2,r=n.isHorizontal?t:t/2;return{start:n.thumbOffset+e,end:n.thumbOffset+n.thumbLen-r}},n.current=function(){var t=n.thumbLen/n.trackLen,e=n.thumbOffset/n.trackLen;return e/(1-t)},n.updateThumbLen=function(t){if(n.thumbLen!==t){n.thumbLen=t;var e=n.getCoordinatesName();n.thumbShape.attr(e.to,n.thumbOffset+t),n.emitScrollChange(n.thumbOffset/(n.trackLen-n.thumbLen)*n.scrollTargetMaxOffset,!1)}},n.updateThumbOffset=function(t,e){var r;void 0===e&&(e=!0);var i=n.validateRange(t),o=n.thumbOffset===i&&0!==i;if(!o){n.thumbOffset=i;var a=n.getCoordinatesName(),s=a.from,l=a.to,c=n.getCoordinatesWithBBoxExtraPadding(),u=c.start,h=c.end;n.thumbShape.attr((r={},r[s]=u,r[l]=h,r)),e&&n.emitScrollChange(i/(n.trackLen-n.thumbLen)*n.scrollTargetMaxOffset,!1)}},n.onlyUpdateThumbOffset=function(t){var e;n.updateThumbOffset(t,!1),null===(e=n.get("canvas"))||void 0===e||e.draw()},n.emitScrollChange=function(t,e){void 0===e&&(e=!0),cancelAnimationFrame(n.scrollFrameId),n.scrollFrameId=requestAnimationFrame((function(){n.emit(dW.ScrollChange,{offset:t,updateThumbOffset:e})}))},n.addEventListener=function(t,e,n){return null===t||void 0===t||t.addEventListener(e,n,!1),{remove:function(){null===t||void 0===t||t.removeEventListener(e,n,!1)}}},n.addEvent=function(t,e,r){t.on(e,r),n.eventHandlers.push({target:t,type:e,handler:r})},n.initScrollBar=function(){n.scrollBarGroup=n.createScrollBarGroup(),n.scrollBarGroup.move(n.position.x,n.position.y),n.bindEvents()},n.createScrollBarGroup=function(){var t=n.addGroup({className:n.isHorizontal?"horizontalBar":"verticalBar"});return n.trackShape=n.createTrackShape(t),n.thumbShape=n.createThumbShape(t),t},n.createTrackShape=function(t){var e=n.theme,r=e.lineCap,i=void 0===r?"round":r,o=e.trackColor,a=e.size,s={lineWidth:a,stroke:o,lineCap:i};return n.isHorizontal?t.addShape("line",{attrs:tc(tc({},s),{x1:0,y1:a/2,x2:n.trackLen,y2:a/2})}):t.addShape("line",{attrs:tc(tc({},s),{x1:a/2,y1:0,x2:a/2,y2:n.trackLen})})},n.createThumbShape=function(t){var e=n.theme,r=e.size,i=e.lineCap,o=void 0===i?"round":i,a=e.thumbColor,s={lineWidth:r,stroke:a,lineCap:o,cursor:"default"},l=n.getCoordinatesWithBBoxExtraPadding(),c=l.start,u=l.end;return n.isHorizontal?t.addShape("line",{attrs:tc(tc({},s),{x1:c,y1:r/2,x2:u,y2:r/2})}):t.addShape("line",{attrs:tc(tc({},s),{x1:r/2,y1:c,x2:r/2,y2:u})})},n.bindEvents=function(){n.on("mousedown",n.onStartEvent(!1)),n.on("mouseup",n.onMouseUp),n.on("touchstart",n.onStartEvent(!0)),n.on("touchend",n.onMouseUp),n.trackShape.on("click",n.onTrackClick),n.thumbShape.on("mouseover",n.onTrackMouseOver),n.thumbShape.on("mouseout",n.onTrackMouseOut)},n.onStartEvent=function(t){return function(e){e.preventDefault(),n.isMobile=t;var r=n.isMobile?vv(e,"touches.0",e):e,i=r.clientX,o=r.clientY;n.startPos=n.isHorizontal?i:o,n.bindLaterEvent()}},n.bindLaterEvent=function(){var t=n.get("canvas"),e=document.body,r=[];n.isMobile?(r=[n.addEventListener(e,"touchmove",n.onMouseMove),n.addEventListener(e,"touchend",n.onMouseUp),n.addEventListener(e,"touchcancel",n.onMouseUp)],n.addEvent(t,"touchend",n.onMouseUp),n.addEvent(t,"touchcancel",n.onMouseUp)):(r=[n.addEventListener(e,"mousemove",n.onMouseMove),n.addEventListener(e,"mouseup",n.onMouseUp),n.addEventListener(e,"mouseleave",n.onMouseUp)],n.addEvent(t,"mouseup",n.onMouseUp)),n.clearEvents=function(){r.forEach((function(t){null===t||void 0===t||t.remove()})),JO(n.eventHandlers,(function(t){var e;null===(e=t.target)||void 0===e||e.off(t.type,t.handler)})),n.eventHandlers.length=0}},n.onTrackClick=function(t){var e=n.isHorizontal?t.x-n.position.x-n.thumbLen/2:t.y-n.position.y-n.thumbLen/2,r=n.validateRange(e);n.updateThumbOffset(r)},n.onMouseMove=function(t){t.preventDefault();var e=n.isMobile?vv(t,"touches.0",t):t,r=e.clientX,i=e.clientY,o=n.isHorizontal?r:i,a=o-n.startPos;n.startPos=o,n.updateThumbOffset(n.thumbOffset+a)},n.onMouseUp=function(t){var e;n.emit(dW.ScrollEnd,{}),t.preventDefault(),null===(e=n.clearEvents)||void 0===e||e.call(n)},n.onTrackMouseOver=function(){var t=n.theme,e=t.thumbHoverColor,r=t.hoverSize;n.thumbShape.attr("stroke",e),n.thumbShape.attr("lineWidth",r)},n.onTrackMouseOut=function(){var t=n.theme,e=t.thumbColor,r=t.size;n.thumbShape.attr("stroke",e),n.thumbShape.attr("lineWidth",r)},n.validateRange=function(t){var e=t;return t+n.thumbLen>n.trackLen?e=n.trackLen-n.thumbLen:t+n.thumbLen<n.thumbLen&&(e=0),e};var r=e.isHorizontal,i=void 0!==r&&r,o=e.trackLen,a=e.thumbLen,s=e.position,l=e.thumbOffset,c=void 0===l?0:l,u=e.theme,h=e.scrollTargetMaxOffset;return n.isHorizontal=i,n.thumbOffset=c,n.trackLen=o,n.thumbLen=a,n.position=s,n.theme=u,n.scrollTargetMaxOffset=h,n.initScrollBar(),n}return Jl(e,t),e}(_a),QW=function(t,e,n){return t.filter((function(t){return t.level>=e})).map((function(t){return t[n]})).reduce((function(t,e){return t+e}),0)},JW=function(t,e,n){if(n<=0)return{start:0,end:0};var r=BC(t,(function(n,r){var i=e;return i>=n&&i<t[r+1]}),0);r=Math.max(r,0);var i=n===e?r:BC(t,(function(e,r){var i=n;return i>e&&i<=t[r+1]}),r);return i=Math.min(-1===i?1/0:i,t.length-2),{start:r,end:i}},tH=function(t,e){var n=e.width,r=e.originalWidth,i=Math.min(r-n,t);return i<0?0:i},eH=function(t,e,n){var r=Math.min(e-n,t);return r<0?0:r},nH=function(t,e){if(void 0===t&&(t=[]),H_(t))return[];var n=[];return t.forEach((function(t){if(t instanceof e&&n.push(t),t instanceof _a){var r=t.getChildren();r.forEach((function(t){t instanceof e&&n.push(t)}))}})),n},rH=function(t,e,n){return n.slice(t,e+1).map((function(t){return t.x+t.width}))},iH=function(t,e,n){for(var r=[],i=t;i<e+1;i++)r.push(n.getCellOffsetY(i+1));return r},oH=function(t,e,n,r){var i=iH(t,e,r),o=r.getCellOffsetY(t);return i.map((function(t){return t-o+n}))},aH=function(t,e,n){var r=rc(n,4),i=r[0],o=r[1],a=r[2],s=r[3];return t>=i&&t<=o&&e>=a&&e<=s},sH=function(t){for(var e=rc(t,4),n=e[0],r=e[1],i=e[2],o=e[3],a=[],s=n;s<=r;s+=1)for(var l=i;l<=o;l+=1)a.push([s,l]);return a},lH=function(t,e){var n=[],r=[];if(H_(t))return H_(e)?{add:n,remove:r}:{add:sH(e),remove:r};if(H_(e))return{add:n,remove:sH(t)};for(var i=rc(t,4),o=i[0],a=i[1],s=i[2],l=i[3],c=rc(e,4),u=c[0],h=c[1],f=c[2],d=c[3],p=o;p<=a;p++)for(var v=s;v<=l;v++)aH(p,v,e)||r.push([p,v]);for(p=u;p<=h;p+=1)for(v=f;v<=d;v+=1)aH(p,v,t)||n.push([p,v]);return{add:n,remove:r}},cH=function(t,e){var n=[],r=[];return Object.keys(e).forEach((function(i){var o=lH((null===t||void 0===t?void 0:t[i])||[],e[i]),a=o.add,s=o.remove;n.push.apply(n,ic([],rc(a),!1)),r.push.apply(r,ic([],rc(s),!1))})),{add:n,remove:r}},uH=function(){function t(t,e){void 0===e&&(e=!1),this.x=0,this.y=0,this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.width=0,this.height=0,this.originalWidth=0,this.originalHeight=0,this.viewportHeight=0,this.viewportWidth=0,this.facet=t,this.spreadsheet=t.spreadsheet,this.layoutResult=t.layoutResult,e&&this.calculateBBox()}return t}(),hH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.calculateBBox=function(){var t=this.getCornerBBoxWidth(),e=this.getCornerBBoxHeight();this.width=t,this.height=e,this.maxX=t,this.maxY=e},e.prototype.getCornerBBoxOriginalHeight=function(){var t=this.layoutResult.colsHierarchy,e=this.spreadsheet.options.style.colCfg;return t.sampleNodeForLastLevel?Math.floor(t.height):null===e||void 0===e?void 0:e.height},e.prototype.getCornerBBoxHeight=function(){return this.originalHeight=this.getCornerBBoxOriginalHeight(),this.originalHeight},e.prototype.getCornerBBoxWidth=function(){var t=this.layoutResult.rowsHierarchy;return this.originalWidth=Math.floor(t.width+this.facet.getSeriesNumberWidth()),this.spreadsheet.isScrollContainsRowHeader()?this.originalWidth:this.adjustCornerBBoxWidth()},e.prototype.adjustCornerBBoxWidth=function(){var t=this.layoutResult.colsHierarchy,e=this.spreadsheet.options.width,n=e*fl,r=null===t||void 0===t?void 0:t.width,i=e-this.originalWidth;if(this.originalWidth<=n||r<=i)return this.originalWidth;var o=0,a=e-n;return o=r<=a?this.originalWidth-(r-i):n,Math.floor(o)},e}(uH),fH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.calculateBBox=function(){this.originalWidth=this.facet.getRealWidth(),this.originalHeight=this.facet.getRealHeight();var t=this.facet.cornerBBox,e={x:Math.floor(t.maxX),y:Math.floor(t.maxY)},n=this.spreadsheet.theme.scrollBar.size,r=this.spreadsheet.options,i=r.width,o=r.height,a=Math.max(0,i-e.x),s=Math.max(0,o-e.y-n);this.x=e.x,this.y=e.y,this.width=a,this.height=s,this.viewportHeight=Math.abs(Math.floor(Math.min(s,this.originalHeight))),this.viewportWidth=Math.abs(Math.floor(Math.min(a,this.originalWidth))),this.maxX=e.x+this.viewportWidth,this.maxY=e.y+this.viewportHeight,this.minX=e.x,this.minY=e.y;var l=this.spreadsheet.options,c=l.frozenTrailingColCount,u=l.frozenTrailingRowCount;c>0&&(this.viewportWidth=this.width,this.maxX=e.x+this.width),u>0&&(this.viewportHeight=this.height,this.maxY=e.y+this.height)},e}(uH),dH=function(t){function e(e){var n=t.call(this,e)||this;return n.isHeaderCellInViewport=function(t,e,n,r){return t+e>=n&&n+r>=t},n.headerConfig=e,n}return Jl(e,t),e.prototype.getConfig=function(){return this.headerConfig},e.prototype.clearResizeAreaGroup=function(t){var e=this.get("parent"),n=null===e||void 0===e?void 0:e.findById(t);null===n||void 0===n||n.clear()},e.prototype.render=function(t){this.clearResizeAreaGroup(t),this.clear(),this.layout(),this.offset(),this.clip()},e.prototype.onScrollXY=function(t,e,n){this.headerConfig.scrollX=t,this.headerConfig.scrollY=e,this.render(n)},e.prototype.onRowScrollX=function(t,e){this.headerConfig.scrollX=t,this.render(e)},e.prototype.clear=function(){t.prototype.clear.call(this)},e}(_a),pH=function(t){function e(e){var n=t.call(this,e)||this;return n.scrollGroup=n.addGroup({name:tl,zIndex:Ts}),n}return Jl(e,t),e.prototype.onColScroll=function(t,e){this.headerConfig.scrollX!==t&&(this.headerConfig.scrollX=t,this.render(e))},e.prototype.clip=function(){var t=this.headerConfig,e=t.width,n=t.height,r=t.scrollX,i=t.spreadsheet,o=i.isFrozenRowHeader();this.scrollGroup.setClip({type:"rect",attrs:{x:o?r:0,y:0,width:o?e:e+r,height:n}})},e.prototype.clear=function(){var t,e;null===(t=this.scrollGroup)||void 0===t||t.clear(),null===(e=this.background)||void 0===e||e.remove(!0)},e.prototype.getCellInstance=function(t,e,n){return new PD(t,e,n)},e.prototype.getCellGroup=function(t){return this.scrollGroup},e.prototype.isColCellInRect=function(t){var e=this.headerConfig,n=e.spreadsheet,r=e.cornerWidth,i=e.width,o=e.scrollX;return i+o>t.x&&o-(n.isFrozenRowHeader()?0:r)<t.x+t.width},e.prototype.layout=function(){var t=this,e=this.headerConfig,n=e.data,r=e.spreadsheet,i=r.options.colCell;JO(n,(function(e){var n=e;if(t.isColCellInRect(n)){var o=(null===i||void 0===i?void 0:i(n,r,t.headerConfig))||t.getCellInstance(n,r,t.headerConfig);n.belongsCell=o;var a=t.getCellGroup(n);a.add(o)}}))},e.prototype.offset=function(){var t=this.headerConfig,e=t.position,n=t.scrollX;TI(this.scrollGroup,e.x-n)},e}(dH),vH=function(t){function e(e){return t.call(this,e)||this}return Jl(e,t),e.getCornerHeader=function(t,n,r,i,o,a){var s=t.width,l=t.height,c=n.originalWidth,u=n.originalHeight,h=n.width,f=n.height,d=this.getCornerNodes({x:n.x,y:n.y},c,u,i.rows,i.columns,o.rowsHierarchy,o.colsHierarchy,i.dataSet,r,a);return new e({data:d,position:{x:n.x,y:n.y},width:h,height:f,originalHeight:u,originalWidth:c,viewportWidth:s,viewportHeight:l,hierarchyType:i.hierarchyType,hierarchyCollapse:i.hierarchyCollapse,rows:i.rows,columns:i.columns,seriesNumberWidth:r,spreadsheet:a})},e.getCornerNodes=function(t,e,n,r,i,o,a,s,l,c){var u,h,f,d=[],p=c.options.style.colCfg,v=null===a||void 0===a?void 0:a.sampleNodeForLastLevel,g=null!==(u=null===v||void 0===v?void 0:v.y)&&void 0!==u?u:0,y=null!==(f=null!==(h=null===v||void 0===v?void 0:v.height)&&void 0!==h?h:null===p||void 0===p?void 0:p.height)&&void 0!==f?f:0;if(l){var m=new sI({id:"",key:il,value:VR("序号")});m.x=null===t||void 0===t?void 0:t.x,m.y=g,m.width=l,m.height=y,m.isPivotMode=!0,m.spreadsheet=c,m.cornerType=xN.Series,d.push(m)}if(c.isHierarchyTreeType()){var b=this.getTreeCornerText(c),x=new sI({key:"",id:b,value:b});x.x=t.x+l,x.y=g,x.width=e-l,x.height=y,x.seriesNumberWidth=l,x.isPivotMode=!0,x.spreadsheet=c,x.cornerType=xN.Row,d.push(x)}else o.sampleNodesForAllLevels.forEach((function(t){var e=r[t.level],n=new sI({key:e,id:e,value:s.getFieldName(e)});n.x=t.x+l,n.y=g,n.width=t.width,n.height=y,n.field=e,n.isPivotMode=!0,n.cornerType=xN.Row,n.spreadsheet=c,d.push(n)}));return a.sampleNodesForAllLevels.forEach((function(n){if(n.level<a.maxLevel){var r=i[n.level],o=new sI({key:r,id:r,value:s.getFieldName(r)});o.x=t.x,o.y=n.y,o.width=e,o.height=n.height,o.field=r,o.isPivotMode=!0,o.cornerType=xN.Col,o.spreadsheet=c,d.push(o)}})),d},e.getTreeCornerText=function(t){var e=t.dataSet.fields.rows,n=void 0===e?[]:e,r=t.options.cornerText;if(r)return r;var i=t.store.get("drillDownFieldInLevel",[]),o=i.map((function(t){return t.drillField})),a=n.filter((function(t){return!qS(o,t)})).map((function(e){return t.dataSet.getFieldName(e)})).join("/");return a},e.prototype.onCorScroll=function(t,e){this.headerConfig.scrollX=t,this.render(e)},e.prototype.destroy=function(){t.prototype.destroy.call(this)},e.prototype.layout=function(){this.renderCells()},e.prototype.renderCells=function(){var t,e,n,r,i=this,o=this.headerConfig,a=o.data,s=o.spreadsheet,l=null===(e=null===(t=null===s||void 0===s?void 0:s.facet)||void 0===t?void 0:t.cfg)||void 0===e?void 0:e.cornerHeader,c=null===(r=null===(n=null===s||void 0===s?void 0:s.facet)||void 0===n?void 0:n.cfg)||void 0===r?void 0:r.cornerCell;l?l(this,s,this.headerConfig):a.forEach((function(t){var e;c&&(e=c(t,i.headerConfig.spreadsheet,i.headerConfig)),H_(e)&&(e=new RD(t,i.headerConfig.spreadsheet,i.headerConfig)),i.add(e)}))},e.prototype.offset=function(){var t=this.headerConfig.scrollX;TI(this,-t)},e.prototype.clip=function(){var t=this.headerConfig,e=t.width,n=t.height,r=t.scrollX;this.setClip({type:"rect",attrs:{x:r,y:0,width:e,height:n}})},e.prototype.getNodes=function(){return this.headerConfig.data||[]},e}(dH),gH=function(t){function e(e){var n=t.call(this,e)||this;return n.render(),n}return Jl(e,t),e.prototype.layout=function(){this.addCornerBottomBorder(),this.addCornerRightBorder(),this.addSplitLineShadow()},e.prototype.render=function(){this.clear(),this.layout()},e.prototype.onBorderScroll=function(t){this.cfg.scrollX=t;var e=this.cfg.position;kI(this,e.x-t,0),this.render()},e.prototype.onChangeShadowVisibility=function(t,e){this.cfg.showViewportLeftShadow=t>0,this.cfg.showViewportRightShadow=Math.floor(t)<Math.floor(e),this.render()},e.prototype.addCornerRightBorder=function(){var t,e=this.cfg,n=e.isPivotMode;if(n){var r=e.width,i=e.height,o=e.viewportHeight,a=e.position,s=e.spreadsheet,l=null===(t=s.theme)||void 0===t?void 0:t.splitLine,c=a.x+r,u=a.y,h=a.y+i+o;this.addShape("line",{attrs:{x1:c,y1:u,x2:c,y2:h,stroke:l.verticalBorderColor,lineWidth:l.verticalBorderWidth,opacity:l.verticalBorderColorOpacity}})}},e.prototype.addCornerBottomBorder=function(){var t,e=this.cfg,n=e.width,r=e.height,i=e.viewportWidth,o=e.position,a=e.scrollX,s=e.scrollContainsRowHeader,l=e.spreadsheet,c=null===(t=l.theme)||void 0===t?void 0:t.splitLine,u=o.x,h=u+n+i+(s?a:0),f=o.y+r-1;this.addShape("line",{attrs:{x1:u,y1:f,x2:h,y2:f,stroke:c.horizontalBorderColor,lineWidth:c.horizontalBorderWidth,opacity:c.horizontalBorderColorOpacity}})},e.prototype.addSplitLineShadow=function(){var t,e=this.cfg,n=e.isPivotMode,r=e.spreadsheet,i=null===(t=r.theme)||void 0===t?void 0:t.splitLine;n&&i.showShadow&&r.isFrozenRowHeader()&&(this.addSplitLineLeftShadow(),this.addSplitLineRightShadow())},e.prototype.addSplitLineLeftShadow=function(){var t,e,n;if(this.cfg.showViewportLeftShadow){var r=this.cfg,i=r.width,o=r.height,a=r.viewportHeight,s=r.position,l=r.spreadsheet,c=null===(t=l.theme)||void 0===t?void 0:t.splitLine,u=s.x+i,h=s.y;this.addShape("rect",{attrs:{x:u,y:h,width:c.shadowWidth,height:a+o,fill:"l (0) 0:".concat(null===(e=c.shadowColors)||void 0===e?void 0:e.left," 1:").concat(null===(n=c.shadowColors)||void 0===n?void 0:n.right)}})}},e.prototype.addSplitLineRightShadow=function(){var t,e,n;if(this.cfg.showViewportRightShadow){var r=this.cfg,i=r.width,o=r.height,a=r.viewportHeight,s=r.viewportWidth,l=r.position,c=r.spreadsheet,u=null===(t=c.theme)||void 0===t?void 0:t.splitLine,h=l.x+i+s-u.shadowWidth,f=l.y;this.addShape("rect",{attrs:{x:h,y:f,width:u.shadowWidth,height:a+o,fill:"l (0) 0:".concat(null===(e=u.shadowColors)||void 0===e?void 0:e.right," 1:").concat(null===(n=u.shadowColors)||void 0===n?void 0:n.left)}})}},e}(_a),yH=function(t){function e(e){return t.call(this,e)||this}return Jl(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.gm&&this.gm.destroy()},e.prototype.layout=function(){var t,e,n=this,r=this.headerConfig,i=r.data,o=r.spreadsheet,a=r.width,s=r.viewportHeight,l=r.seriesNumberWidth,c=r.scrollY,u=r.scrollX,h=null===(e=null===(t=null===o||void 0===o?void 0:o.facet)||void 0===t?void 0:t.cfg)||void 0===e?void 0:e.rowCell,f=function(t){return s+c>t.y&&c<t.y+t.height&&a-l+u>t.x&&u-l<t.x+t.width};JO(i,(function(t){if(f(t)&&0!==t.height){var e=void 0;h&&(e=h(t,o,n.headerConfig)),H_(e)&&o.isPivotMode()&&(e=new nF(t,o,n.headerConfig)),t.belongsCell=e,n.add(e)}}))},e.prototype.offset=function(){var t=this.headerConfig,e=t.scrollX,n=t.scrollY,r=t.position,i=t.seriesNumberWidth;kI(this,r.x-e+i,r.y-n)},e.prototype.clip=function(){var t=this.headerConfig,e=t.width,n=t.viewportHeight,r=t.scrollX,i=t.scrollY,o=t.seriesNumberWidth;this.setClip({type:"rect",attrs:{x:r-o,y:i,width:e,height:n}})},e}(dH),mH=function(t){function e(e){return t.call(this,e)||this}return Jl(e,t),e.getSeriesNumberHeader=function(t,n,r,i,o){var a=t.height,s=t.viewportHeight,l=[],c=i.isHierarchyTreeType();return r.forEach((function(t){if(!t.isTotals||c){var e=new sI({id:"",key:"",value:"".concat(l.length+1)});e.x=t.x,e.y=t.y,e.height=t.height,e.width=n,l.push(e)}})),new e({width:o,height:a,viewportWidth:o,viewportHeight:s,position:{x:0,y:t.y},data:l,spreadsheet:i})},e.prototype.clip=function(){var t=this.headerConfig,e=t.width,n=t.viewportHeight,r=t.scrollY;this.setClip({type:"rect",attrs:{x:0,y:r,width:e,height:n}})},e.prototype.layout=function(){var t=this,e=this.headerConfig,n=e.data,r=e.scrollY,i=e.viewportHeight,o=e.spreadsheet;o.isPivotMode&&this.addBackGround();var a=this.addGroup();JO(n,(function(e){var n=e.y,o=e.height,s=e.isLeaf,l=t.isHeaderCellInViewport(n,o,r,i);if(l){var c=t.addGroup();t.addText(c,e),t.add(c),s||t.addBorder(a,e)}}))},e.prototype.offset=function(){var t=this.headerConfig,e=t.scrollY,n=t.scrollX,r=t.position;kI(this,r.x-n,r.y-e),this.backgroundShape&&this.backgroundShape.translate(r.x,r.y+e),this.leftBorderShape&&this.leftBorderShape.translate(r.x,r.y+e)},e.prototype.addBackGround=function(){var t=this.getStyle().cell,e=this.headerConfig,n=e.position,r=e.width,i=e.viewportHeight;this.backgroundShape=DN(this,{x:n.x,y:-n.y,width:r,height:i,fill:t.backgroundColor,stroke:"transparent",opacity:t.backgroundColorOpacity});var o=pj(mN.LEFT,{x:n.x,y:-n.y,width:r,height:i},t),a=o.position,s=o.style;this.leftBorderShape=$N(this,a,s)},e.prototype.addBorder=function(t,e){var n=this.getStyle().cell,r=pj(mN.BOTTOM,e,n),i=r.position,o=r.style;$N(t,i,o)},e.prototype.getStyle=function(){return this.headerConfig.spreadsheet.theme.rowCell},e.prototype.addText=function(t,e){var n=this.headerConfig,r=n.scrollY,i=n.viewportHeight,o=tc(tc({},this.getStyle().seriesText),{textBaseline:"top"}),a=e.label,s=e.x,l=e.y,c=e.width,u=e.height,h=this.getTextPadding(a,c),f=eF(l+h.top,u-h.top-h.bottom,r,i,o.fontSize);t.addShape("text",{attrs:tc(tc({x:s+h.left,y:f,text:a},o),{cursor:"pointer"})})},e.prototype.getTextPadding=function(t,e){var n=this.getStyle(),r=this.headerConfig.spreadsheet.measureTextWidth(t,n.seriesText),i=Math.max(Math.abs((e-r)/2),4);return tc(tc({},n.cell.padding),{left:i,right:i})},e}(dH),bH=function(){function t(t){var e=this;this.scrollFrameId=null,this.hideScrollBar=function(){var t,n,r;null===(t=e.hRowScrollBar)||void 0===t||t.hide(),null===(n=e.hScrollBar)||void 0===n||n.hide(),null===(r=e.vScrollBar)||void 0===r||r.hide()},this.delayHideScrollBar=fO(this.hideScrollBar,1e3),this.delayHideScrollbarOnMobile=function(){nI()&&e.delayHideScrollBar()},this.showVerticalScrollBar=function(){var t;null===(t=e.vScrollBar)||void 0===t||t.show()},this.showHorizontalScrollBar=function(){var t,n;null===(t=e.hRowScrollBar)||void 0===t||t.show(),null===(n=e.hScrollBar)||void 0===n||n.show()},this.onContainerWheel=function(){e.onContainerWheelForPc(),e.onContainerWheelForMobile()},this.onContainerWheelForPc=function(){var t=e.spreadsheet.getCanvasElement();null===t||void 0===t||t.addEventListener("wheel",e.onWheel)},this.onContainerWheelForMobile=function(){e.mobileWheel=new JD(e.spreadsheet.container),e.mobileWheel.on("wheel",(function(t){e.spreadsheet.hideTooltip();var n=t.event,r=t.deltaX,i=t.deltaY,o=t.x,a=t.y;e.onWheel(tc(tc({},n),{deltaX:r,deltaY:i,offsetX:o,offsetY:a}))}))},this.bindEvents=function(){e.onContainerWheel(),e.emitPaginationEvent()},this.setScrollOffset=function(t){Object.keys(t).forEach((function(n){var r=t[n];fE(r)||e.spreadsheet.store.set(n,Math.floor(r))}))},this.getScrollOffset=function(){var t=e.spreadsheet.store;return{scrollX:t.get("scrollX",0),scrollY:t.get("scrollY",0),rowHeaderScrollX:t.get("rowHeaderScrollX",0)}},this.emitPaginationEvent=function(){var t=e.cfg.pagination;if(t){var n=t.current,r=void 0===n?eI:n,i=t.pageSize,o=e.viewCellHeights.getTotalLength(),a=Math.floor((o-1)/i)+1;e.cfg.spreadsheet.emit(bs.LAYOUT_PAGINATION,{pageSize:i,pageCount:a,total:o,current:r})}},this.unbindEvents=function(){var t=e.spreadsheet.getCanvasElement();null===t||void 0===t||t.removeEventListener("wheel",e.onWheel),e.mobileWheel.destroy()},this.clipPanelGroup=function(){var t;e.foregroundGroup=e.spreadsheet.foregroundGroup,e.backgroundGroup=e.spreadsheet.backgroundGroup,e.panelGroup=e.spreadsheet.panelGroup;var n=e.panelBBox,r=n.width,i=n.height;null===(t=e.spreadsheet.panelScrollGroup)||void 0===t||t.setClip({type:"rect",attrs:{x:0,y:e.cornerBBox.height,width:r,height:i}})},this.calculateCellWidthHeight=function(){var t=e.layoutResult.colLeafNodes,n=_T(t,(function(t,e){return t.push(zO(t)+e.width),t}),[0]);e.viewCellWidths=n,e.viewCellHeights=e.getViewCellHeights(e.layoutResult)},this.getRealScrollX=function(t,n){return void 0===n&&(n=0),e.cfg.spreadsheet.isScrollContainsRowHeader()?t:n},this.calculatePanelBBox=function(){e.panelBBox=new fH(e,!0)},this.getRealWidth=function(){return zO(e.viewCellWidths)},this.getRealHeight=function(){var t=e.cfg.pagination,n=e.viewCellHeights;if(t){var r=e.getCellRange(),i=r.start,o=r.end;return n.getCellOffsetY(o+1)-n.getCellOffsetY(i)}return n.getTotalHeight()},this.clearAllGroup=function(){for(var t=e.panelGroup.getChildren()||[],n=t.length-1;n>=0;n--){var r=t[n];r instanceof _a?r.set("children",[]):t[n].remove()}e.foregroundGroup.set("children",[]),e.backgroundGroup.set("children",[])},this.scrollWithAnimation=function(t,n,r){var i,o,a,s;void 0===t&&(t={}),void 0===n&&(n=200);var l=e.getAdjustedScrollOffset({scrollX:(null===(i=t.offsetX)||void 0===i?void 0:i.value)||0,scrollY:(null===(o=t.offsetY)||void 0===o?void 0:o.value)||0,rowHeaderScrollX:(null===(a=t.rowHeaderOffsetX)||void 0===a?void 0:a.value)||0}),c=l.scrollX,u=l.scrollY,h=l.rowHeaderScrollX;null===(s=e.timer)||void 0===s||s.stop();var f=e.getScrollOffset(),d=[null!==c&&void 0!==c?c:f.scrollX,null!==u&&void 0!==u?u:f.scrollY,null!==h&&void 0!==h?h:f.rowHeaderScrollX],p=Hn(Object.values(f),d);e.timer=Xe((function(t){var i=Math.min(t/n,1),o=rc(p(i),3),a=o[0],s=o[1],l=o[2];e.setScrollOffset({rowHeaderScrollX:l,scrollX:a,scrollY:s}),e.startScroll(),t>n&&(e.timer.stop(),null===r||void 0===r||r())}))},this.scrollImmediately=function(t){var n,r,i;void 0===t&&(t={});var o=e.getAdjustedScrollOffset({scrollX:(null===(n=t.offsetX)||void 0===n?void 0:n.value)||0,scrollY:(null===(r=t.offsetY)||void 0===r?void 0:r.value)||0,rowHeaderScrollX:(null===(i=t.rowHeaderOffsetX)||void 0===i?void 0:i.value)||0}),a=o.scrollX,s=o.scrollY,l=o.rowHeaderScrollX;e.setScrollOffset({scrollX:a,scrollY:s,rowHeaderScrollX:l}),e.startScroll()},this.startScroll=function(t){var n,r,i;void 0===t&&(t=!1);var o=e.getScrollOffset(),a=o.rowHeaderScrollX,s=o.scrollX,l=o.scrollY;null===(n=e.hRowScrollBar)||void 0===n||n.onlyUpdateThumbOffset(e.getScrollBarOffset(a,e.hRowScrollBar)),null===(r=e.hScrollBar)||void 0===r||r.onlyUpdateThumbOffset(e.getScrollBarOffset(s,e.hScrollBar)),null===(i=e.vScrollBar)||void 0===i||i.onlyUpdateThumbOffset(e.getScrollBarOffset(l,e.vScrollBar)),e.dynamicRenderCell(t)},this.getRendererHeight=function(){var t=e.getCellRange(),n=t.start,r=t.end;return e.viewCellHeights.getCellOffsetY(r+1)-e.viewCellHeights.getCellOffsetY(n)},this.getAdjustedScrollOffset=function(t){var n=t.scrollX,r=t.scrollY,i=t.rowHeaderScrollX;return{scrollX:eH(n,e.layoutResult.colsHierarchy.width,e.panelBBox.width),scrollY:eH(r,e.getRendererHeight(),e.panelBBox.height),rowHeaderScrollX:tH(i,e.cornerBBox)}},this.renderRowScrollBar=function(t){if(!e.cfg.spreadsheet.isScrollContainsRowHeader()&&e.cornerBBox.width<e.cornerBBox.originalWidth){var n=e.cornerBBox.originalWidth-e.cornerBBox.width,r=e.getScrollbarPosition().maxY,i=e.spreadsheet.theme,o=i.splitLine,a=i.scrollBar,s=Math.max(e.cornerBBox.width*e.cornerBBox.width/e.cornerBBox.originalWidth,null===a||void 0===a?void 0:a.thumbHorizontalMinSize),l=s-(null===o||void 0===o?void 0:o.verticalBorderWidth);e.hRowScrollBar=new ZW({isHorizontal:!0,trackLen:e.cornerBBox.width,thumbLen:l,position:{x:e.cornerBBox.minX+e.scrollBarSize/2,y:r},thumbOffset:t*(e.cornerBBox.width-s)/n,theme:e.scrollBarTheme,scrollTargetMaxOffset:n}),e.hRowScrollBar.on(dW.ScrollChange,(function(t){var r,i,o=t.offset,a=e.getValidScrollBarOffset(o,n),s=Math.floor(a);e.setScrollOffset({rowHeaderScrollX:s}),null===(r=e.rowHeader)||void 0===r||r.onRowScrollX(s,Us),null===(i=e.rowIndexHeader)||void 0===i||i.onRowScrollX(s,Ks),e.cornerHeader.onRowScrollX(s,Zs);var l=e.getScrollBarOffset(s,e.hRowScrollBar),c=e.getScrollOffset(),u=c.scrollX,h=c.scrollY,f={scrollX:u,scrollY:h,rowHeaderScrollX:l};e.hRowScrollBar.updateThumbOffset(l,!1),e.spreadsheet.emit(bs.ROW_CELL_SCROLL,f),e.spreadsheet.emit(bs.GLOBAL_SCROLL,f)})),e.foregroundGroup.add(e.hRowScrollBar)}},this.getValidScrollBarOffset=function(t,e){return rm(t,0,e)},this.renderHScrollBar=function(t,n,r){if(Math.floor(t)<Math.floor(n)){var i=e.scrollBarSize/2,o=e.getScrollbarPosition().maxY,a=t+(e.cfg.spreadsheet.isScrollContainsRowHeader()?Math.min(e.cornerBBox.width,e.getCanvasHW().width):0),s={x:e.panelBBox.minX+(e.cfg.spreadsheet.isScrollContainsRowHeader()?-e.cornerBBox.width+i:i),y:o},l=n+(e.cfg.spreadsheet.isScrollContainsRowHeader()?e.cornerBBox.width:0),c=e.spreadsheet.theme.scrollBar,u=l-a,h=Math.max(a/l*a,null===c||void 0===c?void 0:c.thumbHorizontalMinSize);e.hScrollBar=new ZW({isHorizontal:!0,trackLen:a,thumbLen:h,position:s,thumbOffset:r*(a-h)/u,theme:e.scrollBarTheme,scrollTargetMaxOffset:u}),e.hScrollBar.on(dW.ScrollChange,(function(t){var n=t.offset,r=t.updateThumbOffset,i=e.getValidScrollBarOffset(n,u);r&&e.hScrollBar.updateThumbOffset(e.getScrollBarOffset(i,e.hScrollBar),!1),e.setScrollOffset({scrollX:i}),e.dynamicRenderCell()})),e.foregroundGroup.add(e.hScrollBar)}},this.getScrollbarPosition=function(){var t=e.panelBBox,n=t.maxX,r=t.maxY,i=e.getCanvasHW(),o=i.width,a=i.height,s=e.spreadsheet.options.interaction.scrollbarPosition===Bl.CONTENT;return{maxX:(s?n:o)-e.scrollBarSize,maxY:s?r:a-e.scrollBarSize}},this.renderVScrollBar=function(t,n,r){if(t<n){var i=e.spreadsheet.theme.scrollBar,o=Math.max(t/n*t,null===i||void 0===i?void 0:i.thumbVerticalMinSize),a=n-t,s=e.getScrollbarPosition().maxX;e.vScrollBar=new ZW({isHorizontal:!1,trackLen:t,thumbLen:o,thumbOffset:r*(t-o)/a,position:{x:s,y:e.panelBBox.minY},theme:e.scrollBarTheme,scrollTargetMaxOffset:a}),e.vScrollBar.on(dW.ScrollChange,(function(t){var n=t.offset,r=t.updateThumbOffset,i=e.getValidScrollBarOffset(n,a);r&&e.vScrollBar.updateThumbOffset(e.getScrollBarOffset(i,e.vScrollBar),!1),e.setScrollOffset({scrollY:i}),e.dynamicRenderCell()})),e.foregroundGroup.add(e.vScrollBar)}},this.getScrollBarOffset=function(t,e){var n=e.trackLen,r=e.thumbLen,i=e.scrollTargetMaxOffset;return t*(n-r)/i},this.isScrollOverThePanelArea=function(t){var n=t.offsetX,r=t.offsetY;return n>e.panelBBox.minX&&n<e.panelBBox.maxX&&r>e.panelBBox.minY&&r<e.panelBBox.maxY},this.isScrollOverTheCornerArea=function(t){var n=t.offsetX,r=t.offsetY;return n>e.cornerBBox.minX&&n<e.cornerBBox.maxX&&r>e.cornerBBox.minY&&r<e.cornerBBox.maxY+e.panelBBox.height},this.updateHorizontalRowScrollOffset=function(t){var n,r=t.offset,i=t.offsetX,o=t.offsetY;e.isScrollOverTheCornerArea({offsetX:i,offsetY:o})&&(null===(n=e.hRowScrollBar)||void 0===n||n.emitScrollChange(r))},this.updateHorizontalScrollOffset=function(t){var n,r=t.offset,i=t.offsetX,o=t.offsetY;e.hRowScrollBar&&!e.isScrollOverThePanelArea({offsetX:i,offsetY:o})||null===(n=e.hScrollBar)||void 0===n||n.emitScrollChange(r)},this.isScrollToLeft=function(t){var n=t.deltaX,r=t.offsetX,i=t.offsetY;if(!e.hScrollBar&&!e.hRowScrollBar)return!0;var o=!e.hRowScrollBar||e.isScrollOverThePanelArea({offsetY:i,offsetX:r})||e.hRowScrollBar.thumbOffset<=0,a=!e.hScrollBar||e.hScrollBar.thumbOffset<=0;return n<=0&&a&&o},this.isScrollToRight=function(t){var n,r,i,o,a,s,l=t.deltaX,c=t.offsetX,u=t.offsetY;if(!e.hScrollBar&&!e.hRowScrollBar)return!0;var h=e.spreadsheet.isFrozenRowHeader()?null===(n=e.panelBBox)||void 0===n?void 0:n.width:null===(r=e.panelBBox)||void 0===r?void 0:r.maxX,f=!e.hRowScrollBar||e.isScrollOverThePanelArea({offsetY:u,offsetX:c})||(null===(i=e.hRowScrollBar)||void 0===i?void 0:i.thumbOffset)+(null===(o=e.hRowScrollBar)||void 0===o?void 0:o.thumbLen)>=e.cornerBBox.width,d=e.hRowScrollBar&&e.isScrollOverTheCornerArea({offsetX:c,offsetY:u})||(null===(a=e.hScrollBar)||void 0===a?void 0:a.thumbOffset)+(null===(s=e.hScrollBar)||void 0===s?void 0:s.thumbLen)>=h;return l>=0&&d&&f},this.isScrollToTop=function(t){var n;return!e.vScrollBar||t<=0&&(null===(n=e.vScrollBar)||void 0===n?void 0:n.thumbOffset)<=0},this.isScrollToBottom=function(t){var n,r,i;return!e.vScrollBar||t>=0&&(null===(n=e.vScrollBar)||void 0===n?void 0:n.thumbOffset)+(null===(r=e.vScrollBar)||void 0===r?void 0:r.thumbLen)>=(null===(i=e.panelBBox)||void 0===i?void 0:i.height)},this.isVerticalScrollOverTheViewport=function(t){return!e.isScrollToTop(t)&&!e.isScrollToBottom(t)},this.isHorizontalScrollOverTheViewport=function(t){return!e.isScrollToLeft(t)&&!e.isScrollToRight(t)},this.isScrollOverTheViewport=function(t){var n=t.deltaY,r=t.deltaX,i=t.offsetY,o=i<=e.cornerBBox.maxY;return!o&&(0!==n?e.isVerticalScrollOverTheViewport(n):0!==r&&e.isHorizontalScrollOverTheViewport(t))},this.cancelScrollFrame=function(){return(!nI()||!e.scrollFrameId)&&(cancelAnimationFrame(e.scrollFrameId),!0)},this.clearScrollFrameIdOnMobile=function(){nI()&&(e.scrollFrameId=null)},this.stopScrollChainingIfNeeded=function(t){var n=e.spreadsheet.options.interaction;"auto"!==n.overscrollBehavior&&e.stopScrollChaining(t)},this.stopScrollChaining=function(t){var e,n,r;null===(e=null===t||void 0===t?void 0:t.preventDefault)||void 0===e||e.call(t),null===(r=null===(n=null===t||void 0===t?void 0:t.originalEvent)||void 0===n?void 0:n.preventDefault)||void 0===r||r.call(n)},this.onWheel=function(t){var n=e.spreadsheet.options.interaction,r=t.deltaX,i=t.deltaY,o=t.offsetX,a=t.offsetY,s=t.shiftKey;s&&iI()&&(o=o-r+i,r=i,a-=i,i=0);var l=rc(MI(r,i,n.scrollSpeedRatio),2),c=l[0],u=l[1];e.spreadsheet.hideTooltip(),e.spreadsheet.interaction.clearHoverTimer(),e.isScrollOverTheViewport({deltaX:c,deltaY:u,offsetX:o,offsetY:a})?(e.stopScrollChaining(t),e.spreadsheet.interaction.addIntercepts([Pl.HOVER]),e.cancelScrollFrame()&&(e.scrollFrameId=requestAnimationFrame((function(){var t,n=e.getScrollOffset(),r=n.scrollX,i=n.scrollY,s=n.rowHeaderScrollX;0!==c&&(e.showHorizontalScrollBar(),e.updateHorizontalRowScrollOffset({offsetX:o,offsetY:a,offset:c+s}),e.updateHorizontalScrollOffset({offsetX:o,offsetY:a,offset:c+r})),0!==u&&(e.showVerticalScrollBar(),null===(t=e.vScrollBar)||void 0===t||t.emitScrollChange(u+i)),e.delayHideScrollbarOnMobile(),e.clearScrollFrameIdOnMobile()})))):e.stopScrollChainingIfNeeded(t)},this.addCell=function(t){var n=e.spreadsheet.panelScrollGroup;null===n||void 0===n||n.add(t)},this.realCellRender=function(t,n){var r=e.calculateXYIndexes(t,n);UI.getInstance().logger("renderIndex:",e.preCellIndexes,r);var i=cH(e.preCellIndexes,r),o=i.add,a=i.remove;UI.getInstance().debugCallback(YI,(function(){JO(o,(function(t){var n=rc(t,2),r=n[0],i=n[1],o=e.layoutResult.getCellMeta(i,r);if(o){var a=e.cfg.dataCell(o);a.set("name","".concat(r,"-").concat(i)),e.addCell(a)}}));var t=nH(e.panelGroup.getChildren(),TB);JO(a,(function(e){var n=rc(e,2),r=n[0],i=n[1],o=FC(t,(function(t){return t.get("name")==="".concat(r,"-").concat(i)}));null===o||void 0===o||o.remove(!0)})),UI.getInstance().logger("Render Cell Panel: ".concat(null===t||void 0===t?void 0:t.length,", Add: ").concat(null===o||void 0===o?void 0:o.length,", Remove: ").concat(null===a||void 0===a?void 0:a.length))})),e.preCellIndexes=r,e.spreadsheet.emit(bs.LAYOUT_AFTER_REAL_DATA_CELL_RENDER,{add:o,remove:a,spreadsheet:e.spreadsheet})},this.getGridInfo=function(){var t=rc(e.preCellIndexes.center,4),n=t[0],r=t[1],i=t[2],o=t[3],a=rH(n,r,e.layoutResult.colLeafNodes),s=iH(i,o,e.viewCellHeights);return{cols:a,rows:s}},this.onAfterScroll=fO((function(){var t=e.spreadsheet,n=t.interaction,r=t.container;if(!n.isSelectedState()&&(n.removeIntercepts([Pl.HOVER]),n.getHoverAfterScroll())){var i=n.eventController.canvasMousemoveEvent;if(i){var o=i.x,a=i.y,s=r.getShape(o,a);s&&r.emit(ms.MOUSE_MOVE,tc(tc({},i),{shape:s,target:s,timestamp:performance.now()}))}}}),300),this.cfg=t,this.spreadsheet=t.spreadsheet,this.init()}return Object.defineProperty(t.prototype,"scrollBarTheme",{get:function(){return this.spreadsheet.theme.scrollBar},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollBarSize",{get:function(){return this.scrollBarTheme.size},enumerable:!1,configurable:!0}),t.prototype.getCellCustomWidth=function(t,e){return su(e)?null===e||void 0===e?void 0:e(t):e},t.prototype.getCellDraggedWidth=function(t){var e=this.cfg.colCfg;return vv(null===e||void 0===e?void 0:e.widthByFieldValue,"".concat(t.value))},t.prototype.render=function(){HI(this.spreadsheet.dataCfg.fields)||(this.adjustScrollOffset(),this.renderHeaders(),this.renderScrollBars(),this.renderBackground(),this.dynamicRenderCell())},t.prototype.adjustScrollOffset=function(){var t=this.getAdjustedScrollOffset(this.getScrollOffset());this.setScrollOffset(t)},t.prototype.getSeriesNumberWidth=function(){var t=this.cfg.showSeriesNumber;return t?this.spreadsheet.theme.rowCell.seriesNumberWidth:0},t.prototype.getCanvasHW=function(){return{width:this.cfg.width,height:this.cfg.height}},t.prototype.updateScrollOffset=function(t){var e,n,r,i,o,a;void 0===(null===(e=t.rowHeaderOffsetX)||void 0===e?void 0:e.value)?void 0===(null===(r=t.offsetX)||void 0===r?void 0:r.value)?void 0!==(null===(o=t.offsetY)||void 0===o?void 0:o.value)&&((null===(a=t.offsetY)||void 0===a?void 0:a.animate)?this.scrollWithAnimation(t):this.scrollImmediately(t)):(null===(i=t.offsetX)||void 0===i?void 0:i.animate)?this.scrollWithAnimation(t):this.scrollImmediately(t):(null===(n=t.rowHeaderOffsetX)||void 0===n?void 0:n.animate)?this.scrollWithAnimation(t):this.scrollImmediately(t)},t.prototype.getPaginationScrollY=function(){var t=this.cfg.pagination;if(t){var e=t.current,n=void 0===e?eI:e,r=t.pageSize,i=this.viewCellHeights,o=Math.max((n-1)*r,0);return i.getCellOffsetY(o)}return 0},t.prototype.destroy=function(){this.unbindEvents(),this.clearAllGroup(),this.preCellIndexes=null,cancelAnimationFrame(this.scrollFrameId)},t.prototype.calculateXYIndexes=function(t,e){var n=this.panelBBox,r=n.viewportHeight,i=n.viewportWidth,o=EI(t,e,this.viewCellWidths,this.viewCellHeights,{width:i,height:r,x:0,y:0},this.getRealScrollX(this.cornerBBox.width));return{center:o}},t.prototype.calculateCornerBBox=function(){this.cornerBBox=new hH(this,!0)},t.prototype.getCellRange=function(){var t=this.cfg.pagination;return II(this.viewCellHeights,t)},t.prototype.clip=function(t,e){var n,r=this.spreadsheet.isFrozenRowHeader();null===(n=this.spreadsheet.panelScrollGroup)||void 0===n||n.setClip({type:"rect",attrs:{x:r?t:0,y:e,width:this.panelBBox.width+(r?0:t),height:this.panelBBox.height}})},t.prototype.translateRelatedGroups=function(t,e,n){var r,i;kI(this.spreadsheet.panelScrollGroup,this.cornerBBox.width-t,this.cornerBBox.height-e),null===(r=this.rowHeader)||void 0===r||r.onScrollXY(this.getRealScrollX(t,n),e,Us),null===(i=this.rowIndexHeader)||void 0===i||i.onScrollXY(this.getRealScrollX(t,n),e,Ks),this.cornerHeader.onCorScroll(this.getRealScrollX(t,n),Zs),this.centerFrame.onChangeShadowVisibility(t,this.getRealWidth()-this.panelBBox.width),this.centerFrame.onBorderScroll(this.getRealScrollX(t)),this.columnHeader.onColScroll(t,Qs)},t.prototype.init=function(){var t=this;UI.getInstance().debugCallback(VI,(function(){t.layoutResult=t.doLayout(),t.saveInitColumnLeafNodes(t.layoutResult.colLeafNodes),t.spreadsheet.emit(bs.LAYOUT_AFTER_HEADER_LAYOUT,t.layoutResult)})),this.calculateCellWidthHeight(),this.calculateCornerBBox(),this.calculatePanelBBox(),this.clipPanelGroup(),this.bindEvents()},t.prototype.renderBackground=function(){var t=this.getCanvasHW(),e=t.width,n=t.height,r=this.spreadsheet.theme.background,i=r.color,o=r.opacity;this.backgroundGroup.addShape("rect",{attrs:{fill:i,opacity:o,x:0,y:0,width:e,height:n}})},t.prototype.renderScrollBars=function(){var t=this.getScrollOffset(),e=t.scrollX,n=t.scrollY,r=t.rowHeaderScrollX,i=this.panelBBox,o=i.width,a=i.height,s=this.layoutResult.colsHierarchy.width,l=this.getRealHeight();this.renderRowScrollBar(r),this.renderHScrollBar(o,s,e),this.renderVScrollBar(a,l,n)},t.prototype.renderHeaders=function(){var t=this.getSeriesNumberWidth();this.rowHeader=this.getRowHeader(),this.columnHeader=this.getColHeader(),t>0&&!this.rowIndexHeader&&(this.rowIndexHeader=this.getSeriesNumberHeader()),this.cornerHeader=this.getCornerHeader(),this.centerFrame=this.getCenterFrame(),this.rowIndexHeader&&this.foregroundGroup.add(this.rowIndexHeader),this.rowHeader&&this.foregroundGroup.add(this.rowHeader),this.foregroundGroup.add(this.columnHeader),this.foregroundGroup.add(this.cornerHeader),this.foregroundGroup.add(this.centerFrame)},t.prototype.getRowHeader=function(){var t,e,n;if(!this.rowHeader){var r=this.panelBBox,i=r.y,o=r.viewportHeight,a=r.viewportWidth,s=r.height,l=this.getSeriesNumberWidth();return new yH({width:this.cornerBBox.width,height:s,viewportWidth:a,viewportHeight:o,position:{x:0,y:i},data:this.layoutResult.rowNodes,hierarchyType:this.cfg.hierarchyType,linkFields:null!==(n=null===(e=null===(t=this.cfg.spreadsheet.options)||void 0===t?void 0:t.interaction)||void 0===e?void 0:e.linkFields)&&void 0!==n?n:[],seriesNumberWidth:l,spreadsheet:this.spreadsheet})}return this.rowHeader},t.prototype.getColHeader=function(){if(!this.columnHeader){var t=this.panelBBox,e=t.x,n=t.width,r=t.viewportHeight,i=t.viewportWidth;return new pH({width:n,cornerWidth:this.cornerBBox.width,height:this.cornerBBox.height,viewportWidth:i,viewportHeight:r,position:{x:e,y:0},data:this.layoutResult.colNodes,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),sortParam:this.cfg.spreadsheet.store.get("sortParam"),spreadsheet:this.spreadsheet})}return this.columnHeader},t.prototype.getCornerHeader=function(){return this.cornerHeader?this.cornerHeader:vH.getCornerHeader(this.panelBBox,this.cornerBBox,this.getSeriesNumberWidth(),this.cfg,this.layoutResult,this.spreadsheet)},t.prototype.getSeriesNumberHeader=function(){return mH.getSeriesNumberHeader(this.panelBBox,this.getSeriesNumberWidth(),this.layoutResult.rowsHierarchy.getNodes(0),this.spreadsheet,this.cornerBBox.width)},t.prototype.getCenterFrame=function(){var t;if(!this.centerFrame){var e=this.panelBBox,n=e.viewportWidth,r=e.viewportHeight,i=this.cornerBBox.width,o=this.cornerBBox.height,a=null===(t=this.cfg)||void 0===t?void 0:t.frame,s={position:{x:this.cornerBBox.x,y:this.cornerBBox.y},width:i,height:o,viewportWidth:n,viewportHeight:r,showViewportLeftShadow:!1,showViewportRightShadow:!1,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),isPivotMode:this.cfg.spreadsheet.isPivotMode(),spreadsheet:this.cfg.spreadsheet};return a?a(s):new gH(s)}return this.centerFrame},t.prototype.updatePanelScrollGroup=function(){this.gridInfo=this.getGridInfo(),this.spreadsheet.panelScrollGroup.update(this.gridInfo)},t.prototype.dynamicRenderCell=function(t){var e=this.getScrollOffset(),n=e.scrollX,r=e.scrollY,i=e.rowHeaderScrollX,o=r+this.getPaginationScrollY(),a=eH(o,this.viewCellHeights.getTotalHeight(),this.panelBBox.viewportHeight);this.spreadsheet.hideTooltip(),this.spreadsheet.interaction.clearHoverTimer(),this.realCellRender(n,a),this.updatePanelScrollGroup(),this.translateRelatedGroups(n,a,i),this.clip(n,a),t||this.emitScrollEvent({scrollX:n,scrollY:a,rowHeaderScrollX:i}),this.onAfterScroll()},t.prototype.emitScrollEvent=function(t){this.spreadsheet.emit(bs.LAYOUT_CELL_SCROLL,t),this.spreadsheet.emit(bs.GLOBAL_SCROLL,t)},t.prototype.saveInitColumnLeafNodes=function(t){void 0===t&&(t=[]);var e=this.spreadsheet,n=e.store,r=e.options,i=r.interaction.hiddenColumnFields,o=t.length+i.length,a=n.get("initColumnLeafNodes",[]);o!==a.length&&n.set("initColumnLeafNodes",t)},t.prototype.getHiddenColumnsInfo=function(t){var e=this.spreadsheet.store.get("hiddenColumnsDetail",[]);return H_(e)?null:e.find((function(e){var n;return null===(n=null===e||void 0===e?void 0:e.hideColumnNodes)||void 0===n?void 0:n.some((function(e){return e.id===t.id}))}))},t.prototype.getCornerNodes=function(){var t;return(null===(t=this.cornerHeader)||void 0===t?void 0:t.getNodes())||[]},t}(),xH=function(t){var e,n,r,i=t.facetCfg,o=t.customTreeItems,a=void 0===o?[]:o,s=t.level,l=t.parentNode,c=t.hierarchy,u=i.spreadsheet,h=i.collapsedRows,f=i.hierarchyCollapse;try{for(var d=nc(a),p=d.next();!p.done;p=d.next()){var v=p.value,g=v.key,y=v.title,m=v.collapsed,b=v.children,x=ec(v,["key","title","collapsed","children"]),w=(r={},r[Cs]=g,r),O=bI(l.id,y),C=null!==m&&void 0!==m&&m,S=vv(h,O),_=null!==S&&void 0!==S?S:f||C,E=new sI({id:O,key:g,label:y,value:y,level:s,parent:l,field:g,isTotals:!1,isCollapsed:_,hierarchy:c,query:w,spreadsheet:u,extra:x});s>c.maxLevel&&(c.maxLevel=s),H_(b)&&(E.isLeaf=!0);var M=dI(i,l,E,c);H_(b)||_||!M||xH({facetCfg:i,parentNode:E,level:s+1,hierarchy:c,customTreeItems:b})}}catch(k){e={error:k}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(e)throw e.error}}},wH=function(t,e,n){var r=t.getTotalsConfig(e);if(r.showGrandTotals){var i=r.reverseLayout?"unshift":"push";n[i](new cI(r.label,!1,!0))}},OH=(al+sl).length,CH=function(t){var e,n,r,i,o,a,s,l=t.parentNode,c=t.currentField,u=t.level,h=t.facetCfg,f=t.hierarchy,d=t.pivotMeta,p=h.spreadsheet,v=h.dataSet,g=h.collapsedRows,y=h.hierarchyCollapse,m=h.rowExpandDepth,b=l.query,x=l.id,w=(null===(i=p.dataCfg.fields.rows)||void 0===i?void 0:i.length)<=u,O=(null===(o=null===v||void 0===v?void 0:v.sortedDimensionValues)||void 0===o?void 0:o[c])||[],C=MN(Array.from(d.keys())),S=EN(C,O,(function(t){return al===x?t:bI(x,t).slice(OH)})),_=fI(S,h,l,c),E=p.store.get("drillItemsNum");w&&E>0&&(_=_.slice(0,E)),0===u&&wH(p,c,_);try{for(var M=nc(_),k=M.next();!k.done;k=M.next()){var T=k.value,A=T instanceof cI,L=A?null:d.get(T),P=void 0,R=b,I=!1,N=!1;if(A){var j=T;I=j.isGrandTotals,N=j.isSubTotals,P=VR(T.label),R=b}else P=T,R=tc(tc({},b),(r={},r[c]=P,r));var B=bI(x,P),D=null===g||void 0===g?void 0:g[B],F=Z_(m)?u>m:null,z=null!==(a=null!==D&&void 0!==D?D:F)&&void 0!==a?a:y,W=new sI({id:B,key:c,label:P,value:P,level:u,parent:l,field:c,isTotals:A,isGrandTotals:I,isSubTotals:N,isCollapsed:z,hierarchy:f,query:R,spreadsheet:p});u>f.maxLevel&&(f.maxLevel=u);var H=!(null===(s=null===L||void 0===L?void 0:L.children)||void 0===s?void 0:s.size);(H||A)&&(W.isLeaf=!0),H||(W.isTotals=!0);var $=dI(h,l,W,f);H||z||A||!$||CH({level:u+1,currentField:L.childField,pivotMeta:L.children,facetCfg:h,parentNode:W,hierarchy:f})}}catch(G){e={error:G}}finally{try{k&&!k.done&&(n=M.return)&&n.call(M)}finally{if(e)throw e.error}}},SH=function(t){var e,n,r=t.isValueInCols,i=t.moreThanOneValue,o=t.rootNode,a=t.facetCfg,s=t.hierarchy,l=t.fields,c=t.isRowHeader;c?(e=!r&&i,n=!r&&!i):(e=r&&i,n=r&&!i),mI({addTotalMeasureInTotal:e,addMeasureInTotalQuery:n,parentNode:o,currentField:l[0],fields:l,facetCfg:a,hierarchy:s})},_H=function(t){var e=t.facetCfg,n=t.rootNode,r=t.hierarchy,i=e.dataSet.fields.customTreeItems;xH({customTreeItems:i,facetCfg:e,level:0,parentNode:n,hierarchy:r})},EH=function(t){var e=t.facetCfg,n=t.rootNode,r=t.hierarchy,i=e.hierarchyType,o=e.rows,a=e.dataSet;"tree"===i?CH({level:0,currentField:o[0],pivotMeta:a.rowPivotMeta,facetCfg:e,parentNode:n,hierarchy:r}):_H(t)},MH=function(t){var e=t.spreadsheet;e.isHierarchyTreeType()?EH(t):SH(t)},kH=function(t){var e=t.isPivotMode,n=t.hierarchy,r=t.rootNode,i=t.facetCfg;e?SH(t):$I({parentNode:r,hierarchy:n,facetCfg:i})},TH=function(t){var e=t.isRowHeader,n=t.facetCfg,r=n.spreadsheet,i=n.rows,o=void 0===i?[]:i,a=n.columns,s=void 0===a?[]:a,l=r.dataCfg.fields.valueInCols,c=r.isPivotMode(),u=n.dataSet.moreThanOneValue(),h=sI.rootNode(),f=new lI,d={isValueInCols:l,isPivotMode:c,moreThanOneValue:u,rootNode:h,hierarchy:f,spreadsheet:r,facetCfg:n,fields:e?o:s,isRowHeader:e};e?MH(d):kH(d);var p=function(){return e&&r.isHierarchyTreeType()?f.getNodes():f.getLeaves()};return{hierarchy:f,leafNodes:p()}},AH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),Object.defineProperty(e.prototype,"rowCellTheme",{get:function(){return this.spreadsheet.theme.rowCell.cell},enumerable:!1,configurable:!0}),e.prototype.getContentHeight=function(){var t=this.layoutResult,e=t.rowsHierarchy,n=t.colsHierarchy;return e.height+n.height},e.prototype.doLayout=function(){var t=TH({isRowHeader:!0,facetCfg:this.cfg}),e=t.leafNodes,n=t.hierarchy,r=TH({isRowHeader:!1,facetCfg:this.cfg}),i=r.leafNodes,o=r.hierarchy;this.calculateNodesCoordinate(e,n,i,o);var a=this.cfg,s=a.dataSet,l=a.spreadsheet,c=function(t,n){var r,o,a,c=t||0,u=n||0,h=e[c],f=i[u];if(!h||!f)return null;var d,p=h.query,v=f.query,g=h.isTotals||h.isTotalMeasure||f.isTotals||f.isTotalMeasure,y=l.options.hierarchyType,m=null!==(o=vv(l,"facet.cfg.colCfg.hideMeasureColumn"))&&void 0!==o&&o,b=m&&"customTree"!==y?(r={},r[Cs]=null===(a=s.fields.values)||void 0===a?void 0:a[0],r):{},x=tM({},p,v,b),w=s.getCellData({query:x,rowNode:h,isTotals:g}),O=null;return H_(w)?d=vv(x,[Cs],""):(d=vv(w,[Cs],""),O=vv(w,[Os],null),g&&(d=vv(x,[Cs],""),O=vv(w,d,null))),{spreadsheet:l,x:f.x,y:h.y,width:f.width,height:h.height,data:w,rowIndex:c,colIndex:u,isTotals:g,valueField:d,fieldValue:O,rowQuery:p,colQuery:v,rowId:h.id,colId:f.id,id:OB(h.id,f.id)}},u={colNodes:o.getNodes(),colsHierarchy:o,rowNodes:n.getNodes(),rowsHierarchy:n,rowLeafNodes:e,colLeafNodes:i,getCellMeta:c,spreadsheet:l};return vI(this.cfg,u)},e.prototype.calculateNodesCoordinate=function(t,e,n,r){this.calculateRowNodesCoordinate(t,e,n),this.calculateColNodesCoordinate(n,r,t,e.width)},e.prototype.calculateColNodesCoordinate=function(t,e,n,r){var i,o,a,s,l=sI.blankNode(),c=e.getNodes();try{for(var u=nc(e.sampleNodesForAllLevels),h=u.next();!h.done;h=u.next()){var f=h.value;f.height=this.getColNodeHeight(f),e.height+=f.height}}catch(y){i={error:y}}finally{try{h&&!h.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}for(var d=0,p=function(i){var o=c[i];if(o.isLeaf&&(o.colIndex=d,d+=1,o.x=l.x+l.width,o.width=v.calculateColLeafNodesWidth(o,t,n,r),e.width+=o.width,l=o),0===o.level)o.y=0;else{var s=e.sampleNodesForAllLevels.find((function(t){return t.level===o.level-1}));o.y=null!==(a=(null===s||void 0===s?void 0:s.y)+(null===s||void 0===s?void 0:s.height))&&void 0!==a?a:0}o.height=o.isGrandTotals&&o.isLeaf?e.height:v.getColNodeHeight(o),pI(v.cfg,null,o)},v=this,g=0;g<c.length;g++)p(g);this.autoCalculateColNodeWidthAndX(t),H_(null===(s=this.spreadsheet.options.totals)||void 0===s?void 0:s.col)||(this.adjustTotalNodesCoordinate(e),this.adjustSubTotalNodesCoordinate(e))},e.prototype.autoCalculateColNodeWidthAndX=function(t){var e,n=null,r=t.slice(0);while(r.length){var i=r.shift(),o=i.parent;if(n!==o&&o){r.push(o);var a=null===(e=o.children)||void 0===e?void 0:e.find((function(t){return!t.hiddenChildNodeInfo})),s=null===a||void 0===a?void 0:a.x,l=FA(o.children,"width");o.x=s,o.width=l,n=o}}},e.prototype.calculateColLeafNodesWidth=function(t,e,n,r){var i,o,a,s,l,c=this.cfg,u=c.colCfg,h=c.dataSet,f=c.filterDisplayDataItem,d=this.getCellDraggedWidth(t);if(Z_(d))return d;var p=this.getCellCustomWidth(t,null===u||void 0===u?void 0:u.width);if(Z_(p))return p;if(this.spreadsheet.getLayoutWidthType()===Ul.Compact){for(var v=this.spreadsheet.theme.colCell,g=v.bolderText,y=v.cell,m=v.icon,b=this.spreadsheet.dataSet.getFieldFormatter(t.field),x=null!==(i=null===b||void 0===b?void 0:b(t.value))&&void 0!==i?i:t.label,w=this.getExpectedCellIconWidth(Ml.COL_CELL,this.spreadsheet.isValueInCols()&&this.spreadsheet.options.showDefaultHeaderActionIcon,m),O=this.spreadsheet.measureTextWidthRoughly(x)+w,C=void 0,S=0,_=0;_<dl;_++){var E=n[_];if(E){var M=h.getCellData({query:tc(tc({},t.query),E.query),rowNode:E,isTotals:t.isTotals||t.isTotalMeasure||E.isTotals||E.isTotalMeasure});if(M){var k=xB(M,f),T=null!==(a=null===(o=this.spreadsheet.dataSet.getFieldFormatter(M[Cs]))||void 0===o?void 0:o(k))&&void 0!==a?a:k,A="".concat(T),L=this.spreadsheet.measureTextWidthRoughly(A);L>S&&(C=A,S=L)}}}var P=O>S,R=P?x:C,I=P?w:0;return UI.getInstance().logger("Max Label In Col:",t.field,R),this.spreadsheet.measureTextWidth(R,g)+(null===(s=y.padding)||void 0===s?void 0:s.left)+(null===(l=y.padding)||void 0===l?void 0:l.right)+I}return this.spreadsheet.isHierarchyTreeType()?this.getAdaptTreeColWidth(t,e,n):this.getAdaptGridColWidth(e,r)},e.prototype.getColNodeHeight=function(t){var e=this.cfg.colCfg,n=vv(e,["heightByField",t.key]);return null!==n&&void 0!==n?n:null===e||void 0===e?void 0:e.height},e.prototype.getExpectedCellIconWidth=function(t,e,n){var r,i=0;if(e)i=1;else{var o=sD(KC(this.spreadsheet.options.headerActionIcons,(function(t){return tc(tc({},t),{displayCondition:function(){return!0}})})),null,t);i=null!==(r=null===o||void 0===o?void 0:o.iconNames.length)&&void 0!==r?r:0}return i?i*(n.size+n.margin.left)+n.margin.right:0},e.prototype.calculateRowNodesCoordinate=function(t,e,n){var r,i,o,a,s,l,c,u,h,f,d=this.cfg,p=d.cellCfg,v=d.spreadsheet,g=v.isHierarchyTreeType(),y=vv(v,"options.style.rowCfg.heightByField",{}),m=null!==(o=e.sampleNodesForAllLevels)&&void 0!==o?o:[];if(g)e.width=this.getTreeRowHeaderWidth();else try{for(var b=nc(e.sampleNodesForAllLevels),x=b.next();!x.done;x=b.next()){var w=x.value;w.width=this.calculateGridRowNodesWidth(w,n),e.width+=w.width;var O=null!==(a=m[w.level-1])&&void 0!==a?a:{x:0,width:0};w.x=(null===O||void 0===O?void 0:O.x)+(null===O||void 0===O?void 0:O.width)}}catch(T){r={error:T}}finally{try{x&&!x.done&&(i=b.return)&&i.call(b)}finally{if(r)throw r.error}}for(var C=sI.blankNode(),S=e.getNodes(),_=0;_<S.length;_++){var E=S[_],M=g||!g&&E.isLeaf;if(M&&(null!==(s=E.rowIndex)&&void 0!==s||(E.rowIndex=_),null!==(l=E.colIndex)&&void 0!==l||(E.colIndex=_),E.y=C.y+C.height,E.height=(null!==(c=null===y||void 0===y?void 0:y[E.id])&&void 0!==c?c:null===p||void 0===p?void 0:p.height)+(null===(u=this.rowCellTheme.padding)||void 0===u?void 0:u.top)+(null===(h=this.rowCellTheme.padding)||void 0===h?void 0:h.bottom),C=E,e.height+=E.height),g||0===E.level)E.x=0;else{O=m[E.level-1];E.x=(null===O||void 0===O?void 0:O.x)+(null===O||void 0===O?void 0:O.width)}if(g)E.width=this.getTreeRowHeaderWidth();else{var k=m[E.level];E.width=null===k||void 0===k?void 0:k.width}pI(this.cfg,E,null)}g||(this.autoCalculateRowNodeHeightAndY(t),H_(null===(f=v.options.totals)||void 0===f?void 0:f.row)||(this.adjustTotalNodesCoordinate(e,!0),this.adjustSubTotalNodesCoordinate(e,!0)))},e.prototype.autoCalculateRowNodeHeightAndY=function(t){var e=null,n=t.slice(0);while(n.length){var r=n.shift(),i=r.parent;e!==i&&i&&(n.push(i),i.y=i.children[0].y,i.height=i.children.map((function(t){return t.height})).reduce((function(t,e){return t+e}),0),e=i)}},e.prototype.adjustTotalNodesCoordinate=function(t,e){var n,r,i,o=this.cfg.dataSet.moreThanOneValue(),a=t.maxLevel,s=FC(t.getNodes(0),(function(t){return t.isGrandTotals}));if(s instanceof sI){var l=s.children;if(e)s.width=t.width,JO(l,(function(e){var n=t.getNodes(a)[0];e.x=n.x,e.width=n.width}));else if(a>1||a<=1&&!o){var c=null!==(r=null===(n=null===l||void 0===l?void 0:l[0])||void 0===n?void 0:n.height)&&void 0!==r?r:0;s.height=t.height-c;var u=null===(i=FC(t.getNodes(a),(function(t){return!t.isTotalMeasure})))||void 0===i?void 0:i.y;JO(l,(function(t){t.y=u}))}}},e.prototype.adjustSubTotalNodesCoordinate=function(t,e){var n=t.getNodes().filter((function(t){return t.isSubTotals}));if(!H_(n)){var r=t.maxLevel;JO(n,(function(n){var i,o,a,s=n.children;if(e)n.width=QW(t.sampleNodesForAllLevels,n.level,"width"),JO(s,(function(e){e.x=t.getNodes(r)[0].x}));else{var l=QW(t.sampleNodesForAllLevels,n.level,"height"),c=null!==(o=null===(i=null===s||void 0===s?void 0:s[0])||void 0===i?void 0:i.height)&&void 0!==o?o:0;n.height=l-c,JO(s,(function(e){e.y=t.getNodes(r)[0].y}));var u=null===(a=FC(t.getNodes(r),(function(t){return!t.isTotalMeasure})))||void 0===a?void 0:a.y;JO(s,(function(t){t.y=u}))}}))}},e.prototype.calculateGridRowNodesWidth=function(t,e){var n=this.cfg,r=n.rowCfg,i=n.spreadsheet,o=vv(r,["widthByField",t.key]);if(Z_(o))return o;var a=this.getCellCustomWidth(t,null===r||void 0===r?void 0:r.width);return Z_(a)?a:i.getLayoutWidthType()!==Ul.Adaptive?this.getCompactGridRowWidth(t):this.getAdaptGridColWidth(e)},e.prototype.getAdaptTreeColWidth=function(t,e,n){var r=this.getCanvasHW().width,i=r-this.getSeriesNumberWidth(),o=Math.min(i/2,this.getTreeRowHeaderWidth()),a=Math.max(1,e.length),s=this.cfg.cellCfg;return Math.max(_j(s,this.getColLabelLength(t,n)),(i-o)/a)},e.prototype.getColLabelLength=function(t,e){var n,r=Ej(null===t||void 0===t?void 0:t.value);if(Lc(r))return r.length;for(var i=1,o=0;o<dl;o++){var a=e[o];if(!a)return i;for(var s=this.cfg.dataSet.getCellData({query:tc(tc({},t.query),a.query),rowNode:a,isTotals:t.isTotals||t.isTotalMeasure||a.isTotals||a.isTotalMeasure}),l=ip(s),c=0;c<l.length;c++){var u=s[l[c]],h=tA(null===(n=null===u||void 0===u?void 0:u.values)||void 0===n?void 0:n[0]);h>i&&(i=h)}}return i},e.prototype.getAdaptGridColWidth=function(t,e){var n=this.cfg,r=n.rows,i=n.cellCfg,o=r.length,a=t.length,s=this.getCanvasHW().width,l=s-this.getSeriesNumberWidth(),c=Math.max(1,o+a);return e?Math.max(_j(i),(l-e)/a):Math.max(_j(i),l/c)},e.prototype.getTreeRowHeaderWidth=function(){var t,e,n,r,i=this.cfg,o=i.rows,a=i.dataSet,s=i.rowCfg,l=i.treeRowsWidth,c=null!==l&&void 0!==l?l:null===s||void 0===s?void 0:s.treeRowsWidth;if(c)return c;var u=this.getCellCustomWidth(null,null===s||void 0===s?void 0:s.width);if(u)return u;var h=o.map((function(t){return a.getFieldName(t)})).join("/"),f=this.spreadsheet.theme.cornerCell,d=f.bolderText,p=f.icon,v=this.spreadsheet.measureTextWidth(h,d)+2*p.size+(null===(t=p.margin)||void 0===t?void 0:t.left)+(null===(e=p.margin)||void 0===e?void 0:e.right)+(null===(n=this.rowCellTheme.padding)||void 0===n?void 0:n.left)+(null===(r=this.rowCellTheme.padding)||void 0===r?void 0:r.right);return Math.max(null!==c&&void 0!==c?c:ql,v)},e.prototype.getCompactGridRowWidth=function(t){var e,n=this,r=this.cfg,i=r.dataSet,o=r.spreadsheet,a=o.theme.rowCell,s=a.bolderText,l=a.icon,c=a.cell,u=o.theme.cornerCell,h=u.bolderText,f=u.icon,d=u.cell,p=t.field,v=t.isLeaf,g=this.getExpectedCellIconWidth(Ml.ROW_CELL,!o.isValueInCols()&&v&&o.options.showDefaultHeaderActionIcon,l),y=null===(e=i.getDimensionValues(p))||void 0===e?void 0:e.slice(0,dl).map((function(t){var e,r;return null!==(r=null===(e=n.spreadsheet.dataSet.getFieldFormatter(p))||void 0===e?void 0:e(t))&&void 0!==r?r:t})),m=UE(y,(function(t){return"".concat(t).length})),b=o.measureTextWidth(m,s)+g+c.padding.left+c.padding.right,x=i.getFieldName(p),w=this.getExpectedCellIconWidth(Ml.CORNER_CELL,!1,f),O=o.measureTextWidth(x,h)+w+d.padding.left+d.padding.right;return UI.getInstance().logger("Max Label In Row:",p,b>O?m:x),Math.max(b,O)},e.prototype.getViewCellHeights=function(t){var e=t.rowLeafNodes,n=_T(e,(function(t,e){return t.push(zO(t)+e.height),t}),[0]);return{getTotalHeight:function(){return zO(n)},getCellOffsetY:function(t){return n[t]},getTotalLength:function(){return n.length-1},getIndexRange:function(t,e){return JW(n,t,e)}}},e}(bH),LH=function(t){function e(e){var n,r=this;r=t.call(this,e)||this,r.getScrollGroupClipBBox=function(){var t,e=r.headerConfig,n=e.width,i=e.height,o=e.scrollX,a=e.spreadsheet,s=a.options;if(!s.frozenColCount&&!s.frozenTrailingColCount)return{x:o,y:0,width:n,height:i};for(var l=null===(t=a.facet)||void 0===t?void 0:t.layoutResult.colLeafNodes,c=BN(a.options,l.length),u=c.frozenColCount,h=c.frozenTrailingColCount,f=0,d=0,p=0;p<u;p++)f+=l[p].width;for(p=0;p<h;p++)d+=l[l.length-1-p].width;var v=n-f-d;return{x:o+f,y:0,width:v,height:i}};var i=null===(n=r.headerConfig.spreadsheet)||void 0===n?void 0:n.options,o=i.frozenColCount,a=i.frozenTrailingColCount;return o&&(r.frozenColGroup=r.addGroup({name:el,zIndex:As})),a&&(r.frozenTrailingColGroup=r.addGroup({name:nl,zIndex:As})),r}return Jl(e,t),e.prototype.isFrozenCell=function(t){var e=this.headerConfig.spreadsheet,n=null===e||void 0===e?void 0:e.options,r=n.frozenColCount,i=n.frozenTrailingColCount,o=t.colIndex,a=null===e||void 0===e?void 0:e.facet.layoutResult.colLeafNodes;return OI(o,r)||CI(o,i,a.length)},e.prototype.clear=function(){var e,n,r=this.headerConfig.spreadsheet;t.prototype.clear.call(this),null===(e=this.frozenTrailingColGroup)||void 0===e||e.clear(),null===(n=this.frozenColGroup)||void 0===n||n.clear();var i=null===r||void 0===r?void 0:r.foregroundGroup.findById(Js);null===i||void 0===i||i.clear()},e.prototype.getCellInstance=function(t,e,n){return t.field===Es?new sF(t,e,n):new aF(t,e,n)},e.prototype.getCellGroup=function(t){var e,n,r=this.headerConfig.spreadsheet,i=null===r||void 0===r?void 0:r.options,o=i.frozenColCount,a=i.frozenTrailingColCount,s=null===(e=null===r||void 0===r?void 0:r.facet)||void 0===e?void 0:e.layoutResult.colNodes.filter((function(t){return BI(t)})),l=NI(s,o,a),c=l.colCount,u=l.trailingColCount;return OI(WI(t).colIndex,c)?this.frozenColGroup:CI(WI(t).colIndex,u,null===(n=null===r||void 0===r?void 0:r.facet)||void 0===n?void 0:n.layoutResult.colLeafNodes.length)?this.frozenTrailingColGroup:this.scrollGroup},e.prototype.isColCellInRect=function(e){var n,r,i=this.headerConfig.spreadsheet,o=null===i||void 0===i?void 0:i.options,a=o.frozenColCount,s=o.frozenTrailingColCount,l=null===(n=null===i||void 0===i?void 0:i.facet)||void 0===n?void 0:n.layoutResult.colLeafNodes.length,c=null===(r=null===i||void 0===i?void 0:i.facet)||void 0===r?void 0:r.layoutResult.colNodes.filter((function(t){return BI(t)})),u=NI(c,a,s),h=u.colCount,f=u.trailingColCount;return!(!OI(WI(e).colIndex,h)&&!CI(WI(e).colIndex,f,l))||t.prototype.isColCellInRect.call(this,e)},e.prototype.clip=function(){this.scrollGroup.setClip({type:"rect",attrs:this.getScrollGroupClipBBox()})},e}(pH),PH=function(t){function e(e){var n,r=t.call(this,e)||this;r.frozenGroupInfo=(n={},n[gl.FROZEN_COL]={width:0},n[gl.FROZEN_ROW]={height:0},n[gl.FROZEN_TRAILING_ROW]={height:0},n[gl.FROZEN_TRAILING_COL]={width:0},n),r.panelScrollGroupIndexes=[],r.onSortHandler=function(t){var e=r.spreadsheet,n=t;Array.isArray(t)||(n=[t]);var i=e.dataCfg.sortParams||[];n=n.map((function(t){var e,n,r=tc(tc({},t),{sortFieldId:null!==(e=t.sortKey)&&void 0!==e?e:t.sortFieldId}),o=null!==(n=i.find((function(t){return t.sortFieldId===r.sortFieldId})))&&void 0!==n?n:{};return tc(tc({},o),r)}));var o=i.filter((function(t){var e=n.find((function(e){return e.sortFieldId===t.sortFieldId}));return!e}));UT(e.dataCfg,"sortParams",ic(ic([],rc(o),!1),rc(n),!1)),e.setDataCfg(e.dataCfg),e.render(!0),e.emit(bs.RANGE_SORTED,e.dataSet.getDisplayDataSet())},r.onFilterHandler=function(t){var e=r.spreadsheet,n=!t.filteredValues||0===t.filteredValues.length,i=e.dataCfg.filterParams||[],o=i.findIndex((function(e){return e.filterKey===t.filterKey}));-1!==o?n?i.splice(o):i[o]=t:i.push(t),UT(e.dataCfg,"filterParams",i),e.render(!0),e.emit(bs.RANGE_FILTERED,e.dataSet.getDisplayDataSet())},r.initFrozenGroupPosition=function(){var t=r.getScrollOffset(),e=t.scrollY,n=t.scrollX,i=r.getPaginationScrollY();kI(r.spreadsheet.frozenRowGroup,r.cornerBBox.width-n,r.cornerBBox.height-i),kI(r.spreadsheet.frozenColGroup,r.cornerBBox.width,r.cornerBBox.height-e-i),kI(r.spreadsheet.frozenTrailingColGroup,r.cornerBBox.width,r.cornerBBox.height-e-i),kI(r.spreadsheet.frozenTopGroup,r.cornerBBox.width,r.cornerBBox.height-i)},r.getTotalHeightForRange=function(t,e){if(t<0||e<0)return 0;if(r.rowOffsets)return r.rowOffsets[e+1]-r.rowOffsets[t];for(var n=0,i=t;i<e+1;i++){var o=r.getDefaultCellHeight();n+=o}return n},r.getShadowFill=function(t){var e,n,i=vv(r.cfg,"spreadsheet.theme.splitLine");return"l (".concat(t,") 0:").concat(null===(e=i.shadowColors)||void 0===e?void 0:e.left," 1:").concat(null===(n=i.shadowColors)||void 0===n?void 0:n.right)},r.renderFrozenGroupSplitLine=function(t,e){var n,i=r.panelBBox,o=i.width,a=i.height,s=i.viewportWidth,l=i.viewportHeight,c=r.cornerBBox.height,u=r.layoutResult.colNodes.filter((function(t){return BI(t)})),h=r.getCellRange(),f=h.end-h.start,d=BN(r.spreadsheet.options,u.length,f),p=d.frozenRowCount,v=d.frozenColCount,g=d.frozenTrailingColCount,y=d.frozenTrailingRowCount,m=Math.floor(e-r.getPaginationScrollY()),b=Math.max(0,zO(r.viewCellWidths)-s),x=Math.max(0,r.viewCellHeights.getCellOffsetY(h.end+1)-r.viewCellHeights.getCellOffsetY(h.start)-l);null===(n=r.foregroundGroup.findById(qs))||void 0===n||n.remove();var w=vv(r.cfg,"spreadsheet.theme.splitLine"),O=r.foregroundGroup.addGroup({id:qs,zIndex:As}),C={lineWidth:null===w||void 0===w?void 0:w.verticalBorderWidth,stroke:null===w||void 0===w?void 0:w.verticalBorderColor,opacity:null===w||void 0===w?void 0:w.verticalBorderColorOpacity},S={lineWidth:null===w||void 0===w?void 0:w.horizontalBorderWidth,stroke:null===w||void 0===w?void 0:w.horizontalBorderColor,opacity:null===w||void 0===w?void 0:w.horizontalBorderColorOpacity};if(v>0){var _=u.reduce((function(t,e,n){return n<v?t+e.width:t}),0),E=y>0?a:l;$N(O,{x1:_,x2:_,y1:c,y2:c+E},tc({},C)),w.showShadow&&t>0&&O.addShape("rect",{attrs:{x:_,y:c,width:w.shadowWidth,height:E,fill:r.getShadowFill(0)}})}if(p>0){var M=c+r.getTotalHeightForRange(h.start,h.start+p-1),k=g>0?o:s;$N(O,{x1:0,x2:k,y1:M,y2:M},tc({},S)),w.showShadow&&m>0&&O.addShape("rect",{attrs:{x:0,y:M,width:k,height:w.shadowWidth,fill:r.getShadowFill(90)}})}if(g>0){_=u[u.length-g].x,E=y?a:l;$N(O,{x1:_,x2:_,y1:c,y2:c+E},tc({},C)),w.showShadow&&Math.floor(t)<Math.floor(b)&&O.addShape("rect",{attrs:{x:_-w.shadowWidth,y:c,width:w.shadowWidth,height:E,fill:r.getShadowFill(180)}})}if(y>0){M=r.panelBBox.maxY-r.getTotalHeightForRange(h.end-y+1,h.end),k=g>0?o:s;$N(O,{x1:0,x2:k,y1:M,y2:M},tc({},S)),w.showShadow&&m<Math.floor(x)&&O.addShape("rect",{attrs:{x:0,y:M-w.shadowWidth,width:k,height:w.shadowWidth,fill:r.getShadowFill(270)}})}r.foregroundGroup.sort()},r.renderFrozenPanelCornerGroup=function(){var t=r.layoutResult.colNodes.filter((function(t){return BI(t)})),e=r.getCellRange(),n=BN(r.spreadsheet.options,t.length,e.end-e.start+1),i=n.frozenRowCount,o=n.frozenColCount,a=n.frozenTrailingRowCount,s=n.frozenTrailingColCount,l=NI(t,o,s),c=l.colCount,u=l.trailingColCount,h=PI({frozenRowCount:i,frozenColCount:c,frozenTrailingRowCount:a,frozenTrailingColCount:u},r.layoutResult.colLeafNodes.length,e);Object.keys(h).forEach((function(t){var e=h[t],n=r.spreadsheet[kl[t]];n&&e.forEach((function(t){r.addFrozenCell(t.x,t.y,n)}))}))},r.addFrozenCell=function(t,e,n){var i=r.layoutResult.getCellMeta(e,t);if(i.isFrozenCorner=!0,i){var o=r.cfg.dataCell(i);n.add(o)}},r.getRealFrozenColumns=function(t,e){var n,i=t,o=e;if(t||e){var a=r.layoutResult.colsHierarchy.getNodes();a=a.filter((function(t){return BI(t)})),n=NI(a,t,e),i=n.colCount,o=n.trailingColCount}return{colCount:i,trailingColCount:o}},r.addCell=function(t){var e=r.spreadsheet.options,n=e.frozenRowCount,i=e.frozenColCount,o=e.frozenTrailingRowCount,a=e.frozenTrailingColCount,s=r.layoutResult.colsHierarchy.getLeaves().length,l=r.getCellRange(),c=r.getRealFrozenColumns(i,a),u=c.colCount,h=c.trailingColCount,f=LI(t.getMeta(),{frozenRowCount:n,frozenColCount:u,frozenTrailingRowCount:o,frozenTrailingColCount:h},s,l),d=kl[f];d&&r.spreadsheet[d].add(t)},r.getFrozenOptions=function(){var t=r.layoutResult.colLeafNodes.length,e=r.getCellRange();return BN(r.cfg,t,e.end-e.start+1)};var i=r.spreadsheet;return i.on(bs.RANGE_SORT,r.onSortHandler),i.on(bs.RANGE_FILTER,r.onFilterHandler),r}return Jl(e,t),e.prototype.getContentHeight=function(){var t=this.getViewCellHeights().getTotalHeight,e=this.layoutResult.colsHierarchy;return t()+e.height},Object.defineProperty(e.prototype,"dataCellTheme",{get:function(){return this.spreadsheet.theme.dataCell.cell},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var e=this.spreadsheet;e.off(bs.RANGE_SORT,this.onSortHandler),e.off(bs.RANGE_FILTER,this.onFilterHandler),t.prototype.destroy.call(this)},e.prototype.calculateCornerBBox=function(){var t=this.layoutResult.colsHierarchy,e=Math.floor(t.height);this.cornerBBox=new hH(this),this.cornerBBox.height=e,this.cornerBBox.maxY=e},e.prototype.doLayout=function(){var t=this,e=this.cfg,n=e.dataSet,r=e.spreadsheet,i=new lI,o=TH({isRowHeader:!1,facetCfg:this.cfg}),a=o.leafNodes,s=o.hierarchy;this.calculateColNodesCoordinate(a,s);var l=function(e,i){var o,s,l=t.cfg.showSeriesNumber,c=a[i],u=t.getCellHeight(e),h=t.getCellRange(),f=BN(t.cfg,a.length,h.end-h.start+1).frozenTrailingRowCount,d=c.x,p=t.viewCellHeights.getCellOffsetY(e);return _I(e,h.end,f)&&(p=t.panelBBox.maxY-t.getTotalHeightForRange(e,h.end)),s=l&&c.field===Es?e+1:n.getCellData({query:{col:c.field,rowIndex:e}}),{spreadsheet:r,x:d,y:p,width:c.width,height:u,data:(o={},o[c.field]=s,o),rowIndex:e,colIndex:i,isTotals:!1,colId:c.id,rowId:String(e),valueField:c.field,fieldValue:s,id:OB(String(e),c.id)}},c={colNodes:s.getNodes(),colsHierarchy:s,rowNodes:i.getNodes(),rowsHierarchy:i,rowLeafNodes:i.getLeaves(),colLeafNodes:a,getCellMeta:l,spreadsheet:r};return c},e.prototype.getAdaptiveColWidth=function(t){var e=this.cfg.cellCfg,n=this.cfg.showSeriesNumber;if(this.spreadsheet.getLayoutWidthType()!==Ul.Compact){var r=this.getSeriesNumberWidth(),i=t.length-(n?1:0),o=this.getCanvasHW().width-r;return Math.max(null===e||void 0===e?void 0:e.width,o/Math.max(1,i))}return null===e||void 0===e?void 0:e.width},e.prototype.getColNodeHeight=function(t,e){var n=this.cfg.colCfg,r=US(null===n||void 0===n?void 0:n.heightByField)[0],i=r||(null===n||void 0===n?void 0:n.height);if(!e)return i;if(t.children&&t.children.length)return i;while(t.parent)e-=BI(t)?0:i,t=t.parent;return e},e.prototype.calculateColNodesCoordinate=function(t,e){var n,r,i,o,a,s,l=sI.blankNode(),c=e.getNodes();try{for(var u=nc(e.sampleNodesForAllLevels),h=u.next();!h.done;h=u.next()){var f=h.value;f.height=this.getColNodeHeight(f),e.height+=f.height}}catch(O){n={error:O}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}for(var d=this.getAdaptiveColWidth(t),p=0,v=0;v<c.length;v++){var g=c[v];g.isLeaf&&(g.colIndex=p,p+=1,g.x=l.x+l.width,g.width=this.calculateColLeafNodesWidth(g,d),pI(this.cfg,null,g),e.width+=g.width,l=g),0===g.level?g.y=0:g.y=null!==(a=(null===(i=g.parent)||void 0===i?void 0:i.y)+(null===(o=g.parent)||void 0===o?void 0:o.height))&&void 0!==a?a:0,g.height=this.getColNodeHeight(g,e.height)}var y=c.filter((function(t){return BI(t)})),m=BN(null===(s=this.spreadsheet)||void 0===s?void 0:s.options,y.length).frozenTrailingColCount;l=sI.blankNode();var b=this.getCanvasHW().width;if(m>0){var x=NI(y,0,m).trailingColCount,w=c.filter((function(t){return t.isLeaf}));for(v=1;v<=x;v++){g=w[w.length-v];g.x=1===v?b-g.width:l.x-g.width,l=g}}this.autoCalculateColNodeWidthAndX(t)},e.prototype.autoCalculateColNodeWidthAndX=function(t){var e=null,n=t.slice(0);while(n.length){var r=n.shift(),i=r.parent;e!==i&&i&&(n.push(i),i.x=i.children[0].x,i.width=i.children.map((function(t){return t.width})).reduce((function(t,e){return t+e}),0),e=i)}},e.prototype.calculateColLeafNodesWidth=function(t,e){var n=this.cfg,r=n.colCfg,i=n.dataSet,o=n.spreadsheet,a=this.spreadsheet.getLayoutWidthType(),s=this.getCellDraggedWidth(t);if(Z_(s))return s;var l,c=this.getCellCustomWidth(t,null===r||void 0===r?void 0:r.width);if(Z_(c))return c;if(a===Ul.Compact){var u=i.getDisplayDataSet(),h=i.getFieldFormatter(t.field),f=UE(null===u||void 0===u?void 0:u.slice(0,50).map((function(e){var n;return"".concat(null!==(n=null===h||void 0===h?void 0:h(e[t.field]))&&void 0!==n?n:e[t.field])})),(function(t){return o.measureTextWidthRoughly(t)}));UI.getInstance().logger("Max Label In Col:",t.field,f);var d=o.theme.colCell.bolderText,p=o.theme.dataCell,v=p.text,g=p.cell,y=1,m=o.measureTextWidth(f,v)+g.padding.left+g.padding.right+y,b=o.measureTextWidth(t.label,d)+oF(this.spreadsheet,t,o.theme.colCell);l=Math.max(b,m)}else l=e;return t.field===Es&&(l=this.getSeriesNumberWidth()),l},e.prototype.getDefaultCellHeight=function(){var t=this.cfg.cellCfg;return null===t||void 0===t?void 0:t.height},e.prototype.getCellHeight=function(t){if(this.rowOffsets){var e=vv(this.spreadsheet,"options.style.rowCfg.heightByField",{}),n=null===e||void 0===e?void 0:e[String(t)];if(Z_(n))return n}return this.getDefaultCellHeight()},e.prototype.initRowOffsets=function(){var t=this,e=this.cfg.dataSet,n=vv(this.spreadsheet,"options.style.rowCfg.heightByField",{});if(Object.keys(n).length){var r=e.getDisplayDataSet();this.rowOffsets=[0];var i=0;r.forEach((function(e,r){var o,a=null!==(o=null===n||void 0===n?void 0:n[String(r)])&&void 0!==o?o:t.getDefaultCellHeight(),s=i+a;t.rowOffsets.push(s),i=s}))}},e.prototype.getViewCellHeights=function(){var t=this,e=this.cfg.dataSet;this.initRowOffsets();var n=this.getDefaultCellHeight();return{getTotalHeight:function(){return t.rowOffsets?zO(t.rowOffsets):n*e.getDisplayDataSet().length},getCellOffsetY:function(e){if(e<=0)return 0;if(t.rowOffsets)return t.rowOffsets[e];for(var r=0,i=0;i<e;i++)r+=n;return r},getTotalLength:function(){return e.getDisplayDataSet().length},getIndexRange:function(e,r){if(t.rowOffsets)return JW(t.rowOffsets,e,r);var i=Math.floor(e/n),o=r%n===0?r/n-1:Math.floor(r/n);return{start:Math.max(0,i),end:Math.max(0,o)}}}},e.prototype.init=function(){t.prototype.init.call(this);var e=this.panelBBox,n=e.width,r=e.height;this.spreadsheet.panelGroup.setClip({type:"rect",attrs:{x:0,y:this.cornerBBox.height,width:n,height:r}})},e.prototype.getColHeader=function(){if(!this.columnHeader){var t=this.panelBBox,e=t.x,n=t.width,r=t.viewportHeight,i=t.viewportWidth;return new LH({width:n,height:this.cornerBBox.height,viewportWidth:i,viewportHeight:r,cornerWidth:this.cornerBBox.width,position:{x:e,y:0},data:this.layoutResult.colNodes,scrollContainsRowHeader:this.cfg.spreadsheet.isScrollContainsRowHeader(),sortParam:this.cfg.spreadsheet.store.get("sortParam"),spreadsheet:this.spreadsheet})}return this.columnHeader},e.prototype.updateRowResizeArea=function(){var t=this.spreadsheet,e=t.foregroundGroup,n=t.options,r=vv(n,"interaction.resize"),i=L_(r)?r:null===r||void 0===r?void 0:r.rowCellVertical;if(i){var o=e.findById(Us),a=e.findById(Xs);o&&o.set("children",[]),a&&a.set("children",[]);var s=nH(this.panelGroup.getChildren(),lF).filter((function(t){return t.shouldDrawResizeArea()}));s.forEach((function(t){t.drawResizeArea()}))}},e.prototype.render=function(){this.calculateFrozenGroupInfo(),this.renderFrozenPanelCornerGroup(),t.prototype.render.call(this),this.initFrozenGroupPosition()},e.prototype.calculateFrozenGroupInfo=function(){var t=this.getFrozenOptions(),e=t.frozenColCount,n=t.frozenRowCount,r=t.frozenTrailingColCount,i=t.frozenTrailingRowCount,o=this.layoutResult.colNodes.filter((function(t){return BI(t)})),a=this.viewCellHeights,s=this.getCellRange(),l=this.frozenGroupInfo,c=l.frozenCol,u=l.frozenTrailingCol,h=l.frozenRow,f=l.frozenTrailingRow;e>0&&(c.width=o[e-1].x+o[e-1].width-0,c.range=[0,e-1]),n>0&&(h.height=a.getCellOffsetY(s.start+n)-a.getCellOffsetY(s.start),h.range=[s.start,s.start+n-1]),r>0&&(u.width=o[o.length-1].x-o[o.length-r].x+o[o.length-1].width,u.range=[o.length-r,o.length-1]),i>0&&(f.height=a.getCellOffsetY(s.end+1)-a.getCellOffsetY(s.end+1-i),f.range=[s.end-i+1,s.end])},e.prototype.getRowHeader=function(){return null},e.prototype.getSeriesNumberHeader=function(){return null},e.prototype.translateRelatedGroups=function(e,n,r){var i=this,o=this.spreadsheet,a=o.frozenColGroup,s=o.frozenTrailingColGroup,l=o.frozenRowGroup,c=o.frozenTrailingRowGroup;[l,c].forEach((function(t){TI(t,i.cornerBBox.width-e)})),[a,s].forEach((function(t){AI(t,i.cornerBBox.height-n)})),t.prototype.translateRelatedGroups.call(this,e,n,r),this.updateRowResizeArea(),this.renderFrozenGroupSplitLine(e,n)},e.prototype.calculateXYIndexes=function(t,e){var n=this.layoutResult.colLeafNodes.length,r=this.getCellRange(),i=this.panelBBox,o=i.viewportHeight,a=i.viewportWidth,s=this.getFrozenOptions(),l=s.frozenColCount,c=s.frozenRowCount,u=s.frozenTrailingColCount,h=s.frozenTrailingRowCount,f={width:a,height:o,x:0,y:0};if(u>0||l>0){var d=this.frozenGroupInfo,p=d.frozenTrailingCol,v=d.frozenCol;f.width-=p.width+v.width,f.x+=v.width}if(h>0||c>0){var g=this.frozenGroupInfo,y=g.frozenRow,m=g.frozenTrailingRow;f.height<y.height+m.height?(f.height=0,f.y=0):(f.height-=y.height+m.height,f.y+=y.height)}var b=EI(t,e,this.viewCellWidths,this.viewCellHeights,f,this.getRealScrollX(this.cornerBBox.width));this.panelScrollGroupIndexes=b;var x=this.getRealFrozenColumns(l,u),w=x.colCount,O=x.trailingColCount;return RI(b,{frozenColCount:w,frozenRowCount:c,frozenTrailingColCount:O,frozenTrailingRowCount:h},n,r)},e.prototype.clip=function(t,e){var n,r,i=this.layoutResult.colLeafNodes,o=this.getPaginationScrollY(),a=this.spreadsheet,s=a.frozenRowGroup,l=a.frozenColGroup,c=a.frozenTrailingColGroup,u=a.frozenTrailingRowGroup,h=a.panelScrollGroup,f=l.getBBox().width,d=s.getBBox().height,p=c.getBBox(),v=u.getBBox().height,g=this.panelBBox.width-f-c.getBBox().width,y=this.panelBBox.height-d-v;h.setClip({type:"rect",attrs:{x:t+f,y:e+d,width:g,height:y}}),s.setClip({type:"rect",attrs:{x:t+f,y:o,width:g,height:d}}),u.setClip({type:"rect",attrs:{x:t+f,y:u.getBBox().minY,width:g,height:v}});var m={y:e+d,height:y};l.setClip({type:"rect",attrs:tc(tc({},m),{x:0,width:f})}),c.setClip({type:"rect",attrs:tc(tc({},m),{x:p.minX,width:p.width})});var b=this.spreadsheet.foregroundGroup.findById(Us);b&&b.setClip({type:"rect",attrs:{x:0,y:d+this.cornerBBox.height,width:null!==(r=null===(n=null===i||void 0===i?void 0:i[0])||void 0===n?void 0:n.width)&&void 0!==r?r:0,height:y}})},e.prototype.updatePanelScrollGroup=function(){var e=this;t.prototype.updatePanelScrollGroup.call(this),[gl.FROZEN_COL,gl.FROZEN_ROW,gl.FROZEN_TRAILING_COL,gl.FROZEN_TRAILING_ROW].forEach((function(t){if(e.frozenGroupInfo[t].range){var n=[],r=[];if(t.toLowerCase().includes("row")){var i=rc(e.frozenGroupInfo[t].range,2),o=i[0],a=i[1];if(n=e.gridInfo.cols,r=iH(o,a,e.viewCellHeights),t===gl.FROZEN_TRAILING_ROW){var s=e.spreadsheet.frozenTrailingRowGroup.getBBox().minY;r=oH(o,a,Math.ceil(s),e.viewCellHeights)}}else{var l=rc(e.frozenGroupInfo[t].range,2),c=l[0],u=l[1],h=e.layoutResult.colNodes.filter((function(t){return BI(t)}));n=rH(c,u,h),r=e.gridInfo.rows}e.spreadsheet["".concat(t,"Group")].updateGrid({cols:n,rows:r},"".concat(t,"Group"))}}))},e}(bH),RH=function(t){function e(e){var n=t.call(this,e)||this;return n.gridInfo={cols:[],rows:[]},n.updateGrid=function(t,e){void 0===e&&(e=rl);var r=n.getBBox(),i=n.s2,o=i.theme,a=i.isTableMode,s=o.dataCell.cell,l=a()&&(e===rl||e===Hs);n.gridGroup&&n.findById(e)||(n.gridGroup=n.addGroup({id:e})),n.gridGroup.clear(),n.gridInfo=t,l&&n.gridInfo.cols.unshift(0);var c=s.verticalBorderWidth,u=s.verticalBorderWidth/2;n.gridInfo.cols.forEach((function(t){$N(n.gridGroup,{x1:t,x2:t,y1:Math.ceil(r.minY+u),y2:Math.floor(r.maxY-u)},{stroke:s.verticalBorderColor,strokeOpacity:s.verticalBorderColorOpacity,lineWidth:c,lineCap:yl})}));var h=s.horizontalBorderWidth,f=s.horizontalBorderWidth/2;n.gridInfo.rows.forEach((function(t){$N(n.gridGroup,{x1:Math.ceil(r.minX+f),x2:Math.floor(r.maxX-f),y1:t,y2:t},{stroke:s.horizontalBorderColor,strokeOpacity:s.horizontalBorderColorOpacity,lineWidth:h,lineCap:yl})})),n.gridGroup.toFront()},n.s2=e.s2,n}return Jl(e,t),e}(_a),IH=function(t){function e(e){var n=t.call(this,e)||this;return n.initMergedCellsGroup(),n}return Jl(e,t),e.prototype.initMergedCellsGroup=function(){this.mergedCellsGroup&&this.findById(zs)||(this.mergedCellsGroup=this.addGroup({id:zs}))},e.prototype.updateMergedCells=function(){this.initMergedCellsGroup(),VB(this.s2,this.mergedCellsGroup),this.mergedCellsGroup.toFront()},e.prototype.addMergeCell=function(t){var e;null===(e=this.mergedCellsGroup)||void 0===e||e.add(t)},e.prototype.update=function(t){this.updateGrid(t),this.updateMergedCells()},e}(RH),NH=function(){function t(t){var e=this;this.isLinkFieldText=function(t){var n=e.getCellAppendInfo(t);return null===n||void 0===n?void 0:n.isLinkFieldText},this.spreadsheet=t,this.bindEvents()}return t.prototype.getCellAppendInfo=function(t){var e,n;return(null===(e=null===t||void 0===t?void 0:t.attr)||void 0===e?void 0:e.call(t,"appendInfo"))||(null===(n=null===t||void 0===t?void 0:t.attrs)||void 0===n?void 0:n.appendInfo)||{}},t.prototype.reset=function(){},t}(),jH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.bindEvents=function(){this.bindDataCellClick()},e.prototype.bindDataCellClick=function(){var t=this;this.spreadsheet.on(bs.DATA_CELL_CLICK,(function(e){var n;e.stopPropagation();var r=t.spreadsheet.interaction;if(r.clearHoverTimer(),!r.hasIntercepts([Pl.CLICK]))if(t.isLinkFieldText(e.target))t.emitLinkFieldClickEvent(e);else{var i=t.spreadsheet.getCell(e.target),o=i.getMeta();if(o)if(r.addIntercepts([Pl.HOVER]),r.isSelectedCell(i))1===(null===(n=e.originalEvent)||void 0===n?void 0:n.detail)&&r.reset();else{r.changeState({cells:[fF(i)],stateName:El.SELECTED,onUpdateCells:mF}),t.spreadsheet.emit(bs.GLOBAL_SELECTED,[i]),t.showTooltip(e,o);var a=o.rowId,s=o.colId,l=o.spreadsheet,c=r.getSelectedCellHighlight(),u=c.colHeader,h=c.rowHeader;if(u&&yB(s,r.getAllColHeaderCells(),El.SELECTED),h&&a){var f=vF(o,l);JO(f,(function(t){t.updateByState(El.SELECTED)}))}}}}))},e.prototype.getTooltipOperator=function(t,e){var n=this,r=QR(),i=this.spreadsheet.getCell(t.target),o=WW(this.spreadsheet,t).operation,a=o.trend&&tc(tc({},r),{onClick:function(){n.spreadsheet.emit(bs.DATA_CELL_TREND_ICON_CLICK,tc(tc({},e),{record:n.spreadsheet.isTableMode()?n.spreadsheet.dataSet.getCellData({query:{rowIndex:e.rowIndex}}):void 0})),n.spreadsheet.hideTooltip()}});return HW(o,{defaultMenus:[a],cell:i})},e.prototype.showTooltip=function(t,e){var n=e.data,r=e.isTotals,i=void 0!==r&&r,o=e.value,a=e.fieldValue,s=e.field,l=e.valueField,c=n,u=this.spreadsheet.isTableMode(),h=u?tc(tc({},c),{value:o||a,valueField:s||l}):c,f=[h||tc(tc({},e.rowQuery),e.colQuery)],d=this.getTooltipOperator(t,e);this.spreadsheet.showTooltipWithInfo(t,f,{isTotals:i,operator:d,enterable:!0,hideSummary:!0,showSingleTips:u})},e.prototype.emitLinkFieldClickEvent=function(t){var e=this.getCellAppendInfo(t.target).cellData,n=e.valueField,r=e.data;this.spreadsheet.emit(bs.GLOBAL_LINK_FIELD_JUMP,{key:n,cellData:e,record:Object.assign({rowIndex:e.rowIndex},r)})},e}(NH),BH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.bindEvents=function(){this.bindDataCellClick()},e.prototype.bindDataCellClick=function(){var t=this;this.spreadsheet.on(bs.MERGED_CELLS_CLICK,(function(e){e.stopPropagation();var n=t.spreadsheet.interaction;n.hasIntercepts([Pl.CLICK])||n.addIntercepts([Pl.HOVER])}))},e}(NH),DH=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMultiSelection=!1,e.handleRowColClick=function(t){if(t.stopPropagation(),!e.isLinkFieldText(t.target)){var n=e.spreadsheet,r=n.interaction,i=n.options,o=e.spreadsheet.getCell(t.target),a=i.interaction.multiSelection,s=!(!a||!e.isMultiSelection),l=r.selectHeaderCell({cell:o,isMultiSelection:s});l&&e.showTooltip(t)}},e.getHideColumnField=function(t){return e.spreadsheet.isTableMode()?t.field:t.id},e}return Jl(e,t),e.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindKeyboardUp(),this.bindColCellClick(),this.bindRowCellClick(),this.bindTableColExpand(),this.bindMouseMove()},e.prototype.reset=function(){this.isMultiSelection=!1,this.spreadsheet.interaction.removeIntercepts([Pl.CLICK])},e.prototype.bindKeyboardDown=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_KEYBOARD_DOWN,(function(e){uF(e)&&(t.isMultiSelection=!0)}))},e.prototype.bindKeyboardUp=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_KEYBOARD_UP,(function(e){uF(e)&&t.reset()}))},e.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_MOUSE_MOVE,(function(e){t.isMultiSelection&&!hF(e)&&t.reset()}))},e.prototype.bindRowCellClick=function(){var t=this;this.spreadsheet.on(bs.ROW_CELL_CLICK,(function(e){t.handleRowColClick(e)}))},e.prototype.bindColCellClick=function(){var t=this;this.spreadsheet.on(bs.COL_CELL_CLICK,(function(e){t.handleRowColClick(e)}))},e.prototype.showTooltip=function(t){var e=WW(this.spreadsheet,t),n=e.operation,r=e.showTooltip;if(r){var i=this.spreadsheet.interaction,o=i.isSelectedState()?DW(i.getActiveCells()):[],a=this.getTooltipOperator(t,n);this.spreadsheet.showTooltipWithInfo(t,o,{showSingleTips:!0,operator:a})}},e.prototype.getTooltipOperator=function(t,e){var n=this,r=this.spreadsheet.getCell(t.target),i=r.getMeta(),o=r.cellType===Ml.COL_CELL,a=1===this.spreadsheet.getColumnLeafNodes().length,s=ZR(),l=o&&!a&&i.isLeaf&&e.hiddenColumns,c=l&&tc(tc({},s),{onClick:function(){n.hideSelectedColumns()}});return HW(e,{defaultMenus:[c],cell:r})},e.prototype.bindTableColExpand=function(){var t=this;this.spreadsheet.on(bs.LAYOUT_COLS_EXPANDED,(function(e){t.handleExpandIconClick(e)}))},e.prototype.hideSelectedColumns=function(){var t=this.spreadsheet.interaction,e=t.getActiveCells().map((function(t){return t.getMeta()})),n=e.map(this.getHideColumnField);QB(this.spreadsheet,n,!0)},e.prototype.handleExpandIconClick=function(t){var e=this.spreadsheet.store.get("hiddenColumnsDetail",[]),n=(YC(e,(function(e){var n=e.displaySiblingNode;return nD(n,t.id)}))||{}).hideColumnNodes,r=void 0===n?[]:n,i=this.spreadsheet.options.interaction.hiddenColumnFields,o=r.map(this.getHideColumnField),a=FO(i,o),s=e.filter((function(e){var n=e.displaySiblingNode;return!nD(n,t.id)}));this.spreadsheet.setOptions({interaction:{hiddenColumnFields:a}}),this.spreadsheet.store.set("hiddenColumnsDetail",s),this.spreadsheet.interaction.reset(),this.spreadsheet.render(!1)},e}(NH),FH=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getRowData=function(t){var n,r=t.getHeadLeafChild(),i=e.spreadsheet.dataSet.getMultiData(null===r||void 0===r?void 0:r.query,null===r||void 0===r?void 0:r.isTotals,!0)[0];return tc(tc({},i),{rowIndex:null!==(n=t.rowIndex)&&void 0!==n?n:r.rowIndex})},e}return Jl(e,t),e.prototype.bindEvents=function(){this.bindRowCellClick()},e.prototype.bindRowCellClick=function(){var t=this;this.spreadsheet.on(bs.ROW_CELL_CLICK,(function(e){if(!t.spreadsheet.interaction.hasIntercepts([Pl.CLICK])&&t.isLinkFieldText(e.target)){var n=t.getCellAppendInfo(e.target).cellData,r=n.key,i=t.getRowData(n);t.spreadsheet.emit(bs.GLOBAL_LINK_FIELD_JUMP,{key:r,cellData:n,record:i})}}))},e}(NH),zH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.bindEvents=function(){this.bindCornerCellClick()},e.prototype.bindCornerCellClick=function(){var t=this;this.spreadsheet.on(bs.CORNER_CELL_CLICK,(function(e){var n,r=t.spreadsheet.interaction,i=t.spreadsheet.getCell(e.target);if(i){var o=i.getMeta(),a=t.getRowNodesByField(null===o||void 0===o?void 0:o.field),s=null===(n=a[0])||void 0===n?void 0:n.belongsCell,l=t.getRowCells(a);if(s&&r.isSelectedCell(s))return r.reset(),void t.spreadsheet.emit(bs.GLOBAL_SELECTED,r.getActiveCells());H_(a)||H_(l)||(r.addIntercepts([Pl.HOVER]),r.changeState({cells:l,stateName:El.SELECTED}),r.highlightNodes(a),t.showTooltip(e),t.spreadsheet.emit(bs.GLOBAL_SELECTED,r.getActiveCells()))}}))},e.prototype.getRowNodesByField=function(t){return this.spreadsheet.getRowNodes().filter((function(e){return e.field===t}))},e.prototype.getRowCells=function(t){return t.map((function(t){return{id:t.id,colIndex:-1,rowIndex:-1,type:Ml.ROW_CELL}}))},e.prototype.showTooltip=function(t){var e=this.spreadsheet.interaction.getActiveCells();this.spreadsheet.showTooltipWithInfo(t,[],{data:{summaries:[{selectedData:e,name:"",value:null}]}})},e}(NH),WH=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e.prototype.bindEvents=function(){this.bindCornerCellHover(),this.bindDataCellHover(),this.bindRowCellHover(),this.bindColCellHover()},e.prototype.updateRowColCells=function(t){var e=t.rowId,n=t.colId,r=this.spreadsheet.interaction,i=r.getHoverHighlight(),o=i.rowHeader,a=i.colHeader;if(a&&yB(n,r.getAllColHeaderCells(),El.HOVER),o&&e){var s=gB(e,r.getAllRowHeaderCells(),this.spreadsheet.isHierarchyTreeType());JO(s,(function(t){t.updateByState(El.HOVER)}))}},e.prototype.changeStateToHoverFocus=function(t,e,n){var r,i=this,o=this.spreadsheet.interaction,a=this.spreadsheet.options.interaction,s=a.hoverFocus;o.clearHoverTimer();var l=function(){if(!o.hasIntercepts([Pl.HOVER])){o.changeState({cells:[fF(t)],stateName:El.HOVER_FOCUS});var r=i.spreadsheet.isTableMode(),a={isTotals:n.isTotals,enterable:!0,hideSummary:!0,showSingleTips:r},s=o.getHoverHighlight(),l=s.rowHeader,c=s.colHeader;(l||c)&&i.updateRowColCells(n);var u=i.getCellData(n,r);i.spreadsheet.showTooltipWithInfo(e,u,a)}},c=Rl;if(L_(s)||(c=null!==(r=null===s||void 0===s?void 0:s.duration)&&void 0!==r?r:Rl),0===c)l();else{var u=window.setTimeout((function(){return l()}),c);o.setHoverTimer(u)}},e.prototype.handleHeaderHover=function(t){var e=this.spreadsheet.getCell(t.target);if(!H_(e)){var n=this.spreadsheet.interaction;n.clearHoverTimer(),n.isActiveCell(e)||(n.changeState({cells:[fF(e)],stateName:El.HOVER}),e.update(),this.showEllipsisTooltip(t,e))}},e.prototype.showEllipsisTooltip=function(t,e){if(e&&e.getActualText()!==e.getFieldValue()){var n=e.getMeta(),r=!0,i={isTotals:n.isTotals,enterable:!0,hideSummary:!0,showSingleTips:r,enableFormat:this.spreadsheet.isPivotMode()},o=this.getCellData(n,r);this.spreadsheet.showTooltipWithInfo(t,o,i)}},e.prototype.getCellData=function(t,e){void 0===t&&(t={});var n=t.data,r=t.query,i=t.value,o=t.field,a=t.fieldValue,s=t.valueField,l=t.rowQuery,c=t.colQuery,u=n,h=e?[tc(tc({},r),{value:i||a,valueField:o||s})]:[u||tc(tc({},l),c)];return h},e.prototype.bindDataCellHover=function(){var t=this;this.spreadsheet.on(bs.DATA_CELL_HOVER,(function(e){var n=t.spreadsheet.getCell(e.target);if(!H_(n)){var r=t.spreadsheet,i=r.interaction,o=r.options,a=o.interaction,s=null===n||void 0===n?void 0:n.getMeta();if(!i.isActiveCell(n)){i.changeState({cells:[fF(n)],stateName:El.HOVER});var l=i.getHoverHighlight(),c=l.rowHeader,u=l.colHeader;(c||u)&&t.updateRowColCells(s),a.hoverFocus&&t.changeStateToHoverFocus(n,e,s)}}}))},e.prototype.bindRowCellHover=function(){var t=this;this.spreadsheet.on(bs.ROW_CELL_HOVER,(function(e){t.handleHeaderHover(e)}))},e.prototype.bindColCellHover=function(){var t=this;this.spreadsheet.on(bs.COL_CELL_HOVER,(function(e){t.handleHeaderHover(e)}))},e.prototype.bindCornerCellHover=function(){var t=this;this.spreadsheet.on(bs.CORNER_CELL_HOVER,(function(e){t.handleHeaderHover(e)}))},e}(NH),HH=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayedCells=[],e.brushRangeCells=[],e.brushSelectionStage=Tl.UN_DRAGGED,e.brushSelectionMinimumMoveDistance=5,e.scrollAnimationComplete=!0,e.mouseMoveDistanceFromCanvas=0,e.setMoveDistanceFromCanvas=function(t,n,r){var i=0;if(n&&(i=t.x),r){var o=t.y;i=n?Math.max(o,i):o}e.mouseMoveDistanceFromCanvas=Math.abs(i)},e.formatBrushPointForScroll=function(t,n){var r,i,o,a;void 0===n&&(n=!1);var s=t.x,l=t.y,c=e.spreadsheet.facet,u=n?c.cornerBBox:c.panelBBox,h=u.minX,f=u.maxX,d=c.panelBBox,p=d.minY,v=d.maxY,g=(null===(r=e.endBrushPoint)||void 0===r?void 0:r.x)+s,y=(null===(i=e.endBrushPoint)||void 0===i?void 0:i.y)+l,m=!0,b=!0,x=null===(a=null===(o=c.vScrollBar)||void 0===o?void 0:o.getBBox())||void 0===a?void 0:a.width,w=2;return g>f?g=f-x-w:g<h?g=h+w:m=!1,y>v?y=v-w:y<=p?y=p+w:b=!1,{x:{value:g,needScroll:m},y:{value:y,needScroll:b}}},e.rectanglesIntersect=function(t,e){return t.maxX>e.minX&&t.minX<e.maxX&&t.minY<e.maxY&&t.maxY>e.minY},e.autoScrollIntervalId=null,e.autoScrollConfig=Sx(zl),e.validateYIndex=function(t){var n,r,i=e.spreadsheet.facet,o=i.frozenGroupInfo,a=0,s=null===(n=null===o||void 0===o?void 0:o.frozenRow)||void 0===n?void 0:n.range;if(s&&(a=s[1]+1),t<a)return null;var l=i.getCellRange().end,c=null===(r=null===o||void 0===o?void 0:o.frozenTrailingRow)||void 0===r?void 0:r.range;return c&&(l=c[0]-1),t>l?null:t},e.validateXIndex=function(t){var n,r,i=e.spreadsheet.facet,o=i.frozenGroupInfo,a=0,s=null===(n=null===o||void 0===o?void 0:o.frozenCol)||void 0===n?void 0:n.range;if(s&&(a=s[1]+1),t<a)return null;var l=i.layoutResult.colLeafNodes.length-1,c=null===(r=null===o||void 0===o?void 0:o.frozenTrailingCol)||void 0===r?void 0:r.range;return c&&(l=c[0]-1),t>l?null:t},e.adjustNextColIndexWithFrozen=function(t,n){var r=e.spreadsheet,i=r.facet,o=r.dataSet,a=r.options,s=o.getDisplayDataSet().length,l=i.layoutResult.colLeafNodes.length,c=BN(a,l,s),u=c.frozenTrailingColCount,h=c.frozenColCount,f=i.panelScrollGroupIndexes;return u>0&&n===Dl.SCROLL_DOWN&&CI(t,u,l)?f[1]:h>0&&n===Dl.SCROLL_UP&&OI(t,h)?f[0]:t},e.adjustNextRowIndexWithFrozen=function(t,n){var r=e.spreadsheet,i=r.facet,o=r.dataSet,a=r.options,s=o.getDisplayDataSet().length,l=i.layoutResult.colLeafNodes.length,c=i.getCellRange(),u=BN(a,l,s),h=u.frozenTrailingRowCount,f=u.frozenRowCount,d=i.panelScrollGroupIndexes;return h>0&&n===Dl.SCROLL_DOWN&&_I(t,c.end,h)?d[3]:f>0&&n===Dl.SCROLL_UP&&SI(t,c.start,f)?d[2]:t},e.getWillScrollRowIndexDiff=function(t){return t===Dl.SCROLL_DOWN?Fl.SCROLL_DOWN:Fl.SCROLL_UP},e.getDefaultWillScrollToRowIndex=function(t){var n=e.adjustNextRowIndexWithFrozen(e.endBrushPoint.rowIndex,t),r=n+e.getWillScrollRowIndexDiff(t);return e.validateYIndex(r)},e.getWillScrollToRowIndex=function(t){return e.getDefaultWillScrollToRowIndex(t)},e.getNextScrollDelta=function(t){var n=e.spreadsheet.facet.getScrollOffset(),r=n.scrollX,i=n.scrollY,o=0,a=0;if(t.y.scroll){var s=t.y.value>0?Dl.SCROLL_DOWN:Dl.SCROLL_UP,l=e.getWillScrollToRowIndex(s),c=OF(l,s,e.spreadsheet)-i,u=rE(l)||rE(c)||Number.isNaN(c);a=u?0:c}if(t.x.scroll){s=t.x.value>0?Dl.SCROLL_DOWN:Dl.SCROLL_UP;var h=e.adjustNextColIndexWithFrozen(e.endBrushPoint.colIndex,s),f=e.validateXIndex(h+(t.x.value>0?1:-1));o=rE(f)?0:wF(f,s,e.spreadsheet)-r}return{x:o,y:a}},e.onScrollAnimationComplete=function(){e.scrollAnimationComplete=!0,e.brushSelectionStage!==Tl.UN_DRAGGED&&e.renderPrepareSelected(e.endBrushPoint)},e.autoScroll=function(t){if(void 0===t&&(t=!1),e.brushSelectionStage!==Tl.UN_DRAGGED&&e.scrollAnimationComplete){var n=e.autoScrollConfig,r=e.spreadsheet.facet.getScrollOffset(),i=t?"rowHeaderOffsetX":"offsetX",o={rowHeaderOffsetX:{value:r.rowHeaderScrollX,animate:!0},offsetX:{value:r.scrollX,animate:!0},offsetY:{value:r.scrollY,animate:!0}},a=e.getNextScrollDelta(n),s=a.x,l=a.y;if(0!==l||0!==s){if(n.y.scroll&&(o.offsetY.value+=l),n.x.scroll){var c=o[i];c.value+=s,c.value<0&&(c.value=0)}e.scrollAnimationComplete=!1;var u=n.x.scroll?1:3,h=Math.max(16,300-e.mouseMoveDistanceFromCanvas*u);e.spreadsheet.facet.scrollWithAnimation(o,h,e.onScrollAnimationComplete)}else e.clearAutoScroll()}},e.handleScroll=yL((function(t,n,r){if(void 0===r&&(r=!1),e.brushSelectionStage!==Tl.UN_DRAGGED){var i=e.formatBrushPointForScroll({x:t,y:n},r),o=i.x,a=o.value,s=o.needScroll,l=i.y,c=l.value,u=l.needScroll,h=e.autoScrollConfig;u&&(h.y.value=n,h.y.scroll=!0),s&&(h.x.value=t,h.x.scroll=!0),e.setMoveDistanceFromCanvas({x:t,y:n},s,u),e.renderPrepareSelected({x:a,y:c}),(u||s)&&(e.clearAutoScroll(),e.autoScroll(r),e.autoScrollIntervalId=setInterval((function(){e.autoScroll(r)}),16))}}),30),e.clearAutoScroll=function(){e.autoScrollIntervalId&&(clearInterval(e.autoScrollIntervalId),e.autoScrollIntervalId=null,e.resetScrollDelta())},e.onUpdateCells=function(t,e){return e()},e.showPrepareSelectedCells=function(){e.brushRangeCells=e.getBrushRangeCells(),e.spreadsheet.interaction.changeState({cells:KC(e.brushRangeCells,(function(t){return fF(t)})),stateName:El.PREPARE_SELECT,force:!0,onUpdateCells:e.onUpdateCells})},e.renderPrepareSelected=function(t){var n=t.x,r=t.y,i=e.spreadsheet.container.getShape(n,r),o=e.spreadsheet.getCell(i),a=o instanceof TB||o instanceof nF||o instanceof PD;if(o&&a){var s=o.getMeta(),l=s.rowIndex,c=s.colIndex;e.endBrushPoint={x:n,y:r,rowIndex:l,colIndex:c};var u=e.spreadsheet.interaction;u.addIntercepts([Pl.HOVER]),u.clearStyleIndependent(),e.isValidBrushSelection()&&(e.showPrepareSelectedCells(),e.updatePrepareSelectMask())}},e}return Jl(e,t),e.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},e.prototype.getPrepareSelectMaskTheme=function(){var t;return null===(t=this.spreadsheet.theme)||void 0===t?void 0:t.prepareSelectMask},e.prototype.initPrepareSelectMaskShape=function(){var t=this.spreadsheet.foregroundGroup;if(t){t.removeChild(this.prepareSelectMaskShape);var e=this.getPrepareSelectMaskTheme();this.prepareSelectMaskShape=t.addShape("rect",{visible:!1,attrs:{width:0,height:0,x:0,y:0,fill:null===e||void 0===e?void 0:e.backgroundColor,fillOpacity:null===e||void 0===e?void 0:e.backgroundOpacity,zIndex:Ps},capture:!1})}},e.prototype.setBrushSelectionStage=function(t){this.brushSelectionStage=t},e.prototype.isPointInCanvas=function(t){var e=this.spreadsheet.facet.getCanvasHW(),n=e.height,r=e.width,i=this.spreadsheet.facet.panelBBox,o=i.minX,a=i.minY;return t.x>o&&t.x<r&&t.y>a&&t.y<n},e.prototype.resetDrag=function(){this.hidePrepareSelectMaskShape(),this.setBrushSelectionStage(Tl.UN_DRAGGED)},e.prototype.isValidBrushSelection=function(){var t=this.getBrushRange(),e=t.start,n=t.end,r=n.x-e.x>this.brushSelectionMinimumMoveDistance||n.y-e.y>this.brushSelectionMinimumMoveDistance;return r},e.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getPanelGroupAllDataCells()},e.prototype.updatePrepareSelectMask=function(){var t=this.getBrushRange(),e=this.getPrepareSelectMaskPosition(t),n=e.x,r=e.y;this.prepareSelectMaskShape.attr({x:n,y:r,width:t.width,height:t.height}),this.prepareSelectMaskShape.show()},e.prototype.hidePrepareSelectMaskShape=function(){var t;null===(t=this.prepareSelectMaskShape)||void 0===t||t.hide()},e.prototype.resetScrollDelta=function(){this.autoScrollConfig=Sx(zl)},e.prototype.getBrushPoint=function(t){var e=this.spreadsheet.facet.getScrollOffset(),n=e.scrollY,r=e.scrollX,i={x:null===t||void 0===t?void 0:t.x,y:null===t||void 0===t?void 0:t.y},o=this.spreadsheet.getCell(t.target),a=o.getMeta(),s=a.colIndex,l=a.rowIndex;return tc(tc({},i),{rowIndex:l,colIndex:s,scrollY:n,scrollX:r})},e.prototype.getBrushRange=function(){var t,e,n,r,i,o,a,s,l=this.spreadsheet.facet.getScrollOffset(),c=l.scrollX,u=l.scrollY,h=Math.min(this.startBrushPoint.rowIndex,null===(t=this.endBrushPoint)||void 0===t?void 0:t.rowIndex),f=Math.max(this.startBrushPoint.rowIndex,null===(e=this.endBrushPoint)||void 0===e?void 0:e.rowIndex),d=Math.min(this.startBrushPoint.colIndex,null===(n=this.endBrushPoint)||void 0===n?void 0:n.colIndex),p=Math.max(this.startBrushPoint.colIndex,null===(r=this.endBrushPoint)||void 0===r?void 0:r.colIndex),v=this.startBrushPoint.x+this.startBrushPoint.scrollX-c,g=this.startBrushPoint.y+this.startBrushPoint.scrollY-u,y=Math.min(v,null===(i=this.endBrushPoint)||void 0===i?void 0:i.x),m=Math.max(v,null===(o=this.endBrushPoint)||void 0===o?void 0:o.x),b=Math.min(g,null===(a=this.endBrushPoint)||void 0===a?void 0:a.y),x=Math.max(g,null===(s=this.endBrushPoint)||void 0===s?void 0:s.y);return{start:{rowIndex:h,colIndex:d,x:y,y:b},end:{rowIndex:f,colIndex:p,x:m,y:x},width:m-y,height:x-b}},e.prototype.getBrushRangeCells=function(){var t=this;return this.setDisplayedCells(),this.displayedCells.filter((function(e){var n=e.getMeta();return t.isInBrushRange(n)}))},e.prototype.mouseDown=function(t){var e;null===(e=null===t||void 0===t?void 0:t.preventDefault)||void 0===e||e.call(t),this.spreadsheet.interaction.hasIntercepts([Pl.CLICK])||(this.setBrushSelectionStage(Tl.CLICK),this.initPrepareSelectMaskShape(),this.setDisplayedCells(),this.startBrushPoint=this.getBrushPoint(t))},e.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([Pl.BRUSH_SELECTION])},e.prototype.bindMouseUp=function(t){var e=this;void 0===t&&(t=!1),this.spreadsheet.on(bs.GLOBAL_MOUSE_UP,(function(n){if(e.brushSelectionStage===Tl.DRAGGED){if(t&&e.clearAutoScroll(),e.isValidBrushSelection()){e.addBrushIntercepts(),e.updateSelectedCells();var r=FW(e.spreadsheet);e.spreadsheet.showTooltipWithInfo(n,r)}e.spreadsheet.interaction.getCurrentStateName()===El.PREPARE_SELECT&&e.spreadsheet.interaction.reset(),e.resetDrag()}else e.resetDrag()})),this.spreadsheet.on(bs.GLOBAL_CONTEXT_MENU,(function(){e.brushSelectionStage!==Tl.UN_DRAGGED&&(e.spreadsheet.interaction.removeIntercepts([Pl.HOVER]),e.resetDrag())}))},e.prototype.autoBrushScroll=function(t,e){var n,r;if(void 0===e&&(e=!1),this.clearAutoScroll(),!this.isPointInCanvas(t)){var i=(null===t||void 0===t?void 0:t.x)-(null===(n=this.endBrushPoint)||void 0===n?void 0:n.x),o=(null===t||void 0===t?void 0:t.y)-(null===(r=this.endBrushPoint)||void 0===r?void 0:r.y);return this.handleScroll(i,o,e),!0}return!1},e.prototype.emitBrushSelectionEvent=function(t,e){this.spreadsheet.emit(t,e),this.spreadsheet.emit(bs.GLOBAL_SELECTED,e),H_(e)&&this.spreadsheet.interaction.removeIntercepts([Pl.HOVER])},e.prototype.getVisibleBrushRangeCells=function(t){return this.brushRangeCells.find((function(e){var n=e.getMeta();return(null===n||void 0===n?void 0:n.id)===t}))},e.prototype.isInBrushRange=function(t){return!1},e.prototype.bindMouseDown=function(){},e.prototype.bindMouseMove=function(){},e.prototype.updateSelectedCells=function(){},e.prototype.getPrepareSelectMaskPosition=function(t){return{x:t.start.x,y:t.start.y}},e}(NH),$H=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayedCells=[],e.brushRangeCells=[],e.onUpdateCells=function(t){return t.updateCells(t.getAllColHeaderCells())},e}return Jl(e,t),e.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},e.prototype.bindMouseDown=function(){var e=this;this.spreadsheet.on(bs.COL_CELL_MOUSE_DOWN,(function(n){e.spreadsheet.interaction.getBrushSelection().col&&t.prototype.mouseDown.call(e,n)}))},e.prototype.isPointInCanvas=function(t){var e=this.spreadsheet.facet.getCanvasHW().width,n=this.spreadsheet.facet.cornerBBox,r=n.width,i=n.minY,o=n.maxY;return t.x>=r&&t.x<=e&&t.y>=i&&t.y<=o},e.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(bs.COL_CELL_MOUSE_MOVE,(function(e){if(t.brushSelectionStage!==Tl.UN_DRAGGED){t.setBrushSelectionStage(Tl.DRAGGED);var n=t.spreadsheet.container.getPointByEvent(e.originalEvent);t.isPointInCanvas(n)&&t.renderPrepareSelected(n)}}))},e.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getAllColHeaderCells()},e.prototype.isInBrushRange=function(t){var e=this.getBrushRange(),n=e.start,r=e.end,i=this.spreadsheet.facet.getScrollOffset().scrollX,o=this.spreadsheet.facet.cornerBBox,a=t.x,s=void 0===a?0:a,l=t.y,c=void 0===l?0:l,u=t.width,h=void 0===u?0:u,f=t.height,d=void 0===f?0:f;return this.rectanglesIntersect({minX:n.x-o.width+i,minY:n.y,maxX:r.x-o.width+i,maxY:r.y},{minX:s,maxX:s+h,minY:c,maxY:c+d})},e.prototype.updateSelectedCells=function(){var t=this.spreadsheet.interaction;t.changeState({cells:KC(this.brushRangeCells,fF),stateName:El.SELECTED,onUpdateCells:function(t){t.updateCells(t.getAllColHeaderCells())}}),this.spreadsheet.emit(bs.COL_CELL_BRUSH_SELECTION,this.brushRangeCells),this.spreadsheet.emit(bs.GLOBAL_SELECTED,this.brushRangeCells),H_(this.brushRangeCells)&&t.removeIntercepts([Pl.HOVER])},e.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([Pl.COL_BRUSH_SELECTION])},e}(HH),GH=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.displayedCells=[],e.brushRangeCells=[],e.getSelectedCellMetas=function(t){var n=[],r=e.spreadsheet.facet.layoutResult,i=r.rowLeafNodes,o=void 0===i?[]:i,a=r.colLeafNodes,s=void 0===a?[]:a,l=mT(t.start.rowIndex,t.end.rowIndex+1),c=mT(t.start.colIndex,t.end.colIndex+1);return l.forEach((function(t){c.forEach((function(r){var i=String(s[r].id),a=H_(o)?String(t):String(o[t].id);n.push({colIndex:r,rowIndex:t,id:"".concat(a,"-").concat(i),type:Ml.DATA_CELL,rowId:a,colId:i,spreadsheet:e.spreadsheet})}))})),n},e}return Jl(e,t),e.prototype.bindMouseDown=function(){var e=this;this.spreadsheet.on(bs.DATA_CELL_MOUSE_DOWN,(function(n){e.spreadsheet.interaction.getBrushSelection().data&&(t.prototype.mouseDown.call(e,n),e.resetScrollDelta())}))},e.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_MOUSE_MOVE,(function(e){if(t.brushSelectionStage!==Tl.UN_DRAGGED){t.setBrushSelectionStage(Tl.DRAGGED);var n=t.spreadsheet.container.getPointByEvent(e);t.autoBrushScroll(n)||t.renderPrepareSelected(n)}}))},e.prototype.isInBrushRange=function(t){var e=this.getBrushRange(),n=e.start,r=e.end,i=t.rowIndex,o=t.colIndex;return i>=n.rowIndex&&i<=r.rowIndex&&o>=n.colIndex&&o<=r.colIndex},e.prototype.updateSelectedCells=function(){var t=this.getBrushRange(),e=this.getSelectedCellMetas(t);this.spreadsheet.interaction.changeState({cells:e,stateName:El.SELECTED,onUpdateCells:mF});var n=this.getScrollBrushRangeCells(e);this.emitBrushSelectionEvent(bs.DATA_CELL_BRUSH_SELECTION,n)},e.prototype.getScrollBrushRangeCells=function(t){var e=this;return t.map((function(t){var n=e.getVisibleBrushRangeCells(t.id);if(n)return n;var r=e.spreadsheet.facet.layoutResult.getCellMeta(t.rowIndex,t.colIndex),i=e.spreadsheet.isTableMode()?lF:TB;return new i(r,e.spreadsheet)}))},e.prototype.bindMouseUp=function(){t.prototype.bindMouseUp.call(this,!0)},e.prototype.getPrepareSelectMaskPosition=function(t){var e=this.spreadsheet.facet.panelBBox,n=e.minX,r=e.minY,i=Math.max(t.start.x,n),o=Math.max(t.start.y,r);return{x:i,y:o}},e}(HH),VH=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isInBrushRange=function(t){var n=e.getBrushRange(),r=n.start,i=n.end,o=e.spreadsheet.facet.getScrollOffset(),a=o.scrollY,s=o.rowHeaderScrollX,l=e.spreadsheet.facet.cornerBBox,c=t.x,u=void 0===c?0:c,h=t.y,f=void 0===h?0:h,d=t.width,p=void 0===d?0:d,v=t.height,g=void 0===v?0:v;return e.rectanglesIntersect({minX:r.x+s,minY:r.y-l.height+a,maxX:i.x+s,maxY:i.y-l.height+a},{minX:u,maxX:u+p,minY:f,maxY:f+g})},e.onUpdateCells=function(t){return t.updateCells(t.getAllRowHeaderCells())},e.getSelectedRowNodes=function(){return e.spreadsheet.getRowNodes().filter(e.isInBrushRange)},e.getVisibleRowLeafCellByScrollDirection=function(t){var n=e.spreadsheet.interaction.getAllRowHeaderCells();return t===Dl.SCROLL_DOWN?zO(n):n.find((function(t){var e=t.getMeta();return e.isLeaf}))},e.getWillScrollToRowIndex=function(t){var n,r;if(!rE(e.endBrushPoint.rowIndex))return e.getDefaultWillScrollToRowIndex(t);var i=e.getVisibleRowLeafCellByScrollDirection(t),o=null!==(r=null===(n=null===i||void 0===i?void 0:i.getMeta())||void 0===n?void 0:n.rowIndex)&&void 0!==r?r:0,a=o+e.getWillScrollRowIndexDiff(t);return e.validateYIndex(a)},e}return Jl(e,t),e.prototype.bindMouseDown=function(){var e=this;this.spreadsheet.on(bs.ROW_CELL_MOUSE_DOWN,(function(n){e.spreadsheet.interaction.getBrushSelection().row&&t.prototype.mouseDown.call(e,n)}))},e.prototype.isPointInCanvas=function(t){var e=this.spreadsheet.facet.getCanvasHW().height,n=this.spreadsheet.facet.cornerBBox,r=n.minX,i=n.height,o=n.maxX;return t.x>=r&&t.x<=o&&t.y>=i&&t.y<=e},e.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_MOUSE_MOVE,(function(e){if(t.brushSelectionStage!==Tl.UN_DRAGGED){t.setBrushSelectionStage(Tl.DRAGGED);var n=t.spreadsheet.container.getPointByEvent(e);t.autoBrushScroll(n,!0)||t.renderPrepareSelected(n)}}))},e.prototype.setDisplayedCells=function(){this.displayedCells=this.spreadsheet.interaction.getAllRowHeaderCells()},e.prototype.updateSelectedCells=function(){var t=this.getSelectedRowNodes(),e=this.getScrollBrushRangeCells(t),n=KC(e,fF);this.spreadsheet.interaction.changeState({cells:n,stateName:El.SELECTED,onUpdateCells:this.onUpdateCells}),this.emitBrushSelectionEvent(bs.ROW_CELL_BRUSH_SELECTION,e)},e.prototype.addBrushIntercepts=function(){this.spreadsheet.interaction.addIntercepts([Pl.ROW_BRUSH_SELECTION])},e.prototype.getScrollBrushRangeCells=function(t){var e=this;return t.map((function(t){var n=e.getVisibleBrushRangeCells(t.id);return n||new nF(t,e.spreadsheet)}))},e.prototype.getPrepareSelectMaskPosition=function(t){var e=this.spreadsheet.facet.panelBBox.minY,n=t.start.x,r=Math.max(t.start.y,e);return{x:n,y:r}},e}(HH),YH=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMultiSelection=!1,e}return Jl(e,t),e.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindDataCellClick(),this.bindKeyboardUp(),this.bindMouseMove()},e.prototype.reset=function(){this.isMultiSelection=!1,this.spreadsheet.interaction.removeIntercepts([Pl.CLICK])},e.prototype.bindKeyboardDown=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_KEYBOARD_DOWN,(function(e){uF(e)&&(t.isMultiSelection=!0,t.spreadsheet.interaction.addIntercepts([Pl.CLICK]))}))},e.prototype.bindKeyboardUp=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_KEYBOARD_UP,(function(e){uF(e)&&t.reset()}))},e.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_MOUSE_MOVE,(function(e){t.isMultiSelection&&!hF(e)&&t.reset()}))},e.prototype.getSelectedCells=function(t){var e=t.getMeta().id,n=this.spreadsheet.interaction,r=n.getCells([Ml.DATA_CELL]),i=[];return n.getCurrentStateName()!==El.SELECTED&&(r=[]),i=r.find((function(t){return t.id===e}))?r.filter((function(t){return t.id!==e})):ic(ic([],rc(r),!1),[fF(t)],!1),i},e.prototype.bindDataCellClick=function(){var t=this;this.spreadsheet.on(bs.DATA_CELL_CLICK,(function(e){e.stopPropagation();var n=t.spreadsheet.getCell(e.target),r=n.getMeta(),i=t.spreadsheet,o=i.interaction;if(i.options,t.isMultiSelection&&r){var a=t.getSelectedCells(n);if(H_(a))return o.clearState(),void t.spreadsheet.hideTooltip();o.addIntercepts([Pl.CLICK,Pl.HOVER]),t.spreadsheet.hideTooltip(),o.changeState({cells:a,stateName:El.SELECTED,onUpdateCells:mF}),t.spreadsheet.emit(bs.GLOBAL_SELECTED,o.getActiveCells()),t.spreadsheet.showTooltipWithInfo(e,FW(t.spreadsheet))}}))},e}(NH),UH=function(){function t(t){var e=this;this.canvasEventHandlers=[],this.s2EventHandlers=[],this.domEventListeners=[],this.isCanvasEffect=!1,this.isGuiIconShape=function(t){return t instanceof Na&&t.attrs.type===SN.type},this.onCanvasMousedown=function(t){if(e.target=t.target,e.spreadsheet.interaction.clearHoverTimer(),e.isResizeArea(t)){e.spreadsheet.emit(bs.LAYOUT_RESIZE_MOUSE_DOWN,t);var n=function(n){if(!e.spreadsheet.getCanvasElement())return!1;e.spreadsheet.getCanvasElement()!==n.target&&(t.clientX=n.clientX,t.clientY=n.clientY,t.originalEvent=n,e.spreadsheet.emit(bs.LAYOUT_RESIZE_MOUSE_MOVE,t))};return window.addEventListener("mousemove",n),void window.addEventListener("mouseup",(function(){window.removeEventListener("mousemove",n)}),{once:!0})}var r=e.spreadsheet.getCellType(t.target);switch(r){case Ml.DATA_CELL:e.spreadsheet.emit(bs.DATA_CELL_MOUSE_DOWN,t);break;case Ml.ROW_CELL:e.spreadsheet.emit(bs.ROW_CELL_MOUSE_DOWN,t);break;case Ml.COL_CELL:e.spreadsheet.emit(bs.COL_CELL_MOUSE_DOWN,t);break;case Ml.CORNER_CELL:e.spreadsheet.emit(bs.CORNER_CELL_MOUSE_DOWN,t);break;case Ml.MERGED_CELL:e.spreadsheet.emit(bs.MERGED_CELLS_MOUSE_DOWN,t);break}},this.onCanvasMousemove=function(t){if(e.canvasMousemoveEvent=t,e.isResizeArea(t))return e.activeResizeArea(t),void e.spreadsheet.emit(bs.LAYOUT_RESIZE_MOUSE_MOVE,t);e.resetResizeArea();var n=e.spreadsheet.getCell(t.target);if(n){var r=n.cellType;switch(r){case Ml.DATA_CELL:e.spreadsheet.emit(bs.DATA_CELL_MOUSE_MOVE,t);break;case Ml.ROW_CELL:e.spreadsheet.emit(bs.ROW_CELL_MOUSE_MOVE,t);break;case Ml.COL_CELL:e.spreadsheet.emit(bs.COL_CELL_MOUSE_MOVE,t);break;case Ml.CORNER_CELL:e.spreadsheet.emit(bs.CORNER_CELL_MOUSE_MOVE,t);break;case Ml.MERGED_CELL:e.spreadsheet.emit(bs.MERGED_CELLS_MOUSE_MOVE,t);break}if(!e.hasBrushSelectionIntercepts())switch(e.spreadsheet.emit(bs.GLOBAL_HOVER,t),r){case Ml.DATA_CELL:e.spreadsheet.emit(bs.DATA_CELL_HOVER,t);break;case Ml.ROW_CELL:e.spreadsheet.emit(bs.ROW_CELL_HOVER,t);break;case Ml.COL_CELL:e.spreadsheet.emit(bs.COL_CELL_HOVER,t);break;case Ml.CORNER_CELL:e.spreadsheet.emit(bs.CORNER_CELL_HOVER,t);break;case Ml.MERGED_CELL:e.spreadsheet.emit(bs.MERGED_CELLS_HOVER,t);break}}},this.onCanvasMouseup=function(t){if(e.isResizeArea(t))e.spreadsheet.emit(bs.LAYOUT_RESIZE_MOUSE_UP,t);else{var n=e.spreadsheet.getCell(t.target);if(n){var r=n.cellType;if(e.target===t.target){var i=e.isGuiIconShape(t.target);switch(r){case Ml.DATA_CELL:e.spreadsheet.emit(bs.DATA_CELL_CLICK,t);break;case Ml.ROW_CELL:if(i)break;e.spreadsheet.emit(bs.ROW_CELL_CLICK,t);break;case Ml.COL_CELL:if(i)break;e.spreadsheet.emit(bs.COL_CELL_CLICK,t);break;case Ml.CORNER_CELL:if(i)break;e.spreadsheet.emit(bs.CORNER_CELL_CLICK,t);break;case Ml.MERGED_CELL:e.spreadsheet.emit(bs.MERGED_CELLS_CLICK,t);break}}switch(r){case Ml.DATA_CELL:e.spreadsheet.emit(bs.DATA_CELL_MOUSE_UP,t);break;case Ml.ROW_CELL:e.spreadsheet.emit(bs.ROW_CELL_MOUSE_UP,t);break;case Ml.COL_CELL:e.spreadsheet.emit(bs.COL_CELL_MOUSE_UP,t);break;case Ml.CORNER_CELL:e.spreadsheet.emit(bs.CORNER_CELL_MOUSE_UP,t);break;case Ml.MERGED_CELL:e.spreadsheet.emit(bs.MERGED_CELLS_MOUSE_UP,t);break}}}},this.onCanvasClick=function(t){e.spreadsheet.emit(bs.GLOBAL_CLICK,t)},this.onCanvasDoubleClick=function(t){var n=e.spreadsheet;if(e.isResizeArea(t))n.emit(bs.LAYOUT_RESIZE_MOUSE_UP,t);else{n.emit(bs.GLOBAL_DOUBLE_CLICK,t);var r=n.getCell(t.target);if(r){var i=r.cellType;if(e.target===t.target)switch(i){case Ml.DATA_CELL:n.emit(bs.DATA_CELL_DOUBLE_CLICK,t);break;case Ml.ROW_CELL:n.emit(bs.ROW_CELL_DOUBLE_CLICK,t);break;case Ml.COL_CELL:n.emit(bs.COL_CELL_DOUBLE_CLICK,t);break;case Ml.CORNER_CELL:n.emit(bs.CORNER_CELL_DOUBLE_CLICK,t);break;case Ml.MERGED_CELL:n.emit(bs.MERGED_CELLS_DOUBLE_CLICK,t);break}}}},this.onCanvasMouseout=function(t){if(e.isAutoResetSheetStyle&&!(null===t||void 0===t?void 0:t.shape)){var n=e.spreadsheet.interaction;n.isSelectedState()||n.intercepts.size>0||n.reset()}},this.onCanvasContextMenu=function(t){var n=e.spreadsheet;if(e.isResizeArea(t))n.emit(bs.LAYOUT_RESIZE_MOUSE_UP,t);else{n.emit(bs.GLOBAL_CONTEXT_MENU,t);var r=e.spreadsheet.getCellType(t.target);switch(r){case Ml.DATA_CELL:e.spreadsheet.emit(bs.DATA_CELL_CONTEXT_MENU,t);break;case Ml.ROW_CELL:e.spreadsheet.emit(bs.ROW_CELL_CONTEXT_MENU,t);break;case Ml.COL_CELL:e.spreadsheet.emit(bs.COL_CELL_CONTEXT_MENU,t);break;case Ml.CORNER_CELL:e.spreadsheet.emit(bs.CORNER_CELL_CONTEXT_MENU,t);break;case Ml.MERGED_CELL:e.spreadsheet.emit(bs.MERGED_CELLS_CONTEXT_MENU,t);break}}},this.spreadsheet=t,this.bindEvents()}return Object.defineProperty(t.prototype,"canvasContainer",{get:function(){return this.spreadsheet.container},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAutoResetSheetStyle",{get:function(){return this.spreadsheet.options.interaction.autoResetSheetStyle},enumerable:!1,configurable:!0}),t.prototype.bindEvents=function(){var t=this;this.clearAllEvents(),this.addCanvasEvent(ms.CLICK,this.onCanvasClick),this.addCanvasEvent(ms.MOUSE_DOWN,this.onCanvasMousedown),this.addCanvasEvent(ms.MOUSE_MOVE,this.onCanvasMousemove),this.addCanvasEvent(ms.MOUSE_OUT,this.onCanvasMouseout),this.addCanvasEvent(ms.MOUSE_UP,this.onCanvasMouseup),this.addCanvasEvent(ms.DOUBLE_CLICK,this.onCanvasDoubleClick),this.addCanvasEvent(ms.CONTEXT_MENU,this.onCanvasContextMenu),this.addS2Event(bs.GLOBAL_ACTION_ICON_CLICK,(function(){t.spreadsheet.interaction.addIntercepts([Pl.HOVER]),t.spreadsheet.interaction.clearState()})),this.addDomEventListener(window,ms.CLICK,(function(e){t.resetSheetStyle(e),t.isCanvasEffect=t.isMouseOnTheCanvasContainer(e)})),this.addDomEventListener(window,ms.KEY_DOWN,(function(e){t.onKeyboardCopy(e),t.onKeyboardEsc(e),t.spreadsheet.emit(bs.GLOBAL_KEYBOARD_DOWN,e)})),this.addDomEventListener(window,ms.KEY_UP,(function(e){t.spreadsheet.emit(bs.GLOBAL_KEYBOARD_UP,e)})),this.addDomEventListener(window,ms.MOUSE_UP,(function(e){t.spreadsheet.emit(bs.GLOBAL_MOUSE_UP,e)})),this.addDomEventListener(window,ms.MOUSE_MOVE,(function(e){t.spreadsheet.emit(bs.GLOBAL_MOUSE_MOVE,e)}))},t.prototype.onKeyboardCopy=function(t){if(this.isCanvasEffect&&this.spreadsheet.options.interaction.enableCopy&&Mj(t.key,Al.COPY)&&(t.metaKey||t.ctrlKey)){var e=fB(this.spreadsheet);rE(e)||this.spreadsheet.emit(bs.GLOBAL_COPIED,e)}},t.prototype.onKeyboardEsc=function(t){this.isCanvasEffect&&Mj(t.key,Al.ESC)&&this.resetSheetStyle(t)},t.prototype.resetSheetStyle=function(t){if(this.isAutoResetSheetStyle&&this.spreadsheet){var e=this.spreadsheet.interaction;e.hasIntercepts([Pl.BRUSH_SELECTION,Pl.COL_BRUSH_SELECTION,Pl.ROW_BRUSH_SELECTION])?e.removeIntercepts([Pl.BRUSH_SELECTION,Pl.ROW_BRUSH_SELECTION,Pl.COL_BRUSH_SELECTION]):this.isMouseOnTheTooltip(t)||this.isMouseOnTheCanvasContainer(t)||(this.spreadsheet.emit(bs.GLOBAL_RESET,t),e.reset())}},t.prototype.isMouseEvent=function(t){return Mw(t,"clientX")&&Mw(t,"clientY")},t.prototype.isMouseOnTheCanvasContainer=function(t){if(this.isMouseEvent(t)){var e=this.spreadsheet.getCanvasElement();if(!e)return!1;var n=e.getBoundingClientRect()||{},r=n.x,i=n.y,o=this.getContainerRect(),a=o.width,s=o.height;return e.contains(t.target)&&t.clientX<=r+a&&t.clientY<=i+s}return!1},t.prototype.getContainerRect=function(){var t,e=(null===(t=this.spreadsheet.facet)||void 0===t?void 0:t.panelBBox)||{},n=e.maxX,r=e.maxY,i=this.spreadsheet.options,o=i.width,a=i.height;return{width:Math.min(o,n),height:Math.min(a,r)}},t.prototype.isMouseOnTheTooltip=function(t){var e,n,r,i,o=this.spreadsheet.tooltip;if(!(null===o||void 0===o?void 0:o.visible))return!1;var a=(null===(r=null===(n=null===(e=this.spreadsheet.tooltip)||void 0===e?void 0:e.container)||void 0===n?void 0:n.getBoundingClientRect)||void 0===r?void 0:r.call(n))||{},s=a.x,l=a.y,c=a.width,u=a.height;return t.target instanceof Node?$W(null===(i=this.spreadsheet.tooltip)||void 0===i?void 0:i.container,t.target):!!this.isMouseEvent(t)&&(t.clientX>=s&&t.clientX<=s+c&&t.clientY>=l&&t.clientY<=l+u)},t.prototype.isResizeArea=function(t){var e=vv(t.target,"attrs.appendInfo");return null===e||void 0===e?void 0:e.isResizeArea},t.prototype.activeResizeArea=function(t){this.resetResizeArea();var e=t.target;this.spreadsheet.store.set("activeResizeArea",e),e.attr(Il.backgroundOpacity,this.spreadsheet.theme.resizeArea.interactionState.hover.backgroundOpacity)},t.prototype.resetResizeArea=function(){var t=this.spreadsheet.store.get("activeResizeArea");H_(t)||t.attr(Il.backgroundOpacity,this.spreadsheet.theme.resizeArea.backgroundOpacity),this.spreadsheet.store.set("activeResizeArea",t)},t.prototype.hasBrushSelectionIntercepts=function(){return this.spreadsheet.interaction.hasIntercepts([Pl.HOVER,Pl.BRUSH_SELECTION,Pl.ROW_BRUSH_SELECTION,Pl.COL_BRUSH_SELECTION])},t.prototype.clear=function(){this.unbindEvents()},t.prototype.unbindEvents=function(){this.clearAllEvents()},t.prototype.addCanvasEvent=function(t,e){var n;null===(n=this.canvasContainer)||void 0===n||n.on(t,e),this.canvasEventHandlers.push({type:t,handler:e})},t.prototype.addS2Event=function(t,e){this.spreadsheet.on(t,e),this.s2EventHandlers.push({type:t,handler:e})},t.prototype.addDomEventListener=function(t,e,n){if(t.addEventListener){var r=this.spreadsheet.options.interaction.eventListenerOptions;t.addEventListener(e,n,r),this.domEventListeners.push({target:t,type:e,handler:n,options:r})}else console.error("Please make sure ".concat(t," has addEventListener function"))},t.prototype.clearAllEvents=function(){var t=this;JO(this.canvasEventHandlers,(function(e){var n,r=e.type,i=e.handler;null===(n=t.canvasContainer)||void 0===n||n.off(r,i)})),JO(this.s2EventHandlers,(function(e){var n=e.type,r=e.handler;t.spreadsheet.off(n,r)})),JO(this.domEventListeners,(function(t){t.target.removeEventListener(t.type,t.handler,t.options)})),this.canvasEventHandlers=[],this.s2EventHandlers=[],this.domEventListeners=[]},t}(),XH=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isRangeSelection=!1,e.handleColClick=function(t){t.stopPropagation();var n=e.spreadsheet.interaction,r=e.spreadsheet.getCell(t.target),i=null===r||void 0===r?void 0:r.getMeta();if(!rE(null===i||void 0===i?void 0:i.x)){n.addIntercepts([Pl.HOVER]);var o=[fF(r)],a=e.spreadsheet.store.get("lastClickedCell");if(e.isRangeSelection&&a&&a.cellType===r.cellType&&a.getMeta().level===r.getMeta().level){var s=rc([e.spreadsheet.facet.layoutResult.rowsHierarchy.maxLevel,e.spreadsheet.facet.layoutResult.colsHierarchy.maxLevel],2),l=s[0],c=s[1],u=pF(a.getMeta(),r.getMeta()),h=u.start,f=u.end;r instanceof TB?o=e.handleSeriesNumberRowSelected(h.rowIndex,f.rowIndex,r):r.cellType===Ml.ROW_CELL&&r.getMeta().level===l?o=e.handleRowSelected(h.rowIndex,f.rowIndex,r):r.cellType===Ml.COL_CELL&&r.getMeta().level===c&&(o=e.handleColSelected(h.colIndex,f.colIndex,r)),n.changeState({cells:o,stateName:El.SELECTED})}else H_(n.getCells())&&n.removeIntercepts([Pl.HOVER]),e.spreadsheet.store.set("lastClickedCell",r);var d=o.map((function(t){var e=t.id;return e}));n.updateCells(n.getRowColActiveCells(d)),e.spreadsheet.emit(bs.GLOBAL_SELECTED,n.getActiveCells())}},e}return Jl(e,t),e.prototype.bindEvents=function(){this.bindKeyboardDown(),this.bindDataCellClick(),this.bindColCellClick(),this.bindKeyboardUp(),this.bindMouseMove()},e.prototype.reset=function(){this.isRangeSelection=!1,this.spreadsheet.interaction.removeIntercepts([Pl.CLICK])},e.prototype.bindKeyboardDown=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_KEYBOARD_DOWN,(function(e){e.key===Al.SHIFT&&(t.isRangeSelection=!0,t.spreadsheet.interaction.addIntercepts([Pl.CLICK]))}))},e.prototype.bindKeyboardUp=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_KEYBOARD_UP,(function(e){e.key===Al.SHIFT&&t.reset()}))},e.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_MOUSE_MOVE,(function(e){t.isRangeSelection&&!e.shiftKey&&t.reset()}))},e.prototype.bindColCellClick=function(){var t=this;this.spreadsheet.isTableMode()&&this.spreadsheet.on(bs.ROW_CELL_CLICK,(function(e){t.handleColClick(e)})),this.spreadsheet.on(bs.COL_CELL_CLICK,(function(e){t.handleColClick(e)}))},e.prototype.bindDataCellClick=function(){var t=this;this.spreadsheet.on(bs.DATA_CELL_CLICK,(function(e){e.stopPropagation();var n=t.spreadsheet.getCell(e.target),r=n.getMeta(),i=t.spreadsheet.interaction;if(r){var o=t.spreadsheet.store.get("lastClickedCell"),a=t.isRangeSelection&&(null===o||void 0===o?void 0:o.cellType)===n.cellType;if(a){var s=pF(o.getMeta(),n.getMeta()),l=s.start,c=s.end,u=mT(l.colIndex,c.colIndex+1).flatMap((function(e){var r=t.spreadsheet.facet.layoutResult.colLeafNodes[e].id;return mT(l.rowIndex,c.rowIndex+1).map((function(i){var o=t.spreadsheet.facet.getSeriesNumberWidth()||t.spreadsheet.isTableMode()?String(i):t.spreadsheet.facet.layoutResult.rowLeafNodes[i].id;return{id:o+"-"+r,colIndex:e,rowIndex:i,type:n.cellType}}))}));i.addIntercepts([Pl.CLICK,Pl.HOVER]),i.changeState({cells:u,stateName:El.SELECTED}),t.spreadsheet.showTooltipWithInfo(e,FW(t.spreadsheet)),t.spreadsheet.emit(bs.GLOBAL_SELECTED,i.getActiveCells())}else t.spreadsheet.store.set("lastClickedCell",n)}}))},e.prototype.handleSeriesNumberRowSelected=function(t,e,n){var r=this.spreadsheet.facet.layoutResult.colLeafNodes[0].id;return mT(t,e+1).map((function(t){var e=String(t);return{id:e+"-"+r,colIndex:0,rowIndex:t,type:n.cellType}}))},e.prototype.handleRowSelected=function(t,e,n){return this.spreadsheet.facet.layoutResult.rowNodes.filter((function(n){var r=n.rowIndex;return $S(r,t,e+1)})).map((function(t){return{id:t.id,colIndex:t.colIndex,rowIndex:t.rowIndex,type:n.cellType}}))},e.prototype.handleColSelected=function(t,e,n){return this.spreadsheet.facet.layoutResult.colLeafNodes.filter((function(n){var r=n.colIndex;return $S(r,t,e+1)})).map((function(t){return{id:t.id,colIndex:t.colIndex,rowIndex:t.rowIndex,type:n.cellType}}))},e}(NH),qH=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.resizeStartPosition={},e.resizeMouseMove=function(t){var n,r;if(null===(n=e.resizeReferenceGroup)||void 0===n?void 0:n.get("visible")){null===(r=null===t||void 0===t?void 0:t.preventDefault)||void 0===r||r.call(t);var i=t.originalEvent,o=e.getResizeInfo(),a=e.resizeReferenceGroup.getChildren()||[];if(!H_(a)){var s=rc(a,2),l=s[1],c=rc(wx(l.attr("path")),2),u=c[0],h=c[1];o.type===Wl.Horizontal?e.updateHorizontalResizingEndGuideLinePosition(i,o,u,h):e.updateVerticalResizingEndGuideLinePosition(i,o,u,h),e.updateResizeGuideLineTheme(l),l.attr("path",[u,h])}}},e}return Jl(e,t),e.prototype.bindEvents=function(){this.bindMouseDown(),this.bindMouseMove(),this.bindMouseUp()},e.prototype.initResizeGroup=function(){if(!this.resizeReferenceGroup){this.resizeReferenceGroup=this.spreadsheet.foregroundGroup.addGroup();var t=this.spreadsheet.options,e=t.width,n=t.height,r=this.getResizeAreaTheme(),i=r.guideLineColor,o=r.guideLineDash,a=r.size,s={path:"",lineDash:o,stroke:i,lineWidth:a};this.resizeReferenceGroup.addShape("path",{id:Gl,attrs:s}),this.resizeReferenceGroup.addShape("path",{id:Vl,attrs:s}),this.resizeReferenceGroup.addShape("rect",{id:Yl,attrs:{appendInfo:{isResizeArea:!0},x:0,y:0,width:e,height:n,fill:"transparent"}})}},e.prototype.getResizeAreaTheme=function(){return this.spreadsheet.theme.resizeArea},e.prototype.setResizeTarget=function(t){this.resizeTarget=t},e.prototype.getGuideLineWidthAndHeight=function(){var t=this.spreadsheet.options,e=t.width,n=t.height,r=this.spreadsheet.facet.panelBBox,i=r.maxY,o=r.maxX,a=Math.min(o,e),s=Math.min(i,n);return{width:a,height:s}},e.prototype.getResizeShapes=function(){var t;return(null===(t=this.resizeReferenceGroup)||void 0===t?void 0:t.get("children"))||[]},e.prototype.setResizeMaskCursor=function(t){var e=rc(this.getResizeShapes(),3),n=e[2];null===n||void 0===n||n.attr("cursor",t)},e.prototype.updateResizeGuideLinePosition=function(t,e){var n=this.getResizeShapes();if(!H_(n)){var r=rc(n,2),i=r[0],o=r[1],a=e.type,s=e.offsetX,l=e.offsetY,c=e.width,u=e.height,h=this.getGuideLineWidthAndHeight(),f=h.width,d=h.height;if(this.setResizeMaskCursor("".concat(a,"-resize")),a===Wl.Horizontal)return i.attr("path",[["M",s,l],["L",s,d]]),o.attr("path",[["M",s+c,l],["L",s+c,d]]),this.resizeStartPosition.offsetX=t.offsetX,void(this.resizeStartPosition.clientX=t.clientX);i.attr("path",[["M",s,l],["L",f,l]]),o.attr("path",[["M",s,l+u],["L",f,l+u]]),this.resizeStartPosition.offsetY=t.offsetY,this.resizeStartPosition.clientY=t.clientY}},e.prototype.bindMouseDown=function(){var t=this;this.spreadsheet.on(bs.LAYOUT_RESIZE_MOUSE_DOWN,(function(e){var n=e.target,r=e.originalEvent,i=t.getCellAppendInfo(e.target);t.spreadsheet.store.set("resized",!1),(null===i||void 0===i?void 0:i.isResizeArea)&&(t.spreadsheet.interaction.reset(),t.spreadsheet.interaction.addIntercepts([Pl.RESIZE]),t.setResizeTarget(n),t.showResizeGroup(),t.updateResizeGuideLinePosition(r,i))}))},e.prototype.bindMouseMove=function(){var t=this;this.spreadsheet.on(bs.LAYOUT_RESIZE_MOUSE_MOVE,(function(e){yL(t.resizeMouseMove,33)(e)}))},e.prototype.getResizeGuideLinePosition=function(){var t=rc(this.resizeReferenceGroup.getChildren()||[],2),e=t[0],n=t[1],r=(null===e||void 0===e?void 0:e.attr("path"))||[],i=(null===n||void 0===n?void 0:n.attr("path"))||[],o=rc(r[0]||[],3),a=o[1],s=void 0===a?0:a,l=o[2],c=void 0===l?0:l,u=rc(i[0]||[],3),h=u[1],f=void 0===h?0:h,d=u[2],p=void 0===d?0:d;return{start:{x:s,y:c},end:{x:f,y:p}}},e.prototype.getDisAllowResizeInfo=function(){var t,e=this.getResizeInfo(),n=this.spreadsheet.options.interaction.resize,r=e.width,i=e.height,o=e.resizedWidth,a=e.resizedHeight,s=null===(t=null===n||void 0===n?void 0:n.disable)||void 0===t?void 0:t.call(n,e),l=s?r:o,c=s?i:a;return{displayWidth:l,displayHeight:c,isDisabled:s}},e.prototype.getResizeWidthDetail=function(){var t,e,n=this.getResizeInfo(),r=this.getDisAllowResizeInfo().displayWidth;switch(n.effect){case Hl.Field:return{eventType:bs.LAYOUT_RESIZE_ROW_WIDTH,style:{rowCfg:{widthByField:(t={},t[n.id]=r,t)}}};case Hl.Tree:return{eventType:bs.LAYOUT_RESIZE_TREE_WIDTH,style:{treeRowsWidth:r,rowCfg:{treeRowsWidth:r}}};case Hl.Cell:return{eventType:bs.LAYOUT_RESIZE_COL_WIDTH,style:{colCfg:{widthByFieldValue:(e={},e[n.id]=r,e)}}};case Hl.Series:return{eventType:bs.LAYOUT_RESIZE_SERIES_WIDTH,seriesNumberWidth:r};default:return null}},e.prototype.getResizeHeightDetail=function(){var t,e,n,r=this.spreadsheet.options,i=r.interaction.resize,o=r.style.rowCfg.heightByField,a=this.spreadsheet.theme.rowCell.cell.padding,s=this.getResizeInfo(),l=this.getDisAllowResizeInfo().displayHeight,c=l-a.top-a.bottom;switch(s.effect){case Hl.Field:return{eventType:bs.LAYOUT_RESIZE_COL_HEIGHT,style:{colCfg:{heightByField:(t={},t[s.id]=l,t)}}};case Hl.Cell:return n=(null===o||void 0===o?void 0:o[String(s.id)])||(null===i||void 0===i?void 0:i.rowResizeType)===$l.CURRENT?{rowCfg:{heightByField:(e={},e[s.id]=c,e)}}:{cellCfg:{height:c}},{eventType:bs.LAYOUT_RESIZE_ROW_HEIGHT,style:n};default:return null}},e.prototype.getResizeDetail=function(){var t=this.getResizeInfo();return t.type===Wl.Horizontal?this.getResizeWidthDetail():this.getResizeHeightDetail()},e.prototype.showResizeGroup=function(){this.initResizeGroup(),this.resizeReferenceGroup.set("visible",!0)},e.prototype.hideResizeGroup=function(){this.resizeReferenceGroup.set("visible",!1)},e.prototype.bindMouseUp=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_MOUSE_UP,(function(){var e;t.setResizeMaskCursor("default"),t.resizeReferenceGroup&&!H_(null===(e=t.resizeReferenceGroup)||void 0===e?void 0:e.getChildren())&&(t.hideResizeGroup(),t.renderResizedResult())}))},e.prototype.updateResizeGuideLineTheme=function(t){var e=this.getResizeAreaTheme(),n=e.guideLineColor,r=e.guideLineDisableColor,i=this.getDisAllowResizeInfo().isDisabled;t.attr("stroke",i?r:n),this.setResizeMaskCursor(i?"no-drop":"default")},e.prototype.updateHorizontalResizingEndGuideLinePosition=function(t,e,n,r){var i=t.clientX-this.resizeStartPosition.clientX;e.width+i<cl&&(i=-(e.width-cl));var o=e.offsetX+e.width+i;n[1]=o,r[1]=o,this.resizeTarget.attr({x:o-e.size/2})},e.prototype.updateVerticalResizingEndGuideLinePosition=function(t,e,n,r){var i=t.clientY-this.resizeStartPosition.clientY;e.height+i<ul&&(i=-(e.height-ul));var o=e.offsetY+e.height+i;n[2]=o,r[2]=o,this.resizeTarget.attr({y:o-e.size/2})},e.prototype.renderResizedResult=function(){var t=this.getResizeInfo(),e=this.getResizeDetail()||{},n=e.style,r=e.seriesNumberWidth,i=e.eventType,o={info:t,style:n};this.spreadsheet.emit(bs.LAYOUT_RESIZE,o),this.spreadsheet.emit(i,o),n&&this.spreadsheet.setOptions({style:n}),r&&this.spreadsheet.setTheme({rowCell:{seriesNumberWidth:r}}),this.spreadsheet.store.set("resized",!0),this.render()},e.prototype.getResizeInfo=function(){var t=this.getCellAppendInfo(this.resizeTarget),e=this.getResizeGuideLinePosition(),n=e.start,r=e.end,i=Math.floor(r.x-n.x),o=Math.floor(r.y-n.y);return tc(tc({},t),{resizedWidth:i,resizedHeight:o})},e.prototype.render=function(){this.resizeStartPosition={},this.resizeTarget=null,this.resizeReferenceGroup=null,this.spreadsheet.render(!1)},e}(NH),KH=[Al.ARROW_LEFT,Al.ARROW_RIGHT,Al.ARROW_UP,Al.ARROW_DOWN],ZH=function(t){function e(e){return t.call(this,e)||this}return Jl(e,t),e.prototype.isCanvasEffect=function(){return this.spreadsheet.interaction.eventController.isCanvasEffect},e.prototype.bindEvents=function(){var t=this;this.spreadsheet.on(bs.GLOBAL_KEYBOARD_DOWN,(function(e){if(t.isCanvasEffect()){var n=e.shiftKey,r=e.metaKey,i=KH.includes(e.key),o=!1,a=!1,s=!1;i&&(r&&n?(o=!1,a=!0,s=!1):r?(o=!0,a=!0,s=!0):n?(o=!1,a=!1,s=!1):(o=!0,a=!1,s=!0),t.handleMove({event:e,changeStartCell:o,isJumpMode:a,isSingleSelection:s}))}})),this.spreadsheet.on(bs.DATA_CELL_CLICK,(function(e){var n=t.spreadsheet.getCell(e.target).getMeta();n&&(t.startCell=t.getCellMetaFromViewMeta(n),t.endCell=t.startCell)}))},e.prototype.getCellMetaFromViewMeta=function(t){return{rowIndex:t.rowIndex,colIndex:t.colIndex,id:t.id,type:Ml.DATA_CELL}},e.prototype.handleMove=function(t){var e=t.event,n=t.changeStartCell,r=t.isJumpMode,i=t.isSingleSelection,o=this,a=o.spreadsheet,s=o.startCell,l=o.endCell,c=n?s:l,u=this.getMoveInfo(e.key,c,r);if(u){var h=rc([u.row,u.col],2),f=h[0],d=h[1];this.scrollToActiveCell(a,f,d);var p=this.generateCellMeta(a,f,d),v=i?[p]:this.getRangeCells(a,s,p);dF(a,v),n&&(this.startCell=p),this.endCell=p,this.spreadsheet.emit(bs.DATA_CELL_SELECT_MOVE,v)}},e.prototype.generateCellMeta=function(t,e,n){var r=t.isTableMode,i=t.facet.layoutResult,o=i.colLeafNodes,a=i.rowLeafNodes,s=r()?String(e):a[e].id,l=o[n].id;return{rowIndex:e,colIndex:n,id:OB(s,l),type:Ml.DATA_CELL}},e.prototype.getRangeCells=function(t,e,n){for(var r=pF(e,n),i=r.start,o=i.rowIndex,a=i.colIndex,s=r.end,l=s.rowIndex,c=s.colIndex,u=[],h=o;h<=l;h++)for(var f=a;f<=c;f++)u.push(this.generateCellMeta(t,h,f));return u},e.prototype.getMoveInfo=function(t,e,n){var r=this.spreadsheet,i=r.options,o=i.frozenColCount,a=void 0===o?0:o,s=i.frozenRowCount,l=void 0===s?0:s,c=i.frozenTrailingColCount,u=void 0===c?0:c,h=i.frozenTrailingRowCount,f=void 0===h?0:h,d=r.facet.layoutResult,p=d.rowLeafNodes,v=d.colLeafNodes,g=rc([0+a,v.length-u-1],2),y=g[0],m=g[1],b=rc([0+l,(r.isTableMode()?r.dataSet.getDisplayDataSet().length:p.length)-f-1],2),x=b[0],w=b[1];if(e)switch(t){case Al.ARROW_RIGHT:if(e.colIndex+1>m)return;return{row:e.rowIndex,col:n?m:e.colIndex+1};case Al.ARROW_LEFT:if(e.colIndex-1<y)return;return{row:e.rowIndex,col:n?y:e.colIndex-1};case Al.ARROW_UP:if(e.rowIndex-1<x)return;return{row:n?x:e.rowIndex-1,col:e.colIndex};case Al.ARROW_DOWN:if(e.rowIndex+1>w)return;return{row:n?w:e.rowIndex+1,col:e.colIndex}}},e.prototype.calculateOffset=function(t,e,n){var r=t.options,i=r.frozenRowCount,o=void 0===i?0:i,a=r.frozenTrailingRowCount,s=void 0===a?0:a,l=t.facet,c=t.frozenColGroup,u=t.frozenTrailingColGroup,h=t.frozenRowGroup,f=t.frozenTrailingRowGroup,d=l.layoutResult.colLeafNodes,p=l.getScrollOffset(),v=p.scrollX,g=p.scrollY,y=l.panelBBox,m=y.viewportHeight,b=y.viewportWidth,x=vv(t,"theme.splitLine"),w=c?Math.floor(c.getBBox().width-x.verticalBorderWidth/2):0,O=u?Math.floor(u.getBBox().width):0,C=h?Math.floor(h.getBBox().height-x.horizontalBorderWidth/2):0,S=f?Math.floor(f.getBBox().height):0,_=EI(v,g,l.viewCellWidths,l.viewCellHeights,{width:b-w-O,height:m-C-S,x:w,y:C},l.getRealScrollX(l.cornerBBox.width)),E=-1,M=-1,k=d.find((function(t){return t.colIndex===n}));if(n<=_[0]?E=k.x-w:n>=_[1]&&n<d.length-s&&(E=k.x+k.width-b+O),e<=_[2])M=l.viewCellHeights.getCellOffsetY(e-o);else if(e>=_[3]){var T=l.viewCellHeights.getCellOffsetY(e+1);M=T+S-m}return{offsetX:E,offsetY:M}},e.prototype.scrollToActiveCell=function(t,e,n){var r=this.calculateOffset(t,e,n),i=r.offsetX,o=r.offsetY,a=t.facet,s=t.facet.getScrollOffset(),l=s.scrollX,c=s.scrollY;a.scrollWithAnimation({offsetX:{value:i>-1?i:l},offsetY:{value:o>-1?o:c}})},e}(NH),QH=function(){function t(t){var e=this;this.interactions=new Map,this.intercepts=new Set,this.hoverTimer=null,this.defaultState={cells:[],force:!1},this.onTriggerInteractionsResetEffect=function(){e.interactions.forEach((function(t){t.reset()}))},this.selectAll=function(){e.changeState({stateName:El.ALL_SELECTED})},this.getCellChildrenNodes=function(t){var n,r=null===(n=null===t||void 0===t?void 0:t.getMeta)||void 0===n?void 0:n.call(t),i=(null===t||void 0===t?void 0:t.cellType)===Ml.ROW_CELL,o=e.spreadsheet.isHierarchyTreeType();return o&&i?sI.getAllLeaveNodes(r).filter((function(t){return t.rowIndex===r.rowIndex})):sI.getAllChildrenNodes(r)},this.selectHeaderCell=function(t){var n;void 0===t&&(t={});var r=t.cell;if(!H_(r)){var i=null===(n=null===r||void 0===r?void 0:r.getMeta)||void 0===n?void 0:n.call(r);if(i&&!rE(null===i||void 0===i?void 0:i.x)){e.addIntercepts([Pl.HOVER]);var o=e.spreadsheet.isHierarchyTreeType(),a=(null===r||void 0===r?void 0:r.cellType)===Ml.COL_CELL,s=e.getState(),l=e.isSelectedCell(r),c=(null===t||void 0===t?void 0:t.isMultiSelection)&&e.isSelectedState(),u=l?[]:e.getCellChildrenNodes(r),h=l?[]:[fF(r)];if(c&&(h=Px(null===s||void 0===s?void 0:s.cells,h),u=Px(null===s||void 0===s?void 0:s.nodes,u),l&&(h=h.filter((function(t){var e=t.id;return e!==i.id})),u=u.filter((function(t){return!(null===t||void 0===t?void 0:t.id.includes(i.id))})))),H_(h))return e.reset(),void e.spreadsheet.emit(bs.GLOBAL_SELECTED,e.getActiveCells());var f=u.filter((function(t){return null===t||void 0===t?void 0:t.isLeaf}));e.changeState({cells:h,nodes:f,stateName:El.SELECTED});var d=h.map((function(t){var e=t.id;return e}));return e.updateCells(e.getRowColActiveCells(d)),o&&!a||e.highlightNodes(u),e.spreadsheet.emit(bs.GLOBAL_SELECTED,e.getActiveCells()),!0}}},this.highlightNodes=function(t){void 0===t&&(t=[]),t.forEach((function(t){var e;null===(e=null===t||void 0===t?void 0:t.belongsCell)||void 0===e||e.updateByState(El.SELECTED,t.belongsCell)}))},this.mergeCells=function(t,n){zB(e.spreadsheet,t,n)},this.unmergeCell=function(t){HB(e.spreadsheet,t)},this.spreadsheet=t,this.registerEventController(),this.registerInteractions(),window.addEventListener("visibilitychange",this.onTriggerInteractionsResetEffect)}return t.prototype.destroy=function(){this.interactions.clear(),this.intercepts.clear(),this.eventController.clear(),this.clearHoverTimer(),this.resetState(),window.removeEventListener("visibilitychange",this.onTriggerInteractionsResetEffect)},t.prototype.reset=function(){this.clearState(),this.clearHoverTimer(),this.intercepts.clear(),this.spreadsheet.hideTooltip()},t.prototype.setState=function(t){xF(this.spreadsheet,t)},t.prototype.getState=function(){return this.spreadsheet.store.get(jl)||this.defaultState},t.prototype.setInteractedCells=function(t){var e=this.getInteractedCells().concat([t]),n=this.getState();n.interactedCells=e,this.setState(n)},t.prototype.getInteractedCells=function(){var t=this.getState();return(null===t||void 0===t?void 0:t.interactedCells)||[]},t.prototype.resetState=function(){this.spreadsheet.store.set(jl,this.defaultState)},t.prototype.getCurrentStateName=function(){return this.getState().stateName},t.prototype.isEqualStateName=function(t){return this.getCurrentStateName()===t},t.prototype.isStateOf=function(t){var e=this.getState();return(null===e||void 0===e?void 0:e.stateName)===t},t.prototype.isSelectedState=function(){return this.isStateOf(El.SELECTED)},t.prototype.isAllSelectedState=function(){return this.isStateOf(El.ALL_SELECTED)},t.prototype.isHoverFocusState=function(){return this.isStateOf(El.HOVER_FOCUS)},t.prototype.isHoverState=function(){return this.isStateOf(El.HOVER)},t.prototype.isActiveCell=function(t){return!!this.getCells().find((function(e){return t.getMeta().id===e.id}))},t.prototype.isSelectedCell=function(t){return this.isSelectedState()&&this.isActiveCell(t)},t.prototype.getCells=function(t){var e=this.getState(),n=(null===e||void 0===e?void 0:e.cells)||[];return rE(t)?n:n.filter((function(e){return t.includes(e.type)}))},t.prototype.getActiveCells=function(){var t=this.getCells().map((function(t){return t.id})),e=this.getAllCells();return KC(t,(function(t){return FC(e,(function(e){var n;return(null===(n=null===e||void 0===e?void 0:e.getMeta())||void 0===n?void 0:n.id)===t}))})).filter((function(t){return t}))},t.prototype.clearStyleIndependent=function(){(this.isSelectedState()||this.isHoverState()||this.isAllSelectedState())&&this.getPanelGroupAllDataCells().forEach((function(t){t.hideInteractionShape()}))},t.prototype.getPanelGroupAllUnSelectedDataCells=function(){var t=this;return this.getPanelGroupAllDataCells().filter((function(e){return!t.isActiveCell(e)}))},t.prototype.getPanelGroupAllDataCells=function(){var t;return nH(null===(t=this.spreadsheet.panelGroup)||void 0===t?void 0:t.getChildren(),TB)},t.prototype.getAllRowHeaderCells=function(){var t,e,n=(null===(t=this.spreadsheet.foregroundGroup)||void 0===t?void 0:t.getChildren())||[],r=n.find((function(t){return t instanceof yH})),i=(null===(e=null===r||void 0===r?void 0:r.cfg)||void 0===e?void 0:e.children)||[];return nH(i,nF).filter((function(t){return t.cellType===Ml.ROW_CELL}))},t.prototype.getAllColHeaderCells=function(){var t,e,n=(null===(t=this.spreadsheet.foregroundGroup)||void 0===t?void 0:t.getChildren())||[],r=n.find((function(t){return t instanceof pH})),i=(null===(e=null===r||void 0===r?void 0:r.cfg)||void 0===e?void 0:e.children)||[];return nH(i,PD).filter((function(t){return t.cellType===Ml.COL_CELL}))},t.prototype.getRowColActiveCells=function(t){return Px(this.getAllRowHeaderCells(),this.getAllColHeaderCells()).filter((function(e){return t.includes(e.getMeta().id)}))},t.prototype.getAllCells=function(){return Px(this.getPanelGroupAllDataCells(),this.getAllRowHeaderCells(),this.getAllColHeaderCells())},t.prototype.hideColumns=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=!0),QB(this.spreadsheet,t,e)},t.prototype.getBrushSelectionInfo=function(t){var e,n,r;return L_(t)?{dataBrushSelection:t,rowBrushSelection:t,colBrushSelection:t}:{dataBrushSelection:null!==(e=null===t||void 0===t?void 0:t.data)&&void 0!==e&&e,rowBrushSelection:null!==(n=null===t||void 0===t?void 0:t.row)&&void 0!==n&&n,colBrushSelection:null!==(r=null===t||void 0===t?void 0:t.col)&&void 0!==r&&r}},t.prototype.getDefaultInteractions=function(){var t=this.spreadsheet.options.interaction,e=t.resize,n=t.brushSelection,r=t.multiSelection,i=t.rangeSelection,o=t.selectedCellMove,a=this.getBrushSelectionInfo(n),s=a.dataBrushSelection,l=a.rowBrushSelection,c=a.colBrushSelection;return[{key:_l.CORNER_CELL_CLICK,interaction:zH},{key:_l.DATA_CELL_CLICK,interaction:jH},{key:_l.ROW_COLUMN_CLICK,interaction:DH},{key:_l.ROW_TEXT_CLICK,interaction:FH},{key:_l.MERGED_CELLS_CLICK,interaction:BH},{key:_l.HOVER,interaction:WH,enable:!nI()},{key:_l.BRUSH_SELECTION,interaction:GH,enable:!nI()&&s},{key:_l.ROW_BRUSH_SELECTION,interaction:VH,enable:!nI()&&l},{key:_l.COL_BRUSH_SELECTION,interaction:$H,enable:!nI()&&c},{key:_l.COL_ROW_RESIZE,interaction:qH,enable:!nI()&&e},{key:_l.DATA_CELL_MULTI_SELECTION,interaction:YH,enable:!nI()&&r},{key:_l.RANGE_SELECTION,interaction:XH,enable:!nI()&&i},{key:_l.SELECTED_CELL_MOVE,interaction:ZH,enable:!nI()&&o}]},t.prototype.registerInteractions=function(){var t=this,e=this.spreadsheet.options.interaction.customInteractions;this.interactions.clear();var n=this.getDefaultInteractions();n.forEach((function(e){var n=e.key,r=e.interaction,i=e.enable;!1!==i&&t.interactions.set(n,new r(t.spreadsheet))})),H_(e)||JO(e,(function(e){var n=e.interaction;t.interactions.set(e.key,new n(t.spreadsheet))}))},t.prototype.registerEventController=function(){this.eventController=new UH(this.spreadsheet)},t.prototype.draw=function(){this.spreadsheet.container.draw()},t.prototype.clearState=function(){bF(this.spreadsheet)&&this.draw()},t.prototype.changeState=function(t){var e=this,n=this.spreadsheet.interaction,r=t.cells,i=void 0===r?[]:r,o=t.force,a=t.stateName,s=t.onUpdateCells;if(H_(i)&&a===El.SELECTED)o&&n.changeState({cells:[],stateName:El.UNSELECTED});else{this.getCurrentStateName()===El.ALL_SELECTED&&this.clearStyleIndependent(),this.clearState(),this.setState(t);var l=function(){e.updatePanelGroupAllDataCells()};s?s(this,l):l(),this.draw()}},t.prototype.updatePanelGroupAllDataCells=function(){this.updateCells(this.getPanelGroupAllDataCells())},t.prototype.updateCells=function(t){void 0===t&&(t=[]),t.forEach((function(t){t.update()}))},t.prototype.addIntercepts=function(t){var e=this;void 0===t&&(t=[]),t.forEach((function(t){e.intercepts.add(t)}))},t.prototype.hasIntercepts=function(t){var e=this;return void 0===t&&(t=[]),t.some((function(t){return e.intercepts.has(t)}))},t.prototype.removeIntercepts=function(t){var e=this;void 0===t&&(t=[]),t.forEach((function(t){e.intercepts.delete(t)}))},t.prototype.clearHoverTimer=function(){clearTimeout(this.hoverTimer)},t.prototype.setHoverTimer=function(t){this.hoverTimer=t},t.prototype.getHoverTimer=function(){return this.hoverTimer},t.prototype.getSelectedCellHighlight=function(){var t=this.spreadsheet.options.interaction.selectedCellHighlight;if(L_(t))return{rowHeader:t,colHeader:t,currentRow:!1,currentCol:!1};var e=null!==t&&void 0!==t?t:{},n=e.rowHeader,r=void 0!==n&&n,i=e.colHeader,o=void 0!==i&&i,a=e.currentRow,s=void 0!==a&&a,l=e.currentCol,c=void 0!==l&&l;return{rowHeader:r,colHeader:o,currentRow:s,currentCol:c}},t.prototype.getHoverAfterScroll=function(){return this.spreadsheet.options.interaction.hoverAfterScroll},t.prototype.getHoverHighlight=function(){var t=this.spreadsheet.options.interaction.hoverHighlight;if(L_(t))return{rowHeader:t,colHeader:t,currentRow:t,currentCol:t};var e=null!==t&&void 0!==t?t:{},n=e.rowHeader,r=void 0!==n&&n,i=e.colHeader,o=void 0!==i&&i,a=e.currentRow,s=void 0!==a&&a,l=e.currentCol,c=void 0!==l&&l;return{rowHeader:r,colHeader:o,currentRow:s,currentCol:c}},t.prototype.getBrushSelection=function(){var t=this.spreadsheet.options.interaction.brushSelection;if(L_(t))return{data:t,row:t,col:t};var e=null!==t&&void 0!==t?t:{},n=e.data,r=void 0!==n&&n,i=e.row,o=void 0!==i&&i,a=e.col,s=void 0!==a&&a;return{data:r,row:o,col:s}},t}(),JH=function(){function t(t){var e=this;this.viewport=window,this.isDevicePixelRatioChange=!1,this.init=function(){e.initDevicePixelRatioListener(),e.initDeviceZoomListener()},this.destroy=function(){e.removeDevicePixelRatioListener(),e.removeDeviceZoomListener()},this.removeDevicePixelRatioListener=function(){var t;(null===(t=e.devicePixelRatioMedia)||void 0===t?void 0:t.removeEventListener)?e.devicePixelRatioMedia.removeEventListener("change",e.renderByDevicePixelRatioChanged):e.devicePixelRatioMedia.removeListener(e.renderByDevicePixelRatioChanged)},this.initDeviceZoomListener=function(){var t,n;nI()||null===(n=null===(t=e.viewport)||void 0===t?void 0:t.visualViewport)||void 0===n||n.addEventListener("resize",e.renderByZoomScaleWithoutResizeEffect)},this.removeDeviceZoomListener=function(){var t,n;nI()||null===(n=null===(t=e.viewport)||void 0===t?void 0:t.visualViewport)||void 0===n||n.removeEventListener("resize",e.renderByZoomScaleWithoutResizeEffect)},this.renderByZoomScaleWithoutResizeEffect=function(t){e.isDevicePixelRatioChange=!1,e.renderByZoomScale(t)},this.renderByDevicePixelRatioChanged=function(){e.isDevicePixelRatioChange=!0,e.renderByDevicePixelRatio()},this.renderByDevicePixelRatio=function(t){void 0===t&&(t=window.devicePixelRatio);var n=e.spreadsheet,r=n.container,i=n.options,o=i.width,a=i.height,s=i.devicePixelRatio,l=e.spreadsheet.getCanvasElement(),c=r.get("pixelRatio");if(c!==t&&l){var u=Math.max(t,s,Xl);r.set("pixelRatio",u),r.changeSize(o,a),e.spreadsheet.render(!1)}},this.renderByZoomScale=fO((function(t){var n=Math.ceil(t.target.scale);n>=1&&!e.isDevicePixelRatioChange&&e.renderByDevicePixelRatio(n)}),350),this.spreadsheet=t}return t.prototype.initDevicePixelRatioListener=function(){var t;this.devicePixelRatioMedia=window.matchMedia("(resolution: ".concat(window.devicePixelRatio,"dppx)")),(null===(t=this.devicePixelRatioMedia)||void 0===t?void 0:t.addEventListener)?this.devicePixelRatioMedia.addEventListener("change",this.renderByDevicePixelRatioChanged):this.devicePixelRatioMedia.addListener(this.renderByDevicePixelRatioChanged)},t}(),t$=function(){function t(t){this.visible=!1,this.position={x:0,y:0},this.spreadsheet=t}return t.prototype.show=function(t){var e,n,r,i=t.position,o=t.options,a=t.content,s=t.event,l=OW(o).enterable,c=this.spreadsheet.options.tooltip||{},u=c.autoAdjustBoundary,h=c.adjustPosition;this.visible=!0,this.options=t;var f=this.getContainer();this.renderContent(a);var d=wW({spreadsheet:this.spreadsheet,position:i,tooltipContainer:f,autoAdjustBoundary:u}),p=d.x,v=d.y;this.position=null!==(e=null===h||void 0===h?void 0:h({position:{x:p,y:v},event:s}))&&void 0!==e?e:{x:p,y:v},SW(f,{style:{left:"".concat(null===(n=this.position)||void 0===n?void 0:n.x,"px"),top:"".concat(null===(r=this.position)||void 0===r?void 0:r.y,"px"),pointerEvents:l?"all":"none"},visible:!0})},t.prototype.hide=function(){this.visible=!1,this.container&&(SW(this.container,{style:{pointerEvents:"none"},visible:!1}),this.resetPosition())},t.prototype.destroy=function(){var t,e;this.visible=!1,this.container&&(this.resetPosition(),null===(e=(t=this.container).remove)||void 0===e||e.call(t),this.container=null)},t.prototype.renderContent=function(t){if(this.container){this.clearContent();var e=(this.spreadsheet.options.tooltip||{}).content,n=null!==t&&void 0!==t?t:e;rE(n)||("string"!==typeof n?n instanceof Element&&this.container.appendChild(n):this.container.innerHTML=n)}},t.prototype.clearContent=function(){this.container&&(this.container.innerHTML="")},t.prototype.disablePointerEvent=function(){this.container&&"none"!==this.container.style.pointerEvents&&SW(this.container,{style:{pointerEvents:"none"}})},t.prototype.resetPosition=function(){this.position={x:0,y:0}},t.prototype.getContainer=function(){var t;if(!this.container){var e=this.spreadsheet.options.tooltip,n=(null===(t=e.getContainer)||void 0===t?void 0:t.call(e))||document.body,r=document.createElement("div");return SW(r,{style:e.style,className:[UR].concat(e.className)}),n.appendChild(r),this.container=r,this.container}return this.container},t}(),e$=function(t){function e(e,n,r){var i=t.call(this)||this;return i.store=new _N,i.untypedOn=i.on,i.untypedEmit=i.emit,i.on=function(t,e){return i.untypedOn(t,e)},i.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return i.untypedEmit.apply(i,ic([t],rc(e),!1))},i.initHiddenColumnsDetail=function(){var t=i.options.interaction.hiddenColumnFields,e=i.store.get("hiddenColumnsDetail");H_(t)&&H_(e)||QB(i,t,!0)},i.measureText=rv((function(t,e){var n;if(void 0===t&&(t=""),!e)return null;var r=null===(n=i.getCanvasElement())||void 0===n?void 0:n.getContext("2d"),o=e,a=o.fontSize,s=o.fontFamily,l=o.fontWeight,c=o.fontStyle,u=o.fontVariant;return r.font=[c,u,l,"".concat(a,"px"),s].join(" ").trim(),r.measureText(String(t))}),(function(t,e){return ic([t],rc(US(e)),!1).join("")})),i.measureTextWidth=function(t,e){void 0===t&&(t="");var n=i.measureText(t,e);return(null===n||void 0===n?void 0:n.width)||0},i.measureTextHeight=function(t,e){void 0===t&&(t="");var n=i.measureText(t,e);return n?n.actualBoundingBoxAscent+n.actualBoundingBoxDescent:0},i.measureTextWidthRoughly=function(t,e){var n,r;void 0===e&&(e={});var o=i.measureTextWidth("a",e),a=i.measureTextWidth("蚂",e),s=0;if(!t)return s;try{for(var l=nc(t),c=l.next();!c.done;c=l.next()){var u=c.value,h=u.charCodeAt(0);s+=h>=0&&h<=255?o:a}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return s},i.dataCfg=_F(n),i.options=EF(r),i.dataSet=i.getDataSet(i.options),i.setDebug(),i.initTooltip(),i.initGroups(e),i.bindEvents(),i.initInteraction(),i.initTheme(),i.initHdAdapter(),i.registerIcons(),i.setOverscrollBehavior(),i}return Jl(e,t),e.prototype.setOverscrollBehavior=function(){var t=this.options.interaction.overscrollBehavior,e=window.getComputedStyle(document.body).getPropertyValue("overscroll-behavior"),n=e&&"auto"!==e;n?this.store.set("initOverscrollBehavior",e):t&&(document.body.style.overscrollBehavior=t)},e.prototype.restoreOverscrollBehavior=function(){document.body.style.overscrollBehavior=this.store.get("initOverscrollBehavior")||""},e.prototype.setDebug=function(){UI.getInstance().setDebug(this.options.debug)},e.prototype.initTheme=function(){this.setThemeCfg({name:"default"})},e.prototype.getMountContainer=function(t){var e=VS(t)?document.querySelector(t):t;if(!e)throw new Error("Target mount container is not a DOM element");return e},e.prototype.initHdAdapter=function(){this.options.hdAdapter&&(this.hdAdapter=new JH(this),this.hdAdapter.init())},e.prototype.initInteraction=function(){var t,e;null===(e=null===(t=this.interaction)||void 0===t?void 0:t.destroy)||void 0===e||e.call(t),this.interaction=new QH(this)},e.prototype.initTooltip=function(){var t,e,n,r;null===(e=null===(t=this.tooltip)||void 0===t?void 0:t.destroy)||void 0===e||e.call(t),this.tooltip=this.renderTooltip(),this.tooltip instanceof t$||console.warn("[Custom Tooltip]: ".concat(null===(r=null===(n=this.tooltip)||void 0===n?void 0:n.constructor)||void 0===r?void 0:r.toString()," should be extends from BaseTooltip"))},e.prototype.renderTooltip=function(){var t,e;return(null===(e=null===(t=this.options.tooltip)||void 0===t?void 0:t.renderTooltip)||void 0===e?void 0:e.call(t,this))||new t$(this)},e.prototype.showTooltip=function(t){var e,n,r=t.content,i=t.event,o=this.getCell(null===i||void 0===i?void 0:i.target),a=su(r)?r(o,t):r;null===(n=(e=this.tooltip).show)||void 0===n||n.call(e,tc(tc({},t),{content:a}))},e.prototype.showTooltipWithInfo=function(t,e,n){var r,i=WW(this,t),o=i.showTooltip,a=i.content;if(o){var s=this.getCell(null===t||void 0===t?void 0:t.target),l=null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:BW({spreadsheet:this,cellInfos:e,targetCell:s,options:tc({enableFormat:!0},n)});this.showTooltip({data:l,position:{x:t.clientX,y:t.clientY},options:tc({enterable:!0},n),event:t,content:a})}},e.prototype.hideTooltip=function(){var t,e;null===(e=(t=this.tooltip).hide)||void 0===e||e.call(t)},e.prototype.destroyTooltip=function(){var t,e;null===(e=(t=this.tooltip).destroy)||void 0===e||e.call(t)},e.prototype.registerIcons=function(){var t=this.options.customSVGIcons;H_(t)||JO(t,(function(t){gN(t.name,t.svg)}))},e.prototype.setDataCfg=function(t,e){this.store.set("originalDataCfg",t),this.dataCfg=e?_F(t):_F(this.dataCfg,t),GW(this)},e.prototype.setOptions=function(t,e){var n;this.hideTooltip(),this.options=e?EF(t):CF(this.options,t),(e||(null===(n=t.tooltip)||void 0===n?void 0:n.renderTooltip))&&this.initTooltip(),this.registerIcons()},e.prototype.render=function(t,e){if(void 0===t&&(t=!0),void 0===e&&(e={}),this.getCanvasElement()){var n=e.reBuildDataSet,r=void 0!==n&&n,i=e.reBuildHiddenColumnsDetail,o=void 0===i||i;this.emit(bs.LAYOUT_BEFORE_RENDER),r&&(this.dataSet=this.getDataSet(this.options)),t&&(this.clearDrillDownData("",!0),this.dataSet.setDataCfg(this.dataCfg)),this.buildFacet(),o&&this.initHiddenColumnsDetail(),this.emit(bs.LAYOUT_AFTER_RENDER)}},e.prototype.destroy=function(){var t,e,n,r,i;this.restoreOverscrollBehavior(),this.emit(bs.LAYOUT_DESTROY),null===(t=this.facet)||void 0===t||t.destroy(),null===(e=this.hdAdapter)||void 0===e||e.destroy(),null===(n=this.interaction)||void 0===n||n.destroy(),null===(r=this.store)||void 0===r||r.clear(),this.destroyTooltip(),this.clearCanvasEvent(),null===(i=this.container)||void 0===i||i.destroy(),KN()},e.prototype.setThemeCfg=function(t){void 0===t&&(t={});var e=(null===t||void 0===t?void 0:t.theme)||{},n=aI(tc(tc({},t),{spreadsheet:this}));this.theme=CF(n,e)},e.prototype.setTheme=function(t){this.theme=CF(this.theme,t)},e.prototype.updatePagination=function(t){this.options=CF(this.options,{pagination:t}),this.store.set("scrollX",0),this.store.set("scrollY",0)},e.prototype.getContentHeight=function(){return this.facet.getContentHeight()},e.prototype.changeSize=function(t,e){void 0===t&&(t=this.options.width),void 0===e&&(e=this.options.height),this.changeSheetSize(t,e)},e.prototype.changeSheetSize=function(t,e){void 0===t&&(t=this.options.width),void 0===e&&(e=this.options.height);var n=this.getCanvasElement(),r=this.container.get("width"),i=this.container.get("height"),o=t!==r||e!==i;o&&n&&(this.options=CF(this.options,{width:t,height:e}),this.container.changeSize(t,e))},e.prototype.getCanvasElement=function(){return this.container.get("el")},e.prototype.getLayoutWidthType=function(){return this.options.style.layoutWidthType},e.prototype.getRowNodes=function(t){return void 0===t&&(t=-1),-1===t?this.facet.layoutResult.rowNodes:this.facet.layoutResult.rowNodes.filter((function(e){return e.level===t}))},e.prototype.getRowLeafNodes=function(){var t;return(null===(t=this.facet)||void 0===t?void 0:t.layoutResult.rowLeafNodes)||[]},e.prototype.getColumnNodes=function(t){var e;void 0===t&&(t=-1);var n=(null===(e=this.facet)||void 0===e?void 0:e.layoutResult.colNodes)||[];return-1===t?n:n.filter((function(e){return e.level===t}))},e.prototype.getColumnLeafNodes=function(){var t;return(null===(t=this.facet)||void 0===t?void 0:t.layoutResult.colLeafNodes)||[]},e.prototype.updateScrollOffset=function(t){var e={offsetX:{value:void 0,animate:!1},offsetY:{value:void 0,animate:!1},rowHeaderOffsetX:{value:void 0,animate:!1}};this.facet.updateScrollOffset(CF(e,t))},e.prototype.getTooltipDataItemMappingCallback=function(){var t;return null===(t=this.options)||void 0===t?void 0:t.mappingDisplayDataItem},e.prototype.getCell=function(t){var e,n=t;while(n&&!(n instanceof xs)){if(n instanceof bB)return n;n=null===(e=n.get)||void 0===e?void 0:e.call(n,"parent")}return null},e.prototype.getCellType=function(t){var e=this.getCell(t);return null===e||void 0===e?void 0:e.cellType},e.prototype.getTotalsConfig=function(t){var e=this.options.totals,n=this.dataSet.fields.rows,r=vv(e,qS(n,t)?"row":"col",{}),i=!(!r.showSubTotals||!qS(r.subTotalsDimensions,t))&&r.showSubTotals;return{showSubTotals:i,showGrandTotals:r.showGrandTotals,reverseLayout:r.reverseLayout,reverseSubLayout:r.reverseSubLayout,label:r.label||VR("总计"),subLabel:r.subLabel||VR("小计")}},e.prototype.initGroups=function(t){var e=this.options,n=e.width,r=e.height,i=e.supportCSSTransform,o=e.devicePixelRatio;this.container=new xs({container:this.getMountContainer(t),width:n,height:r,localRefresh:!1,supportCSSTransform:i,pixelRatio:Math.max(o,Xl)}),this.backgroundGroup=this.container.addGroup({name:js,zIndex:Ms}),this.panelGroup=this.container.addGroup({name:Ds,zIndex:Rs}),this.foregroundGroup=this.container.addGroup({name:Bs,zIndex:ks}),this.initPanelGroupChildren(),this.updateContainerStyle()},e.prototype.updateContainerStyle=function(){var t=this.getCanvasElement();t&&(t.style.display="block")},e.prototype.initPanelGroupChildren=function(){this.panelScrollGroup=new IH({name:Fs,zIndex:Is,s2:this}),this.panelGroup.add(this.panelScrollGroup)},e.prototype.getInitColumnLeafNodes=function(){return this.store.get("initColumnLeafNodes",[])},e.prototype.clearColumnLeafNodes=function(){this.store.set("initColumnLeafNodes",void 0)},e.prototype.clearCanvasEvent=function(){var t=this,e=this.getEvents();mS(e,(function(e,n){t.off(n)}))},e.prototype.updateSortMethodMap=function(t,e,n){var r;void 0===n&&(n=!1);var i=n?null:this.store.get("sortMethodMap");this.store.set("sortMethodMap",tc(tc({},i),(r={},r[t]=e,r)))},e.prototype.getMenuDefaultSelectedKeys=function(t){var e=this.store.get("sortMethodMap"),n=vv(e,t);return n?[n]:[]},e}(kt),n$=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Jl(e,t),e.prototype.getDataSet=function(t){var e=t.dataSet,n=t.hierarchyType;if(e)return e(this);var r="customTree"===n?new KW(this):new XW(this);return r},e.prototype.getContentHeight=function(){return this.facet.getContentHeight()},e.prototype.isPivotMode=function(){return!0},e.prototype.isTableMode=function(){return!1},e.prototype.isHierarchyTreeType=function(){var t=this.options.hierarchyType;return"tree"===t||"customTree"===t},e.prototype.isScrollContainsRowHeader=function(){return!this.isFrozenRowHeader()},e.prototype.isFrozenRowHeader=function(){var t;return null===(t=this.options)||void 0===t?void 0:t.frozenRowHeader},e.prototype.isValueInCols=function(){return this.dataSet.fields.valueInCols},e.prototype.clearDrillDownData=function(t,e){this.dataSet instanceof XW&&(this.dataSet.clearDrillDownData(t),e||(this.interaction.reset(),this.render(!1)))},e.prototype.getFacetCfgFromDataSetAndOptions=function(){var t=this,e=this.dataSet,n=e.fields,r=e.meta,i=this.options,o=i.style,a=i.dataCell,s=function(e){return new TB(e,t)};return tc(tc(tc(tc({},this.options),n),o),{meta:r,spreadsheet:this,dataSet:this.dataSet,dataCell:null!==a&&void 0!==a?a:s})},e.prototype.buildFacet=function(){var t,e=this.getFacetCfgFromDataSetAndOptions();null===(t=this.facet)||void 0===t||t.destroy(),this.facet=new AH(e),this.facet.render()},e.prototype.bindEvents=function(){this.off(bs.ROW_CELL_COLLAPSE_TREE_ROWS),this.off(bs.LAYOUT_TREE_ROWS_COLLAPSE_ALL),this.on(bs.ROW_CELL_COLLAPSE_TREE_ROWS,this.handleRowCellCollapseTreeRows),this.on(bs.LAYOUT_TREE_ROWS_COLLAPSE_ALL,this.handleTreeRowsCollapseAll)},e.prototype.handleRowCellCollapseTreeRows=function(t){var e,n=t.id,r=t.isCollapsed,i={style:{collapsedRows:(e={},e[n]=r,e)}};this.emit(bs.LAYOUT_COLLAPSE_ROWS,{collapsedRows:i.style.collapsedRows,meta:null===t||void 0===t?void 0:t.node}),this.setOptions(i),this.render(!1),this.emit(bs.LAYOUT_AFTER_COLLAPSE_ROWS,{collapsedRows:i.style.collapsedRows,meta:null===t||void 0===t?void 0:t.node})},e.prototype.handleTreeRowsCollapseAll=function(t){var e={style:{hierarchyCollapse:!t,collapsedRows:null,rowExpandDepth:null}};this.setOptions(e),this.render(!1)},e.prototype.groupSortByMethod=function(t,e){var n=this.dataCfg.fields,r=n.rows,i=n.columns,o=this.options.style.colCfg.hideMeasureColumn,a=this.isValueInCols()?zO(r):zO(i),s=e.query,l=e.value,c=wx(s),u=l;o&&this.isValueInCols()&&(u=this.dataSet.fields.values[0],c[Cs]=u);var h={sortFieldId:a,sortMethod:t,sortByMeasure:u,query:c},f=this.dataCfg.sortParams.filter((function(t){return(null===t||void 0===t?void 0:t.sortFieldId)!==a}));this.updateSortMethodMap(e.id,t,!0);var d=ic(ic([],rc(f),!1),[h],!1);this.emit(bs.RANGE_SORT,d),this.setDataCfg(tc(tc({},this.dataCfg),{sortParams:d})),this.render()},e.prototype.handleGroupSort=function(t,e){var n=this;t.stopPropagation(),this.interaction.addIntercepts([Pl.HOVER]);var r=this.getMenuDefaultSelectedKeys(null===e||void 0===e?void 0:e.id),i={onClick:function(r){var i=r.key,o=i;n.groupSortByMethod(o,e),n.emit(bs.RANGE_SORTED,t)},menus:JR(),defaultSelectedKeys:r};this.showTooltipWithInfo(t,[],{operator:i,onlyMenu:!0,forceRender:!0})}}(e$),function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Jl(e,t),e}(RH)),r$=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onSortTooltipClick=function(t,n){var r=t.key,i=n.field,o={sortFieldId:i,sortMethod:r};e.updateSortMethodMap(n.id,r),e.emit(bs.RANGE_SORT,[o])},e}return Jl(e,t),e.prototype.getDataSet=function(t){var e=t.dataSet;return e?e(this):new qW(this)},e.prototype.isPivotMode=function(){return!1},e.prototype.isTableMode=function(){return!0},e.prototype.isHierarchyTreeType=function(){return!1},e.prototype.isScrollContainsRowHeader=function(){return!1},e.prototype.isFrozenRowHeader=function(){return!1},e.prototype.clearDrillDownData=function(){},e.prototype.isValueInCols=function(){return!1},e.prototype.bindEvents=function(){},e.prototype.initPanelGroupChildren=function(){var e,n=this;t.prototype.initPanelGroupChildren.call(this);var r={zIndex:Ns,s2:this};e=rc([Ws,Hs,$s,Gs,Vs,Ys].map((function(t){var e=new n$(tc({name:t},r));return n.panelGroup.add(e),e})),6),this.frozenRowGroup=e[0],this.frozenColGroup=e[1],this.frozenTrailingRowGroup=e[2],this.frozenTrailingColGroup=e[3],this.frozenTopGroup=e[4],this.frozenBottomGroup=e[5]},e.prototype.getFacetCfgFromDataSetAndOptions=function(){var t=this,e=this.dataSet,n=e.fields,r=e.meta,i=this.options,o=i.style,a=i.dataCell,s=function(e){return t.options.showSeriesNumber&&0===e.colIndex?new cF(e,t):new lF(e,t)};return tc(tc(tc(tc({},this.options),n),o),{meta:r,spreadsheet:this,dataSet:this.dataSet,dataCell:null!==a&&void 0!==a?a:s})},e.prototype.buildFacet=function(){var t,e=this.getFacetCfgFromDataSetAndOptions();null===(t=this.facet)||void 0===t||t.destroy(),this.facet=new PH(e),this.facet.render()},e.prototype.clearFrozenGroups=function(){this.frozenRowGroup.set("children",[]),this.frozenColGroup.set("children",[]),this.frozenTrailingRowGroup.set("children",[]),this.frozenTrailingColGroup.set("children",[]),this.frozenTopGroup.set("children",[]),this.frozenBottomGroup.set("children",[])},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.clearFrozenGroups(),this.off(bs.RANGE_SORT),this.off(bs.RANGE_FILTER)},e.prototype.handleGroupSort=function(t,e){var n=this;t.stopPropagation(),this.interaction.addIntercepts([Pl.HOVER]);var r=this.getMenuDefaultSelectedKeys(null===e||void 0===e?void 0:e.id),i={onClick:function(t){var r=t.key,i=r;n.onSortTooltipClick({key:i},e)},menus:tI(),defaultSelectedKeys:r};this.showTooltipWithInfo(t,[],{operator:i,onlyMenu:!0,forceRender:!0})},e}(e$)},7074:function(t){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},9841:function(t,e,n){var r=n(7074),i=n(4579),o=Object.hasOwnProperty,a=Object.create(null);for(var s in r)o.call(r,s)&&(a[r[s]]=s);var l=t.exports={to:{},get:{}};function c(t,e,n){return Math.min(Math.max(e,t),n)}function u(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}l.get=function(t){var e,n,r=t.substring(0,3).toLowerCase();switch(r){case"hsl":e=l.get.hsl(t),n="hsl";break;case"hwb":e=l.get.hwb(t),n="hwb";break;default:e=l.get.rgb(t),n="rgb";break}return e?{model:n,value:e}:null},l.get.rgb=function(t){if(!t)return null;var e,n,i,a=/^#([a-f0-9]{3,4})$/i,s=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,l=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,u=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,h=/^(\w+)$/,f=[0,0,0,1];if(e=t.match(s)){for(i=e[2],e=e[1],n=0;n<3;n++){var d=2*n;f[n]=parseInt(e.slice(d,d+2),16)}i&&(f[3]=parseInt(i,16)/255)}else if(e=t.match(a)){for(e=e[1],i=e[3],n=0;n<3;n++)f[n]=parseInt(e[n]+e[n],16);i&&(f[3]=parseInt(i+i,16)/255)}else if(e=t.match(l)){for(n=0;n<3;n++)f[n]=parseInt(e[n+1],0);e[4]&&(e[5]?f[3]=.01*parseFloat(e[4]):f[3]=parseFloat(e[4]))}else{if(!(e=t.match(u)))return(e=t.match(h))?"transparent"===e[1]?[0,0,0,0]:o.call(r,e[1])?(f=r[e[1]],f[3]=1,f):null:null;for(n=0;n<3;n++)f[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(e[5]?f[3]=.01*parseFloat(e[4]):f[3]=parseFloat(e[4]))}for(n=0;n<3;n++)f[n]=c(f[n],0,255);return f[3]=c(f[3],0,1),f},l.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,o=c(parseFloat(n[2]),0,100),a=c(parseFloat(n[3]),0,100),s=c(isNaN(r)?1:r,0,1);return[i,o,a,s]}return null},l.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=t.match(e);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,o=c(parseFloat(n[2]),0,100),a=c(parseFloat(n[3]),0,100),s=c(isNaN(r)?1:r,0,1);return[i,o,a,s]}return null},l.to.hex=function(){var t=i(arguments);return"#"+u(t[0])+u(t[1])+u(t[2])+(t[3]<1?u(Math.round(255*t[3])):"")},l.to.rgb=function(){var t=i(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},l.to.rgb.percent=function(){var t=i(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},l.to.hsl=function(){var t=i(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},l.to.hwb=function(){var t=i(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},l.to.keyword=function(t){return a[t.slice(0,3)]}},1645:function(t,e,n){"use strict";n(7658);var r=function(t){return i(t)&&!o(t)};function i(t){return!!t&&"object"===typeof t}function o(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||l(t)}var a="function"===typeof Symbol&&Symbol.for,s=a?Symbol.for("react.element"):60103;function l(t){return t.$$typeof===s}function c(t){return Array.isArray(t)?[]:{}}function u(t,e){var n=e&&!0===e.clone;return n&&r(t)?d(c(t),t,e):t}function h(t,e,n){var i=t.slice();return e.forEach((function(e,o){"undefined"===typeof i[o]?i[o]=u(e,n):r(e)?i[o]=d(t[o],e,n):-1===t.indexOf(e)&&i.push(u(e,n))})),i}function f(t,e,n){var i={};return r(t)&&Object.keys(t).forEach((function(e){i[e]=u(t[e],n)})),Object.keys(e).forEach((function(o){r(e[o])&&t[o]?i[o]=d(t[o],e[o],n):i[o]=u(e[o],n)})),i}function d(t,e,n){var r=Array.isArray(e),i=Array.isArray(t),o=n||{arrayMerge:h},a=r===i;if(a){if(r){var s=o.arrayMerge||h;return s(t,e,n)}return f(t,e,n)}return u(e,n)}d.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce((function(t,n){return d(t,n,e)}))};var p=d;t.exports=p},6151:function(t){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=96)}({0:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},96:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"el-button",class:[t.type?"el-button--"+t.type:"",t.buttonSize?"el-button--"+t.buttonSize:"",{"is-disabled":t.buttonDisabled,"is-loading":t.loading,"is-plain":t.plain,"is-round":t.round,"is-circle":t.circle}],attrs:{disabled:t.buttonDisabled||t.loading,autofocus:t.autofocus,type:t.nativeType},on:{click:t.handleClick}},[t.loading?n("i",{staticClass:"el-icon-loading"}):t._e(),t.icon&&!t.loading?n("i",{class:t.icon}):t._e(),t.$slots.default?n("span",[t._t("default")],2):t._e()])},i=[];r._withStripped=!0;var o={name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.$options.propsData.hasOwnProperty("disabled")?this.disabled:(this.elForm||{}).disabled}},methods:{handleClick:function(t){this.$emit("click",t)}}},a=o,s=n(0),l=Object(s["a"])(a,r,i,!1,null,null,null);l.options.__file="packages/button/src/button.vue";var c=l.exports;c.install=function(t){t.component(c.name,c)};e["default"]=c}})},6997:function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=93)}({0:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},4:function(t,e){t.exports=n(4947)},93:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"el-checkbox-group",attrs:{role:"group","aria-label":"checkbox-group"}},[t._t("default")],2)},i=[];r._withStripped=!0;var o=n(4),a=n.n(o),s={name:"ElCheckboxGroup",componentName:"ElCheckboxGroup",mixins:[a.a],inject:{elFormItem:{default:""}},props:{value:{},disabled:Boolean,min:Number,max:Number,size:String,fill:String,textColor:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",[t])}}},l=s,c=n(0),u=Object(c["a"])(l,r,i,!1,null,null,null);u.options.__file="packages/checkbox/src/checkbox-group.vue";var h=u.exports;h.install=function(t){t.component(h.name,h)};e["default"]=h}})},8972:function(t,e,n){n(7658),t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=91)}({0:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},4:function(t,e){t.exports=n(4947)},91:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"el-checkbox",class:[t.border&&t.checkboxSize?"el-checkbox--"+t.checkboxSize:"",{"is-disabled":t.isDisabled},{"is-bordered":t.border},{"is-checked":t.isChecked}],attrs:{id:t.id}},[n("span",{staticClass:"el-checkbox__input",class:{"is-disabled":t.isDisabled,"is-checked":t.isChecked,"is-indeterminate":t.indeterminate,"is-focus":t.focus},attrs:{tabindex:!!t.indeterminate&&0,role:!!t.indeterminate&&"checkbox","aria-checked":!!t.indeterminate&&"mixed"}},[n("span",{staticClass:"el-checkbox__inner"}),t.trueLabel||t.falseLabel?n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":t.indeterminate?"true":"false",name:t.name,disabled:t.isDisabled,"true-value":t.trueLabel,"false-value":t.falseLabel},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t._q(t.model,t.trueLabel)},on:{change:[function(e){var n=t.model,r=e.target,i=r.checked?t.trueLabel:t.falseLabel;if(Array.isArray(n)){var o=null,a=t._i(n,o);r.checked?a<0&&(t.model=n.concat([o])):a>-1&&(t.model=n.slice(0,a).concat(n.slice(a+1)))}else t.model=i},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":t.indeterminate?"true":"false",disabled:t.isDisabled,name:t.name},domProps:{value:t.label,checked:Array.isArray(t.model)?t._i(t.model,t.label)>-1:t.model},on:{change:[function(e){var n=t.model,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t.label,a=t._i(n,o);r.checked?a<0&&(t.model=n.concat([o])):a>-1&&(t.model=n.slice(0,a).concat(n.slice(a+1)))}else t.model=i},t.handleChange],focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}})]),t.$slots.default||t.label?n("span",{staticClass:"el-checkbox__label"},[t._t("default"),t.$slots.default?t._e():[t._v(t._s(t.label))]],2):t._e()])},i=[];r._withStripped=!0;var o=n(4),a=n.n(o),s={name:"ElCheckbox",mixins:[a.a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElCheckbox",data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},computed:{model:{get:function(){return this.isGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(t){this.isGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&t.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&t.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[t])):(this.$emit("input",t),this.selfModel=t)}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?this.model.indexOf(this.label)>-1:null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},isGroup:function(){var t=this.$parent;while(t){if("ElCheckboxGroup"===t.$options.componentName)return this._checkboxGroup=t,!0;t=t.$parent}return!1},store:function(){return this._checkboxGroup?this._checkboxGroup.value:this.value},isLimitDisabled:function(){var t=this._checkboxGroup,e=t.max,n=t.min;return!(!e&&!n)&&this.model.length>=e&&!this.isChecked||this.model.length<=n&&this.isChecked},isDisabled:function(){return this.isGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxSize:function(){var t=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._checkboxGroup.checkboxGroupSize||t}},props:{value:{},label:{},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number],id:String,controls:String,border:Boolean,size:String},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(t){var e=this;if(!this.isLimitExceeded){var n=void 0;n=t.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",n,t),this.$nextTick((function(){e.isGroup&&e.dispatch("ElCheckboxGroup","change",[e._checkboxGroup.value])}))}}},created:function(){this.checked&&this.addToStore()},mounted:function(){this.indeterminate&&this.$el.setAttribute("aria-controls",this.controls)},watch:{value:function(t){this.dispatch("ElFormItem","el.form.change",t)}}},l=s,c=n(0),u=Object(c["a"])(l,r,i,!1,null,null,null);u.options.__file="packages/checkbox/src/checkbox.vue";var h=u.exports;h.install=function(t){t.component(h.name,h)};e["default"]=h}})},2661:function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=75)}({0:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},11:function(t,e){t.exports=n(5365)},21:function(t,e){t.exports=n(4541)},4:function(t,e){t.exports=n(4947)},75:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["textarea"===t.type?"el-textarea":"el-input",t.inputSize?"el-input--"+t.inputSize:"",{"is-disabled":t.inputDisabled,"is-exceed":t.inputExceed,"el-input-group":t.$slots.prepend||t.$slots.append,"el-input-group--append":t.$slots.append,"el-input-group--prepend":t.$slots.prepend,"el-input--prefix":t.$slots.prefix||t.prefixIcon,"el-input--suffix":t.$slots.suffix||t.suffixIcon||t.clearable||t.showPassword}],on:{mouseenter:function(e){t.hovering=!0},mouseleave:function(e){t.hovering=!1}}},["textarea"!==t.type?[t.$slots.prepend?n("div",{staticClass:"el-input-group__prepend"},[t._t("prepend")],2):t._e(),"textarea"!==t.type?n("input",t._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:t.tabindex,type:t.showPassword?t.passwordVisible?"text":"password":t.type,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"input",t.$attrs,!1)):t._e(),t.$slots.prefix||t.prefixIcon?n("span",{staticClass:"el-input__prefix"},[t._t("prefix"),t.prefixIcon?n("i",{staticClass:"el-input__icon",class:t.prefixIcon}):t._e()],2):t._e(),t.getSuffixVisible()?n("span",{staticClass:"el-input__suffix"},[n("span",{staticClass:"el-input__suffix-inner"},[t.showClear&&t.showPwdVisible&&t.isWordLimitVisible?t._e():[t._t("suffix"),t.suffixIcon?n("i",{staticClass:"el-input__icon",class:t.suffixIcon}):t._e()],t.showClear?n("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(t){t.preventDefault()},click:t.clear}}):t._e(),t.showPwdVisible?n("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:t.handlePasswordVisible}}):t._e(),t.isWordLimitVisible?n("span",{staticClass:"el-input__count"},[n("span",{staticClass:"el-input__count-inner"},[t._v("\n            "+t._s(t.textLength)+"/"+t._s(t.upperLimit)+"\n          ")])]):t._e()],2),t.validateState?n("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",t.validateIcon]}):t._e()]):t._e(),t.$slots.append?n("div",{staticClass:"el-input-group__append"},[t._t("append")],2):t._e()]:n("textarea",t._b({ref:"textarea",staticClass:"el-textarea__inner",style:t.textareaStyle,attrs:{tabindex:t.tabindex,disabled:t.inputDisabled,readonly:t.readonly,autocomplete:t.autoComplete||t.autocomplete,"aria-label":t.label},on:{compositionstart:t.handleCompositionStart,compositionupdate:t.handleCompositionUpdate,compositionend:t.handleCompositionEnd,input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"textarea",t.$attrs,!1)),t.isWordLimitVisible&&"textarea"===t.type?n("span",{staticClass:"el-input__count"},[t._v(t._s(t.textLength)+"/"+t._s(t.upperLimit))]):t._e()],2)},i=[];r._withStripped=!0;var o=n(4),a=n.n(o),s=n(11),l=n.n(s),c=void 0,u="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",h=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function f(t){var e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),r=parseFloat(e.getPropertyValue("padding-bottom"))+parseFloat(e.getPropertyValue("padding-top")),i=parseFloat(e.getPropertyValue("border-bottom-width"))+parseFloat(e.getPropertyValue("border-top-width")),o=h.map((function(t){return t+":"+e.getPropertyValue(t)})).join(";");return{contextStyle:o,paddingSize:r,borderSize:i,boxSizing:n}}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;c||(c=document.createElement("textarea"),document.body.appendChild(c));var r=f(t),i=r.paddingSize,o=r.borderSize,a=r.boxSizing,s=r.contextStyle;c.setAttribute("style",s+";"+u),c.value=t.value||t.placeholder||"";var l=c.scrollHeight,h={};"border-box"===a?l+=o:"content-box"===a&&(l-=i),c.value="";var d=c.scrollHeight-i;if(null!==e){var p=d*e;"border-box"===a&&(p=p+i+o),l=Math.max(p,l),h.minHeight=p+"px"}if(null!==n){var v=d*n;"border-box"===a&&(v=v+i+o),l=Math.min(v,l)}return h.height=l+"px",c.parentNode&&c.parentNode.removeChild(c),c=null,h}var p=n(9),v=n.n(p),g=n(21),y={name:"ElInput",componentName:"ElInput",mixins:[a.a,l.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(t){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return v()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return"number"===typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(t){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[t])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var t=this;this.$nextTick((function(){t.setNativeInputValue(),t.resizeTextarea(),t.updateIconOffset()}))}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(t){this.focused=!1,this.$emit("blur",t),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var t=this.autosize,e=this.type;if("textarea"===e)if(t){var n=t.minRows,r=t.maxRows;this.textareaCalcStyle=d(this.$refs.textarea,n,r)}else this.textareaCalcStyle={minHeight:d(this.$refs.textarea).minHeight}}},setNativeInputValue:function(){var t=this.getInput();t&&t.value!==this.nativeInputValue&&(t.value=this.nativeInputValue)},handleFocus:function(t){this.focused=!0,this.$emit("focus",t)},handleCompositionStart:function(t){this.$emit("compositionstart",t),this.isComposing=!0},handleCompositionUpdate:function(t){this.$emit("compositionupdate",t);var e=t.target.value,n=e[e.length-1]||"";this.isComposing=!Object(g["isKorean"])(n)},handleCompositionEnd:function(t){this.$emit("compositionend",t),this.isComposing&&(this.isComposing=!1,this.handleInput(t))},handleInput:function(t){this.isComposing||t.target.value!==this.nativeInputValue&&(this.$emit("input",t.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(t){this.$emit("change",t.target.value)},calcIconOffset:function(t){var e=[].slice.call(this.$el.querySelectorAll(".el-input__"+t)||[]);if(e.length){for(var n=null,r=0;r<e.length;r++)if(e[r].parentNode===this.$el){n=e[r];break}if(n){var i={suffix:"append",prefix:"prepend"},o=i[t];this.$slots[o]?n.style.transform="translateX("+("suffix"===t?"-":"")+this.$el.querySelector(".el-input-group__"+o).offsetWidth+"px)":n.removeAttribute("style")}}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){var t=this;this.passwordVisible=!this.passwordVisible,this.$nextTick((function(){t.focus()}))},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},m=y,b=n(0),x=Object(b["a"])(m,r,i,!1,null,null,null);x.options.__file="packages/input/src/input.vue";var w=x.exports;w.install=function(t){t.component(w.name,w)};e["default"]=w},9:function(t,e){t.exports=n(2198)}})},342:function(t){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=122)}({0:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},122:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",t._b({class:["el-link",t.type?"el-link--"+t.type:"",t.disabled&&"is-disabled",t.underline&&!t.disabled&&"is-underline"],attrs:{href:t.disabled?null:t.href},on:{click:t.handleClick}},"a",t.$attrs,!1),[t.icon?n("i",{class:t.icon}):t._e(),t.$slots.default?n("span",{staticClass:"el-link--inner"},[t._t("default")],2):t._e(),t.$slots.icon?[t.$slots.icon?t._t("icon"):t._e()]:t._e()],2)},i=[];r._withStripped=!0;var o={name:"ElLink",props:{type:{type:String,default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:String,icon:String},methods:{handleClick:function(t){this.disabled||this.href||this.$emit("click",t)}}},a=o,s=n(0),l=Object(s["a"])(a,r,i,!1,null,null,null);l.options.__file="packages/link/src/main.vue";var c=l.exports;c.install=function(t){t.component(c.name,c)};e["default"]=c}})},3270:function(t,e,n){"use strict";e.__esModule=!0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e["default"]=function(t){function e(t){for(var e=arguments.length,n=Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];return 1===n.length&&"object"===r(n[0])&&(n=n[0]),n&&n.hasOwnProperty||(n={}),t.replace(o,(function(e,r,o,a){var s=void 0;return"{"===t[a-1]&&"}"===t[a+e.length]?o:(s=(0,i.hasOwn)(n,o)?n[o]:null,null===s||void 0===s?"":s)}))}return e};var i=n(8501),o=/(%|)\{([0-9a-zA-Z_]+)\}/g},503:function(t,e,n){"use strict";e.__esModule=!0,e.i18n=e.use=e.t=void 0;var r=n(3309),i=h(r),o=n(7195),a=h(o),s=n(1645),l=h(s),c=n(3270),u=h(c);function h(t){return t&&t.__esModule?t:{default:t}}var f=(0,u.default)(a.default),d=i.default,p=!1,v=function(){var t=Object.getPrototypeOf(this||a.default).$t;if("function"===typeof t&&a.default.locale)return p||(p=!0,a.default.locale(a.default.config.lang,(0,l.default)(d,a.default.locale(a.default.config.lang)||{},{clone:!0}))),t.apply(this,arguments)},g=e.t=function(t,e){var n=v.apply(this,arguments);if(null!==n&&void 0!==n)return n;for(var r=t.split("."),i=d,o=0,a=r.length;o<a;o++){var s=r[o];if(n=i[s],o===a-1)return f(n,e);if(!n)return"";i=n}return""},y=e.use=function(t){d=t||d},m=e.i18n=function(t){v=t||v};e["default"]={use:y,t:g,i18n:m}},3309:function(t,e){"use strict";e.__esModule=!0,e["default"]={el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},empty:{description:"暂无数据"}}}},4947:function(t,e){"use strict";function n(t,e,r){this.$children.forEach((function(i){var o=i.$options.componentName;o===t?i.$emit.apply(i,[e].concat(r)):n.apply(i,[t,e].concat([r]))}))}e.__esModule=!0,e["default"]={methods:{dispatch:function(t,e,n){var r=this.$parent||this.$root,i=r.$options.componentName;while(r&&(!i||i!==t))r=r.$parent,r&&(i=r.$options.componentName);r&&r.$emit.apply(r,[e].concat(n))},broadcast:function(t,e,r){n.call(this,t,e,r)}}}},3398:function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){return{methods:{focus:function(){this.$refs[t].focus()}}}}},2373:function(t,e,n){"use strict";e.__esModule=!0;var r=n(503);e["default"]={methods:{t:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.t.apply(this,e)}}}},5365:function(t,e,n){"use strict";e.__esModule=!0;n(8501);e["default"]={mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}},9018:function(t,e,n){n(7658),t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=54)}({0:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},3:function(t,e){t.exports=n(8501)},33:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:t.itemSelected,"is-disabled":t.disabled||t.groupDisabled||t.limitReached,hover:t.hover},on:{mouseenter:t.hoverItem,click:function(e){return e.stopPropagation(),t.selectOptionClick(e)}}},[t._t("default",[n("span",[t._v(t._s(t.currentLabel))])])],2)},i=[];r._withStripped=!0;var o=n(4),a=n.n(o),s=n(3),l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c={mixins:[a.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(t,e){var n=this.select,r=n.remote,i=n.valueKey;if(!this.created&&!r){if(i&&"object"===("undefined"===typeof t?"undefined":l(t))&&"object"===("undefined"===typeof e?"undefined":l(e))&&t[i]===e[i])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(t,e){if(this.isObject){var n=this.select.valueKey;return Object(s["getValueByPath"])(t,n)===Object(s["getValueByPath"])(e,n)}return t===e},contains:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if(this.isObject){var n=this.select.valueKey;return t&&t.some((function(t){return Object(s["getValueByPath"])(t,n)===Object(s["getValueByPath"])(e,n)}))}return t&&t.indexOf(e)>-1},handleGroupDisabled:function(t){this.groupDisabled=t},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(t){this.visible=new RegExp(Object(s["escapeRegexpString"])(t),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var t=this.select,e=t.selected,n=t.multiple,r=n?e:[e],i=this.select.cachedOptions.indexOf(this),o=r.indexOf(this);i>-1&&o<0&&this.select.cachedOptions.splice(i,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},u=c,h=n(0),f=Object(h["a"])(u,r,i,!1,null,null,null);f.options.__file="packages/select/src/option.vue";e["a"]=f.exports},4:function(t,e){t.exports=n(4947)},54:function(t,e,n){"use strict";n.r(e);var r=n(33);r["a"].install=function(t){t.component(r["a"].name,r["a"])},e["default"]=r["a"]}})},3032:function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=133)}({133:function(t,e,n){"use strict";n.r(e);var r=n(16),i=n(39),o=n.n(i),a=n(3),s=n(2),l={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function c(t){var e=t.move,n=t.size,r=t.bar,i={},o="translate"+r.axis+"("+e+"%)";return i[r.size]=n,i.transform=o,i.msTransform=o,i.webkitTransform=o,i}var u={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar:function(){return l[this.vertical?"vertical":"horizontal"]},wrap:function(){return this.$parent.wrap}},render:function(t){var e=this.size,n=this.move,r=this.bar;return t("div",{class:["el-scrollbar__bar","is-"+r.key],on:{mousedown:this.clickTrackHandler}},[t("div",{ref:"thumb",class:"el-scrollbar__thumb",on:{mousedown:this.clickThumbHandler},style:c({size:e,move:n,bar:r})})])},methods:{clickThumbHandler:function(t){t.ctrlKey||2===t.button||(this.startDrag(t),this[this.bar.axis]=t.currentTarget[this.bar.offset]-(t[this.bar.client]-t.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler:function(t){var e=Math.abs(t.target.getBoundingClientRect()[this.bar.direction]-t[this.bar.client]),n=this.$refs.thumb[this.bar.offset]/2,r=100*(e-n)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=r*this.wrap[this.bar.scrollSize]/100},startDrag:function(t){t.stopImmediatePropagation(),this.cursorDown=!0,Object(s["on"])(document,"mousemove",this.mouseMoveDocumentHandler),Object(s["on"])(document,"mouseup",this.mouseUpDocumentHandler),document.onselectstart=function(){return!1}},mouseMoveDocumentHandler:function(t){if(!1!==this.cursorDown){var e=this[this.bar.axis];if(e){var n=-1*(this.$el.getBoundingClientRect()[this.bar.direction]-t[this.bar.client]),r=this.$refs.thumb[this.bar.offset]-e,i=100*(n-r)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=i*this.wrap[this.bar.scrollSize]/100}}},mouseUpDocumentHandler:function(t){this.cursorDown=!1,this[this.bar.axis]=0,Object(s["off"])(document,"mousemove",this.mouseMoveDocumentHandler),document.onselectstart=null}},destroyed:function(){Object(s["off"])(document,"mouseup",this.mouseUpDocumentHandler)}},h={name:"ElScrollbar",components:{Bar:u},props:{native:Boolean,wrapStyle:{},wrapClass:{},viewClass:{},viewStyle:{},noresize:Boolean,tag:{type:String,default:"div"}},data:function(){return{sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0}},computed:{wrap:function(){return this.$refs.wrap}},render:function(t){var e=o()(),n=this.wrapStyle;if(e){var r="-"+e+"px",i="margin-bottom: "+r+"; margin-right: "+r+";";Array.isArray(this.wrapStyle)?(n=Object(a["toObject"])(this.wrapStyle),n.marginRight=n.marginBottom=r):"string"===typeof this.wrapStyle?n+=i:n=i}var s=t(this.tag,{class:["el-scrollbar__view",this.viewClass],style:this.viewStyle,ref:"resize"},this.$slots.default),l=t("div",{ref:"wrap",style:n,on:{scroll:this.handleScroll},class:[this.wrapClass,"el-scrollbar__wrap",e?"":"el-scrollbar__wrap--hidden-default"]},[[s]]),c=void 0;return c=this.native?[t("div",{ref:"wrap",class:[this.wrapClass,"el-scrollbar__wrap"],style:n},[[s]])]:[l,t(u,{attrs:{move:this.moveX,size:this.sizeWidth}}),t(u,{attrs:{vertical:!0,move:this.moveY,size:this.sizeHeight}})],t("div",{class:"el-scrollbar"},c)},methods:{handleScroll:function(){var t=this.wrap;this.moveY=100*t.scrollTop/t.clientHeight,this.moveX=100*t.scrollLeft/t.clientWidth},update:function(){var t=void 0,e=void 0,n=this.wrap;n&&(t=100*n.clientHeight/n.scrollHeight,e=100*n.clientWidth/n.scrollWidth,this.sizeHeight=t<100?t+"%":"",this.sizeWidth=e<100?e+"%":"")}},mounted:function(){this.native||(this.$nextTick(this.update),!this.noresize&&Object(r["addResizeListener"])(this.$refs.resize,this.update))},beforeDestroy:function(){this.native||!this.noresize&&Object(r["removeResizeListener"])(this.$refs.resize,this.update)},install:function(t){t.component(h.name,h)}};e["default"]=h},16:function(t,e){t.exports=n(1432)},2:function(t,e){t.exports=n(1610)},3:function(t,e){t.exports=n(8501)},39:function(t,e){t.exports=n(5713)}})},7149:function(t,e,n){n(7658),t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=62)}({0:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},10:function(t,e){t.exports=n(2661)},12:function(t,e){t.exports=n(3949)},15:function(t,e){t.exports=n(3032)},16:function(t,e){t.exports=n(1432)},19:function(t,e){t.exports=n(6902)},21:function(t,e){t.exports=n(4541)},22:function(t,e){t.exports=n(3398)},3:function(t,e){t.exports=n(8501)},31:function(t,e){t.exports=n(2809)},33:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:t.itemSelected,"is-disabled":t.disabled||t.groupDisabled||t.limitReached,hover:t.hover},on:{mouseenter:t.hoverItem,click:function(e){return e.stopPropagation(),t.selectOptionClick(e)}}},[t._t("default",[n("span",[t._v(t._s(t.currentLabel))])])],2)},i=[];r._withStripped=!0;var o=n(4),a=n.n(o),s=n(3),l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c={mixins:[a.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(t,e){var n=this.select,r=n.remote,i=n.valueKey;if(!this.created&&!r){if(i&&"object"===("undefined"===typeof t?"undefined":l(t))&&"object"===("undefined"===typeof e?"undefined":l(e))&&t[i]===e[i])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(t,e){if(this.isObject){var n=this.select.valueKey;return Object(s["getValueByPath"])(t,n)===Object(s["getValueByPath"])(e,n)}return t===e},contains:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];if(this.isObject){var n=this.select.valueKey;return t&&t.some((function(t){return Object(s["getValueByPath"])(t,n)===Object(s["getValueByPath"])(e,n)}))}return t&&t.indexOf(e)>-1},handleGroupDisabled:function(t){this.groupDisabled=t},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(t){this.visible=new RegExp(Object(s["escapeRegexpString"])(t),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var t=this.select,e=t.selected,n=t.multiple,r=n?e:[e],i=this.select.cachedOptions.indexOf(this),o=r.indexOf(this);i>-1&&o<0&&this.select.cachedOptions.splice(i,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},u=c,h=n(0),f=Object(h["a"])(u,r,i,!1,null,null,null);f.options.__file="packages/select/src/option.vue";e["a"]=f.exports},38:function(t,e){t.exports=n(3304)},4:function(t,e){t.exports=n(4947)},5:function(t,e){t.exports=n(2155)},6:function(t,e){t.exports=n(2373)},62:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],staticClass:"el-select",class:[t.selectSize?"el-select--"+t.selectSize:""],on:{click:function(e){return e.stopPropagation(),t.toggleMenu(e)}}},[t.multiple?n("div",{ref:"tags",staticClass:"el-select__tags",style:{"max-width":t.inputWidth-32+"px",width:"100%"}},[t.collapseTags&&t.selected.length?n("span",[n("el-tag",{attrs:{closable:!t.selectDisabled,size:t.collapseTagSize,hit:t.selected[0].hitState,type:"info","disable-transitions":""},on:{close:function(e){t.deleteTag(e,t.selected[0])}}},[n("span",{staticClass:"el-select__tags-text"},[t._v(t._s(t.selected[0].currentLabel))])]),t.selected.length>1?n("el-tag",{attrs:{closable:!1,size:t.collapseTagSize,type:"info","disable-transitions":""}},[n("span",{staticClass:"el-select__tags-text"},[t._v("+ "+t._s(t.selected.length-1))])]):t._e()],1):t._e(),t.collapseTags?t._e():n("transition-group",{on:{"after-leave":t.resetInputHeight}},t._l(t.selected,(function(e){return n("el-tag",{key:t.getValueKey(e),attrs:{closable:!t.selectDisabled,size:t.collapseTagSize,hit:e.hitState,type:"info","disable-transitions":""},on:{close:function(n){t.deleteTag(n,e)}}},[n("span",{staticClass:"el-select__tags-text"},[t._v(t._s(e.currentLabel))])])})),1),t.filterable?n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"input",staticClass:"el-select__input",class:[t.selectSize?"is-"+t.selectSize:""],style:{"flex-grow":"1",width:t.inputLength/(t.inputWidth-32)+"%","max-width":t.inputWidth-42+"px"},attrs:{type:"text",disabled:t.selectDisabled,autocomplete:t.autoComplete||t.autocomplete},domProps:{value:t.query},on:{focus:t.handleFocus,blur:function(e){t.softFocus=!1},keyup:t.managePlaceholder,keydown:[t.resetInputState,function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.preventDefault(),t.handleNavigate("next")},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.preventDefault(),t.handleNavigate("prev")},function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.selectOption(e))},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation(),e.preventDefault(),t.visible=!1},function(e){return!("button"in e)&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.deletePrevTag(e)},function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key,"Tab"))return null;t.visible=!1}],compositionstart:t.handleComposition,compositionupdate:t.handleComposition,compositionend:t.handleComposition,input:[function(e){e.target.composing||(t.query=e.target.value)},t.debouncedQueryChange]}}):t._e()],1):t._e(),n("el-input",{ref:"reference",class:{"is-focus":t.visible},attrs:{type:"text",placeholder:t.currentPlaceholder,name:t.name,id:t.id,autocomplete:t.autoComplete||t.autocomplete,size:t.selectSize,disabled:t.selectDisabled,readonly:t.readonly,"validate-event":!1,tabindex:t.multiple&&t.filterable?"-1":null},on:{focus:t.handleFocus,blur:t.handleBlur,input:t.debouncedOnInputChange,compositionstart:t.handleComposition,compositionupdate:t.handleComposition,compositionend:t.handleComposition},nativeOn:{keydown:[function(e){if(!("button"in e)&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"]))return null;e.stopPropagation(),e.preventDefault(),t.handleNavigate("next")},function(e){if(!("button"in e)&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"]))return null;e.stopPropagation(),e.preventDefault(),t.handleNavigate("prev")},function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.selectOption(e))},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.stopPropagation(),e.preventDefault(),t.visible=!1},function(e){if(!("button"in e)&&t._k(e.keyCode,"tab",9,e.key,"Tab"))return null;t.visible=!1}],mouseenter:function(e){t.inputHovering=!0},mouseleave:function(e){t.inputHovering=!1}},model:{value:t.selectedLabel,callback:function(e){t.selectedLabel=e},expression:"selectedLabel"}},[t.$slots.prefix?n("template",{slot:"prefix"},[t._t("prefix")],2):t._e(),n("template",{slot:"suffix"},[n("i",{directives:[{name:"show",rawName:"v-show",value:!t.showClose,expression:"!showClose"}],class:["el-select__caret","el-input__icon","el-icon-"+t.iconClass]}),t.showClose?n("i",{staticClass:"el-select__caret el-input__icon el-icon-circle-close",on:{click:t.handleClearClick}}):t._e()])],2),n("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":t.handleMenuEnter,"after-leave":t.doDestroy}},[n("el-select-menu",{directives:[{name:"show",rawName:"v-show",value:t.visible&&!1!==t.emptyText,expression:"visible && emptyText !== false"}],ref:"popper",attrs:{"append-to-body":t.popperAppendToBody}},[n("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:t.options.length>0&&!t.loading,expression:"options.length > 0 && !loading"}],ref:"scrollbar",class:{"is-empty":!t.allowCreate&&t.query&&0===t.filteredOptionsCount},attrs:{tag:"ul","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list"}},[t.showNewOption?n("el-option",{attrs:{value:t.query,created:""}}):t._e(),t._t("default")],2),t.emptyText&&(!t.allowCreate||t.loading||t.allowCreate&&0===t.options.length)?[t.$slots.empty?t._t("empty"):n("p",{staticClass:"el-select-dropdown__empty"},[t._v("\n          "+t._s(t.emptyText)+"\n        ")])]:t._e()],2)],1)],1)},i=[];r._withStripped=!0;var o=n(4),a=n.n(o),s=n(22),l=n.n(s),c=n(6),u=n.n(c),h=n(10),f=n.n(h),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"el-select-dropdown el-popper",class:[{"is-multiple":t.$parent.multiple},t.popperClass],style:{minWidth:t.minWidth}},[t._t("default")],2)},p=[];d._withStripped=!0;var v=n(5),g=n.n(v),y={name:"ElSelectDropdown",componentName:"ElSelectDropdown",mixins:[g.a],props:{placement:{default:"bottom-start"},boundariesPadding:{default:0},popperOptions:{default:function(){return{gpuAcceleration:!1}}},visibleArrow:{default:!0},appendToBody:{type:Boolean,default:!0}},data:function(){return{minWidth:""}},computed:{popperClass:function(){return this.$parent.popperClass}},watch:{"$parent.inputWidth":function(){this.minWidth=this.$parent.$el.getBoundingClientRect().width+"px"}},mounted:function(){var t=this;this.referenceElm=this.$parent.$refs.reference.$el,this.$parent.popperElm=this.popperElm=this.$el,this.$on("updatePopper",(function(){t.$parent.visible&&t.updatePopper()})),this.$on("destroyPopper",this.destroyPopper)}},m=y,b=n(0),x=Object(b["a"])(m,d,p,!1,null,null,null);x.options.__file="packages/select/src/select-dropdown.vue";var w=x.exports,O=n(33),C=n(38),S=n.n(C),_=n(15),E=n.n(_),M=n(19),k=n.n(M),T=n(12),A=n.n(T),L=n(16),P=n(31),R=n.n(P),I=n(3),N={data:function(){return{hoverOption:-1}},computed:{optionsAllDisabled:function(){return this.options.filter((function(t){return t.visible})).every((function(t){return t.disabled}))}},watch:{hoverIndex:function(t){var e=this;"number"===typeof t&&t>-1&&(this.hoverOption=this.options[t]||{}),this.options.forEach((function(t){t.hover=e.hoverOption===t}))}},methods:{navigateOptions:function(t){var e=this;if(this.visible){if(0!==this.options.length&&0!==this.filteredOptionsCount&&!this.optionsAllDisabled){"next"===t?(this.hoverIndex++,this.hoverIndex===this.options.length&&(this.hoverIndex=0)):"prev"===t&&(this.hoverIndex--,this.hoverIndex<0&&(this.hoverIndex=this.options.length-1));var n=this.options[this.hoverIndex];!0!==n.disabled&&!0!==n.groupDisabled&&n.visible||this.navigateOptions(t),this.$nextTick((function(){return e.scrollToOption(e.hoverOption)}))}}else this.visible=!0}}},j=n(21),B={mixins:[a.a,u.a,l()("reference"),N],name:"ElSelect",componentName:"ElSelect",inject:{elForm:{default:""},elFormItem:{default:""}},provide:function(){return{select:this}},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},readonly:function(){return!this.filterable||this.multiple||!Object(I["isIE"])()&&!Object(I["isEdge"])()&&!this.visible},showClose:function(){var t=this.multiple?Array.isArray(this.value)&&this.value.length>0:void 0!==this.value&&null!==this.value&&""!==this.value,e=this.clearable&&!this.selectDisabled&&this.inputHovering&&t;return e},iconClass:function(){return this.remote&&this.filterable?"":this.visible?"arrow-up is-reverse":"arrow-up"},debounce:function(){return this.remote?300:0},emptyText:function(){return this.loading?this.loadingText||this.t("el.select.loading"):(!this.remote||""!==this.query||0!==this.options.length)&&(this.filterable&&this.query&&this.options.length>0&&0===this.filteredOptionsCount?this.noMatchText||this.t("el.select.noMatch"):0===this.options.length?this.noDataText||this.t("el.select.noData"):null)},showNewOption:function(){var t=this,e=this.options.filter((function(t){return!t.created})).some((function(e){return e.currentLabel===t.query}));return this.filterable&&this.allowCreate&&""!==this.query&&!e},selectSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},selectDisabled:function(){return this.disabled||(this.elForm||{}).disabled},collapseTagSize:function(){return["small","mini"].indexOf(this.selectSize)>-1?"mini":"small"},propPlaceholder:function(){return"undefined"!==typeof this.placeholder?this.placeholder:this.t("el.select.placeholder")}},components:{ElInput:f.a,ElSelectMenu:w,ElOption:O["a"],ElTag:S.a,ElScrollbar:E.a},directives:{Clickoutside:A.a},props:{name:String,id:String,value:{required:!0},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(t){return!0}},automaticDropdown:Boolean,size:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:String,remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String,required:!1},defaultFirstOption:Boolean,reserveKeyword:Boolean,valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:!0}},data:function(){return{options:[],cachedOptions:[],createdLabel:null,createdSelected:!1,selected:this.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,cachedPlaceHolder:"",optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,currentPlaceholder:"",menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1}},watch:{selectDisabled:function(){var t=this;this.$nextTick((function(){t.resetInputHeight()}))},propPlaceholder:function(t){this.cachedPlaceHolder=this.currentPlaceholder=t},value:function(t,e){this.multiple&&(this.resetInputHeight(),t&&t.length>0||this.$refs.input&&""!==this.query?this.currentPlaceholder="":this.currentPlaceholder=this.cachedPlaceHolder,this.filterable&&!this.reserveKeyword&&(this.query="",this.handleQueryChange(this.query))),this.setSelected(),this.filterable&&!this.multiple&&(this.inputLength=20),Object(I["valueEquals"])(t,e)||this.dispatch("ElFormItem","el.form.change",t)},visible:function(t){var e=this;t?(this.broadcast("ElSelectDropdown","updatePopper"),this.filterable&&(this.query=this.remote?"":this.selectedLabel,this.handleQueryChange(this.query),this.multiple?this.$refs.input.focus():(this.remote||(this.broadcast("ElOption","queryChange",""),this.broadcast("ElOptionGroup","queryChange")),this.selectedLabel&&(this.currentPlaceholder=this.selectedLabel,this.selectedLabel="")))):(this.broadcast("ElSelectDropdown","destroyPopper"),this.$refs.input&&this.$refs.input.blur(),this.query="",this.previousQuery=null,this.selectedLabel="",this.inputLength=20,this.menuVisibleOnFocus=!1,this.resetHoverIndex(),this.$nextTick((function(){e.$refs.input&&""===e.$refs.input.value&&0===e.selected.length&&(e.currentPlaceholder=e.cachedPlaceHolder)})),this.multiple||(this.selected&&(this.filterable&&this.allowCreate&&this.createdSelected&&this.createdLabel?this.selectedLabel=this.createdLabel:this.selectedLabel=this.selected.currentLabel,this.filterable&&(this.query=this.selectedLabel)),this.filterable&&(this.currentPlaceholder=this.cachedPlaceHolder))),this.$emit("visible-change",t)},options:function(){var t=this;if(!this.$isServer){this.$nextTick((function(){t.broadcast("ElSelectDropdown","updatePopper")})),this.multiple&&this.resetInputHeight();var e=this.$el.querySelectorAll("input");-1===[].indexOf.call(e,document.activeElement)&&this.setSelected(),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()}}},methods:{handleNavigate:function(t){this.isOnComposition||this.navigateOptions(t)},handleComposition:function(t){var e=this,n=t.target.value;if("compositionend"===t.type)this.isOnComposition=!1,this.$nextTick((function(t){return e.handleQueryChange(n)}));else{var r=n[n.length-1]||"";this.isOnComposition=!Object(j["isKorean"])(r)}},handleQueryChange:function(t){var e=this;this.previousQuery===t||this.isOnComposition||(null!==this.previousQuery||"function"!==typeof this.filterMethod&&"function"!==typeof this.remoteMethod?(this.previousQuery=t,this.$nextTick((function(){e.visible&&e.broadcast("ElSelectDropdown","updatePopper")})),this.hoverIndex=-1,this.multiple&&this.filterable&&this.$nextTick((function(){var t=15*e.$refs.input.value.length+20;e.inputLength=e.collapseTags?Math.min(50,t):t,e.managePlaceholder(),e.resetInputHeight()})),this.remote&&"function"===typeof this.remoteMethod?(this.hoverIndex=-1,this.remoteMethod(t)):"function"===typeof this.filterMethod?(this.filterMethod(t),this.broadcast("ElOptionGroup","queryChange")):(this.filteredOptionsCount=this.optionsCount,this.broadcast("ElOption","queryChange",t),this.broadcast("ElOptionGroup","queryChange")),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()):this.previousQuery=t)},scrollToOption:function(t){var e=Array.isArray(t)&&t[0]?t[0].$el:t.$el;if(this.$refs.popper&&e){var n=this.$refs.popper.$el.querySelector(".el-select-dropdown__wrap");R()(n,e)}this.$refs.scrollbar&&this.$refs.scrollbar.handleScroll()},handleMenuEnter:function(){var t=this;this.$nextTick((function(){return t.scrollToOption(t.selected)}))},emitChange:function(t){Object(I["valueEquals"])(this.value,t)||this.$emit("change",t)},getOption:function(t){for(var e=void 0,n="[object object]"===Object.prototype.toString.call(t).toLowerCase(),r="[object null]"===Object.prototype.toString.call(t).toLowerCase(),i="[object undefined]"===Object.prototype.toString.call(t).toLowerCase(),o=this.cachedOptions.length-1;o>=0;o--){var a=this.cachedOptions[o],s=n?Object(I["getValueByPath"])(a.value,this.valueKey)===Object(I["getValueByPath"])(t,this.valueKey):a.value===t;if(s){e=a;break}}if(e)return e;var l=n||r||i?"":String(t),c={value:t,currentLabel:l};return this.multiple&&(c.hitState=!1),c},setSelected:function(){var t=this;if(!this.multiple){var e=this.getOption(this.value);return e.created?(this.createdLabel=e.currentLabel,this.createdSelected=!0):this.createdSelected=!1,this.selectedLabel=e.currentLabel,this.selected=e,void(this.filterable&&(this.query=this.selectedLabel))}var n=[];Array.isArray(this.value)&&this.value.forEach((function(e){n.push(t.getOption(e))})),this.selected=n,this.$nextTick((function(){t.resetInputHeight()}))},handleFocus:function(t){this.softFocus?this.softFocus=!1:((this.automaticDropdown||this.filterable)&&(this.filterable&&!this.visible&&(this.menuVisibleOnFocus=!0),this.visible=!0),this.$emit("focus",t))},blur:function(){this.visible=!1,this.$refs.reference.blur()},handleBlur:function(t){var e=this;setTimeout((function(){e.isSilentBlur?e.isSilentBlur=!1:e.$emit("blur",t)}),50),this.softFocus=!1},handleClearClick:function(t){this.deleteSelected(t)},doDestroy:function(){this.$refs.popper&&this.$refs.popper.doDestroy()},handleClose:function(){this.visible=!1},toggleLastOptionHitState:function(t){if(Array.isArray(this.selected)){var e=this.selected[this.selected.length-1];if(e)return!0===t||!1===t?(e.hitState=t,t):(e.hitState=!e.hitState,e.hitState)}},deletePrevTag:function(t){if(t.target.value.length<=0&&!this.toggleLastOptionHitState()){var e=this.value.slice();e.pop(),this.$emit("input",e),this.emitChange(e)}},managePlaceholder:function(){""!==this.currentPlaceholder&&(this.currentPlaceholder=this.$refs.input.value?"":this.cachedPlaceHolder)},resetInputState:function(t){8!==t.keyCode&&this.toggleLastOptionHitState(!1),this.inputLength=15*this.$refs.input.value.length+20,this.resetInputHeight()},resetInputHeight:function(){var t=this;this.collapseTags&&!this.filterable||this.$nextTick((function(){if(t.$refs.reference){var e=t.$refs.reference.$el.childNodes,n=[].filter.call(e,(function(t){return"INPUT"===t.tagName}))[0],r=t.$refs.tags,i=r?Math.round(r.getBoundingClientRect().height):0,o=t.initialInputHeight||40;n.style.height=0===t.selected.length?o+"px":Math.max(r?i+(i>o?6:0):0,o)+"px",t.visible&&!1!==t.emptyText&&t.broadcast("ElSelectDropdown","updatePopper")}}))},resetHoverIndex:function(){var t=this;setTimeout((function(){t.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map((function(e){return t.options.indexOf(e)}))):t.hoverIndex=-1:t.hoverIndex=t.options.indexOf(t.selected)}),300)},handleOptionSelect:function(t,e){var n=this;if(this.multiple){var r=(this.value||[]).slice(),i=this.getValueIndex(r,t.value);i>-1?r.splice(i,1):(this.multipleLimit<=0||r.length<this.multipleLimit)&&r.push(t.value),this.$emit("input",r),this.emitChange(r),t.created&&(this.query="",this.handleQueryChange(""),this.inputLength=20),this.filterable&&this.$refs.input.focus()}else this.$emit("input",t.value),this.emitChange(t.value),this.visible=!1;this.isSilentBlur=e,this.setSoftFocus(),this.visible||this.$nextTick((function(){n.scrollToOption(t)}))},setSoftFocus:function(){this.softFocus=!0;var t=this.$refs.input||this.$refs.reference;t&&t.focus()},getValueIndex:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n="[object object]"===Object.prototype.toString.call(e).toLowerCase();if(n){var r=this.valueKey,i=-1;return t.some((function(t,n){return Object(I["getValueByPath"])(t,r)===Object(I["getValueByPath"])(e,r)&&(i=n,!0)})),i}return t.indexOf(e)},toggleMenu:function(){this.selectDisabled||(this.menuVisibleOnFocus?this.menuVisibleOnFocus=!1:this.visible=!this.visible,this.visible&&(this.$refs.input||this.$refs.reference).focus())},selectOption:function(){this.visible?this.options[this.hoverIndex]&&this.handleOptionSelect(this.options[this.hoverIndex]):this.toggleMenu()},deleteSelected:function(t){t.stopPropagation();var e=this.multiple?[]:"";this.$emit("input",e),this.emitChange(e),this.visible=!1,this.$emit("clear")},deleteTag:function(t,e){var n=this.selected.indexOf(e);if(n>-1&&!this.selectDisabled){var r=this.value.slice();r.splice(n,1),this.$emit("input",r),this.emitChange(r),this.$emit("remove-tag",e.value)}t.stopPropagation()},onInputChange:function(){this.filterable&&this.query!==this.selectedLabel&&(this.query=this.selectedLabel,this.handleQueryChange(this.query))},onOptionDestroy:function(t){t>-1&&(this.optionsCount--,this.filteredOptionsCount--,this.options.splice(t,1))},resetInputWidth:function(){this.inputWidth=this.$refs.reference.$el.getBoundingClientRect().width},handleResize:function(){this.resetInputWidth(),this.multiple&&this.resetInputHeight()},checkDefaultFirstOption:function(){this.hoverIndex=-1;for(var t=!1,e=this.options.length-1;e>=0;e--)if(this.options[e].created){t=!0,this.hoverIndex=e;break}if(!t)for(var n=0;n!==this.options.length;++n){var r=this.options[n];if(this.query){if(!r.disabled&&!r.groupDisabled&&r.visible){this.hoverIndex=n;break}}else if(r.itemSelected){this.hoverIndex=n;break}}},getValueKey:function(t){return"[object object]"!==Object.prototype.toString.call(t.value).toLowerCase()?t.value:Object(I["getValueByPath"])(t.value,this.valueKey)}},created:function(){var t=this;this.cachedPlaceHolder=this.currentPlaceholder=this.propPlaceholder,this.multiple&&!Array.isArray(this.value)&&this.$emit("input",[]),!this.multiple&&Array.isArray(this.value)&&this.$emit("input",""),this.debouncedOnInputChange=k()(this.debounce,(function(){t.onInputChange()})),this.debouncedQueryChange=k()(this.debounce,(function(e){t.handleQueryChange(e.target.value)})),this.$on("handleOptionClick",this.handleOptionSelect),this.$on("setSelected",this.setSelected)},mounted:function(){var t=this;this.multiple&&Array.isArray(this.value)&&this.value.length>0&&(this.currentPlaceholder=""),Object(L["addResizeListener"])(this.$el,this.handleResize);var e=this.$refs.reference;if(e&&e.$el){var n={medium:36,small:32,mini:28},r=e.$el.querySelector("input");this.initialInputHeight=r.getBoundingClientRect().height||n[this.selectSize]}this.remote&&this.multiple&&this.resetInputHeight(),this.$nextTick((function(){e&&e.$el&&(t.inputWidth=e.$el.getBoundingClientRect().width)})),this.setSelected()},beforeDestroy:function(){this.$el&&this.handleResize&&Object(L["removeResizeListener"])(this.$el,this.handleResize)}},D=B,F=Object(b["a"])(D,r,i,!1,null,null,null);F.options.__file="packages/select/src/select.vue";var z=F.exports;z.install=function(t){t.component(z.name,z)};e["default"]=z}})},6694:function(t,e,n){n(7658),t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=136)}({136:function(t,e,n){"use strict";n.r(e);var r=n(3),i={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:"",className:"el-table-column--selection"},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},o={selection:{renderHeader:function(t,e){var n=e.store;return t("el-checkbox",{attrs:{disabled:n.states.data&&0===n.states.data.length,indeterminate:n.states.selection.length>0&&!this.isAllSelected,value:this.isAllSelected},on:{input:this.toggleAllSelection}})},renderCell:function(t,e){var n=e.row,r=e.column,i=e.isSelected,o=e.store,a=e.$index;return t("el-checkbox",{nativeOn:{click:function(t){return t.stopPropagation()}},attrs:{value:i,disabled:!!r.selectable&&!r.selectable.call(null,n,a)},on:{input:function(){o.commit("rowSelectedChanged",n)}}})},sortable:!1,resizable:!1},index:{renderHeader:function(t,e){var n=e.column;return n.label||"#"},renderCell:function(t,e){var n=e.$index,r=e.column,i=n+1,o=r.index;return"number"===typeof o?i=n+o:"function"===typeof o&&(i=o(n)),t("div",[i])},sortable:!1},expand:{renderHeader:function(t,e){var n=e.column;return n.label||""},renderCell:function(t,e){var n=e.row,r=e.store,i=e.isExpanded,o=["el-table__expand-icon"];i&&o.push("el-table__expand-icon--expanded");var a=function(t){t.stopPropagation(),r.toggleRowExpansion(n)};return t("div",{class:o,on:{click:a}},[t("i",{class:"el-icon el-icon-arrow-right"})])},sortable:!1,resizable:!1,className:"el-table__expand-column"}};function a(t,e){var n=e.row,i=e.column,o=e.$index,a=i.property,s=a&&Object(r["getPropByPath"])(n,a).v;return i&&i.formatter?i.formatter(n,i,s,o):s}function s(t,e){var n=e.row,r=e.treeNode,i=e.store;if(!r)return null;var o=[],a=function(t){t.stopPropagation(),i.loadOrToggle(n)};if(r.indent&&o.push(t("span",{class:"el-table__indent",style:{"padding-left":r.indent+"px"}})),"boolean"!==typeof r.expanded||r.noLazyChildren)o.push(t("span",{class:"el-table__placeholder"}));else{var s=["el-table__expand-icon",r.expanded?"el-table__expand-icon--expanded":""],l=["el-icon-arrow-right"];r.loading&&(l=["el-icon-loading"]),o.push(t("div",{class:s,on:{click:a}},[t("i",{class:l})]))}return o}var l=n(8),c=n(18),u=n.n(c),h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=1,d={name:"ElTableColumn",props:{type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{},minWidth:{},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:function(){return["ascending","descending",null]},validator:function(t){return t.every((function(t){return["ascending","descending",null].indexOf(t)>-1}))}}},data:function(){return{isSubColumn:!1,columns:[]}},computed:{owner:function(){var t=this.$parent;while(t&&!t.tableId)t=t.$parent;return t},columnOrTableParent:function(){var t=this.$parent;while(t&&!t.tableId&&!t.columnId)t=t.$parent;return t},realWidth:function(){return Object(l["l"])(this.width)},realMinWidth:function(){return Object(l["k"])(this.minWidth)},realAlign:function(){return this.align?"is-"+this.align:null},realHeaderAlign:function(){return this.headerAlign?"is-"+this.headerAlign:this.realAlign}},methods:{getPropsData:function(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.reduce((function(e,n){return Array.isArray(n)&&n.forEach((function(n){e[n]=t[n]})),e}),{})},getColumnElIndex:function(t,e){return[].indexOf.call(t,e)},setColumnWidth:function(t){return this.realWidth&&(t.width=this.realWidth),this.realMinWidth&&(t.minWidth=this.realMinWidth),t.minWidth||(t.minWidth=80),t.realWidth=void 0===t.width?t.minWidth:t.width,t},setColumnForcedProps:function(t){var e=t.type,n=o[e]||{};return Object.keys(n).forEach((function(e){var r=n[e];void 0!==r&&(t[e]="className"===e?t[e]+" "+r:r)})),t},setColumnRenders:function(t){var e=this;this.$createElement;this.renderHeader?console.warn("[Element Warn][TableColumn]Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header."):"selection"!==t.type&&(t.renderHeader=function(n,r){var i=e.$scopedSlots.header;return i?i(r):t.label});var n=t.renderCell;return"expand"===t.type?(t.renderCell=function(t,e){return t("div",{class:"cell"},[n(t,e)])},this.owner.renderExpanded=function(t,n){return e.$scopedSlots.default?e.$scopedSlots.default(n):e.$slots.default}):(n=n||a,t.renderCell=function(r,i){var o=null;o=e.$scopedSlots.default?e.$scopedSlots.default(i):n(r,i);var a=s(r,i),l={class:"cell",style:{}};return t.showOverflowTooltip&&(l.class+=" el-tooltip",l.style={width:(i.column.realWidth||i.column.width)-1+"px"}),r("div",l,[a,o])}),t},registerNormalWatchers:function(){var t=this,e=["label","property","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],n={prop:"property",realAlign:"align",realHeaderAlign:"headerAlign",realWidth:"width"},r=e.reduce((function(t,e){return t[e]=e,t}),n);Object.keys(r).forEach((function(e){var r=n[e];t.$watch(e,(function(e){t.columnConfig[r]=e}))}))},registerComplexWatchers:function(){var t=this,e=["fixed"],n={realWidth:"width",realMinWidth:"minWidth"},r=e.reduce((function(t,e){return t[e]=e,t}),n);Object.keys(r).forEach((function(e){var r=n[e];t.$watch(e,(function(e){t.columnConfig[r]=e;var n="fixed"===r;t.owner.store.scheduleLayout(n)}))}))}},components:{ElCheckbox:u.a},beforeCreate:function(){this.row={},this.column={},this.$index=0,this.columnId=""},created:function(){var t=this.columnOrTableParent;this.isSubColumn=this.owner!==t,this.columnId=(t.tableId||t.columnId)+"_column_"+f++;var e=this.type||"default",n=""===this.sortable||this.sortable,r=h({},i[e],{id:this.columnId,type:e,property:this.prop||this.property,align:this.realAlign,headerAlign:this.realHeaderAlign,showOverflowTooltip:this.showOverflowTooltip||this.showTooltipWhenOverflow,filterable:this.filters||this.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,filterOpened:!1,sortable:n,index:this.index}),o=["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],a=["sortMethod","sortBy","sortOrders"],s=["selectable","reserveSelection"],c=["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"],u=this.getPropsData(o,a,s,c);u=Object(l["h"])(r,u);var d=Object(l["a"])(this.setColumnRenders,this.setColumnWidth,this.setColumnForcedProps);u=d(u),this.columnConfig=u,this.registerNormalWatchers(),this.registerComplexWatchers()},mounted:function(){var t=this.owner,e=this.columnOrTableParent,n=this.isSubColumn?e.$el.children:e.$refs.hiddenColumns.children,r=this.getColumnElIndex(n,this.$el);t.store.commit("insertColumn",this.columnConfig,r,this.isSubColumn?e.columnConfig:null)},destroyed:function(){if(this.$parent){var t=this.$parent;this.owner.store.commit("removeColumn",this.columnConfig,this.isSubColumn?t.columnConfig:null)}},render:function(t){return t("div",this.$slots.default)},install:function(t){t.component(d.name,d)}};e["default"]=d},18:function(t,e){t.exports=n(8972)},3:function(t,e){t.exports=n(8501)},8:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"i",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"g",(function(){return h})),n.d(e,"f",(function(){return f})),n.d(e,"h",(function(){return p})),n.d(e,"l",(function(){return v})),n.d(e,"k",(function(){return g})),n.d(e,"j",(function(){return y})),n.d(e,"a",(function(){return m})),n.d(e,"m",(function(){return b})),n.d(e,"n",(function(){return x}));var r=n(3),i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t){var e=t.target;while(e&&"HTML"!==e.tagName.toUpperCase()){if("TD"===e.tagName.toUpperCase())return e;e=e.parentNode}return null},a=function(t){return null!==t&&"object"===("undefined"===typeof t?"undefined":i(t))},s=function(t,e,n,i,o){if(!e&&!i&&(!o||Array.isArray(o)&&!o.length))return t;n="string"===typeof n?"descending"===n?-1:1:n&&n<0?-1:1;var s=i?null:function(n,i){return o?(Array.isArray(o)||(o=[o]),o.map((function(e){return"string"===typeof e?Object(r["getValueByPath"])(n,e):e(n,i,t)}))):("$key"!==e&&a(n)&&"$value"in n&&(n=n.$value),[a(n)?Object(r["getValueByPath"])(n,e):n])},l=function(t,e){if(i)return i(t.value,e.value);for(var n=0,r=t.key.length;n<r;n++){if(t.key[n]<e.key[n])return-1;if(t.key[n]>e.key[n])return 1}return 0};return t.map((function(t,e){return{value:t,index:e,key:s?s(t,e):null}})).sort((function(t,e){var r=l(t,e);return r||(r=t.index-e.index),r*n})).map((function(t){return t.value}))},l=function(t,e){var n=null;return t.columns.forEach((function(t){t.id===e&&(n=t)})),n},c=function(t,e){for(var n=null,r=0;r<t.columns.length;r++){var i=t.columns[r];if(i.columnKey===e){n=i;break}}return n},u=function(t,e){var n=(e.className||"").match(/el-table_[^\s]+/gm);return n?l(t,n[0]):null},h=function(t,e){if(!t)throw new Error("row is required when get row identity");if("string"===typeof e){if(e.indexOf(".")<0)return t[e];for(var n=e.split("."),r=t,i=0;i<n.length;i++)r=r[n[i]];return r}if("function"===typeof e)return e.call(null,t)},f=function(t,e){var n={};return(t||[]).forEach((function(t,r){n[h(t,e)]={row:t,index:r}})),n};function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function p(t,e){var n={},r=void 0;for(r in t)n[r]=t[r];for(r in e)if(d(e,r)){var i=e[r];"undefined"!==typeof i&&(n[r]=i)}return n}function v(t){return void 0!==t&&(t=parseInt(t,10),isNaN(t)&&(t=null)),t}function g(t){return"undefined"!==typeof t&&(t=v(t),isNaN(t)&&(t=80)),t}function y(t){return"number"===typeof t?t:"string"===typeof t?/^\d+(?:px)?$/.test(t)?parseInt(t,10):t:null}function m(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function b(t,e,n){var r=!1,i=t.indexOf(e),o=-1!==i,a=function(){t.push(e),r=!0},s=function(){t.splice(i,1),r=!0};return"boolean"===typeof n?n&&!o?a():!n&&o&&s():o?s():a(),r}function x(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hasChildren",i=function(t){return!(Array.isArray(t)&&t.length)};function o(t,a,s){e(t,a,s),a.forEach((function(t){if(t[r])e(t,null,s+1);else{var a=t[n];i(a)||o(t,a,s+1)}}))}t.forEach((function(t){if(t[r])e(t,null,0);else{var a=t[n];i(a)||o(t,a,0)}}))}}})},59:function(t,e,n){n(7658),t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=58)}([function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},,function(t,e){t.exports=n(1610)},function(t,e){t.exports=n(8501)},,function(t,e){t.exports=n(2155)},function(t,e){t.exports=n(2373)},function(t,e){t.exports=n(7195)},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"i",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"g",(function(){return h})),n.d(e,"f",(function(){return f})),n.d(e,"h",(function(){return p})),n.d(e,"l",(function(){return v})),n.d(e,"k",(function(){return g})),n.d(e,"j",(function(){return y})),n.d(e,"a",(function(){return m})),n.d(e,"m",(function(){return b})),n.d(e,"n",(function(){return x}));var r=n(3),i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t){var e=t.target;while(e&&"HTML"!==e.tagName.toUpperCase()){if("TD"===e.tagName.toUpperCase())return e;e=e.parentNode}return null},a=function(t){return null!==t&&"object"===("undefined"===typeof t?"undefined":i(t))},s=function(t,e,n,i,o){if(!e&&!i&&(!o||Array.isArray(o)&&!o.length))return t;n="string"===typeof n?"descending"===n?-1:1:n&&n<0?-1:1;var s=i?null:function(n,i){return o?(Array.isArray(o)||(o=[o]),o.map((function(e){return"string"===typeof e?Object(r["getValueByPath"])(n,e):e(n,i,t)}))):("$key"!==e&&a(n)&&"$value"in n&&(n=n.$value),[a(n)?Object(r["getValueByPath"])(n,e):n])},l=function(t,e){if(i)return i(t.value,e.value);for(var n=0,r=t.key.length;n<r;n++){if(t.key[n]<e.key[n])return-1;if(t.key[n]>e.key[n])return 1}return 0};return t.map((function(t,e){return{value:t,index:e,key:s?s(t,e):null}})).sort((function(t,e){var r=l(t,e);return r||(r=t.index-e.index),r*n})).map((function(t){return t.value}))},l=function(t,e){var n=null;return t.columns.forEach((function(t){t.id===e&&(n=t)})),n},c=function(t,e){for(var n=null,r=0;r<t.columns.length;r++){var i=t.columns[r];if(i.columnKey===e){n=i;break}}return n},u=function(t,e){var n=(e.className||"").match(/el-table_[^\s]+/gm);return n?l(t,n[0]):null},h=function(t,e){if(!t)throw new Error("row is required when get row identity");if("string"===typeof e){if(e.indexOf(".")<0)return t[e];for(var n=e.split("."),r=t,i=0;i<n.length;i++)r=r[n[i]];return r}if("function"===typeof e)return e.call(null,t)},f=function(t,e){var n={};return(t||[]).forEach((function(t,r){n[h(t,e)]={row:t,index:r}})),n};function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function p(t,e){var n={},r=void 0;for(r in t)n[r]=t[r];for(r in e)if(d(e,r)){var i=e[r];"undefined"!==typeof i&&(n[r]=i)}return n}function v(t){return void 0!==t&&(t=parseInt(t,10),isNaN(t)&&(t=null)),t}function g(t){return"undefined"!==typeof t&&(t=v(t),isNaN(t)&&(t=80)),t}function y(t){return"number"===typeof t?t:"string"===typeof t?/^\d+(?:px)?$/.test(t)?parseInt(t,10):t:null}function m(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function b(t,e,n){var r=!1,i=t.indexOf(e),o=-1!==i,a=function(){t.push(e),r=!0},s=function(){t.splice(i,1),r=!0};return"boolean"===typeof n?n&&!o?a():!n&&o&&s():o?s():a(),r}function x(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hasChildren",i=function(t){return!(Array.isArray(t)&&t.length)};function o(t,a,s){e(t,a,s),a.forEach((function(t){if(t[r])e(t,null,s+1);else{var a=t[n];i(a)||o(t,a,s+1)}}))}t.forEach((function(t){if(t[r])e(t,null,0);else{var a=t[n];i(a)||o(t,a,0)}}))}},function(t,e){t.exports=n(2198)},,function(t,e){t.exports=n(5365)},function(t,e){t.exports=n(3949)},function(t,e){t.exports=n(7474)},,function(t,e){t.exports=n(3032)},function(t,e){t.exports=n(1432)},,function(t,e){t.exports=n(8972)},function(t,e){t.exports=n(6902)},,,,,,,,,,function(t,e){t.exports=n(1804)},,,,,,,,,,function(t,e){t.exports=n(5713)},function(t,e){t.exports=n(6997)},,,,function(t,e){t.exports=n(1009)},,,function(t,e){t.exports=n(3644)},,,,,,,,,,,function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"el-table",class:[{"el-table--fit":t.fit,"el-table--striped":t.stripe,"el-table--border":t.border||t.isGroup,"el-table--hidden":t.isHidden,"el-table--group":t.isGroup,"el-table--fluid-height":t.maxHeight,"el-table--scrollable-x":t.layout.scrollX,"el-table--scrollable-y":t.layout.scrollY,"el-table--enable-row-hover":!t.store.states.isComplex,"el-table--enable-row-transition":0!==(t.store.states.data||[]).length&&(t.store.states.data||[]).length<100},t.tableSize?"el-table--"+t.tableSize:""],on:{mouseleave:function(e){t.handleMouseLeave(e)}}},[n("div",{ref:"hiddenColumns",staticClass:"hidden-columns"},[t._t("default")],2),t.showHeader?n("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:t.handleHeaderFooterMousewheel,expression:"handleHeaderFooterMousewheel"}],ref:"headerWrapper",staticClass:"el-table__header-wrapper"},[n("table-header",{ref:"tableHeader",style:{width:t.layout.bodyWidth?t.layout.bodyWidth+"px":""},attrs:{store:t.store,border:t.border,"default-sort":t.defaultSort}})],1):t._e(),n("div",{ref:"bodyWrapper",staticClass:"el-table__body-wrapper",class:[t.layout.scrollX?"is-scrolling-"+t.scrollPosition:"is-scrolling-none"],style:[t.bodyHeight]},[n("table-body",{style:{width:t.bodyWidth},attrs:{context:t.context,store:t.store,stripe:t.stripe,"row-class-name":t.rowClassName,"row-style":t.rowStyle,highlight:t.highlightCurrentRow}}),t.data&&0!==t.data.length?t._e():n("div",{ref:"emptyBlock",staticClass:"el-table__empty-block",style:t.emptyBlockStyle},[n("span",{staticClass:"el-table__empty-text"},[t._t("empty",[t._v(t._s(t.emptyText||t.t("el.table.emptyText")))])],2)]),t.$slots.append?n("div",{ref:"appendWrapper",staticClass:"el-table__append-wrapper"},[t._t("append")],2):t._e()],1),t.showSummary?n("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&t.data.length>0,expression:"data && data.length > 0"},{name:"mousewheel",rawName:"v-mousewheel",value:t.handleHeaderFooterMousewheel,expression:"handleHeaderFooterMousewheel"}],ref:"footerWrapper",staticClass:"el-table__footer-wrapper"},[n("table-footer",{style:{width:t.layout.bodyWidth?t.layout.bodyWidth+"px":""},attrs:{store:t.store,border:t.border,"sum-text":t.sumText||t.t("el.table.sumText"),"summary-method":t.summaryMethod,"default-sort":t.defaultSort}})],1):t._e(),t.fixedColumns.length>0?n("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:t.handleFixedMousewheel,expression:"handleFixedMousewheel"}],ref:"fixedWrapper",staticClass:"el-table__fixed",style:[{width:t.layout.fixedWidth?t.layout.fixedWidth+"px":""},t.fixedHeight]},[t.showHeader?n("div",{ref:"fixedHeaderWrapper",staticClass:"el-table__fixed-header-wrapper"},[n("table-header",{ref:"fixedTableHeader",style:{width:t.bodyWidth},attrs:{fixed:"left",border:t.border,store:t.store}})],1):t._e(),n("div",{ref:"fixedBodyWrapper",staticClass:"el-table__fixed-body-wrapper",style:[{top:t.layout.headerHeight+"px"},t.fixedBodyHeight]},[n("table-body",{style:{width:t.bodyWidth},attrs:{fixed:"left",store:t.store,stripe:t.stripe,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"row-style":t.rowStyle}}),t.$slots.append?n("div",{staticClass:"el-table__append-gutter",style:{height:t.layout.appendHeight+"px"}}):t._e()],1),t.showSummary?n("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&t.data.length>0,expression:"data && data.length > 0"}],ref:"fixedFooterWrapper",staticClass:"el-table__fixed-footer-wrapper"},[n("table-footer",{style:{width:t.bodyWidth},attrs:{fixed:"left",border:t.border,"sum-text":t.sumText||t.t("el.table.sumText"),"summary-method":t.summaryMethod,store:t.store}})],1):t._e()]):t._e(),t.rightFixedColumns.length>0?n("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:t.handleFixedMousewheel,expression:"handleFixedMousewheel"}],ref:"rightFixedWrapper",staticClass:"el-table__fixed-right",style:[{width:t.layout.rightFixedWidth?t.layout.rightFixedWidth+"px":"",right:t.layout.scrollY?(t.border?t.layout.gutterWidth:t.layout.gutterWidth||0)+"px":""},t.fixedHeight]},[t.showHeader?n("div",{ref:"rightFixedHeaderWrapper",staticClass:"el-table__fixed-header-wrapper"},[n("table-header",{ref:"rightFixedTableHeader",style:{width:t.bodyWidth},attrs:{fixed:"right",border:t.border,store:t.store}})],1):t._e(),n("div",{ref:"rightFixedBodyWrapper",staticClass:"el-table__fixed-body-wrapper",style:[{top:t.layout.headerHeight+"px"},t.fixedBodyHeight]},[n("table-body",{style:{width:t.bodyWidth},attrs:{fixed:"right",store:t.store,stripe:t.stripe,"row-class-name":t.rowClassName,"row-style":t.rowStyle,highlight:t.highlightCurrentRow}}),t.$slots.append?n("div",{staticClass:"el-table__append-gutter",style:{height:t.layout.appendHeight+"px"}}):t._e()],1),t.showSummary?n("div",{directives:[{name:"show",rawName:"v-show",value:t.data&&t.data.length>0,expression:"data && data.length > 0"}],ref:"rightFixedFooterWrapper",staticClass:"el-table__fixed-footer-wrapper"},[n("table-footer",{style:{width:t.bodyWidth},attrs:{fixed:"right",border:t.border,"sum-text":t.sumText||t.t("el.table.sumText"),"summary-method":t.summaryMethod,store:t.store}})],1):t._e()]):t._e(),t.rightFixedColumns.length>0?n("div",{ref:"rightFixedPatch",staticClass:"el-table__fixed-right-patch",style:{width:t.layout.scrollY?t.layout.gutterWidth+"px":"0",height:t.layout.headerHeight+"px"}}):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.resizeProxyVisible,expression:"resizeProxyVisible"}],ref:"resizeProxy",staticClass:"el-table__column-resize-proxy"})])},i=[];r._withStripped=!0;var o=n(18),a=n.n(o),s=n(44),l=n(16),c=n(47),u=n.n(c),h="undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,f=function(t,e){t&&t.addEventListener&&t.addEventListener(h?"DOMMouseScroll":"mousewheel",(function(t){var n=u()(t);e&&e.apply(this,[t,n])}))},d={bind:function(t,e){f(t,e.value)}},p=n(6),v=n.n(p),g=n(11),y=n.n(g),m=n(7),b=n.n(m),x=n(9),w=n.n(x),O=n(8),C={data:function(){return{states:{defaultExpandAll:!1,expandRows:[]}}},methods:{updateExpandRows:function(){var t=this.states,e=t.data,n=void 0===e?[]:e,r=t.rowKey,i=t.defaultExpandAll,o=t.expandRows;if(i)this.states.expandRows=n.slice();else if(r){var a=Object(O["f"])(o,r);this.states.expandRows=n.reduce((function(t,e){var n=Object(O["g"])(e,r),i=a[n];return i&&t.push(e),t}),[])}else this.states.expandRows=[]},toggleRowExpansion:function(t,e){var n=Object(O["m"])(this.states.expandRows,t,e);n&&(this.table.$emit("expand-change",t,this.states.expandRows.slice()),this.scheduleLayout())},setExpandRowKeys:function(t){this.assertRowKey();var e=this.states,n=e.data,r=e.rowKey,i=Object(O["f"])(n,r);this.states.expandRows=t.reduce((function(t,e){var n=i[e];return n&&t.push(n.row),t}),[])},isRowExpanded:function(t){var e=this.states,n=e.expandRows,r=void 0===n?[]:n,i=e.rowKey;if(i){var o=Object(O["f"])(r,i);return!!o[Object(O["g"])(t,i)]}return-1!==r.indexOf(t)}}},S=n(3),_={data:function(){return{states:{_currentRowKey:null,currentRow:null}}},methods:{setCurrentRowKey:function(t){this.assertRowKey(),this.states._currentRowKey=t,this.setCurrentRowByKey(t)},restoreCurrentRowKey:function(){this.states._currentRowKey=null},setCurrentRowByKey:function(t){var e=this.states,n=e.data,r=void 0===n?[]:n,i=e.rowKey,o=null;i&&(o=Object(S["arrayFind"])(r,(function(e){return Object(O["g"])(e,i)===t}))),e.currentRow=o},updateCurrentRow:function(t){var e=this.states,n=this.table,r=e.currentRow;if(t&&t!==r)return e.currentRow=t,void n.$emit("current-change",t,r);!t&&r&&(e.currentRow=null,n.$emit("current-change",null,r))},updateCurrentRowData:function(){var t=this.states,e=this.table,n=t.rowKey,r=t._currentRowKey,i=t.data||[],o=t.currentRow;if(-1===i.indexOf(o)&&o){if(n){var a=Object(O["g"])(o,n);this.setCurrentRowByKey(a)}else t.currentRow=null;null===t.currentRow&&e.$emit("current-change",null,o)}else r&&(this.setCurrentRowByKey(r),this.restoreCurrentRowKey())}}},E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M={data:function(){return{states:{expandRowKeys:[],treeData:{},indent:16,lazy:!1,lazyTreeNodeMap:{},lazyColumnIdentifier:"hasChildren",childrenColumnName:"children"}}},computed:{normalizedData:function(){if(!this.states.rowKey)return{};var t=this.states.data||[];return this.normalize(t)},normalizedLazyNode:function(){var t=this.states,e=t.rowKey,n=t.lazyTreeNodeMap,r=t.lazyColumnIdentifier,i=Object.keys(n),o={};return i.length?(i.forEach((function(t){if(n[t].length){var i={children:[]};n[t].forEach((function(t){var n=Object(O["g"])(t,e);i.children.push(n),t[r]&&!o[n]&&(o[n]={children:[]})})),o[t]=i}})),o):o}},watch:{normalizedData:"updateTreeData",normalizedLazyNode:"updateTreeData"},methods:{normalize:function(t){var e=this.states,n=e.childrenColumnName,r=e.lazyColumnIdentifier,i=e.rowKey,o=e.lazy,a={};return Object(O["n"])(t,(function(t,e,n){var r=Object(O["g"])(t,i);Array.isArray(e)?a[r]={children:e.map((function(t){return Object(O["g"])(t,i)})),level:n}:o&&(a[r]={children:[],lazy:!0,level:n})}),n,r),a},updateTreeData:function(){var t=this.normalizedData,e=this.normalizedLazyNode,n=Object.keys(t),r={};if(n.length){var i=this.states,o=i.treeData,a=i.defaultExpandAll,s=i.expandRowKeys,l=i.lazy,c=[],u=function(t,e){var n=a||s&&-1!==s.indexOf(e);return!!(t&&t.expanded||n)};n.forEach((function(e){var n=o[e],i=E({},t[e]);if(i.expanded=u(n,e),i.lazy){var a=n||{},s=a.loaded,l=void 0!==s&&s,h=a.loading,f=void 0!==h&&h;i.loaded=!!l,i.loading=!!f,c.push(e)}r[e]=i}));var h=Object.keys(e);l&&h.length&&c.length&&h.forEach((function(t){var n=o[t],i=e[t].children;if(-1!==c.indexOf(t)){if(0!==r[t].children.length)throw new Error("[ElTable]children must be an empty array.");r[t].children=i}else{var a=n||{},s=a.loaded,l=void 0!==s&&s,h=a.loading,f=void 0!==h&&h;r[t]={lazy:!0,loaded:!!l,loading:!!f,expanded:u(n,t),children:i,level:""}}}))}this.states.treeData=r,this.updateTableScrollY()},updateTreeExpandKeys:function(t){this.states.expandRowKeys=t,this.updateTreeData()},toggleTreeExpansion:function(t,e){this.assertRowKey();var n=this.states,r=n.rowKey,i=n.treeData,o=Object(O["g"])(t,r),a=o&&i[o];if(o&&a&&"expanded"in a){var s=a.expanded;e="undefined"===typeof e?!a.expanded:e,i[o].expanded=e,s!==e&&this.table.$emit("expand-change",t,e),this.updateTableScrollY()}},loadOrToggle:function(t){this.assertRowKey();var e=this.states,n=e.lazy,r=e.treeData,i=e.rowKey,o=Object(O["g"])(t,i),a=r[o];n&&a&&"loaded"in a&&!a.loaded?this.loadData(t,o,a):this.toggleTreeExpansion(t)},loadData:function(t,e,n){var r=this,i=this.table.load,o=this.states.treeData;i&&!o[e].loaded&&(o[e].loading=!0,i(t,n,(function(n){if(!Array.isArray(n))throw new Error("[ElTable] data must be an array");var i=r.states,o=i.lazyTreeNodeMap,a=i.treeData;a[e].loading=!1,a[e].loaded=!0,a[e].expanded=!0,n.length&&r.$set(o,e,n),r.table.$emit("expand-change",t,!0)})))}}},k=function(t,e){var n=e.sortingColumn;return n&&"string"!==typeof n.sortable?Object(O["i"])(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy):t},T=function t(e){var n=[];return e.forEach((function(e){e.children?n.push.apply(n,t(e.children)):n.push(e)})),n},A=b.a.extend({data:function(){return{states:{rowKey:null,data:[],isComplex:!1,_columns:[],originColumns:[],columns:[],fixedColumns:[],rightFixedColumns:[],leafColumns:[],fixedLeafColumns:[],rightFixedLeafColumns:[],leafColumnsLength:0,fixedLeafColumnsLength:0,rightFixedLeafColumnsLength:0,isAllSelected:!1,selection:[],reserveSelection:!1,selectOnIndeterminate:!1,selectable:null,filters:{},filteredData:null,sortingColumn:null,sortProp:null,sortOrder:null,hoverRow:null}}},mixins:[C,_,M],methods:{assertRowKey:function(){var t=this.states.rowKey;if(!t)throw new Error("[ElTable] prop row-key is required")},updateColumns:function(){var t=this.states,e=t._columns||[];t.fixedColumns=e.filter((function(t){return!0===t.fixed||"left"===t.fixed})),t.rightFixedColumns=e.filter((function(t){return"right"===t.fixed})),t.fixedColumns.length>0&&e[0]&&"selection"===e[0].type&&!e[0].fixed&&(e[0].fixed=!0,t.fixedColumns.unshift(e[0]));var n=e.filter((function(t){return!t.fixed}));t.originColumns=[].concat(t.fixedColumns).concat(n).concat(t.rightFixedColumns);var r=T(n),i=T(t.fixedColumns),o=T(t.rightFixedColumns);t.leafColumnsLength=r.length,t.fixedLeafColumnsLength=i.length,t.rightFixedLeafColumnsLength=o.length,t.columns=[].concat(i).concat(r).concat(o),t.isComplex=t.fixedColumns.length>0||t.rightFixedColumns.length>0},scheduleLayout:function(t){t&&this.updateColumns(),this.table.debouncedUpdateLayout()},isSelected:function(t){var e=this.states.selection,n=void 0===e?[]:e;return n.indexOf(t)>-1},clearSelection:function(){var t=this.states;t.isAllSelected=!1;var e=t.selection;e.length&&(t.selection=[],this.table.$emit("selection-change",[]))},cleanSelection:function(){var t=this.states,e=t.data,n=t.rowKey,r=t.selection,i=void 0;if(n){i=[];var o=Object(O["f"])(r,n),a=Object(O["f"])(e,n);for(var s in o)o.hasOwnProperty(s)&&!a[s]&&i.push(o[s].row)}else i=r.filter((function(t){return-1===e.indexOf(t)}));if(i.length){var l=r.filter((function(t){return-1===i.indexOf(t)}));t.selection=l,this.table.$emit("selection-change",l.slice())}},toggleRowSelection:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Object(O["m"])(this.states.selection,t,e);if(r){var i=(this.states.selection||[]).slice();n&&this.table.$emit("select",i,t),this.table.$emit("selection-change",i)}},_toggleAllSelection:function(){var t=this.states,e=t.data,n=void 0===e?[]:e,r=t.selection,i=t.selectOnIndeterminate?!t.isAllSelected:!(t.isAllSelected||r.length);t.isAllSelected=i;var o=!1;n.forEach((function(e,n){t.selectable?t.selectable.call(null,e,n)&&Object(O["m"])(r,e,i)&&(o=!0):Object(O["m"])(r,e,i)&&(o=!0)})),o&&this.table.$emit("selection-change",r?r.slice():[]),this.table.$emit("select-all",r)},updateSelectionByRowKey:function(){var t=this.states,e=t.selection,n=t.rowKey,r=t.data,i=Object(O["f"])(e,n);r.forEach((function(t){var r=Object(O["g"])(t,n),o=i[r];o&&(e[o.index]=t)}))},updateAllSelected:function(){var t=this.states,e=t.selection,n=t.rowKey,r=t.selectable,i=t.data||[];if(0!==i.length){var o=void 0;n&&(o=Object(O["f"])(e,n));for(var a=function(t){return o?!!o[Object(O["g"])(t,n)]:-1!==e.indexOf(t)},s=!0,l=0,c=0,u=i.length;c<u;c++){var h=i[c],f=r&&r.call(null,h,c);if(a(h))l++;else if(!r||f){s=!1;break}}0===l&&(s=!1),t.isAllSelected=s}else t.isAllSelected=!1},updateFilters:function(t,e){Array.isArray(t)||(t=[t]);var n=this.states,r={};return t.forEach((function(t){n.filters[t.id]=e,r[t.columnKey||t.id]=e})),r},updateSort:function(t,e,n){this.states.sortingColumn&&this.states.sortingColumn!==t&&(this.states.sortingColumn.order=null),this.states.sortingColumn=t,this.states.sortProp=e,this.states.sortOrder=n},execFilter:function(){var t=this,e=this.states,n=e._data,r=e.filters,i=n;Object.keys(r).forEach((function(n){var r=e.filters[n];if(r&&0!==r.length){var o=Object(O["d"])(t.states,n);o&&o.filterMethod&&(i=i.filter((function(t){return r.some((function(e){return o.filterMethod.call(null,e,t,o)}))})))}})),e.filteredData=i},execSort:function(){var t=this.states;t.data=k(t.filteredData,t)},execQuery:function(t){t&&t.filter||this.execFilter(),this.execSort()},clearFilter:function(t){var e=this.states,n=this.table.$refs,r=n.tableHeader,i=n.fixedTableHeader,o=n.rightFixedTableHeader,a={};r&&(a=w()(a,r.filterPanels)),i&&(a=w()(a,i.filterPanels)),o&&(a=w()(a,o.filterPanels));var s=Object.keys(a);if(s.length)if("string"===typeof t&&(t=[t]),Array.isArray(t)){var l=t.map((function(t){return Object(O["e"])(e,t)}));s.forEach((function(t){var e=l.find((function(e){return e.id===t}));e&&(a[t].filteredValue=[])})),this.commit("filterChange",{column:l,values:[],silent:!0,multi:!0})}else s.forEach((function(t){a[t].filteredValue=[]})),e.filters={},this.commit("filterChange",{column:{},values:[],silent:!0})},clearSort:function(){var t=this.states;t.sortingColumn&&(this.updateSort(null,null,null),this.commit("changeSortCondition",{silent:!0}))},setExpandRowKeysAdapter:function(t){this.setExpandRowKeys(t),this.updateTreeExpandKeys(t)},toggleRowExpansionAdapter:function(t,e){var n=this.states.columns.some((function(t){var e=t.type;return"expand"===e}));n?this.toggleRowExpansion(t,e):this.toggleTreeExpansion(t,e)}}});A.prototype.mutations={setData:function(t,e){var n=t._data!==e;t._data=e,this.execQuery(),this.updateCurrentRowData(),this.updateExpandRows(),t.reserveSelection?(this.assertRowKey(),this.updateSelectionByRowKey()):n?this.clearSelection():this.cleanSelection(),this.updateAllSelected(),this.updateTableScrollY()},insertColumn:function(t,e,n,r){var i=t._columns;r&&(i=r.children,i||(i=r.children=[])),"undefined"!==typeof n?i.splice(n,0,e):i.push(e),"selection"===e.type&&(t.selectable=e.selectable,t.reserveSelection=e.reserveSelection),this.table.$ready&&(this.updateColumns(),this.scheduleLayout())},removeColumn:function(t,e,n){var r=t._columns;n&&(r=n.children,r||(r=n.children=[])),r&&r.splice(r.indexOf(e),1),this.table.$ready&&(this.updateColumns(),this.scheduleLayout())},sort:function(t,e){var n=e.prop,r=e.order,i=e.init;if(n){var o=Object(S["arrayFind"])(t.columns,(function(t){return t.property===n}));o&&(o.order=r,this.updateSort(o,n,r),this.commit("changeSortCondition",{init:i}))}},changeSortCondition:function(t,e){var n=t.sortingColumn,r=t.sortProp,i=t.sortOrder;null===i&&(t.sortingColumn=null,t.sortProp=null);var o={filter:!0};this.execQuery(o),e&&(e.silent||e.init)||this.table.$emit("sort-change",{column:n,prop:r,order:i}),this.updateTableScrollY()},filterChange:function(t,e){var n=e.column,r=e.values,i=e.silent,o=this.updateFilters(n,r);this.execQuery(),i||this.table.$emit("filter-change",o),this.updateTableScrollY()},toggleAllSelection:function(){this.toggleAllSelection()},rowSelectedChanged:function(t,e){this.toggleRowSelection(e),this.updateAllSelected()},setHoverRow:function(t,e){t.hoverRow=e},setCurrentRow:function(t,e){this.updateCurrentRow(e)}},A.prototype.commit=function(t){var e=this.mutations;if(!e[t])throw new Error("Action not found: "+t);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e[t].apply(this,[this.states].concat(r))},A.prototype.updateTableScrollY=function(){b.a.nextTick(this.table.updateScrollY)};var L=A,P=n(19),R=n.n(P);function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("Table is required.");var n=new L;return n.table=t,n.toggleAllSelection=R()(10,n._toggleAllSelection),Object.keys(e).forEach((function(t){n.states[t]=e[t]})),n}function N(t){var e={};return Object.keys(t).forEach((function(n){var r=t[n],i=void 0;"string"===typeof r?i=function(){return this.store.states[r]}:"function"===typeof r?i=function(){return r.call(this,this.store.states)}:console.error("invalid value type"),i&&(e[n]=i)})),e}var j=n(39),B=n.n(j);function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var F=function(){function t(e){for(var n in D(this,t),this.observers=[],this.table=null,this.store=null,this.columns=null,this.fit=!0,this.showHeader=!0,this.height=null,this.scrollX=!1,this.scrollY=!1,this.bodyWidth=null,this.fixedWidth=null,this.rightFixedWidth=null,this.tableHeight=null,this.headerHeight=44,this.appendHeight=0,this.footerHeight=44,this.viewportHeight=null,this.bodyHeight=null,this.fixedBodyHeight=null,this.gutterWidth=B()(),e)e.hasOwnProperty(n)&&(this[n]=e[n]);if(!this.table)throw new Error("table is required for Table Layout");if(!this.store)throw new Error("store is required for Table Layout")}return t.prototype.updateScrollY=function(){var t=this.height;if(null===t)return!1;var e=this.table.bodyWrapper;if(this.table.$el&&e){var n=e.querySelector(".el-table__body"),r=this.scrollY,i=n.offsetHeight>this.bodyHeight;return this.scrollY=i,r!==i}return!1},t.prototype.setHeight=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"height";if(!b.a.prototype.$isServer){var r=this.table.$el;if(t=Object(O["j"])(t),this.height=t,!r&&(t||0===t))return b.a.nextTick((function(){return e.setHeight(t,n)}));"number"===typeof t?(r.style[n]=t+"px",this.updateElsHeight()):"string"===typeof t&&(r.style[n]=t,this.updateElsHeight())}},t.prototype.setMaxHeight=function(t){this.setHeight(t,"max-height")},t.prototype.getFlattenColumns=function(){var t=[],e=this.table.columns;return e.forEach((function(e){e.isColumnGroup?t.push.apply(t,e.columns):t.push(e)})),t},t.prototype.updateElsHeight=function(){var t=this;if(!this.table.$ready)return b.a.nextTick((function(){return t.updateElsHeight()}));var e=this.table.$refs,n=e.headerWrapper,r=e.appendWrapper,i=e.footerWrapper;if(this.appendHeight=r?r.offsetHeight:0,!this.showHeader||n){var o=n?n.querySelector(".el-table__header tr"):null,a=this.headerDisplayNone(o),s=this.headerHeight=this.showHeader?n.offsetHeight:0;if(this.showHeader&&!a&&n.offsetWidth>0&&(this.table.columns||[]).length>0&&s<2)return b.a.nextTick((function(){return t.updateElsHeight()}));var l=this.tableHeight=this.table.$el.clientHeight,c=this.footerHeight=i?i.offsetHeight:0;null!==this.height&&(this.bodyHeight=l-s-c+(i?1:0)),this.fixedBodyHeight=this.scrollX?this.bodyHeight-this.gutterWidth:this.bodyHeight;var u=!(this.store.states.data&&this.store.states.data.length);this.viewportHeight=this.scrollX?l-(u?0:this.gutterWidth):l,this.updateScrollY(),this.notifyObservers("scrollable")}},t.prototype.headerDisplayNone=function(t){if(!t)return!0;var e=t;while("DIV"!==e.tagName){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1},t.prototype.updateColumnsWidth=function(){if(!b.a.prototype.$isServer){var t=this.fit,e=this.table.$el.clientWidth,n=0,r=this.getFlattenColumns(),i=r.filter((function(t){return"number"!==typeof t.width}));if(r.forEach((function(t){"number"===typeof t.width&&t.realWidth&&(t.realWidth=null)})),i.length>0&&t){r.forEach((function(t){n+=t.width||t.minWidth||80}));var o=this.scrollY?this.gutterWidth:0;if(n<=e-o){this.scrollX=!1;var a=e-o-n;if(1===i.length)i[0].realWidth=(i[0].minWidth||80)+a;else{var s=i.reduce((function(t,e){return t+(e.minWidth||80)}),0),l=a/s,c=0;i.forEach((function(t,e){if(0!==e){var n=Math.floor((t.minWidth||80)*l);c+=n,t.realWidth=(t.minWidth||80)+n}})),i[0].realWidth=(i[0].minWidth||80)+a-c}}else this.scrollX=!0,i.forEach((function(t){t.realWidth=t.minWidth}));this.bodyWidth=Math.max(n,e),this.table.resizeState.width=this.bodyWidth}else r.forEach((function(t){t.width||t.minWidth?t.realWidth=t.width||t.minWidth:t.realWidth=80,n+=t.realWidth})),this.scrollX=n>e,this.bodyWidth=n;var u=this.store.states.fixedColumns;if(u.length>0){var h=0;u.forEach((function(t){h+=t.realWidth||t.width})),this.fixedWidth=h}var f=this.store.states.rightFixedColumns;if(f.length>0){var d=0;f.forEach((function(t){d+=t.realWidth||t.width})),this.rightFixedWidth=d}this.notifyObservers("columns")}},t.prototype.addObserver=function(t){this.observers.push(t)},t.prototype.removeObserver=function(t){var e=this.observers.indexOf(t);-1!==e&&this.observers.splice(e,1)},t.prototype.notifyObservers=function(t){var e=this,n=this.observers;n.forEach((function(n){switch(t){case"columns":n.onColumnsChange(e);break;case"scrollable":n.onScrollableChange(e);break;default:throw new Error("Table Layout don't have event "+t+".")}}))},t}(),z=F,W=n(2),H=n(29),$=n.n(H),G={created:function(){this.tableLayout.addObserver(this)},destroyed:function(){this.tableLayout.removeObserver(this)},computed:{tableLayout:function(){var t=this.layout;if(!t&&this.table&&(t=this.table.layout),!t)throw new Error("Can not find table layout.");return t}},mounted:function(){this.onColumnsChange(this.tableLayout),this.onScrollableChange(this.tableLayout)},updated:function(){this.__updated__||(this.onColumnsChange(this.tableLayout),this.onScrollableChange(this.tableLayout),this.__updated__=!0)},methods:{onColumnsChange:function(t){var e=this.$el.querySelectorAll("colgroup > col");if(e.length){var n=t.getFlattenColumns(),r={};n.forEach((function(t){r[t.id]=t}));for(var i=0,o=e.length;i<o;i++){var a=e[i],s=a.getAttribute("name"),l=r[s];l&&a.setAttribute("width",l.realWidth||l.width)}}},onScrollableChange:function(t){for(var e=this.$el.querySelectorAll("colgroup > col[name=gutter]"),n=0,r=e.length;n<r;n++){var i=e[n];i.setAttribute("width",t.scrollY?t.gutterWidth:"0")}for(var o=this.$el.querySelectorAll("th.gutter"),a=0,s=o.length;a<s;a++){var l=o[a];l.style.width=t.scrollY?t.gutterWidth+"px":"0",l.style.display=t.scrollY?"":"none"}}}},V=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y={name:"ElTableRow",props:["columns","row","index","isSelected","isExpanded","store","context","firstDefaultColumnIndex","treeRowData","treeIndent","columnsHidden","getSpan","getColspanRealWidth","getCellStyle","getCellClass","handleCellMouseLeave","handleCellMouseEnter","fixed"],components:{ElCheckbox:a.a},render:function(){var t=this,e=arguments[0],n=this.columns,r=this.row,i=this.index,o=this.store,a=this.context,s=this.firstDefaultColumnIndex,l=this.treeRowData,c=this.treeIndent,u=this.columnsHidden,h=void 0===u?[]:u,f=this.isSelected,d=this.isExpanded;return e("tr",[n.map((function(u,p){var v=t.getSpan(r,u,i,p),g=v.rowspan,y=v.colspan;if(!g||!y)return null;var m=V({},u);m.realWidth=t.getColspanRealWidth(n,y,p);var b={store:o,isSelected:f,isExpanded:d,_self:a,column:m,row:r,$index:i};return p===s&&l&&(b.treeNode={indent:l.level*c,level:l.level},"boolean"===typeof l.expanded&&(b.treeNode.expanded=l.expanded,"loading"in l&&(b.treeNode.loading=l.loading),"noLazyChildren"in l&&(b.treeNode.noLazyChildren=l.noLazyChildren))),e("td",{style:t.getCellStyle(i,p,r,u),class:t.getCellClass(i,p,r,u),attrs:{rowspan:g,colspan:y},on:{mouseenter:function(e){return t.handleCellMouseEnter(e,r)},mouseleave:t.handleCellMouseLeave}},[u.renderCell.call(t._renderProxy,t.$createElement,b,h[p])])}))])}},U="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q={name:"ElTableBody",mixins:[G],components:{ElCheckbox:a.a,ElTooltip:$.a,TableRow:Y},props:{store:{required:!0},stripe:Boolean,context:{},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:String,highlight:Boolean},render:function(t){var e=this,n=this.data||[];return t("table",{class:"el-table__body",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("colgroup",[this.columns.map((function(e){return t("col",{attrs:{name:e.id},key:e.id})}))]),t("tbody",[n.reduce((function(t,n){return t.concat(e.wrappedRowRender(n,t.length))}),[]),t("el-tooltip",{attrs:{effect:this.table.tooltipEffect,placement:"top",content:this.tooltipContent},ref:"tooltip"})])])},computed:X({table:function(){return this.$parent}},N({data:"data",columns:"columns",treeIndent:"indent",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(t){return t.columns.length},leftFixedCount:function(t){return t.fixedColumns.length},rightFixedCount:function(t){return t.rightFixedColumns.length},hasExpandColumn:function(t){return t.columns.some((function(t){var e=t.type;return"expand"===e}))}}),{columnsHidden:function(){var t=this;return this.columns.map((function(e,n){return t.isColumnHidden(n)}))},firstDefaultColumnIndex:function(){return Object(S["arrayFindIndex"])(this.columns,(function(t){var e=t.type;return"default"===e}))}}),watch:{"store.states.hoverRow":function(t,e){var n=this;if(this.store.states.isComplex&&!this.$isServer){var r=window.requestAnimationFrame;r||(r=function(t){return setTimeout(t,16)}),r((function(){var r=n.$el.querySelectorAll(".el-table__row"),i=r[e],o=r[t];i&&Object(W["removeClass"])(i,"hover-row"),o&&Object(W["addClass"])(o,"hover-row")}))}}},data:function(){return{tooltipContent:""}},created:function(){this.activateTooltip=R()(50,(function(t){return t.handleShowPopper()}))},methods:{getKeyOfRow:function(t,e){var n=this.table.rowKey;return n?Object(O["g"])(t,n):e},isColumnHidden:function(t){return!0===this.fixed||"left"===this.fixed?t>=this.leftFixedLeafCount:"right"===this.fixed?t<this.columnsCount-this.rightFixedLeafCount:t<this.leftFixedLeafCount||t>=this.columnsCount-this.rightFixedLeafCount},getSpan:function(t,e,n,r){var i=1,o=1,a=this.table.spanMethod;if("function"===typeof a){var s=a({row:t,column:e,rowIndex:n,columnIndex:r});Array.isArray(s)?(i=s[0],o=s[1]):"object"===("undefined"===typeof s?"undefined":U(s))&&(i=s.rowspan,o=s.colspan)}return{rowspan:i,colspan:o}},getRowStyle:function(t,e){var n=this.table.rowStyle;return"function"===typeof n?n.call(null,{row:t,rowIndex:e}):n||null},getRowClass:function(t,e){var n=["el-table__row"];this.table.highlightCurrentRow&&t===this.store.states.currentRow&&n.push("current-row"),this.stripe&&e%2===1&&n.push("el-table__row--striped");var r=this.table.rowClassName;return"string"===typeof r?n.push(r):"function"===typeof r&&n.push(r.call(null,{row:t,rowIndex:e})),this.store.states.expandRows.indexOf(t)>-1&&n.push("expanded"),n},getCellStyle:function(t,e,n,r){var i=this.table.cellStyle;return"function"===typeof i?i.call(null,{rowIndex:t,columnIndex:e,row:n,column:r}):i},getCellClass:function(t,e,n,r){var i=[r.id,r.align,r.className];this.isColumnHidden(e)&&i.push("is-hidden");var o=this.table.cellClassName;return"string"===typeof o?i.push(o):"function"===typeof o&&i.push(o.call(null,{rowIndex:t,columnIndex:e,row:n,column:r})),i.push("el-table__cell"),i.join(" ")},getColspanRealWidth:function(t,e,n){if(e<1)return t[n].realWidth;var r=t.map((function(t){var e=t.realWidth;return e})).slice(n,n+e);return r.reduce((function(t,e){return t+e}),-1)},handleCellMouseEnter:function(t,e){var n=this.table,r=Object(O["b"])(t);if(r){var i=Object(O["c"])(n,r),o=n.hoverState={cell:r,column:i,row:e};n.$emit("cell-mouse-enter",o.row,o.column,o.cell,t)}var a=t.target.querySelector(".cell");if(Object(W["hasClass"])(a,"el-tooltip")&&a.childNodes.length){var s=document.createRange();s.setStart(a,0),s.setEnd(a,a.childNodes.length);var l=s.getBoundingClientRect().width,c=(parseInt(Object(W["getStyle"])(a,"paddingLeft"),10)||0)+(parseInt(Object(W["getStyle"])(a,"paddingRight"),10)||0);if((l+c>a.offsetWidth||a.scrollWidth>a.offsetWidth)&&this.$refs.tooltip){var u=this.$refs.tooltip;this.tooltipContent=r.innerText||r.textContent,u.referenceElm=r,u.$refs.popper&&(u.$refs.popper.style.display="none"),u.doDestroy(),u.setExpectedState(!0),this.activateTooltip(u)}}},handleCellMouseLeave:function(t){var e=this.$refs.tooltip;e&&(e.setExpectedState(!1),e.handleClosePopper());var n=Object(O["b"])(t);if(n){var r=this.table.hoverState||{};this.table.$emit("cell-mouse-leave",r.row,r.column,r.cell,t)}},handleMouseEnter:R()(30,(function(t){this.store.commit("setHoverRow",t)})),handleMouseLeave:R()(30,(function(){this.store.commit("setHoverRow",null)})),handleContextMenu:function(t,e){this.handleEvent(t,e,"contextmenu")},handleDoubleClick:function(t,e){this.handleEvent(t,e,"dblclick")},handleClick:function(t,e){this.store.commit("setCurrentRow",e),this.handleEvent(t,e,"click")},handleEvent:function(t,e,n){var r=this.table,i=Object(O["b"])(t),o=void 0;i&&(o=Object(O["c"])(r,i),o&&r.$emit("cell-"+n,e,o,i,t)),r.$emit("row-"+n,e,o,t)},rowRender:function(t,e,n){var r=this,i=this.$createElement,o=this.treeIndent,a=this.columns,s=this.firstDefaultColumnIndex,l=this.getRowClass(t,e),c=!0;n&&(l.push("el-table__row--level-"+n.level),c=n.display);var u=c?null:{display:"none"};return i(Y,{style:[u,this.getRowStyle(t,e)],class:l,key:this.getKeyOfRow(t,e),nativeOn:{dblclick:function(e){return r.handleDoubleClick(e,t)},click:function(e){return r.handleClick(e,t)},contextmenu:function(e){return r.handleContextMenu(e,t)},mouseenter:function(t){return r.handleMouseEnter(e)},mouseleave:this.handleMouseLeave},attrs:{columns:a,row:t,index:e,store:this.store,context:this.context||this.table.$vnode.context,firstDefaultColumnIndex:s,treeRowData:n,treeIndent:o,columnsHidden:this.columnsHidden,getSpan:this.getSpan,getColspanRealWidth:this.getColspanRealWidth,getCellStyle:this.getCellStyle,getCellClass:this.getCellClass,handleCellMouseEnter:this.handleCellMouseEnter,handleCellMouseLeave:this.handleCellMouseLeave,isSelected:this.store.isSelected(t),isExpanded:this.store.states.expandRows.indexOf(t)>-1,fixed:this.fixed}})},wrappedRowRender:function(t,e){var n=this,r=this.$createElement,i=this.store,o=i.isRowExpanded,a=i.assertRowKey,s=i.states,l=s.treeData,c=s.lazyTreeNodeMap,u=s.childrenColumnName,h=s.rowKey;if(this.hasExpandColumn&&o(t)){var f=this.table.renderExpanded,d=this.rowRender(t,e);return f?[[d,r("tr",{key:"expanded-row__"+d.key},[r("td",{attrs:{colspan:this.columnsCount},class:"el-table__cell el-table__expanded-cell"},[f(this.$createElement,{row:t,$index:e,store:this.store})])])]]:(console.error("[Element Error]renderExpanded is required."),d)}if(Object.keys(l).length){a();var p=Object(O["g"])(t,h),v=l[p],g=null;v&&(g={expanded:v.expanded,level:v.level,display:!0},"boolean"===typeof v.lazy&&("boolean"===typeof v.loaded&&v.loaded&&(g.noLazyChildren=!(v.children&&v.children.length)),g.loading=v.loading));var y=[this.rowRender(t,e,g)];if(v){var m=0,b=function t(r,i){r&&r.length&&i&&r.forEach((function(r){var o={display:i.display&&i.expanded,level:i.level+1},a=Object(O["g"])(r,h);if(void 0===a||null===a)throw new Error("for nested data item, row-key is required.");if(v=X({},l[a]),v&&(o.expanded=v.expanded,v.level=v.level||o.level,v.display=!(!v.expanded||!o.display),"boolean"===typeof v.lazy&&("boolean"===typeof v.loaded&&v.loaded&&(o.noLazyChildren=!(v.children&&v.children.length)),o.loading=v.loading)),m++,y.push(n.rowRender(r,e+m,o)),v){var s=c[a]||r[u];t(s,v)}}))};v.display=!0;var x=c[p]||t[u];b(x,v)}return y}return this.rowRender(t,e)}}},K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"el-zoom-in-top"}},[t.multiple?n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleOutsideClick,expression:"handleOutsideClick"},{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"}],staticClass:"el-table-filter"},[n("div",{staticClass:"el-table-filter__content"},[n("el-scrollbar",{attrs:{"wrap-class":"el-table-filter__wrap"}},[n("el-checkbox-group",{staticClass:"el-table-filter__checkbox-group",model:{value:t.filteredValue,callback:function(e){t.filteredValue=e},expression:"filteredValue"}},t._l(t.filters,(function(e){return n("el-checkbox",{key:e.value,attrs:{label:e.value}},[t._v(t._s(e.text))])})),1)],1)],1),n("div",{staticClass:"el-table-filter__bottom"},[n("button",{class:{"is-disabled":0===t.filteredValue.length},attrs:{disabled:0===t.filteredValue.length},on:{click:t.handleConfirm}},[t._v(t._s(t.t("el.table.confirmFilter")))]),n("button",{on:{click:t.handleReset}},[t._v(t._s(t.t("el.table.resetFilter")))])])]):n("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleOutsideClick,expression:"handleOutsideClick"},{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"}],staticClass:"el-table-filter"},[n("ul",{staticClass:"el-table-filter__list"},[n("li",{staticClass:"el-table-filter__list-item",class:{"is-active":void 0===t.filterValue||null===t.filterValue},on:{click:function(e){t.handleSelect(null)}}},[t._v(t._s(t.t("el.table.clearFilter")))]),t._l(t.filters,(function(e){return n("li",{key:e.value,staticClass:"el-table-filter__list-item",class:{"is-active":t.isActive(e)},attrs:{label:e.value},on:{click:function(n){t.handleSelect(e.value)}}},[t._v(t._s(e.text))])}))],2)])])},Z=[];K._withStripped=!0;var Q=n(5),J=n.n(Q),tt=n(13),et=n(12),nt=n.n(et),rt=[];!b.a.prototype.$isServer&&document.addEventListener("click",(function(t){rt.forEach((function(e){var n=t.target;e&&e.$el&&(n===e.$el||e.$el.contains(n)||e.handleOutsideClick&&e.handleOutsideClick(t))}))}));var it={open:function(t){t&&rt.push(t)},close:function(t){var e=rt.indexOf(t);-1!==e&&rt.splice(t,1)}},ot=n(40),at=n.n(ot),st=n(15),lt=n.n(st),ct={name:"ElTableFilterPanel",mixins:[J.a,v.a],directives:{Clickoutside:nt.a},components:{ElCheckbox:a.a,ElCheckboxGroup:at.a,ElScrollbar:lt.a},props:{placement:{type:String,default:"bottom-end"}},methods:{isActive:function(t){return t.value===this.filterValue},handleOutsideClick:function(){var t=this;setTimeout((function(){t.showPopper=!1}),16)},handleConfirm:function(){this.confirmFilter(this.filteredValue),this.handleOutsideClick()},handleReset:function(){this.filteredValue=[],this.confirmFilter(this.filteredValue),this.handleOutsideClick()},handleSelect:function(t){this.filterValue=t,"undefined"!==typeof t&&null!==t?this.confirmFilter(this.filteredValue):this.confirmFilter([]),this.handleOutsideClick()},confirmFilter:function(t){this.table.store.commit("filterChange",{column:this.column,values:t}),this.table.store.updateAllSelected()}},data:function(){return{table:null,cell:null,column:null}},computed:{filters:function(){return this.column&&this.column.filters},filterValue:{get:function(){return(this.column.filteredValue||[])[0]},set:function(t){this.filteredValue&&("undefined"!==typeof t&&null!==t?this.filteredValue.splice(0,1,t):this.filteredValue.splice(0,1))}},filteredValue:{get:function(){return this.column&&this.column.filteredValue||[]},set:function(t){this.column&&(this.column.filteredValue=t)}},multiple:function(){return!this.column||this.column.filterMultiple}},mounted:function(){var t=this;this.popperElm=this.$el,this.referenceElm=this.cell,this.table.bodyWrapper.addEventListener("scroll",(function(){t.updatePopper()})),this.$watch("showPopper",(function(e){t.column&&(t.column.filterOpened=e),e?it.open(t):it.close(t)}))},watch:{showPopper:function(t){!0===t&&parseInt(this.popperJS._popper.style.zIndex,10)<tt["PopupManager"].zIndex&&(this.popperJS._popper.style.zIndex=tt["PopupManager"].nextZIndex())}}},ut=ct,ht=n(0),ft=Object(ht["a"])(ut,K,Z,!1,null,null,null);ft.options.__file="packages/table/src/filter-panel.vue";var dt=ft.exports,pt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vt=function t(e){var n=[];return e.forEach((function(e){e.children?(n.push(e),n.push.apply(n,t(e.children))):n.push(e)})),n},gt=function(t){var e=1,n=function t(n,r){if(r&&(n.level=r.level+1,e<n.level&&(e=n.level)),n.children){var i=0;n.children.forEach((function(e){t(e,n),i+=e.colSpan})),n.colSpan=i}else n.colSpan=1};t.forEach((function(t){t.level=1,n(t)}));for(var r=[],i=0;i<e;i++)r.push([]);var o=vt(t);return o.forEach((function(t){t.children?t.rowSpan=1:t.rowSpan=e-t.level+1,r[t.level-1].push(t)})),r},yt={name:"ElTableHeader",mixins:[G],render:function(t){var e=this,n=this.store.states.originColumns,r=gt(n,this.columns),i=r.length>1;return i&&(this.$parent.isGroup=!0),t("table",{class:"el-table__header",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("colgroup",[this.columns.map((function(e){return t("col",{attrs:{name:e.id},key:e.id})})),this.hasGutter?t("col",{attrs:{name:"gutter"}}):""]),t("thead",{class:[{"is-group":i,"has-gutter":this.hasGutter}]},[this._l(r,(function(n,r){return t("tr",{style:e.getHeaderRowStyle(r),class:e.getHeaderRowClass(r)},[n.map((function(i,o){return t("th",{attrs:{colspan:i.colSpan,rowspan:i.rowSpan},on:{mousemove:function(t){return e.handleMouseMove(t,i)},mouseout:e.handleMouseOut,mousedown:function(t){return e.handleMouseDown(t,i)},click:function(t){return e.handleHeaderClick(t,i)},contextmenu:function(t){return e.handleHeaderContextMenu(t,i)}},style:e.getHeaderCellStyle(r,o,n,i),class:e.getHeaderCellClass(r,o,n,i),key:i.id},[t("div",{class:["cell",i.filteredValue&&i.filteredValue.length>0?"highlight":"",i.labelClassName]},[i.renderHeader?i.renderHeader.call(e._renderProxy,t,{column:i,$index:o,store:e.store,_self:e.$parent.$vnode.context}):i.label,i.sortable?t("span",{class:"caret-wrapper",on:{click:function(t){return e.handleSortClick(t,i)}}},[t("i",{class:"sort-caret ascending",on:{click:function(t){return e.handleSortClick(t,i,"ascending")}}}),t("i",{class:"sort-caret descending",on:{click:function(t){return e.handleSortClick(t,i,"descending")}}})]):"",i.filterable?t("span",{class:"el-table__column-filter-trigger",on:{click:function(t){return e.handleFilterClick(t,i)}}},[t("i",{class:["el-icon-arrow-down",i.filterOpened?"el-icon-arrow-up":""]})]):""])])})),e.hasGutter?t("th",{class:"el-table__cell gutter"}):""])}))])])},props:{fixed:String,store:{required:!0},border:Boolean,defaultSort:{type:Object,default:function(){return{prop:"",order:""}}}},components:{ElCheckbox:a.a},computed:pt({table:function(){return this.$parent},hasGutter:function(){return!this.fixed&&this.tableLayout.gutterWidth}},N({columns:"columns",isAllSelected:"isAllSelected",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(t){return t.columns.length},leftFixedCount:function(t){return t.fixedColumns.length},rightFixedCount:function(t){return t.rightFixedColumns.length}})),created:function(){this.filterPanels={}},mounted:function(){var t=this;this.$nextTick((function(){var e=t.defaultSort,n=e.prop,r=e.order,i=!0;t.store.commit("sort",{prop:n,order:r,init:i})}))},beforeDestroy:function(){var t=this.filterPanels;for(var e in t)t.hasOwnProperty(e)&&t[e]&&t[e].$destroy(!0)},methods:{isCellHidden:function(t,e){for(var n=0,r=0;r<t;r++)n+=e[r].colSpan;var i=n+e[t].colSpan-1;return!0===this.fixed||"left"===this.fixed?i>=this.leftFixedLeafCount:"right"===this.fixed?n<this.columnsCount-this.rightFixedLeafCount:i<this.leftFixedLeafCount||n>=this.columnsCount-this.rightFixedLeafCount},getHeaderRowStyle:function(t){var e=this.table.headerRowStyle;return"function"===typeof e?e.call(null,{rowIndex:t}):e},getHeaderRowClass:function(t){var e=[],n=this.table.headerRowClassName;return"string"===typeof n?e.push(n):"function"===typeof n&&e.push(n.call(null,{rowIndex:t})),e.join(" ")},getHeaderCellStyle:function(t,e,n,r){var i=this.table.headerCellStyle;return"function"===typeof i?i.call(null,{rowIndex:t,columnIndex:e,row:n,column:r}):i},getHeaderCellClass:function(t,e,n,r){var i=[r.id,r.order,r.headerAlign,r.className,r.labelClassName];0===t&&this.isCellHidden(e,n)&&i.push("is-hidden"),r.children||i.push("is-leaf"),r.sortable&&i.push("is-sortable");var o=this.table.headerCellClassName;return"string"===typeof o?i.push(o):"function"===typeof o&&i.push(o.call(null,{rowIndex:t,columnIndex:e,row:n,column:r})),i.push("el-table__cell"),i.join(" ")},toggleAllSelection:function(){this.store.commit("toggleAllSelection")},handleFilterClick:function(t,e){t.stopPropagation();var n=t.target,r="TH"===n.tagName?n:n.parentNode;if(!Object(W["hasClass"])(r,"noclick")){r=r.querySelector(".el-table__column-filter-trigger")||r;var i=this.$parent,o=this.filterPanels[e.id];o&&e.filterOpened?o.showPopper=!1:(o||(o=new b.a(dt),this.filterPanels[e.id]=o,e.filterPlacement&&(o.placement=e.filterPlacement),o.table=i,o.cell=r,o.column=e,!this.$isServer&&o.$mount(document.createElement("div"))),setTimeout((function(){o.showPopper=!0}),16))}},handleHeaderClick:function(t,e){!e.filters&&e.sortable?this.handleSortClick(t,e):e.filterable&&!e.sortable&&this.handleFilterClick(t,e),this.$parent.$emit("header-click",e,t)},handleHeaderContextMenu:function(t,e){this.$parent.$emit("header-contextmenu",e,t)},handleMouseDown:function(t,e){var n=this;if(!this.$isServer&&!(e.children&&e.children.length>0)&&this.draggingColumn&&this.border){this.dragging=!0,this.$parent.resizeProxyVisible=!0;var r=this.$parent,i=r.$el,o=i.getBoundingClientRect().left,a=this.$el.querySelector("th."+e.id),s=a.getBoundingClientRect(),l=s.left-o+30;Object(W["addClass"])(a,"noclick"),this.dragState={startMouseLeft:t.clientX,startLeft:s.right-o,startColumnLeft:s.left-o,tableLeft:o};var c=r.$refs.resizeProxy;c.style.left=this.dragState.startLeft+"px",document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};var u=function(t){var e=t.clientX-n.dragState.startMouseLeft,r=n.dragState.startLeft+e;c.style.left=Math.max(l,r)+"px"},h=function i(){if(n.dragging){var o=n.dragState,s=o.startColumnLeft,l=o.startLeft,h=parseInt(c.style.left,10),f=h-s;e.width=e.realWidth=f,r.$emit("header-dragend",e.width,l-s,e,t),n.store.scheduleLayout(),document.body.style.cursor="",n.dragging=!1,n.draggingColumn=null,n.dragState={},r.resizeProxyVisible=!1}document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",i),document.onselectstart=null,document.ondragstart=null,setTimeout((function(){Object(W["removeClass"])(a,"noclick")}),0)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",h)}},handleMouseMove:function(t,e){if(!(e.children&&e.children.length>0)){var n=t.target;while(n&&"TH"!==n.tagName)n=n.parentNode;if(e&&e.resizable&&!this.dragging&&this.border){var r=n.getBoundingClientRect(),i=document.body.style;r.width>12&&r.right-t.pageX<8?(i.cursor="col-resize",Object(W["hasClass"])(n,"is-sortable")&&(n.style.cursor="col-resize"),this.draggingColumn=e):this.dragging||(i.cursor="",Object(W["hasClass"])(n,"is-sortable")&&(n.style.cursor="pointer"),this.draggingColumn=null)}}},handleMouseOut:function(){this.$isServer||(document.body.style.cursor="")},toggleOrder:function(t){var e=t.order,n=t.sortOrders;if(""===e)return n[0];var r=n.indexOf(e||null);return n[r>n.length-2?0:r+1]},handleSortClick:function(t,e,n){t.stopPropagation();var r=e.order===n?null:n||this.toggleOrder(e),i=t.target;while(i&&"TH"!==i.tagName)i=i.parentNode;if(i&&"TH"===i.tagName&&Object(W["hasClass"])(i,"noclick"))Object(W["removeClass"])(i,"noclick");else if(e.sortable){var o=this.store.states,a=o.sortProp,s=void 0,l=o.sortingColumn;(l!==e||l===e&&null===l.order)&&(l&&(l.order=null),o.sortingColumn=e,a=e.property),s=e.order=r||null,o.sortProp=a,o.sortOrder=s,this.store.commit("changeSortCondition")}}},data:function(){return{draggingColumn:null,dragging:!1,dragState:{}}}},mt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bt={name:"ElTableFooter",mixins:[G],render:function(t){var e=this,n=[];return this.summaryMethod?n=this.summaryMethod({columns:this.columns,data:this.store.states.data}):this.columns.forEach((function(t,r){if(0!==r){var i=e.store.states.data.map((function(e){return Number(e[t.property])})),o=[],a=!0;i.forEach((function(t){if(!isNaN(t)){a=!1;var e=(""+t).split(".")[1];o.push(e?e.length:0)}}));var s=Math.max.apply(null,o);n[r]=a?"":i.reduce((function(t,e){var n=Number(e);return isNaN(n)?t:parseFloat((t+e).toFixed(Math.min(s,20)))}),0)}else n[r]=e.sumText})),t("table",{class:"el-table__footer",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("colgroup",[this.columns.map((function(e){return t("col",{attrs:{name:e.id},key:e.id})})),this.hasGutter?t("col",{attrs:{name:"gutter"}}):""]),t("tbody",{class:[{"has-gutter":this.hasGutter}]},[t("tr",[this.columns.map((function(r,i){return t("td",{key:i,attrs:{colspan:r.colSpan,rowspan:r.rowSpan},class:[].concat(e.getRowClasses(r,i),["el-table__cell"])},[t("div",{class:["cell",r.labelClassName]},[n[i]])])})),this.hasGutter?t("th",{class:"el-table__cell gutter"}):""])])])},props:{fixed:String,store:{required:!0},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:function(){return{prop:"",order:""}}}},computed:mt({table:function(){return this.$parent},hasGutter:function(){return!this.fixed&&this.tableLayout.gutterWidth}},N({columns:"columns",isAllSelected:"isAllSelected",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(t){return t.columns.length},leftFixedCount:function(t){return t.fixedColumns.length},rightFixedCount:function(t){return t.rightFixedColumns.length}})),methods:{isCellHidden:function(t,e,n){if(!0===this.fixed||"left"===this.fixed)return t>=this.leftFixedLeafCount;if("right"===this.fixed){for(var r=0,i=0;i<t;i++)r+=e[i].colSpan;return r<this.columnsCount-this.rightFixedLeafCount}return!(this.fixed||!n.fixed)||(t<this.leftFixedCount||t>=this.columnsCount-this.rightFixedCount)},getRowClasses:function(t,e){var n=[t.id,t.align,t.labelClassName];return t.className&&n.push(t.className),this.isCellHidden(e,this.columns,t)&&n.push("is-hidden"),t.children||n.push("is-leaf"),n}}},xt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wt=1,Ot={name:"ElTable",mixins:[v.a,y.a],directives:{Mousewheel:d},props:{data:{type:Array,default:function(){return[]}},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],context:{},showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:function(){return{hasChildren:"hasChildren",children:"children"}}},lazy:Boolean,load:Function},components:{TableHeader:yt,TableFooter:bt,TableBody:q,ElCheckbox:a.a},methods:{getMigratingConfig:function(){return{events:{expand:"expand is renamed to expand-change"}}},setCurrentRow:function(t){this.store.commit("setCurrentRow",t)},toggleRowSelection:function(t,e){this.store.toggleRowSelection(t,e,!1),this.store.updateAllSelected()},toggleRowExpansion:function(t,e){this.store.toggleRowExpansionAdapter(t,e)},clearSelection:function(){this.store.clearSelection()},clearFilter:function(t){this.store.clearFilter(t)},clearSort:function(){this.store.clearSort()},handleMouseLeave:function(){this.store.commit("setHoverRow",null),this.hoverState&&(this.hoverState=null)},updateScrollY:function(){var t=this.layout.updateScrollY();t&&(this.layout.notifyObservers("scrollable"),this.layout.updateColumnsWidth())},handleFixedMousewheel:function(t,e){var n=this.bodyWrapper;if(Math.abs(e.spinY)>0){var r=n.scrollTop;e.pixelY<0&&0!==r&&t.preventDefault(),e.pixelY>0&&n.scrollHeight-n.clientHeight>r&&t.preventDefault(),n.scrollTop+=Math.ceil(e.pixelY/5)}else n.scrollLeft+=Math.ceil(e.pixelX/5)},handleHeaderFooterMousewheel:function(t,e){var n=e.pixelX,r=e.pixelY;Math.abs(n)>=Math.abs(r)&&(this.bodyWrapper.scrollLeft+=e.pixelX/5)},syncPostion:function(){var t=this.bodyWrapper,e=t.scrollLeft,n=t.scrollTop,r=t.offsetWidth,i=t.scrollWidth,o=this.$refs,a=o.headerWrapper,s=o.footerWrapper,l=o.fixedBodyWrapper,c=o.rightFixedBodyWrapper;a&&(a.scrollLeft=e),s&&(s.scrollLeft=e),l&&(l.scrollTop=n),c&&(c.scrollTop=n);var u=i-r-1;this.scrollPosition=e>=u?"right":0===e?"left":"middle"},throttleSyncPostion:Object(s["throttle"])(16,(function(){this.syncPostion()})),onScroll:function(t){var e=window.requestAnimationFrame;e?e(this.syncPostion):this.throttleSyncPostion()},bindEvents:function(){this.bodyWrapper.addEventListener("scroll",this.onScroll,{passive:!0}),this.fit&&Object(l["addResizeListener"])(this.$el,this.resizeListener)},unbindEvents:function(){this.bodyWrapper.removeEventListener("scroll",this.onScroll,{passive:!0}),this.fit&&Object(l["removeResizeListener"])(this.$el,this.resizeListener)},resizeListener:function(){if(this.$ready){var t=!1,e=this.$el,n=this.resizeState,r=n.width,i=n.height,o=e.offsetWidth;r!==o&&(t=!0);var a=e.offsetHeight;(this.height||this.shouldUpdateHeight)&&i!==a&&(t=!0),t&&(this.resizeState.width=o,this.resizeState.height=a,this.doLayout())}},doLayout:function(){this.shouldUpdateHeight&&this.layout.updateElsHeight(),this.layout.updateColumnsWidth()},sort:function(t,e){this.store.commit("sort",{prop:t,order:e})},toggleAllSelection:function(){this.store.commit("toggleAllSelection")}},computed:xt({tableSize:function(){return this.size||(this.$ELEMENT||{}).size},bodyWrapper:function(){return this.$refs.bodyWrapper},shouldUpdateHeight:function(){return this.height||this.maxHeight||this.fixedColumns.length>0||this.rightFixedColumns.length>0},bodyWidth:function(){var t=this.layout,e=t.bodyWidth,n=t.scrollY,r=t.gutterWidth;return e?e-(n?r:0)+"px":""},bodyHeight:function(){var t=this.layout,e=t.headerHeight,n=void 0===e?0:e,r=t.bodyHeight,i=t.footerHeight,o=void 0===i?0:i;if(this.height)return{height:r?r+"px":""};if(this.maxHeight){var a=Object(O["j"])(this.maxHeight);if("number"===typeof a)return{"max-height":a-o-(this.showHeader?n:0)+"px"}}return{}},fixedBodyHeight:function(){if(this.height)return{height:this.layout.fixedBodyHeight?this.layout.fixedBodyHeight+"px":""};if(this.maxHeight){var t=Object(O["j"])(this.maxHeight);if("number"===typeof t)return t=this.layout.scrollX?t-this.layout.gutterWidth:t,this.showHeader&&(t-=this.layout.headerHeight),t-=this.layout.footerHeight,{"max-height":t+"px"}}return{}},fixedHeight:function(){return this.maxHeight?this.showSummary?{bottom:0}:{bottom:this.layout.scrollX&&this.data.length?this.layout.gutterWidth+"px":""}:this.showSummary?{height:this.layout.tableHeight?this.layout.tableHeight+"px":""}:{height:this.layout.viewportHeight?this.layout.viewportHeight+"px":""}},emptyBlockStyle:function(){if(this.data&&this.data.length)return null;var t="100%";return this.layout.appendHeight&&(t="calc(100% - "+this.layout.appendHeight+"px)"),{width:this.bodyWidth,height:t}}},N({selection:"selection",columns:"columns",tableData:"data",fixedColumns:"fixedColumns",rightFixedColumns:"rightFixedColumns"})),watch:{height:{immediate:!0,handler:function(t){this.layout.setHeight(t)}},maxHeight:{immediate:!0,handler:function(t){this.layout.setMaxHeight(t)}},currentRowKey:{immediate:!0,handler:function(t){this.rowKey&&this.store.setCurrentRowKey(t)}},data:{immediate:!0,handler:function(t){this.store.commit("setData",t)}},expandRowKeys:{immediate:!0,handler:function(t){t&&this.store.setExpandRowKeysAdapter(t)}}},created:function(){var t=this;this.tableId="el-table_"+wt++,this.debouncedUpdateLayout=Object(s["debounce"])(50,(function(){return t.doLayout()}))},mounted:function(){var t=this;this.bindEvents(),this.store.updateColumns(),this.doLayout(),this.resizeState={width:this.$el.offsetWidth,height:this.$el.offsetHeight},this.store.states.columns.forEach((function(e){e.filteredValue&&e.filteredValue.length&&t.store.commit("filterChange",{column:e,values:e.filteredValue,silent:!0})})),this.$ready=!0},destroyed:function(){this.unbindEvents()},data:function(){var t=this.treeProps,e=t.hasChildren,n=void 0===e?"hasChildren":e,r=t.children,i=void 0===r?"children":r;this.store=I(this,{rowKey:this.rowKey,defaultExpandAll:this.defaultExpandAll,selectOnIndeterminate:this.selectOnIndeterminate,indent:this.indent,lazy:this.lazy,lazyColumnIdentifier:n,childrenColumnName:i});var o=new z({store:this.store,table:this,fit:this.fit,showHeader:this.showHeader});return{layout:o,isHidden:!1,renderExpanded:null,resizeProxyVisible:!1,resizeState:{width:null,height:null},isGroup:!1,scrollPosition:"left"}}},Ct=Ot,St=Object(ht["a"])(Ct,r,i,!1,null,null,null);St.options.__file="packages/table/src/table.vue";var _t=St.exports;_t.install=function(t){t.component(_t.name,_t)};e["default"]=_t}])},3304:function(t){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=132)}({0:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},132:function(t,e,n){"use strict";n.r(e);var r,i,o={name:"ElTag",props:{text:String,closable:Boolean,type:String,hit:Boolean,disableTransitions:Boolean,color:String,size:String,effect:{type:String,default:"light",validator:function(t){return-1!==["dark","light","plain"].indexOf(t)}}},methods:{handleClose:function(t){t.stopPropagation(),this.$emit("close",t)},handleClick:function(t){this.$emit("click",t)}},computed:{tagSize:function(){return this.size||(this.$ELEMENT||{}).size}},render:function(t){var e=this.type,n=this.tagSize,r=this.hit,i=this.effect,o=["el-tag",e?"el-tag--"+e:"",n?"el-tag--"+n:"",i?"el-tag--"+i:"",r&&"is-hit"],a=t("span",{class:o,style:{backgroundColor:this.color},on:{click:this.handleClick}},[this.$slots.default,this.closable&&t("i",{class:"el-tag__close el-icon-close",on:{click:this.handleClose}})]);return this.disableTransitions?a:t("transition",{attrs:{name:"el-zoom-in-center"}},[a])}},a=o,s=n(0),l=Object(s["a"])(a,r,i,!1,null,null,null);l.options.__file="packages/tag/src/tag.vue";var c=l.exports;c.install=function(t){t.component(c.name,c)};e["default"]=c}})},1804:function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=138)}({138:function(t,e,n){"use strict";n.r(e);var r=n(5),i=n.n(r),o=n(19),a=n.n(o),s=n(2),l=n(3),c=n(7),u=n.n(c),h={name:"ElTooltip",mixins:[i.a],props:{openDelay:{type:Number,default:0},disabled:Boolean,manual:Boolean,effect:{type:String,default:"dark"},arrowOffset:{type:Number,default:0},popperClass:String,content:String,visibleArrow:{default:!0},transition:{type:String,default:"el-fade-in-linear"},popperOptions:{default:function(){return{boundariesPadding:10,gpuAcceleration:!1}}},enterable:{type:Boolean,default:!0},hideAfter:{type:Number,default:0},tabindex:{type:Number,default:0}},data:function(){return{tooltipId:"el-tooltip-"+Object(l["generateId"])(),timeoutPending:null,focusing:!1}},beforeCreate:function(){var t=this;this.$isServer||(this.popperVM=new u.a({data:{node:""},render:function(t){return this.node}}).$mount(),this.debounceClose=a()(200,(function(){return t.handleClosePopper()})))},render:function(t){var e=this;this.popperVM&&(this.popperVM.node=t("transition",{attrs:{name:this.transition},on:{afterLeave:this.doDestroy}},[t("div",{on:{mouseleave:function(){e.setExpectedState(!1),e.debounceClose()},mouseenter:function(){e.setExpectedState(!0)}},ref:"popper",attrs:{role:"tooltip",id:this.tooltipId,"aria-hidden":this.disabled||!this.showPopper?"true":"false"},directives:[{name:"show",value:!this.disabled&&this.showPopper}],class:["el-tooltip__popper","is-"+this.effect,this.popperClass]},[this.$slots.content||this.content])]));var n=this.getFirstElement();if(!n)return null;var r=n.data=n.data||{};return r.staticClass=this.addTooltipClass(r.staticClass),n},mounted:function(){var t=this;this.referenceElm=this.$el,1===this.$el.nodeType&&(this.$el.setAttribute("aria-describedby",this.tooltipId),this.$el.setAttribute("tabindex",this.tabindex),Object(s["on"])(this.referenceElm,"mouseenter",this.show),Object(s["on"])(this.referenceElm,"mouseleave",this.hide),Object(s["on"])(this.referenceElm,"focus",(function(){if(t.$slots.default&&t.$slots.default.length){var e=t.$slots.default[0].componentInstance;e&&e.focus?e.focus():t.handleFocus()}else t.handleFocus()})),Object(s["on"])(this.referenceElm,"blur",this.handleBlur),Object(s["on"])(this.referenceElm,"click",this.removeFocusing)),this.value&&this.popperVM&&this.popperVM.$nextTick((function(){t.value&&t.updatePopper()}))},watch:{focusing:function(t){t?Object(s["addClass"])(this.referenceElm,"focusing"):Object(s["removeClass"])(this.referenceElm,"focusing")}},methods:{show:function(){this.setExpectedState(!0),this.handleShowPopper()},hide:function(){this.setExpectedState(!1),this.debounceClose()},handleFocus:function(){this.focusing=!0,this.show()},handleBlur:function(){this.focusing=!1,this.hide()},removeFocusing:function(){this.focusing=!1},addTooltipClass:function(t){return t?"el-tooltip "+t.replace("el-tooltip",""):"el-tooltip"},handleShowPopper:function(){var t=this;this.expectedState&&!this.manual&&(clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.showPopper=!0}),this.openDelay),this.hideAfter>0&&(this.timeoutPending=setTimeout((function(){t.showPopper=!1}),this.hideAfter)))},handleClosePopper:function(){this.enterable&&this.expectedState||this.manual||(clearTimeout(this.timeout),this.timeoutPending&&clearTimeout(this.timeoutPending),this.showPopper=!1,this.disabled&&this.doDestroy())},setExpectedState:function(t){!1===t&&clearTimeout(this.timeoutPending),this.expectedState=t},getFirstElement:function(){var t=this.$slots.default;if(!Array.isArray(t))return null;for(var e=null,n=0;n<t.length;n++)if(t[n]&&t[n].tag){e=t[n];break}return e}},beforeDestroy:function(){this.popperVM&&this.popperVM.$destroy()},destroyed:function(){var t=this.referenceElm;1===t.nodeType&&(Object(s["off"])(t,"mouseenter",this.show),Object(s["off"])(t,"mouseleave",this.hide),Object(s["off"])(t,"focus",this.handleFocus),Object(s["off"])(t,"blur",this.handleBlur),Object(s["off"])(t,"click",this.removeFocusing))},install:function(t){t.component(h.name,h)}};e["default"]=h},19:function(t,e){t.exports=n(6902)},2:function(t,e){t.exports=n(1610)},3:function(t,e){t.exports=n(8501)},5:function(t,e){t.exports=n(2155)},7:function(t,e){t.exports=n(7195)}})},3949:function(t,e,n){"use strict";n(7658),e.__esModule=!0;var r=n(7195),i=a(r),o=n(1610);function a(t){return t&&t.__esModule?t:{default:t}}var s=[],l="@@clickoutsideContext",c=void 0,u=0;function h(t,e,n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(n&&n.context&&r.target&&i.target)||t.contains(r.target)||t.contains(i.target)||t===r.target||n.context.popperElm&&(n.context.popperElm.contains(r.target)||n.context.popperElm.contains(i.target))||(e.expression&&t[l].methodName&&n.context[t[l].methodName]?n.context[t[l].methodName]():t[l].bindingFn&&t[l].bindingFn())}}!i.default.prototype.$isServer&&(0,o.on)(document,"mousedown",(function(t){return c=t})),!i.default.prototype.$isServer&&(0,o.on)(document,"mouseup",(function(t){s.forEach((function(e){return e[l].documentHandler(t,c)}))})),e["default"]={bind:function(t,e,n){s.push(t);var r=u++;t[l]={id:r,documentHandler:h(t,e,n),methodName:e.expression,bindingFn:e.value}},update:function(t,e,n){t[l].documentHandler=h(t,e,n),t[l].methodName=e.expression,t[l].bindingFn=e.value},unbind:function(t){for(var e=s.length,n=0;n<e;n++)if(s[n][l].id===t[l].id){s.splice(n,1);break}delete t[l]}}},1610:function(t,e,n){"use strict";e.__esModule=!0,e.isInContainer=e.getScrollContainer=e.isScroll=e.getStyle=e.once=e.off=e.on=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.hasClass=v,e.addClass=g,e.removeClass=y,e.setStyle=b;var i=n(7195),o=a(i);function a(t){return t&&t.__esModule?t:{default:t}}var s=o.default.prototype.$isServer,l=/([\:\-\_]+(.))/g,c=/^moz([A-Z])/,u=s?0:Number(document.documentMode),h=function(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},f=function(t){return t.replace(l,(function(t,e,n,r){return r?n.toUpperCase():n})).replace(c,"Moz$1")},d=e.on=function(){return!s&&document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)}}(),p=e.off=function(){return!s&&document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)}}();e.once=function(t,e,n){var r=function r(){n&&n.apply(this,arguments),p(t,e,r)};d(t,e,r)};function v(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}function g(t,e){if(t){for(var n=t.className,r=(e||"").split(" "),i=0,o=r.length;i<o;i++){var a=r[i];a&&(t.classList?t.classList.add(a):v(t,a)||(n+=" "+a))}t.classList||t.setAttribute("class",n)}}function y(t,e){if(t&&e){for(var n=e.split(" "),r=" "+t.className+" ",i=0,o=n.length;i<o;i++){var a=n[i];a&&(t.classList?t.classList.remove(a):v(t,a)&&(r=r.replace(" "+a+" "," ")))}t.classList||t.setAttribute("class",h(r))}}var m=e.getStyle=u<9?function(t,e){if(!s){if(!t||!e)return null;e=f(e),"float"===e&&(e="styleFloat");try{switch(e){case"opacity":try{return t.filters.item("alpha").opacity/100}catch(n){return 1}default:return t.style[e]||t.currentStyle?t.currentStyle[e]:null}}catch(n){return t.style[e]}}}:function(t,e){if(!s){if(!t||!e)return null;e=f(e),"float"===e&&(e="cssFloat");try{var n=document.defaultView.getComputedStyle(t,"");return t.style[e]||n?n[e]:null}catch(r){return t.style[e]}}};function b(t,e,n){if(t&&e)if("object"===("undefined"===typeof e?"undefined":r(e)))for(var i in e)e.hasOwnProperty(i)&&b(t,i,e[i]);else e=f(e),"opacity"===e&&u<9?t.style.filter=isNaN(n)?"":"alpha(opacity="+100*n+")":t.style[e]=n}var x=e.isScroll=function(t,e){if(!s){var n=null!==e&&void 0!==e,r=m(t,n?e?"overflow-y":"overflow-x":"overflow");return r.match(/(scroll|auto|overlay)/)}};e.getScrollContainer=function(t,e){if(!s){var n=t;while(n){if([window,document,document.documentElement].includes(n))return window;if(x(n,e))return n;n=n.parentNode}return n}},e.isInContainer=function(t,e){if(s||!t||!e)return!1;var n=t.getBoundingClientRect(),r=void 0;return r=[window,document,document.documentElement,null,void 0].includes(e)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:e.getBoundingClientRect(),n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right}},2198:function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){for(var e=1,n=arguments.length;e<n;e++){var r=arguments[e]||{};for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];void 0!==o&&(t[i]=o)}}return t}},3242:function(t,e,n){"use strict";var r,i;"function"===typeof Symbol&&Symbol.iterator;(function(o,a){r=a,i="function"===typeof r?r.call(e,n,e,t):r,void 0===i||(t.exports=i)})(0,(function(){var t=window,e={placement:"bottom",gpuAcceleration:!0,offset:0,boundariesElement:"viewport",boundariesPadding:5,preventOverflowOrder:["left","right","top","bottom"],flipBehavior:"flip",arrowElement:"[x-arrow]",arrowOffset:0,modifiers:["shift","offset","preventOverflow","keepTogether","arrow","flip","applyStyle"],modifiersIgnored:[],forceAbsolute:!1};function n(t,n,r){this._reference=t.jquery?t[0]:t,this.state={};var i="undefined"===typeof n||null===n,o=n&&"[object Object]"===Object.prototype.toString.call(n);return this._popper=i||o?this.parse(o?n:{}):n.jquery?n[0]:n,this._options=Object.assign({},e,r),this._options.modifiers=this._options.modifiers.map(function(t){if(-1===this._options.modifiersIgnored.indexOf(t))return"applyStyle"===t&&this._popper.setAttribute("x-placement",this._options.placement),this.modifiers[t]||t}.bind(this)),this.state.position=this._getPosition(this._popper,this._reference),h(this._popper,{position:this.state.position,top:0}),this.update(),this._setupEventListeners(),this}function r(e){var n=e.style.display,r=e.style.visibility;e.style.display="block",e.style.visibility="hidden";e.offsetWidth;var i=t.getComputedStyle(e),o=parseFloat(i.marginTop)+parseFloat(i.marginBottom),a=parseFloat(i.marginLeft)+parseFloat(i.marginRight),s={width:e.offsetWidth+a,height:e.offsetHeight+o};return e.style.display=n,e.style.visibility=r,s}function i(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function o(t){var e=Object.assign({},t);return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function a(t,e){var n,r=0;for(n in t){if(t[n]===e)return r;r++}return null}function s(e,n){var r=t.getComputedStyle(e,null);return r[n]}function l(e){var n=e.offsetParent;return n!==t.document.body&&n?n:t.document.documentElement}function c(e){var n=e.parentNode;return n?n===t.document?t.document.body.scrollTop||t.document.body.scrollLeft?t.document.body:t.document.documentElement:-1!==["scroll","auto"].indexOf(s(n,"overflow"))||-1!==["scroll","auto"].indexOf(s(n,"overflow-x"))||-1!==["scroll","auto"].indexOf(s(n,"overflow-y"))?n:c(e.parentNode):e}function u(e){return e!==t.document.body&&("fixed"===s(e,"position")||(e.parentNode?u(e.parentNode):e))}function h(t,e){function n(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}Object.keys(e).forEach((function(r){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&n(e[r])&&(i="px"),t.style[r]=e[r]+i}))}function f(t){var e={};return t&&"[object Function]"===e.toString.call(t)}function d(t){var e={width:t.offsetWidth,height:t.offsetHeight,left:t.offsetLeft,top:t.offsetTop};return e.right=e.left+e.width,e.bottom=e.top+e.height,e}function p(t){var e=t.getBoundingClientRect(),n=-1!=navigator.userAgent.indexOf("MSIE"),r=n&&"HTML"===t.tagName?-t.scrollTop:e.top;return{left:e.left,top:r,right:e.right,bottom:e.bottom,width:e.right-e.left,height:e.bottom-r}}function v(t,e,n){var r=p(t),i=p(e);if(n){var o=c(e);i.top+=o.scrollTop,i.bottom+=o.scrollTop,i.left+=o.scrollLeft,i.right+=o.scrollLeft}var a={top:r.top-i.top,left:r.left-i.left,bottom:r.top-i.top+r.height,right:r.left-i.left+r.width,width:r.width,height:r.height};return a}function g(e){for(var n=["","ms","webkit","moz","o"],r=0;r<n.length;r++){var i=n[r]?n[r]+e.charAt(0).toUpperCase()+e.slice(1):e;if("undefined"!==typeof t.document.body.style[i])return i}return null}return n.prototype.destroy=function(){return this._popper.removeAttribute("x-placement"),this._popper.style.left="",this._popper.style.position="",this._popper.style.top="",this._popper.style[g("transform")]="",this._removeEventListeners(),this._options.removeOnDestroy&&this._popper.remove(),this},n.prototype.update=function(){var t={instance:this,styles:{}};t.placement=this._options.placement,t._originalPlacement=this._options.placement,t.offsets=this._getOffsets(this._popper,this._reference,t.placement),t.boundaries=this._getBoundaries(t,this._options.boundariesPadding,this._options.boundariesElement),t=this.runModifiers(t,this._options.modifiers),"function"===typeof this.state.updateCallback&&this.state.updateCallback(t)},n.prototype.onCreate=function(t){return t(this),this},n.prototype.onUpdate=function(t){return this.state.updateCallback=t,this},n.prototype.parse=function(e){var n={tagName:"div",classNames:["popper"],attributes:[],parent:t.document.body,content:"",contentType:"text",arrowTagName:"div",arrowClassNames:["popper__arrow"],arrowAttributes:["x-arrow"]};e=Object.assign({},n,e);var r=t.document,i=r.createElement(e.tagName);if(s(i,e.classNames),l(i,e.attributes),"node"===e.contentType?i.appendChild(e.content.jquery?e.content[0]:e.content):"html"===e.contentType?i.innerHTML=e.content:i.textContent=e.content,e.arrowTagName){var o=r.createElement(e.arrowTagName);s(o,e.arrowClassNames),l(o,e.arrowAttributes),i.appendChild(o)}var a=e.parent.jquery?e.parent[0]:e.parent;if("string"===typeof a){if(a=r.querySelectorAll(e.parent),a.length>1&&console.warn("WARNING: the given `parent` query("+e.parent+") matched more than one element, the first one will be used"),0===a.length)throw"ERROR: the given `parent` doesn't exists!";a=a[0]}return a.length>1&&a instanceof Element===!1&&(console.warn("WARNING: you have passed as parent a list of elements, the first one will be used"),a=a[0]),a.appendChild(i),i;function s(t,e){e.forEach((function(e){t.classList.add(e)}))}function l(t,e){e.forEach((function(e){t.setAttribute(e.split(":")[0],e.split(":")[1]||"")}))}},n.prototype._getPosition=function(t,e){var n=l(e);if(this._options.forceAbsolute)return"absolute";var r=u(e,n);return r?"fixed":"absolute"},n.prototype._getOffsets=function(t,e,n){n=n.split("-")[0];var i={};i.position=this.state.position;var o="fixed"===i.position,a=v(e,l(t),o),s=r(t);return-1!==["right","left"].indexOf(n)?(i.top=a.top+a.height/2-s.height/2,i.left="left"===n?a.left-s.width:a.right):(i.left=a.left+a.width/2-s.width/2,i.top="top"===n?a.top-s.height:a.bottom),i.width=s.width,i.height=s.height,{popper:i,reference:a}},n.prototype._setupEventListeners=function(){if(this.state.updateBound=this.update.bind(this),t.addEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement){var e=c(this._reference);e!==t.document.body&&e!==t.document.documentElement||(e=t),e.addEventListener("scroll",this.state.updateBound),this.state.scrollTarget=e}},n.prototype._removeEventListeners=function(){t.removeEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement&&this.state.scrollTarget&&(this.state.scrollTarget.removeEventListener("scroll",this.state.updateBound),this.state.scrollTarget=null),this.state.updateBound=null},n.prototype._getBoundaries=function(e,n,r){var i,o,a={};if("window"===r){var s=t.document.body,u=t.document.documentElement;o=Math.max(s.scrollHeight,s.offsetHeight,u.clientHeight,u.scrollHeight,u.offsetHeight),i=Math.max(s.scrollWidth,s.offsetWidth,u.clientWidth,u.scrollWidth,u.offsetWidth),a={top:0,right:i,bottom:o,left:0}}else if("viewport"===r){var h=l(this._popper),f=c(this._popper),p=d(h),v=function(t){return t==document.body?Math.max(document.documentElement.scrollTop,document.body.scrollTop):t.scrollTop},g=function(t){return t==document.body?Math.max(document.documentElement.scrollLeft,document.body.scrollLeft):t.scrollLeft},y="fixed"===e.offsets.popper.position?0:v(f),m="fixed"===e.offsets.popper.position?0:g(f);a={top:0-(p.top-y),right:t.document.documentElement.clientWidth-(p.left-m),bottom:t.document.documentElement.clientHeight-(p.top-y),left:0-(p.left-m)}}else a=l(this._popper)===r?{top:0,left:0,right:r.clientWidth,bottom:r.clientHeight}:d(r);return a.left+=n,a.right-=n,a.top=a.top+n,a.bottom=a.bottom-n,a},n.prototype.runModifiers=function(t,e,n){var r=e.slice();return void 0!==n&&(r=this._options.modifiers.slice(0,a(this._options.modifiers,n))),r.forEach(function(e){f(e)&&(t=e.call(this,t))}.bind(this)),t},n.prototype.isModifierRequired=function(t,e){var n=a(this._options.modifiers,t);return!!this._options.modifiers.slice(0,n).filter((function(t){return t===e})).length},n.prototype.modifiers={},n.prototype.modifiers.applyStyle=function(t){var e,n={position:t.offsets.popper.position},r=Math.round(t.offsets.popper.left),i=Math.round(t.offsets.popper.top);return this._options.gpuAcceleration&&(e=g("transform"))?(n[e]="translate3d("+r+"px, "+i+"px, 0)",n.top=0,n.left=0):(n.left=r,n.top=i),Object.assign(n,t.styles),h(this._popper,n),this._popper.setAttribute("x-placement",t.placement),this.isModifierRequired(this.modifiers.applyStyle,this.modifiers.arrow)&&t.offsets.arrow&&h(t.arrowElement,t.offsets.arrow),t},n.prototype.modifiers.shift=function(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets.reference,a=o(t.offsets.popper),s={y:{start:{top:i.top},end:{top:i.top+i.height-a.height}},x:{start:{left:i.left},end:{left:i.left+i.width-a.width}}},l=-1!==["bottom","top"].indexOf(n)?"x":"y";t.offsets.popper=Object.assign(a,s[l][r])}return t},n.prototype.modifiers.preventOverflow=function(t){var e=this._options.preventOverflowOrder,n=o(t.offsets.popper),r={left:function(){var e=n.left;return n.left<t.boundaries.left&&(e=Math.max(n.left,t.boundaries.left)),{left:e}},right:function(){var e=n.left;return n.right>t.boundaries.right&&(e=Math.min(n.left,t.boundaries.right-n.width)),{left:e}},top:function(){var e=n.top;return n.top<t.boundaries.top&&(e=Math.max(n.top,t.boundaries.top)),{top:e}},bottom:function(){var e=n.top;return n.bottom>t.boundaries.bottom&&(e=Math.min(n.top,t.boundaries.bottom-n.height)),{top:e}}};return e.forEach((function(e){t.offsets.popper=Object.assign(n,r[e]())})),t},n.prototype.modifiers.keepTogether=function(t){var e=o(t.offsets.popper),n=t.offsets.reference,r=Math.floor;return e.right<r(n.left)&&(t.offsets.popper.left=r(n.left)-e.width),e.left>r(n.right)&&(t.offsets.popper.left=r(n.right)),e.bottom<r(n.top)&&(t.offsets.popper.top=r(n.top)-e.height),e.top>r(n.bottom)&&(t.offsets.popper.top=r(n.bottom)),t},n.prototype.modifiers.flip=function(t){if(!this.isModifierRequired(this.modifiers.flip,this.modifiers.preventOverflow))return console.warn("WARNING: preventOverflow modifier is required by flip modifier in order to work, be sure to include it before flip!"),t;if(t.flipped&&t.placement===t._originalPlacement)return t;var e=t.placement.split("-")[0],n=i(e),r=t.placement.split("-")[1]||"",a=[];return a="flip"===this._options.flipBehavior?[e,n]:this._options.flipBehavior,a.forEach(function(s,l){if(e===s&&a.length!==l+1){e=t.placement.split("-")[0],n=i(e);var c=o(t.offsets.popper),u=-1!==["right","bottom"].indexOf(e);(u&&Math.floor(t.offsets.reference[e])>Math.floor(c[n])||!u&&Math.floor(t.offsets.reference[e])<Math.floor(c[n]))&&(t.flipped=!0,t.placement=a[l+1],r&&(t.placement+="-"+r),t.offsets.popper=this._getOffsets(this._popper,this._reference,t.placement).popper,t=this.runModifiers(t,this._options.modifiers,this._flip))}}.bind(this)),t},n.prototype.modifiers.offset=function(t){var e=this._options.offset,n=t.offsets.popper;return-1!==t.placement.indexOf("left")?n.top-=e:-1!==t.placement.indexOf("right")?n.top+=e:-1!==t.placement.indexOf("top")?n.left-=e:-1!==t.placement.indexOf("bottom")&&(n.left+=e),t},n.prototype.modifiers.arrow=function(t){var e=this._options.arrowElement,n=this._options.arrowOffset;if("string"===typeof e&&(e=this._popper.querySelector(e)),!e)return t;if(!this._popper.contains(e))return console.warn("WARNING: `arrowElement` must be child of its popper element!"),t;if(!this.isModifierRequired(this.modifiers.arrow,this.modifiers.keepTogether))return console.warn("WARNING: keepTogether modifier is required by arrow modifier in order to work, be sure to include it before arrow!"),t;var i={},a=t.placement.split("-")[0],s=o(t.offsets.popper),l=t.offsets.reference,c=-1!==["left","right"].indexOf(a),u=c?"height":"width",h=c?"top":"left",f=c?"left":"top",d=c?"bottom":"right",p=r(e)[u];l[d]-p<s[h]&&(t.offsets.popper[h]-=s[h]-(l[d]-p)),l[h]+p>s[d]&&(t.offsets.popper[h]+=l[h]+p-s[d]);var v=l[h]+(n||l[u]/2-p/2),g=v-s[h];return g=Math.max(Math.min(s[u]-p-8,g),8),i[h]=g,i[f]="",t.offsets.arrow=i,t.arrowElement=e,t},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r){r=Object(r);for(var i=Object.keys(r),o=0,a=i.length;o<a;o++){var s=i[o],l=Object.getOwnPropertyDescriptor(r,s);void 0!==l&&l.enumerable&&(e[s]=r[s])}}}return e}}),n}))},7474:function(t,e,n){"use strict";e.__esModule=!0,e.PopupManager=void 0;var r=n(7195),i=f(r),o=n(2198),a=f(o),s=n(9453),l=f(s),c=n(5713),u=f(c),h=n(1610);function f(t){return t&&t.__esModule?t:{default:t}}var d=1,p=void 0;e["default"]={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount:function(){this._popupId="popup-"+d++,l.default.register(this._popupId,this)},beforeDestroy:function(){l.default.deregister(this._popupId),l.default.closeModal(this._popupId),this.restoreBodyStyle()},data:function(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible:function(t){var e=this;if(t){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,i.default.nextTick((function(){e.open()})))}else this.close()}},methods:{open:function(t){var e=this;this.rendered||(this.rendered=!0);var n=(0,a.default)({},this.$props||this,t);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var r=Number(n.openDelay);r>0?this._openTimer=setTimeout((function(){e._openTimer=null,e.doOpen(n)}),r):this.doOpen(n)},doOpen:function(t){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0;var e=this.$el,n=t.modal,r=t.zIndex;if(r&&(l.default.zIndex=r),n&&(this._closing&&(l.default.closeModal(this._popupId),this._closing=!1),l.default.openModal(this._popupId,l.default.nextZIndex(),this.modalAppendToBody?void 0:e,t.modalClass,t.modalFade),t.lockScroll)){this.withoutHiddenClass=!(0,h.hasClass)(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt((0,h.getStyle)(document.body,"paddingRight"),10)),p=(0,u.default)();var i=document.documentElement.clientHeight<document.body.scrollHeight,o=(0,h.getStyle)(document.body,"overflowY");p>0&&(i||"scroll"===o)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+p+"px"),(0,h.addClass)(document.body,"el-popup-parent--hidden")}"static"===getComputedStyle(e).position&&(e.style.position="absolute"),e.style.zIndex=l.default.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var t=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var e=Number(this.closeDelay);e>0?this._closeTimer=setTimeout((function(){t._closeTimer=null,t.doClose()}),e):this.doClose()}},doClose:function(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose:function(){l.default.closeModal(this._popupId),this._closing=!1},restoreBodyStyle:function(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,(0,h.removeClass)(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},e.PopupManager=l.default},9453:function(t,e,n){"use strict";n(7658),e.__esModule=!0;var r=n(7195),i=a(r),o=n(1610);function a(t){return t&&t.__esModule?t:{default:t}}var s=!1,l=!1,c=void 0,u=function(){if(!i.default.prototype.$isServer){var t=f.modalDom;return t?s=!0:(s=!1,t=document.createElement("div"),f.modalDom=t,t.addEventListener("touchmove",(function(t){t.preventDefault(),t.stopPropagation()})),t.addEventListener("click",(function(){f.doOnModalClick&&f.doOnModalClick()}))),t}},h={},f={modalFade:!0,getInstance:function(t){return h[t]},register:function(t,e){t&&e&&(h[t]=e)},deregister:function(t){t&&(h[t]=null,delete h[t])},nextZIndex:function(){return f.zIndex++},modalStack:[],doOnModalClick:function(){var t=f.modalStack[f.modalStack.length-1];if(t){var e=f.getInstance(t.id);e&&e.closeOnClickModal&&e.close()}},openModal:function(t,e,n,r,a){if(!i.default.prototype.$isServer&&t&&void 0!==e){this.modalFade=a;for(var l=this.modalStack,c=0,h=l.length;c<h;c++){var f=l[c];if(f.id===t)return}var d=u();if((0,o.addClass)(d,"v-modal"),this.modalFade&&!s&&(0,o.addClass)(d,"v-modal-enter"),r){var p=r.trim().split(/\s+/);p.forEach((function(t){return(0,o.addClass)(d,t)}))}setTimeout((function(){(0,o.removeClass)(d,"v-modal-enter")}),200),n&&n.parentNode&&11!==n.parentNode.nodeType?n.parentNode.appendChild(d):document.body.appendChild(d),e&&(d.style.zIndex=e),d.tabIndex=0,d.style.display="",this.modalStack.push({id:t,zIndex:e,modalClass:r})}},closeModal:function(t){var e=this.modalStack,n=u();if(e.length>0){var r=e[e.length-1];if(r.id===t){if(r.modalClass){var i=r.modalClass.trim().split(/\s+/);i.forEach((function(t){return(0,o.removeClass)(n,t)}))}e.pop(),e.length>0&&(n.style.zIndex=e[e.length-1].zIndex)}else for(var a=e.length-1;a>=0;a--)if(e[a].id===t){e.splice(a,1);break}}0===e.length&&(this.modalFade&&(0,o.addClass)(n,"v-modal-leave"),setTimeout((function(){0===e.length&&(n.parentNode&&n.parentNode.removeChild(n),n.style.display="none",f.modalDom=void 0),(0,o.removeClass)(n,"v-modal-leave")}),200))}};Object.defineProperty(f,"zIndex",{configurable:!0,get:function(){return l||(c=c||(i.default.prototype.$ELEMENT||{}).zIndex||2e3,l=!0),c},set:function(t){c=t}});var d=function(){if(!i.default.prototype.$isServer&&f.modalStack.length>0){var t=f.modalStack[f.modalStack.length-1];if(!t)return;var e=f.getInstance(t.id);return e}};i.default.prototype.$isServer||window.addEventListener("keydown",(function(t){if(27===t.keyCode){var e=d();e&&e.closeOnPressEscape&&(e.handleClose?e.handleClose():e.handleAction?e.handleAction("cancel"):e.close())}})),e["default"]=f},1432:function(t,e,n){"use strict";n(7658),e.__esModule=!0,e.removeResizeListener=e.addResizeListener=void 0;var r=n(5291),i=a(r),o=n(1009);function a(t){return t&&t.__esModule?t:{default:t}}var s="undefined"===typeof window,l=function(t){var e=t,n=Array.isArray(e),r=0;for(e=n?e:e[Symbol.iterator]();;){var i;if(n){if(r>=e.length)break;i=e[r++]}else{if(r=e.next(),r.done)break;i=r.value}var o=i,a=o.target.__resizeListeners__||[];a.length&&a.forEach((function(t){t()}))}};e.addResizeListener=function(t,e){s||(t.__resizeListeners__||(t.__resizeListeners__=[],t.__ro__=new i.default((0,o.debounce)(16,l)),t.__ro__.observe(t)),t.__resizeListeners__.push(e))},e.removeResizeListener=function(t,e){t&&t.__resizeListeners__&&(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||t.__ro__.disconnect())}},2809:function(t,e,n){"use strict";n(7658),e.__esModule=!0,e["default"]=a;var r=n(7195),i=o(r);function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!i.default.prototype.$isServer)if(e){var n=[],r=e.offsetParent;while(r&&t!==r&&t.contains(r))n.push(r),r=r.offsetParent;var o=e.offsetTop+n.reduce((function(t,e){return t+e.offsetTop}),0),a=o+e.offsetHeight,s=t.scrollTop,l=s+t.clientHeight;o<s?t.scrollTop=o:a>l&&(t.scrollTop=a-t.clientHeight)}else t.scrollTop=0}},5713:function(t,e,n){"use strict";e.__esModule=!0,e["default"]=function(){if(i.default.prototype.$isServer)return 0;if(void 0!==a)return a;var t=document.createElement("div");t.className="el-scrollbar__wrap",t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",t.appendChild(n);var r=n.offsetWidth;return t.parentNode.removeChild(t),a=e-r,a};var r=n(7195),i=o(r);function o(t){return t&&t.__esModule?t:{default:t}}var a=void 0},4541:function(t,e){"use strict";function n(t){return void 0!==t&&null!==t}function r(t){var e=/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi;return e.test(t)}e.__esModule=!0,e.isDef=n,e.isKorean=r},3860:function(t,e,n){"use strict";n(1439),n(7585),n(5315),e.__esModule=!0,e.isDefined=e.isUndefined=e.isFunction=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.isString=s,e.isObject=l,e.isHtmlElement=c;var i=n(7195),o=a(i);function a(t){return t&&t.__esModule?t:{default:t}}function s(t){return"[object String]"===Object.prototype.toString.call(t)}function l(t){return"[object Object]"===Object.prototype.toString.call(t)}function c(t){return t&&t.nodeType===Node.ELEMENT_NODE}var u=function(t){var e={};return t&&"[object Function]"===e.toString.call(t)};"object"===("undefined"===typeof Int8Array?"undefined":r(Int8Array))||!o.default.prototype.$isServer&&"function"===typeof document.childNodes||(e.isFunction=u=function(t){return"function"===typeof t||!1}),e.isFunction=u;e.isUndefined=function(t){return void 0===t},e.isDefined=function(t){return void 0!==t&&null!==t}},8501:function(t,e,n){"use strict";e.__esModule=!0,e.isMac=e.isEmpty=e.isEqual=e.arrayEquals=e.looseEqual=e.capitalize=e.kebabCase=e.autoprefixer=e.isFirefox=e.isEdge=e.isIE=e.coerceTruthyValueToArray=e.arrayFind=e.arrayFindIndex=e.escapeRegexpString=e.valueEquals=e.generateId=e.getValueByPath=void 0;var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.noop=c,e.hasOwn=u,e.toObject=f,e.getPropByPath=d,e.rafThrottle=m,e.objToArray=b;var i=n(7195),o=s(i),a=n(3860);function s(t){return t&&t.__esModule?t:{default:t}}var l=Object.prototype.hasOwnProperty;function c(){}function u(t,e){return l.call(t,e)}function h(t,e){for(var n in e)t[n]=e[n];return t}function f(t){for(var e={},n=0;n<t.length;n++)t[n]&&h(e,t[n]);return e}e.getValueByPath=function(t,e){e=e||"";for(var n=e.split("."),r=t,i=null,o=0,a=n.length;o<a;o++){var s=n[o];if(!r)break;if(o===a-1){i=r[s];break}r=r[s]}return i};function d(t,e,n){var r=t;e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");for(var i=e.split("."),o=0,a=i.length;o<a-1;++o){if(!r&&!n)break;var s=i[o];if(!(s in r)){if(n)throw new Error("please transfer a valid prop path to form item!");break}r=r[s]}return{o:r,k:i[o],v:r?r[i[o]]:null}}e.generateId=function(){return Math.floor(1e4*Math.random())},e.valueEquals=function(t,e){if(t===e)return!0;if(!(t instanceof Array))return!1;if(!(e instanceof Array))return!1;if(t.length!==e.length)return!1;for(var n=0;n!==t.length;++n)if(t[n]!==e[n])return!1;return!0},e.escapeRegexpString=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(t).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};var p=e.arrayFindIndex=function(t,e){for(var n=0;n!==t.length;++n)if(e(t[n]))return n;return-1},v=(e.arrayFind=function(t,e){var n=p(t,e);return-1!==n?t[n]:void 0},e.coerceTruthyValueToArray=function(t){return Array.isArray(t)?t:t?[t]:[]},e.isIE=function(){return!o.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},e.isEdge=function(){return!o.default.prototype.$isServer&&navigator.userAgent.indexOf("Edge")>-1},e.isFirefox=function(){return!o.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},e.autoprefixer=function(t){if("object"!==("undefined"===typeof t?"undefined":r(t)))return t;var e=["transform","transition","animation"],n=["ms-","webkit-"];return e.forEach((function(e){var r=t[e];e&&r&&n.forEach((function(n){t[n+e]=r}))})),t},e.kebabCase=function(t){var e=/([^-])([A-Z])/g;return t.replace(e,"$1-$2").replace(e,"$1-$2").toLowerCase()},e.capitalize=function(t){return(0,a.isString)(t)?t.charAt(0).toUpperCase()+t.slice(1):t},e.looseEqual=function(t,e){var n=(0,a.isObject)(t),r=(0,a.isObject)(e);return n&&r?JSON.stringify(t)===JSON.stringify(e):!n&&!r&&String(t)===String(e)}),g=e.arrayEquals=function(t,e){if(t=t||[],e=e||[],t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!v(t[n],e[n]))return!1;return!0},y=(e.isEqual=function(t,e){return Array.isArray(t)&&Array.isArray(e)?g(t,e):v(t,e)},e.isEmpty=function(t){if(null==t)return!0;if("boolean"===typeof t)return!1;if("number"===typeof t)return!t;if(t instanceof Error)return""===t.message;switch(Object.prototype.toString.call(t)){case"[object String]":case"[object Array]":return!t.length;case"[object File]":case"[object Map]":case"[object Set]":return!t.size;case"[object Object]":return!Object.keys(t).length}return!1});function m(t){var e=!1;return function(){for(var n=this,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];e||(e=!0,window.requestAnimationFrame((function(r){t.apply(n,i),e=!1})))}}function b(t){return Array.isArray(t)?t:y(t)?[]:[t]}e.isMac=function(){return!o.default.prototype.$isServer&&/macintosh|mac os x/i.test(navigator.userAgent)}},2155:function(t,e,n){"use strict";e.__esModule=!0;var r=n(7195),i=a(r),o=n(7474);function a(t){return t&&t.__esModule?t:{default:t}}var s=i.default.prototype.$isServer?function(){}:n(3242),l=function(t){return t.stopPropagation()};e["default"]={props:{transformOrigin:{type:[Boolean,String],default:!0},placement:{type:String,default:"bottom"},boundariesPadding:{type:Number,default:5},reference:{},popper:{},offset:{default:0},value:Boolean,visibleArrow:Boolean,arrowOffset:{type:Number,default:35},appendToBody:{type:Boolean,default:!0},popperOptions:{type:Object,default:function(){return{gpuAcceleration:!1}}}},data:function(){return{showPopper:!1,currentPlacement:""}},watch:{value:{immediate:!0,handler:function(t){this.showPopper=t,this.$emit("input",t)}},showPopper:function(t){this.disabled||(t?this.updatePopper():this.destroyPopper(),this.$emit("input",t))}},methods:{createPopper:function(){var t=this;if(!this.$isServer&&(this.currentPlacement=this.currentPlacement||this.placement,/^(top|bottom|left|right)(-start|-end)?$/g.test(this.currentPlacement))){var e=this.popperOptions,n=this.popperElm=this.popperElm||this.popper||this.$refs.popper,r=this.referenceElm=this.referenceElm||this.reference||this.$refs.reference;!r&&this.$slots.reference&&this.$slots.reference[0]&&(r=this.referenceElm=this.$slots.reference[0].elm),n&&r&&(this.visibleArrow&&this.appendArrow(n),this.appendToBody&&document.body.appendChild(this.popperElm),this.popperJS&&this.popperJS.destroy&&this.popperJS.destroy(),e.placement=this.currentPlacement,e.offset=this.offset,e.arrowOffset=this.arrowOffset,this.popperJS=new s(r,n,e),this.popperJS.onCreate((function(e){t.$emit("created",t),t.resetTransformOrigin(),t.$nextTick(t.updatePopper)})),"function"===typeof e.onUpdate&&this.popperJS.onUpdate(e.onUpdate),this.popperJS._popper.style.zIndex=o.PopupManager.nextZIndex(),this.popperElm.addEventListener("click",l))}},updatePopper:function(){var t=this.popperJS;t?(t.update(),t._popper&&(t._popper.style.zIndex=o.PopupManager.nextZIndex())):this.createPopper()},doDestroy:function(t){!this.popperJS||this.showPopper&&!t||(this.popperJS.destroy(),this.popperJS=null)},destroyPopper:function(){this.popperJS&&this.resetTransformOrigin()},resetTransformOrigin:function(){if(this.transformOrigin){var t={top:"bottom",bottom:"top",left:"right",right:"left"},e=this.popperJS._popper.getAttribute("x-placement").split("-")[0],n=t[e];this.popperJS._popper.style.transformOrigin="string"===typeof this.transformOrigin?this.transformOrigin:["top","bottom"].indexOf(e)>-1?"center "+n:n+" center"}},appendArrow:function(t){var e=void 0;if(!this.appended){for(var n in this.appended=!0,t.attributes)if(/^_v-/.test(t.attributes[n].name)){e=t.attributes[n].name;break}var r=document.createElement("div");e&&r.setAttribute(e,""),r.setAttribute("x-arrow",""),r.className="popper__arrow",t.appendChild(r)}}},beforeDestroy:function(){this.doDestroy(!0),this.popperElm&&this.popperElm.parentNode===document.body&&(this.popperElm.removeEventListener("click",l),document.body.removeChild(this.popperElm))},deactivated:function(){this.$options.beforeDestroy[0].call(this)}}},4286:function(t,e,n){n(7658),function(t,n){n(e)}(0,(function(t){"use strict";function e(t,e,n,r){r=r||{};var i=r.maxIterations||100,o=r.tolerance||1e-10,a=t(e),s=t(n),l=n-e;if(a*s>0)throw"Initial bisect points must have opposite signs";if(0===a)return e;if(0===s)return n;for(var c=0;c<i;++c){l/=2;var u=e+l,h=t(u);if(h*a>=0&&(e=u),Math.abs(l)<o||0===h)return u}return e+l}function n(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=0;return e}function r(t,e){return n(t).map((function(){return n(e)}))}function i(t,e){for(var n=0,r=0;r<t.length;++r)n+=t[r]*e[r];return n}function o(t){return Math.sqrt(i(t,t))}function a(t,e,n){for(var r=0;r<e.length;++r)t[r]=e[r]*n}function s(t,e,n,r,i){for(var o=0;o<t.length;++o)t[o]=e*n[o]+r*i[o]}function l(t,e,n){n=n||{};var r,i=n.maxIterations||200*e.length,o=n.nonZeroDelta||1.05,a=n.zeroDelta||.001,l=n.minErrorDelta||1e-6,c=n.minErrorDelta||1e-5,u=void 0!==n.rho?n.rho:1,h=void 0!==n.chi?n.chi:2,f=void 0!==n.psi?n.psi:-.5,d=void 0!==n.sigma?n.sigma:.5,p=e.length,v=new Array(p+1);v[0]=e,v[0].fx=t(e),v[0].id=0;for(var g=0;g<p;++g){var y=e.slice();y[g]=y[g]?y[g]*o:a,v[g+1]=y,v[g+1].fx=t(y),v[g+1].id=g+1}function m(t){for(var e=0;e<t.length;e++)v[p][e]=t[e];v[p].fx=t.fx}for(var b=function(t,e){return t.fx-e.fx},x=e.slice(),w=e.slice(),O=e.slice(),C=e.slice(),S=0;S<i;++S){if(v.sort(b),n.history){var _=v.map((function(t){var e=t.slice();return e.fx=t.fx,e.id=t.id,e}));_.sort((function(t,e){return t.id-e.id})),n.history.push({x:v[0].slice(),fx:v[0].fx,simplex:_})}for(r=0,g=0;g<p;++g)r=Math.max(r,Math.abs(v[0][g]-v[1][g]));if(Math.abs(v[0].fx-v[p].fx)<l&&r<c)break;for(g=0;g<p;++g){x[g]=0;for(var E=0;E<p;++E)x[g]+=v[E][g];x[g]/=p}var M=v[p];if(s(w,1+u,x,-u,M),w.fx=t(w),w.fx<v[0].fx)s(C,1+h,x,-h,M),C.fx=t(C),C.fx<w.fx?m(C):m(w);else if(w.fx>=v[p-1].fx){var k=!1;if(w.fx>M.fx?(s(O,1+f,x,-f,M),O.fx=t(O),O.fx<M.fx?m(O):k=!0):(s(O,1-f*u,x,f*u,M),O.fx=t(O),O.fx<w.fx?m(O):k=!0),k){if(d>=1)break;for(g=1;g<v.length;++g)s(v[g],1-d,v[0],d,v[g]),v[g].fx=t(v[g])}}else m(w)}return v.sort(b),{fx:v[0].fx,x:v[0]}}function c(t,e,n,r,o,a,l){var c=n.fx,u=i(n.fxprime,e),h=c,f=c,d=u,p=0;function v(f,p,v){for(var g=0;g<16;++g)if(o=(f+p)/2,s(r.x,1,n.x,o,e),h=r.fx=t(r.x,r.fxprime),d=i(r.fxprime,e),h>c+a*o*u||h>=v)p=o;else{if(Math.abs(d)<=-l*u)return o;d*(p-f)>=0&&(p=f),f=o,v=h}return 0}o=o||1,a=a||1e-6,l=l||.1;for(var g=0;g<10;++g){if(s(r.x,1,n.x,o,e),h=r.fx=t(r.x,r.fxprime),d=i(r.fxprime,e),h>c+a*o*u||g&&h>=f)return v(p,o,f);if(Math.abs(d)<=-l*u)return o;if(d>=0)return v(o,p,h);f=h,p=o,o*=2}return o}function u(t,e,n){var r,l,u,h={x:e.slice(),fx:0,fxprime:e.slice()},f={x:e.slice(),fx:0,fxprime:e.slice()},d=e.slice(),p=1;n=n||{},u=n.maxIterations||20*e.length,h.fx=t(h.x,h.fxprime),r=h.fxprime.slice(),a(r,h.fxprime,-1);for(var v=0;v<u;++v){if(p=c(t,r,h,f,p),n.history&&n.history.push({x:h.x.slice(),fx:h.fx,fxprime:h.fxprime.slice(),alpha:p}),p){s(d,1,f.fxprime,-1,h.fxprime);var g=i(h.fxprime,h.fxprime),y=Math.max(0,i(d,f.fxprime)/g);s(r,y,r,-1,f.fxprime),l=h,h=f,f=l}else a(r,h.fxprime,-1);if(o(h.fxprime)<=1e-5)break}return n.history&&n.history.push({x:h.x.slice(),fx:h.fx,fxprime:h.fxprime.slice(),alpha:p}),h}function h(t,e,n){n=n||{};for(var r=n.maxIterations||100*e.length,i=n.learnRate||.001,a={x:e.slice(),fx:0,fxprime:e.slice()},l=0;l<r;++l)if(a.fx=t(a.x,a.fxprime),n.history&&n.history.push({x:a.x.slice(),fx:a.fx,fxprime:a.fxprime.slice()}),s(a.x,1,a.x,-i,a.fxprime),o(a.fxprime)<=1e-5)break;return a}function f(t,e,n){n=n||{};var r,i={x:e.slice(),fx:0,fxprime:e.slice()},s={x:e.slice(),fx:0,fxprime:e.slice()},l=n.maxIterations||100*e.length,u=n.learnRate||1,h=e.slice(),f=n.c1||.001,d=n.c2||.1,p=[];if(n.history){var v=t;t=function(t,e){return p.push(t.slice()),v(t,e)}}i.fx=t(i.x,i.fxprime);for(var g=0;g<l;++g)if(a(h,i.fxprime,-1),u=c(t,h,i,s,u,f,d),n.history&&(n.history.push({x:i.x.slice(),fx:i.fx,fxprime:i.fxprime.slice(),functionCalls:p,learnRate:u,alpha:u}),p=[]),r=i,i=s,s=r,0===u||o(i.fxprime)<1e-5)break;return i}t.bisect=e,t.nelderMead=l,t.conjugateGradient=u,t.gradientDescent=h,t.gradientDescentLineSearch=f,t.zeros=n,t.zerosM=r,t.norm2=o,t.weightedSum=s,t.scale=a}))},3644:function(t,e,n){t.exports=n(4966)},2896:function(t){"use strict";var e=!("undefined"===typeof window||!window.document||!window.document.createElement),n={canUseDOM:e,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:e&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:e&&!!window.screen,isInWorker:!e};t.exports=n},2118:function(t){var e,n,r,i,o,a,s,l,c,u,h,f,d,p,v,g=!1;function y(){if(!g){g=!0;var t=navigator.userAgent,y=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),m=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(f=/\b(iPhone|iP[ao]d)/.exec(t),d=/\b(iP[ao]d)/.exec(t),u=/Android/i.exec(t),p=/FBAN\/\w+;/i.exec(t),v=/Mobile/i.exec(t),h=!!/Win64/.exec(t),y){e=y[1]?parseFloat(y[1]):y[5]?parseFloat(y[5]):NaN,e&&document&&document.documentMode&&(e=document.documentMode);var b=/(?:Trident\/(\d+.\d+))/.exec(t);a=b?parseFloat(b[1])+4:e,n=y[2]?parseFloat(y[2]):NaN,r=y[3]?parseFloat(y[3]):NaN,i=y[4]?parseFloat(y[4]):NaN,i?(y=/(?:Chrome\/(\d+\.\d+))/.exec(t),o=y&&y[1]?parseFloat(y[1]):NaN):o=NaN}else e=n=r=o=i=NaN;if(m){if(m[1]){var x=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);s=!x||parseFloat(x[1].replace("_","."))}else s=!1;l=!!m[2],c=!!m[3]}else s=l=c=!1}}var m={ie:function(){return y()||e},ieCompatibilityMode:function(){return y()||a>e},ie64:function(){return m.ie()&&h},firefox:function(){return y()||n},opera:function(){return y()||r},webkit:function(){return y()||i},safari:function(){return m.webkit()},chrome:function(){return y()||o},windows:function(){return y()||l},osx:function(){return y()||s},linux:function(){return y()||c},iphone:function(){return y()||f},mobile:function(){return y()||f||d||u||v},nativeApp:function(){return y()||p},android:function(){return y()||u},ipad:function(){return y()||d}};t.exports=m},7516:function(t,e,n){"use strict";var r,i=n(2896);
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */
function o(t,e){if(!i.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,o=n in document;if(!o){var a=document.createElement("div");a.setAttribute(n,"return;"),o="function"===typeof a[n]}return!o&&r&&"wheel"===t&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}i.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),t.exports=o},4966:function(t,e,n){"use strict";var r=n(2118),i=n(7516),o=10,a=40,s=800;function l(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*o,i=n*o,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(1==t.deltaMode?(r*=a,i*=a):(r*=s,i*=s)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}l.getEventType=function(){return r.firefox()?"DOMMouseScroll":i("wheel")?"wheel":"mousewheel"},t.exports=l},4372:function(t){"use strict";var e=t.exports;t.exports.isNumber=function(t){return"number"===typeof t},t.exports.findMin=function(t){if(0===t.length)return 1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.min(e,t[n]);return e},t.exports.findMax=function(t){if(0===t.length)return-1/0;for(var e=t[0],n=1;n<t.length;n++)e=Math.max(e,t[n]);return e},t.exports.findMinMulti=function(t){for(var n=e.findMin(t[0]),r=1;r<t.length;r++)n=Math.min(n,e.findMin(t[r]));return n},t.exports.findMaxMulti=function(t){for(var n=e.findMax(t[0]),r=1;r<t.length;r++)n=Math.max(n,e.findMax(t[r]));return n},t.exports.inside=function(t,e,n){return t<=n&&n<=e}},4824:function(t,e,n){"use strict";n(7658);var r=50,i=2,o=Math.log(2),a=t.exports,s=n(4372);function l(t){return 1-Math.abs(t)}function c(t,e){for(var n={},r=0,i=-e;i<=e;i++)r+=t(i/e),n[i]=r;return n}t.exports.getUnifiedMinMax=function(t,e){return a.getUnifiedMinMaxMulti([t],e)},t.exports.getUnifiedMinMaxMulti=function(t,e){e=e||{};var n=!1,o=!1,a=s.isNumber(e.width)?e.width:i,l=s.isNumber(e.size)?e.size:r,c=s.isNumber(e.min)?e.min:(n=!0,s.findMinMulti(t)),u=s.isNumber(e.max)?e.max:(o=!0,s.findMaxMulti(t)),h=u-c,f=h/(l-1);return n&&(c-=2*a*f),o&&(u+=2*a*f),{min:c,max:u}},t.exports.create=function(t,e){if(e=e||{},!t||0===t.length)return[];var n=s.isNumber(e.size)?e.size:r,o=s.isNumber(e.width)?e.width:i,u=a.getUnifiedMinMax(t,{size:n,width:o,min:e.min,max:e.max}),h=u.min,f=u.max,d=f-h,p=d/(n-1);if(0===d)return[{x:h,y:1}];for(var v=[],g=0;g<n;g++)v.push({x:h+g*p,y:0});var y=function(t){return Math.floor((t-h)/p)},m=c(l,o),b=m[o],x=m[o-1]-m[o-2],w=0;t.forEach((function(t){var e=y(t);if(!(e+o<0||e-o>=v.length)){var n=Math.max(e-o,0),r=e,i=Math.min(e+o,v.length-1),a=n-(e-o),l=e+o-i,c=m[-o-1+a]||0,u=m[-o-1+l]||0,h=b/(b-c-u);a>0&&(w+=h*(a-1)*x);var f=Math.max(0,e-o+1);s.inside(0,v.length-1,f)&&(v[f].y+=1*h*x),s.inside(0,v.length-1,r+1)&&(v[r+1].y-=2*h*x),s.inside(0,v.length-1,i+1)&&(v[i+1].y+=1*h*x)}}));var O=w,C=0,S=0;return v.forEach((function(t){C+=t.y,O+=C,t.y=O,S+=O})),S>0&&v.forEach((function(t){t.y/=S})),v},t.exports.getExpectedValueFromPdf=function(t){if(t&&0!==t.length){var e=0;return t.forEach((function(t){e+=t.x*t.y})),e}},t.exports.getXWithLeftTailArea=function(t,e){if(t&&0!==t.length){for(var n=0,r=0,i=0;i<t.length;i++)if(r=i,n+=t[i].y,n>=e)break;return t[r].x}},t.exports.getPerplexity=function(t){if(t&&0!==t.length){var e=0;return t.forEach((function(t){var n=Math.log(t.y);isFinite(n)&&(e+=t.y*n)})),e=-e/o,Math.pow(2,e)}}},5291:function(t,e,n){"use strict";n.r(e);n(7658);var r=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,o=function(){return"undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),a=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)}}(),s=2;function l(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&c()}function l(){a(o)}function c(){var t=Date.now();if(n){if(t-i<s)return;r=!0}else n=!0,r=!1,setTimeout(l,e);i=t}return c}var c=20,u=["top","right","bottom","left","width","height","size","weight"],h="undefined"!==typeof MutationObserver,f=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=l(this.refresh.bind(this),c)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),h?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e,r=u.some((function(t){return!!~n.indexOf(t)}));r&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),d=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},p=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||o},v=_(0,0,0,0);function g(t){return parseFloat(t)||0}function y(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){var r=t["border-"+n+"-width"];return e+g(r)}),0)}function m(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],a=t["padding-"+o];n[o]=g(a)}return n}function b(t){var e=t.getBBox();return _(0,0,e.width,e.height)}function x(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return v;var r=p(t).getComputedStyle(t),i=m(r),o=i.left+i.right,a=i.top+i.bottom,s=g(r.width),l=g(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==e&&(s-=y(r,"left","right")+o),Math.round(l+a)!==n&&(l-=y(r,"top","bottom")+a)),!O(t)){var c=Math.round(s+o)-e,u=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return _(i.left,i.top,s,l)}var w=function(){return"undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof p(t).SVGGraphicsElement}:function(t){return t instanceof p(t).SVGElement&&"function"===typeof t.getBBox}}();function O(t){return t===p(t).document.documentElement}function C(t){return i?w(t)?b(t):x(t):v}function S(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return d(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}function _(t,e,n,r){return{x:t,y:e,width:n,height:r}}var E=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=_(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=C(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),M=function(){function t(t,e){var n=S(e);d(this,{target:t,contentRect:n})}return t}(),k=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof p(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new E(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof p(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new M(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),T="undefined"!==typeof WeakMap?new WeakMap:new r,A=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=f.getInstance(),r=new k(e,n,this);T.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach((function(t){A.prototype[t]=function(){var e;return(e=T.get(this))[t].apply(e,arguments)}}));var L=function(){return"undefined"!==typeof o.ResizeObserver?o.ResizeObserver:A}();e["default"]=L},4579:function(t,e,n){"use strict";n(7658);var r=n(7419),i=Array.prototype.concat,o=Array.prototype.slice,a=t.exports=function(t){for(var e=[],n=0,a=t.length;n<a;n++){var s=t[n];r(s)?e=i.call(e,o.call(s)):e.push(s)}return e};a.wrap=function(t){return function(){return t(a(arguments))}}},7419:function(t){t.exports=function(t){return!(!t||"string"===typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},6902:function(t,e,n){var r=n(2129);t.exports=function(t,e,n){return void 0===n?r(t,e,!1):r(t,n,!1!==e)}},1009:function(t,e,n){var r=n(2129),i=n(6902);t.exports={throttle:r,debounce:i}},2129:function(t){t.exports=function(t,e,n,r){var i,o=0;function a(){var a=this,s=Number(new Date)-o,l=arguments;function c(){o=Number(new Date),n.apply(a,l)}function u(){i=void 0}r&&!i&&c(),i&&clearTimeout(i),void 0===r&&s>t?c():!0!==e&&(i=setTimeout(r?u:c,void 0===r?t-s:t))}return"boolean"!==typeof e&&(r=n,n=e,e=void 0),a}},2241:function(t,e,n){"use strict";n.d(e,{ZP:function(){return Oe}});n(7658);function r(t,e){for(var n in e)t[n]=e[n];return t}var i=/[!'()*]/g,o=function(t){return"%"+t.charCodeAt(0).toString(16)},a=/%2C/g,s=function(t){return encodeURIComponent(t).replace(i,o).replace(a,",")};function l(t){try{return decodeURIComponent(t)}catch(e){0}return t}function c(t,e,n){void 0===e&&(e={});var r,i=n||h;try{r=i(t||"")}catch(s){r={}}for(var o in e){var a=e[o];r[o]=Array.isArray(a)?a.map(u):u(a)}return r}var u=function(t){return null==t||"object"===typeof t?t:String(t)};function h(t){var e={};return t=t.trim().replace(/^(\?|#|&)/,""),t?(t.split("&").forEach((function(t){var n=t.replace(/\+/g," ").split("="),r=l(n.shift()),i=n.length>0?l(n.join("=")):null;void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]})),e):e}function f(t){var e=t?Object.keys(t).map((function(e){var n=t[e];if(void 0===n)return"";if(null===n)return s(e);if(Array.isArray(n)){var r=[];return n.forEach((function(t){void 0!==t&&(null===t?r.push(s(e)):r.push(s(e)+"="+s(t)))})),r.join("&")}return s(e)+"="+s(n)})).filter((function(t){return t.length>0})).join("&"):null;return e?"?"+e:""}var d=/\/?$/;function p(t,e,n,r){var i=r&&r.options.stringifyQuery,o=e.query||{};try{o=v(o)}catch(s){}var a={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:m(e,i),matched:t?y(t):[]};return n&&(a.redirectedFrom=m(n,i)),Object.freeze(a)}function v(t){if(Array.isArray(t))return t.map(v);if(t&&"object"===typeof t){var e={};for(var n in t)e[n]=v(t[n]);return e}return t}var g=p(null,{path:"/"});function y(t){var e=[];while(t)e.unshift(t),t=t.parent;return e}function m(t,e){var n=t.path,r=t.query;void 0===r&&(r={});var i=t.hash;void 0===i&&(i="");var o=e||f;return(n||"/")+o(r)+i}function b(t,e,n){return e===g?t===e:!!e&&(t.path&&e.path?t.path.replace(d,"")===e.path.replace(d,"")&&(n||t.hash===e.hash&&x(t.query,e.query)):!(!t.name||!e.name)&&(t.name===e.name&&(n||t.hash===e.hash&&x(t.query,e.query)&&x(t.params,e.params))))}function x(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t).sort(),r=Object.keys(e).sort();return n.length===r.length&&n.every((function(n,i){var o=t[n],a=r[i];if(a!==n)return!1;var s=e[n];return null==o||null==s?o===s:"object"===typeof o&&"object"===typeof s?x(o,s):String(o)===String(s)}))}function w(t,e){return 0===t.path.replace(d,"/").indexOf(e.path.replace(d,"/"))&&(!e.hash||t.hash===e.hash)&&O(t.query,e.query)}function O(t,e){for(var n in e)if(!(n in t))return!1;return!0}function C(t){for(var e=0;e<t.matched.length;e++){var n=t.matched[e];for(var r in n.instances){var i=n.instances[r],o=n.enteredCbs[r];if(i&&o){delete n.enteredCbs[r];for(var a=0;a<o.length;a++)i._isBeingDestroyed||o[a](i)}}}}var S={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,i=e.children,o=e.parent,a=e.data;a.routerView=!0;var s=o.$createElement,l=n.name,c=o.$route,u=o._routerViewCache||(o._routerViewCache={}),h=0,f=!1;while(o&&o._routerRoot!==o){var d=o.$vnode?o.$vnode.data:{};d.routerView&&h++,d.keepAlive&&o._directInactive&&o._inactive&&(f=!0),o=o.$parent}if(a.routerViewDepth=h,f){var p=u[l],v=p&&p.component;return v?(p.configProps&&_(v,a,p.route,p.configProps),s(v,a,i)):s()}var g=c.matched[h],y=g&&g.components[l];if(!g||!y)return u[l]=null,s();u[l]={component:y},a.registerRouteInstance=function(t,e){var n=g.instances[l];(e&&n!==t||!e&&n===t)&&(g.instances[l]=e)},(a.hook||(a.hook={})).prepatch=function(t,e){g.instances[l]=e.componentInstance},a.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==g.instances[l]&&(g.instances[l]=t.componentInstance),C(c)};var m=g.props&&g.props[l];return m&&(r(u[l],{route:c,configProps:m}),_(y,a,c,m)),s(y,a,i)}};function _(t,e,n,i){var o=e.props=E(n,i);if(o){o=e.props=r({},o);var a=e.attrs=e.attrs||{};for(var s in o)t.props&&s in t.props||(a[s]=o[s],delete o[s])}}function E(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}function M(t,e,n){var r=t.charAt(0);if("/"===r)return t;if("?"===r||"#"===r)return e+t;var i=e.split("/");n&&i[i.length-1]||i.pop();for(var o=t.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function k(t){var e="",n="",r=t.indexOf("#");r>=0&&(e=t.slice(r),t=t.slice(0,r));var i=t.indexOf("?");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{path:t,query:n,hash:e}}function T(t){return t.replace(/\/(?:\s*\/)+/g,"/")}var A=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},L=K,P=B,R=D,I=W,N=q,j=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function B(t,e){var n,r=[],i=0,o=0,a="",s=e&&e.delimiter||"/";while(null!=(n=j.exec(t))){var l=n[0],c=n[1],u=n.index;if(a+=t.slice(o,u),o=u+l.length,c)a+=c[1];else{var h=t[o],f=n[2],d=n[3],p=n[4],v=n[5],g=n[6],y=n[7];a&&(r.push(a),a="");var m=null!=f&&null!=h&&h!==f,b="+"===g||"*"===g,x="?"===g||"*"===g,w=n[2]||s,O=p||v;r.push({name:d||i++,prefix:f||"",delimiter:w,optional:x,repeat:b,partial:m,asterisk:!!y,pattern:O?$(O):y?".*":"[^"+H(w)+"]+?"})}}return o<t.length&&(a+=t.substr(o)),a&&r.push(a),r}function D(t,e){return W(B(t,e),e)}function F(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function z(t){return encodeURI(t).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function W(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)"object"===typeof t[r]&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",V(e)));return function(e,r){for(var i="",o=e||{},a=r||{},s=a.pretty?F:encodeURIComponent,l=0;l<t.length;l++){var c=t[l];if("string"!==typeof c){var u,h=o[c.name];if(null==h){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(A(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(u=s(h[f]),!n[l].test(u))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(u)+"`");i+=(0===f?c.prefix:c.delimiter)+u}}else{if(u=c.asterisk?z(h):s(h),!n[l].test(u))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+u+'"');i+=c.prefix+u}}else i+=c}return i}}function H(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function $(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function G(t,e){return t.keys=e,t}function V(t){return t&&t.sensitive?"":"i"}function Y(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return G(t,e)}function U(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(K(t[i],e,n).source);var o=new RegExp("(?:"+r.join("|")+")",V(n));return G(o,e)}function X(t,e,n){return q(B(t,n),e,n)}function q(t,e,n){A(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",a=0;a<t.length;a++){var s=t[a];if("string"===typeof s)o+=H(s);else{var l=H(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+l+c+")*"),c=s.optional?s.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")",o+=c}}var u=H(n.delimiter||"/"),h=o.slice(-u.length)===u;return r||(o=(h?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=i?"$":r&&h?"":"(?="+u+"|$)",G(new RegExp("^"+o,V(n)),e)}function K(t,e,n){return A(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?Y(t,e):A(t)?U(t,e,n):X(t,e,n)}L.parse=P,L.compile=R,L.tokensToFunction=I,L.tokensToRegExp=N;var Z=Object.create(null);function Q(t,e,n){e=e||{};try{var r=Z[t]||(Z[t]=L.compile(t));return"string"===typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(i){return""}finally{delete e[0]}}function J(t,e,n,i){var o="string"===typeof t?{path:t}:t;if(o._normalized)return o;if(o.name){o=r({},t);var a=o.params;return a&&"object"===typeof a&&(o.params=r({},a)),o}if(!o.path&&o.params&&e){o=r({},o),o._normalized=!0;var s=r(r({},e.params),o.params);if(e.name)o.name=e.name,o.params=s;else if(e.matched.length){var l=e.matched[e.matched.length-1].path;o.path=Q(l,s,"path "+e.path)}else 0;return o}var u=k(o.path||""),h=e&&e.path||"/",f=u.path?M(u.path,h,n||o.append):h,d=c(u.query,o.query,i&&i.options.parseQuery),p=o.hash||u.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:f,query:d,hash:p}}var tt,et=[String,Object],nt=[String,Array],rt=function(){},it={name:"RouterLink",props:{to:{type:et,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:nt,default:"click"}},render:function(t){var e=this,n=this.$router,i=this.$route,o=n.resolve(this.to,i,this.append),a=o.location,s=o.route,l=o.href,c={},u=n.options.linkActiveClass,h=n.options.linkExactActiveClass,f=null==u?"router-link-active":u,d=null==h?"router-link-exact-active":h,v=null==this.activeClass?f:this.activeClass,g=null==this.exactActiveClass?d:this.exactActiveClass,y=s.redirectedFrom?p(null,J(s.redirectedFrom),null,n):s;c[g]=b(i,y,this.exactPath),c[v]=this.exact||this.exactPath?c[g]:w(i,y);var m=c[g]?this.ariaCurrentValue:null,x=function(t){ot(t)&&(e.replace?n.replace(a,rt):n.push(a,rt))},O={click:ot};Array.isArray(this.event)?this.event.forEach((function(t){O[t]=x})):O[this.event]=x;var C={class:c},S=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:l,route:s,navigate:x,isActive:c[v],isExactActive:c[g]});if(S){if(1===S.length)return S[0];if(S.length>1||!S.length)return 0===S.length?t():t("span",{},S)}if("a"===this.tag)C.on=O,C.attrs={href:l,"aria-current":m};else{var _=at(this.$slots.default);if(_){_.isStatic=!1;var E=_.data=r({},_.data);for(var M in E.on=E.on||{},E.on){var k=E.on[M];M in O&&(E.on[M]=Array.isArray(k)?k:[k])}for(var T in O)T in E.on?E.on[T].push(O[T]):E.on[T]=x;var A=_.data.attrs=r({},_.data.attrs);A.href=l,A["aria-current"]=m}else C.on=O}return t(this.tag,C,this.$slots.default)}};function ot(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function at(t){if(t)for(var e,n=0;n<t.length;n++){if(e=t[n],"a"===e.tag)return e;if(e.children&&(e=at(e.children)))return e}}function st(t){if(!st.installed||tt!==t){st.installed=!0,tt=t;var e=function(t){return void 0!==t},n=function(t,n){var r=t.$options._parentVnode;e(r)&&e(r=r.data)&&e(r=r.registerRouteInstance)&&r(t,n)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",S),t.component("RouterLink",it);var r=t.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var lt="undefined"!==typeof window;function ct(t,e,n,r,i){var o=e||[],a=n||Object.create(null),s=r||Object.create(null);t.forEach((function(t){ut(o,a,s,t,i)}));for(var l=0,c=o.length;l<c;l++)"*"===o[l]&&(o.push(o.splice(l,1)[0]),c--,l--);return{pathList:o,pathMap:a,nameMap:s}}function ut(t,e,n,r,i,o){var a=r.path,s=r.name;var l=r.pathToRegexpOptions||{},c=ft(a,i,l.strict);"boolean"===typeof r.caseSensitive&&(l.sensitive=r.caseSensitive);var u={path:c,regex:ht(c,l),components:r.components||{default:r.component},alias:r.alias?"string"===typeof r.alias?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:s,parent:i,matchAs:o,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach((function(r){var i=o?T(o+"/"+r.path):void 0;ut(t,e,n,r,u,i)})),e[u.path]||(t.push(u.path),e[u.path]=u),void 0!==r.alias)for(var h=Array.isArray(r.alias)?r.alias:[r.alias],f=0;f<h.length;++f){var d=h[f];0;var p={path:d,children:r.children};ut(t,e,n,p,i,u.path||"/")}s&&(n[s]||(n[s]=u))}function ht(t,e){var n=L(t,[],e);return n}function ft(t,e,n){return n||(t=t.replace(/\/$/,"")),"/"===t[0]||null==e?t:T(e.path+"/"+t)}function dt(t,e){var n=ct(t),r=n.pathList,i=n.pathMap,o=n.nameMap;function a(t){ct(t,r,i,o)}function s(t,e){var n="object"!==typeof t?o[t]:void 0;ct([e||t],r,i,o,n),n&&n.alias.length&&ct(n.alias.map((function(t){return{path:t,children:[e]}})),r,i,o,n)}function l(){return r.map((function(t){return i[t]}))}function c(t,n,a){var s=J(t,n,!1,e),l=s.name;if(l){var c=o[l];if(!c)return f(null,s);var u=c.regex.keys.filter((function(t){return!t.optional})).map((function(t){return t.name}));if("object"!==typeof s.params&&(s.params={}),n&&"object"===typeof n.params)for(var h in n.params)!(h in s.params)&&u.indexOf(h)>-1&&(s.params[h]=n.params[h]);return s.path=Q(c.path,s.params,'named route "'+l+'"'),f(c,s,a)}if(s.path){s.params={};for(var d=0;d<r.length;d++){var p=r[d],v=i[p];if(pt(v.regex,s.path,s.params))return f(v,s,a)}}return f(null,s)}function u(t,n){var r=t.redirect,i="function"===typeof r?r(p(t,n,null,e)):r;if("string"===typeof i&&(i={path:i}),!i||"object"!==typeof i)return f(null,n);var a=i,s=a.name,l=a.path,u=n.query,h=n.hash,d=n.params;if(u=a.hasOwnProperty("query")?a.query:u,h=a.hasOwnProperty("hash")?a.hash:h,d=a.hasOwnProperty("params")?a.params:d,s){o[s];return c({_normalized:!0,name:s,query:u,hash:h,params:d},void 0,n)}if(l){var v=vt(l,t),g=Q(v,d,'redirect route with path "'+v+'"');return c({_normalized:!0,path:g,query:u,hash:h},void 0,n)}return f(null,n)}function h(t,e,n){var r=Q(n,e.params,'aliased route with path "'+n+'"'),i=c({_normalized:!0,path:r});if(i){var o=i.matched,a=o[o.length-1];return e.params=i.params,f(a,e)}return f(null,e)}function f(t,n,r){return t&&t.redirect?u(t,r||n):t&&t.matchAs?h(t,n,t.matchAs):p(t,n,r,e)}return{match:c,addRoute:s,getRoutes:l,addRoutes:a}}function pt(t,e,n){var r=e.match(t);if(!r)return!1;if(!n)return!0;for(var i=1,o=r.length;i<o;++i){var a=t.keys[i-1];a&&(n[a.name||"pathMatch"]="string"===typeof r[i]?l(r[i]):r[i])}return!0}function vt(t,e){return M(t,e.parent?e.parent.path:"/",!0)}var gt=lt&&window.performance&&window.performance.now?window.performance:Date;function yt(){return gt.now().toFixed(3)}var mt=yt();function bt(){return mt}function xt(t){return mt=t}var wt=Object.create(null);function Ot(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,""),n=r({},window.history.state);return n.key=bt(),window.history.replaceState(n,"",e),window.addEventListener("popstate",_t),function(){window.removeEventListener("popstate",_t)}}function Ct(t,e,n,r){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick((function(){var o=Et(),a=i.call(t,e,n,r?o:null);a&&("function"===typeof a.then?a.then((function(t){Rt(t,o)})).catch((function(t){0})):Rt(a,o))}))}}function St(){var t=bt();t&&(wt[t]={x:window.pageXOffset,y:window.pageYOffset})}function _t(t){St(),t.state&&t.state.key&&xt(t.state.key)}function Et(){var t=bt();if(t)return wt[t]}function Mt(t,e){var n=document.documentElement,r=n.getBoundingClientRect(),i=t.getBoundingClientRect();return{x:i.left-r.left-e.x,y:i.top-r.top-e.y}}function kt(t){return Lt(t.x)||Lt(t.y)}function Tt(t){return{x:Lt(t.x)?t.x:window.pageXOffset,y:Lt(t.y)?t.y:window.pageYOffset}}function At(t){return{x:Lt(t.x)?t.x:0,y:Lt(t.y)?t.y:0}}function Lt(t){return"number"===typeof t}var Pt=/^#\d/;function Rt(t,e){var n="object"===typeof t;if(n&&"string"===typeof t.selector){var r=Pt.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(r){var i=t.offset&&"object"===typeof t.offset?t.offset:{};i=At(i),e=Mt(r,i)}else kt(t)&&(e=Tt(t))}else n&&kt(t)&&(e=Tt(t));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:t.behavior}):window.scrollTo(e.x,e.y))}var It=lt&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"function"===typeof window.history.pushState)}();function Nt(t,e){St();var n=window.history;try{if(e){var i=r({},n.state);i.key=bt(),n.replaceState(i,"",t)}else n.pushState({key:xt(yt())},"",t)}catch(o){window.location[e?"replace":"assign"](t)}}function jt(t){Nt(t,!0)}var Bt={redirected:2,aborted:4,cancelled:8,duplicated:16};function Dt(t,e){return Ht(t,e,Bt.redirected,'Redirected when going from "'+t.fullPath+'" to "'+Gt(e)+'" via a navigation guard.')}function Ft(t,e){var n=Ht(t,e,Bt.duplicated,'Avoided redundant navigation to current location: "'+t.fullPath+'".');return n.name="NavigationDuplicated",n}function zt(t,e){return Ht(t,e,Bt.cancelled,'Navigation cancelled from "'+t.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function Wt(t,e){return Ht(t,e,Bt.aborted,'Navigation aborted from "'+t.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}function Ht(t,e,n,r){var i=new Error(r);return i._isRouter=!0,i.from=t,i.to=e,i.type=n,i}var $t=["params","query","hash"];function Gt(t){if("string"===typeof t)return t;if("path"in t)return t.path;var e={};return $t.forEach((function(n){n in t&&(e[n]=t[n])})),JSON.stringify(e,null,2)}function Vt(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function Yt(t,e){return Vt(t)&&t._isRouter&&(null==e||t.type===e)}function Ut(t,e,n){var r=function(i){i>=t.length?n():t[i]?e(t[i],(function(){r(i+1)})):r(i+1)};r(0)}function Xt(t){return function(e,n,r){var i=!1,o=0,a=null;qt(t,(function(t,e,n,s){if("function"===typeof t&&void 0===t.cid){i=!0,o++;var l,c=Jt((function(e){Qt(e)&&(e=e.default),t.resolved="function"===typeof e?e:tt.extend(e),n.components[s]=e,o--,o<=0&&r()})),u=Jt((function(t){var e="Failed to resolve async component "+s+": "+t;a||(a=Vt(t)?t:new Error(e),r(a))}));try{l=t(c,u)}catch(f){u(f)}if(l)if("function"===typeof l.then)l.then(c,u);else{var h=l.component;h&&"function"===typeof h.then&&h.then(c,u)}}})),i||r()}}function qt(t,e){return Kt(t.map((function(t){return Object.keys(t.components).map((function(n){return e(t.components[n],t.instances[n],t,n)}))})))}function Kt(t){return Array.prototype.concat.apply([],t)}var Zt="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Qt(t){return t.__esModule||Zt&&"Module"===t[Symbol.toStringTag]}function Jt(t){var e=!1;return function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];if(!e)return e=!0,t.apply(this,n)}}var te=function(t,e){this.router=t,this.base=ee(e),this.current=g,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function ee(t){if(!t)if(lt){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function ne(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r;n++)if(t[n]!==e[n])break;return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}function re(t,e,n,r){var i=qt(t,(function(t,r,i,o){var a=ie(t,e);if(a)return Array.isArray(a)?a.map((function(t){return n(t,r,i,o)})):n(a,r,i,o)}));return Kt(r?i.reverse():i)}function ie(t,e){return"function"!==typeof t&&(t=tt.extend(t)),t.options[e]}function oe(t){return re(t,"beforeRouteLeave",se,!0)}function ae(t){return re(t,"beforeRouteUpdate",se)}function se(t,e){if(e)return function(){return t.apply(e,arguments)}}function le(t){return re(t,"beforeRouteEnter",(function(t,e,n,r){return ce(t,n,r)}))}function ce(t,e,n){return function(r,i,o){return t(r,i,(function(t){"function"===typeof t&&(e.enteredCbs[n]||(e.enteredCbs[n]=[]),e.enteredCbs[n].push(t)),o(t)}))}}te.prototype.listen=function(t){this.cb=t},te.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},te.prototype.onError=function(t){this.errorCbs.push(t)},te.prototype.transitionTo=function(t,e,n){var r,i=this;try{r=this.router.match(t,this.current)}catch(a){throw this.errorCbs.forEach((function(t){t(a)})),a}var o=this.current;this.confirmTransition(r,(function(){i.updateRoute(r),e&&e(r),i.ensureURL(),i.router.afterHooks.forEach((function(t){t&&t(r,o)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(t){t(r)})))}),(function(t){n&&n(t),t&&!i.ready&&(Yt(t,Bt.redirected)&&o===g||(i.ready=!0,i.readyErrorCbs.forEach((function(e){e(t)}))))}))},te.prototype.confirmTransition=function(t,e,n){var r=this,i=this.current;this.pending=t;var o=function(t){!Yt(t)&&Vt(t)&&(r.errorCbs.length?r.errorCbs.forEach((function(e){e(t)})):console.error(t)),n&&n(t)},a=t.matched.length-1,s=i.matched.length-1;if(b(t,i)&&a===s&&t.matched[a]===i.matched[s])return this.ensureURL(),t.hash&&Ct(this.router,i,t,!1),o(Ft(i,t));var l=ne(this.current.matched,t.matched),c=l.updated,u=l.deactivated,h=l.activated,f=[].concat(oe(u),this.router.beforeHooks,ae(c),h.map((function(t){return t.beforeEnter})),Xt(h)),d=function(e,n){if(r.pending!==t)return o(zt(i,t));try{e(t,i,(function(e){!1===e?(r.ensureURL(!0),o(Wt(i,t))):Vt(e)?(r.ensureURL(!0),o(e)):"string"===typeof e||"object"===typeof e&&("string"===typeof e.path||"string"===typeof e.name)?(o(Dt(i,t)),"object"===typeof e&&e.replace?r.replace(e):r.push(e)):n(e)}))}catch(a){o(a)}};Ut(f,d,(function(){var n=le(h),a=n.concat(r.router.resolveHooks);Ut(a,d,(function(){if(r.pending!==t)return o(zt(i,t));r.pending=null,e(t),r.router.app&&r.router.app.$nextTick((function(){C(t)}))}))}))},te.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)},te.prototype.setupListeners=function(){},te.prototype.teardown=function(){this.listeners.forEach((function(t){t()})),this.listeners=[],this.current=g,this.pending=null};var ue=function(t){function e(e,n){t.call(this,e,n),this._startLocation=he(this.base)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,r=It&&n;r&&this.listeners.push(Ot());var i=function(){var n=t.current,i=he(t.base);t.current===g&&i===t._startLocation||t.transitionTo(i,(function(t){r&&Ct(e,t,n,!0)}))};window.addEventListener("popstate",i),this.listeners.push((function(){window.removeEventListener("popstate",i)}))}},e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){Nt(T(r.base+t.fullPath)),Ct(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){jt(T(r.base+t.fullPath)),Ct(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.ensureURL=function(t){if(he(this.base)!==this.current.fullPath){var e=T(this.base+this.current.fullPath);t?Nt(e):jt(e)}},e.prototype.getCurrentLocation=function(){return he(this.base)},e}(te);function he(t){var e=window.location.pathname,n=e.toLowerCase(),r=t.toLowerCase();return!t||n!==r&&0!==n.indexOf(T(r+"/"))||(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var fe=function(t){function e(e,n,r){t.call(this,e,n),r&&de(this.base)||pe()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,r=It&&n;r&&this.listeners.push(Ot());var i=function(){var e=t.current;pe()&&t.transitionTo(ve(),(function(n){r&&Ct(t.router,n,e,!0),It||me(n.fullPath)}))},o=It?"popstate":"hashchange";window.addEventListener(o,i),this.listeners.push((function(){window.removeEventListener(o,i)}))}},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){ye(t.fullPath),Ct(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){me(t.fullPath),Ct(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;ve()!==e&&(t?ye(e):me(e))},e.prototype.getCurrentLocation=function(){return ve()},e}(te);function de(t){var e=he(t);if(!/^\/#/.test(e))return window.location.replace(T(t+"/#"+e)),!0}function pe(){var t=ve();return"/"===t.charAt(0)||(me("/"+t),!1)}function ve(){var t=window.location.href,e=t.indexOf("#");return e<0?"":(t=t.slice(e+1),t)}function ge(t){var e=window.location.href,n=e.indexOf("#"),r=n>=0?e.slice(0,n):e;return r+"#"+t}function ye(t){It?Nt(ge(t)):window.location.hash=t}function me(t){It?jt(ge(t)):window.location.replace(ge(t))}var be=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index+1).concat(t),r.index++,e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index).concat(t),e&&e(t)}),n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,(function(){var t=e.current;e.index=n,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,t)}))}),(function(t){Yt(t,Bt.duplicated)&&(e.index=n)}))}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(te),xe=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=dt(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!It&&!1!==t.fallback,this.fallback&&(e="hash"),lt||(e="abstract"),this.mode=e,e){case"history":this.history=new ue(this,t.base);break;case"hash":this.history=new fe(this,t.base,this.fallback);break;case"abstract":this.history=new be(this,t.base);break;default:0}},we={currentRoute:{configurable:!0}};xe.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},we.currentRoute.get=function(){return this.history&&this.history.current},xe.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",(function(){var n=e.apps.indexOf(t);n>-1&&e.apps.splice(n,1),e.app===t&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=t;var n=this.history;if(n instanceof ue||n instanceof fe){var r=function(t){var r=n.current,i=e.options.scrollBehavior,o=It&&i;o&&"fullPath"in t&&Ct(e,t,r,!1)},i=function(t){n.setupListeners(),r(t)};n.transitionTo(n.getCurrentLocation(),i,i)}n.listen((function(t){e.apps.forEach((function(e){e._route=t}))}))}},xe.prototype.beforeEach=function(t){return Ce(this.beforeHooks,t)},xe.prototype.beforeResolve=function(t){return Ce(this.resolveHooks,t)},xe.prototype.afterEach=function(t){return Ce(this.afterHooks,t)},xe.prototype.onReady=function(t,e){this.history.onReady(t,e)},xe.prototype.onError=function(t){this.history.onError(t)},xe.prototype.push=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise((function(e,n){r.history.push(t,e,n)}));this.history.push(t,e,n)},xe.prototype.replace=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise((function(e,n){r.history.replace(t,e,n)}));this.history.replace(t,e,n)},xe.prototype.go=function(t){this.history.go(t)},xe.prototype.back=function(){this.go(-1)},xe.prototype.forward=function(){this.go(1)},xe.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(t){return Object.keys(t.components).map((function(e){return t.components[e]}))}))):[]},xe.prototype.resolve=function(t,e,n){e=e||this.history.current;var r=J(t,e,n,this),i=this.match(r,e),o=i.redirectedFrom||i.fullPath,a=this.history.base,s=Se(a,o,this.mode);return{location:r,route:i,href:s,normalizedTo:r,resolved:i}},xe.prototype.getRoutes=function(){return this.matcher.getRoutes()},xe.prototype.addRoute=function(t,e){this.matcher.addRoute(t,e),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},xe.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(xe.prototype,we);var Oe=xe;function Ce(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function Se(t,e,n){var r="hash"===n?"#"+e:e;return t?T(t+"/"+r):r}xe.install=st,xe.version="3.6.5",xe.isNavigationFailure=Yt,xe.NavigationFailureType=Bt,xe.START_LOCATION=g,lt&&window.Vue&&window.Vue.use(xe)},7195:function(t,e,n){"use strict";n.r(e),n.d(e,{EffectScope:function(){return ke},computed:function(){return ge},customRef:function(){return se},default:function(){return ro},defineAsyncComponent:function(){return er},defineComponent:function(){return mr},del:function(){return Wt},effectScope:function(){return Te},getCurrentInstance:function(){return gt},getCurrentScope:function(){return Le},h:function(){return Dn},inject:function(){return Ne},isProxy:function(){return qt},isReactive:function(){return Yt},isReadonly:function(){return Xt},isRef:function(){return Jt},isShallow:function(){return Ut},markRaw:function(){return Zt},mergeDefaults:function(){return Sn},nextTick:function(){return Qn},onActivated:function(){return ur},onBeforeMount:function(){return ir},onBeforeUnmount:function(){return lr},onBeforeUpdate:function(){return ar},onDeactivated:function(){return hr},onErrorCaptured:function(){return gr},onMounted:function(){return or},onRenderTracked:function(){return dr},onRenderTriggered:function(){return pr},onScopeDispose:function(){return Pe},onServerPrefetch:function(){return fr},onUnmounted:function(){return cr},onUpdated:function(){return sr},provide:function(){return Re},proxyRefs:function(){return oe},reactive:function(){return $t},readonly:function(){return fe},ref:function(){return te},set:function(){return zt},shallowReactive:function(){return Gt},shallowReadonly:function(){return ve},shallowRef:function(){return ee},toRaw:function(){return Kt},toRef:function(){return ce},toRefs:function(){return le},triggerRef:function(){return re},unref:function(){return ie},useAttrs:function(){return wn},useCssModule:function(){return Jn},useCssVars:function(){return tr},useListeners:function(){return On},useSlots:function(){return xn},version:function(){return yr},watch:function(){return Ee},watchEffect:function(){return we},watchPostEffect:function(){return Oe},watchSyncEffect:function(){return Ce}});n(7658),n(4633);var r=Object.freeze({}),i=Array.isArray;function o(t){return void 0===t||null===t}function a(t){return void 0!==t&&null!==t}function s(t){return!0===t}function l(t){return!1===t}function c(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function u(t){return"function"===typeof t}function h(t){return null!==t&&"object"===typeof t}var f=Object.prototype.toString;function d(t){return"[object Object]"===f.call(t)}function p(t){return"[object RegExp]"===f.call(t)}function v(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function g(t){return a(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function y(t){return null==t?"":Array.isArray(t)||d(t)&&t.toString===f?JSON.stringify(t,null,2):String(t)}function m(t){var e=parseFloat(t);return isNaN(e)?t:e}function b(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}b("slot,component",!0);var x=b("key,ref,slot,slot-scope,is");function w(t,e){var n=t.length;if(n){if(e===t[n-1])return void(t.length=n-1);var r=t.indexOf(e);if(r>-1)return t.splice(r,1)}}var O=Object.prototype.hasOwnProperty;function C(t,e){return O.call(t,e)}function S(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}var _=/-(\w)/g,E=S((function(t){return t.replace(_,(function(t,e){return e?e.toUpperCase():""}))})),M=S((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),k=/\B([A-Z])/g,T=S((function(t){return t.replace(k,"-$1").toLowerCase()}));function A(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function L(t,e){return t.bind(e)}var P=Function.prototype.bind?L:A;function R(t,e){e=e||0;var n=t.length-e,r=new Array(n);while(n--)r[n]=t[n+e];return r}function I(t,e){for(var n in e)t[n]=e[n];return t}function N(t){for(var e={},n=0;n<t.length;n++)t[n]&&I(e,t[n]);return e}function j(t,e,n){}var B=function(t,e,n){return!1},D=function(t){return t};function F(t,e){if(t===e)return!0;var n=h(t),r=h(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every((function(t,n){return F(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every((function(n){return F(t[n],e[n])}))}catch(l){return!1}}function z(t,e){for(var n=0;n<t.length;n++)if(F(t[n],e))return n;return-1}function W(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function H(t,e){return t===e?0===t&&1/t!==1/e:t===t||e===e}var $="data-server-rendered",G=["component","directive","filter"],V=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],Y={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:B,isReservedAttr:B,isUnknownElement:B,getTagNamespace:j,parsePlatformTagName:D,mustUseProp:B,async:!0,_lifecycleHooks:V},U=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function X(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function q(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var K=new RegExp("[^".concat(U.source,".$_\\d]"));function Z(t){if(!K.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var Q="__proto__"in{},J="undefined"!==typeof window,tt=J&&window.navigator.userAgent.toLowerCase(),et=tt&&/msie|trident/.test(tt),nt=tt&&tt.indexOf("msie 9.0")>0,rt=tt&&tt.indexOf("edge/")>0;tt&&tt.indexOf("android");var it=tt&&/iphone|ipad|ipod|ios/.test(tt);tt&&/chrome\/\d+/.test(tt),tt&&/phantomjs/.test(tt);var ot,at=tt&&tt.match(/firefox\/(\d+)/),st={}.watch,lt=!1;if(J)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){lt=!0}}),window.addEventListener("test-passive",null,ct)}catch(il){}var ut=function(){return void 0===ot&&(ot=!J&&"undefined"!==typeof n.g&&(n.g["process"]&&"server"===n.g["process"].env.VUE_ENV)),ot},ht=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ft(t){return"function"===typeof t&&/native code/.test(t.toString())}var dt,pt="undefined"!==typeof Symbol&&ft(Symbol)&&"undefined"!==typeof Reflect&&ft(Reflect.ownKeys);dt="undefined"!==typeof Set&&ft(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var vt=null;function gt(){return vt&&{proxy:vt}}function yt(t){void 0===t&&(t=null),t||vt&&vt._scope.off(),vt=t,t&&t._scope.on()}var mt=function(){function t(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(t.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),t}(),bt=function(t){void 0===t&&(t="");var e=new mt;return e.text=t,e.isComment=!0,e};function xt(t){return new mt(void 0,void 0,void 0,String(t))}function wt(t){var e=new mt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var Ot=0,Ct=[],St=function(){for(var t=0;t<Ct.length;t++){var e=Ct[t];e.subs=e.subs.filter((function(t){return t})),e._pending=!1}Ct.length=0},_t=function(){function t(){this._pending=!1,this.id=Ot++,this.subs=[]}return t.prototype.addSub=function(t){this.subs.push(t)},t.prototype.removeSub=function(t){this.subs[this.subs.indexOf(t)]=null,this._pending||(this._pending=!0,Ct.push(this))},t.prototype.depend=function(e){t.target&&t.target.addDep(this)},t.prototype.notify=function(t){var e=this.subs.filter((function(t){return t}));for(var n=0,r=e.length;n<r;n++){var i=e[n];0,i.update()}},t}();_t.target=null;var Et=[];function Mt(t){Et.push(t),_t.target=t}function kt(){Et.pop(),_t.target=Et[Et.length-1]}var Tt=Array.prototype,At=Object.create(Tt),Lt=["push","pop","shift","unshift","splice","sort","reverse"];Lt.forEach((function(t){var e=Tt[t];q(At,t,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&a.observeArray(i),a.dep.notify(),o}))}));var Pt=Object.getOwnPropertyNames(At),Rt={},It=!0;function Nt(t){It=t}var jt={notify:j,depend:j,addSub:j,removeSub:j},Bt=function(){function t(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),this.value=t,this.shallow=e,this.mock=n,this.dep=n?jt:new _t,this.vmCount=0,q(t,"__ob__",this),i(t)){if(!n)if(Q)t.__proto__=At;else for(var r=0,o=Pt.length;r<o;r++){var a=Pt[r];q(t,a,At[a])}e||this.observeArray(t)}else{var s=Object.keys(t);for(r=0;r<s.length;r++){a=s[r];Ft(t,a,Rt,void 0,e,n)}}}return t.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Dt(t[e],!1,this.mock)},t}();function Dt(t,e,n){return t&&C(t,"__ob__")&&t.__ob__ instanceof Bt?t.__ob__:!It||!n&&ut()||!i(t)&&!d(t)||!Object.isExtensible(t)||t.__v_skip||Jt(t)||t instanceof mt?void 0:new Bt(t,e,n)}function Ft(t,e,n,r,o,a){var s=new _t,l=Object.getOwnPropertyDescriptor(t,e);if(!l||!1!==l.configurable){var c=l&&l.get,u=l&&l.set;c&&!u||n!==Rt&&2!==arguments.length||(n=t[e]);var h=!o&&Dt(n,!1,a);return Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=c?c.call(t):n;return _t.target&&(s.depend(),h&&(h.dep.depend(),i(e)&&Ht(e))),Jt(e)&&!o?e.value:e},set:function(e){var r=c?c.call(t):n;if(H(r,e)){if(u)u.call(t,e);else{if(c)return;if(!o&&Jt(r)&&!Jt(e))return void(r.value=e);n=e}h=!o&&Dt(e,!1,a),s.notify()}}}),s}}function zt(t,e,n){if(!Xt(t)){var r=t.__ob__;return i(t)&&v(e)?(t.length=Math.max(t.length,e),t.splice(e,1,n),r&&!r.shallow&&r.mock&&Dt(n,!1,!0),n):e in t&&!(e in Object.prototype)?(t[e]=n,n):t._isVue||r&&r.vmCount?n:r?(Ft(r.value,e,n,void 0,r.shallow,r.mock),r.dep.notify(),n):(t[e]=n,n)}}function Wt(t,e){if(i(t)&&v(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||Xt(t)||C(t,e)&&(delete t[e],n&&n.dep.notify())}}function Ht(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),i(e)&&Ht(e)}function $t(t){return Vt(t,!1),t}function Gt(t){return Vt(t,!0),q(t,"__v_isShallow",!0),t}function Vt(t,e){if(!Xt(t)){Dt(t,e,ut());0}}function Yt(t){return Xt(t)?Yt(t["__v_raw"]):!(!t||!t.__ob__)}function Ut(t){return!(!t||!t.__v_isShallow)}function Xt(t){return!(!t||!t.__v_isReadonly)}function qt(t){return Yt(t)||Xt(t)}function Kt(t){var e=t&&t["__v_raw"];return e?Kt(e):t}function Zt(t){return Object.isExtensible(t)&&q(t,"__v_skip",!0),t}var Qt="__v_isRef";function Jt(t){return!(!t||!0!==t.__v_isRef)}function te(t){return ne(t,!1)}function ee(t){return ne(t,!0)}function ne(t,e){if(Jt(t))return t;var n={};return q(n,Qt,!0),q(n,"__v_isShallow",e),q(n,"dep",Ft(n,"value",t,null,e,ut())),n}function re(t){t.dep&&t.dep.notify()}function ie(t){return Jt(t)?t.value:t}function oe(t){if(Yt(t))return t;for(var e={},n=Object.keys(t),r=0;r<n.length;r++)ae(e,t,n[r]);return e}function ae(t,e,n){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];if(Jt(t))return t.value;var r=t&&t.__ob__;return r&&r.dep.depend(),t},set:function(t){var r=e[n];Jt(r)&&!Jt(t)?r.value=t:e[n]=t}})}function se(t){var e=new _t,n=t((function(){e.depend()}),(function(){e.notify()})),r=n.get,i=n.set,o={get value(){return r()},set value(t){i(t)}};return q(o,Qt,!0),o}function le(t){var e=i(t)?new Array(t.length):{};for(var n in t)e[n]=ce(t,n);return e}function ce(t,e,n){var r=t[e];if(Jt(r))return r;var i={get value(){var r=t[e];return void 0===r?n:r},set value(n){t[e]=n}};return q(i,Qt,!0),i}var ue="__v_rawToReadonly",he="__v_rawToShallowReadonly";function fe(t){return de(t,!1)}function de(t,e){if(!d(t))return t;if(Xt(t))return t;var n=e?he:ue,r=t[n];if(r)return r;var i=Object.create(Object.getPrototypeOf(t));q(t,n,i),q(i,"__v_isReadonly",!0),q(i,"__v_raw",t),Jt(t)&&q(i,Qt,!0),(e||Ut(t))&&q(i,"__v_isShallow",!0);for(var o=Object.keys(t),a=0;a<o.length;a++)pe(i,t,o[a],e);return i}function pe(t,e,n,r){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var t=e[n];return r||!d(t)?t:fe(t)},set:function(){}})}function ve(t){return de(t,!0)}function ge(t,e){var n,r,i=u(t);i?(n=t,r=j):(n=t.get,r=t.set);var o=ut()?null:new Sr(vt,n,j,{lazy:!0});var a={effect:o,get value(){return o?(o.dirty&&o.evaluate(),_t.target&&o.depend(),o.value):n()},set value(t){r(t)}};return q(a,Qt,!0),q(a,"__v_isReadonly",i),a}var ye="watcher",me="".concat(ye," callback"),be="".concat(ye," getter"),xe="".concat(ye," cleanup");function we(t,e){return Me(t,null,e)}function Oe(t,e){return Me(t,null,{flush:"post"})}function Ce(t,e){return Me(t,null,{flush:"sync"})}var Se,_e={};function Ee(t,e,n){return Me(t,e,n)}function Me(t,e,n){var o=void 0===n?r:n,a=o.immediate,s=o.deep,l=o.flush,c=void 0===l?"pre":l;o.onTrack,o.onTrigger;var h,f,d=vt,p=function(t,e,n){return void 0===n&&(n=null),zn(t,null,n,d,e)},v=!1,g=!1;if(Jt(t)?(h=function(){return t.value},v=Ut(t)):Yt(t)?(h=function(){return t.__ob__.dep.depend(),t},s=!0):i(t)?(g=!0,v=t.some((function(t){return Yt(t)||Ut(t)})),h=function(){return t.map((function(t){return Jt(t)?t.value:Yt(t)?xr(t):u(t)?p(t,be):void 0}))}):h=u(t)?e?function(){return p(t,be)}:function(){if(!d||!d._isDestroyed)return f&&f(),p(t,ye,[m])}:j,e&&s){var y=h;h=function(){return xr(y())}}var m=function(t){f=b.onStop=function(){p(t,xe)}};if(ut())return m=j,e?a&&p(e,me,[h(),g?[]:void 0,m]):h(),j;var b=new Sr(vt,h,j,{lazy:!0});b.noRecurse=!e;var x=g?[]:_e;return b.run=function(){if(b.active)if(e){var t=b.get();(s||v||(g?t.some((function(t,e){return H(t,x[e])})):H(t,x)))&&(f&&f(),p(e,me,[t,x===_e?void 0:x,m]),x=t)}else b.get()},"sync"===c?b.update=b.run:"post"===c?(b.post=!0,b.update=function(){return ni(b)}):b.update=function(){if(d&&d===vt&&!d._isMounted){var t=d._preWatchers||(d._preWatchers=[]);t.indexOf(b)<0&&t.push(b)}else ni(b)},e?a?b.run():x=b.get():"post"===c&&d?d.$once("hook:mounted",(function(){return b.get()})):b.get(),function(){b.teardown()}}var ke=function(){function t(t){void 0===t&&(t=!1),this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Se,!t&&Se&&(this.index=(Se.scopes||(Se.scopes=[])).push(this)-1)}return t.prototype.run=function(t){if(this.active){var e=Se;try{return Se=this,t()}finally{Se=e}}else 0},t.prototype.on=function(){Se=this},t.prototype.off=function(){Se=this.parent},t.prototype.stop=function(t){if(this.active){var e=void 0,n=void 0;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].teardown();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},t}();function Te(t){return new ke(t)}function Ae(t,e){void 0===e&&(e=Se),e&&e.active&&e.effects.push(t)}function Le(){return Se}function Pe(t){Se&&Se.cleanups.push(t)}function Re(t,e){vt&&(Ie(vt)[t]=e)}function Ie(t){var e=t._provided,n=t.$parent&&t.$parent._provided;return n===e?t._provided=Object.create(n):e}function Ne(t,e,n){void 0===n&&(n=!1);var r=vt;if(r){var i=r.$parent&&r.$parent._provided;if(i&&t in i)return i[t];if(arguments.length>1)return n&&u(e)?e.call(r):e}else 0}var je=S((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}}));function Be(t,e){function n(){var t=n.fns;if(!i(t))return zn(t,null,arguments,e,"v-on handler");for(var r=t.slice(),o=0;o<r.length;o++)zn(r[o],null,arguments,e,"v-on handler")}return n.fns=t,n}function De(t,e,n,r,i,a){var l,c,u,h;for(l in t)c=t[l],u=e[l],h=je(l),o(c)||(o(u)?(o(c.fns)&&(c=t[l]=Be(c,a)),s(h.once)&&(c=t[l]=i(h.name,c,h.capture)),n(h.name,c,h.capture,h.passive,h.params)):c!==u&&(u.fns=c,t[l]=u));for(l in e)o(t[l])&&(h=je(l),r(h.name,e[l],h.capture))}function Fe(t,e,n){var r;t instanceof mt&&(t=t.data.hook||(t.data.hook={}));var i=t[e];function l(){n.apply(this,arguments),w(r.fns,l)}o(i)?r=Be([l]):a(i.fns)&&s(i.merged)?(r=i,r.fns.push(l)):r=Be([i,l]),r.merged=!0,t[e]=r}function ze(t,e,n){var r=e.options.props;if(!o(r)){var i={},s=t.attrs,l=t.props;if(a(s)||a(l))for(var c in r){var u=T(c);We(i,l,c,u,!0)||We(i,s,c,u,!1)}return i}}function We(t,e,n,r,i){if(a(e)){if(C(e,n))return t[n]=e[n],i||delete e[n],!0;if(C(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function He(t){for(var e=0;e<t.length;e++)if(i(t[e]))return Array.prototype.concat.apply([],t);return t}function $e(t){return c(t)?[xt(t)]:i(t)?Ve(t):void 0}function Ge(t){return a(t)&&a(t.text)&&l(t.isComment)}function Ve(t,e){var n,r,l,u,h=[];for(n=0;n<t.length;n++)r=t[n],o(r)||"boolean"===typeof r||(l=h.length-1,u=h[l],i(r)?r.length>0&&(r=Ve(r,"".concat(e||"","_").concat(n)),Ge(r[0])&&Ge(u)&&(h[l]=xt(u.text+r[0].text),r.shift()),h.push.apply(h,r)):c(r)?Ge(u)?h[l]=xt(u.text+r):""!==r&&h.push(xt(r)):Ge(r)&&Ge(u)?h[l]=xt(u.text+r.text):(s(t._isVList)&&a(r.tag)&&o(r.key)&&a(e)&&(r.key="__vlist".concat(e,"_").concat(n,"__")),h.push(r)));return h}function Ye(t,e){var n,r,o,s,l=null;if(i(t)||"string"===typeof t)for(l=new Array(t.length),n=0,r=t.length;n<r;n++)l[n]=e(t[n],n);else if("number"===typeof t)for(l=new Array(t),n=0;n<t;n++)l[n]=e(n+1,n);else if(h(t))if(pt&&t[Symbol.iterator]){l=[];var c=t[Symbol.iterator](),u=c.next();while(!u.done)l.push(e(u.value,l.length)),u=c.next()}else for(o=Object.keys(t),l=new Array(o.length),n=0,r=o.length;n<r;n++)s=o[n],l[n]=e(t[s],s,n);return a(l)||(l=[]),l._isVList=!0,l}function Ue(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=I(I({},r),n)),i=o(n)||(u(e)?e():e)):i=this.$slots[t]||(u(e)?e():e);var a=n&&n.slot;return a?this.$createElement("template",{slot:a},i):i}function Xe(t){return Ai(this.$options,"filters",t,!0)||D}function qe(t,e){return i(t)?-1===t.indexOf(e):t!==e}function Ke(t,e,n,r,i){var o=Y.keyCodes[e]||n;return i&&r&&!Y.keyCodes[e]?qe(i,r):o?qe(o,t):r?T(r)!==e:void 0===t}function Ze(t,e,n,r,o){if(n)if(h(n)){i(n)&&(n=N(n));var a=void 0,s=function(i){if("class"===i||"style"===i||x(i))a=t;else{var s=t.attrs&&t.attrs.type;a=r||Y.mustUseProp(e,s,i)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var l=E(i),c=T(i);if(!(l in a)&&!(c in a)&&(a[i]=n[i],o)){var u=t.on||(t.on={});u["update:".concat(i)]=function(t){n[i]=t}}};for(var l in n)s(l)}else;return t}function Qe(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,this._c,this),tn(r,"__static__".concat(t),!1)),r}function Je(t,e,n){return tn(t,"__once__".concat(e).concat(n?"_".concat(n):""),!0),t}function tn(t,e,n){if(i(t))for(var r=0;r<t.length;r++)t[r]&&"string"!==typeof t[r]&&en(t[r],"".concat(e,"_").concat(r),n);else en(t,e,n)}function en(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function nn(t,e){if(e)if(d(e)){var n=t.on=t.on?I({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function rn(t,e,n,r){e=e||{$stable:!n};for(var o=0;o<t.length;o++){var a=t[o];i(a)?rn(a,e,n):a&&(a.proxy&&(a.fn.proxy=!0),e[a.key]=a.fn)}return r&&(e.$key=r),e}function on(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"===typeof r&&r&&(t[e[n]]=e[n+1])}return t}function an(t,e){return"string"===typeof t?e+t:t}function sn(t){t._o=Je,t._n=m,t._s=y,t._l=Ye,t._t=Ue,t._q=F,t._i=z,t._m=Qe,t._f=Xe,t._k=Ke,t._b=Ze,t._v=xt,t._e=bt,t._u=rn,t._g=nn,t._d=on,t._p=an}function ln(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,l=n[s]||(n[s]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var c in n)n[c].every(cn)&&delete n[c];return n}function cn(t){return t.isComment&&!t.asyncFactory||" "===t.text}function un(t){return t.isComment&&t.asyncFactory}function hn(t,e,n,i){var o,a=Object.keys(n).length>0,s=e?!!e.$stable:!a,l=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&i&&i!==r&&l===i.$key&&!a&&!i.$hasNormal)return i;for(var c in o={},e)e[c]&&"$"!==c[0]&&(o[c]=fn(t,n,c,e[c]))}else o={};for(var u in n)u in o||(o[u]=dn(n,u));return e&&Object.isExtensible(e)&&(e._normalized=o),q(o,"$stable",s),q(o,"$key",l),q(o,"$hasNormal",a),o}function fn(t,e,n,r){var o=function(){var e=vt;yt(t);var n=arguments.length?r.apply(null,arguments):r({});n=n&&"object"===typeof n&&!i(n)?[n]:$e(n);var o=n&&n[0];return yt(e),n&&(!o||1===n.length&&o.isComment&&!un(o))?void 0:n};return r.proxy&&Object.defineProperty(e,n,{get:o,enumerable:!0,configurable:!0}),o}function dn(t,e){return function(){return t[e]}}function pn(t){var e=t.$options,n=e.setup;if(n){var r=t._setupContext=vn(t);yt(t),Mt();var i=zn(n,null,[t._props||Gt({}),r],t,"setup");if(kt(),yt(),u(i))e.render=i;else if(h(i))if(t._setupState=i,i.__sfc){var o=t._setupProxy={};for(var a in i)"__sfc"!==a&&ae(o,i,a)}else for(var a in i)X(a)||ae(t,i,a);else 0}}function vn(t){return{get attrs(){if(!t._attrsProxy){var e=t._attrsProxy={};q(e,"_v_attr_proxy",!0),gn(e,t.$attrs,r,t,"$attrs")}return t._attrsProxy},get listeners(){if(!t._listenersProxy){var e=t._listenersProxy={};gn(e,t.$listeners,r,t,"$listeners")}return t._listenersProxy},get slots(){return mn(t)},emit:P(t.$emit,t),expose:function(e){e&&Object.keys(e).forEach((function(n){return ae(t,e,n)}))}}}function gn(t,e,n,r,i){var o=!1;for(var a in e)a in t?e[a]!==n[a]&&(o=!0):(o=!0,yn(t,a,r,i));for(var a in t)a in e||(o=!0,delete t[a]);return o}function yn(t,e,n,r){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return n[r][e]}})}function mn(t){return t._slotsProxy||bn(t._slotsProxy={},t.$scopedSlots),t._slotsProxy}function bn(t,e){for(var n in e)t[n]=e[n];for(var n in t)n in e||delete t[n]}function xn(){return Cn().slots}function wn(){return Cn().attrs}function On(){return Cn().listeners}function Cn(){var t=vt;return t._setupContext||(t._setupContext=vn(t))}function Sn(t,e){var n=i(t)?t.reduce((function(t,e){return t[e]={},t}),{}):t;for(var r in e){var o=n[r];o?i(o)||u(o)?n[r]={type:o,default:e[r]}:o.default=e[r]:null===o&&(n[r]={default:e[r]})}return n}function _n(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,i=n&&n.context;t.$slots=ln(e._renderChildren,i),t.$scopedSlots=n?hn(t.$parent,n.data.scopedSlots,t.$slots):r,t._c=function(e,n,r,i){return In(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return In(t,e,n,r,i,!0)};var o=n&&n.data;Ft(t,"$attrs",o&&o.attrs||r,null,!0),Ft(t,"$listeners",e._parentListeners||r,null,!0)}var En=null;function Mn(t){sn(t.prototype),t.prototype.$nextTick=function(t){return Qn(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,o=n._parentVnode;o&&e._isMounted&&(e.$scopedSlots=hn(e.$parent,o.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&bn(e._slotsProxy,e.$scopedSlots)),e.$vnode=o;try{yt(e),En=e,t=r.call(e._renderProxy,e.$createElement)}catch(il){Fn(il,e,"render"),t=e._vnode}finally{En=null,yt()}return i(t)&&1===t.length&&(t=t[0]),t instanceof mt||(t=bt()),t.parent=o,t}}function kn(t,e){return(t.__esModule||pt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),h(t)?e.extend(t):t}function Tn(t,e,n,r,i){var o=bt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}function An(t,e){if(s(t.error)&&a(t.errorComp))return t.errorComp;if(a(t.resolved))return t.resolved;var n=En;if(n&&a(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),s(t.loading)&&a(t.loadingComp))return t.loadingComp;if(n&&!a(t.owners)){var r=t.owners=[n],i=!0,l=null,c=null;n.$on("hook:destroyed",(function(){return w(r,n)}));var u=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==l&&(clearTimeout(l),l=null),null!==c&&(clearTimeout(c),c=null))},f=W((function(n){t.resolved=kn(n,e),i?r.length=0:u(!0)})),d=W((function(e){a(t.errorComp)&&(t.error=!0,u(!0))})),p=t(f,d);return h(p)&&(g(p)?o(t.resolved)&&p.then(f,d):g(p.component)&&(p.component.then(f,d),a(p.error)&&(t.errorComp=kn(p.error,e)),a(p.loading)&&(t.loadingComp=kn(p.loading,e),0===p.delay?t.loading=!0:l=setTimeout((function(){l=null,o(t.resolved)&&o(t.error)&&(t.loading=!0,u(!1))}),p.delay||200)),a(p.timeout)&&(c=setTimeout((function(){c=null,o(t.resolved)&&d(null)}),p.timeout)))),i=!1,t.loading?t.loadingComp:t.resolved}}function Ln(t){if(i(t))for(var e=0;e<t.length;e++){var n=t[e];if(a(n)&&(a(n.componentOptions)||un(n)))return n}}var Pn=1,Rn=2;function In(t,e,n,r,o,a){return(i(n)||c(n))&&(o=r,r=n,n=void 0),s(a)&&(o=Rn),Nn(t,e,n,r,o)}function Nn(t,e,n,r,o){if(a(n)&&a(n.__ob__))return bt();if(a(n)&&a(n.is)&&(e=n.is),!e)return bt();var s,l;if(i(r)&&u(r[0])&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===Rn?r=$e(r):o===Pn&&(r=He(r)),"string"===typeof e){var c=void 0;l=t.$vnode&&t.$vnode.ns||Y.getTagNamespace(e),s=Y.isReservedTag(e)?new mt(Y.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!a(c=Ai(t.$options,"components",e))?new mt(e,n,r,void 0,void 0,t):di(c,n,t,r,e)}else s=di(e,n,t,r);return i(s)?s:a(s)?(a(l)&&jn(s,l),a(n)&&Bn(n),s):bt()}function jn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),a(t.children))for(var r=0,i=t.children.length;r<i;r++){var l=t.children[r];a(l.tag)&&(o(l.ns)||s(n)&&"svg"!==l.tag)&&jn(l,e,n)}}function Bn(t){h(t.style)&&xr(t.style),h(t.class)&&xr(t.class)}function Dn(t,e,n){return In(vt,t,e,n,2,!0)}function Fn(t,e,n){Mt();try{if(e){var r=e;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var a=!1===i[o].call(r,t,e,n);if(a)return}catch(il){Wn(il,r,"errorCaptured hook")}}}Wn(t,e,n)}finally{kt()}}function zn(t,e,n,r,i){var o;try{o=n?t.apply(e,n):t.call(e),o&&!o._isVue&&g(o)&&!o._handled&&(o.catch((function(t){return Fn(t,r,i+" (Promise/async)")})),o._handled=!0)}catch(il){Fn(il,r,i)}return o}function Wn(t,e,n){if(Y.errorHandler)try{return Y.errorHandler.call(null,t,e,n)}catch(il){il!==t&&Hn(il,null,"config.errorHandler")}Hn(t,e,n)}function Hn(t,e,n){if(!J||"undefined"===typeof console)throw t;console.error(t)}var $n,Gn=!1,Vn=[],Yn=!1;function Un(){Yn=!1;var t=Vn.slice(0);Vn.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ft(Promise)){var Xn=Promise.resolve();$n=function(){Xn.then(Un),it&&setTimeout(j)},Gn=!0}else if(et||"undefined"===typeof MutationObserver||!ft(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())$n="undefined"!==typeof setImmediate&&ft(setImmediate)?function(){setImmediate(Un)}:function(){setTimeout(Un,0)};else{var qn=1,Kn=new MutationObserver(Un),Zn=document.createTextNode(String(qn));Kn.observe(Zn,{characterData:!0}),$n=function(){qn=(qn+1)%2,Zn.data=String(qn)},Gn=!0}function Qn(t,e){var n;if(Vn.push((function(){if(t)try{t.call(e)}catch(il){Fn(il,e,"nextTick")}else n&&n(e)})),Yn||(Yn=!0,$n()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){n=t}))}function Jn(t){if(void 0===t&&(t="$style"),!vt)return r;var e=vt[t];return e||r}function tr(t){if(J){var e=vt;e&&Oe((function(){var n=e.$el,r=t(e,e._setupProxy);if(n&&1===n.nodeType){var i=n.style;for(var o in r)i.setProperty("--".concat(o),r[o])}}))}}function er(t){u(t)&&(t={loader:t});var e=t.loader,n=t.loadingComponent,r=t.errorComponent,i=t.delay,o=void 0===i?200:i,a=t.timeout,s=(t.suspensible,t.onError);var l=null,c=0,h=function(){return c++,l=null,f()},f=function(){var t;return l||(t=l=e().catch((function(t){if(t=t instanceof Error?t:new Error(String(t)),s)return new Promise((function(e,n){var r=function(){return e(h())},i=function(){return n(t)};s(t,r,i,c+1)}));throw t})).then((function(e){return t!==l&&l?l:(e&&(e.__esModule||"Module"===e[Symbol.toStringTag])&&(e=e.default),e)})))};return function(){var t=f();return{component:t,delay:o,timeout:a,error:r,loading:n}}}function nr(t){return function(e,n){if(void 0===n&&(n=vt),n)return rr(n,t,e)}}function rr(t,e,n){var r=t.$options;r[e]=Oi(r[e],n)}var ir=nr("beforeMount"),or=nr("mounted"),ar=nr("beforeUpdate"),sr=nr("updated"),lr=nr("beforeDestroy"),cr=nr("destroyed"),ur=nr("activated"),hr=nr("deactivated"),fr=nr("serverPrefetch"),dr=nr("renderTracked"),pr=nr("renderTriggered"),vr=nr("errorCaptured");function gr(t,e){void 0===e&&(e=vt),vr(t,e)}var yr="2.7.14";function mr(t){return t}var br=new dt;function xr(t){return wr(t,br),br.clear(),t}function wr(t,e){var n,r,o=i(t);if(!(!o&&!h(t)||t.__v_skip||Object.isFrozen(t)||t instanceof mt)){if(t.__ob__){var a=t.__ob__.dep.id;if(e.has(a))return;e.add(a)}if(o){n=t.length;while(n--)wr(t[n],e)}else if(Jt(t))wr(t.value,e);else{r=Object.keys(t),n=r.length;while(n--)wr(t[r[n]],e)}}}var Or,Cr=0,Sr=function(){function t(t,e,n,r,i){Ae(this,Se&&!Se._vm?Se:t?t._scope:void 0),(this.vm=t)&&i&&(t._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Cr,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new dt,this.newDepIds=new dt,this.expression="",u(e)?this.getter=e:(this.getter=Z(e),this.getter||(this.getter=j)),this.value=this.lazy?void 0:this.get()}return t.prototype.get=function(){var t;Mt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(il){if(!this.user)throw il;Fn(il,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&xr(t),kt(),this.cleanupDeps()}return t},t.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},t.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},t.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():ni(this)},t.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||h(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'.concat(this.expression,'"');zn(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},t.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},t.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},t.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&w(this.vm._scope.effects,this),this.active){var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},t}();function _r(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Tr(t,e)}function Er(t,e){Or.$on(t,e)}function Mr(t,e){Or.$off(t,e)}function kr(t,e){var n=Or;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function Tr(t,e,n){Or=t,De(e,n||{},Er,Mr,kr,t),Or=void 0}function Ar(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(i(t))for(var o=0,a=t.length;o<a;o++)r.$on(t[o],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(i(t)){for(var r=0,o=t.length;r<o;r++)n.$off(t[r],e);return n}var a,s=n._events[t];if(!s)return n;if(!e)return n._events[t]=null,n;var l=s.length;while(l--)if(a=s[l],a===e||a.fn===e){s.splice(l,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?R(n):n;for(var r=R(arguments,1),i='event handler for "'.concat(t,'"'),o=0,a=n.length;o<a;o++)zn(n[o],e,r,e,i)}return e}}var Lr=null;function Pr(t){var e=Lr;return Lr=t,function(){Lr=e}}function Rr(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._provided=n?n._provided:Object.create(null),t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Ir(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=Pr(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n);var a=n;while(a&&a.$vnode&&a.$parent&&a.$vnode===a.$parent._vnode)a.$parent.$el=a.$el,a=a.$parent},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){zr(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||w(e.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),zr(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Nr(t,e,n){var r;t.$el=e,t.$options.render||(t.$options.render=bt),zr(t,"beforeMount"),r=function(){t._update(t._render(),n)};var i={before:function(){t._isMounted&&!t._isDestroyed&&zr(t,"beforeUpdate")}};new Sr(t,r,j,i,!0),n=!1;var o=t._preWatchers;if(o)for(var a=0;a<o.length;a++)o[a].run();return null==t.$vnode&&(t._isMounted=!0,zr(t,"mounted")),t}function jr(t,e,n,i,o){var a=i.data.scopedSlots,s=t.$scopedSlots,l=!!(a&&!a.$stable||s!==r&&!s.$stable||a&&t.$scopedSlots.$key!==a.$key||!a&&t.$scopedSlots.$key),c=!!(o||t.$options._renderChildren||l),u=t.$vnode;t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=o;var h=i.data.attrs||r;t._attrsProxy&&gn(t._attrsProxy,h,u.data&&u.data.attrs||r,t,"$attrs")&&(c=!0),t.$attrs=h,n=n||r;var f=t.$options._parentListeners;if(t._listenersProxy&&gn(t._listenersProxy,n,f||r,t,"$listeners"),t.$listeners=t.$options._parentListeners=n,Tr(t,n,f),e&&t.$options.props){Nt(!1);for(var d=t._props,p=t.$options._propKeys||[],v=0;v<p.length;v++){var g=p[v],y=t.$options.props;d[g]=Li(g,y,e,t)}Nt(!0),t.$options.propsData=e}c&&(t.$slots=ln(o,i.context),t.$forceUpdate())}function Br(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Dr(t,e){if(e){if(t._directInactive=!1,Br(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Dr(t.$children[n]);zr(t,"activated")}}function Fr(t,e){if((!e||(t._directInactive=!0,!Br(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Fr(t.$children[n]);zr(t,"deactivated")}}function zr(t,e,n,r){void 0===r&&(r=!0),Mt();var i=vt;r&&yt(t);var o=t.$options[e],a="".concat(e," hook");if(o)for(var s=0,l=o.length;s<l;s++)zn(o[s],t,n||null,t,a);t._hasHookEvent&&t.$emit("hook:"+e),r&&yt(i),kt()}var Wr=[],Hr=[],$r={},Gr=!1,Vr=!1,Yr=0;function Ur(){Yr=Wr.length=Hr.length=0,$r={},Gr=Vr=!1}var Xr=0,qr=Date.now;if(J&&!et){var Kr=window.performance;Kr&&"function"===typeof Kr.now&&qr()>document.createEvent("Event").timeStamp&&(qr=function(){return Kr.now()})}var Zr=function(t,e){if(t.post){if(!e.post)return 1}else if(e.post)return-1;return t.id-e.id};function Qr(){var t,e;for(Xr=qr(),Vr=!0,Wr.sort(Zr),Yr=0;Yr<Wr.length;Yr++)t=Wr[Yr],t.before&&t.before(),e=t.id,$r[e]=null,t.run();var n=Hr.slice(),r=Wr.slice();Ur(),ei(n),Jr(r),St(),ht&&Y.devtools&&ht.emit("flush")}function Jr(t){var e=t.length;while(e--){var n=t[e],r=n.vm;r&&r._watcher===n&&r._isMounted&&!r._isDestroyed&&zr(r,"updated")}}function ti(t){t._inactive=!1,Hr.push(t)}function ei(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Dr(t[e],!0)}function ni(t){var e=t.id;if(null==$r[e]&&(t!==_t.target||!t.noRecurse)){if($r[e]=!0,Vr){var n=Wr.length-1;while(n>Yr&&Wr[n].id>t.id)n--;Wr.splice(n+1,0,t)}else Wr.push(t);Gr||(Gr=!0,Qn(Qr))}}function ri(t){var e=t.$options.provide;if(e){var n=u(e)?e.call(t):e;if(!h(n))return;for(var r=Ie(t),i=pt?Reflect.ownKeys(n):Object.keys(n),o=0;o<i.length;o++){var a=i[o];Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))}}}function ii(t){var e=oi(t.$options.inject,t);e&&(Nt(!1),Object.keys(e).forEach((function(n){Ft(t,n,e[n])})),Nt(!0))}function oi(t,e){if(t){for(var n=Object.create(null),r=pt?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var a=t[o].from;if(a in e._provided)n[o]=e._provided[a];else if("default"in t[o]){var s=t[o].default;n[o]=u(s)?s.call(e):s}else 0}}return n}}function ai(t,e,n,o,a){var l,c=this,u=a.options;C(o,"_uid")?(l=Object.create(o),l._original=o):(l=o,o=o._original);var h=s(u._compiled),f=!h;this.data=t,this.props=e,this.children=n,this.parent=o,this.listeners=t.on||r,this.injections=oi(u.inject,o),this.slots=function(){return c.$slots||hn(o,t.scopedSlots,c.$slots=ln(n,o)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return hn(o,t.scopedSlots,this.slots())}}),h&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=hn(o,t.scopedSlots,this.$slots)),u._scopeId?this._c=function(t,e,n,r){var a=In(l,t,e,n,r,f);return a&&!i(a)&&(a.fnScopeId=u._scopeId,a.fnContext=o),a}:this._c=function(t,e,n,r){return In(l,t,e,n,r,f)}}function si(t,e,n,o,s){var l=t.options,c={},u=l.props;if(a(u))for(var h in u)c[h]=Li(h,u,e||r);else a(n.attrs)&&ci(c,n.attrs),a(n.props)&&ci(c,n.props);var f=new ai(n,c,s,o,t),d=l.render.call(null,f._c,f);if(d instanceof mt)return li(d,n,f.parent,l,f);if(i(d)){for(var p=$e(d)||[],v=new Array(p.length),g=0;g<p.length;g++)v[g]=li(p[g],n,f.parent,l,f);return v}}function li(t,e,n,r,i){var o=wt(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function ci(t,e){for(var n in e)t[E(n)]=e[n]}function ui(t){return t.name||t.__name||t._componentTag}sn(ai.prototype);var hi={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;hi.prepatch(n,n)}else{var r=t.componentInstance=pi(t,Lr);r.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,r=e.componentInstance=t.componentInstance;jr(r,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,zr(n,"mounted")),t.data.keepAlive&&(e._isMounted?ti(n):Dr(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Fr(e,!0):e.$destroy())}},fi=Object.keys(hi);function di(t,e,n,r,i){if(!o(t)){var l=n.$options._base;if(h(t)&&(t=l.extend(t)),"function"===typeof t){var c;if(o(t.cid)&&(c=t,t=An(c,l),void 0===t))return Tn(c,e,n,r,i);e=e||{},eo(t),a(e.model)&&yi(t.options,e);var u=ze(e,t,i);if(s(t.options.functional))return si(t,u,e,n,r);var f=e.on;if(e.on=e.nativeOn,s(t.options.abstract)){var d=e.slot;e={},d&&(e.slot=d)}vi(e);var p=ui(t.options)||i,v=new mt("vue-component-".concat(t.cid).concat(p?"-".concat(p):""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:u,listeners:f,tag:i,children:r},c);return v}}}function pi(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return a(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function vi(t){for(var e=t.hook||(t.hook={}),n=0;n<fi.length;n++){var r=fi[n],i=e[r],o=hi[r];i===o||i&&i._merged||(e[r]=i?gi(o,i):o)}}function gi(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function yi(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var o=e.on||(e.on={}),s=o[r],l=e.model.callback;a(s)?(i(s)?-1===s.indexOf(l):s!==l)&&(o[r]=[l].concat(s)):o[r]=l}var mi=j,bi=Y.optionMergeStrategies;function xi(t,e,n){if(void 0===n&&(n=!0),!e)return t;for(var r,i,o,a=pt?Reflect.ownKeys(e):Object.keys(e),s=0;s<a.length;s++)r=a[s],"__ob__"!==r&&(i=t[r],o=e[r],n&&C(t,r)?i!==o&&d(i)&&d(o)&&xi(i,o):zt(t,r,o));return t}function wi(t,e,n){return n?function(){var r=u(e)?e.call(n,n):e,i=u(t)?t.call(n,n):t;return r?xi(r,i):i}:e?t?function(){return xi(u(e)?e.call(this,this):e,u(t)?t.call(this,this):t)}:e:t}function Oi(t,e){var n=e?t?t.concat(e):i(e)?e:[e]:t;return n?Ci(n):n}function Ci(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function Si(t,e,n,r){var i=Object.create(t||null);return e?I(i,e):i}bi.data=function(t,e,n){return n?wi(t,e,n):e&&"function"!==typeof e?t:wi(t,e)},V.forEach((function(t){bi[t]=Oi})),G.forEach((function(t){bi[t+"s"]=Si})),bi.watch=function(t,e,n,r){if(t===st&&(t=void 0),e===st&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var o={};for(var a in I(o,t),e){var s=o[a],l=e[a];s&&!i(s)&&(s=[s]),o[a]=s?s.concat(l):i(l)?l:[l]}return o},bi.props=bi.methods=bi.inject=bi.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return I(i,t),e&&I(i,e),i},bi.provide=function(t,e){return t?function(){var n=Object.create(null);return xi(n,u(t)?t.call(this):t),e&&xi(n,u(e)?e.call(this):e,!1),n}:e};var _i=function(t,e){return void 0===e?t:e};function Ei(t,e){var n=t.props;if(n){var r,o,a,s={};if(i(n)){r=n.length;while(r--)o=n[r],"string"===typeof o&&(a=E(o),s[a]={type:null})}else if(d(n))for(var l in n)o=n[l],a=E(l),s[a]=d(o)?o:{type:o};else 0;t.props=s}}function Mi(t,e){var n=t.inject;if(n){var r=t.inject={};if(i(n))for(var o=0;o<n.length;o++)r[n[o]]={from:n[o]};else if(d(n))for(var a in n){var s=n[a];r[a]=d(s)?I({from:a},s):{from:s}}else 0}}function ki(t){var e=t.directives;if(e)for(var n in e){var r=e[n];u(r)&&(e[n]={bind:r,update:r})}}function Ti(t,e,n){if(u(e)&&(e=e.options),Ei(e,n),Mi(e,n),ki(e),!e._base&&(e.extends&&(t=Ti(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Ti(t,e.mixins[r],n);var o,a={};for(o in t)s(o);for(o in e)C(t,o)||s(o);function s(r){var i=bi[r]||_i;a[r]=i(t[r],e[r],n,r)}return a}function Ai(t,e,n,r){if("string"===typeof n){var i=t[e];if(C(i,n))return i[n];var o=E(n);if(C(i,o))return i[o];var a=M(o);if(C(i,a))return i[a];var s=i[n]||i[o]||i[a];return s}}function Li(t,e,n,r){var i=e[t],o=!C(n,t),a=n[t],s=ji(Boolean,i.type);if(s>-1)if(o&&!C(i,"default"))a=!1;else if(""===a||a===T(t)){var l=ji(String,i.type);(l<0||s<l)&&(a=!0)}if(void 0===a){a=Pi(r,i,t);var c=It;Nt(!0),Dt(a),Nt(c)}return a}function Pi(t,e,n){if(C(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:u(r)&&"Function"!==Ii(e.type)?r.call(t):r}}var Ri=/^\s*function (\w+)/;function Ii(t){var e=t&&t.toString().match(Ri);return e?e[1]:""}function Ni(t,e){return Ii(t)===Ii(e)}function ji(t,e){if(!i(e))return Ni(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Ni(e[n],t))return n;return-1}var Bi={enumerable:!0,configurable:!0,get:j,set:j};function Di(t,e,n){Bi.get=function(){return this[e][n]},Bi.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Bi)}function Fi(t){var e=t.$options;if(e.props&&zi(t,e.props),pn(t),e.methods&&Xi(t,e.methods),e.data)Wi(t);else{var n=Dt(t._data={});n&&n.vmCount++}e.computed&&Gi(t,e.computed),e.watch&&e.watch!==st&&qi(t,e.watch)}function zi(t,e){var n=t.$options.propsData||{},r=t._props=Gt({}),i=t.$options._propKeys=[],o=!t.$parent;o||Nt(!1);var a=function(o){i.push(o);var a=Li(o,e,n,t);Ft(r,o,a),o in t||Di(t,"_props",o)};for(var s in e)a(s);Nt(!0)}function Wi(t){var e=t.$options.data;e=t._data=u(e)?Hi(e,t):e||{},d(e)||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);while(i--){var o=n[i];0,r&&C(r,o)||X(o)||Di(t,"_data",o)}var a=Dt(e);a&&a.vmCount++}function Hi(t,e){Mt();try{return t.call(e,e)}catch(il){return Fn(il,e,"data()"),{}}finally{kt()}}var $i={lazy:!0};function Gi(t,e){var n=t._computedWatchers=Object.create(null),r=ut();for(var i in e){var o=e[i],a=u(o)?o:o.get;0,r||(n[i]=new Sr(t,a||j,j,$i)),i in t||Vi(t,i,o)}}function Vi(t,e,n){var r=!ut();u(n)?(Bi.get=r?Yi(e):Ui(n),Bi.set=j):(Bi.get=n.get?r&&!1!==n.cache?Yi(e):Ui(n.get):j,Bi.set=n.set||j),Object.defineProperty(t,e,Bi)}function Yi(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),_t.target&&e.depend(),e.value}}function Ui(t){return function(){return t.call(this,this)}}function Xi(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?j:P(e[n],t)}function qi(t,e){for(var n in e){var r=e[n];if(i(r))for(var o=0;o<r.length;o++)Ki(t,n,r[o]);else Ki(t,n,r)}}function Ki(t,e,n,r){return d(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,r)}function Zi(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=zt,t.prototype.$delete=Wt,t.prototype.$watch=function(t,e,n){var r=this;if(d(e))return Ki(r,t,e,n);n=n||{},n.user=!0;var i=new Sr(r,t,e,n);if(n.immediate){var o='callback for immediate watcher "'.concat(i.expression,'"');Mt(),zn(e,r,[i.value],r,o),kt()}return function(){i.teardown()}}}var Qi=0;function Ji(t){t.prototype._init=function(t){var e=this;e._uid=Qi++,e._isVue=!0,e.__v_skip=!0,e._scope=new ke(!0),e._scope._vm=!0,t&&t._isComponent?to(e,t):e.$options=Ti(eo(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Rr(e),_r(e),_n(e),zr(e,"beforeCreate",void 0,!1),ii(e),Fi(e),ri(e),zr(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function to(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function eo(t){var e=t.options;if(t.super){var n=eo(t.super),r=t.superOptions;if(n!==r){t.superOptions=n;var i=no(t);i&&I(t.extendOptions,i),e=t.options=Ti(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function no(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}function ro(t){this._init(t)}function io(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=R(arguments,1);return n.unshift(this),u(t.install)?t.install.apply(t,n):u(t)&&t.apply(null,n),e.push(t),this}}function oo(t){t.mixin=function(t){return this.options=Ti(this.options,t),this}}function ao(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=ui(t)||ui(n.options);var a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=Ti(n.options,t),a["super"]=n,a.options.props&&so(a),a.options.computed&&lo(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,G.forEach((function(t){a[t]=n[t]})),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=I({},a.options),i[r]=a,a}}function so(t){var e=t.options.props;for(var n in e)Di(t.prototype,"_props",n)}function lo(t){var e=t.options.computed;for(var n in e)Vi(t.prototype,n,e[n])}function co(t){G.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&d(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&u(n)&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function uo(t){return t&&(ui(t.Ctor.options)||t.tag)}function ho(t,e){return i(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!p(t)&&t.test(e)}function fo(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var a=n[o];if(a){var s=a.name;s&&!e(s)&&po(n,o,r,i)}}}function po(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,w(n,e)}Ji(ro),Zi(ro),Ar(ro),Ir(ro),Mn(ro);var vo=[String,RegExp,Array],go={name:"keep-alive",abstract:!0,props:{include:vo,exclude:vo,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,r=t.vnodeToCache,i=t.keyToCache;if(r){var o=r.tag,a=r.componentInstance,s=r.componentOptions;e[i]={name:uo(s),tag:o,componentInstance:a},n.push(i),this.max&&n.length>parseInt(this.max)&&po(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)po(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){fo(t,(function(t){return ho(e,t)}))})),this.$watch("exclude",(function(e){fo(t,(function(t){return!ho(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=Ln(t),n=e&&e.componentOptions;if(n){var r=uo(n),i=this,o=i.include,a=i.exclude;if(o&&(!r||!ho(o,r))||a&&r&&ho(a,r))return e;var s=this,l=s.cache,c=s.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):e.key;l[u]?(e.componentInstance=l[u].componentInstance,w(c,u),c.push(u)):(this.vnodeToCache=e,this.keyToCache=u),e.data.keepAlive=!0}return e||t&&t[0]}},yo={KeepAlive:go};function mo(t){var e={get:function(){return Y}};Object.defineProperty(t,"config",e),t.util={warn:mi,extend:I,mergeOptions:Ti,defineReactive:Ft},t.set=zt,t.delete=Wt,t.nextTick=Qn,t.observable=function(t){return Dt(t),t},t.options=Object.create(null),G.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,I(t.options.components,yo),io(t),oo(t),ao(t),co(t)}mo(ro),Object.defineProperty(ro.prototype,"$isServer",{get:ut}),Object.defineProperty(ro.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(ro,"FunctionalRenderContext",{value:ai}),ro.version=yr;var bo=b("style,class"),xo=b("input,textarea,option,select,progress"),wo=function(t,e,n){return"value"===n&&xo(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Oo=b("contenteditable,draggable,spellcheck"),Co=b("events,caret,typing,plaintext-only"),So=function(t,e){return To(e)||"false"===e?"false":"contenteditable"===t&&Co(e)?e:"true"},_o=b("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Eo="http://www.w3.org/1999/xlink",Mo=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},ko=function(t){return Mo(t)?t.slice(6,t.length):""},To=function(t){return null==t||!1===t};function Ao(t){var e=t.data,n=t,r=t;while(a(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(e=Lo(r.data,e));while(a(n=n.parent))n&&n.data&&(e=Lo(e,n.data));return Po(e.staticClass,e.class)}function Lo(t,e){return{staticClass:Ro(t.staticClass,e.staticClass),class:a(t.class)?[t.class,e.class]:e.class}}function Po(t,e){return a(t)||a(e)?Ro(t,Io(e)):""}function Ro(t,e){return t?e?t+" "+e:t:e||""}function Io(t){return Array.isArray(t)?No(t):h(t)?jo(t):"string"===typeof t?t:""}function No(t){for(var e,n="",r=0,i=t.length;r<i;r++)a(e=Io(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function jo(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var Bo={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Do=b("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Fo=b("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),zo=function(t){return Do(t)||Fo(t)};function Wo(t){return Fo(t)?"svg":"math"===t?"math":void 0}var Ho=Object.create(null);function $o(t){if(!J)return!0;if(zo(t))return!1;if(t=t.toLowerCase(),null!=Ho[t])return Ho[t];var e=document.createElement(t);return t.indexOf("-")>-1?Ho[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Ho[t]=/HTMLUnknownElement/.test(e.toString())}var Go=b("text,number,password,search,email,tel,url");function Vo(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function Yo(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function Uo(t,e){return document.createElementNS(Bo[t],e)}function Xo(t){return document.createTextNode(t)}function qo(t){return document.createComment(t)}function Ko(t,e,n){t.insertBefore(e,n)}function Zo(t,e){t.removeChild(e)}function Qo(t,e){t.appendChild(e)}function Jo(t){return t.parentNode}function ta(t){return t.nextSibling}function ea(t){return t.tagName}function na(t,e){t.textContent=e}function ra(t,e){t.setAttribute(e,"")}var ia=Object.freeze({__proto__:null,createElement:Yo,createElementNS:Uo,createTextNode:Xo,createComment:qo,insertBefore:Ko,removeChild:Zo,appendChild:Qo,parentNode:Jo,nextSibling:ta,tagName:ea,setTextContent:na,setStyleScope:ra}),oa={create:function(t,e){aa(e)},update:function(t,e){t.data.ref!==e.data.ref&&(aa(t,!0),aa(e))},destroy:function(t){aa(t,!0)}};function aa(t,e){var n=t.data.ref;if(a(n)){var r=t.context,o=t.componentInstance||t.elm,s=e?null:o,l=e?void 0:o;if(u(n))zn(n,r,[s],r,"template ref function");else{var c=t.data.refInFor,h="string"===typeof n||"number"===typeof n,f=Jt(n),d=r.$refs;if(h||f)if(c){var p=h?d[n]:n.value;e?i(p)&&w(p,o):i(p)?p.includes(o)||p.push(o):h?(d[n]=[o],sa(r,n,d[n])):n.value=[o]}else if(h){if(e&&d[n]!==o)return;d[n]=l,sa(r,n,s)}else if(f){if(e&&n.value!==o)return;n.value=s}else 0}}}function sa(t,e,n){var r=t._setupState;r&&C(r,e)&&(Jt(r[e])?r[e].value=n:r[e]=n)}var la=new mt("",{},[]),ca=["create","activate","update","remove","destroy"];function ua(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&a(t.data)===a(e.data)&&ha(t,e)||s(t.isAsyncPlaceholder)&&o(e.asyncFactory.error))}function ha(t,e){if("input"!==t.tag)return!0;var n,r=a(n=t.data)&&a(n=n.attrs)&&n.type,i=a(n=e.data)&&a(n=n.attrs)&&n.type;return r===i||Go(r)&&Go(i)}function fa(t,e,n){var r,i,o={};for(r=e;r<=n;++r)i=t[r].key,a(i)&&(o[i]=r);return o}function da(t){var e,n,r={},l=t.modules,u=t.nodeOps;for(e=0;e<ca.length;++e)for(r[ca[e]]=[],n=0;n<l.length;++n)a(l[n][ca[e]])&&r[ca[e]].push(l[n][ca[e]]);function h(t){return new mt(u.tagName(t).toLowerCase(),{},[],void 0,t)}function f(t,e){function n(){0===--n.listeners&&d(t)}return n.listeners=e,n}function d(t){var e=u.parentNode(t);a(e)&&u.removeChild(e,t)}function p(t,e,n,r,i,o,l){if(a(t.elm)&&a(o)&&(t=o[l]=wt(t)),t.isRootInsert=!i,!v(t,e,n,r)){var c=t.data,h=t.children,f=t.tag;a(f)?(t.elm=t.ns?u.createElementNS(t.ns,f):u.createElement(f,t),C(t),x(t,h,e),a(c)&&O(t,e),m(n,t.elm,r)):s(t.isComment)?(t.elm=u.createComment(t.text),m(n,t.elm,r)):(t.elm=u.createTextNode(t.text),m(n,t.elm,r))}}function v(t,e,n,r){var i=t.data;if(a(i)){var o=a(t.componentInstance)&&i.keepAlive;if(a(i=i.hook)&&a(i=i.init)&&i(t,!1),a(t.componentInstance))return g(t,e),m(n,t.elm,r),s(o)&&y(t,e,n,r),!0}}function g(t,e){a(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,w(t)?(O(t,e),C(t)):(aa(t),e.push(t))}function y(t,e,n,i){var o,s=t;while(s.componentInstance)if(s=s.componentInstance._vnode,a(o=s.data)&&a(o=o.transition)){for(o=0;o<r.activate.length;++o)r.activate[o](la,s);e.push(s);break}m(n,t.elm,i)}function m(t,e,n){a(t)&&(a(n)?u.parentNode(n)===t&&u.insertBefore(t,e,n):u.appendChild(t,e))}function x(t,e,n){if(i(e)){0;for(var r=0;r<e.length;++r)p(e[r],n,t.elm,null,!0,e,r)}else c(t.text)&&u.appendChild(t.elm,u.createTextNode(String(t.text)))}function w(t){while(t.componentInstance)t=t.componentInstance._vnode;return a(t.tag)}function O(t,n){for(var i=0;i<r.create.length;++i)r.create[i](la,t);e=t.data.hook,a(e)&&(a(e.create)&&e.create(la,t),a(e.insert)&&n.push(t))}function C(t){var e;if(a(e=t.fnScopeId))u.setStyleScope(t.elm,e);else{var n=t;while(n)a(e=n.context)&&a(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e),n=n.parent}a(e=Lr)&&e!==t.context&&e!==t.fnContext&&a(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e)}function S(t,e,n,r,i,o){for(;r<=i;++r)p(n[r],o,t,e,!1,n,r)}function _(t){var e,n,i=t.data;if(a(i))for(a(e=i.hook)&&a(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(a(e=t.children))for(n=0;n<t.children.length;++n)_(t.children[n])}function E(t,e,n){for(;e<=n;++e){var r=t[e];a(r)&&(a(r.tag)?(M(r),_(r)):d(r.elm))}}function M(t,e){if(a(e)||a(t.data)){var n,i=r.remove.length+1;for(a(e)?e.listeners+=i:e=f(t.elm,i),a(n=t.componentInstance)&&a(n=n._vnode)&&a(n.data)&&M(n,e),n=0;n<r.remove.length;++n)r.remove[n](t,e);a(n=t.data.hook)&&a(n=n.remove)?n(t,e):e()}else d(t.elm)}function k(t,e,n,r,i){var s,l,c,h,f=0,d=0,v=e.length-1,g=e[0],y=e[v],m=n.length-1,b=n[0],x=n[m],w=!i;while(f<=v&&d<=m)o(g)?g=e[++f]:o(y)?y=e[--v]:ua(g,b)?(A(g,b,r,n,d),g=e[++f],b=n[++d]):ua(y,x)?(A(y,x,r,n,m),y=e[--v],x=n[--m]):ua(g,x)?(A(g,x,r,n,m),w&&u.insertBefore(t,g.elm,u.nextSibling(y.elm)),g=e[++f],x=n[--m]):ua(y,b)?(A(y,b,r,n,d),w&&u.insertBefore(t,y.elm,g.elm),y=e[--v],b=n[++d]):(o(s)&&(s=fa(e,f,v)),l=a(b.key)?s[b.key]:T(b,e,f,v),o(l)?p(b,r,t,g.elm,!1,n,d):(c=e[l],ua(c,b)?(A(c,b,r,n,d),e[l]=void 0,w&&u.insertBefore(t,c.elm,g.elm)):p(b,r,t,g.elm,!1,n,d)),b=n[++d]);f>v?(h=o(n[m+1])?null:n[m+1].elm,S(t,h,n,d,m,r)):d>m&&E(e,f,v)}function T(t,e,n,r){for(var i=n;i<r;i++){var o=e[i];if(a(o)&&ua(t,o))return i}}function A(t,e,n,i,l,c){if(t!==e){a(e.elm)&&a(i)&&(e=i[l]=wt(e));var h=e.elm=t.elm;if(s(t.isAsyncPlaceholder))a(e.asyncFactory.resolved)?R(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(t.isStatic)&&e.key===t.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,d=e.data;a(d)&&a(f=d.hook)&&a(f=f.prepatch)&&f(t,e);var p=t.children,v=e.children;if(a(d)&&w(e)){for(f=0;f<r.update.length;++f)r.update[f](t,e);a(f=d.hook)&&a(f=f.update)&&f(t,e)}o(e.text)?a(p)&&a(v)?p!==v&&k(h,p,v,n,c):a(v)?(a(t.text)&&u.setTextContent(h,""),S(h,null,v,0,v.length-1,n)):a(p)?E(p,0,p.length-1):a(t.text)&&u.setTextContent(h,""):t.text!==e.text&&u.setTextContent(h,e.text),a(d)&&a(f=d.hook)&&a(f=f.postpatch)&&f(t,e)}}}function L(t,e,n){if(s(n)&&a(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var P=b("attrs,class,staticClass,staticStyle,key");function R(t,e,n,r){var i,o=e.tag,l=e.data,c=e.children;if(r=r||l&&l.pre,e.elm=t,s(e.isComment)&&a(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(a(l)&&(a(i=l.hook)&&a(i=i.init)&&i(e,!0),a(i=e.componentInstance)))return g(e,n),!0;if(a(o)){if(a(c))if(t.hasChildNodes())if(a(i=l)&&a(i=i.domProps)&&a(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var u=!0,h=t.firstChild,f=0;f<c.length;f++){if(!h||!R(h,c[f],n,r)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else x(e,c,n);if(a(l)){var d=!1;for(var p in l)if(!P(p)){d=!0,O(e,n);break}!d&&l["class"]&&xr(l["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,i){if(!o(e)){var l=!1,c=[];if(o(t))l=!0,p(e,c);else{var f=a(t.nodeType);if(!f&&ua(t,e))A(t,e,c,null,null,i);else{if(f){if(1===t.nodeType&&t.hasAttribute($)&&(t.removeAttribute($),n=!0),s(n)&&R(t,e,c))return L(e,c,!0),t;t=h(t)}var d=t.elm,v=u.parentNode(d);if(p(e,c,d._leaveCb?null:v,u.nextSibling(d)),a(e.parent)){var g=e.parent,y=w(e);while(g){for(var m=0;m<r.destroy.length;++m)r.destroy[m](g);if(g.elm=e.elm,y){for(var b=0;b<r.create.length;++b)r.create[b](la,g);var x=g.data.hook.insert;if(x.merged)for(var O=1;O<x.fns.length;O++)x.fns[O]()}else aa(g);g=g.parent}}a(v)?E([t],0,0):a(t.tag)&&_(t)}}return L(e,c,l),e.elm}a(t)&&_(t)}}var pa={create:va,update:va,destroy:function(t){va(t,la)}};function va(t,e){(t.data.directives||e.data.directives)&&ga(t,e)}function ga(t,e){var n,r,i,o=t===la,a=e===la,s=ma(t.data.directives,t.context),l=ma(e.data.directives,e.context),c=[],u=[];for(n in l)r=s[n],i=l[n],r?(i.oldValue=r.value,i.oldArg=r.arg,xa(i,"update",e,t),i.def&&i.def.componentUpdated&&u.push(i)):(xa(i,"bind",e,t),i.def&&i.def.inserted&&c.push(i));if(c.length){var h=function(){for(var n=0;n<c.length;n++)xa(c[n],"inserted",e,t)};o?Fe(e,"insert",h):h()}if(u.length&&Fe(e,"postpatch",(function(){for(var n=0;n<u.length;n++)xa(u[n],"componentUpdated",e,t)})),!o)for(n in s)l[n]||xa(s[n],"unbind",t,t,a)}var ya=Object.create(null);function ma(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++){if(r=t[n],r.modifiers||(r.modifiers=ya),i[ba(r)]=r,e._setupState&&e._setupState.__sfc){var o=r.def||Ai(e,"_setupState","v-"+r.name);r.def="function"===typeof o?{bind:o,update:o}:o}r.def=r.def||Ai(e.$options,"directives",r.name,!0)}return i}function ba(t){return t.rawName||"".concat(t.name,".").concat(Object.keys(t.modifiers||{}).join("."))}function xa(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(il){Fn(il,n.context,"directive ".concat(t.name," ").concat(e," hook"))}}var wa=[oa,pa];function Oa(t,e){var n=e.componentOptions;if((!a(n)||!1!==n.Ctor.options.inheritAttrs)&&(!o(t.data.attrs)||!o(e.data.attrs))){var r,i,l,c=e.elm,u=t.data.attrs||{},h=e.data.attrs||{};for(r in(a(h.__ob__)||s(h._v_attr_proxy))&&(h=e.data.attrs=I({},h)),h)i=h[r],l=u[r],l!==i&&Ca(c,r,i,e.data.pre);for(r in(et||rt)&&h.value!==u.value&&Ca(c,"value",h.value),u)o(h[r])&&(Mo(r)?c.removeAttributeNS(Eo,ko(r)):Oo(r)||c.removeAttribute(r))}}function Ca(t,e,n,r){r||t.tagName.indexOf("-")>-1?Sa(t,e,n):_o(e)?To(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Oo(e)?t.setAttribute(e,So(e,n)):Mo(e)?To(n)?t.removeAttributeNS(Eo,ko(e)):t.setAttributeNS(Eo,e,n):Sa(t,e,n)}function Sa(t,e,n){if(To(n))t.removeAttribute(e);else{if(et&&!nt&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var _a={create:Oa,update:Oa};function Ea(t,e){var n=e.elm,r=e.data,i=t.data;if(!(o(r.staticClass)&&o(r.class)&&(o(i)||o(i.staticClass)&&o(i.class)))){var s=Ao(e),l=n._transitionClasses;a(l)&&(s=Ro(s,Io(l))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var Ma,ka={create:Ea,update:Ea},Ta="__r",Aa="__c";function La(t){if(a(t[Ta])){var e=et?"change":"input";t[e]=[].concat(t[Ta],t[e]||[]),delete t[Ta]}a(t[Aa])&&(t.change=[].concat(t[Aa],t.change||[]),delete t[Aa])}function Pa(t,e,n){var r=Ma;return function i(){var o=e.apply(null,arguments);null!==o&&Na(t,i,n,r)}}var Ra=Gn&&!(at&&Number(at[1])<=53);function Ia(t,e,n,r){if(Ra){var i=Xr,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Ma.addEventListener(t,e,lt?{capture:n,passive:r}:n)}function Na(t,e,n,r){(r||Ma).removeEventListener(t,e._wrapper||e,n)}function ja(t,e){if(!o(t.data.on)||!o(e.data.on)){var n=e.data.on||{},r=t.data.on||{};Ma=e.elm||t.elm,La(n),De(n,r,Ia,Na,Pa,e.context),Ma=void 0}}var Ba,Da={create:ja,update:ja,destroy:function(t){return ja(t,la)}};function Fa(t,e){if(!o(t.data.domProps)||!o(e.data.domProps)){var n,r,i=e.elm,l=t.data.domProps||{},c=e.data.domProps||{};for(n in(a(c.__ob__)||s(c._v_attr_proxy))&&(c=e.data.domProps=I({},c)),l)n in c||(i[n]="");for(n in c){if(r=c[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===l[n])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===n&&"PROGRESS"!==i.tagName){i._value=r;var u=o(r)?"":String(r);za(i,u)&&(i.value=u)}else if("innerHTML"===n&&Fo(i.tagName)&&o(i.innerHTML)){Ba=Ba||document.createElement("div"),Ba.innerHTML="<svg>".concat(r,"</svg>");var h=Ba.firstChild;while(i.firstChild)i.removeChild(i.firstChild);while(h.firstChild)i.appendChild(h.firstChild)}else if(r!==l[n])try{i[n]=r}catch(il){}}}}function za(t,e){return!t.composing&&("OPTION"===t.tagName||Wa(t,e)||Ha(t,e))}function Wa(t,e){var n=!0;try{n=document.activeElement!==t}catch(il){}return n&&t.value!==e}function Ha(t,e){var n=t.value,r=t._vModifiers;if(a(r)){if(r.number)return m(n)!==m(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}var $a={create:Fa,update:Fa},Ga=S((function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function Va(t){var e=Ya(t.style);return t.staticStyle?I(t.staticStyle,e):e}function Ya(t){return Array.isArray(t)?N(t):"string"===typeof t?Ga(t):t}function Ua(t,e){var n,r={};if(e){var i=t;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=Va(i.data))&&I(r,n)}(n=Va(t.data))&&I(r,n);var o=t;while(o=o.parent)o.data&&(n=Va(o.data))&&I(r,n);return r}var Xa,qa=/^--/,Ka=/\s*!important$/,Za=function(t,e,n){if(qa.test(e))t.style.setProperty(e,n);else if(Ka.test(n))t.style.setProperty(T(e),n.replace(Ka,""),"important");else{var r=Ja(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},Qa=["Webkit","Moz","ms"],Ja=S((function(t){if(Xa=Xa||document.createElement("div").style,t=E(t),"filter"!==t&&t in Xa)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Qa.length;n++){var r=Qa[n]+e;if(r in Xa)return r}}));function ts(t,e){var n=e.data,r=t.data;if(!(o(n.staticStyle)&&o(n.style)&&o(r.staticStyle)&&o(r.style))){var i,s,l=e.elm,c=r.staticStyle,u=r.normalizedStyle||r.style||{},h=c||u,f=Ya(e.data.style)||{};e.data.normalizedStyle=a(f.__ob__)?I({},f):f;var d=Ua(e,!0);for(s in h)o(d[s])&&Za(l,s,"");for(s in d)i=d[s],i!==h[s]&&Za(l,s,null==i?"":i)}}var es={create:ts,update:ts},ns=/\s+/;function rs(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ns).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" ".concat(t.getAttribute("class")||""," ");n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function is(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(ns).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" ".concat(t.getAttribute("class")||""," "),r=" "+e+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function os(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&I(e,as(t.name||"v")),I(e,t),e}return"string"===typeof t?as(t):void 0}}var as=S((function(t){return{enterClass:"".concat(t,"-enter"),enterToClass:"".concat(t,"-enter-to"),enterActiveClass:"".concat(t,"-enter-active"),leaveClass:"".concat(t,"-leave"),leaveToClass:"".concat(t,"-leave-to"),leaveActiveClass:"".concat(t,"-leave-active")}})),ss=J&&!nt,ls="transition",cs="animation",us="transition",hs="transitionend",fs="animation",ds="animationend";ss&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(us="WebkitTransition",hs="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(fs="WebkitAnimation",ds="webkitAnimationEnd"));var ps=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function vs(t){ps((function(){ps(t)}))}function gs(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),rs(t,e))}function ys(t,e){t._transitionClasses&&w(t._transitionClasses,e),is(t,e)}function ms(t,e,n){var r=xs(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===ls?hs:ds,l=0,c=function(){t.removeEventListener(s,u),n()},u=function(e){e.target===t&&++l>=a&&c()};setTimeout((function(){l<a&&c()}),o+1),t.addEventListener(s,u)}var bs=/\b(transform|all)(,|$)/;function xs(t,e){var n,r=window.getComputedStyle(t),i=(r[us+"Delay"]||"").split(", "),o=(r[us+"Duration"]||"").split(", "),a=ws(i,o),s=(r[fs+"Delay"]||"").split(", "),l=(r[fs+"Duration"]||"").split(", "),c=ws(s,l),u=0,h=0;e===ls?a>0&&(n=ls,u=a,h=o.length):e===cs?c>0&&(n=cs,u=c,h=l.length):(u=Math.max(a,c),n=u>0?a>c?ls:cs:null,h=n?n===ls?o.length:l.length:0);var f=n===ls&&bs.test(r[us+"Property"]);return{type:n,timeout:u,propCount:h,hasTransform:f}}function ws(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return Os(e)+Os(t[n])})))}function Os(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Cs(t,e){var n=t.elm;a(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=os(t.data.transition);if(!o(r)&&!a(n._enterCb)&&1===n.nodeType){var i=r.css,s=r.type,l=r.enterClass,c=r.enterToClass,f=r.enterActiveClass,d=r.appearClass,p=r.appearToClass,v=r.appearActiveClass,g=r.beforeEnter,y=r.enter,b=r.afterEnter,x=r.enterCancelled,w=r.beforeAppear,O=r.appear,C=r.afterAppear,S=r.appearCancelled,_=r.duration,E=Lr,M=Lr.$vnode;while(M&&M.parent)E=M.context,M=M.parent;var k=!E._isMounted||!t.isRootInsert;if(!k||O||""===O){var T=k&&d?d:l,A=k&&v?v:f,L=k&&p?p:c,P=k&&w||g,R=k&&u(O)?O:y,I=k&&C||b,N=k&&S||x,j=m(h(_)?_.enter:_);0;var B=!1!==i&&!nt,D=Es(R),F=n._enterCb=W((function(){B&&(ys(n,L),ys(n,A)),F.cancelled?(B&&ys(n,T),N&&N(n)):I&&I(n),n._enterCb=null}));t.data.show||Fe(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),R&&R(n,F)})),P&&P(n),B&&(gs(n,T),gs(n,A),vs((function(){ys(n,T),F.cancelled||(gs(n,L),D||(_s(j)?setTimeout(F,j):ms(n,s,F)))}))),t.data.show&&(e&&e(),R&&R(n,F)),B||D||F()}}}function Ss(t,e){var n=t.elm;a(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=os(t.data.transition);if(o(r)||1!==n.nodeType)return e();if(!a(n._leaveCb)){var i=r.css,s=r.type,l=r.leaveClass,c=r.leaveToClass,u=r.leaveActiveClass,f=r.beforeLeave,d=r.leave,p=r.afterLeave,v=r.leaveCancelled,g=r.delayLeave,y=r.duration,b=!1!==i&&!nt,x=Es(d),w=m(h(y)?y.leave:y);0;var O=n._leaveCb=W((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),b&&(ys(n,c),ys(n,u)),O.cancelled?(b&&ys(n,l),v&&v(n)):(e(),p&&p(n)),n._leaveCb=null}));g?g(C):C()}function C(){O.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),b&&(gs(n,l),gs(n,u),vs((function(){ys(n,l),O.cancelled||(gs(n,c),x||(_s(w)?setTimeout(O,w):ms(n,s,O)))}))),d&&d(n,O),b||x||O())}}function _s(t){return"number"===typeof t&&!isNaN(t)}function Es(t){if(o(t))return!1;var e=t.fns;return a(e)?Es(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Ms(t,e){!0!==e.data.show&&Cs(e)}var ks=J?{create:Ms,activate:Ms,remove:function(t,e){!0!==t.data.show?Ss(t,e):e()}}:{},Ts=[_a,ka,Da,$a,es,ks],As=Ts.concat(wa),Ls=da({nodeOps:ia,modules:As});nt&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&Fs(t,"input")}));var Ps={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?Fe(n,"postpatch",(function(){Ps.componentUpdated(t,e,n)})):Rs(t,e,n.context),t._vOptions=[].map.call(t.options,js)):("textarea"===n.tag||Go(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Bs),t.addEventListener("compositionend",Ds),t.addEventListener("change",Ds),nt&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Rs(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,js);if(i.some((function(t,e){return!F(t,r[e])}))){var o=t.multiple?e.value.some((function(t){return Ns(t,i)})):e.value!==e.oldValue&&Ns(e.value,i);o&&Fs(t,"change")}}}};function Rs(t,e,n){Is(t,e,n),(et||rt)&&setTimeout((function(){Is(t,e,n)}),0)}function Is(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,l=t.options.length;s<l;s++)if(a=t.options[s],i)o=z(r,js(a))>-1,a.selected!==o&&(a.selected=o);else if(F(js(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function Ns(t,e){return e.every((function(e){return!F(e,t)}))}function js(t){return"_value"in t?t._value:t.value}function Bs(t){t.target.composing=!0}function Ds(t){t.target.composing&&(t.target.composing=!1,Fs(t.target,"input"))}function Fs(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function zs(t){return!t.componentInstance||t.data&&t.data.transition?t:zs(t.componentInstance._vnode)}var Ws={bind:function(t,e,n){var r=e.value;n=zs(n);var i=n.data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,Cs(n,(function(){t.style.display=o}))):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value,i=e.oldValue;if(!r!==!i){n=zs(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,r?Cs(n,(function(){t.style.display=t.__vOriginalDisplay})):Ss(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}},Hs={model:Ps,show:Ws},$s={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Gs(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Gs(Ln(e.children)):t}function Vs(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var r in i)e[E(r)]=i[r];return e}function Ys(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Us(t){while(t=t.parent)if(t.data.transition)return!0}function Xs(t,e){return e.key===t.key&&e.tag===t.tag}var qs=function(t){return t.tag||un(t)},Ks=function(t){return"show"===t.name},Zs={name:"transition",props:$s,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(qs),n.length)){0;var r=this.mode;0;var i=n[0];if(Us(this.$vnode))return i;var o=Gs(i);if(!o)return i;if(this._leaving)return Ys(t,i);var a="__transition-".concat(this._uid,"-");o.key=null==o.key?o.isComment?a+"comment":a+o.tag:c(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var s=(o.data||(o.data={})).transition=Vs(this),l=this._vnode,u=Gs(l);if(o.data.directives&&o.data.directives.some(Ks)&&(o.data.show=!0),u&&u.data&&!Xs(o,u)&&!un(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=I({},s);if("out-in"===r)return this._leaving=!0,Fe(h,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Ys(t,i);if("in-out"===r){if(un(o))return l;var f,d=function(){f()};Fe(s,"afterEnter",d),Fe(s,"enterCancelled",d),Fe(h,"delayLeave",(function(t){f=t}))}}return i}}},Qs=I({tag:String,moveClass:String},$s);delete Qs.mode;var Js={props:Qs,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=Pr(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=Vs(this),s=0;s<i.length;s++){var l=i[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=a;else;}if(r){var c=[],u=[];for(s=0;s<r.length;s++){l=r[s];l.data.transition=a,l.data.pos=l.elm.getBoundingClientRect(),n[l.key]?c.push(l):u.push(l)}this.kept=t(e,null,c),this.removed=u}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(tl),t.forEach(el),t.forEach(nl),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;gs(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(hs,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(hs,t),n._moveCb=null,ys(n,e))})}})))},methods:{hasMove:function(t,e){if(!ss)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){is(n,t)})),rs(n,e),n.style.display="none",this.$el.appendChild(n);var r=xs(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function tl(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function el(t){t.data.newPos=t.elm.getBoundingClientRect()}function nl(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate(".concat(r,"px,").concat(i,"px)"),o.transitionDuration="0s"}}var rl={Transition:Zs,TransitionGroup:Js};ro.config.mustUseProp=wo,ro.config.isReservedTag=zo,ro.config.isReservedAttr=bo,ro.config.getTagNamespace=Wo,ro.config.isUnknownElement=$o,I(ro.options.directives,Hs),I(ro.options.components,rl),ro.prototype.__patch__=J?Ls:j,ro.prototype.$mount=function(t,e){return t=t&&J?Vo(t):void 0,Nr(this,t,e)},J&&setTimeout((function(){Y.devtools&&ht&&ht.emit("init",ro)}),0)},408:function(t,e,n){"use strict";n(7658);
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function r(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:r});else{var n=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[r].concat(t.init):r,n.call(this,t)}}function r(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}var i="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{},o=i.__VUE_DEVTOOLS_GLOBAL_HOOK__;function a(t){o&&(t._devtoolHook=o,o.emit("vuex:init",t),o.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){o.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){o.emit("vuex:action",t,e)}),{prepend:!0}))}function s(t,e){return t.filter(e)[0]}function l(t,e){if(void 0===e&&(e=[]),null===t||"object"!==typeof t)return t;var n=s(e,(function(e){return e.original===t}));if(n)return n.copy;var r=Array.isArray(t)?[]:{};return e.push({original:t,copy:r}),Object.keys(t).forEach((function(n){r[n]=l(t[n],e)})),r}function c(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function u(t){return null!==t&&"object"===typeof t}function h(t){return t&&"function"===typeof t.then}function f(t,e){return function(){return t(e)}}var d=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},p={namespaced:{configurable:!0}};p.namespaced.get=function(){return!!this._rawModule.namespaced},d.prototype.addChild=function(t,e){this._children[t]=e},d.prototype.removeChild=function(t){delete this._children[t]},d.prototype.getChild=function(t){return this._children[t]},d.prototype.hasChild=function(t){return t in this._children},d.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},d.prototype.forEachChild=function(t){c(this._children,t)},d.prototype.forEachGetter=function(t){this._rawModule.getters&&c(this._rawModule.getters,t)},d.prototype.forEachAction=function(t){this._rawModule.actions&&c(this._rawModule.actions,t)},d.prototype.forEachMutation=function(t){this._rawModule.mutations&&c(this._rawModule.mutations,t)},Object.defineProperties(d.prototype,p);var v=function(t){this.register([],t,!1)};function g(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return void 0;g(t.concat(r),e.getChild(r),n.modules[r])}}v.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},v.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")}),"")},v.prototype.update=function(t){g([],this.root,t)},v.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new d(e,n);if(0===t.length)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}e.modules&&c(e.modules,(function(e,i){r.register(t.concat(i),e,n)}))},v.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],r=e.getChild(n);r&&r.runtime&&e.removeChild(n)},v.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var y;var m=function(t){var e=this;void 0===t&&(t={}),!y&&"undefined"!==typeof window&&window.Vue&&P(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new v(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new y,this._makeLocalGettersCache=Object.create(null);var i=this,o=this,s=o.dispatch,l=o.commit;this.dispatch=function(t,e){return s.call(i,t,e)},this.commit=function(t,e,n){return l.call(i,t,e,n)},this.strict=r;var c=this._modules.root.state;C(this,c,[],this._modules.root),O(this,c),n.forEach((function(t){return t(e)}));var u=void 0!==t.devtools?t.devtools:y.config.devtools;u&&a(this)},b={state:{configurable:!0}};function x(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function w(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;C(t,n,[],t._modules.root,!0),O(t,n,e)}function O(t,e,n){var r=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={};c(i,(function(e,n){o[n]=f(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var a=y.config.silent;y.config.silent=!0,t._vm=new y({data:{$$state:e},computed:o}),y.config.silent=a,t.strict&&T(t),r&&(n&&t._withCommit((function(){r._data.$$state=null})),y.nextTick((function(){return r.$destroy()})))}function C(t,e,n,r,i){var o=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=r),!o&&!i){var s=A(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit((function(){y.set(s,l,r.state)}))}var c=r.context=S(t,a,n);r.forEachMutation((function(e,n){var r=a+n;E(t,r,e,c)})),r.forEachAction((function(e,n){var r=e.root?n:a+n,i=e.handler||e;M(t,r,i,c)})),r.forEachGetter((function(e,n){var r=a+n;k(t,r,e,c)})),r.forEachChild((function(r,o){C(t,e,n.concat(o),r,i)}))}function S(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var o=L(n,r,i),a=o.payload,s=o.options,l=o.type;return s&&s.root||(l=e+l),t.dispatch(l,a)},commit:r?t.commit:function(n,r,i){var o=L(n,r,i),a=o.payload,s=o.options,l=o.type;s&&s.root||(l=e+l),t.commit(l,a,s)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return _(t,e)}},state:{get:function(){return A(t.state,n)}}}),i}function _(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function E(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push((function(e){n.call(t,r.state,e)}))}function M(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push((function(e){var i=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return h(i)||(i=Promise.resolve(i)),t._devtoolHook?i.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):i}))}function k(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)})}function T(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function A(t,e){return e.reduce((function(t,e){return t[e]}),t)}function L(t,e,n){return u(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function P(t){y&&t===y||(y=t,r(y))}b.state.get=function(){return this._vm._data.$$state},b.state.set=function(t){0},m.prototype.commit=function(t,e,n){var r=this,i=L(t,e,n),o=i.type,a=i.payload,s=(i.options,{type:o,payload:a}),l=this._mutations[o];l&&(this._withCommit((function(){l.forEach((function(t){t(a)}))})),this._subscribers.slice().forEach((function(t){return t(s,r.state)})))},m.prototype.dispatch=function(t,e){var n=this,r=L(t,e),i=r.type,o=r.payload,a={type:i,payload:o},s=this._actions[i];if(s){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(a,n.state)}))}catch(c){0}var l=s.length>1?Promise.all(s.map((function(t){return t(o)}))):s[0](o);return new Promise((function(t,e){l.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(a,n.state)}))}catch(c){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(a,n.state,t)}))}catch(c){0}e(t)}))}))}},m.prototype.subscribe=function(t,e){return x(t,this._subscribers,e)},m.prototype.subscribeAction=function(t,e){var n="function"===typeof t?{before:t}:t;return x(n,this._actionSubscribers,e)},m.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch((function(){return t(r.state,r.getters)}),e,n)},m.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},m.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),C(this,this.state,t,this._modules.get(t),n.preserveState),O(this,this.state)},m.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=A(e.state,t.slice(0,-1));y.delete(n,t[t.length-1])})),w(this)},m.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},m.prototype.hotUpdate=function(t){this._modules.update(t),w(this,!0)},m.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(m.prototype,b);var R=z((function(t,e){var n={};return D(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=W(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,e,n):e[i]},n[r].vuex=!0})),n})),I=z((function(t,e){var n={};return D(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.commit;if(t){var o=W(this.$store,"mapMutations",t);if(!o)return;r=o.context.commit}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),N=z((function(t,e){var n={};return D(e).forEach((function(e){var r=e.key,i=e.val;i=t+i,n[r]=function(){if(!t||W(this.$store,"mapGetters",t))return this.$store.getters[i]},n[r].vuex=!0})),n})),j=z((function(t,e){var n={};return D(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var o=W(this.$store,"mapActions",t);if(!o)return;r=o.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n})),B=function(t){return{mapState:R.bind(null,t),mapGetters:N.bind(null,t),mapMutations:I.bind(null,t),mapActions:j.bind(null,t)}};function D(t){return F(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function F(t){return Array.isArray(t)||u(t)}function z(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function W(t,e,n){var r=t._modulesNamespaceMap[n];return r}function H(t){void 0===t&&(t={});var e=t.collapsed;void 0===e&&(e=!0);var n=t.filter;void 0===n&&(n=function(t,e,n){return!0});var r=t.transformer;void 0===r&&(r=function(t){return t});var i=t.mutationTransformer;void 0===i&&(i=function(t){return t});var o=t.actionFilter;void 0===o&&(o=function(t,e){return!0});var a=t.actionTransformer;void 0===a&&(a=function(t){return t});var s=t.logMutations;void 0===s&&(s=!0);var c=t.logActions;void 0===c&&(c=!0);var u=t.logger;return void 0===u&&(u=console),function(t){var h=l(t.state);"undefined"!==typeof u&&(s&&t.subscribe((function(t,o){var a=l(o);if(n(t,h,a)){var s=V(),c=i(t),f="mutation "+t.type+s;$(u,f,e),u.log("%c prev state","color: #9E9E9E; font-weight: bold",r(h)),u.log("%c mutation","color: #03A9F4; font-weight: bold",c),u.log("%c next state","color: #4CAF50; font-weight: bold",r(a)),G(u)}h=a})),c&&t.subscribeAction((function(t,n){if(o(t,n)){var r=V(),i=a(t),s="action "+t.type+r;$(u,s,e),u.log("%c action","color: #03A9F4; font-weight: bold",i),G(u)}})))}}function $(t,e,n){var r=n?t.groupCollapsed:t.group;try{r.call(t,e)}catch(i){t.log(e)}}function G(t){try{t.groupEnd()}catch(e){t.log("—— log end ——")}}function V(){var t=new Date;return" @ "+U(t.getHours(),2)+":"+U(t.getMinutes(),2)+":"+U(t.getSeconds(),2)+"."+U(t.getMilliseconds(),3)}function Y(t,e){return new Array(e+1).join(t)}function U(t,e){return Y("0",e-t.toString().length)+t}var X={Store:m,install:P,version:"3.6.2",mapState:R,mapMutations:I,mapGetters:N,mapActions:j,createNamespacedHelpers:B,createLogger:H};e.ZP=X},9662:function(t,e,n){var r=n(614),i=n(6330),o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not a function")}},6077:function(t,e,n){var r=n(614),i=String,o=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw o("Can't set "+i(t)+" as a prototype")}},9670:function(t,e,n){var r=n(111),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not an object")}},3013:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(t,e,n){"use strict";var r,i,o,a=n(3013),s=n(9781),l=n(7854),c=n(614),u=n(111),h=n(2597),f=n(648),d=n(6330),p=n(8880),v=n(8052),g=n(7045),y=n(7976),m=n(9518),b=n(7674),x=n(5112),w=n(9711),O=n(9909),C=O.enforce,S=O.get,_=l.Int8Array,E=_&&_.prototype,M=l.Uint8ClampedArray,k=M&&M.prototype,T=_&&m(_),A=E&&m(E),L=Object.prototype,P=l.TypeError,R=x("toStringTag"),I=w("TYPED_ARRAY_TAG"),N="TypedArrayConstructor",j=a&&!!b&&"Opera"!==f(l.opera),B=!1,D={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},F={BigInt64Array:8,BigUint64Array:8},z=function(t){if(!u(t))return!1;var e=f(t);return"DataView"===e||h(D,e)||h(F,e)},W=function(t){var e=m(t);if(u(e)){var n=S(e);return n&&h(n,N)?n[N]:W(e)}},H=function(t){if(!u(t))return!1;var e=f(t);return h(D,e)||h(F,e)},$=function(t){if(H(t))return t;throw P("Target is not a typed array")},G=function(t){if(c(t)&&(!b||y(T,t)))return t;throw P(d(t)+" is not a typed array constructor")},V=function(t,e,n,r){if(s){if(n)for(var i in D){var o=l[i];if(o&&h(o.prototype,t))try{delete o.prototype[t]}catch(a){try{o.prototype[t]=e}catch(c){}}}A[t]&&!n||v(A,t,n?e:j&&E[t]||e,r)}},Y=function(t,e,n){var r,i;if(s){if(b){if(n)for(r in D)if(i=l[r],i&&h(i,t))try{delete i[t]}catch(o){}if(T[t]&&!n)return;try{return v(T,t,n?e:j&&T[t]||e)}catch(o){}}for(r in D)i=l[r],!i||i[t]&&!n||v(i,t,e)}};for(r in D)i=l[r],o=i&&i.prototype,o?C(o)[N]=i:j=!1;for(r in F)i=l[r],o=i&&i.prototype,o&&(C(o)[N]=i);if((!j||!c(T)||T===Function.prototype)&&(T=function(){throw P("Incorrect invocation")},j))for(r in D)l[r]&&b(l[r],T);if((!j||!A||A===L)&&(A=T.prototype,j))for(r in D)l[r]&&b(l[r].prototype,A);if(j&&m(k)!==A&&b(k,A),s&&!h(A,R))for(r in B=!0,g(A,R,{configurable:!0,get:function(){return u(this)?this[I]:void 0}}),D)l[r]&&p(l[r],I,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:j,TYPED_ARRAY_TAG:B&&I,aTypedArray:$,aTypedArrayConstructor:G,exportTypedArrayMethod:V,exportTypedArrayStaticMethod:Y,getTypedArrayConstructor:W,isView:z,isTypedArray:H,TypedArray:T,TypedArrayPrototype:A}},7745:function(t,e,n){var r=n(6244);t.exports=function(t,e){var n=0,i=r(e),o=new t(i);while(i>n)o[n]=e[n++];return o}},1318:function(t,e,n){var r=n(5656),i=n(1400),o=n(6244),a=function(t){return function(e,n,a){var s,l=r(e),c=o(l),u=i(a,c);if(t&&n!=n){while(c>u)if(s=l[u++],s!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},3658:function(t,e,n){"use strict";var r=n(9781),i=n(3157),o=TypeError,a=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(i(t)&&!a(t,"length").writable)throw o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},206:function(t,e,n){var r=n(1702);t.exports=r([].slice)},1843:function(t,e,n){var r=n(6244);t.exports=function(t,e){for(var n=r(t),i=new e(n),o=0;o<n;o++)i[o]=t[n-o-1];return i}},1572:function(t,e,n){var r=n(6244),i=n(9303),o=RangeError;t.exports=function(t,e,n,a){var s=r(t),l=i(n),c=l<0?s+l:l;if(c>=s||c<0)throw o("Incorrect index");for(var u=new e(s),h=0;h<s;h++)u[h]=h===c?a:t[h];return u}},4326:function(t,e,n){var r=n(1702),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},648:function(t,e,n){var r=n(1694),i=n(614),o=n(4326),a=n(5112),s=a("toStringTag"),l=Object,c="Arguments"==o(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(n){}};t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(e=l(t),s))?n:c?o(e):"Object"==(r=o(e))&&i(e.callee)?"Arguments":r}},9920:function(t,e,n){var r=n(2597),i=n(3887),o=n(1236),a=n(3070);t.exports=function(t,e,n){for(var s=i(e),l=a.f,c=o.f,u=0;u<s.length;u++){var h=s[u];r(t,h)||n&&r(n,h)||l(t,h,c(e,h))}}},8544:function(t,e,n){var r=n(7293);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},8880:function(t,e,n){var r=n(9781),i=n(3070),o=n(9114);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7045:function(t,e,n){var r=n(6339),i=n(3070);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),i.f(t,e,n)}},8052:function(t,e,n){var r=n(614),i=n(3070),o=n(6339),a=n(3072);t.exports=function(t,e,n,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:e;if(r(n)&&o(n,c,s),s.global)l?t[e]=n:a(e,n);else{try{s.unsafe?t[e]&&(l=!0):delete t[e]}catch(u){}l?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},3072:function(t,e,n){var r=n(7854),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},9781:function(t,e,n){var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(t){var e="object"==typeof document&&document.all,n="undefined"==typeof e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},317:function(t,e,n){var r=n(7854),i=n(111),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},7207:function(t){var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},9363:function(t){t.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},6833:function(t,e,n){var r=n(8113);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:function(t,e,n){var r=n(4326);t.exports="undefined"!=typeof process&&"process"==r(process)},8113:function(t){t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:function(t,e,n){var r,i,o=n(7854),a=n(8113),s=o.process,l=o.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(r=u.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),t.exports=i},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,n){var r=n(7854),i=n(1236).f,o=n(8880),a=n(8052),s=n(3072),l=n(9920),c=n(4705);t.exports=function(t,e){var n,u,h,f,d,p,v=t.target,g=t.global,y=t.stat;if(u=g?r:y?r[v]||s(v,{}):(r[v]||{}).prototype,u)for(h in e){if(d=e[h],t.dontCallGetSet?(p=i(u,h),f=p&&p.value):f=u[h],n=c(g?h:v+(y?".":"#")+h,t.forced),!n&&void 0!==f){if(typeof d==typeof f)continue;l(d,f)}(t.sham||f&&f.sham)&&o(d,"sham",!0),a(u,h,d,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},2104:function(t,e,n){var r=n(4374),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},9974:function(t,e,n){var r=n(1470),i=n(9662),o=n(4374),a=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},4374:function(t,e,n){var r=n(7293);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,n){var r=n(4374),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(t,e,n){var r=n(9781),i=n(2597),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),l=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},5668:function(t,e,n){var r=n(1702),i=n(9662);t.exports=function(t,e,n){try{return r(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(o){}}},1470:function(t,e,n){var r=n(4326),i=n(1702);t.exports=function(t){if("Function"===r(t))return i(t)}},1702:function(t,e,n){var r=n(4374),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);t.exports=r?a:function(t){return function(){return o.apply(t,arguments)}}},5005:function(t,e,n){var r=n(7854),i=n(614),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},8173:function(t,e,n){var r=n(9662),i=n(8554);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},7854:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},2597:function(t,e,n){var r=n(1702),i=n(7908),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},3501:function(t){t.exports={}},490:function(t,e,n){var r=n(5005);t.exports=r("document","documentElement")},4664:function(t,e,n){var r=n(9781),i=n(7293),o=n(317);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){var r=n(1702),i=n(7293),o=n(4326),a=Object,s=r("".split);t.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?s(t,""):a(t)}:a},2788:function(t,e,n){var r=n(1702),i=n(614),o=n(5465),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},9909:function(t,e,n){var r,i,o,a=n(4811),s=n(7854),l=n(111),c=n(8880),u=n(2597),h=n(5465),f=n(6200),d=n(3501),p="Object already initialized",v=s.TypeError,g=s.WeakMap,y=function(t){return o(t)?i(t):r(t,{})},m=function(t){return function(e){var n;if(!l(e)||(n=i(e)).type!==t)throw v("Incompatible receiver, "+t+" required");return n}};if(a||h.state){var b=h.state||(h.state=new g);b.get=b.get,b.has=b.has,b.set=b.set,r=function(t,e){if(b.has(t))throw v(p);return e.facade=t,b.set(t,e),e},i=function(t){return b.get(t)||{}},o=function(t){return b.has(t)}}else{var x=f("state");d[x]=!0,r=function(t,e){if(u(t,x))throw v(p);return e.facade=t,c(t,x,e),e},i=function(t){return u(t,x)?t[x]:{}},o=function(t){return u(t,x)}}t.exports={set:r,get:i,has:o,enforce:y,getterFor:m}},3157:function(t,e,n){var r=n(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},4067:function(t,e,n){var r=n(648);t.exports=function(t){var e=r(t);return"BigInt64Array"==e||"BigUint64Array"==e}},614:function(t,e,n){var r=n(4154),i=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===i}:function(t){return"function"==typeof t}},4705:function(t,e,n){var r=n(7293),i=n(614),o=/#|\.prototype\./,a=function(t,e){var n=l[s(t)];return n==u||n!=c&&(i(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";t.exports=a},8554:function(t){t.exports=function(t){return null===t||void 0===t}},111:function(t,e,n){var r=n(614),i=n(4154),o=i.all;t.exports=i.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===o}:function(t){return"object"==typeof t?null!==t:r(t)}},1913:function(t){t.exports=!1},2190:function(t,e,n){var r=n(5005),i=n(614),o=n(7976),a=n(3307),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,s(t))}},6244:function(t,e,n){var r=n(7466);t.exports=function(t){return r(t.length)}},6339:function(t,e,n){var r=n(1702),i=n(7293),o=n(614),a=n(2597),s=n(9781),l=n(6530).CONFIGURABLE,c=n(2788),u=n(9909),h=u.enforce,f=u.get,d=String,p=Object.defineProperty,v=r("".slice),g=r("".replace),y=r([].join),m=s&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),b=String(String).split("String"),x=t.exports=function(t,e,n){"Symbol("===v(d(e),0,7)&&(e="["+g(d(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!a(t,"name")||l&&t.name!==e)&&(s?p(t,"name",{value:e,configurable:!0}):t.name=e),m&&n&&a(n,"arity")&&t.length!==n.arity&&p(t,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(i){}var r=h(t);return a(r,"source")||(r.source=y(b,"string"==typeof e?e:"")),t};Function.prototype.toString=x((function(){return o(this)&&f(this).source||c(this)}),"toString")},4758:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},3070:function(t,e,n){var r=n(9781),i=n(4664),o=n(3353),a=n(9670),s=n(4948),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",f="configurable",d="writable";e.f=r?o?function(t,e,n){if(a(t),e=s(e),a(n),"function"===typeof t&&"prototype"===e&&"value"in n&&d in n&&!n[d]){var r=u(t,e);r&&r[d]&&(t[e]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:h in n?n[h]:r[h],writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(a(t),e=s(e),a(n),i)try{return c(t,e,n)}catch(r){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var r=n(9781),i=n(6916),o=n(5296),a=n(9114),s=n(5656),l=n(4948),c=n(2597),u=n(4664),h=Object.getOwnPropertyDescriptor;e.f=r?h:function(t,e){if(t=s(t),e=l(e),u)try{return h(t,e)}catch(n){}if(c(t,e))return a(!i(o.f,t,e),t[e])}},8006:function(t,e,n){var r=n(6324),i=n(748),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var r=n(2597),i=n(614),o=n(7908),a=n(6200),s=n(8544),l=a("IE_PROTO"),c=Object,u=c.prototype;t.exports=s?c.getPrototypeOf:function(t){var e=o(t);if(r(e,l))return e[l];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof c?u:null}},7976:function(t,e,n){var r=n(1702);t.exports=r({}.isPrototypeOf)},6324:function(t,e,n){var r=n(1702),i=n(2597),o=n(5656),a=n(1318).indexOf,s=n(3501),l=r([].push);t.exports=function(t,e){var n,r=o(t),c=0,u=[];for(n in r)!i(s,n)&&i(r,n)&&l(u,n);while(e.length>c)i(r,n=e[c++])&&(~a(u,n)||l(u,n));return u}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},7674:function(t,e,n){var r=n(5668),i=n(9670),o=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=r(Object.prototype,"__proto__","set"),t(n,[]),e=n instanceof Array}catch(a){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},2140:function(t,e,n){var r=n(6916),i=n(614),o=n(111),a=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&i(n=t.toString)&&!o(s=r(n,t)))return s;if(i(n=t.valueOf)&&!o(s=r(n,t)))return s;if("string"!==e&&i(n=t.toString)&&!o(s=r(n,t)))return s;throw a("Can't convert object to primitive value")}},3887:function(t,e,n){var r=n(5005),i=n(1702),o=n(8006),a=n(5181),s=n(9670),l=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=a.f;return n?l(e,n(t)):e}},4488:function(t,e,n){var r=n(8554),i=TypeError;t.exports=function(t){if(r(t))throw i("Can't call method on "+t);return t}},7152:function(t,e,n){"use strict";var r=n(7854),i=n(2104),o=n(614),a=n(9363),s=n(8113),l=n(206),c=n(8053),u=r.Function,h=/MSIE .\./.test(s)||a&&function(){var t=r.Bun.version.split(".");return t.length<3||0==t[0]&&(t[1]<3||3==t[1]&&0==t[2])}();t.exports=function(t,e){var n=e?2:1;return h?function(r,a){var s=c(arguments.length,1)>n,h=o(r)?r:u(r),f=s?l(arguments,n):[],d=s?function(){i(h,this,f)}:h;return e?t(d,a):t(d)}:t}},6200:function(t,e,n){var r=n(2309),i=n(9711),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},5465:function(t,e,n){var r=n(7854),i=n(3072),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},2309:function(t,e,n){var r=n(1913),i=n(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.31.1",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:function(t,e,n){var r=n(7392),i=n(7293),o=n(7854),a=o.String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!a(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},261:function(t,e,n){var r,i,o,a,s=n(7854),l=n(2104),c=n(9974),u=n(614),h=n(2597),f=n(7293),d=n(490),p=n(206),v=n(317),g=n(8053),y=n(6833),m=n(5268),b=s.setImmediate,x=s.clearImmediate,w=s.process,O=s.Dispatch,C=s.Function,S=s.MessageChannel,_=s.String,E=0,M={},k="onreadystatechange";f((function(){r=s.location}));var T=function(t){if(h(M,t)){var e=M[t];delete M[t],e()}},A=function(t){return function(){T(t)}},L=function(t){T(t.data)},P=function(t){s.postMessage(_(t),r.protocol+"//"+r.host)};b&&x||(b=function(t){g(arguments.length,1);var e=u(t)?t:C(t),n=p(arguments,1);return M[++E]=function(){l(e,void 0,n)},i(E),E},x=function(t){delete M[t]},m?i=function(t){w.nextTick(A(t))}:O&&O.now?i=function(t){O.now(A(t))}:S&&!y?(o=new S,a=o.port2,o.port1.onmessage=L,i=c(a.postMessage,a)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!f(P)?(i=P,s.addEventListener("message",L,!1)):i=k in v("script")?function(t){d.appendChild(v("script"))[k]=function(){d.removeChild(this),T(t)}}:function(t){setTimeout(A(t),0)}),t.exports={set:b,clear:x}},1400:function(t,e,n){var r=n(9303),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},4599:function(t,e,n){var r=n(7593),i=TypeError;t.exports=function(t){var e=r(t,"number");if("number"==typeof e)throw i("Can't convert number to bigint");return BigInt(e)}},5656:function(t,e,n){var r=n(8361),i=n(4488);t.exports=function(t){return r(i(t))}},9303:function(t,e,n){var r=n(4758);t.exports=function(t){var e=+t;return e!==e||0===e?0:r(e)}},7466:function(t,e,n){var r=n(9303),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},7908:function(t,e,n){var r=n(4488),i=Object;t.exports=function(t){return i(r(t))}},7593:function(t,e,n){var r=n(6916),i=n(111),o=n(2190),a=n(8173),s=n(2140),l=n(5112),c=TypeError,u=l("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,l=a(t,u);if(l){if(void 0===e&&(e="default"),n=r(l,t,e),!i(n)||o(n))return n;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},4948:function(t,e,n){var r=n(7593),i=n(2190);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},1694:function(t,e,n){var r=n(5112),i=r("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},1340:function(t,e,n){var r=n(648),i=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},6330:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},9711:function(t,e,n){var r=n(1702),i=0,o=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},3307:function(t,e,n){var r=n(6293);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){var r=n(9781),i=n(7293);t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:function(t){var e=TypeError;t.exports=function(t,n){if(t<n)throw e("Not enough arguments");return t}},4811:function(t,e,n){var r=n(7854),i=n(614),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},5112:function(t,e,n){var r=n(7854),i=n(2309),o=n(2597),a=n(9711),s=n(6293),l=n(3307),c=r.Symbol,u=i("wks"),h=l?c["for"]||c:c&&c.withoutSetter||a;t.exports=function(t){return o(u,t)||(u[t]=s&&o(c,t)?c[t]:h("Symbol."+t)),u[t]}},7658:function(t,e,n){"use strict";var r=n(2109),i=n(7908),o=n(6244),a=n(3658),s=n(7207),l=n(7293),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},h=c||!u();r({target:"Array",proto:!0,arity:1,forced:h},{push:function(t){var e=i(this),n=o(e),r=arguments.length;s(n+r);for(var l=0;l<r;l++)e[n]=arguments[l],n++;return a(e,n),n}})},1439:function(t,e,n){"use strict";var r=n(1843),i=n(260),o=i.aTypedArray,a=i.exportTypedArrayMethod,s=i.getTypedArrayConstructor;a("toReversed",(function(){return r(o(this),s(this))}))},7585:function(t,e,n){"use strict";var r=n(260),i=n(1702),o=n(9662),a=n(7745),s=r.aTypedArray,l=r.getTypedArrayConstructor,c=r.exportTypedArrayMethod,u=i(r.TypedArrayPrototype.sort);c("toSorted",(function(t){void 0!==t&&o(t);var e=s(this),n=a(l(e),e);return u(n,t)}))},5315:function(t,e,n){"use strict";var r=n(1572),i=n(260),o=n(4067),a=n(9303),s=n(4599),l=i.aTypedArray,c=i.getTypedArrayConstructor,u=i.exportTypedArrayMethod,h=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();u("with",{with:function(t,e){var n=l(this),i=a(t),u=o(n)?s(e):+e;return r(n,c(n),i,u)}}["with"],!h)},1091:function(t,e,n){var r=n(2109),i=n(7854),o=n(261).clear;r({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==o},{clearImmediate:o})},4633:function(t,e,n){n(1091),n(2986)},2986:function(t,e,n){var r=n(2109),i=n(7854),o=n(261).set,a=n(7152),s=i.setImmediate?a(o,!1):o;r({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==s},{setImmediate:s})},6229:function(t,e,n){"use strict";var r=n(8052),i=n(1702),o=n(1340),a=n(8053),s=URLSearchParams,l=s.prototype,c=i(l.append),u=i(l["delete"]),h=i(l.forEach),f=i([].push),d=new s("a=1&a=2");d["delete"]("a",1),d+""!=="a=2"&&r(l,"delete",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return u(this,t);var r=[];h(this,(function(t,e){f(r,{key:e,value:t})})),a(e,1);var i,s=o(t),l=o(n),d=0,p=0,v=!1,g=r.length;while(d<g)i=r[d++],v||i.key===s?(v=!0,u(this,i.key)):p++;while(p<g)i=r[p++],i.key===s&&i.value===l||c(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},7330:function(t,e,n){"use strict";var r=n(8052),i=n(1702),o=n(1340),a=n(8053),s=URLSearchParams,l=s.prototype,c=i(l.getAll),u=i(l.has),h=new s("a=1");h.has("a",2)&&r(l,"has",(function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return u(this,t);var r=c(this,t);a(e,1);var i=o(n),s=0;while(s<r.length)if(r[s++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},2062:function(t,e,n){"use strict";var r=n(9781),i=n(1702),o=n(7045),a=URLSearchParams.prototype,s=i(a.forEach);r&&!("size"in a)&&o(a,"size",{get:function(){var t=0;return s(this,(function(){t++})),t},configurable:!0,enumerable:!0})}}]);
//# sourceMappingURL=chunk-vendors.a4304291.js.map